[
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 3,
        "title": "引擎补齐：allclose argmax argmin assign atan2",
        "body": "为allclose argmax argmin assign atan2五个api进行了适配\r\n其中allclose在未修改的情况下运行就能通过",
        "issue_number": "3",
        "state": "closed",
        "merged": false,
        "user": "mzj104",
        "merged_by": null,
        "created_at": "2025-03-27T14:06:50+00:00",
        "closed_at": "2025-03-28T09:48:21+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 4,
        "title": "由于加入--test_amp 使得api_config_merged_not_support_amp.txt文件中的api都获得了修复",
        "body": "具体包含：\r\npaddle.add_n\r\npaddle.concat\r\npaddle.einsum\r\npaddle.exp\r\npaddle.incubate.nn.functional.swiglu\r\npaddle.matmul\r\npaddle.mm\r\npaddle.nn.functional.binary_cross_entropy_with_logits\r\npaddle.nn.functional.conv1d\r\npaddle.nn.functional.conv2d_transpose\r\npaddle.nn.functional.linear\r\npaddle.nn.functional.sigmoid_focal_loss\r\npaddle.Tensor.matmul\r\npaddle.vision.ops.deform_conv2d\r\npaddle.vision.ops.generate_proposals\r\npaddle.atan2\r\n共16个api",
        "issue_number": "4",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-03-28T08:31:55+00:00",
        "closed_at": "2025-03-28T08:37:50+00:00",
        "additions": 3886,
        "deletions": 3886,
        "changed_files": 2,
        "commits": [
            "98886d385ff1b807e919e3e04bcfe17aa7cac17f",
            "c8f664423342eaee921dca3aaf6b21f73bf1a65f"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 9,
        "title": "引擎补齐：isfinite isinf isnan log logaddexp logspace",
        "body": "### 修改动机：\r\n\r\n经检查， isfinite isinf isnan log logaddexp 直接通过测试； logspace 的 num 参数随机生成为 num > 0 即可\r\n\r\n### 主要修改：\r\n\r\n***config_analyzer.py*** ：\r\n\r\n- get_numpy_tensor 方法中增加了对 paddle.logspace 的分支处理\r\n- 增加了辅助函数，便于直接 *判断参数匹配* 或 *获取相应参数* ，并简化了之前代码的相应逻辑\r\n  - check_arg(self, api_config, arg_pos=None, arg_name=None): Checks if the argument in api_config matches this instance\r\n  - get_arg(self, api_config, arg_pos=None, arg_name=None) : Get the argument value from the api_config\r\n\r\n***base.py*** ：\r\n\r\n- _handle_axis_param 方法重命名为 _handle_axis_arg\r\n\r\n### 修改结果：\r\n\r\n相关配置的 paddle_only 测试均通过，并全部移入 api_config_merged_7\r\n\r\n![image](https://github.com/user-attachments/assets/222d711d-efb9-4e57-8f9f-ffbaf82ccb8b)\r\n",
        "issue_number": "9",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-02T08:32:35+00:00",
        "closed_at": "2025-04-02T09:00:18+00:00",
        "additions": 52,
        "deletions": 50,
        "changed_files": 4,
        "commits": [
            "56bf38b725b0cb71a342e377d26635737a1a0edb"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 12,
        "title": "【BIT】引擎能力补齐：paddle.linalg.[cholesky cov eigh lstsq]",
        "body": "### 修改动机：\r\n\r\n`paddle.linalg.*` 相关 api 需要生成符合要求的矩阵，如对称正定矩阵等，并且维度数需满足要求。使用 `numpy.random` 库随机生成了这些矩阵，并增加了分支处理。测试中， `paddle.linalg.[cholesky cov lstsq]` 通过了测试， `paddle.linalg.eigh` 因为测试用例是 0-size tensor 且 api 不支持，因此测试不通过（但是正常 tensor 可通过测试，如 `paddle.linalg.eigh(Tensor([2, 2],\"float32\"), )` ）\r\n\r\n### 主要修改：\r\n\r\n**config_analyzer.py** ：\r\n\r\n- `get_numpy_tensor` 方法中增加了对 `paddle.linalg.[cholesky cov eigh lstsq]` 的分支处理\r\n- 修复了辅助函数 `check_arg` 与 `get_arg` ，避免 `arg_pos == 0` 的 bug\r\n\r\n### 修改结果：\r\n\r\n`paddle.linalg.[cholesky cov lstsq]` 相关配置的 paddle_only 测试均通过，并全部移入 api_config_merged_7\r\n\r\n![image](https://github.com/user-attachments/assets/ee171f25-25cb-45b0-bf9c-ac244329b3e7)\r\n\r\n`paddle.linalg.eigh` 的 0-size tensor 配置测试未通过\r\n\r\n![image](https://github.com/user-attachments/assets/25981da7-43a4-4146-90c6-11638441a957)",
        "issue_number": "12",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-03T03:14:04+00:00",
        "closed_at": "2025-04-03T06:18:43+00:00",
        "additions": 95,
        "deletions": 22,
        "changed_files": 4,
        "commits": [
            "268026a918b075f47b4c0ae238820876b3013d37",
            "27481dcce871b6d3ec0a9a2c38aaf521a33aa045",
            "50f67a394eeb3019126fd66d12438afb39d025bb"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 11,
        "title": "[BIT] 引擎能力补齐：arange reshape",
        "body": "# arange\r\n**主要问题**\r\nstep不能等于0\r\n**具体做法**\r\n判断当前元素是否为step：\r\n- 如果tensor数量等于3说明第三个tensor为step \r\n- 如果有“step”变量 说明有step\r\n\r\n对step进行特判 防止生成0的变量\r\n# reshape\r\n**主要问题**\r\nreshape后的元素数量要保持和原有的tensor元素数量相同\r\n**具体做法**\r\n添加 maxvalue fix index key变量\r\n- maxvalue：生成随机数的上限，由第一个tensor的numel进行初始化\r\n- fix：是否生成随机数，如果为true 则不产生随机变量 当当前为最后一个tensor则fix为true保证shape大小固定\r\n- index：如果为args变量，则为其在args中的变量值 否则为-2\r\n- key：如果为kwargs变量，则为其key值 否则为字符串 “null”\r\n\r\n首先区分是tensor、list和tuple类型中的哪一个，根据maxvalue与fix对tensor进行赋值\r\n**未通过样例**\r\n- paddle.reshape(Tensor([4, 256, 7332],\"float32\"), tuple(0,256,Tensor([],\"int64\"),Tensor([],\"int64\"),), )\r\n- paddle.reshape(Tensor([],\"float32\"), Tensor([0],\"int64\"), )\r\n\r\n原因：shape中存在0 是非法样例\r\n # 其他修复\r\n- full的dtype在前面没有定义 应该为self.dtype\r\n- check_args 应该先对kwargs进行查找 否则arange会出现问题\r\n- ",
        "issue_number": "11",
        "state": "closed",
        "merged": false,
        "user": "cszdrg",
        "merged_by": null,
        "created_at": "2025-04-02T12:36:37+00:00",
        "closed_at": "2025-04-07T08:24:39+00:00",
        "additions": 163,
        "deletions": 52,
        "changed_files": 5,
        "commits": [
            "156ffdf2339fa93f9081a254873b65f87a619ea4",
            "42c7b1dc5712018036e2da7a58a0010408605bb7",
            "f40601e34b65545d07b6535a4a02340e2c5eb1f5",
            "4ee21920d7709d2fb37ad54815d6805180c5cb42",
            "0eea8a6e5be3c449f176035c83598927e7c6bf6a",
            "782136a02be09fb00a0e25635090fbf861d9571d",
            "ec9d42018018805ddf91c063f2e699a97e18f7c9",
            "d66753ebedaf73f6151c6f6757dbc5eb0ae87aaf",
            "bc2f49fc894436928dd821de99420667c1e089f0",
            "a5bf30d570d7396a0412cc13f47ae5c7cbaaef8a",
            "f3fb727401560257822fa51fce03f99b2726b933",
            "a40c9411b910f3b98df42ba1843002dfd8e40821"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 7,
        "title": "引擎补齐：mean max min sum prod squeeze square unsqueeze split stack",
        "body": "此 PR 基于 https://github.com/PFCCLab/PaddleAPITest/pull/6 开发，关于 引擎补齐：mean max min sum prod 的修改描述详见 https://github.com/PFCCLab/PaddleAPITest/pull/6\r\n\r\n以下描述为 引擎补齐：squeeze square unsqueeze split stack\r\n\r\n### 修改动机：\r\n\r\n经检查， square 直接通过测试， squeeze 可直接复用 generate_random_axes 方法，stack 配置格式有误、修改后通过测试。对于 unsqueeze ，其 axis 范围为 [- max_dim - 1, max_dim + 1) ，需修改轴值生成方法。对于 split ，因为 num_or_sections 参数的存在，需要推测 axis 参数的数值，而不是随机生成。\r\n\r\n- 若 num_or_sections 为整数，则遍历寻找能被 num 整除的维度大小，并将 axis 设置到对应维度\r\n- 若 num_or_sections 为列表，则遍历寻找大于 sections 之和的维度大小，并将 axis 设置到对应维度\r\n\r\n### 主要修改：\r\n\r\n***config_analyzer.py*** ：\r\n- generate_random_reduce_axes 重命名为 generate_random_axes\r\n- get_numpy_tensor 方法中增加了对 paddle.squeeze、paddle.split、paddle.unsqueeze 的分支处理\r\n\r\n***base.py*** ：\r\n- need_reduce_api 列表重命名为 handle_axes_api\r\n\r\n### 修改结果：\r\n\r\n相关配置的 paddle_only 测试均通过，并全部移入 api_config_merged_7\r\n\r\n![image](https://github.com/user-attachments/assets/25da6f07-3b28-40ce-90c6-3301f5f36b74)\r\n",
        "issue_number": "7",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-03-30T05:34:08+00:00",
        "closed_at": "2025-04-02T07:06:40+00:00",
        "additions": 273,
        "deletions": 75,
        "changed_files": 4,
        "commits": [
            "d6b26717b425ae6d5299ad9bf329c5ece84ae690",
            "50c34f79618c6c762679320a31f333a02fd8b754",
            "7d6516a7b9e18379cb1cfe2a7fd4bc19e1489fb6",
            "de71996f3bfdee0033568941084194d1341a177f",
            "cfc1eb9a845253a2d55e1db0da1b21fb247858c4"
        ],
        "comment_by": [
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 13,
        "title": "【BIT】引擎能力补齐：cast chunk full_like ones sign",
        "body": "## 修改内容\r\n### paddle.cast\r\n**修改依据**：相关配置中使用了已废弃的 numpy.bool 类型。在 NumPy 1.20 版本后，numpy.bool 被标记为已废弃  \r\n**改正方法**：在 get_numpy_type 方法中，将 type(numpy.bool) 替换为 type(numpy.bool_)\r\n\r\n### paddle.chunk\r\n**修改依据**：当调用 paddle.chunk API 时，如果 axis 参数作为 Tensor 传入，axis 参数需要指向一个能被 chunks 整除的维度  \r\n**改正方法**：确保选择的 axis 值指向可以被 chunks 整除的维度\r\n\r\n### paddle.full_like\r\n**修改依据**：与 paddle.cast 相同，由于 numpy.bool 在 Numpy 1.2 后已经废弃  \r\n**改正方法**：同步替换为 numpy.bool_\r\n\r\n### paddle.ones\r\n**修改依据**：paddle.ones 在使用由 Tensor 组成的列表作为 shape 参数时出错，报告 shape[2] 的值为负数 -32797，而 shape 的每个值必须大于等于 0  \r\n**改正方法**：确保当用于 shape 参数的 Tensor 列表中的每个值都为正数\r\n\r\n### paddle.sign\r\n**状态说明**：可以直接通过，对初始化无额外要求\r\n\r\n相关配置的 paddle_only 测试均通过，并全部移入 api_config_merged_10.txt\r\n<img width=\"700\" alt=\"截屏2025-04-03 14 57 06\" src=\"https://github.com/user-attachments/assets/ae7c9541-c309-48de-b583-a85c3b8a8bb8\" />\r\n",
        "issue_number": "13",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-03T07:22:39+00:00",
        "closed_at": "2025-04-03T07:25:42+00:00",
        "additions": 64,
        "deletions": 23,
        "changed_files": 3,
        "commits": [
            "5a425c0d04f5884fa3e32de4dc5f36e380f31815",
            "5947f13382cef7c1263212a59b5b3756f3494392"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 1,
        "title": "引擎能力补齐：zeros",
        "body": "对zeros的方法进行了适配\r\n由于代码中存在eval无法处理变量类型的bug ，本pr对APIConfig类进行了补充\r\n我不知道我的补充是否有错误，所以本次提交仅修复一个api\r\n修复结果如下：\r\n\r\n![image](https://github.com/user-attachments/assets/75de3cbb-4b14-448f-99af-91ec9e2594b5)\r\n",
        "issue_number": "1",
        "state": "closed",
        "merged": false,
        "user": "cszdrg",
        "merged_by": null,
        "created_at": "2025-03-24T07:38:30+00:00",
        "closed_at": "2025-03-26T07:12:56+00:00",
        "additions": 53,
        "deletions": 5,
        "changed_files": 4,
        "commits": [
            "123e926d20f9d167b346fc647835e99ba7e897b6",
            "7a269e92a118aae1d817c76a977a6ccb0c638702",
            "89d0656fa16e4e9cc3cb9d33f4834d7272d2bbd0"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "wanghuancoder",
            "cszdrg"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 5,
        "title": "引擎补齐：allclose argmax argmin assign atan2",
        "body": "allclose好像不用改就能通过",
        "issue_number": "5",
        "state": "closed",
        "merged": false,
        "user": "mzj104",
        "merged_by": null,
        "created_at": "2025-03-28T10:23:12+00:00",
        "closed_at": "2025-04-02T09:07:04+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [],
        "comment_by": [],
        "review_by": [
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 2,
        "title": "引擎补齐：add_n zeros full eye matmul",
        "body": "为add_n zeros full eye matmul五个api进行了适配",
        "issue_number": "2",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-03-26T09:09:21+00:00",
        "closed_at": "2025-03-28T07:56:32+00:00",
        "additions": 73,
        "deletions": 29,
        "changed_files": 10,
        "commits": [
            "123e926d20f9d167b346fc647835e99ba7e897b6",
            "7a269e92a118aae1d817c76a977a6ccb0c638702",
            "89d0656fa16e4e9cc3cb9d33f4834d7272d2bbd0",
            "77a4ec183ee8dbbace24324e567d65ee27e3fa70",
            "bed408314019d913b6464cbed0e7bfe94f6a86ea",
            "92ad564479333bae72c13c3d8f93f082a5fa676c",
            "b81a7cb3f210ab80b741ef70e9c2b9e4241109aa",
            "36f900e3ac59029e96eaa74eb65508d917c8e57a",
            "67a46f3ec8f234795f9349eb46f9fde7134ece75",
            "97710a69a39138df7546a53838e0b7b08b48c60b",
            "7b8684763d95dbe3dcd2176a62ded83cc96bb46a",
            "e4c94b7ee1b76f9a190507286f270291833d5a58",
            "aa377b0b31d8663fdc77827f84ef247834f15238",
            "56e72eaa622d2c14c4d843a72bf2e123c937d3d0"
        ],
        "comment_by": [
            "cangtianhuang",
            "cszdrg"
        ],
        "review_by": [
            "wanghuancoder",
            "cszdrg",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 6,
        "title": "引擎补齐：mean max min sum prod",
        "body": "### 修改动机：\r\n\r\n这五个 api 均属于 reduce api，需要在指定轴上规约。目前的解析器仅能指定 `Tensor` 的 `shape` 与 `dtype`，并随机生成其值。因此需要确定 axis 所属的 `Tensor` 的值范围，并随机生成合法的值。\r\n\r\n### 可能的情况有：\r\n\r\n- 若 axis 自身是 `Tensor`，根据 input_shpe 在 [0, max_dim) 范围内随机生成不重复的值，并随机置负（减去 max_dim ）；标量则为 0 或 -1\r\n- 若 axis 自身是 `list` 或 `tuple`，在确定其他固定值后，统计 `Tensor` 数量，在 [0, max_dim) 范围内的剩下值中随机生成不重复的值，并随机置负\r\n\r\n### 主要修改：\r\n\r\n**config_analyzer.py** ：\r\n- 增加了生成合法 axes 值的方法 generate_random_reduce_axes\r\n- get_numpy_tensor 方法中增加了对 paddle.mean、paddle.max、paddle.min、paddle.sum、paddle.prod 的分支处理\r\n- get_numpy_tensor 方法的分支处理末端的 else 改为返回前的检查 if self.numpy_tensor is None ，简化了分支的拦截逻辑（只关心需要自己处理的部分）\r\n- get_numpy_tensor 方法调整了 https://github.com/PFCCLab/PaddleAPITest/pull/2 的代码位置\r\n- get_tocken 方法略微修改了 pattern ，将减号移至最后。之前的 `+-.` 写法会被解析为 `+` 至 `.` ，从而错误匹配 `0,TensoConfig`\r\n```\r\npattern = r'\\b[A-Za-z0-9._+-]+\\b|-[A-Za-z0-9._+-]+\\b'\r\n```\r\n\r\n**base.py** ：\r\n- 增加了 need_reduce_api 列表；编写了 _handle_axis_param 方法单独处理轴参数。\r\n- 增加了 _handle_list_or_tuple 处理 列表/元组，修改 gen_paddle_input 以增强代码复用。\r\n\r\n### 修改结果：\r\n\r\n相关配置的 paddle_only 测试均通过，并已移入相应 api_config_merged* \r\n\r\n![image](https://github.com/user-attachments/assets/5f11eb5f-bd55-4055-8c08-e53eabc11ac0)\r\n",
        "issue_number": "6",
        "state": "closed",
        "merged": false,
        "user": "cangtianhuang",
        "merged_by": null,
        "created_at": "2025-03-29T16:57:10+00:00",
        "closed_at": "2025-04-02T06:23:01+00:00",
        "additions": 175,
        "deletions": 61,
        "changed_files": 5,
        "commits": [
            "d6b26717b425ae6d5299ad9bf329c5ece84ae690",
            "50c34f79618c6c762679320a31f333a02fd8b754",
            "7d6516a7b9e18379cb1cfe2a7fd4bc19e1489fb6"
        ],
        "comment_by": [
            "cangtianhuang"
        ],
        "review_by": [
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 18,
        "title": "[BIT] 引擎能力补齐：fix normal str parse",
        "body": "修复 merged PR #14 中引入的常规字符串解析失败的情况，具体是寻找下一个引号从 `offset` 开始，而不是 `offset + 1`，在带有空格的字符串中这两项没有区别，但是对于没有空格的字符串 `config[offset] = '\"'`，`offset + 1` 后就没有引号了",
        "issue_number": "18",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-07T04:49:10+00:00",
        "closed_at": "2025-04-07T05:00:09+00:00",
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "commits": [
            "f31d9f7cc8b9e3b1217be90791c595419adab0b4"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 10,
        "title": "【BIT】引擎补齐：allclose argmax argmin atan2 assign",
        "body": "其中allclose，不用修改代码，本身就通过测试\r\nargmax和argmin的错误原因相同，是随机生成的index超过了数组的范围，因此在PaddleAPITest/tester/api_config/config_analyzer.py 中添加了它们的分支，将随机的index限制在数组长度范围内。\r\natan2的问题在于，当输入两个向量都是0向量，且维度不一样时，无法正确计算导数。我的解决办法时检测到输入为两个维度不一样的零向量时，将它们的维度统一成更高维度的向量。\r\nassign的问题有两个，其中一个问题是.09994不能正确识别为小数，解决办法是检测到首位是0则加入‘0.’。另一个是在base.py中need_check_grad函数没有考虑到self.paddle_args长度为0的情况。\r\n现在所有5个api均通过测试，将它们从api_config_merged_not_support.txt中移除，新建了api_config_merged.txt\r\n的txt",
        "issue_number": "10",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-02T10:14:55+00:00",
        "closed_at": "2025-04-03T07:33:52+00:00",
        "additions": 97,
        "deletions": 29,
        "changed_files": 7,
        "commits": [
            "c893dd4ce012900581748e7b592970b5ac34f8ae",
            "240e2aed62118bd61132928c091cf6593bf0bd9a",
            "70427be3f6df9d0e954154a298bd0aea314b4650",
            "5aff6dc546c20bc069acb90c3a3a8d08ef067fd2",
            "ca0c26c6dffc292b2f7a2d4e90775453e04eefaa",
            "7bb242cc479f2440c1f7839f5d48ac70072c9d6c",
            "f7b136dc24901dd4d16afed2d365f9b668ae49b7",
            "81de19e4135230b68bff9da919b0f9f0f6dd45e5",
            "2f0db8ab52929544340de40a5f441f9f1d2f1079",
            "8925533b450db4d716c3b660876171153a4b8b58",
            "89699f4ba0ef29929be20cb599aa4a7bd9c3c5d7",
            "b42a8f40ccea66953d0d393457c6cc9fb176fa7a",
            "5992663a290a77aa1c60e5eb1707857992256df1",
            "bcecbfcbd3639cf77889606a996574aead9766fa"
        ],
        "comment_by": [
            "mzj104",
            "cangtianhuang",
            "mzj104",
            "mzj104",
            "cangtianhuang",
            "mzj104",
            "mzj104",
            "cangtianhuang",
            "mzj104",
            "mzj104",
            "cangtianhuang",
            "mzj104"
        ],
        "review_by": [
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "mzj104",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 19,
        "title": "【BIT】引擎能力补齐：empty gammainc gammaincc outer where ",
        "body": "## BIT引擎能力补齐：empty gammainc gammaincc outer where \r\n\r\n### paddle.empty\r\n- **修改依据**：`paddle.empty` 函数要求 `shape` 参数必须包含非负值，但测试配置中的 Tensor 可能包含随机生成的负整数，导致 `InvalidArgument` 错误。\r\n- **改正方法**：在 `get_numpy_tensor` 函数中增加对 `paddle.empty` 的特殊处理，确保当传入的参数用作 `shape` 时，所有值均为正整数，避免 `\"Expected data[i] >= 0\"` 错误。\r\n\r\n### paddle.gammainc & paddle.gammaincc\r\n- **修改依据**：这两个函数要求输入参数 `x` 必须大于等于 0，但测试配置中的 Tensor 可能包含随机生成的负数值，导致测试失败。\r\n- **改正方法**：在 `get_numpy_tensor` 函数中增加对 `paddle.gammainc` 和 `paddle.gammaincc` 的特殊处理，确保生成的 Tensor 值均为非负数。\r\n\r\n### paddle.outer & paddle.where\r\n- **说明**：可以直接通过，无需添加额外要求。",
        "issue_number": "19",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-07T07:56:54+00:00",
        "closed_at": "2025-04-07T07:58:21+00:00",
        "additions": 88,
        "deletions": 60,
        "changed_files": 5,
        "commits": [
            "d385ca58f7bfa52016e78c7d3652f4db11f4bc3c"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 14,
        "title": "[BIT] diag divide floor_divide tanh cumsum",
        "body": "### paddle.diag && paddle.tanh\r\n这两个 api_config 中的 kwargs['name'] 字符串含有空格，导致 APIConfig 初始化时调用只匹配到了空格前的部分字符串，解决办法是在 get_one_arg() 对缺失的部分进行补全，并维护返回的 value 为整个字符串，以及 offset，后续可以考虑修改模式匹配 get_tocken() 的逻辑或许更好\r\n\r\n### paddle.divide && paddle.floor_divide\r\n原来在 get_one_arg() 走到 tocken is None 就能pass，但是添加上面 paddle.diag && paddle.tanh 的逻辑后依然需要保证这一点，作了一点判断上的补全\r\n\r\n### paddle.cumsum\r\n需要保证参数 axis 的范围落在给定输入的某一个维度上，具体为 [-len(shape of x), len(shape of x))，x 为需要累计和的输入 tensor",
        "issue_number": "14",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-03T10:15:49+00:00",
        "closed_at": "2025-04-07T01:38:37+00:00",
        "additions": 17,
        "deletions": 8,
        "changed_files": 3,
        "commits": [
            "cc614dcd1c6e4068d8cc9433e6cc720e48d6fdef",
            "c5f652361c3da606a46eeea8ad5cc6dc42992fab",
            "29726565448711f545ea8a86ff54bf1dc0af092f",
            "3749997b2e1962f59674d3ccf26963cdf959a379",
            "6fa985d67347a3c34d80420a5adda1ab04161861"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 15,
        "title": "【BIT】引擎能力补齐：paddle.linalg.[lu_unpack matrix_power norm pca_lowrank solve svdvals]",
        "body": "## 主要修改：\r\n\r\n### 1. paddle.linalg.lu_unpack\r\n\r\n在 get_numpy_tensor 方法中增加了分支处理，使用 numpy.random 库随机生成的 LU 矩阵和 pivot 序列，增加随机扰动，确保对角非零\r\n\r\n### 2. paddle.linalg.matrix_power\r\n\r\n该 api 的测试用例为 0-size tensor，不做处理，并在 fresh_report 中记录（改为正常 tensor 后，直接通过测试，详见测试结果）\r\n```\r\npaddle.linalg.matrix_power(Tensor([0, 0],\"float32\"), 2, )\r\npaddle.linalg.matrix_power(Tensor([2, 3, 0, 0],\"float32\"), 2, )\r\n```\r\n\r\n### 3. paddle.linalg.solve\r\n\r\n情况与 paddle.linalg.matrix_power 相同，处理一致，在 fresh_report 中记录\r\n```\r\npaddle.linalg.solve(Tensor([10, 0, 0],\"float32\"), Tensor([10, 0, 0],\"float32\"), left=False, )\r\n```\r\n\r\n### 4. paddle.linalg.norm \r\n\r\ntensor 类型为 bfloat16，在默认处理中将 bfloat16 改为 float32，造成类型不匹配，相关错误信息记入 fresh_report 中\r\n```\r\npaddle.linalg.norm(Tensor([2, 3, 4, 5],\"bfloat16\"), 2.0, 1, False, )\r\n```\r\n\r\n### 5. paddle.linalg.pca_lowrank\r\n\r\n在 get_numpy_tensor 方法中增加了分支处理，使用 numpy.random 库随机生成标准正态分布的张量；但是将 api 移出 not_support_api 列表后测试不通过，报告内核崩溃，属于内核问题，相关错误信息记入 fresh_report 中\r\n\r\n### 6. paddle.linalg.svdvals\r\n\r\n正向计算正确，但反向传播时内核报告形状不匹配，属于内核问题，相关错误信息记入 fresh_report 中\r\n\r\n## 其他修改：\r\n\r\n***config_analyzer.py***\r\n\r\n- get_numpy_tensor 方法中将 paddle.chunk 的分支处理使用辅助函数，加强鲁棒性\r\n\r\n***base.py***\r\n\r\n- paddle.linalg.lstsq 在 gpu 上测试报错：\r\n  ```\r\n  Only support valid driver is 'gels' or None for CUDA inputs. But got gelsd\r\n  ```\r\n  因此在 gen_paddle_input 中将 driver=\"gelsd\" 改为 \"gels\"\r\n- 优化了 need_check_grad\r\n\r\n***report/fresh_report***\r\n\r\n- 修改了多个 test_log_* 文件，添加 txt 后缀，内容包含 *api 配置* 与 *详细报错信息*\r\n\r\n## 测试结果：\r\n\r\npaddle.linalg.lu_unpack 相关配置的 paddle_only 测试均通过，并移入 api_config_merged_7；\r\n\r\n正常 tensor 的 paddle.linalg.[matrix_power solve] 也通过测试\r\n\r\n![image](https://github.com/user-attachments/assets/5109e286-1e36-45b1-9db7-1ee6af716cd9)\r\n",
        "issue_number": "15",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-03T10:59:22+00:00",
        "closed_at": "2025-04-07T08:14:11+00:00",
        "additions": 192,
        "deletions": 65,
        "changed_files": 10,
        "commits": [
            "6e20719cf881f9ddf5f8c158438e07a66b40079f",
            "fff2e44a71057aa74677f1a726c0261e1e3fa031",
            "dd8e9fdefa34c8347974cd4629e552e4ff6e6649",
            "9e63cec9a5238aceb2aeaa7976761842264b4979",
            "b690718436d097925730993b5cb81b3c256ee2f4",
            "a64366baaff17412cc52caa2158aad7e86af60ff",
            "69fcc22342eedf61d0ae8baadb19b772b4fbb4cb",
            "781f154ad89befa06a6c3642332485205849761b",
            "fea9f00038f70bb2ad4e9a856970a7e5735a20b8",
            "b47b5b6ebf1e32723252e06f37ec7e396c9e34f8",
            "9c068897745df152e3cfd07c1b605bfc0afec170",
            "2bd9cbf26f80b021ab8253905c57a58791af1e6e",
            "ded7ef4c5cdbd28ea2c12a200fc42001e6d6a632",
            "25960cdb68e3d65a6cf4d36cdd3df122b543b9f9"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 21,
        "title": "【BIT】引擎能力补齐：paddle.index_[add fill put sample select]",
        "body": "## 主要修改\r\n\r\n### 1. paddle.index_add\r\n\r\nindex_* 相关 api 的参数包含 index Tensor ，用于索引张量的下标，因此需获取张量对应轴的索引范围，编写 generate_random_index 方法以随机生成范围内的索引值 index（可重复）\r\n\r\n在 get_numpy_tensor 方法中增加了分支处理，调用 generate_random_index\r\n\r\n### 2. paddle.index_fill\r\n\r\n此 api 可重用 generate_random_index 方法\r\n\r\n### 3. paddle.index_sample\r\n\r\n对 index 指定下标的元素进行批量抽样，因此直接限制 index 范围为 x 的第二个轴的大小，在 get_numpy_tensor 方法中增加了分支处理\r\n\r\n### 4. paddle.index_select\r\n\r\n与 paddle.index_sample 类似，但 index 范围由 axis 参数对应轴的大小决定，因此重用 generate_random_index 方法，增加 allow_none 参数\r\n\r\n### 5. paddle.index_put\r\n\r\nindex_put 的参数填充非常复杂，文档介绍和测试示例如下：\r\n\r\n> paddle.index_put(x, indices, value, accumulate=False, name=None)\r\n> 依据索引 indices ，将指定位置的 x 重新赋值为 value 。这里 indices 是一个 tuple of tensor 。\r\n```\r\npaddle.index_put(Tensor([110, 42, 32, 56],\"float64\"), tuple(Tensor([16, 16],\"int32\"),Tensor([16, 16],\"int32\"),Tensor([32],\"bool\"),), Tensor([16, 16, 56],\"float64\"), False, )\r\n```\r\n\r\n最终 value 的形状由输入 x 、 indices 的每个 Tensor 共同决定：\r\n- 当 indices[i] 为 int 类型时，直接填充为 x_shape[i] 范围内的随机值；\r\n- 当 indices[i] 为 bool 类型时，其相当于对维度的数层掩码（由 shape 决定），True 的数量决定了输出 value 的形状（此维为 1 时会 squeeze），因此对 indices[i] 的填充需要进行前后的推断，具体做法见 base.py/_handle_indices_api，该方法统一填充了 indices 的值。\r\n\r\n## 其他修改\r\n\r\n***config_analyzer.py***\r\n- 优化了 generate_random_axes 方法，不再使用 random 库（修改时确保函数行为不变）\r\n\r\n***base.py***\r\n- 优化了 _handle_list_or_tuple（讨论见 https://github.com/PFCCLab/PaddleAPITest/pull/17#discussion_r2030601578 ） 、_handle_axis_arg 方法，不再使用 random 库（修改时确保函数行为不变）\r\n\r\n\r\n## 测试结果\r\n\r\npaddle.index_[add fill put sample select] 共1800多相关配置，其 paddle_only 测试全部通过：\r\n- paddle.index_fill 位于 `api_config_merged_not_support.txt` ，移入 `api_config_merged_7` 中\r\n- paddle.index_[add put sample select] 位于 `api_config_merged_not_support_tensor_init.txt` ，全部移入 `api_config_merged_tensor_init.txt` 中\r\n\r\n![image](https://github.com/user-attachments/assets/0eb334e8-eccf-417d-aff8-436480192ae9)",
        "issue_number": "21",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-07T09:23:55+00:00",
        "closed_at": "2025-04-07T10:42:03+00:00",
        "additions": 1969,
        "deletions": 1945,
        "changed_files": 6,
        "commits": [
            "b439c18c123cffc6399bbe8937e1a69c1e86eca3",
            "b67df49668c9290d9496a0ff028a407f54749ded",
            "765708b456e5dfe3c44792bdcc6075fbd9684783",
            "cb40649777f2402f56c636a69de82f04b195ccba"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 20,
        "title": "[BIT] 引擎能力补齐：arange reshape",
        "body": "# arange\r\n**主要问题**\r\nstep不能等于0\r\n**具体做法**\r\n判断当前元素是否为step：\r\n- 如果tensor数量等于3说明第三个tensor为step \r\n- 如果有“step”变量 说明有step\r\n\r\n对step进行特判 防止生成0的变量\r\n# reshape\r\n**主要问题**\r\nreshape后的元素数量要保持和原有的tensor元素数量相同\r\n**具体做法**\r\n添加 maxvalue fix index key变量\r\n- maxvalue：生成随机数的上限，由第一个tensor的numel进行初始化\r\n- fix：是否生成随机数，如果为true 则不产生随机变量 当当前为最后一个tensor则fix为true保证shape大小固定\r\n- index：如果为args变量，则为其在args中的变量值 否则为-2\r\n- key：如果为kwargs变量，则为其key值 否则为字符串 “null”\r\n- indice：若在list tuple中 则为在其中的索引\r\n\r\n首先区分是tensor、list和tuple类型中的哪一个，根据maxvalue与fix对tensor进行赋值\r\n**未通过样例**\r\n- paddle.reshape(Tensor([],\"float32\"), Tensor([0],\"int64\"), )\r\n原因：paddle不支持 是非法样例\r\n#其他\r\n- 对check_args进行修改 应当先从检查key在检查index不然arange会出错\r\n- 前面同学的index是在base中进行添加的，为尽量减小框架的执行，将所有的参数保存在了api_config中，可以进行直接调用",
        "issue_number": "20",
        "state": "closed",
        "merged": false,
        "user": "cszdrg",
        "merged_by": null,
        "created_at": "2025-04-07T08:25:45+00:00",
        "closed_at": "2025-04-07T09:14:41+00:00",
        "additions": 165,
        "deletions": 55,
        "changed_files": 5,
        "commits": [
            "156ffdf2339fa93f9081a254873b65f87a619ea4",
            "42c7b1dc5712018036e2da7a58a0010408605bb7",
            "f40601e34b65545d07b6535a4a02340e2c5eb1f5",
            "4ee21920d7709d2fb37ad54815d6805180c5cb42",
            "0eea8a6e5be3c449f176035c83598927e7c6bf6a",
            "782136a02be09fb00a0e25635090fbf861d9571d",
            "ec9d42018018805ddf91c063f2e699a97e18f7c9",
            "d66753ebedaf73f6151c6f6757dbc5eb0ae87aaf",
            "bc2f49fc894436928dd821de99420667c1e089f0",
            "a5bf30d570d7396a0412cc13f47ae5c7cbaaef8a",
            "f3fb727401560257822fa51fce03f99b2726b933",
            "a40c9411b910f3b98df42ba1843002dfd8e40821",
            "e78559a066d82dc2cfba259ed7d997d4856a3635",
            "e03d1d44955d74818e362f90665c1b6067ce8564"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 17,
        "title": "【BIT】引擎补齐：gather Tensor.gather gather_nd Tensor.gather_nd expand Tensor.expand expand_as quantile multiplex  Tensor.clip",
        "body": " ### **修改内容**\r\n------------------\r\n\r\n **主要工作**\r\n\r\n1. 修改10个api\r\n2. 为便于在get_numpy_tensor()函数中获知当前处理的参数是**第几个参数**，给函数加入了index参数(默认值为0)，并对应修改了base.py的gen_paddle_input()函数，使其传入当前的索引\r\n```\r\ntmp=self.paddle_args_config[i].get_paddle_tensor(self.api_config,i)\r\nself.paddle_args.append(self._handle_list_or_tuple(self.paddle_args_config[i],index=i))\r\nself.paddle_args.append(self._handle_list_or_tuple(self.paddle_args_config[i], is_tuple=True,index=i))\r\n```\r\n\r\n> 以下面的代码为例：\r\n> ```\r\n> paddle.Tensor.clip(Tensor([2, 2],\"int32\"), Tensor([1],\"int32\"), Tensor([1],\"int32\"), )\r\n> ```\r\n> 之前的check_arg()函数不能区分第二项(min)和第三项(max)的区别，因此处理的时候不知道当前这一项是min还是max。加入index参数后，**index=1代表min**，**index=2代表max**\r\n\r\n **具体api修改**\r\n\r\n1. **gather & Tensor.gather**\r\n**修改依据**：这两个api较为相似，错误原因是索引没有正确的初始化。索引应该是大于等于0，小于数据对应维度长度的随机整数\r\n**改正方法**：在get_numpy_tensor()函数中，加入索引随机范围限制\r\n\r\n2. **gather_nd & Tensor.gather_nd**\r\n**修改依据**：这两个api错误原因同样是索引没有正确的初始化。索引最后一维应大于等于0，小于数据对应维度长度\r\n**改正方法**：在get_numpy_tensor()函数中，对索引的最后一维范围进行限制\r\n```\r\nfor i in range(s[-1]):\r\n    self.numpy_tensor[...,i]=(numpy.random.randint(0,org[i], size=self.numpy_tensor[...,i].shape)).astype(self.dtype)\r\n```\r\n\r\n3. **expand & Tensor.expand**\r\n**修改依据**：这两个api错误原因是错误生成了扩展的形状，导致向量无法expand\r\n**改正方法**：在get_numpy_tensor()函数中，检测输入向量的每一维度的长度，当长度为1时该维度可以扩展，返回随机正整数；当长度大于1时，该维度不能扩展，返回改长度本身\r\n\r\n4. **expand_as**\r\n**修改依据**：错误原因是该api不支持float16的数据类型\r\n**改正方法**：在get_numpy_tensor()函数中，检测到数据类型为float16时，将其改为float32\r\n\r\n5. **quantile**\r\n**修改依据**：错误原因是该api的参数q应当是[0,1)的输入\r\n**改正方法**：在get_numpy_tensor()函数中，检测到index=1时，返回numpy.random.rand(1)\r\n\r\n6. **multiplex**\r\n**修改依据**：错误原因与之前的gather类似，都是索引没有正确生成\r\n**改正方法**：参照gather修复\r\n\r\n7. **Tensor.clip**\r\n**修改依据**：max参数和min参数都是随机生成，当min>max时产生错误\r\n**改正方法**：在get_numpy_tensor()函数中，检测到index=2时(即当前为max时)，把随机数的最小值设为min的值\r\n\r\n **运行结果**\r\n除了paddle.gather(x=Tensor([3, 4],\"float64\"), index=Tensor([0],\"int32\"), axis=0, )，输入0 size向量这种特殊情况外（这种情况torch同样也会报错），其他10万+配置均pass\r\n![image](https://github.com/user-attachments/assets/933e3a15-1a0b-49ce-88f6-0a42950df9cd)\r\n\r\np.s. 之前一次提交的pr中提到allclose不用改就是能通过，这是在cpu上的结果。现在换成了gpu之后allclose会报错，已把它放在了fresh_report：\r\n![image](https://github.com/user-attachments/assets/392222a3-9855-4404-ac0c-390cd8bc7fce)\r\n\r\n",
        "issue_number": "17",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-06T09:24:55+00:00",
        "closed_at": "2025-04-07T04:59:26+00:00",
        "additions": 109002,
        "deletions": 108917,
        "changed_files": 8,
        "commits": [
            "daa6f04c664bdc4db0639ac82021be073fb13c08",
            "ac09fe5dd53e5c668aa0e299c2ce98873de3eaf3",
            "ffab7cf837e2d8e89fe373bea83b42b9076836c3",
            "63312c026a7383a92dd6f06eb8998d3e0c892cc1",
            "fcbcfa9855ba3a1863dfda163e9ad598b10f6ec9",
            "0e14eab21012b0e13745978dc395bd6b6659d9ac",
            "0ffa936a488223e555623ec4215c63ad313b8379",
            "50f0e3063388e21a5793e3812dae1da9e2c1fd93",
            "86b3feabb626e67177a279c49f2f76333e3238a5"
        ],
        "comment_by": [
            "cangtianhuang"
        ],
        "review_by": [
            "wanghuancoder",
            "wanghuancoder",
            "mzj104",
            "mzj104",
            "cangtianhuang",
            "mzj104",
            "mzj104",
            "cangtianhuang",
            "cangtianhuang",
            "mzj104",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 16,
        "title": "【BIT】引擎能力补齐：paddle.index_[add fill put sample select]",
        "body": null,
        "issue_number": "16",
        "state": "closed",
        "merged": false,
        "user": "cangtianhuang",
        "merged_by": null,
        "created_at": "2025-04-05T16:48:09+00:00",
        "closed_at": "2025-04-07T08:45:11+00:00",
        "additions": 111238,
        "deletions": 110982,
        "changed_files": 19,
        "commits": [
            "cc614dcd1c6e4068d8cc9433e6cc720e48d6fdef",
            "c5f652361c3da606a46eeea8ad5cc6dc42992fab",
            "29726565448711f545ea8a86ff54bf1dc0af092f",
            "3749997b2e1962f59674d3ccf26963cdf959a379",
            "6fa985d67347a3c34d80420a5adda1ab04161861",
            "6e20719cf881f9ddf5f8c158438e07a66b40079f",
            "fff2e44a71057aa74677f1a726c0261e1e3fa031",
            "b439c18c123cffc6399bbe8937e1a69c1e86eca3",
            "daa6f04c664bdc4db0639ac82021be073fb13c08",
            "ac09fe5dd53e5c668aa0e299c2ce98873de3eaf3",
            "ffab7cf837e2d8e89fe373bea83b42b9076836c3",
            "a4661872562aabf5299aa00906de0701f20772aa",
            "dd8e9fdefa34c8347974cd4629e552e4ff6e6649",
            "63312c026a7383a92dd6f06eb8998d3e0c892cc1",
            "f31d9f7cc8b9e3b1217be90791c595419adab0b4",
            "fcbcfa9855ba3a1863dfda163e9ad598b10f6ec9",
            "0e14eab21012b0e13745978dc395bd6b6659d9ac",
            "0ffa936a488223e555623ec4215c63ad313b8379",
            "50f0e3063388e21a5793e3812dae1da9e2c1fd93",
            "86b3feabb626e67177a279c49f2f76333e3238a5",
            "c68e0ae3fda7e48dafb7f5d8cb2e4e8dddb54297",
            "3ae687b69f4285d03120ad676b0bbe86942033d9",
            "9e63cec9a5238aceb2aeaa7976761842264b4979",
            "b690718436d097925730993b5cb81b3c256ee2f4",
            "a64366baaff17412cc52caa2158aad7e86af60ff",
            "69fcc22342eedf61d0ae8baadb19b772b4fbb4cb",
            "781f154ad89befa06a6c3642332485205849761b",
            "fea9f00038f70bb2ad4e9a856970a7e5735a20b8",
            "d385ca58f7bfa52016e78c7d3652f4db11f4bc3c",
            "b47b5b6ebf1e32723252e06f37ec7e396c9e34f8",
            "9c068897745df152e3cfd07c1b605bfc0afec170",
            "c564c18e58c994c7d47e0517485dbbecbde688d6",
            "2bd9cbf26f80b021ab8253905c57a58791af1e6e",
            "ded7ef4c5cdbd28ea2c12a200fc42001e6d6a632",
            "25960cdb68e3d65a6cf4d36cdd3df122b543b9f9",
            "d9adb70b98f8e03b4dd9de975f49116feb2a95d8",
            "b67df49668c9290d9496a0ff028a407f54749ded",
            "765708b456e5dfe3c44792bdcc6075fbd9684783"
        ],
        "comment_by": [
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 23,
        "title": "【BIT】引擎能力补齐：paddle.geometric.[sample_neighbors segment_[max mean min sum] send_[u_recv ue_recv uv]]",
        "body": "## 主要修改\r\n\r\n### 1. paddle.geometric.sample_neighbors\r\n\r\n直接通过测试，无需修改\r\n\r\n### 2-5. paddle.geometric.segment_[max mean min sum]\r\n\r\nsegment_* 相关 api 包含参数 segment_ids ，是一个单调非减序列。以 segment_max 为例，需要对相同索引的元素进行求最大值操作，segment_ids 需满足 **在输入的第一轴范围内** 以及 **单调非减** 两个条件，因此在范围内随机生成整数值并排序即可，于是在 get_numpy_tensor 方法中增加了分支处理\r\n\r\n其他 api 的要求与 segment_max 一致，因此合并至一个 if 分支，统一处理\r\n\r\n### 6-8. paddle.geometric.send_[u_recv ue_recv uv]\r\n\r\ngeometric.send_* 相关 api 主要应用于图学习领域，均包含参数 src_index 与 dst_index ，表示对输入节点的索引。因此合并至一个 if 分支，在 **输入的第一轴范围内** 随机生成整数值，并在 get_numpy_tensor 方法中增加了分支处理\r\n\r\n## 其他修改\r\n\r\n***config_analyzer.py***\r\n- 在 get_numpy_tensor 方法中合并了有相同前缀的分支，仅调整了缩进和分支条件\r\n  ```\r\n              elif api_config.api_name.startswith(\"paddle.linalg.\"):\r\n                  if api_config.api_name.endswith(\"cholesky\"):\r\n  ```\r\n\r\n***base.py***\r\n- 将上述 api 移出 not_support_api 列表\r\n\r\n## 测试结果\r\n\r\n相关配置的 paddle_only 测试全部通过：\r\n- paddle.geometric.sample_neighbors 部分配置位于 `api_config_merged_not_support.txt` ，移入 `api_config_merged_7` 中\r\n- 其他配置均位于 `api_config_merged_not_support_tensor_init.txt` ，全部移入 `api_config_merged_tensor_init.txt` 中\r\n\r\n![image](https://github.com/user-attachments/assets/d00ca6b8-7793-4d79-b73f-95503ec487d4)\r\n\r\n![image](https://github.com/user-attachments/assets/91a62f3d-f156-4ea2-a3a1-22e20b4eacd5)\r\n",
        "issue_number": "23",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-07T12:23:18+00:00",
        "closed_at": "2025-04-08T01:52:11+00:00",
        "additions": 197,
        "deletions": 193,
        "changed_files": 6,
        "commits": [
            "620d41475fbfba9740f4693c49acae22a81cfcfe",
            "7746a649e368aae791828e051c04d683f1835b5e",
            "15ea91ac1e4cbd54700437ffce1c315cdccc7092",
            "e8902efa283ecaf54c673fc3da44befb578ae1d2"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 25,
        "title": "【BIT】引擎补齐：paddle.nn.functional.[adaptive_avg_pool2d adaptive_avg_pool3d affine_grid alpha_dropout interpolate]",
        "body": " ### **修改内容**\r\n------------------\r\n\r\n **主要工作**\r\n\r\n1. 修改5个api\r\n\r\n **具体api修改**\r\n\r\n1. **adaptive_avg_pool2d & adaptive_avg_pool3d**\r\n**修改依据**：错误原因是output_size没有正确初始化，应该保证output_size大于0\r\n**改正方法**：在get_numpy_tensor()函数中，给output_size数据添加大于等于0的限制\r\n\r\n2. **affine_grid**\r\n**修改依据**：错误原因是第二个参数没有正确初始化，应满足随机值大于1，且下标为0处等于输入数据的第一维长度\r\n**改正方法**：在get_numpy_tensor()函数中，添加大于等于1的限制，且额外设置下标0的数值\r\n以下面的配置为例，第二项应当为[20,x,x,x], x>=1\r\n`paddle.nn.functional.affine_grid(Tensor([20, 2, 3],\"float32\"), Tensor([4],\"int32\"), align_corners=True, )\r\n`\r\n\r\n3. **alpha_dropout**\r\n**修改依据**：错误原因是不支持bfloat16的数据类型\r\n**改正方法**：在get_numpy_tensor()函数中，将数据类型改为float32\r\n\r\n4. **interpolate**\r\n**修改依据**：错误原因是差值的形状没有正确设置，应该保证大于0\r\n**改正方法**：在get_numpy_tensor()函数中，添加大于等于1的限制\r\n\r\n **运行结果**\r\n配置均pass\r\n![image](https://github.com/user-attachments/assets/1feafb75-cab4-4e26-81bc-ee5ffc226fbd)\r\n\r\n另外：\r\n由于base.py中的_handle_list_or_tuple函数已被修改，导致之前的expand和tensor.expand中，当输入的list或tuple中第一项为paddle.tensor类型时会报错（还是之前的问题）\r\n`paddle.Tensor.expand(Tensor([1],\"float32\"), tuple(Tensor([],\"int64\"),1,), )`\r\n![image](https://github.com/user-attachments/assets/5dd358e4-d0e6-4845-b30b-6e2db3003c4b)\r\n所以还是需要在base.py的_handle_list_or_tuple加入修改：\r\n```\r\nif self.api_config.api_name in [\"paddle.expand\",\"paddle.Tensor.expand\"] and isinstance(tmp[0], paddle.Tensor):\r\n        tmp[0]=int(tmp[0])\r\n```\r\n",
        "issue_number": "25",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-08T03:11:22+00:00",
        "closed_at": "2025-04-08T03:13:25+00:00",
        "additions": 72,
        "deletions": 49,
        "changed_files": 4,
        "commits": [
            "a909af86cae7212969ce689a8eb59d0a219dd032",
            "9d1e525c12c1d25883d0d052760ec66eff017ef5",
            "9bca7e32c5aff429155b7ff59332a76db17848b5",
            "15255bde31eab3dc4f7988f4e2d18e01b8bbe724",
            "c23e2a5660c74a48c39c504404544b21b2223042",
            "644fbf5c2d3187e60a5a85a352ea2b8bdf066ad4",
            "72c73cffcd655bba840eb290dc95c60dab001699",
            "36b5635fc6ca953c5a2c454d51631f2e87077832"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 26,
        "title": "【BIT】引擎能力补齐：binomial paddle.incubate.segment_[max、mean、min、sum] ",
        "body": "### 修改内容\r\n- **`paddle.binomial`**\r\n  - 当前状态：可以直接通过，无需添加额外要求。\r\n- **`paddle.incubate.segment_` 系列函数（`paddle.incubate.segment_max`、`paddle.incubate.segment_mean`、`paddle.incubate.segment_min`、`paddle.incubate.segment_sum`）**\r\n  - 修改依据：`segment_ids` 参数必须是按升序排列的整数，且值域在合理范围内。当前测试配置未对这些 API 进行特殊处理，导致测试失败。\r\n  - 改正方法：参照 `paddle.geometric.segment_` 系列函数的处理方式，在 `get_numpy_tensor` 函数中增加对 `paddle.incubate.segment_` 系列 API 的特殊处理：\r\n    - 确保 `segment_ids` 的数量与输入 `x` 的第一维度匹配。\r\n    - 确保 `segment_ids` 按升序排列。",
        "issue_number": "26",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-08T03:29:51+00:00",
        "closed_at": "2025-04-08T04:08:02+00:00",
        "additions": 13,
        "deletions": 11,
        "changed_files": 5,
        "commits": [
            "904fff69c5058599df6dd26e49a5481082e76404"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 22,
        "title": "【BIT】引擎补齐：multinomial multiply scatter scatter_nd scatter_nd_add",
        "body": " ### **修改内容**\r\n------------------\r\n\r\n **主要工作**\r\n\r\n1. 修改5个api\r\n\r\n **具体api修改**\r\n\r\n1. **multinomial**\r\n**修改依据**：错误原因有两个，第一inputs数据应该大于等于0，第二不放回的情况下，num_samples应小于inputs中非0元素数\r\n**改正方法**：在get_numpy_tensor()函数中，给inputs数据添加大于等于0的限制，给num_samples添加上限\r\n\r\n2. **multiply**\r\n**修改依据**：错误原因是bfloat16不支持\r\n**改正方法**：在get_numpy_tensor()函数中，把他的类型改为float32\r\n\r\n3. **scatter**\r\n**修改依据**：错误原因是index没有正确的初始化\r\n**改正方法**：在get_numpy_tensor()函数中，给index随机范围限制在0到输入维度之间\r\n\r\n4. **scatter_nd**\r\n**修改依据**：错误原因是index没有正确的初始化，可以类似于gather_nd进行修改，获取最后一个输入作为范围的限制\r\n**改正方法**：在get_numpy_tensor()函数中，获取inputs的形状和index的形状，保证index的最后一维的随机范围是0到对应输入维度的长度\r\n```\r\nfor ii in range(len(self.api_config.future_data)):  \r\n    if ii>=s[-1]:\r\n        break\r\n    self.numpy_tensor[...,ii] = numpy.random.randint(-self.api_config.future_data[ii], self.api_config.future_data[ii], size=self.numpy_tensor[...,ii].shape).astype(self.dtype)```\r\n```\r\n\r\n5. **scatter_nd_add**\r\n**修改依据**：错误原因是同上\r\n**改正方法**：类似scatter_nd\r\n\r\n\r\n **运行结果**\r\n![image](https://github.com/user-attachments/assets/088d4889-4a85-45db-a298-a5133956b37b)\r\n\r\n\r\n",
        "issue_number": "22",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-07T09:25:15+00:00",
        "closed_at": "2025-04-07T11:27:09+00:00",
        "additions": 12233,
        "deletions": 12211,
        "changed_files": 5,
        "commits": [
            "b838f95ebc2ab3035ab2b9ef50ce63432f4b3402",
            "90656a2a3d8875f362c07bc1a6d0ac4b4261b736",
            "547239bfa1ec54540aa7b7bde3bef4bd86675731",
            "ed25c8293d231971010a655194bab0c3ae425618",
            "897a8f23839d7152a28545d0c6f9062789c20cb6",
            "d936abc6fb7da61c565dc6d7baebdaa32c6b621f",
            "843d21fc5e9aaef6feda6e01bbba226ea3f6e9b5",
            "349eb2f6eab7fc6354279fa30e6ded884ea61890",
            "c00f79517716be70abbe708c923c7800037988f8",
            "5d85e9fbea7537759150ea3ed4ec480d4adeb863"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "wanghuancoder",
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 24,
        "title": "[BIT] 引擎能力补齐：arange reshape",
        "body": "# arange\r\n**主要问题**\r\nstep不能等于0\r\n**具体做法**\r\n判断当前元素是否为step：\r\n- 如果tensor数量等于3说明第三个tensor为step \r\n- 如果有“step”变量 说明有step\r\n\r\n对step进行特判 防止生成0的变量\r\n# reshape\r\n**主要问题**\r\nreshape后的元素数量要保持和原有的tensor元素数量相同\r\n**具体做法**\r\n添加 maxvalue fix index key变量\r\n- maxvalue：生成随机数的上限，由第一个tensor的numel进行初始化\r\n- index：如果为args变量，则为其在args中的变量值 否则为-2\r\n- key：如果为kwargs变量，则为其key值 否则为字符串 “null”\r\n\r\n首先区分是tensor、list和tuple类型中的哪一个，根据maxvalue对tensor进行赋值\r\n\r\n#其他\r\n- 对check_args进行修改 应当先从检查key在检查index不然arange会出错",
        "issue_number": "24",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-08T02:30:51+00:00",
        "closed_at": "2025-04-08T03:04:27+00:00",
        "additions": 102,
        "deletions": 26,
        "changed_files": 4,
        "commits": [
            "16e22b7ce7f4a217ab32b6a42ce854d35ff72bd0",
            "45f7a72936b40f6772eee29828a37a7c52ac2a16",
            "31d4a216b0bfa70ffa895183abb783cae8597091",
            "3022a0f175892998e16dffc1d09dd5dd5484cc2e",
            "febad03dafcb620b8c0ab7d94b514cbf9360f8ef",
            "26dce476f07f91dfc6168a02e94b8643973de939",
            "c8ec23a1bdae57bef5cfa4d45e89fad9f063ba02"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "cangtianhuang",
            "cszdrg",
            "wanghuancoder",
            "cszdrg"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 28,
        "title": "【BIT】引擎补齐：paddle.Tensor.unflatten paddle.unflatten  paddle.slice",
        "body": "# unflatten\r\n**问题：**\r\n同shape 需要知道原始数据的shape来进行初始化\r\n# slice\r\n**问题：** \r\nstart的元素位置要在end前面\r\n# 其他\r\nindex的值存在bug 进行了修改",
        "issue_number": "28",
        "state": "closed",
        "merged": false,
        "user": "cszdrg",
        "merged_by": null,
        "created_at": "2025-04-08T10:42:39+00:00",
        "closed_at": "2025-04-09T03:09:01+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 30,
        "title": "[BIT] 引擎补齐：max_unpool{1d, 2d, 3d} clip cross",
        "body": "### paddle.clip\r\n如果 min, max 两个 Tensor 同时需要初始化，需要保证 min 的每个元素不大于 max，设计了可复用的 get_initialized_value 来获取初始化后的 arg / kwarg 或者 arg / kwarg 对应的 tensor，假设按照初始化 min, max 的顺序，如果 min 被初始化且需要初始化 max，根据 min 的大小初始化 max。但是经过今晚的讨论，可能对于初始化 kwarg 位置不同时，get_initialized_value 可能存在缺陷，因为 tensor 的初始化是在上层调用 get_paddle_tensor 时初始化 numpy_tenosr, kwarg 位置不同，初始化顺序就不同，可以考虑对 kwargs 进行对 key 的排序，保证初始化顺序相同。\r\n\r\n**update**：fix clip，换了种思路只用了 index 和 get_arg，方法是初始化第一个TensorConfig 时直接读取其它的 api_config 直接把剩下的 min，max 直接初始化完，这种静态方法就是需要一些逻辑上的判断，比如需要判断 min，max 是否是标量\r\n\r\n### paddle.nn.functional.max_unpool{1d, 2d, 3d}\r\n输入 x, indices 分别是反池化的输入和形状相同的下标，采用 max_pool{1d, 2d, 3d} 的输出来生成 x, indices，对于不同维度，需要维护对应的池化输入 shape，APIConfig 输入的 output_size 有两种情况，一种是完整的 tensor shape，如 1d 下的 [N, C, W]，对于 2d，3d，output_size 略去了前两维 [N, C]，作为池化输入初始化时需要补全\r\n\r\n同时在 x 的 TensorConfig 初始化 numpy_tensor 进行上述池化得到 x_numpy_tensor 时，同时也获得了下一个 TensorConfig.numpy_tensor (indices) 的值，设计了 set_tensor_arg_value 来满足在一个 TensorConfig 初始化其它 TensorConfig.numpy_tensor 的需求\r\n\r\n### paddle.cross\r\n内核报告崩溃，具体为\r\n```\r\n[cuda error] paddle.cross(Tensor([0, 3],\"float32\"), Tensor([0, 3],\"float32\"), axis=1, ) \r\n (External) CUDA error(9), invalid configuration argument. \r\n  [Hint: 'cudaErrorInvalidConfiguration'. This indicates that a kernel launch is requesting resources that can never be satisfied by the current device. Requestingmore shared memory per block than the device supports will trigger this error, as will requesting too many threads or blocks.See cudaDeviceProp for more device limitations.] (at ../paddle/fluid/pybind/eager_functions.cc:1388)\r\n```\r\n执行 try: paddle_api(*tuple(paddle_args), **paddle_kwargs) 和 paddle.grad 后没有抛出错误，但是执行接下来的 paddle.base.core.eager._for_test_check_cuda_error() 抛出了上述错误",
        "issue_number": "30",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-08T15:40:22+00:00",
        "closed_at": "2025-04-09T04:39:03+00:00",
        "additions": 179,
        "deletions": 32,
        "changed_files": 4,
        "commits": [
            "64af4896721074e8ca25b3e6c62b988e93c44346",
            "64f50f4677e91528b7b0e8a5aebfcca7c72eee6d",
            "c47b411072530f382d047065e3d5cfd616e41a9c",
            "c7897930d767a8341296921326f600dc33caa3d7",
            "ff51eea50d067163900e45c11665e8804cf94ff1",
            "0b7402d60365cb5f242d24c34e2c965c95465ac8",
            "b554c75341cb36fbe15710621d13984a671d5542",
            "57d1adb03c8dd0aecac6131ed65a87852eed542b"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 27,
        "title": "【BIT】引擎补齐：functional.grid_sample functional.hsigmoid_loss functional.upsample Tensor.log_normal_  Tensor.index_select",
        "body": " ### **修改内容**\r\n------------------\r\n\r\n **主要工作**\r\n\r\n1. 修改5个api\r\n\r\n **具体api修改**\r\n\r\n1. **functional.grid_sample**\r\n**修改依据**：错误原因是不支持float16的数据类型\r\n**改正方法**：在get_numpy_tensor()函数中，将数据类型改为float32\r\n\r\n2. **functional.hsigmoid_loss**\r\n**修改依据**：错误原因有3：\r\n>  label.max() < num_classes，否则报错或 crash。\r\n>  path_table[i][j] 必须 < weight.shape[0]，否则底层越界崩溃。\r\n>  path_code 中只能是 0 或 1。\r\n**改正方法**：在get_numpy_tensor()函数中，添加随机数范围限制\r\n其中下面这个配置最后一个参数为true，涉及稀疏处理，会报错，暂时不好修复，放在了fresh_report\r\n`paddle.nn.functional.hsigmoid_loss(Tensor([4, 8],\"float64\"), Tensor([4],\"int64\"), 6, Tensor([5, 8],\"float64\"), Tensor([5, 1],\"float64\"), Tensor([4, 5],\"int64\"), Tensor([4, 5],\"int64\"), True, )`\r\n\r\n\r\n3. **functional.upsample**\r\n**修改依据**：错误原因是size或scale_factor没有正确初始化，size需要保证大于0的整数；scale_factor需要是正数，且大于0.5（否则输入维度等于1时，缩放后的维度小于1，会报错）\r\n**改正方法**：因为size和scale_factor不会同时出现非None的值，因此检测到size非None就随机size，检测到scale_factor非None就随机scale_factor\r\n\r\n4. **Tensor.log_normal_**\r\n**修改依据**：不用修改，直接就能通过\r\n\r\n5. **Tensor.index_select**\r\n**修改依据**：错误原因是index没有正确初始化\r\n**改正方法**：检测是否含有axis参数，若没有则设为0；index应该小于inputs[axis]\r\n\r\n **运行结果**\r\n配置均pass\r\n![image](https://github.com/user-attachments/assets/bc9668ae-c41a-4023-b3e0-4b85d96fcdf4)\r\n\r\n另外：\r\n之前的pr里面把api_config_merged_not_support_tensor_init.txt里面修复完成的配置放在了api_config_merged_9.txt，现在把它们调整了回来，放在了api_config_merged_tensor_init.txt\r\n\r\n之前pr中关于expand的放在fresh_report的特殊情况，其实不应该是特殊情况，是能够处理的，使用广播机制即可，现已修改。",
        "issue_number": "27",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-08T07:18:05+00:00",
        "closed_at": "2025-04-08T08:29:08+00:00",
        "additions": 121324,
        "deletions": 121235,
        "changed_files": 8,
        "commits": [
            "7a50d2e35c3147096850f161e4221afc48155e66",
            "50845f163f23af572ba5f66aedeb3ee3b5e538bb",
            "f8b6fbb1ecd8e2391a4e7fb29fc748c3e01b572a",
            "5d969531c4a161253a6ff2cbad087a0cd6f40eae",
            "515048c65efd659d49f23b9021b09b80498c48b5",
            "94133b3b8b3de4f25a084168ef7fc12b0a1f77b9"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "wanghuancoder",
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 32,
        "title": "【BIT】引擎能力补齐：bernoulli bincount matrix_transpose put_along_axis Tensor.put_along_axis",
        "body": "### paddle.bernoulli\r\n- **修改依据**：`paddle.bernoulli` 要求输入概率 Tensor 中的值必须在 `[0,1]` 范围内，当前随机生成的值范围在 `[-0.5,0.5]`，导致内核断言失败：`Assertion 'p >= 0 && p <= 1' failed`。\r\n- **改正方法**：在 `get_numpy_tensor` 函数中增加对 `paddle.bernoulli` 系列 API 的特殊处理，确保生成的概率值在 `[0,1]` 范围内。\r\n\r\n### paddle.bincount\r\n- **修改依据**：`paddle.bincount` 要求输入 Tensor 中的元素必须是非负整数，且 `minlength` 参数也必须非负，当前随机生成的值可能为负，导致 API 报错：\"The elements in input tensor must be non-negative ints\"。\r\n- **改正方法**：在 `get_numpy_tensor` 函数中为 `paddle.bincount` 添加特殊处理，确保输入和 `minlength` 参数均为非负整数。\r\n\r\n### paddle.matrix_transpose\r\n- **修改依据**：`paddle.matrix_transpose` 要求输入 Tensor 的维度至少为 2，但当前配置可能生成标量或一维张量，导致执行错误：\"Tensor.ndim(0) is required to be greater than or equal to 2\"。\r\n- **改正方法**：在 `get_numpy_tensor` 函数中添加对 `paddle.matrix_transpose` 的处理，确保输入 Tensor 维度至少为 2，如果形状不合法就调整为有效的矩阵形状。\r\n\r\n### paddle.put_along_axis & paddle.Tensor.put_along_axis\r\n- **修改依据**：`paddle.put_along_axis` API 执行时报错，错误信息为 `\"indices and arr must have the same number of dimensions!\"`，这是因为 `indices` 和输入张量的维度不匹配导致执行失败。\r\n- **改正方法**：在 `get_numpy_tensor` 函数中添加对 `paddle.put_along_axis` 的处理，确保 `indices` 和输入张量具有相同的维度数，并且生成的索引值在有效范围内，同时确保包含第一个和最后一个有效索引以增加测试覆盖率。",
        "issue_number": "32",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-09T06:24:42+00:00",
        "closed_at": "2025-04-09T07:53:18+00:00",
        "additions": 182,
        "deletions": 104,
        "changed_files": 5,
        "commits": [
            "b5342a77859f607e81dbe4e347be2df526856dc7",
            "f011b1568d5218a26dfa8b07e6ae6a33133c23d7",
            "7b23d1d37308b30eaef875d61c209b5c46b4cecc"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 33,
        "title": "【BIT】引擎补齐：strided_slice 和 一些之前bug的修复",
        "body": " ### **修改内容**\r\n------------------\r\n\r\n **主要工作**\r\n\r\n1. 修改1个api（共计完成36个）\r\n\r\n **具体api修改**\r\n\r\n1. **strided_slice**\r\n**修改依据**：错误原因是需要正确的初始化axes, starts, ends 和 strides，其中axes非负且不得超过输入的维度，ends的列表中，索引须大于starts中对应位置的索引，strides不能为0\r\n**改正方法**：在get_numpy_tensor()函数中，分情况对它们的随机范围进行限制。这里使用到了index、key和kwargs，它们都是很好用的参数。\r\n\r\n2. **max min atan2 adaptive_avg_pool2d adaptive_avg_pool3d**\r\n**修改依据**：之前提交的时候是正确的，经过若干pr修改之后，无法使用python自带的min和max函数\r\n**改正方法**：将min和max换成numpy.min numpy.max\r\n\r\n3.**gather**\r\n有一个配置涉及0 size 向量，已放入refresh report\r\n`paddle.gather(x=Tensor([3, 4],\"float64\"), index=Tensor([0],\"int32\"), axis=0, )paddle.gather(x=Tensor([3, 4],\"float64\"), index=Tensor([0],\"int32\"), axis=0, )`\r\n\r\n",
        "issue_number": "33",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-09T08:59:24+00:00",
        "closed_at": "2025-04-09T09:03:37+00:00",
        "additions": 41,
        "deletions": 8,
        "changed_files": 4,
        "commits": [
            "7b5cdf2797c8ef5ec971520ad41665640fada5b1",
            "3cf6c400fb9ae6c18169600f60d81209976ce301",
            "9ca60850597d151bc505981ac4743392120c1b7e",
            "10791aeea984928bacd09d6a3f3a408293f316c1",
            "cf2cfb0a4330a36b290b4daf0115109a595a4de4"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 29,
        "title": "【BIT】引擎补齐：standard_normal  Tensor.tile binary_cross_entropy margin_cross_entropy multi_margin_loss",
        "body": " ### **修改内容**\r\n------------------\r\n\r\n **主要工作**\r\n\r\n1. 修改5个api\r\n\r\n **具体api修改**\r\n\r\n1. **standard_normal**\r\n**修改依据**：错误原因是没有正确初始化\r\n**改正方法**：在get_numpy_tensor()函数中，将随机范围限制在正整数\r\n\r\n2. **Tensor.tile**\r\n**修改依据**：错误原因是没有正确初始化\r\n**改正方法**：在get_numpy_tensor()函数中，index>=1时，将随机范围限制在正整数\r\n\r\n3. **binary_cross_entropy**\r\n**修改依据**：错误原因是没有正确初始化，应该是[0,1)\r\n**改正方法**：在get_numpy_tensor()函数中，使用numpy.random.rand()\r\n\r\n4. **margin_cross_entropy & multi_margin_loss**\r\n**修改依据**：错误原因是没有正确初始化，随机范围应该小于输入向量的第二维度长度\r\n**改正方法**：在get_numpy_tensor()函数中，先获取index=0的输入形状，当index=1时生成随机整数\r\n\r\n\r\n **运行结果**\r\n配置均pass\r\n![image](https://github.com/user-attachments/assets/a9e864de-6c88-4c87-883f-8072334b4739)\r\n\r\n另外，paddle.index_sample帮李昊阳修改了随机数的生成范围，使其从0开始，而不是负数开始\r\n",
        "issue_number": "29",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-08T13:21:51+00:00",
        "closed_at": "2025-04-09T06:26:33+00:00",
        "additions": 183,
        "deletions": 168,
        "changed_files": 4,
        "commits": [
            "eb9da1be2d39256757f138d35449d6a0374a8fc8",
            "507b8197cfeb96f607d6af2c3b593ea6e38df722",
            "6294fd933da6650cdad9960c9e45c954274932f1",
            "35f79e3540c9363a69c5618061f0b554f0cf9575",
            "6683591f64a7f65dc1f32f5dec93ef70292ea183",
            "acd3a70dbdddffb24e0690eead7a6a7ea61d2d8f",
            "1121feaaae295ff0c81c5b57d0c17e0c6807319c"
        ],
        "comment_by": [
            "mzj104"
        ],
        "review_by": [
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 34,
        "title": "【BIT】引擎补齐：paddle.Tensor.unflatten paddle.unflatten paddle.slice",
        "body": "# unflatten\r\n**问题：**\r\n同shape 需要知道原始数据的shape来进行初始化\r\n# slice\r\n**问题：** \r\nstart的元素位置要在end前面",
        "issue_number": "34",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-09T09:03:21+00:00",
        "closed_at": "2025-04-09T09:04:18+00:00",
        "additions": 132,
        "deletions": 0,
        "changed_files": 3,
        "commits": [
            "affb6267cd8a8eaa520b2c43c65dff66668ddb9d"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 37,
        "title": "【BIT】引擎能力补齐：incubate.softmax_mask_fuse_upper_triangle、 nn.functional.[adaptive_log_softmax_with_loss、gather_tree、gaussian_nll_loss] 、shard_index",
        "body": "修改了incubate.softmax_mask_fuse_upper_triangle、 nn.functional.[adaptive_log_softmax_with_loss、gather_tree、gaussian_nll_loss] 、shard_index共5个api\r\n\r\n### incubate.softmax_mask_fuse_upper_triangle：\r\n可以直接通过，无需添加额外要求\r\n\r\n### paddle.nn.functional.adaptive_log_softmax_with_loss:\r\n- **修改依据**：存在两个问题：\r\n  1. 标签值必须在 `[0, n_classes - 1]` 范围内，当前测试使用的随机标签超出了有效范围。\r\n  2. 索引张量必须是1维张量（或2维且第二维为1），但当前测试提供了形状不正确的索引。\r\n- **改正方法**：确保标签值在有效类别范围内，索引维度满足API要求。\r\n\r\n### paddle.nn.functional.gather_tree：\r\n- **修改依据**：错误信息表明父节点索引值超出了`beam_size`的范围限制。\r\n- **改正方法**：根据API文档，对于形状为`[max_time, batch_size, beam_size]`的输入，父节点索引必须小于`beam_size`。\r\n\r\n### paddle.nn.functional.gaussian_nll_loss：\r\n- **修改依据**：错误信息为\"variance has negative entry/entries\"，这表明作为方差参数传入的张量包含了负值，而高斯分布的方差必须为正值。\r\n- **改正方法**：确保方差参数（var）始终为正值。\r\n\r\n### shard_index：\r\n- **修改依据**：输入索引值超出了允许的范围。\r\n- **改正方法**：限定索引值范围小于`index_num`参数。",
        "issue_number": "37",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-10T05:49:08+00:00",
        "closed_at": "2025-04-10T05:55:33+00:00",
        "additions": 66,
        "deletions": 35,
        "changed_files": 4,
        "commits": [
            "ad108df459d4fc7c44393a9016afaf2a9b51cf8b",
            "aa3f67c7c513ccb5a20bf6ea1d49c7cb191b84f2"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 31,
        "title": "【BIT】引擎能力补齐：增加 index 和 key 参数、优化代码结构、增强测试鲁棒性",
        "body": "## 修改动机\r\n\r\n目前 `base.py/gen_paddle_input()` 与 `config_analyzer.py/get_numpy_tensor()` 的代码逻辑比较混乱，代码质量较低，各位同学解决问题的方法不一致，也会造成 mentor 的 review 困难\r\n\r\n因此本 pr 旨在统一代码逻辑，综合各位同学的修改方法，并提出一个最终的、可通用的、鲁棒性高的解决方案，且最大程度保留原本代码逻辑\r\n\r\n## 代码历史\r\n\r\n在 https://github.com/PFCCLab/PaddleAPITest/pull/17 中，@mzj104 引入了 cnt（位于 `base`）与 index （位于 `config_analyzer`），用于解决不同位置的相同 Tensor 的初始化问题，如：\r\n```\r\npaddle.clip(x, min=None, max=None, name=None)\r\npaddle.Tensor.clip(Tensor([2, 2],\"int32\"), Tensor([1],\"int32\"), Tensor([1],\"int32\"), )\r\n```\r\n\r\n原有的 `check_arg()` 方法无法区分位于 `min` 或 `max` 位置的参数（见问题分析），因此引入了 index，并在后续的所有代码中仅使用 index 进行区分\r\n\r\n在 https://github.com/PFCCLab/PaddleAPITest/pull/28 中，@cszdrg 尝试使用了 index\r\n\r\n在 https://github.com/PFCCLab/PaddleAPITest/pull/24 中，@cszdrg 额外引入了 key（位于 `config_analyzer`），将关键字也进行传入\r\n\r\n## 问题分析\r\n\r\n原有的 `check_arg()` 方法在设计上确实有缺陷，我们无法断言每个参数的 Tensor 都不一样，使用 `== str(self)` 是不可靠的\r\n```\r\n    def check_arg(self, api_config, arg_pos=None, arg_name=None):\r\n        \"\"\"Checks if the argument in api_config matches this instance\"\"\"\r\n        if arg_pos is not None and 0 <= arg_pos < len(api_config.args):\r\n            return str(api_config.args[arg_pos]) == str(self)    \r\n        if arg_name and arg_name in api_config.kwargs:\r\n            return str(api_config.kwargs[arg_name]) == str(self)\r\n        return False\r\n```\r\n\r\n因此，我们需要将 index 与 key 的逻辑重新整合并定义：\r\n- index 用于区分 **位置参数**，对应于 `arg_pos` 与 `self.paddle_args_config` ，表示该 Tensor 位于 api 的第几个参数，在 base 中传入 config_analyzer\r\n- key 用于区分 **关键字参数**，对应于 `arg_name` 与 `self.paddle_kwargs_config` ，表示该 Tensor 对应于 api 的哪一个具体参数，在 base 中传入 config_analyzer\r\n- index 与 key 总有一个会被设置，默认为 None\r\n\r\n`check_arg()` 修改为：\r\n```\r\n    def check_arg(self, api_config, arg_pos=None, arg_name=None):\r\n        \"\"\"Checks if the argument in api_config matches this instance\"\"\"\r\n        return (\r\n            (arg_pos is not None and hasattr(self, \"index\") and self.index == arg_pos)\r\n            or (arg_name is not None and hasattr(self, \"key\") and self.key == arg_name)\r\n        )\r\n```\r\n\r\n## 主要修改：\r\n\r\n***base.py***\r\n\r\n- 删去 gen_paddle_input 中的 cnt 计数，采用 enumerate\r\n- 将处理 list 或 tuple 的逻辑统一移至 _handle_list_or_tuple 中处理，简化主干逻辑\r\n- _handle_list_or_tuple 增加 list_index 用于区分列表内的不同 Tensor（仅设计，似乎并未用上）\r\n\r\n***config_analyzer.py***\r\n- 为 get_numpy_tensor 与 get_paddle_tensor 增加参数 index 与 key，默认为 None，并设置为成员变量\r\n- 增加 **kwargs 便于拓展\r\n- 修改 check_arg，使用 self.index 与 self.key 判断\r\n- 将代码中所有仅使用 index 判断的代码进行修复，加强鲁棒性（最好建议使用 check_arg）\r\n\r\n## 部分测试\r\n\r\napi_config_merged_7.txt：修改了 generate_random_axes 与 paddle.unsqueeze 以修复 bug，修改后全部通过\r\n![image](https://github.com/user-attachments/assets/1d0b5eb3-ef7a-44a1-9d2d-8ae813f127dc)\r\n\r\napi_config_merged_9.txt：paddle.Tensor.expand、paddle.expand 未通过，原因需 @mzj104 进一步确认\r\n![image](https://github.com/user-attachments/assets/b0037b59-f91e-4af8-90c8-1ef173cf7236)\r\n\r\napi_config_merged_10.txt：paddle.chunk、paddle.ones 使用了 random 库（在 https://github.com/PFCCLab/PaddleAPITest/pull/21 被我移除），重新导入后全部通过\r\n![image](https://github.com/user-attachments/assets/eb324ecf-647b-43f4-8eeb-81653e61733a)\r\n\r\napi_config_merged_11.txt：全部通过\r\n![image](https://github.com/user-attachments/assets/1a88ecb8-c009-432c-918f-00d50b8af5d1)\r\n\r\n@wanghuancoder \r\n@cszdrg @mzj104 @Cutelemon6 @yuwu46 ",
        "issue_number": "31",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-08T16:32:08+00:00",
        "closed_at": "2025-04-09T02:55:43+00:00",
        "additions": 121,
        "deletions": 130,
        "changed_files": 2,
        "commits": [
            "af2732787188c09cd5c2a3dc3651a2320f356fff",
            "2e32cc01ef2115e3ca8955b079813ebc759aee13",
            "4227e0a2e78215183df23c18a8f700a887673183",
            "86e7a2ac7f2a2e242fc59cb240c53ca949cd9733"
        ],
        "comment_by": [
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 38,
        "title": "【BIT】引擎能力补齐：paddle.einsum paddle.einsum paddle.matmul paddle.nn.functional.conv2d_transpose",
        "body": "## paddle.einsum\r\n- memory存在问题 \r\n\r\n放入fresh report\r\n\r\n## paddle.einsum paddle.matmul\r\n- bfloat16问题\r\n- 样例非法问题\r\n- memory问题\r\n\r\n放入fresh report\r\n\r\n## paddle.nn.functional.conv2d_transpose\r\n- 要保证output_size 合法\r\n\r\n使用paddle.nn.functional.conv2d_transpose生成out_put再进行操作\r\n\r\n",
        "issue_number": "38",
        "state": "closed",
        "merged": false,
        "user": "cszdrg",
        "merged_by": null,
        "created_at": "2025-04-10T05:59:45+00:00",
        "closed_at": "2025-04-10T06:01:41+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 35,
        "title": "[BIT] 引擎补齐：zeropad2d, softmax, quant.weight_only_linear, __sub__",
        "body": "### paddle.nn.functional.zeropad2d\r\n要求参数 padding 不能为负数，且不能太大，限制在了0 ~ 10\r\n\r\n### paddle.nn.functional.softmax\r\n有一个配置是 bfloat16，在反向时会产生一个 bf16 的 output 和 float32 的 output_grad，这样在 paddle.grad 中会选择 float32 的内核，属于内核错误，放入 fresh report；另外有参数 axis，需要保证下标在 [-len(shape x), len(shape x)) 之间，这个已修复。\r\n\r\n### paddle.nn.quant.weight_only_linear\r\n只能在 sm80 或者 sm86 的 gpu 上运行，放入 fresh report\r\n\r\n### paddle.Tensor.\\_\\_sub__\r\n0-size Tensor 配置下，执行 `try:paddle.base.core.eager._for_test_check_cuda_error()` 后抛出错误，放入 fresh report\r\n",
        "issue_number": "35",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-10T03:02:21+00:00",
        "closed_at": "2025-04-10T03:29:49+00:00",
        "additions": 57,
        "deletions": 13,
        "changed_files": 6,
        "commits": [
            "c02aa82ff228a00346a087da99c57c829dccf7ba",
            "6adfe2238ae9763f8ac73407483968902747c0e0",
            "b411f1e4e6f7cda676cb6a1d4bd8c3374c0d603b",
            "436ec70d77c442fc5b1459287e090831cbea5f3d",
            "0d76b8379f2fbd50948e7c481ab26e0d70c8aa63",
            "bcc27507fc986f41385746ef03d19b69c5ab9b18",
            "6ea11220f6c7d28354a06b3621ffeba62ece02cb"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "wanghuancoder",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 36,
        "title": "【BIT】引擎能力补齐：paddle.nn.functional.[cross_entropy ctc_loss dice_loss] paddle.geometric.[sample_neighbors send_*]",
        "body": "## 主要修改\r\n\r\n### 1. paddle.nn.functional.cross_entropy\r\n\r\ncross_entropy 的 `label` 参数需根据 *输入的类别数*、`soft_label`、`label_smoothing` 等参数确定生成值，分为独热标签或整数标签两类。为其撰写了相应的生成方法，并在 get_numpy_tensor 方法中增加分支处理\r\n\r\n### 2. paddle.nn.functional.ctc_loss\r\n\r\nctc_loss 的 `label` 参数表示经过 padding 的标签序列、`input_lengths` 表示输入 log_probs 数据中每个序列的长度， `label_lengths` 表示 label 中每个序列的长度。根据 api 要求为其撰写了生成方法，并在 get_numpy_tensor 方法中增加分支处理\r\n\r\n### 3. paddle.nn.functional.dice_loss\r\n\r\ndice_loss 的 `label` 参数表示正确的标注数据，仅需生成类别数范围内的随机数。为其撰写了生成方法，并在 get_numpy_tensor 方法中增加分支处理\r\n\r\n### 4. paddle.geometric.sample_neighbors\r\n\r\n在 https://github.com/PFCCLab/PaddleAPITest/pull/23 中直接通过测试，但是在其他环境中报错。因此根据文档，为其输入图的 CSC（Compressed Sparse Column，压缩列信息）生成符合要求的参数，包括 `row`、`colptr`、`input_nodes`、`eids`、`perm_buffer` 等，具体生成方法见代码\r\n\r\n### 5-7. paddle.geometric.send_[u_recv ue_recv uv]\r\n\r\n在 https://github.com/PFCCLab/PaddleAPITest/pull/23 中直接通过测试，但是在其他环境中报错。经检查是 paddle.geometric.send_ue_recv 的 `src_index`、`dst_index` 参数位置与另外两个 API 不同，因此修改生成代码\r\n\r\n## 其他修改\r\n\r\n***config_analyzer.py***\r\n- 强化了 check_arg 与 get_arg 函数，使其必须同时接受参数位置索引与名称，增强配置解析的鲁棒性（配置可能提供了关键字，也可能没有）\r\n\r\n## 测试结果\r\n\r\nctc_loss dice_loss 相关配置的 paddle_only 测试全部通过，cross_entropy 相关配置部分通过\r\n\r\nctc_loss dice_loss 配置位于 `api_config_merged_not_support.txt` ，移入 `api_config_merged_7.txt` 中\r\n\r\ncross_entropy 经测试，主要有三个问题：类型不匹配、内存分配不足。经检查，类型不匹配的问题可以通过添加 `--test_amp=True` 解决，因此将相关配置移入 `api_config_merged_amp.txt` ；内存错误写入 fresh_report 中，与成功通过测试的配置一齐移入 `api_config_merged_tensor_init.txt`\r\n\r\n```\r\ntest begin: paddle.nn.functional.cross_entropy(Tensor([3, 2, 2, 5],\"float64\"), Tensor([3, 2, 2, 5],\"float64\"), soft_label=True, label_smoothing=0.18833946207874966, axis=-1, weight=Tensor([5],\"float64\"), reduction=\"mean\", )\r\nW0410 02:23:01.192503 15404 backward.cc:437] While running Node (MatmulGradNode) raises an EnforceNotMet exception\r\n[paddle error] paddle.nn.functional.cross_entropy(Tensor([3, 2, 2, 5],\"float64\"), Tensor([3, 2, 2, 5],\"float64\"), soft_label=True, label_smoothing=0.18833946207874966, axis=-1, weight=Tensor([5],\"float64\"), reduction=\"mean\", ) \r\n (PreconditionNotMet) Tensor's dimension is out of bound.Tensor's dimension must be equal or less than the size of its memory.But received Tensor's dimension is 480, memory's size is 256.\r\n  [Hint: Expected numel() * SizeOf(dtype()) <= memory_size(), but received numel() * SizeOf(dtype()):480 > memory_size():256.] (at ../paddle/phi/core/dense_tensor_impl.cc:48)\r\n```\r\n\r\n![image](https://github.com/user-attachments/assets/0b6d3371-19ec-4991-9a7f-00dacd6d7ee3)\r\n",
        "issue_number": "36",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-10T03:14:22+00:00",
        "closed_at": "2025-04-10T08:42:48+00:00",
        "additions": 6865,
        "deletions": 6745,
        "changed_files": 8,
        "commits": [
            "45ac30fc9c6d0c55d0da87abf70b87fa3d6321a1",
            "a1543c3536bc82537a6309f2462224c9baef5d9c",
            "0a4279e8a47ddc9289386eb62bb1839c946df5a9",
            "8f1233220680165619ec7347a2876176d77bdfd0",
            "cc0ef5f8a70a12e2304f124320215cc1b5a3ad27",
            "da7b075eb7abdfdfd39c9377525d67b9f8f1765d",
            "ab37b3ab1744756c803e31d7c41ccd0a086444fc",
            "a265f0caf8066e8ea24fb887d5a1e8d74a3279d0",
            "928ad867815d9904242c7dcf2f2f2dd660753c6b",
            "0432c2bba682046f019eb483e28571b5b3488e55",
            "9b6eaecdc1a5c159a29e5164987a4d7cb61eac96",
            "c3f19b92a4a1562988f58ce2cfb79c5796d1fd89"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 41,
        "title": "[BIT] 引擎补齐：refine stocastic_behavior_apis",
        "body": "refine PR #40, 增加了一个 api 到 stochastic_behavior_apis：`paddle.nn.functional.alpha_dropout`",
        "issue_number": "41",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-10T09:20:15+00:00",
        "closed_at": "2025-04-11T02:31:50+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "f7969d9605eb0f63128d5af5610b63bec94946f4"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 42,
        "title": "[BIT] 引擎补齐：__mul__, hessian, jacobian, cartesian_prod, pad",
        "body": "### paddle.Tensor.\\_\\_mul_\\_\r\nbf16 的问题，执行 paddle.grad 时 output 为 bf16，但是在 gen_paddle_output_and_output_grad 中设置了 output_grad 为 fp32，paddle.grad 选择了 fp32 的内核在执行时抛出错误。\r\n\r\n### paddle.autograd.hessian && paddle.autograd.jacobian\r\n这两个的 api 输出为 懒计算 的 Hessian 和 Jacobian 对象，需要在 base.py 中的 gen_paddle_output_and_output_grad 根据两个对象的索引生成 paddle.Tensor 类型的输出\r\n\r\n### paddle.cartesian_prod\r\n输入 tensor 类型为 int32, int64 时能直接通过，但是任何 float，complex 类型的输入内核会抛出错误，注意到输入含有 0-size，那么这个做 笛卡尔积 的 api 输出也会含有 0-size，疑似是 0-size 的问题。具体抛出错误的地方：\r\n\r\nbase.py\r\n`result_outputs, result_outputs_grads = self.gen_paddle_output_and_output_grad(paddle_output)`\r\n\r\n经过调试 self.gen_paddle_output_and_output_grad 能够返回，但是进行赋值的时候内核抛出了错误。\r\n\r\n### paddle.nn.functional.pad\r\n要求输入参数 pad >= 0 && pad < min(x.shape)，在 config_analyzer.py 中进行了补全。另外修复这个 api 时，我之前修的一个 api 将 min/max 作为了局部变量，这样在 config_analyzer.py 中就无法使用 python 内建的 min/max 函数，对之前用到的 min/max 换了变量名字为 min_numpy_tensor / max_numpy_tensor",
        "issue_number": "42",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-11T02:24:10+00:00",
        "closed_at": "2025-04-11T02:33:48+00:00",
        "additions": 1020,
        "deletions": 713,
        "changed_files": 6,
        "commits": [
            "8b058489c458f8dd09d1ced0546da48521a7e872",
            "10a779016b793aae9597314a272cc3da4283f41c",
            "7d110dc274449d243c3676d4727cee3b8ca97680",
            "08515be7de035c5c75555c6a9dc108d9e1b640df",
            "70b2ca58c221e7bd89cc1131d318da6789317155",
            "63acc3c0de8e0d621e0dad9662e57e8d12e95a83",
            "731426e04d5c09a0868abe89b741b89580cf2185",
            "b1cb61f6a7ffb9ea93ee98e1916178f48107b833"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 43,
        "title": "[BIT] 引擎补齐：paddle.tensordot paddle.vision.ops.distribute_fpn_proposals paddle.vision.ops.decode_jpeg paddle.view",
        "body": "## paddle.tensordot\r\n要确保对应的轴的长度相等\r\n## paddle.vision.ops.distribute_fpn_proposals\r\n不能出现负值\r\n## paddle.vision.ops.decode_jpeg\r\n直接传tensor进去会出问题 放入report\r\n## paddle.view\r\n内核报错 放入report\r\n\r\n\r\n\r\n",
        "issue_number": "43",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-11T03:47:12+00:00",
        "closed_at": "2025-04-11T04:05:50+00:00",
        "additions": 536,
        "deletions": 389,
        "changed_files": 7,
        "commits": [
            "d2d105e34fb1cf472ff26500c9d2bf2ec19625fc",
            "9a0a9fb528d878b0b52be1f11c6edf9012911ae0",
            "b772b32d5c5b867e5d222461e0c05661d5ff7db2",
            "0a2cf63386039eec2d48cdc53f62d04336e30424",
            "1537659b678645d37c6e8c1239cee6a8e22ba102"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 44,
        "title": "【BIT】引擎能力补齐：incubate.nn.functional.fused_rotary_position_embedding nn.functional.[embedding、nll_loss、rnnt_loss、softmax_with_cross_entropy] ",
        "body": "新修复了五个API，并对之前的`paddle.incubate.segment_`系列代码进行了优化。\r\n\r\n---\r\n\r\n### paddle.incubate.nn.functional.fused_rotary_position_embedding\r\n\r\n**修改依据**：\r\n存在三个问题：\r\n1. `q`、`k`、`v`参数不能为`None`，但测试中这些参数有时被设置为`None`。\r\n2. `q`、`k`、`v`的`num_heads`维度必须相同，但测试中经常不一致。\r\n3. `cos_embed`和`sin_embed`的批次大小和`num_heads`维度必须与`q`、`k`、`v`一致。\r\n\r\n**改正方法**：\r\n- 确保`q`、`k`、`v`参数不为`None`，通过从其他现有参数推导形状并创建`TensorConfig`对象替换`None`值。\r\n- 保证`q`、`k`、`v`的`num_heads`维度完全一致。\r\n- 确保`cos_embed`和`sin_embed`的形状与`q`、`k`、`v`兼容，特别是批次大小和`num_heads`维度。\r\n\r\n---\r\n\r\n### paddle.nn.functional.embedding\r\n\r\n**修改依据**：\r\n当前测试使用随机生成的整数作为索引，没有限制其范围，导致索引值超出合法范围。\r\n\r\n**改正方法**：\r\n确保输入索引(`ids`)全部为非负值且不超过词表大小(`weight.shape[0]-1`)。\r\n\r\n---\r\n\r\n### paddle.nn.functional.nll_loss\r\n\r\n**修改依据**：\r\n标签值超出了有效范围，导致断言失败。\r\n\r\n**改正方法**：\r\n获取输入张量的第二维作为类别数量，然后生成在`[0, n_classes-1]`范围内的随机标签。\r\n\r\n---\r\n\r\n### paddle.nn.functional.rnnt_loss\r\n\r\n**修改依据**：\r\nRNN-Transducer损失函数要求输入参数符合特定的约束条件，但当前测试中的张量形状和值不满足这些条件，导致内核执行时访问了非法内存地址。\r\n\r\n**改正方法**：\r\n确保各参数形状匹配且值在有效范围内，包括：\r\n1. `labels`中的索引值小于`logits`的最后一维（词汇表大小）。\r\n2. `input_lengths`和`label_lengths`的值不超过对应的最大序列长度。\r\n3. 维度关系保持一致：`B`维匹配，`U = label_lengths`最大值+1。\r\n\r\n---\r\n\r\n### paddle.nn.functional.softmax_with_cross_entropy\r\n\r\n**修改依据**：\r\n`softmax_with_cross_entropy`的标签值必须满足以下条件：大于等于0、小于类别数(`logits`在`axis`维度的大小)，或者等于-100（表示忽略该位置）。\r\n\r\n**改正方法**：\r\n确保标签值始终在有效范围内。具体实现方法是：获取`logits`张量的`axis`维度大小作为类别数，随机生成标签值时，将值限制在`[0, num_classes)`范围内。",
        "issue_number": "44",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-11T06:14:52+00:00",
        "closed_at": "2025-04-11T06:18:15+00:00",
        "additions": 5952,
        "deletions": 5821,
        "changed_files": 5,
        "commits": [
            "3a6c5389265210d2cc48d2f038f54acec8eaef84",
            "e310c524760bc630ca4c17b98ae4504f3aa5b909",
            "887ae4612be62c0fa49da49263316b9f7fe3b9ce",
            "b07d0d21c8c390f86b757b0dba9413b47f55b129",
            "1aeefcd8ad03e4598f5a8bb517474c24f6ae0e5a"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 39,
        "title": "【BIT】引擎能力补齐：paddle.einsum paddle.einsum paddle.matmul paddle.nn.functional.conv2d_transpose",
        "body": "## paddle.einsum\r\n- memory存在问题 \r\n\r\n放入fresh report\r\n\r\n## paddle.einsum paddle.matmul\r\n- bfloat16问题\r\n- 样例非法问题\r\n- memory问题\r\n\r\n放入fresh report\r\n\r\n## paddle.nn.functional.conv2d_transpose\r\n- 要保证output_size 合法\r\n\r\n使用paddle.nn.functional.conv2d_transpose生成out_put再进行操作",
        "issue_number": "39",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-10T06:04:48+00:00",
        "closed_at": "2025-04-10T06:56:32+00:00",
        "additions": 244,
        "deletions": 32,
        "changed_files": 6,
        "commits": [
            "55acc4e415935c865ab2b37f9198d3ceb0e56720",
            "c7d8f32f3a8a4de0c6454d91b7f6f00a4b8b7388",
            "2973a2e87914e303f9b0e0a292c9e87ab5b4855a",
            "b896314ebb2db7e89785b4a5a8bde1bb17471cb3",
            "1fcb4562f003eda73497790fc332dd935611a18e",
            "a70beb49b2284043460bc26d617d9dc1981d5395",
            "43ca79f9a70a866fcc1d133d684c6a464a177082"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "wanghuancoder",
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 45,
        "title": "【BIT】引擎能力补齐：nn.functional.[one_hot、sequence_mask]、repeat_interleave、take_along_axis、tile、topk",
        "body": "共修复了6个api，其中`paddle. nn.functional.sequence_mask`存在一例 0-Size Tensor 问题\r\n\r\n---\r\n\r\n**paddle. nn.functional.one_hot**\r\n**修改依据**: api要求输入 `x` 的索引值必须在 `[0, num_classes)` 范围内。随机生成可能引发 `InvalidArgument` 或越界错误。\r\n**改正方法**:\r\n  * 当生成输入张量 `x` (索引 0) 时，获取 `num_classes` 参数的值 (`nc_val`)，然后在正确的 `[0, nc_val)` 范围内生成非负整数索引。\r\n  * 当生成 `num_classes` 参数 (索引 1, 如果是 `Tensor`) 时，确保其为正整数。\r\n\r\n---\r\n\r\n**paddle. nn.functional.sequence_mask**\r\n**修改依据**:\r\n  * `sequence_mask` 要求输入 `x` 的值必须是非负整数。\r\n  * 当 `maxlen` 参数未指定时，其值由 `max(x)` 决定。如果此时 `x` 只包含 `0` 或为空，会导致 `maxlen=0`，进而引发 `CUDA kernel` 配置错误 (`cudaErrorInvalidConfiguration`)。\r\n \r\n**改正方法**:\r\n  * 当生成输入张量 `x` (索引 0) 时：\r\n    * 检查 `maxlen` (索引 1) 是否显式提供且大于 `0`。\r\n    * 若 `maxlen > 0`: 生成 `x` 的值范围为 `[0, maxlen]`。\r\n    * 若 `maxlen` 未提供或无效: 生成 `x` 的值 `>= 0`，并确保如果 `x` 非空，则 `max(x) >= 1`，以避免隐式 `maxlen=0` 的情况。\r\n  * 当生成 `maxlen` 参数 (索引 1, 如果是 `Tensor`) 时，确保其值为正整数 (`>= 1`)。\r\n  * 0-Size Tensor出错报告:\r\n    * 目前有一例涉及`0-Size Tensor`的用例未通过`paddle.nn.functional.sequence_mask(Tensor([0],\"int64\"), )`\r\n![image](https://github.com/user-attachments/assets/07177257-b9d7-4cc6-a4cc-b3ce608e7781)\r\n    * 错误分析: 当输入 `x` 为 `Tensor([0],\"int64\")` 且未指定 `maxlen` 时，PaddlePaddle 内部计算出的 `maxlen` 为 `max(x) = 0`。这个为 `0` 的 `maxlen` 传递给底层的 `CUDA kernel` 时，导致了 `cudaErrorInvalidConfiguration` (`CUDA error 9`) 错误，因为 `CUDA kernel` 无法处理配置参数为 `0` 的情况。\r\n    * 日志路径: 相关错误报告已经放入 `PaddleAPITest/report/fresh_report/test_log_paddle.nn.functional.sequence_mask.log`\r\n\r\n---\r\n\r\n**paddle. repeat_interleave**\r\n**修改依据**: \r\n* `repeats` 参数必须为非负整数，但测试配置可能生成负值，导致 `InvalidArgument` 错误。\r\n* `axis` 参数（当为张量时）必须在输入张量的维度范围内，但测试配置可能生成超出范围的值，导致 `OutOfRange` 错误。\r\n\r\n**改正方法**:\r\n  * 确保 `repeats` 参数生成非负整数。\r\n  * 确保 `axis` 参数（当为张量时）生成的值在输入张量的有效维度范围内。\r\n\r\n---\r\n\r\n**paddle.take_along_axis**\r\n**修改依据**: 原初始化为 `take_along_axis` 生成的 `indices` 可能超出有效范围 `[0, dim_size)`，导致索引越界。需确保生成的 `indices` 值有效，并包含边界值 `0` 和 `dim_size - 1` 以测试边界。\r\n**改正方法**: 修改 `get_numpy_tensor` 中 `take_along_axis` 初始化 `indices` 的逻辑：\r\n  * 根据 `arr` 和 `axis` 确定维度大小 `dim_size`；\r\n  * 生成 `[0, dim_size)` 内的随机索引。\r\n\r\n---\r\n\r\n**paddle.tile**\r\n**修改依据**: api要求 `repeat_times` 参数的所有元素必须大于 `0`，随机生成可能导致 `InvalidArgument` 错误。\r\n**改正方法**: 当生成 `repeat_times` 参数的 `Tensor` 数据时，生成大于 `0` 的随机整数。\r\n\r\n---\r\n\r\n**paddle.topk**\r\n**修改依据**: api要求 `k` 参数满足两个条件：`k >= 1` 且 `k <= x.shape[-1]` (输入张量 `x` 最后一个维度的大小)。随机生成可能导致 `InvalidArgument` 错误。\r\n**改正方法**: 当生成 `k` 参数 (索引 1) 的 `Tensor` 数据时，首先获取输入张量 `x` 最后一个维度的大小 `max_k_value`（确保其至少为 `1`），然后在有效范围 `[1, max_k_value]` 内生成 `k` 的值。",
        "issue_number": "45",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-13T14:36:25+00:00",
        "closed_at": "2025-04-15T01:37:10+00:00",
        "additions": 14563,
        "deletions": 14476,
        "changed_files": 7,
        "commits": [
            "f4d2e72138b821b2a5706738ce1bf24d19a61909"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 40,
        "title": "[BIT] 引擎补齐：更新 rand_apis，添加 stocastic_behavior_apis",
        "body": "维护了 paddle 中生成随机数的相关函数到 rand_apis，将具有不确定行为的函数更新到 stocastic_behavior_apis，这些 api 无法与 torch 进行精度对比，也就无需引擎支持这些配置，因此在任务一中需要检查这些 api 并放到 rand_apis / stocastic_behavior_apis",
        "issue_number": "40",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-10T08:05:41+00:00",
        "closed_at": "2025-04-10T08:07:36+00:00",
        "additions": 22,
        "deletions": 35,
        "changed_files": 1,
        "commits": [
            "3effabd08eee30de06d00d8b4b417f48a2c6e5e5",
            "5f7a2828d8b2d2c2348d818f6fdd2d2218fa63c2",
            "e4183482b405157c55f1284020480e7d19761df6"
        ],
        "comment_by": [
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 48,
        "title": "[BIT] 引擎补齐：fused_rms_norm, variable_length_memory_efficient_attention, poisson_nll_loss, roll, meshgrid",
        "body": "### paddle.meshgrid\r\nint 类型的 tensor 输入能通过，但是 float 系列遇上 0-size 执行 paddle.grad 时内核崩溃 `FatalError: Erroneous arithmetic operation is detected by the operating system.`\r\n\r\n### paddle.roll\r\n非 0-size 输入能通过，未指定 axis 会导致 kernel crash，具体为 `FatalError: Erroneous arithmetic operation is detected by the operating system.`，需要重启 engine，指定后 axis 后会捕获 cuda 抛出的 `cudaErrorInvalidConfiguration`，可以继续使用 paddle engine 测试下一个配置\r\n\r\n### paddle.nn.functional.poisson_nll_loss\r\nbf16 issue, after executing paddle.grad() kernel throw an error\r\n```\r\n (InvalidArgument) The type of data we are trying to retrieve (float32) does not match the type of data (bfloat16) currently contained in the container.\r\n  [Hint: Expected dtype() == phi::CppTypeToDataType<T>::Type(), but received dtype():16 != phi::CppTypeToDataType<T>::Type():10.] (at ../paddle/phi/core/dense_tensor.cc:153)\r\n```\r\n\r\n看上去是反向中含有 bf16 的输入，但是选择了 fp32 的内核执行\r\n\r\n### paddle.incubate.nn.functional.variable_length_memory_efficient_attention\r\n对 seq_len 和 mask 相关 tensor 元素的初始化作了限制，具体为：\r\n1. 将输入参数 3: seq_lens 的 tensor 元素限制在 [1, query_seq_len), query_seq_len = query.shape[2]\r\n2. 将输入参数 4: kv_seq_lens 的 tensor 元素限制在 [1, min(key_seq_len, value_seq_len)), key_seq_len = key.shape[2], value_seq_len = value.shape[2]\r\n3. 将输入参数 5: mask 的 tensor 元素限制在 (-inf, 0]\r\n\r\n### paddle.incubate.nn.functional.fused_rms_norm\r\n内核相关参数未实现的错误 `(Unimplemented) bias or residual or norm_bias is not supported yet (at ../paddle/phi/kernels/gpu/rms_norm_grad_kernel.cu:173)`",
        "issue_number": "48",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-16T02:42:14+00:00",
        "closed_at": "2025-04-16T03:18:09+00:00",
        "additions": 921,
        "deletions": 150,
        "changed_files": 7,
        "commits": [
            "1c1b3a226dd511057b606fbd8a3237e0f5496c7e",
            "47cb0f3fa627c2b808fd8bbf4a4bdd2cadae2ee0",
            "70b6f97259aebdffc5e29bd0a34ec08bb3b1beb3",
            "22760ede0bbf3f19617cdab6092776ca01bf1397",
            "1c74002ff8871ff1a4a7ab60dbfc0d7a209122dc",
            "7c408e4eac8262af44068139c2c95a296bd00132",
            "8ef94d78368b530f67846ce09b9185c8eee659a1",
            "ac7a6b7b8584e0588ec294a990ece65a68dd3f8d",
            "7756f01079bdef6c6ef1515be0e102a606bc8491"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 49,
        "title": "【BIT】引擎补齐 paddle.nn.functional.binary_cross_entropy",
        "body": "将paddle.nn.functional.binary_cross_entropy从not_support里面移出",
        "issue_number": "49",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-16T08:23:47+00:00",
        "closed_at": "2025-04-16T08:32:01+00:00",
        "additions": 15447,
        "deletions": 15447,
        "changed_files": 2,
        "commits": [
            "8b370b1a3b22189b3fd696471660c9ca0b6cdc21",
            "50091da14e63cff43272e1b5f45f5ad37e5a3c6a"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 47,
        "title": "【BIT】转换能力补齐：Paddle2TorchConverter",
        "body": "# 修改说明\r\n\r\n开发文档详见：https://ku.baidu-int.com/d/ODBEcpC8QXcAAE\r\n\r\n使用文档详见：https://ku.baidu-int.com/d/-75canpiFaJClt\r\n\r\n## 原有代码调整内容\r\n\r\n### 1. 自动整理了 import 语句，删去子类的 self.api_config = api_config （基类已设置）\r\n\r\n### 2. `tester/accuracy.py`\r\n\r\n1. 将 api_config_paddle_to_torch_faild 记录从 base 移至 accuracy\r\n2. 使用 get_converter() 方法获取 self.converter\r\n3. 修改 test 方法，先执行 self.converter.convert() 获取转换结果，然后使用 exec() 执行代码（已区分 test amp）\r\n\r\n相关逻辑已写入 Paddle2TorchConverter 类中，并注释掉原有代码\r\n\r\n### 3. `tester/base.py`\r\n\r\n修改 ana_torch_api_info() 方法，不再在此处执行 paddle_to_torch，并注释掉原有代码（即 self.torch_kwargs_config 中保留 paddle 参数名）\r\n\r\n在之后 accuracy 的 gen_torch_input() 方法会将参数的 paddle tensor 均改为 torch tensor\r\n\r\n### 4. `paddle_to_torch`\r\n\r\n将有用配置均转移至 mapping.json 中，无用文件移至 deprecated 文件夹\r\n\r\n## 新增代码介绍\r\n\r\n详见开发文档与使用文档\r\n\r\n## 请导师和各位同学给出 reivew 意见🫡\r\n\r\n@wanghuancoder \r\n\r\n@cszdrg @yuwu46 @mzj104 @Cutelemon6 ",
        "issue_number": "47",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-15T10:15:13+00:00",
        "closed_at": "2025-04-17T08:52:14+00:00",
        "additions": 6892,
        "deletions": 111,
        "changed_files": 21,
        "commits": [
            "f31264dc10c66c0f7465cdf07d07f5c049ed97a4",
            "794734b33bda508e1ec91503bd330cecef114654",
            "9510b5e9b2a2c3abf38ff97bce3bd445c74cd1e7",
            "eea4b33509f396d7b15eb78b116d23e79c244f84",
            "5f11708f32a39d1a7aba31898c9d39f7149307b4",
            "7a3b4082c6ef2552498d06ae8ac311612489da51",
            "ed629aee401998af5a3aaf1e9e2fb393e24593c9",
            "9ac5d009a4be4213126a0f6a45c0529e6488e566",
            "e127eeb31c2c955558c5e42074a4d9b3d9d7993e",
            "dd99d6b70ac75b6173172c2cda7955f0465d1dc0",
            "e72fd04354a3cc4a6bbc8ff5b999ef9bc8dd6779",
            "74434afae71f1508252cb8dcff7026f641a50521",
            "4e983e78ccf931a2b058ce77096e5c9ac2ae7d2d",
            "33d1a548a5274e693cbf66e816c468510f20dc3d",
            "aa3378d7c9187c73fd9fb86ddd0a8607c8035f58"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "wanghuancoder",
            "cangtianhuang",
            "cangtianhuang",
            "wanghuancoder",
            "wanghuancoder",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 50,
        "title": "[BIT] 引擎补齐: add feature place, fix block_multihead_attention",
        "body": "### block_multihead_attention\r\n根据示例对 paddle.incubate.nn.functional.block_multihead_attention 的诸多 tensor 初始化进行了限制，参照 api 文档的[代码示例](https://www.paddlepaddle.org.cn/documentation/docs/en/develop/api/paddle/incubate/nn/functional/masked_multihead_attention_en.html#masked-multihead-attention) 对 padding_offset, cum_offsets, cu_seqlens_q, cu_seqlens_k 进行了初始化，其它 tensor 有一些数值上的约束，这里不多赘述。\r\n\r\n其中在初始化参数位置 22: max_dec_len_this_time 和 21: max_enc_len_this_time 遇到了要求这两个 tensor 需要放置在 cpu 上，查阅源码发现 TensorConfig 初始化 paddle tensor 的时候并没有显式指定 place，为此\r\n1. 在 TensorConfig 中添加 self.place 成员，在其中的 \\_\\_init__ 方法添加缺省参数 place=None，并进行对应的赋值；在 \\_\\_deepcopy__ 中添加对应的深拷贝语句\r\n2. TensorConfig 并在 config_analyzer.py 中的 get_numpy_tensor 中初始化上述两个位置参数期间设置 self.place 为 cpu，并在下一个位置参数初始化时设置 self.place 为 gpu",
        "issue_number": "50",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-16T10:41:01+00:00",
        "closed_at": "2025-04-16T11:02:52+00:00",
        "additions": 73,
        "deletions": 12,
        "changed_files": 4,
        "commits": [
            "3b2fe2a9589ddfadbf4ab16f6fd1e531cb470ce2",
            "3b722742f9d2d93fbd6940f683d7f4e98faf9aed"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 51,
        "title": "[BIT] 引擎补齐: fused_multi_head_attention, masked_multihead_attention",
        "body": "### paddle.incubate.nn.functional.masked_multihead_attention\r\n部分通过，其他配置在调用 paddle.to_tensor 时生成 result_output_grad 时抛出错误 `cudaErrorIllegalAddress`\r\n```\r\n​      result_output_grad = paddle.to_tensor(\r\n\r\n​        numpy_tensor,\r\n\r\n​        dtype=dtype if dtype != 'bfloat16' else \"float32\",\r\n\r\n​      )\r\n```\r\n\r\n### paddle.incubate.nn.functional.fused_multi_head_attention\r\n查阅 api 文档认为初始化 tensor 没有需要特别配置的地方，所有配置在执行 paddle.grad() 时抛出错误 `Segmentation fault`",
        "issue_number": "51",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-16T13:51:09+00:00",
        "closed_at": "2025-04-17T03:01:25+00:00",
        "additions": 874,
        "deletions": 70,
        "changed_files": 7,
        "commits": [
            "140a440bd0899588a2ef2242f2f02729817fdf14",
            "f4c1ad5655277dfb72f519d102436481ca8c5b72",
            "436e35bf62a4853f5b09f2d73097e22c068f717b",
            "a5ae00e154409c616c68c7bee44d5a9e636f7c2e",
            "4f8326ba0d0c9675bd246547a0683659023de539"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 52,
        "title": "[BIT] 引擎能力补齐",
        "body": "将遗漏的api放入merged",
        "issue_number": "52",
        "state": "closed",
        "merged": false,
        "user": "cszdrg",
        "merged_by": null,
        "created_at": "2025-04-17T03:34:08+00:00",
        "closed_at": "2025-04-17T03:35:07+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 53,
        "title": "[BIT]引擎能力补齐",
        "body": "截至目前，所有api已经完成，将not_support文件删除\r\n复测后存在一个不通过问题：\r\npaddle.slice(Tensor([0],\"float32\"), axes=list[0,], starts=list[0,], ends=list[0,], )\r\n\r\n2025-04-17 03:05:44.844138 test begin: paddle.slice(Tensor([0],\"float32\"), axes=list[0,], starts=list[0,], ends=list[0,], )\r\n\r\nW0417 03:05:44.864496 15243 backward.cc:437] While running Node (SliceGradNode) raises an EnforceNotMet exception\r\n[paddle error] paddle.slice(Tensor([0],\"float32\"), axes=list[0,], starts=list[0,], ends=list[0,], ) \r\n (InvalidArgument) StridedCopyKernel's out tensor must complete mutable data before call kernel.\r\n  [Hint: output_data should not be null.] (at /root/Paddle/paddle/phi/kernels/gpu/strided_copy_kernel.cu:1296)",
        "issue_number": "53",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-17T03:44:54+00:00",
        "closed_at": "2025-04-17T08:54:18+00:00",
        "additions": 54,
        "deletions": 14037,
        "changed_files": 6,
        "commits": [
            "176051eef702fedfe6bff9bfe7f28f3898ea127a",
            "36f2555206981f81cd2fe54231969d12cc0a6479",
            "d33fa46977c634a83406937a554d266044c6ca1c",
            "2f5e2c649475ff7a336f1d7fdf5dddca6a493e06",
            "434d72a72157bce468ae5714bc98271209401c38",
            "e3d276f2f04af254e02009c44a94563b78529141"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 46,
        "title": "【bit】引擎能力补齐：paddle.vision.ops.nms paddle.vision.ops.psroi_pool paddle.vision.ops.roi_align paddle.vision.ops.roi_pool",
        "body": "## paddle.vision.ops.nms\r\n保证锚框坐标正确（上下左右四个点关系正确）\r\n## paddle.vision.ops.psroi_pool\r\n数据要为正数 锚框坐标应当正确\r\n## paddle.vision.ops.roi_align\r\n锚框坐标应当正确 且符合图片大小数量\r\n## paddle.vision.ops.roi_pool\r\n同上\r\n",
        "issue_number": "46",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-15T03:09:26+00:00",
        "closed_at": "2025-04-16T02:30:23+00:00",
        "additions": 24722,
        "deletions": 10662,
        "changed_files": 12,
        "commits": [
            "cb34c7238324b18c890772ec9079de0ec2666792",
            "f610abb55e0a12c19ff125c0da187dc561c171bd",
            "cf1e1b461cc93d98c781cb1b0aef3b5f50ff2fbe",
            "23ab76ab541bd8d12a3d79409a573f111d74d758",
            "ce007a9cd91982ae26bb48d685af5cb05ea8bffc",
            "f9b1852beee483210560abd9532dec42ab15338c",
            "fff87ab819a5b084f6b1d9d325b4bb499742a0b1"
        ],
        "comment_by": [
            "cszdrg"
        ],
        "review_by": [
            "wanghuancoder",
            "cszdrg"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 55,
        "title": "[BIT]新增CPU 0-size测试报告",
        "body": "# 0-size Tensor 在 CPU 环境下的测试报告\r\n\r\n## 测试背景\r\n测试版本：项目初始版本（`git checkout 6fc9cce91c9f722383e95261a0e5a0735460e56b`）  \r\n测试目标：收集api 在 CPU 环境下对0-size Tensor配置的运行情况\r\n\r\n## 测试内容\r\n本次测试包含以下两个部分：\r\n\r\n1. **accuracy 测试**  \r\n   - 测试文件：`0sizetensor_accuracy.txt`  \r\n   - 错误报告路径：`report/0size_tensor_cpu/accuracy/`  \r\n   - 生成的文件结构：\r\n     - `error_api.txt`：按字母顺序排列的 accuracy 出错 API 名称  \r\n     - `error_config.txt`：accuracy 出错 API 的配置信息  \r\n     - `error_log.log`：accuracy 报错日志  \r\n\r\n2. **paddle only 测试**  \r\n   - 测试文件：`0sizetensor_paddleonly.txt`  \r\n   - 错误报告路径：`report/0size_tensor_cpu/paddle_only/`  \r\n   - 生成的文件结构：\r\n     - `error_api.txt`：按字母顺序排列的 paddle only 出错 API 名称  \r\n     - `error_config.txt`：paddle only 出错 API 的配置信息  \r\n     - `error_log.log`：paddle only 报错日志  \r\n\r\n## 测试验证\r\n为确保测试结果的完整性和准确性，除了人为检查外，还在本地编写了以下脚本：\r\n1. **对比脚本**：用于验证所有配置信息均被测试，确保无遗漏。\r\n2. **提取脚本**：用于提取出错 API 的名称、配置及报错信息，并对通过的配置与出错配置数量进行统计。\r\n![image](https://github.com/user-attachments/assets/0a8eeac7-482d-4a1e-8db5-70cec9322c40)\r\n![image](https://github.com/user-attachments/assets/c668d387-327a-4487-aac9-de06f44ce7c8)\r\n最终结果表明，所有测试信息均完整记录，与原文件对比无遗漏。\r\n\r\n## 总结\r\n本次测试全面覆盖了 0-size Tensor 在 CPU 环境下的运行情况，测试结果已完整记录。相关错误报告已分类整理至指定路径，便于后续分析和修复。",
        "issue_number": "55",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-17T12:56:05+00:00",
        "closed_at": "2025-04-18T02:18:21+00:00",
        "additions": 1783838,
        "deletions": 0,
        "changed_files": 6,
        "commits": [
            "e67558f6d5e18e061140198b0a292f9314721007"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 54,
        "title": "【BIT】引擎能力补齐：paddle.index_put",
        "body": "在 https://github.com/PFCCLab/PaddleAPITest/pull/49 中有两条 paddle.index_put 被误操作，因此重新检查；\r\n\r\n经检查发现是内核崩溃错误，尝试重新撰写处理代码后，此两条仍不通过测试，因此认定是内核问题，移至 fresh_report 中；\r\n\r\n新的 paddle.index_put 生成代码更好，且其他配置均通过测试，测试结果如下：\r\n\r\n![image](https://github.com/user-attachments/assets/bd470d2b-c287-4f25-9d01-c372a9fbf923)\r\n\r\n修复了一个小的书写错误\r\n\r\n修改内容: \r\n`base.py/_handle_indices_arg()`\r\n\r\n用于合并处理索引参数的列表或元组（目前仅有 index_put 使用），其核心是根据输入x和值value的形状计算indices参数的填充值:\r\n\r\n1. 首先统计indices参数匹配到的x维度数量 (matched_axis)\r\n2. 计算索引形状的最大长度 (indices_shape_len)\r\n3. 计算预期的输出形状 (expected)\r\n4. 计算形状缩减量 (reduced)（输出形状会被indices中的bool类型的true值数量影响）\r\n5. 处理每个配置项:\r\n    1. bool类型索引:\r\n        1. 计算每个索引维度需要的true值数量 true_needed\r\n        2. 调整true值数量，避免超过维度大小\r\n        3. 创建全 False 的布尔掩码\r\n        4. 随机选择位置设置为 True\r\n        5. 将生成的掩码赋给配置项\r\n    2. 整数类型索引:\r\n        1. 根据输入x的对应维度大小生成随机整数索引\r\n        2. 索引范围在 [-x_dim, x_dim) 之间",
        "issue_number": "54",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-17T03:47:20+00:00",
        "closed_at": "2025-04-17T09:15:40+00:00",
        "additions": 48,
        "deletions": 14,
        "changed_files": 3,
        "commits": [
            "6d6ca2ac83712938b607e0b10873de460a2eecf0",
            "3f1ebd11c7d053903abb5816d64d4e92d0c3fe70"
        ],
        "comment_by": [],
        "review_by": [
            "mzj104",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 60,
        "title": "[BIT]更新0-size Tenosr 在cpu下的paddle_only report",
        "body": "重新对`report/0size_tensor_cpu/paddle_only`文件夹下的内容进行了提取过滤，只保留`coredump`类型的有效报错。",
        "issue_number": "60",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-21T04:07:16+00:00",
        "closed_at": "2025-04-21T04:24:24+00:00",
        "additions": 20360,
        "deletions": 921145,
        "changed_files": 3,
        "commits": [
            "c8ea41ca15cacf1e0905080126ea35dae59b6cdd"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 61,
        "title": "【BIT】转换能力补齐：README、paddle.add、paddle.add_n、paddle.crop、paddle.atleast_[1-3]d、paddle.Tensor.set_",
        "body": "Paddle2Torch 已全部上线，同学们从该 PR 开始可以进行任务线条二的开发了！！！\r\n\r\n## 新增特性\r\n\r\n1. Paddle2Torch 拥有自己的 README 了！同学们可以仔细学习 paddle.crop 的开发过程，快速进行自己的开发！\r\n2. 支持 paddle.add、paddle.add_n、paddle.crop、paddle.atleast_[1-3]d、paddle.Tensor.set_ 等 7 个 api 的 accuracy 测试\r\n3. mapping.json 的参数配置更加灵活，可以使用 * 解包操作、if-else 判断语句等动态语句\r\n4. mapping.json 可以通过 kwargs 访问任意可变参数，参数名请参考 api 文档；paddle.Tensor. 操作的自身张量可以通过变量名 kwargs['self']、args[0] 访问！\r\n\r\n## 修复问题\r\n\r\n1. 由于任务线条一已全部完成，退场 engine.py 的 not_support_api_config（否则会报错）\r\n2. 修改 base.py 的 ana_torch_api_info 逻辑，使用 inspect.signature 的 bind() 方法绑定参数，可以解决所有如 *args、**kwargs 等可变参数情况。比如 paddle.atleast_1d(*inputs, name=None) ，可以通过 kwargs.get('inputs') 获得可变参数的列表。\r\n3. 修复 base.py 的 copy_torch_input() 方法，避免在列表或元组中对 int 类型使用 torch.clone 报错\r\n\r\n## 测试结果\r\n上述 7 个 api 的 accuracy 测试已全部完成。paddle.add_n 有两个配置未支持，移入 api_config_paddleonly_1.txt；其他配置全部移入 api_config_support2torch_1.txt，其中一个 accuracy 未通过，已在 fresh_report 中报告。\r\n\r\n![image](https://github.com/user-attachments/assets/60f42c00-00c3-4707-a464-833a2bc5731b)\r\n",
        "issue_number": "61",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-21T10:21:52+00:00",
        "closed_at": "2025-04-21T10:25:20+00:00",
        "additions": 6838,
        "deletions": 6531,
        "changed_files": 10,
        "commits": [
            "3f8c8f0a63717c831173544ef55d502fe0969a80",
            "ba75283a9fd1f2212e20e13055983b1de4c2743a",
            "c323aaea464e4d9adb5d997ec9c9f5a24d29287d",
            "364c0f672755cb3b445d5646eb62bd5f88880cd4"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 57,
        "title": "【BIT】完善README.md",
        "body": "# PaddleAPITest\r\n******\r\n## 1. 项目背景\r\nAPI正确性是Paddle质量的基石，影响业务训练、推理，影响用户对Paddle的信赖。至关重要。为保障Paddle API正确性，我们开发了PaddleAPITest。\r\n\r\n目前主要考虑的正确性问题有**3**类：\r\n>1）API**精度**正确性；\r\n>\r\n>2）一些**特大**Tensor，尤其是numel超过int32上限的Tensor计算异常；\r\n>\r\n>3）**0-Size**（numel为0的Tensor） Tensor不支持。\r\n\r\nPaddleAPITest主要工作思路如下：\r\n1. 在Paddle开发Trace API机制，具体见 https://github.com/PaddlePaddle/Paddle/pull/70752 ，用于抓取API调用配置，下面是一个配置例子：\r\n```\r\npaddle.concat(tuple(Tensor([31376, 768],\"float32\"),Tensor([1, 768],\"float32\"),), axis=0, )\r\n```\r\n2. 在所有Paddle单元测试（CI）、集成测试（CE）流水线中，抓取所有Paddle API的调用配置，形成了PaddleAPITest/tester/api_config下以“api_config_CI”，“api_config_CE”开头的配置集。对以上配置集进行去重、排序、梳理得到了以“api_config_merged”开头的配置集。\r\n\r\n3. 在 PaddleAPITest 中开发一套**引擎**，加载配置集，初始化相应Tensor，调用相应API执行前/反向测试。\r\n\r\n4. 在 PaddleAPITest 中开发一套**转换工具**，在调用Paddle API测试的同时，等同的调用Torch API，做精度对比测试。\r\n\r\n5. 对采集到的配置集进行shape篡改，得到了“bigtensor”、“0sizetensor”开头的配置集。\r\n\r\n6. 通过与Torch对比，如果出现以下情况则认为Paddle API有必要确认是否正确并修复：\r\n>a. 精度diff\r\n>\r\n>b. Torch正常，Paddle报错\r\n>\r\n>c. Torch正常，Paddle **CoreDump**或**CUDA Error**\r\n\r\n\r\n## 2. 项目结构\r\n\r\n目前项目结构如下所示，主要分为report和tester文件夹，report用于储存内核报错的api信息，tester用于测试配置的正确性。\r\n\r\n在引擎补齐这一任务中，出现的内核报错均放置于report/fresh_report中。\r\n\r\ntester/api_config中存放测试通过（merged*）/暂未通过（merged_not_support*）的配置。\r\n\r\ntester/api_config/config_analyzer.py是引擎补齐任务的核心代码。\r\n\r\n```\r\n├── engine.py\r\n├── __init__.py\r\n├── README.md\r\n├── report\r\n│   ├── 0size_tensor\r\n│   ├── big_tensor\r\n│   ├── ci_ce\r\n│   └── fresh_report\r\n└── tester\r\n    ├── accuracy.py\r\n    ├── api_config\r\n    ├── base.py\r\n    ├── __init__.py\r\n    ├── paddle_cinn_vs_dygraph.py\r\n    ├── paddle_only.py\r\n    ├── paddle_to_torch\r\n    └── __pycache__\r\n```\r\n\r\n## 3. 使用介绍\r\n\r\n### 环境配置\r\n运行环境分为**cpu**环境与**gpu**环境，cpu和gpu上运行的结果**可能存在差异**，即存在cpu上能够正确运行，但gpu上报错的情况。因此需要根据需求正确安装环境。\r\n\r\n下载链接：https://www.paddlepaddle.org.cn/install/quick?docurl=/documentation/docs/zh/develop/install/pip/windows-pip.html\r\n\r\n若需要本地编译paddle，可参考链接：https://www.paddlepaddle.org.cn/documentation/docs/zh/install/compile/linux-compile-by-make.html\r\n\r\n测试CPU除了通过上述链接安装CPU的最新develop包之外，还可使用如下指令设置Paddle工作在CPU模式：\r\n```\r\npaddle.device.set_device(\"cpu\")\r\n```\r\n\r\n### 使用说明\r\n\r\n所有测试前，**必须创建**一个目录：PaddleAPITest/tester/api_config/test_log/，用于存放测试所产生的测试结果和checkpoint。\r\n\r\nPaddleAPITest目前支持paddle_only、accuracy、paddle_cinn三种测试：\r\n>paddle_only，用于单纯把配置在Paddle动态图跑一遍，验证PaddleAPITest 引擎**是否支持**该配置。\r\n>\r\n>accuracy，用于将Paddle API的前反向与**Torch**的前反向做精度对比测试。\r\n>\r\n>paddle_cinn，用于Paddle动态图与Paddle静态图编译器做精度对比测试。\r\n\r\n当测试**单个配置**时，可使用下面的代码，--api_config中输入待测试的配置内容：\r\n\r\n仅测试paddle**是否支持**：\r\n```\r\npython engine.py --paddle_only=True --api_config='paddle.abs(Tensor([1, 100],\"float64\"), )'\r\n```\r\n测试输出**是否准确**：\r\n```\r\npython engine.py --accuracy=True --api_config='paddle.abs(Tensor([1, 100],\"float64\"), )'\r\n```\r\n动态图和静态图测试：\r\n```\r\npython engine.py --paddle_cinn=True --api_config='paddle.abs(Tensor([1, 100],\"float64\"), )'\r\n```\r\n\r\n**值得注意**的是配置txt中统一使用双引号\"，因此建议--api_config=''使用单引号，或在配置中手动添加转义斜杠\\\r\n\r\n当需要测试的配置数目较多时，手动单次输入将**非常低效**，这种情况下可以使用如下所示的**批量测试**指令，将配置保存在一个txt中，并将指令中的路径设置为txt的路径即可：\r\n```\r\npython engine.py --api_config_file=/host_home/wanghuan29/PaddleAPITest/tester/api_config/api_config.txt --accuracy=True > tester/api_config/test_log/log.log 2>&1\r\n\r\npython engine.py --api_config_file=/host_home/wanghuan29/PaddleAPITest/tester/api_config/api_config.txt --paddle_only=True > tester/api_config/test_log/log.log 2>&1\r\n\r\npython engine.py --api_config_file=/host_home/wanghuan29/PaddleAPITest/tester/api_config/api_config.txt --paddle_cinn=True > tester/api_config/test_log/log.log 2>&1\r\n```\r\n\r\n运行配置时，可能会存在bug导致**测试中断**。PaddleAPITest开发了checkpoint机制，记录“已测试”配置。可以通过如下命令启动批量测试：\r\n```\r\nfor i in {1..10000}; do python engine.py --api_config_file=/host_home/wanghuan29/PaddleAPITest/tester/api_config/api_config_merge.txt --accuracy=True >> tester/api_config/test_log/log.log 2>&1; done\r\n\r\nfor i in {1..10000}; do python engine.py --api_config_file=/host_home/wanghuan29/PaddleAPITest/tester/api_config/api_config_merge.txt --paddle_only=True >> tester/api_config/test_log/log.log 2>&1; done\r\n\r\nfor i in {1..10000}; do python engine.py --api_config_file=/host_home/wanghuan29/PaddleAPITest/tester/api_config/api_config_merge.txt --paddle_cinn=True >> tester/api_config/test_log/log.log 2>&1; done\r\n```\r\n",
        "issue_number": "57",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-18T06:38:50+00:00",
        "closed_at": "2025-04-18T10:57:00+00:00",
        "additions": 108,
        "deletions": 8,
        "changed_files": 1,
        "commits": [
            "de39ccddb0c0a6e049f37176b93c37bba15a95e0",
            "78c69f0e368fa0a2cc33a624414dfe24158dbbca",
            "5b2e1eb8e5199fd7ba9ef021135b23ef6e9e0a74",
            "27b6688c23de383dc1fd6844b7b26e5408bca3ca",
            "94dc96203784ade4976a7b5231e59d94a332d9a8",
            "85db6e0a08d24a3907ddc3fec8bbbf6b131b71c0",
            "ba6ff26f8d385528543d8a0594e259e42ae0d5b8",
            "ed01ca6e8f57b6409a2084382477350cb59f9831",
            "f37caba0543ecf6a92e2a0aa73b9b570d9dceab8",
            "f07cd708dcbf115f17cc8b292d30d667384c2291"
        ],
        "comment_by": [
            "mzj104"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 64,
        "title": "【BIT】修复引擎能力补齐的问题：paddle.index_put",
        "body": "根据 @yuwu46 的错误报告，依次检查，发现大部分已经正常处理并已报告 fresh_report，api 分别对应 pr：\r\n\r\npaddle.linalg.eigh\r\npaddle.linalg.matrix_power\r\npaddle.linalg.norm\r\npaddle.linalg.solve\r\npaddle.linalg.svdvals\r\n详见 https://github.com/PFCCLab/PaddleAPITest/pull/15\r\n\r\npaddle.nn.functional.cross_entropy\r\n详见 https://github.com/PFCCLab/PaddleAPITest/pull/36\r\n\r\npaddle.index_put\r\n详见 https://github.com/PFCCLab/PaddleAPITest/pull/54\r\n\r\n其中 paddle.index_put 有两条尚未支持的配置，修改生成方法后，全部 paddle.index_put 通过测试：\r\n\r\n![image](https://github.com/user-attachments/assets/8acb2ab8-5715-4190-a58c-276c6ea43b0f)\r\n",
        "issue_number": "64",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-22T04:23:10+00:00",
        "closed_at": "2025-04-22T07:03:23+00:00",
        "additions": 3,
        "deletions": 3,
        "changed_files": 1,
        "commits": [
            "e6d5db8a4fa5e2665a3cdf70d49e934ff305eccc",
            "2c69ef65a6731640ef81bedd9265f48ab1ab7da9",
            "424934f38ffecc47a9bb88108196db0c1c61391c"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 56,
        "title": "【BIT】engineV2：支持程序多卡并行，实现负载均衡、超时/崩溃重启",
        "body": "## 修改原因：\r\n\r\n1. test_log 文件夹未创建时会直接报错\r\n2. 原有代码会长期持有写入文件，无法进行单一项目的并行化，只能新建多个项目分别运行\r\n3. 进行 accuracy 测试时 **运行很慢**，即使对 converter 增加了 cache 与预编译后仍旧太慢\r\n\r\n## 修改内容：\r\n\r\n### log_writer.py\r\n\r\n1. 主动创建 test_log 文件夹，同学们现在可以直接删去整个文件夹了\r\n2. 将所有读写 test_log 的逻辑移至此处，向外提供 **进程安全** 的读写方法 write_to_log()、read_log() \r\n3. 测试类不再长期持有 log 文件，只有需要写入时才获取文件读写权限\r\n4. 进程分别写入各自文件，减少竞争；最终由主进程聚合至同一文件，保留原有逻辑（临时文件将被删除）\r\n\r\n### engineV2.py\r\n\r\n1. 增加参数 --num_gpus，≥ 1 时将采用多卡并行，默认为 0，其他情况将在单卡上运行\r\n2. 增加参数 --num_workers_per_gpu，默认为 1，表示每个 gpu 上的工作进程数\r\n3. 支持进程级并行，采用开源的多进程 Pebble 库的进程池 ProcessPool，能够完美地分发任务、杀死并重启超时、崩溃的进程；每个配置将对应一个 future 任务，由工作进程认领，实现进程间的 **负载均衡**\r\n4. run_test_case() 作为进程的执行函数，运行单个配置 ，保证主干执行逻辑不变\r\n5. estimate_timeout()  估算单个配置的运算时间（通过第一个 tensor 的大小），采用阶梯级的大致估计（需注意启动时将花费约1分钟，因此低于1分钟的细粒度估计将会出错）\r\n6. init_worker() 初始化所有工作进程，将工程进程绑定至固定 gpu，避免执行环境的频繁变动；重启的工作进程将自动寻找空缺的 gpu\r\n7. cleanup() 与中断信号绑定，杀死主进程后可以安全快速中断所有子进程\r\n\r\n### 其他修改\r\n\r\n1. engine.py 与所有测试类均使用了 log_writer，删去多余的文件路径\r\n2. 编写了执行脚本 run.sh，避免手动输入参数，并实现后端运行（使用 nohup，可以直接终止终端）\r\n\r\n## 测试结果：\r\n\r\n已对 paddle.add 上千条配置进行广泛的 accuracy 测试，已证实 engineV2 的可用性\r\n\r\n预估进行 accuracy 测试时运行速度将加快 **3-5** 倍\r\n",
        "issue_number": "56",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-18T03:05:21+00:00",
        "closed_at": "2025-04-24T10:23:53+00:00",
        "additions": 539,
        "deletions": 162,
        "changed_files": 10,
        "commits": [
            "15b3ea40b56ee29b6cf547343b9f31b8c628882b",
            "cd87d950f54652958c767c0b09245b3e067d0a83",
            "1f50ef29eb8fb76e7fb73e5d437eb387a23f72e0",
            "467f730c0ca8d239364a6b3c34be57aa8e2c2c8e",
            "c8c1e73f74aeb7d600709ee0a54a05477ceb7d00",
            "e2ecdc78dc45241a54193578ec6335e3031ffa71",
            "5940a2f589436ddb76373cc3ee7d8c990babd96d",
            "be31abcf2c4852bf1b18aa2920382700523b1371",
            "edfa99a778fa888a0bb279d51ad18a7bb2ffb0cb",
            "178a4bae73d6b88e69004479417a9bb5297be825",
            "572ea7cc596803972e1d6a61de182948749982d3",
            "a2d9befdb2424840962fa863f6eddfd4a19d9acd",
            "882520b80a125f14617744d052e052a77eed25a7",
            "3314655395b5ccbd535146e0f73cb932a5384f21",
            "2015cb3e6ec487d72f6c5a9197aef6fa631429b1",
            "05ed42a12e773a8b30cda44bdec44366487fb35f",
            "6177e0156154335b27893cff96be3995d444771d",
            "9b2240433b351138b61d6b6c6ece11e2dfbd924a",
            "0be6d76f0b8b90cf34d0902541f4030d6597c627",
            "52c563b0ee2382763cbe1d08fcddfab0987c4dd9",
            "cd5ce7df7bf893f743e0bd4fca6f3b2855631a23",
            "a7f718a8fa8292d0ee6d61338ec8fd7bb34a5859",
            "a190a42bd814480340428b5a3f521d3fefd89022",
            "d281be076cf32bf68e8ce546692b2db0f9e5182d",
            "95c800ebf0db9a04e97df27cc941ec5eccc51b2f",
            "323ce6ae46e81ac0b901221243f40b19c72c4d8f",
            "aa1c5349a1b55444fded453f4518bc8bd359aae4",
            "345e27fced113819d77936bdca8cfe3f4762f04d",
            "7f4e151a978300772a126f155869774c55c39426"
        ],
        "comment_by": [
            "Cutelemon6",
            "cangtianhuang",
            "Cutelemon6",
            "Cutelemon6"
        ],
        "review_by": [
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 63,
        "title": "【BIT】修复了引擎补齐中遗留的问题",
        "body": "由于get_arg的变动导致之前的atan2、gather、gather_nd报错，已对其进行修复\r\n\r\n同时将之前忽略的0 size问题加入了fresh report\r\n```\r\npaddle.atan2(Tensor([5, 17, 1, 6],\"float64\"), Tensor([5, 17, 0, 6],\"float64\"), )\r\npaddle.atan2(Tensor([5, 17, 6],\"float64\"), Tensor([0, 5, 17, 6],\"float64\"), )\r\n```\r\n\r\n将之前忽略的float16支持问题加入了fresh report\r\n```\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 10164, 80],\"float16\"), Tensor([8, 10164, 80],\"float32\"), weight=Tensor([8, 10164, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 11109, 80],\"float16\"), Tensor([8, 11109, 80],\"float32\"), weight=Tensor([8, 11109, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 12096, 80],\"float16\"), Tensor([8, 12096, 80],\"float32\"), weight=Tensor([8, 12096, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 2100, 80],\"float16\"), Tensor([8, 2100, 80],\"float32\"), weight=Tensor([8, 2100, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 2541, 80],\"float16\"), Tensor([8, 2541, 80],\"float32\"), weight=Tensor([8, 2541, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 3024, 80],\"float16\"), Tensor([8, 3024, 80],\"float32\"), weight=Tensor([8, 3024, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 3549, 80],\"float16\"), Tensor([8, 3549, 80],\"float32\"), weight=Tensor([8, 3549, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 4116, 80],\"float16\"), Tensor([8, 4116, 80],\"float32\"), weight=Tensor([8, 4116, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 4725, 80],\"float16\"), Tensor([8, 4725, 80],\"float32\"), weight=Tensor([8, 4725, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 5376, 80],\"float16\"), Tensor([8, 5376, 80],\"float32\"), weight=Tensor([8, 5376, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 6069, 80],\"float16\"), Tensor([8, 6069, 80],\"float32\"), weight=Tensor([8, 6069, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 6804, 80],\"float16\"), Tensor([8, 6804, 80],\"float32\"), weight=Tensor([8, 6804, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 7581, 80],\"float16\"), Tensor([8, 7581, 80],\"float32\"), weight=Tensor([8, 7581, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 8400, 80],\"float16\"), Tensor([8, 8400, 80],\"float32\"), weight=Tensor([8, 8400, 80],\"float32\"), reduction=\"sum\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([8, 9261, 80],\"float16\"), Tensor([8, 9261, 80],\"float32\"), weight=Tensor([8, 9261, 80],\"float32\"), reduction=\"sum\", )\r\n```\r\n\r\n",
        "issue_number": "63",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-22T02:38:55+00:00",
        "closed_at": "2025-04-22T04:44:29+00:00",
        "additions": 32,
        "deletions": 20,
        "changed_files": 3,
        "commits": [
            "aa8c0f463686819a4988df4499c04c14e66d83f0",
            "6da8b5def2523fbe87eec24dffb0f5427dd1ca8a"
        ],
        "comment_by": [
            "mzj104"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 58,
        "title": "[BIT]更新0-size Tenosr 在cpu下的paddle_only report",
        "body": "### 更新原因\r\n\r\n旧版仓库中，`paddle_only.py` 文件中 `APITestPaddleOnly` 缺少对父类 `APITestBase` 构造函数的调用 (`super().__init__(api_config)` )，导致部分测试配置的 `outputs_grad_numpy` 等属性未初始化。\r\n\r\n### 测试结果\r\n\r\n添加了对父类构造函数的调用后，重新对 `0sizetensor_paddleonly.txt` 进行 `paddle_only` 测试，结果显示部分配置已可通过，重新整理出错信息后，对 `report/0size_tensor_cpu/paddle_only` 下的报告做了更新。同时，所有的测试用例及结果已经通过了人工检查与脚本检测，保证了内容的完整性。\r\n![image](https://github.com/user-attachments/assets/9f3c2243-8e22-47bd-a251-af911bfeea8d)\r\n",
        "issue_number": "58",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-18T09:21:14+00:00",
        "closed_at": "2025-04-18T09:25:25+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [
            "31f92f9ed6cf8b1689d54c73a84e8238a592b2e0",
            "e2f6b77d5e16398c606cc6781dc2da29d12be564"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 59,
        "title": "[BIT]更新0-size Tenosr 在cpu下的report",
        "body": "### 更新原因\r\n由于测试是在CPU环境下进行，故将`“(NotFound) The kernel with key”`的报错信息视为符合预期的结果。\r\n### 更新方法\r\n对accuracy和paddleonly出错日志文件中报错信息为`“(NotFound) The kernel with key”`的信息进行过滤，过滤后经检测，其余信息均得到了保留。\r\n![image](https://github.com/user-attachments/assets/f7bee472-7660-41fa-9759-d7d9285ce81e)\r\n![image](https://github.com/user-attachments/assets/5d0562b0-13cf-4688-bdd8-73fd728e9d81)\r\n\r\n",
        "issue_number": "59",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-18T11:56:45+00:00",
        "closed_at": "2025-04-18T12:25:27+00:00",
        "additions": 159368,
        "deletions": 10902,
        "changed_files": 6,
        "commits": [
            "61dd35dd7d4562c208078474e1cfa3a47fe1361b"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 66,
        "title": "[BIT]修复引擎能力补齐复测中merged_10文件中的问题",
        "body": "经复测，`api_config_merged_10.txt` 文件中存在以下两个报错API：\r\n\r\n1. **paddle.nn.functional.adaptive_log_softmax_with_loss**：\r\n   - **出错配置**：`paddle.nn.functional.adaptive_log_softmax_with_loss(Tensor([4, 8],\"float32\"), Tensor([4],\"int64\"), Tensor([8, 3],\"float32\"), list[list[Tensor([8, 4],\"float32\"),Tensor([4, 2],\"float32\"),],], list[2,4,], None, )`\r\n   - **更正方法**：优化 `'config_analyzer.py'` 文件中的张量生成逻辑，以避免在测试准备阶段为特定参数生成可能导致维度不匹配的张量，确保所生成的张量符合 API 的输入要求。\r\n\r\n2. **paddle.nn.functional.sequence_mask**：\r\n   - **报错配置**：`paddle.nn.functional.sequence_mask(Tensor([0],\"int64\"), )`\r\n   - **问题说明**：该配置存在0-size tensor问题，相关问题报告已于PR[#45](https://github.com/PFCCLab/PaddleAPITest/pull/45)上报至 `'PaddleAPITest/report/fresh_report/test_log_paddle.nn.functional.sequence_mask.log'` 中。",
        "issue_number": "66",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-22T07:38:34+00:00",
        "closed_at": "2025-04-22T07:40:21+00:00",
        "additions": 7,
        "deletions": 6,
        "changed_files": 1,
        "commits": [
            "f4277a5d9c1e763d5dddc484e91d3b0907511596",
            "f52ee462ff95ac05cf7ad907efa07ca20129821a"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 62,
        "title": "【BIT】转换能力补齐：paddle.cum[max min prod]、paddle.equal_all、paddle.[empty empty_like]",
        "body": "## 修改内容\r\n\r\n### accuracy.py\r\n\r\n感谢 @cszdrg 提出的建议：调换了生成 paddle input 和 torch input 的顺序，首先生成 paddle input，否则任务线条一的修改均无法适用\r\n\r\n### rules.py\r\n\r\n略微修改了 code 生成顺序，代码可读性更好（代码逻辑没变）\r\n\r\n### paddle.cummax、paddle.cummin\r\n\r\n查询 [torch.cummax 与 paddle.cummax 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.cummax.html) ，已有详细对比，发现是 `paddle 参数更多`，需要为结果设置 dtype、且 paddle 的 axis 参数允许为 None，需要特殊处理。因此决定自定义 Rule。\r\n\r\npaddle.cummax 与 paddle.cummin 是同类 api，因此为其注册同一个 CumRule，由 paddle_api 区分。当 axis 为 None 时，展平 x，axis 设置为0。torch 的输出结果为 torch.return_types.cummax 类型的元组，为其中的 values 设置为 dtype。具体操作详见 CumRule。\r\n\r\n### paddle.cumprod\r\n\r\n查询 [torch.cumprod 与 paddle.cumprod 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.cumprod.html)，已有详细对比，发现 `两者参数数量相同`，但是 paddle 的 dim 参数允许为 None，需要特殊处理。因此决定自定义 Rule。\r\n\r\n为 paddle.cumprod 注册 CumprodRule，当 axis 为 None 时，展平 x，axis 设置为0；设置 dtype 为 torch 的数据类型，并设定默认值（由 paddle 的默认值决定），再调用 api 直接返回即可。\r\n\r\n### paddle.equal_all\r\n\r\n查询 [torch.equal 与 paddle.equal_all 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.equal.html)，已有详细对比，发现 `两者仅参数名不同`，且 Paddle 返回 0-D bool Tensor 的后续逻辑已在 accuracy.py 中处理，不再需要我们使用 .item()。因此仅需要撰写直接映射的配置即可。\r\n\r\n对应 torch.equal，编写 paddle_torch_args_map 进行直接映射。\r\n\r\n### paddle.empty、paddle.empty_like\r\n\r\n由王欢导师说明，此两者的张量值由内存随机决定，无法进行 accuracy 对比，移入 rand_apis。但也为此两个api支持了 paddle2torch 转换，测试后均能正常转换（accuracy 报错）。\r\n\r\n## 测试结果\r\n\r\n相关测试配置基本通过，仅有一条 paddle.cumprod 未通过 accuracy 测试，反复测试后已在 fresh_report 中报告；paddle.empty、paddle.empty_like 配置移入 paddleonly，其他配置移入 support2torch。\r\n\r\n![image](https://github.com/user-attachments/assets/ab58d57f-435b-480d-bdcd-e517745f7954)\r\n",
        "issue_number": "62",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-21T12:55:34+00:00",
        "closed_at": "2025-04-22T06:53:57+00:00",
        "additions": 466,
        "deletions": 373,
        "changed_files": 9,
        "commits": [
            "e4f8691d29d5ecee1b5d97981712d0cc5f3a5f05",
            "2277763fbd6bacf1116ae4dd26a53c5609d7be1e",
            "bff3bdf93bdd95f20882e8381914d468dce42d4a",
            "a499daeb38026ce84a2ab21ccf27d8f9eb7c2db8",
            "31b5678d5788d977fc545e8cf682bffe007a5a1c",
            "42e372319416a8df2fc4bf82b5b51a4d97041f4b"
        ],
        "comment_by": [],
        "review_by": [
            "wanghuancoder",
            "wanghuancoder",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cszdrg",
            "wanghuancoder",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 65,
        "title": "[BIT] 引擎补齐：在复测后的修复",
        "body": "### 概览\r\n修复或者检查了 merged_2 ~ merged_6，merged_11 中属于自己认领的报错，具体为\r\n* merged_5 中 paddle.nn.functional.max_unpool1d, paddle.nn.functional.max_unpool2d, paddle.nn.functional.max_unpool3d，已修复\r\n* paddle.Tensor.\\_\\_mul__，bf16 问题，已放入 fresh_report \r\n* paddle.Tensor.\\_\\_sub__，kernel 问题，已放入 fresh_report \r\n* paddle.clip，已修复\r\n* paddle.incubate.nn.functional.fused_rms_norm，kernel unimplemented 问题，已放入 fresh_report \r\n* paddle.incubate.nn.functional.masked_multihead_attention，kernel 问题，已放入 fresh_report \r\n* paddle.nn.functional.feature_alpha_dropout，添加随机性 api 逻辑到 need_skip()\r\n* paddle.nn.functional.poisson_nll_loss，bf16 问题，已放入 fresh_report \r\n* paddle.nn.functional.softmax，bf16 问题，已放入 fresh_report \r\n* paddle.normal，修复 skip 列表\r\n* paddle.roll cuda kernel 问题，已放入 fresh_report \r\n* paddle.signal.istft 相关 Paddle 仓库 PR [#72282](https://github.com/PaddlePaddle/Paddle/pull/72282) 已于 4月18日合入，使用 0421 paddle库 develop 分支构建的安装包测试能够通过\r\n\r\n### max_unpool{1d, 2d, 3d}\r\n修复时调用了 max_pool{1, 2, 3}d_with_index 这个 kernel，这个 kernel 不支持 int64 的 x，所以遇到 int64 将其转换为 float64\r\n\r\n### paddle.clip\r\nPR #42 中对 clip 进行了不完全的 min 变量改名为 min_numpy_tensor，回测发现了这个问题\r\n\r\n### paddle.nn.functional.feature_alpha_dropout\r\nPR #40 中仅更新了随机性函数 api list，本 PR 添加随机性 api 逻辑到 need_skip()\r\n\r\n### paddle.normal\r\nskip 列表每个 str api 应该有 `,` 分隔，否则两个 str 会合并\r\n\r\n## 转换能力补齐\r\n### paddle.as_strided \r\n直接映射，仅参数名称不同。配置全部通过，移入 accracy_support_11.txt。",
        "issue_number": "65",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-22T04:33:53+00:00",
        "closed_at": "2025-04-22T09:00:02+00:00",
        "additions": 56,
        "deletions": 78,
        "changed_files": 7,
        "commits": [
            "7e19ed70c714c18b7a5d2270242f5120f398a0ef",
            "389afe17132786a9fc1a952804a45a7fdae39e7d",
            "232df4a1f252fbea2992341834d7d8de2a057533",
            "5aaa13b8ca38a1caa895894312c4da6698203ba0",
            "3089cd8aa10dcfd82a8c00bd8e5f546c68aa5986",
            "5b9ffa0ef404825854fbab820e6555465768d4e9",
            "133cacd4f05616c88b4fd5150ded7c489b85a1de",
            "77d99ac20422481a4abed0a6de30537c080333de"
        ],
        "comment_by": [
            "cangtianhuang"
        ],
        "review_by": [
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 67,
        "title": "[BIT]引擎能力补齐：paddle.linspace paddle.Tensor.fill_ paddle.Tensor.zero_ 以及引擎一之前的任务复测",
        "body": "# paddle.Tensor.fill_ paddle.Tensor.zero_ \r\n在是否进行梯度计算上出现问题，经排查发现是base中的need_check_grad出现问题，将该函数代码回滚为最初状态得到解决\r\n# paddle.linspace\r\n要求值大于0 已解决\r\n# paddle.reshape\r\n增加对0-size的特判\r\n# paddle.vision.ops.generate_proposals\r\n为amp问题，在amp文件中已经存在，故删除",
        "issue_number": "67",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-22T08:29:45+00:00",
        "closed_at": "2025-04-22T09:03:20+00:00",
        "additions": 60,
        "deletions": 46,
        "changed_files": 4,
        "commits": [
            "0a7aeeb276731c2a0c5175842fd425819476d7fb",
            "3572ba3880b12842782f5f15b6a6df59e7258681",
            "18edb0309dde1631ff1043094d35e0a35fc0fc6b"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 71,
        "title": "[BIT]完善 paddleonly 测试",
        "body": "# 完善 paddleonly 测试\r\n\r\n为提升 paddleonly 测试的完善度与后续维护的便捷性，本次提交涉及以下改进内容：\r\n\r\n## 一、调整报告结构（`report/fresh_report/paddleonly`）\r\n\r\n对 `report/fresh_report/paddleonly` 目录下的错误报告进行优化处理：\r\n- 将错误报告的文件后缀统一修改为 `.log`，并将其归档至 `report/fresh_report/paddleonly/error_log` 子目录中，以实现更清晰的分类管理。\r\n- 从错误报告中提取错误信息，分别生成 `error_api.txt` 和 `error_config.txt` 文件。这两个文件将便于后续的回测对比分析，有助于快速定位与排查问题。\r\n\r\n## 二、补充`test_pipline`内容\r\n\r\n针对 `test_pipline` 目录，进行了以下改进：\r\n1. **编写文档**：新增 `README.md` 文件，用于详细阐述该目录下各文件的功能与用途，为使用者提供清晰的指引。\r\n2. **创建gpu_paddleonly目录**：创建 `gpu_paddleonly` 子目录，专门用于存放与测试引擎能力补齐任务相关的脚本工具，以增强测试流程的针对性与系统性。\r\n3.  **适配启动与停止脚本**：为 `test_pipline` 下的每个文件目录增添适配 `start_all` 和 `stop_all` 的脚本。",
        "issue_number": "71",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-23T10:05:19+00:00",
        "closed_at": "2025-04-24T01:59:32+00:00",
        "additions": 1033,
        "deletions": 0,
        "changed_files": 71,
        "commits": [
            "431d50c8ccda73f51ac8752ecbd89592c82d1466",
            "b13fc4497367579d668ddc8bf760cb444655881e",
            "f5ef9c84eca1b898649b0bde7ef2b96bbf977673",
            "9a32c34578557893be00c60c7054d99f8e51f10d",
            "80fc83e20d53ce0f274c9c11ea2174f04235aaff",
            "ac696e6065c3fcad04f63988385f480e05a03db9",
            "9a7135aa0a26474a6bd57fab67dde5657037e4b0",
            "b42427ad9e9da15aea55137ce2f47c8885eba59b",
            "f39414e9046e76123ea0192e9a864160bfec69e9",
            "b78be099cfeded1b7e46ceda119b7d6d6f8aa322",
            "01aff5f3928ed4b6a6daa4e51f6afd50120530fc"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 68,
        "title": "[BIT] 转换能力补齐：greater_equal greater_than less less_equal less_than",
        "body": "5 个 api 均有对应 torch 实现\r\n### paddle.less\r\nresult = torch.lt(input=x, other=y)\r\n\r\n### paddle.less_equal\r\nresult = torch.le(input=x, other=y)\r\n\r\n### paddle.less_than\r\nresult = torch.lt(input=x, other=y)\r\n\r\n### paddle.greater_equal\r\nresult = torch.ge(input=x, other=y)\r\n\r\n### paddle.greater_than\r\nresult = torch.gt(input=x, other=y)",
        "issue_number": "68",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-22T09:25:26+00:00",
        "closed_at": "2025-04-22T10:22:37+00:00",
        "additions": 154,
        "deletions": 113,
        "changed_files": 3,
        "commits": [
            "887aaecc77de3e80719abc838d42d1ef01d17a94",
            "53685212824d778da0214fd748d06cd2659d399b",
            "44db9a89847b8e74d98b45c73f46bd8440d38c65",
            "ba20c6fddcf50c3fbaf27ae3ba7216b8be8d14b8",
            "fd1f3ec551374804cf5bc4124868b9d85472514f",
            "14264b50199f784c2bb3be4fc91088f3ebbc1947",
            "0fa714c676c557305a06ff0c0b24c9ac2f3d36e4",
            "f37b364e453721a64dfe3dc47bd2b8aaf34667e2",
            "91963ea9ba9ce51205500e691392229419261d26",
            "3e9ed7003c40ab0940d0a32ded60be5d5fda5c7e"
        ],
        "comment_by": [
            "Cutelemon6"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 76,
        "title": "【BIT】转换能力补齐：paddle.Tensor.[isinf isnan item less lgamma]",
        "body": "## 转换能力补齐\r\n\r\n### paddle.Tensor.isinf\r\n\r\n查询 [torch.Tensor.isinf 与 paddle.Tensor.isinf 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.isinf.html) ，已有详细对比，发现是 `均无参数 `，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.isnan\r\n\r\n查询 [torch.Tensor.isnan 与 paddle.Tensor.isnan 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.isnan.html) ，已有详细对比，发现是 `均无参数 `，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.item\r\n\r\n查询 [torch.Tensor.item 与 paddle.Tensor.item 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.item.html) ，已有详细对比，发现是 `paddle 参数更多`，因此撰写自定义的 Rule 类。\r\n\r\n### paddle.Tensor.less\r\n\r\n经查阅资料，发现 less 与 less_than 是相同 api，查询 [torch.Tensor.less 与 paddle.Tensor.less_than 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.less.html) ，已有详细对比，发现是 `仅参数名不同`，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.lgamma\r\n\r\n查询 [torch.Tensor.lgamma 与 paddle.Tensor.lgamma 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.lgamma.html) ，已有详细对比，发现是 `均无参数 `，因此撰写直接映射的配置。\r\n\r\n## 测试结果\r\n\r\n相关测试配置全部通过，已全部移入 api_config_support2torch_1.txt（merged_13 中部分配置重复，去重3条后剩余62条）\r\n\r\n![image](https://github.com/user-attachments/assets/4e710c6f-0d85-4682-b3d5-208ea2a59be3)\r\n",
        "issue_number": "76",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-24T14:40:24+00:00",
        "closed_at": "2025-04-25T01:59:53+00:00",
        "additions": 94,
        "deletions": 66,
        "changed_files": 5,
        "commits": [
            "7d6eee122fc6bdf7fdbe8a6a83eb1b9d8b645f29",
            "3fa8d79801b23c6b895fb384c4923a673c338188",
            "57ec73fda5a1d644e997e31dc8ffb41018106cb8"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 75,
        "title": "【BIT】转换能力补齐：paddle.Tensor.[max min mod multiply neg] rules README",
        "body": "## 转换能力补齐\r\n\r\n### paddle.Tensor.max\r\n\r\n查询 [torch.Tensor.max 与 paddle.Tensor.max 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.max.html) ，已有详细对比，发现是 `仅参数名不同`，返回参数类型的不一致已在 accuracy.py 中解决（提取 namedtuple 的 values 部分）。因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.min\r\n\r\n与 paddle.Tensor.max 是同类 api，处理一致。查询 [torch.Tensor.min 与 paddle.Tensor.min 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.min.html) ，已有详细对比，发现是 `仅参数名不同`，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.mod\r\n\r\n查询 [torch.Tensor.fmod 与 paddle.Tensor.mod 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.fmod.html) ，已有详细对比，发现是 `仅参数名不同`，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.multiply\r\n\r\n查询 [torch.Tensor.mul 与 paddle.Tensor.multiply 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.mul.html) ，已有详细对比，发现是 `仅参数名不同`，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.neg\r\n\r\n查询 [torch.Tensor.neg 与 paddle.Tensor.neg 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.neg.html) ，已有详细对比，发现是 `均无参数 `，因此撰写直接映射的配置。\r\n\r\n## rules.py README.md\r\n\r\n增加了 apply_generic() 方法，编写 Rule 时也可以添加更多配置了！Rule 中需手动调用该方法获取初始 code 列表。\r\n\r\n同时更新了 README 中的描述。\r\n\r\n## engineV2.py log_writer.py\r\n\r\n修复了一些小问题：增大了 estimate_timeout 最低时间，避免启动时报错；调整了 NUM_GPUS=0 时 log_writer 的逻辑；test_log 采用续写逻辑而非覆盖\r\n\r\n## 测试结果\r\n\r\n相关测试配置全部通过，仅有类似 `element 0 of tensors does not require grad and does not have a grad_fn` 的报错，不做处理\r\n\r\n配置已全部移入 api_config_support2torch_1.txt\r\n\r\n![image](https://github.com/user-attachments/assets/9bec7d83-c38b-43cd-a62a-b98688b1d869)\r\n",
        "issue_number": "75",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-24T14:23:52+00:00",
        "closed_at": "2025-04-25T01:55:57+00:00",
        "additions": 12822,
        "deletions": 12738,
        "changed_files": 9,
        "commits": [
            "0193c2cac363258937de8e3c962a3f43d761f942",
            "1dcc0ca73bd5c535d7c7dc351aacbf3b28bfb97f",
            "28a272ca0864426bff5ee074cffa899782f2f10e",
            "ba252dbfff8cffbbf8198d3639890fd89736beeb",
            "47964c899e4574a480cca0ac5e9a6ae3285623e1"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 70,
        "title": "[BIT] 转换能力补齐：expand expand_as Tensor.enpand divide floor_divide",
        "body": "修改内容\r\n------------ \r\nexpand expand_as Tensor.expand 使用编写rules的方法：\r\n\r\nexpand：\r\n`result = x.expand(*shape)  `\r\n\r\nexpand_as:\r\n`result = x.expand_as(y)  `\r\n\r\nTensor.expand:\r\n`result = x.expand(*shape)  `\r\n\r\ndivide 和 floor_divide使用mapping\r\n\r\n测试的配置中，除特殊的两个外（size为list[]和tuple()），均能通过。\r\n\r\n这两个属于配置本身有问题，size必须有值，不能是空的list或tuple\r\n<img width=\"708\" alt=\"image\" src=\"https://github.com/user-attachments/assets/9ba6f2dd-79f7-495b-9f7e-c4efd98618a8\" />\r\n\r\n---------\r\n\r\n修复了paddle.Tensor. 这一类api的转换问题：\r\nbase.py中删除冗余的代码：\r\n```\r\nself.torch_kwargs_config[\"self\"] = self.api_config.args[0]\r\nargs = args[1:]\r\n```\r\n由于kwargs一定包含了args的信息，所以bind之后应该把self.torch_args_config置为空列表，否则可能会出现torch grad形状不匹配的问题\r\n\r\n同时修改了rules.py中关于paddle.Tensor. 的部分，把args[0] 换成了next(iter(kwargs.values()))\r\n\r\n--------\r\n修复了任务一中expand 和 tensor.expand 隐藏的问题\r\n\r\n",
        "issue_number": "70",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-23T09:04:22+00:00",
        "closed_at": "2025-04-23T10:18:42+00:00",
        "additions": 149265,
        "deletions": 149226,
        "changed_files": 11,
        "commits": [
            "8acebb3a7b577c179c4e799c78f1aa844fd64b24",
            "1b54afaf62fc76ce76e13a48080642800a51a7db",
            "7aa6a6323b0a6e221146c8aafc5001992cadb7c2",
            "82ebd2043166654dcf177c5617125ed8d88965af"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "Cutelemon6",
            "mzj104",
            "mzj104",
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 72,
        "title": "[BIT] 转换能力补齐：__eq__ __ge__ __gt__ __le__ __lt__",
        "body": "### 部分无签名的 paddle.Tensor 函数处理方法\r\n针对没有函数签名的部分 paddle.Tensor 方法，使用 api config 中的位置参数/关键字参数初始化 torch_kwargs 和 paddle_merged_kwargs。\r\n\r\n考虑到传入的 api config 位置参数没有对应的关键字信息，手工编写位置参数映射到关键字参数的字典。因为 api config 是运行时的信息，为了实现 base.py 中的 APITestBase 类中的 ana_torch_api_info 函数与上述映射字典的解耦，将获取固定位置参数的函数映射到静态的关键字参数，并在运行时动态构建。\r\n\r\n针对 paddle 英文文档中找不到的 api，也就没有标准的关键字信息，编写一个虚构的关键字，并将位置参数与其绑定。\r\n\r\n### paddle.Tensor.\\_\\_eq__\r\ntmp_tensor = arg[0], result = tmp_tensor.\\_\\_eq__(other=y)\r\n\r\n### paddle.Tensor.\\_\\_ge__\r\ntmp_tensor = arg[0], result = tmp_tensor.\\_\\_ge__(other=y)\r\n\r\n### paddle.Tensor.\\_\\_gt__\r\ntmp_tensor = arg[0], result = tmp_tensor\\._\\_gt__(other=y)\r\n\r\n### paddle.Tensor.\\_\\_le__\r\ntmp_tensor = arg[0], result = tmp_tensor.\\_\\_le__(other=y)\r\n\r\n### paddle.Tensor.\\_\\_lt__\r\ntmp_tensor = arg[0], result = tmp_tensor.\\_\\_lt__(other=y)",
        "issue_number": "72",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-24T01:16:36+00:00",
        "closed_at": "2025-04-24T02:52:02+00:00",
        "additions": 60518,
        "deletions": 60463,
        "changed_files": 4,
        "commits": [
            "2756069f149046d6dcefc921000f580437e8e73b",
            "285b1095259ac056459ed8b111de2d091699dcd9",
            "747d074ec6d430d67bb0edf4f6972217ad6d9377",
            "642fd1c4fedb722e4cb952de7a166918617a315d",
            "8fd4d8890b85ed2ffe47c3ee783b941fcf816781",
            "bb95cfe806f9a67e9efb9238639faae3cc1e6eb1",
            "36c275d6d8d6887520f07401b006b3e67c8b3011"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 77,
        "title": "【BIT】转换能力补齐：paddle.Tensor.[inverse is_complex], fix error bug",
        "body": "## 转换能力补齐\r\n\r\n### paddle.Tensor.inverse\r\n\r\n查询 [torch.Tensor.inverse 与 paddle.Tensor.inverse 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.inverse.html) ，已有详细对比，发现是 `均无参数 `，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.is_complex\r\n\r\n查询 [torch.Tensor.is_complex 与 paddle.Tensor.is_complex 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.is_complex.html) ，已有详细对比，发现是 `均无参数 `，因此撰写直接映射的配置。\r\n\r\n## 错误修复\r\n\r\n修复了 rules.py 的一处报错逻辑\r\n\r\n## 测试结果\r\n\r\n相关测试配置全部通过，已全部移入 api_config_support2torch_1.txt\r\n\r\n![image](https://github.com/user-attachments/assets/c2fd420f-64a9-4263-b98d-0f57c1f13ffc)\r\n",
        "issue_number": "77",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-25T02:16:43+00:00",
        "closed_at": "2025-04-25T02:17:36+00:00",
        "additions": 116,
        "deletions": 110,
        "changed_files": 5,
        "commits": [
            "04cd493d68cb75b46c862e57f9afb0b619c6e56e",
            "bd9f91c3efac5e24f9e2be2e0880f0b9dcddd710"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 69,
        "title": "【BIT】paddle2torch转换 paddle.vision.ops.psroi_pool paddle.vision.ops.roi_align paddle.vision.ops.roi_pool paddle.tensor.gather paddle.tensor.gather_nd",
        "body": "## paddle.vision.ops.psroi_pool paddle.vision.ops.roi_align paddle.vision.ops.roi_pool\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference_third_party/torchvision/torchvision.ops.ps_roi_pool.html\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference_third_party/torchvision/torchvision.ops.roi_align.html\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference_third_party/torchvision/torchvision.ops.roi_pool.html\r\n三个api处理思路大致相同，args基本可以对应，但是torch中的boxes被对应到paddle中的boxes和boxes_num两个参数，所以需要进行处理\r\n\r\na）经发现 api_config中的boxes_num参数生成存在问题，进行调整输出合适的tensor\r\nb）创建rule处理boxes和boxes_num两个参数\r\nc）存在精度问题，放入report中\r\nd) roi_pool和psroi_pool参数一致 采用相同rule\r\n\r\n## paddle.tensor.gather paddle.tensor.gather_nd\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/gather_cn.html\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/gather_nd_cn.html\r\n这个两个api在torch中没有对应api\r\na)采用torch.narrow将对应维度抽出\r\nb)使用torch.stack进行拼接",
        "issue_number": "69",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-23T05:56:25+00:00",
        "closed_at": "2025-04-24T06:29:08+00:00",
        "additions": 14283,
        "deletions": 14912,
        "changed_files": 10,
        "commits": [
            "938b183becb749961c539fcf74d42194c7049c79",
            "fc8741045431eb4682c2753ecc864e7f2a2e96f9",
            "51f0ce23ad82b0c1d61b691796f34c4de09e284d",
            "0489d1c152c2ac8256fb826d5f9501b30658e557",
            "805d44808b01b468f8d270a9267a4e47edb4b988",
            "ad697773a113d59b668f5bda16b9d2aee70f64cb",
            "99bc178ac77ca1e422dfae00d570320d24b832dc",
            "75034f52994c6aa3c51619851e7b696bb626e97c",
            "9f615852f28a5142355f12c93a5b141ee712b7eb",
            "f2d94f9c5e901ea32c1c02f5870a66280a0ce15a",
            "a78fd3e75e568c7097a6afd786fd5440dc62fcd2",
            "1453b839a300968460e01996887b5e0e2eceafd4",
            "a39da85b732d6d65cd6822df63bddf5b891405cf",
            "43d14337a701ad86008bbeefea301b678a1c217e",
            "2ebc9b5cf948bee7d23f68826ee97a2114b0b467",
            "28ee11942674e20810e5e0d840ad811bc4aa69b9",
            "bb1868c3b8e5ad3891c5c0a9121514d669c9be49"
        ],
        "comment_by": [
            "cszdrg",
            "cangtianhuang",
            "cszdrg",
            "Cutelemon6"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cszdrg",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cszdrg",
            "cszdrg",
            "cszdrg",
            "cszdrg",
            "Cutelemon6",
            "cszdrg",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cszdrg",
            "cszdrg",
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 74,
        "title": "[BIT] 转换能力补齐：scatter scatter_nd scatter_nd_add floor_mod frexp",
        "body": "修改内容\r\n------------ \r\nscatter scatter_nd scatter_nd_add 没有对应关系，需要使用编写rules的方法：\r\n\r\n```\r\npaddle.scatter(x, index, updates, overwrite=True, name=None)\r\npaddle.scatter_nd(index, updates, shape, name=None)\r\npaddle.scatter_nd_add(x, index, updates, name=None)\r\n```\r\n\r\n需要特别注意的是，scatter函数在某些特定参数下，在gpu上运行时会出现随机的结果，导致accuracy出错。\r\n详见：https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/scatter_cn.html\r\n\r\n为了避免这种随机性，应该要在overwrite == True 的情况下，尽量保证index不重复， 所以修改了config_analyzer.py的代码。当index的长度大于范围长度时，不可避免将产生重复值，配置中只有一个配置时这种不可避免的情况， 这个配置太大直接会oom， 已经放到了fresh report：\r\n```\r\npaddle.scatter(Tensor([183826, 256],\"float32\"), Tensor([10759233],\"int64\"), Tensor([10759233, 256],\"float32\"), )\r\n```\r\n----------\r\nfrexp 和 floor_mod使用mapping\r\n\r\npaddle.frexp 和 torch.frexp对应：\r\n```\r\npaddle.frexp(x, name=None)\r\ntorch.frexp(input, out=None)\r\n```\r\npaddle.floor_mod虽然没有直接的对应关系，但经过验证paddle.floor_mod和paddle.mod完全一致，所以使用torch.fmod对应：\r\n```\r\npaddle.floor_mod(x, y, name=None)\r\ntorch.fmod(input, other, *, out=None)\r\n```\r\n\r\n测试的配置中，除前述的特例外，均能通过。\r\n\r\n<img width=\"958\" alt=\"image\" src=\"https://github.com/user-attachments/assets/155ca4e6-7bdb-43d8-b3ec-93bdf8a42a80\" />\r\n\r\n\r\n\r\n",
        "issue_number": "74",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-24T09:22:42+00:00",
        "closed_at": "2025-04-24T10:50:15+00:00",
        "additions": 12282,
        "deletions": 12196,
        "changed_files": 9,
        "commits": [
            "f520ccb22128cfe04f8396de8ad6a6dc16507376",
            "40578a12f2fa760b195f91bd4377d35aa108200d",
            "3e3774b400a7ecc2066cab3bf8e72476145cdde7",
            "1397d42661d73d0c88bf49090cf26c52a721974b"
        ],
        "comment_by": [],
        "review_by": [
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 78,
        "title": "【BIT】转换能力补齐：paddle.Tensor.[imag log log10 log1p logical_not]",
        "body": "## 转换能力补齐\r\n\r\n### paddle.Tensor.imag\r\n\r\n查询 [torch.Tensor.imag 与 paddle.Tensor.imag 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.imag.html) ，已有详细对比，发现是 `均无参数 `。但撰写直接映射的配置后报错：`'Tensor' object is not callable`，检查后发现 [torch.Tensor.imag](https://pytorch.org/docs/stable/generated/torch.Tensor.imag.html) 是 Tensor 的属性而非方法，不应该使用 x.imag() 类似的方法调用。因此为 mapping.json 新增 `is_attribute` 字段，直接返回 x.imag 。\r\n\r\n### paddle.Tensor.log\r\n\r\n查询 [torch.Tensor.log 与 paddle.Tensor.log 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.log.html) ，已有详细对比，发现是 `均无参数 `，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.log10\r\n\r\n查询 [torch.Tensor.log10 与 paddle.Tensor.log10 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.log10.html) ，已有详细对比，发现是 `均无参数 `，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.log1p\r\n\r\n查询 [torch.Tensor.log1p 与 paddle.Tensor.log1p 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.log1p.html) ，已有详细对比，发现是 `均无参数 `，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.logical_not\r\n\r\n查询 [torch.Tensor.logical_not 与 paddle.Tensor.logical_not 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.logical_not.html) ，已有详细对比，发现是 `均无参数 `，因此撰写直接映射的配置。\r\n\r\n## 测试结果\r\n\r\n相关测试配置全部通过，已全部移入 api_config_support2torch_1.txt\r\n\r\n![image](https://github.com/user-attachments/assets/e4bf3f0e-de24-4c93-a5e6-d3251577b068)\r\n",
        "issue_number": "78",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-25T03:22:05+00:00",
        "closed_at": "2025-04-25T06:09:28+00:00",
        "additions": 221,
        "deletions": 547,
        "changed_files": 6,
        "commits": [
            "8c60ed397280f48adee3397b7a0d8835795c144a",
            "926e00c503c6dbf3068dd735f7fcf6fb07240b66",
            "90d1f2b710222820374f165e67f5da9b9de9322d",
            "ea12ea4b80a1dac88167de74cfbe49826bbd8d3d"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 73,
        "title": "【BIT】转换能力补齐：paddle.median paddle.nanmedian paddle.mod paddle.mode paddle.negative",
        "body": "## 修改内容\r\n\r\n### paddle.median\r\n\r\n查询 [torch.median 与 paddle.median 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.median.html) ，已有详细对比，发现是 `paddle 参数更多`：paddle 允许 axis 为 None ，此时对输入 x 所有维度求中位数，需要展平处理；paddle 拥有 mode 参数，可以求 avg 或 min，torch 的表现默认为 min，需要特殊处理\r\n\r\n因此注册 MedianRule，撰写特殊处理逻辑，详见 rules\r\n\r\n### paddle.nanmedian\r\n\r\n查询 [torch.nanmedian 与 paddle.nanmedian 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.nanmedian.html)，已有详细对比，发现 `paddle 参数更多`：paddle 允许 axis 为 None ，此时对输入 x 所有维度求中位数，需要展平处理；paddle 拥有 mode 参数，可以求 avg 或 min，torch 的表现默认为 min，需要特殊处理；paddle 允许 axis 为列表，表示对多个维度求平均值，torch 只能求一个维度\r\n\r\n因此注册 NanedianRule，撰写特殊处理逻辑，详见 rules\r\n\r\n### paddle.mod\r\n\r\n查询 [torch.fmod 与 paddle.mod 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.fmod.html)，已有详细对比，发现 `两者仅参数名不同`，因此撰写直接映射的配置\r\n\r\n### paddle.mode\r\n\r\n查询 [torch.mode 与 paddle.mode 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.mode.html)，已有详细对比，发现 `两者仅参数名不同`，因此撰写直接映射的配置\r\n\r\n### paddle.negative\r\n\r\n搜索 api 文档时，发现仅有 paddle.neg，中英文均无 paddle.negative ，但实际上二者一致。查询 [torch.negative 与 paddle.neg 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.negative.html)，已有详细对比，发现 `两者仅参数名不同`，因此撰写直接映射的配置\r\n\r\n将文档错误记录进待解决问题中\r\n\r\n## README\r\n\r\n修复了两处变量错误，添加了贡献者\r\n\r\n## 测试结果\r\n\r\n相关测试配置全部通过，移入 api_config_support2torch_1.txt\r\n\r\n![image](https://github.com/user-attachments/assets/14b54975-00af-4aa8-bdfa-76c19fca1349)\r\n",
        "issue_number": "73",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-24T07:31:51+00:00",
        "closed_at": "2025-04-24T08:38:17+00:00",
        "additions": 383,
        "deletions": 240,
        "changed_files": 6,
        "commits": [
            "70af8bac6c128ffaa92ee4051bbe4c62b760a66b",
            "f5985f5ff69148e5929710114f210709c621ec8a",
            "e8041a77aa5e69b650cc0f1462d51020a07a2420",
            "3cb23a72af03dc422d43d3d64c7d4235d1881043",
            "4b91995a79c863b572b6812f901ca5278353633b",
            "02633755df3f71080d03c90d0de25c1dca82da09"
        ],
        "comment_by": [],
        "review_by": [
            "cszdrg",
            "cangtianhuang",
            "cszdrg",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 81,
        "title": "【BIT】转换能力补齐：paddle.nn.functional.[avg_pool1d avg_pool2d avg_pool3d]",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.nn.functional.avg_pool1d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/avg_pool1d_cn.html#avg-pool1d)\r\n\r\n查询 [torch.nn.functional.avg_pool1d 与 paddle.nn.functional.avg_pool1d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.avg_pool1d.html) ，已有详细对比，发现是 `参数用法不一致` 。实际检查中发现，paddle 的 `padding` 参数更丰富，同时支持 TensorFlow 风格的 VALID 和 SAME，以及 PyTorch 风格的 int、list、tuple 类型。因此为其注册 AvgPoolRule 类。\r\n\r\n由于在 torch.nn.functional.avg_pool1d 中仅支持对称填充，对于非对称填充，我们需要首先计算需要的填充大小，调用 torch.nn.functional.pad 手动进行填充，然后再调用 torch.nn.functional.avg_pool1d 方法进行计算。具体操作见 Rule 代码。\r\n\r\n### 2. [paddle.nn.functional.avg_pool2d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/avg_pool2d_cn.html#avg-pool2d)\r\n\r\n与 paddle.nn.functional.avg_pool1d 类似，但更为复杂。查询 [torch.nn.functional.avg_pool2d 与 paddle.nn.functional.avg_pool2d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.avg_pool2d.html) ，已有详细对比，发现是 `paddle 参数更多` 。同样为其注册 AvgPoolRule 类。\r\n\r\n在本 api 中，paddle 的 `padding` 参数更加丰富，除了上述类型外，还有非对称的 4 个整数值、或 4 个二元组的形式（详情请查看 API 文档），难以重用代码，只能再次撰写手动处理和填充逻辑。具体操作见 Rule 代码。\r\n\r\npaddle 相较于 torch 多了 `data_format` 参数，表示输入和输出的数据格式，可以是 \"NCHW\" 和 \"NHWC\"，而 torch 默认是 \"NCHW\"，因此需首先使用 permute 方法调整维度顺序，计算完毕后再使用 permute 调整回来。具体操作见 Rule 代码。\r\n\r\n### 3. [paddle.nn.functional.avg_pool3d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/avg_pool3d_cn.html#avg-pool3d)\r\n\r\n与 paddle.nn.functional.avg_pool2d 类似，但更为复杂。查询 [torch.nn.functional.avg_pool3d 与 paddle.nn.functional.avg_pool3d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.avg_pool3d.html) ，已有详细对比，发现是 `paddle 参数更多` 。同样为其注册 AvgPoolRule 类。\r\n\r\n在本 api 中，paddle 的 `padding` 参数更加丰富，仍多了 `data_format` 参数，可以是\"NCDHW\"和\"NDHWC\"。再次撰写手动处理和填充逻辑。具体操作见 Rule 代码。\r\n\r\n## 转换引擎增强\r\n\r\n1. 为 mapping.json 中增加 `set_defaults`、`import` 字段\r\n2. 调整 apply_generic 方法，使其返回 head 与 map 两段 code，更便于撰写 Rule 使用。\r\n\r\n## 测试结果\r\n\r\n相关测试配置全部通过，已全部移入 api_config_support2torch_1.txt（在 https://github.com/PFCCLab/PaddleAPITest/pull/78 中被移除，此 PR 中移进）\r\n\r\n![image](https://github.com/user-attachments/assets/bcdaea95-e374-4b4c-8370-b4f5686c67df)\r\n",
        "issue_number": "81",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-25T07:34:21+00:00",
        "closed_at": "2025-04-25T09:03:59+00:00",
        "additions": 618,
        "deletions": 32,
        "changed_files": 4,
        "commits": [
            "4bf399e5d02c62c813b4f327d0b71f39ddfc0943",
            "2365e7b67907bdd887b2aa372e5a3a2d94fde68c",
            "3410866aabf42a423f9228cf8c404bab65def17e",
            "b2f65d1246ec80f4f69a15affcff80121c22f52d"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 79,
        "title": "[BIT]引擎能力补齐任务收尾——整理api_config文件",
        "body": "### 第二次引擎能力回测任务收尾改动说明\r\n\r\n经过第二次引擎能力回测，对任务进行收尾，主要进行了以下改动：\r\n\r\n1. **api_config_merged_13.txt配置整理与迁移**\r\n   - 删除三项未显示全的配置信息。\r\n   - 将`api_config_merged_13.txt`中新增的出错`api_config`相关信息整理至`report/fresh_report/paddleonly`目录下。\r\n   - 经测试，发现有三个`paddle.concat`属于`amp`配置，已将其移动到`api_config_merged_amp.txt`，且测试通过。\r\n\r\n3. **错误配置处理与同步**\r\n   - 对回测后的`report/fresh_report/paddleonly/error_config.txt`进行去重整理。\r\n   - 拷贝整理后的文件至`tester/api_config/api_config_paddleonly_error.txt`，作为`paddleonly`无法支持的配置集。\r\n   - 进一步将相关错误配置从`api_config_merged`中移除，经检测，所有信息均处理完好，无缺漏或多删除的情况。",
        "issue_number": "79",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-25T04:38:42+00:00",
        "closed_at": "2025-04-25T04:47:06+00:00",
        "additions": 305,
        "deletions": 292,
        "changed_files": 17,
        "commits": [
            "cb8486e98bbbc1db86db850fa55e627832705f10",
            "8efec7d106cdcada144c910c20be8ac4e22a8419"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 80,
        "title": "[BIT] paddle.index_select paddle.gather paddle.nn.functional.gather_tree paddle.put_along_axis paddle.index_select",
        "body": "## paddle.gather_nd \r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/gather_nd_cn.html\r\n复用pddle.Tensor.gather_nd Rule\r\n## paddle.gather\"\r\n复用paddle.Tensor.gather Rule 该Rule在维度上有bug 已修复\r\n## paddle.nn.functional.gather_tree\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/gather_tree_cn.html\r\na) 该方法为在束搜索结束后，可以获得每个时间步选择的的候选词 id 及其对应的在搜索树中的 parent 节点，ids 和 parents 的形状布局均为 [max_time,batch_size,beam_size]，从最后一个时间步回溯产生完整的 id 序列。\r\nb) 没有对应torch api 手写实现该功能\r\n## paddle.Tensor.put_along_axis paddle.put_along_axis\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.scatter_reduce.html\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.scatter.html\r\na) 该api为1对多api：对应torch.scatter 和 torch.scatter_reduce\r\nb）torch没有广播机制，手动加上广播机制\r\nc）根据参数值选择合适api\r\nd）torch在index重复时会产生随机现象，放入accuancy error\r\n## paddle.index_select \r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.index_select.html\r\na）任务一该api的生成代码有误，将paddle.index_select 代码放入 paddle.Tensor.index_select 中 \r\n2）有对应api 但是torch无默认值，需要手动进行赋值",
        "issue_number": "80",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-25T06:10:01+00:00",
        "closed_at": "2025-04-25T07:52:42+00:00",
        "additions": 109804,
        "deletions": 109546,
        "changed_files": 9,
        "commits": [
            "d03716d69ce4d3d37e2aace0d8b96d4b42926d21",
            "7e82d8db6f56ebe1cfe66f1e014592035bdb6aec",
            "7e442571a16ad2a638ad564adadfb25078539cc1",
            "1a95a9f15b7b33c18ad48778643482f230028ffb",
            "bb5a7b92437c36ec8afdaca5995b38269119facb",
            "ea2b53a2d9121b51b5823bab135299629f2ba4f6"
        ],
        "comment_by": [
            "co63oc"
        ],
        "review_by": [
            "yuwu46",
            "cszdrg",
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 82,
        "title": "[BIT] 转换能力补齐：Tensor.[ceil、conj、cos、kthvalue、nonzero]",
        "body": "### paddle.Tensor.ceil\r\n查询 [torch.Tensor.ceil与paddle.Tensor.ceil对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.ceil.html) 已有详细对比，发现是 `均无参数`，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.conj\r\n查询 [torch.Tensor.conj与paddle.Tensor.conj对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.conj.html) 已有详细对比，发现是 `均无参数`，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.cos\r\n查询 [torch.Tensor.cos与paddle.Tensor.cos对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.cos.html) 已有详细对比，发现是 `均无参数`，因此撰写直接映射的配置。\r\n\r\n### paddle.kthvalue\r\n查询 [torch.kthvalue与paddle.kthvalue对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.kthvalue.html) 已有详细对比，发现是 `仅参数名不一致`，因此撰写直接映射的配置。\r\n\r\n### paddle.Tensor.nonzero\r\n查询 [torch.Tensor.nonzero与paddle.Tensor.nonzero对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.nonzero.html) 已有详细对比，发现是 `参数完全一致`，因此撰写直接映射的配置。\r\n\r\n### 331个配置均通过测试\r\n<img width=\"991\" alt=\"截屏2025-04-25 15 38 28\" src=\"https://github.com/user-attachments/assets/5d49f32a-177b-4c80-9317-8e4b33fff4f7\" />\r\n",
        "issue_number": "82",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-25T07:58:50+00:00",
        "closed_at": "2025-04-25T08:19:03+00:00",
        "additions": 355,
        "deletions": 331,
        "changed_files": 4,
        "commits": [
            "e5a03adcfe6f6bfca19020c0b73665ffcb31eb4d",
            "a31f11419219a5ffebbfd2b23789829c9b40b016",
            "dfb4d0551ea552017240d88fea31ed41e902aec9",
            "df218634a826bfa7d23e0b74cc82982707543f38"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 87,
        "title": "【BIT】Fix OOM",
        "body": "## 修改原因\r\n\r\n测试超大 Tensor 在 80G 机器上会 OOM（CUDA Out Of Memory），测试样本为：\r\n```\r\npaddle.isclose(Tensor([10, 429496730],\"float16\"), Tensor([10, 429496730],\"float16\"), rtol=1e-05, atol=1e-08, )\r\npaddle.isclose(Tensor([429496730, 10],\"float16\"), Tensor([429496730, 10],\"float16\"), rtol=1e-05, atol=1e-08, )\r\npaddle.isclose(x=Tensor([214748365, 4, 5],\"float16\"), y=Tensor([214748365, 4, 5],\"float16\"), )\r\npaddle.isclose(x=Tensor([3, 286331154, 5],\"float16\"), y=Tensor([3, 286331154, 5],\"float16\"), )\r\npaddle.isclose(x=Tensor([3, 4, 357913942],\"float16\"), y=Tensor([3, 4, 357913942],\"float16\"), )\r\npaddle.isclose(x=Tensor([4294967297],\"float16\"), y=Tensor([4294967297],\"float16\"), )\r\npaddle.isclose(x=Tensor([2281701379],\"float32\"), y=Tensor([2281701379],\"float32\"), )\r\n```\r\n\r\n## 定位原因\r\n\r\nPaddleAPITest 的 torch input 与 paddle input 都是共用的 numpy tensor。在任务一的引擎能力补齐中，同学们都是通过 paddle input 生成 numpy tensor，如果不先生成 paddle input，那么很多逻辑都用不上，因此在 https://github.com/PFCCLab/PaddleAPITest/pull/62 中将 paddle input 的生成提前\r\n\r\n但是在超大 Tensor 的情况下，如果先构造了 paddle input ，再跑 Torch 会发生 OOM\r\n\r\n## 解决思路\r\n\r\n可以先仅生成 numpy tensor，但是不生成 paddle tensor，等后面要用到的时候再生成。因此需要将任务一的生成逻辑迁移\r\n\r\n此外，engineV2 多进程显存占用过大的问题，是由于子进程 GPU 隔离不到位，在分配 GPU 前就已经初始化了 torch 和 paddle，导致每一个子进程在每一个 GPU 上都初始化。因此需修改为延迟导入或懒导入（lazy import）\r\n\r\n## 修改内容\r\n\r\n### accuracy.py \r\n\r\n1. 新增 gen_numpy_input 方法（在 base.py 中实现），在运行 torch 前仅生成相应 numpy tensor，将任务一相关生成逻辑均迁移至此\r\n2. 回退 gen_paddle_input 语句至原有位置（仅需从 numpy tensor 中生成）\r\n3. 优化后续的多处对象释放语句，调整 del 位置，及时释放 exec_locals 等变量，保持代码逻辑不变\r\n\r\n### config_analyzer.py\r\n\r\n1. 调整 get_paddle_tensor 方法，不再接受 index 和 key\r\n2. 优化 get_numpy_tensor 的所有分支判断，列表判断过于低效，优化为字符串比较 `==` 或集合 `{}`\r\n\r\n### base.py\r\n\r\n1. 实现 gen_numpy_input 方法，修改 base.py 中任务一相关生成逻辑，均从 get_paddle_tensor 迁移至 get_numpy_tensor\r\n3. 优化 gen_paddle_input 、gen_torch_input，每生成一个参数就执行清理 clear_paddle_tensor、clear_torch_tensor，不再在最后清理（可能遍历时漏掉嵌套）\r\n4. 优化 copy_paddle_input、copy_torch_input，使其能够处理嵌套列表\r\n\r\n### engineV2.py\r\n\r\n1. 顶层模块不再直接导入 tester 模块（可能导致子进程错误地在每张 GPU 上初始化），采用类型提示和延迟初始化\r\n2. 子进程初始化分配 GPU 后才导入各个模块，并添加信号处理函数\r\n\r\n### tester/__init__.py、tester/api_config/__init__.py\r\n\r\n1. 采用类型提示和懒导入（lazy import），当且仅当导入特定模块时才执行 import\r\n\r\n### converter.py、rules.py\r\n\r\n1. self.rules 字典中不再储存所有 Rule 类实例，仅储存类的别名；当转换时再将 Rule 实例化（ Rule() 与 Rule 的区别）\r\n\r\n## 测试结果\r\n\r\n在超大 Tensor 的测试中，*单进程多卡、单进程单卡、多进程多卡*均能正常运行，每张卡的平均显存约20G，峰值约70G\r\n\r\n### 单进程多卡：\r\n\r\n```shell\r\npython engineV2.py --accuracy=True --api_config_file=\"$INPUT_FILE\" --num_gpus=0\r\n```\r\n\r\n![ef0e0ddc3bedc52fe63bcd4a8cea6dc0](https://github.com/user-attachments/assets/94f30e6c-3e81-436f-ae5d-ead1ed9ae1f2)\r\n\r\n### 单进程单卡：\r\n\r\n```shell\r\nexport CUDA_VISIBLE_DEVICES=\"\"\r\npython engineV2.py --accuracy=True --api_config_file=\"$INPUT_FILE\" --num_gpus=0\r\n```\r\n\r\n![2b4e69e97fb8795e8807954cf54a2041](https://github.com/user-attachments/assets/7987911d-930a-4788-af88-ba13f0c41bb1)\r\n\r\n### 多进程多卡：\r\n\r\n```shell\r\npython engineV2.py --accuracy=True --api_config_file=\"$INPUT_FILE\" --num_gpus=8 --num_workers_per_gpu=1\r\n```\r\n\r\n![c73bea817bf985a528ef6dbc8e738545](https://github.com/user-attachments/assets/dcc4bd4a-db9e-479a-af96-e2f479da7144)\r\n",
        "issue_number": "87",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-27T15:54:43+00:00",
        "closed_at": "2025-05-06T06:30:38+00:00",
        "additions": 424,
        "deletions": 277,
        "changed_files": 10,
        "commits": [
            "4558eb2beabf454b50d673f2efb6ddc8e8ae5442",
            "a27fd8ac07fedc7c6ed0c25a11b17e796972056b",
            "7181ae12fbeaeb3a6f359416f45baa86422ac9a6",
            "99b30a0a64fb3f14462229f151d562a74adb4e81",
            "268667452f4ef7b5a5af9a5d80a558971b301df9",
            "9fcc18b7475a88492a57e874aed6da24cc6fb835",
            "545efdba5230dcf59c4e68bb445c597fcb00f2e3",
            "3c37a53960b535a6243897be68b3bf5a9ac6cbcc",
            "f5afc386941e01643c80f7390897b1a4ae075a73",
            "7b307a87532b171528a66a6cbf7114d623e1db12",
            "84a19bd8cc1d1fe62267b5c54412d9d3fb94a1d7"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 85,
        "title": "【BIT】转换能力补齐：paddle.audio.functional.get_window paddle.bitwise_invert",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.audio.functional.get_window](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/audio/functional/get_window_cn.html)\r\n\r\n查询对照表，发现 get_window 方法与多个 torch api 对应，并根据 get_window 的 `window` 参数的第一位 *窗参数类型* 进行区分，于是为其单独注册 GetWindowRule 方法。\r\n\r\n将大部分 *窗参数类型* 与 [torch.signal.windows](https://pytorch.org/docs/stable/signal.html#module-torch.signal.windows) 模块下的 api 进行了对应。对于剩余的 *窗参数类型* ，查阅资料后发现 torch 中不存在对应 api，因此在 GetWindowRule 中单独撰写类似的处理函数。具体见 Rule 代码。\r\n\r\n### 2. [paddle.bitwise_invert](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/bitwise_invert_cn.html)\r\n\r\n文档中说明：*bitwise_invert 和 bitwise_not 执行相同的操作，功能等效* 。查询 [torch.bitwise_not 与 paddle.bitwise_not对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.bitwise_not.html) ，发现是 `仅参数名不一致`，因此撰写直接映射的配置。\r\n\r\n## 测试结果\r\n\r\npaddle.audio.functional.get_window 有一项 triang 配置未通过测试，无法判断是否是转换代码的问题（未深入理解 api），移入 paddleonly 中；其余配置均通过测试，移入 support2torch_1 中\r\n\r\n![image](https://github.com/user-attachments/assets/40711dfd-2d6d-4735-a949-bf4d11a65afa)\r\n",
        "issue_number": "85",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-27T07:48:55+00:00",
        "closed_at": "2025-04-27T09:57:50+00:00",
        "additions": 192,
        "deletions": 31,
        "changed_files": 5,
        "commits": [
            "911839cc0f3720729cf67659db010c2bd545fb43",
            "c43ea2fcbcc5ec92e5538f1fcb60a71a7daa139e",
            "bc27ed1b7f27ac01b6920eaf1e7fd7311c7eb4e3",
            "5953d536a839290d107cccc5c59c899937c9e675",
            "74ad9aadc5d1add4848e18a38a2eea9d6c77595f",
            "9307a95843ca3da4bd60d95b7d9674084eb23e25"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 83,
        "title": " 【BIT】转换能力补齐：paddle.nn.functional.[batch_norm bilinear channel_shuffle flashmask_attention fractional_max_pool[2d 3d]]",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.nn.functional.batch_norm](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/batch_norm_cn.html)\r\n\r\n查询 [torch.nn.functional.batch_norm 与 paddle.nn.functional.batch_norm 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.batch_norm.html) ，已有详细对比，发现是 `paddle 参数更多` ，因此为其注册 BatchNormRule 类。\r\n\r\npaddle 相较于 torch 多了 `data_format` 参数，表示输入和输出的数据格式，可以是 \"NCHW\" 和 \"NHWC\"，而 torch 默认是 \"NCHW\"，因此需首先使用 permute 方法调整维度顺序，计算完毕后再使用 permute 调整回来。\r\n\r\n此外，momentum 含义不同，值的大小 Paddle = 1 - PyTorch，需要修改；running_mean 与 running_var 的 Tensor 需要主动关闭梯度传播。具体操作见 Rule 代码。\r\n\r\n### 2. [paddle.nn.functional.bilinear](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/bilinear_cn.html)\r\n\r\n查询 [torch.nn.functional.bilinear 与 paddle.nn.functional.bilinear 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.bilinear.html) ，已有详细对比，发现是 `参数用法不一致` 。paddle 的 bias 参数多了一个大小为 1 的维度，可以通过仅撰写配置解决。\r\n\r\n### 3. [paddle.nn.functional.channel_shuffle](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/channel_shuffle_cn.html)\r\n\r\n查询 [torch.nn.functional.channel_shuffle 与 paddle.nn.functional.channel_shuffle 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.channel_shuffle.html) ，已有详细对比，发现是 `paddle 参数更多` ，同样是 paddle 相较于 torch 多了 `data_format` 参数，因此为其注册了更为通用的 DataFormatRule 类，统一解决 permute 问题。\r\n\r\n### 4. paddle.nn.functional.flashmask_attention\r\n\r\n此 API 在官方的中英文文档中均未查询到。查看 paddle 的 [flashmask_attention 源码](https://github.com/PaddlePaddle/Paddle/blob/develop/python/paddle/nn/functional/flash_attention.py#L405) 后，发现是新 API （6-8月前被开发）。查阅资料发现 torch 中没有对应 API，难以做精度对比，因此不做处理。\r\n\r\n### 5. [paddle.nn.functional.fractional_max_pool2d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/fractional_max_pool2d_cn.html)\r\n\r\n查询 [torch.nn.functional.fractional_max_pool2d 与 paddle.nn.functional.fractional_max_pool2d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.fractional_max_pool2d.html) ，已有详细对比，发现是 `torch 参数更多` ，但是大部分参数用法不一致，因此为其注册 FractionalMaxPoolRule 类。\r\n\r\n总体来看，paddle 的参数允许更丰富的表现形式，而 torch 的参数类型更保守。`random_u` 参数 paddle 中为 float 或 None， torch 对应 `_random_samples` 参数，为列表式的 Tensor，需要转写；`kernel_size` 参数 paddle 支持为 None，需要手动通过 x 与 output_size 推导形状并转换为 tuple；`output_size` 参数 paddle 支持其中元素为 None，也需要推导。具体操作见 Rule 代码。\r\n\r\n在实际测试中发现，因为有 `random_u` 的存在，api 的输出具有随机性，因此判断其无法进行精度对比（但支持配置转换）。\r\n\r\n### 6. [paddle.nn.functional.fractional_max_pool3d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/fractional_max_pool3d_cn.html)\r\n\r\n查询 [torch.nn.functional.fractional_max_pool3d 与 paddle.nn.functional.fractional_max_pool3d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.fractional_max_pool3d.html) ，已有详细对比，发现是 `torch 参数更多` ，但是大部分参数用法不一致，与 ractional_max_pool2d 共用 FractionalMaxPoolRule 类。后续处理同 fractional_max_pool2d 。\r\n\r\n## 其他修改\r\n\r\n1. 为 accuracy.py 添加 traceback.print_exc() ，帮助同学们定位 Rule 中的报错。\r\n2. 修复了 need_check_grad() 方法，可读性更高。（已回退至之前版本，避免引入新问题，保留了注释）\r\n\r\n## 测试结果\r\n\r\npaddle.nn.functional.[flashmask_attention fractional_max_pool[2d 3d]] 的配置由于随机性全部移入 api_config_paddleonly_1.txt； paddle.nn.functional.batch_norm 部分配置未通过精度对比，不能判断是什么原因造成，移入 api_config_accuracy_error.txt，并在 fresh_report 中报告；其余配置均移入 api_config_support2torch_1.txt 。\r\n\r\n![image](https://github.com/user-attachments/assets/aa503b6c-ca6a-45c2-9a23-297e9d8de62e)\r\n",
        "issue_number": "83",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-26T03:39:21+00:00",
        "closed_at": "2025-04-27T04:22:47+00:00",
        "additions": 478,
        "deletions": 159,
        "changed_files": 10,
        "commits": [
            "953189762cc96c552552c4c8ffd94542ce22832d",
            "5b838012e902023498c10fc95cbe32297dadd868",
            "0ccb97a145bd65c0769ef4df40d0d580e93d9ae4",
            "27f30254a08854aeb02897c40780ffdde817e59f",
            "f9fdfd28f14c5e2a8de1b114f32ed223ec284424"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 84,
        "title": "[BIT] paddle.multiplex paddle.nn.functional.adaptive_log_softmax_with_loss",
        "body": "## paddle.nn.functional.adaptive_log_softmax_with_loss\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/adaptive_log_softmax_with_loss_cn.html\r\na) 该api计算自适应 logsoftmax 结果以及 input 和 label 之间的负对数似然 **torch中无对应**\r\nb) 手写rule进行计算\r\nc）发现参数**list[list[Tensor([16,8],\"float32\"),Tensor([8,5],\"float32\"),],list[Tensor([16,4],\"float32\"),Tensor([4,5],\"float32\"),],list[Tensor([16, 2],\"float32\"),Tensor([2, 5],\"float32\"),],]**\r\n初始化错误，查询base相关代码发现如果list里面包list再包tensor便无法初始化\r\nd）仿照_handle_list_or_tuple逻辑增加_handle_list_or_tuple_torch函数，处理list中嵌套list的情况\r\ne）解决后进行测试，pass\r\n\r\n## paddle.multiplex\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/multiplex_cn.html\r\na） 该api根据给定的 index 参数，从每个输入 Tensor 中选择特定行构造输出 Tensor。**torch中无对应**\r\nb）手写rule\r\n",
        "issue_number": "84",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-27T06:59:41+00:00",
        "closed_at": "2025-04-27T07:43:50+00:00",
        "additions": 152,
        "deletions": 39,
        "changed_files": 6,
        "commits": [
            "14f94c87524dbd1471b001c57c205cb8882b96a9",
            "29082004772a728a012f343f276888eee6f7dbad",
            "af0b9ec76380a0c3df53df13f38e217ff8b49487",
            "84d4c66d15d2c18bdbbb18f2b5e6ac8ed146baae"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 86,
        "title": "[BIT] 转换能力补齐：Tensor.[detach、digamma、dim、pow、prod]",
        "body": "## [BIT] 转换能力补齐：Tensor.[detach、digamma、dim、pow、prod]\r\n\r\n### 一、修复情况\r\n\r\n#### paddle.Tensor.detach\r\n查询[torch.Tensor.detach与paddle.Tensor.detach对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.detach.html)  已有详细对比，发现是均无参数，因此撰写直接映射的配置。\r\n#### paddle.Tensor.digamma\r\n查询[torch.Tensor.digamma与paddle.Tensor.digamma对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.digamma.html)  已有详细对比，发现是均无参数，因此撰写直接映射的配置。\r\n#### paddle.Tensor.dim\r\n查询[torch.Tensor.dim与paddle.Tensor.dim对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.dim.html)  已有详细对比，发现是均无参数，因此撰写直接映射的配置。\r\n#### paddle.Tensor.pow\r\n查询[torch.Tensor.pow与paddle.Tensor.pow对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.pow.html)  已有详细对比，发现是仅参数名不一致，因此撰写直接映射的配置。\r\n#### paddle.Tensor.prod\r\n查询[torch.Tensor.prod与paddle.Tensor.prod对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.prod.html)  已有详细对比，发现是仅参数名不一致，因此撰写直接映射的配置。\r\n\r\n### 二、测试结果\r\n在查找配置时，merged_13和merged_2中关于Tensor.detach有8条重复的配置，关于Tensor.pow有1条重复的配置，已将多余的配置删除。  \r\n其余配置中，`paddle.Tensor.pow(Tensor([],\"int64\"), Tensor([],\"int64\"), )`存在accuracy error，相关报错已经移入`fresh_report/accuracy`下，配置信息放入`api_config_accuracy_error5.txt`。其余配置均通过。",
        "issue_number": "86",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-27T08:10:14+00:00",
        "closed_at": "2025-04-27T08:22:18+00:00",
        "additions": 31710,
        "deletions": 31701,
        "changed_files": 6,
        "commits": [
            "6c22bc0685caafd802c259e0ab30b981851b27a8",
            "ecbcdb54ab245a6f70614761b741808175c39f8a"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 92,
        "title": "[BIT] 引擎补齐：test amp for __matmul__",
        "body": "为 PR #88 中报 torch error 的 三个张量乘法类型不同 paddle.Tensor.\\_\\_matmul__ 的 api config 在 --test_amp 下进行测试，均通过。",
        "issue_number": "92",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-28T07:32:59+00:00",
        "closed_at": "2025-04-28T08:11:17+00:00",
        "additions": 3,
        "deletions": 3,
        "changed_files": 2,
        "commits": [
            "ce1f6d41bf6fc14b90afcc366c5a84ae725dccd7",
            "f4bec2c8f8e8ca57a91464b4d64bb5ecadcc1f34",
            "2b3058d18d130c7a70a3984962082ae9e2584ceb"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 91,
        "title": "[BIT] 转换能力补齐：Tensor.[cumprod、divide、equal_all、erfinv、exp]",
        "body": "## [BIT] 转换能力补齐：Tensor.[cumprod、divide、equal_all、erfinv、exp]\r\n### 一、修复情况\r\n\r\n#### paddle.Tensor.cumprod\r\n查询 [paddle.Tensor.cumprod与torch.Tensor.cumprod对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.cumprod.html) ，是参数完全一致，因此撰写mapping映射配置。\r\n\r\n#### paddle.Tensor.divide\r\n查询 [paddle.Tensor.divide与torch.Tensor.true_divide对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.true_divide.html) ，是参数名不一致，因此撰写mapping映射的配置。\r\n\r\n#### paddle.Tensor.equal_all\r\n查询 [paddle.Tensor.equal_all与torch.Tensor.equal对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.equal.html) ，是参数名不一致，因此撰写mapping映射的配置。\r\n\r\n#### paddle.Tensor.erfinv\r\n查询 [paddle.Tensor.erfinv与torch.Tensor.erfinv对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.erfinv.html) ，是无参数，因此撰写mapping映射的配置。\r\n\r\n#### paddle.Tensor.exp\r\n查询 [paddle.Tensor.exp与torch.Tensor.exp对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.exp.html) ，是无参数，因此撰写mapping映射的配置。\r\n\r\n### 二、测试情况\r\n一共343条配置均通过测试，测试结果如下：\r\n<img width=\"554\" alt=\"3d6befadac521abb8efdcafae8e1f1f\" src=\"https://github.com/user-attachments/assets/8c785126-d271-42f5-bb64-86026cd5af07\" />\r\n\r\n",
        "issue_number": "91",
        "state": "closed",
        "merged": false,
        "user": "yuwu46",
        "merged_by": null,
        "created_at": "2025-04-28T06:58:35+00:00",
        "closed_at": "2025-04-28T10:24:50+00:00",
        "additions": 369,
        "deletions": 344,
        "changed_files": 3,
        "commits": [
            "52d4883b5aac27fb5c194f6cd3841dad38ff9e37",
            "3e08e27b6b0b33fecb6a8a58ec2c0b0d5b640abf",
            "f73499f2ad4dc43ab9b254eca4ab8f205c32f030",
            "211c457cdc0510ac2303318d33ebbe2229ba896e",
            "0e5aaf282a3ccc7ecfcdd64a68635bf4603a08ef",
            "8d8c526108955ee76eae7206afc4a91343d7a88b"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 90,
        "title": "[BIT] 转换能力补齐：numel not_equal nonzero ldexp lcd",
        "body": "修改内容\r\n------------ \r\nnumel 没有对应关系，需要使用编写rules的方法：\r\n\r\n```\r\nnum_elements = x.numel()\r\nresult = torch.tensor(num_elements, dtype=torch.int64)\r\n```\r\n\r\npaddle.lcm 和 torch.lcm  并不完全对应，需要使用编写rules的方法：\r\n\r\n```\r\nx, y = torch.broadcast_tensors(x, y)\r\nx_abs = torch.abs(x)\r\ny_abs = torch.abs(y)\r\ngcd = torch.gcd(x_abs, y_abs)\r\nlcm = torch.zeros_like(gcd)\r\nnonzero_mask = gcd != 0\r\nlcm[nonzero_mask] = (x_abs[nonzero_mask] * y_abs[nonzero_mask]) // gcd[nonzero_mask]\r\nresult = torch.abs(lcm)\r\n```\r\n\r\n\r\nldexp  nonzero not_equal 使用mapping\r\n\r\npaddle.ldexp 和 torch.ldexp对应：\r\n```\r\npaddle.ldexp(x, y, name=None)\r\ntorch.ldexp(input, other, *, out=None)\r\n```\r\n\r\npaddle.nonzero 和 torch.argwhere对应：\r\n```\r\npaddle.nonzero(x, as_tuple=False)\r\ntorch.argwhere(input)\r\n```\r\n\r\npaddle.not_equal 和 torch.ne对应：\r\n```\r\npaddle.not_equal(x, y, name=None)\r\ntorch.ne(input, other, *, out=None)\r\n\r\n```\r\n\r\n测试的配置均能通过\r\n\r\n\r\n\r\n",
        "issue_number": "90",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-28T05:53:43+00:00",
        "closed_at": "2025-04-28T06:36:42+00:00",
        "additions": 3710,
        "deletions": 3671,
        "changed_files": 6,
        "commits": [
            "164e32f43514b944a1d7c5cf66ebe384b1e96727",
            "f66e9571a5d56e7f976e8fe4c0f411b702953f37",
            "ae0552005ea731f022d30b16aaaf2459b5fe2e22",
            "f3227b3b5d70f362641d64acac6be09d8b1db616",
            "e54f8e1ffb080c02f315c9d9413fe1c44615ef44",
            "3d4f1bb5d2cc9520902084db9984cf2f3d0505a2"
        ],
        "comment_by": [],
        "review_by": [
            "yuwu46",
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 89,
        "title": "【BIT】工具代码：自动移动配置",
        "body": "### 自动移动配置工具\r\n\r\n在完善paddle2torch转换过程中，需要大量的搜索api，复制配置、移动配置以及删除配置，手动进行这些过程存在繁琐、易出错的问题。为了解决上述问题，标准化移动配置的流程，编写了自动移动配置工具。\r\n\r\n-----------\r\n**使用介绍**\r\n\r\n代码可以直接在/PaddleAPITest/根目录下运行\r\n\r\n\r\nconfig参数填入api名称，例如：paddle.numel\r\n\r\ndst参数填入输出到的txt名称，若不指定会默认输出到mytmp.txt\r\n\r\n暂时不想移除原有的配置：\r\n`python tools/move_config.py --config='your api' --dst='tmp.txt'`\r\n\r\n移除原有的配置：\r\n`python tools/move_config.py --config='your api' --dst='tmp.txt' --remove`\r\n\r\n<img width=\"833\" alt=\"image\" src=\"https://github.com/user-attachments/assets/6a1f7041-7284-4904-b6af-ae8d55bbea00\" />\r\n\r\n\r\n",
        "issue_number": "89",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-28T02:31:47+00:00",
        "closed_at": "2025-04-28T04:14:09+00:00",
        "additions": 107,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "08367542d4e7a24d37808fc9511e131f010ffacc",
            "c9c655bd2b80100a6caaa33ae3ba4e9f028c06a2",
            "e04daaa8ea8be0d4bdf0f08a003d8d53934bc623"
        ],
        "comment_by": [
            "cszdrg",
            "mzj104",
            "Cutelemon6"
        ],
        "review_by": [
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "mzj104",
            "mzj104",
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 95,
        "title": "[BIT] 新增cpu下accuracy测试报告",
        "body": "## [BIT] 新增 CPU 下 Accuracy 测试报告\r\n\r\n对 `api_config_merged_1.txt` ~ `api_config_merged_13.txt`、`api_config_merged_amp.txt` 几个文件进行了 CPU 下的 accuracy 测试，测试的相关工具放置在 `test_pipline/cpu_accuracy` 下。测试后提取错误报告，生成 `error_api.txt`、`error_config.txt`、`error_log.log`，放置于 `report/ci_ce_cpu` 下。后续将进一步补充 `api_config_merged_getset_item_1.txt` ~ `api_config_merged_getset_item_6.txt` 相关报告。",
        "issue_number": "95",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-28T11:03:55+00:00",
        "closed_at": "2025-04-28T11:12:54+00:00",
        "additions": 40444,
        "deletions": 0,
        "changed_files": 27,
        "commits": [
            "15f545aa6f54655999b5530a4d6554aadd59e888"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 88,
        "title": "[BIT] 转换能力补齐：修复全部没有函数签名的 apis",
        "body": "本 PR 测试了任务二中所有 api 的函数签名情况，发现有以下22个 api 没有函数签名\r\n\r\n```\r\npaddle.Tensor.__sub__\r\npaddle.Tensor.__add__\r\npaddle.Tensor.__div__\r\npaddle.Tensor.__eq__\r\npaddle.Tensor.__floordiv__\r\npaddle.Tensor.__ge__\r\npaddle.Tensor.__gt__\r\npaddle.Tensor.__le__\r\npaddle.Tensor.__lt__\r\npaddle.Tensor.__matmul__\r\npaddle.Tensor.__mod__\r\npaddle.Tensor.__ne__\r\npaddle.Tensor.__pow__\r\npaddle.Tensor.__radd__\r\npaddle.Tensor.__rmatmul__\r\npaddle.Tensor.__rmod__\r\npaddle.Tensor.__rmul__\r\npaddle.Tensor.__rpow__\r\npaddle.Tensor.__rsub__\r\npaddle.Tensor.__rtruediv__\r\npaddle.Tensor.__truediv__\r\npaddle.Tensor.__mul__\r\n```\r\n\r\n在 PR #72 已修复其中 5 个 api，对剩下的 17 个 api 和对应约 100 万条配置进行了修复，测试并对相应错误日志和文档进行了归类，情况如下：\r\n\r\n* 有 2 条大 tensor 配置在 24G 显存机器上报 OOM (paddle error)，转到 80G 机器上运行引擎没有结果输出就退出，尚不清楚原因，待修复\r\n\r\n```\r\npaddle.Tensor.__mul__(Tensor([2, 1, 32768, 32768],\"float16\"), 10000.0, )\r\npaddle.Tensor.__sub__(Tensor([2, 1, 32768, 32768],\"float16\"), 1, )\r\n```\r\n\r\n已记录以上配置并在后续 PR 继续测试并修复\r\n\r\n* 有 13 条配置报 torch error，有两类配置 torch 不支持\r\n\r\n  1. 张量乘法类型不同\r\n\r\n     ```\r\n     paddle.Tensor.__matmul__(Tensor([1, 20, 4],\"float32\"), Tensor([4, 32],\"float16\"), )\r\n     [torch error] paddle.Tensor.__matmul__(Tensor([1, 20, 4],\"float32\"), Tensor([4, 32],\"float16\"), ) \r\n      expected mat1 and mat2 to have the same dtype, but got: float != c10::Half\r\n     ```\r\n\r\n  2. 张量减法不支持含有 bool \r\n\r\n     ```\r\n     paddle.Tensor.__sub__(Tensor([2, 3, 4],\"bool\"), 1, )\r\n     \r\n     [torch error] paddle.Tensor.__sub__(Tensor([2, 3, 4],\"bool\"), 1, ) \r\n      Subtraction, the `-` operator, with a bool tensor is not supported. If you are trying to invert a mask, use the `~` or `logical_not()` operator instead.\r\n     ```\r\n\r\n  已将配置放入 tester/api_config/api_config_accuracy_paddleonly_2.txt\r\n\r\n* 有 1 条配置报 cuda error，经调试是 `paddle.base.core.eager._for_test_check_cuda_error()` 抛出的错误，和 0-size 配置相关，放入报错日志到 report/fresh_report/accuracy/test_log_paddle.Tensor.\\_\\_sub__.log，放入配置到 tester/api_config/api_config_merged_not_support.txt\r\n\r\n* 有 18 条配置报 accuracy error，配置已放入 tester/api_config/api_config_accuracy_error_2.txt，报错日志已放入 report/fresh_report/accuracy，主要是以下 api 精度错误\r\n\r\n  ```\r\n  paddle.Tensor.__matmul__\r\n  paddle.Tensor.__truediv__\r\n  ```\r\n\r\n* 剩余配置均通过精度对比，放入 tester/api_config/api_config_accuracy_support2torch_2.txt\r\n\r\n以上配置均从  merged.txt 文件中移除\r\n\r\n### 引擎特性补充\r\n\r\n消除引擎 V1 多进程读写同一文件依赖，并保持兼容。\r\n\r\n在多终端下，每个终端开一个进程并行运行该项目测试不同配置时，多进程会同时读写同一个文件例如 checkpoint.txt，添加命令行参数 --id 为读写文件添加后缀 id 名，从而消除引擎 V1 多进程读写同一文件依赖。并且缺省 --id 时读写文件名与原实现一致，保持兼容性。\r\n\r\nupdate：该特性与 @cangtianhuang 李昊阳同学贡献的 read_log, write_log 相关代码冲突，本次 PR 在 merge 时暂时放弃该特性，后续可以在 read_log，write_log 函数中添加该特性即可，不需要在 accuracy.py, paddle_only.py 和 paddle_cinn\r\n_vs_dygraph.py 中显式修改。",
        "issue_number": "88",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-28T00:35:20+00:00",
        "closed_at": "2025-04-28T07:12:49+00:00",
        "additions": 1018172,
        "deletions": 1017840,
        "changed_files": 22,
        "commits": [
            "a0f5f2b3bfed567a92d8fe1a101d6d6bc8ed4046",
            "670da63b1b14cd4f0c2e53e507e729f8b1fcc746",
            "224e2d05f2d1fb6f85430ef82f2bedf8eddaa639",
            "b07d6c4cd0a41f85923c289d23cfb36f54fe0487",
            "0bd1dfa567a38365dcbaea306ffd78ed54083c91",
            "4145e1d05ba8f25ee2df968aca83671b08020a23",
            "9c8586419efe215e4b340efdc8f32649939864e5",
            "3bad9612f220e07199e8db6b3fc16445cb3e8054",
            "24eda1c182664b677a1b4b8e5815e5d2710ac378"
        ],
        "comment_by": [
            "mzj104",
            "cangtianhuang",
            "Cutelemon6"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 96,
        "title": "[BIT] 转换能力补齐：Tensor.[cumprod、divide、equal_all、erfinv、exp、exponential_、normal_、not_equal、sigmoid、sign]",
        "body": "## [BIT] 转换能力补齐：Tensor.[cumprod、divide、equal_all、erfinv、exp、exponential_、normal_、not_equal、sigmoid、sign]\r\n\r\n### 一、修复情况\r\n\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:---------------|\r\n| paddle.Tensor.cumprod | torch.Tensor.cumprod | 参数完全一致 | 撰写 mapping 映射配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.cumprod.html) |\r\n| paddle.Tensor.divide | torch.Tensor.true_divide | 参数名不一致 | 撰写 mapping 映射配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.true_divide.html) |\r\n| paddle.Tensor.equal_all | torch.Tensor.equal | 参数名不一致 | 撰写 mapping 映射配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.equal.html) |\r\n| paddle.Tensor.erfinv | torch.Tensor.erfinv | 无参数 | 撰写 mapping 映射配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.erfinv.html) |\r\n| paddle.Tensor.exp | torch.Tensor.exp | 无参数 | 撰写 mapping 映射配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.exp.html) |\r\n| paddle.Tensor.exponential_ | torch.Tensor.exponential_ | torch 参数更多 | 属于 rand_apis，但也为其撰写了 mapping 配置，测试后均能正常转换（accuracy 报错），移入 tester/api_config/api_config_paddleonly_5.txt | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.exponential_.html) |\r\n| paddle.Tensor.normal_ | torch.Tensor.normal_ | torch 参数更多 | 属于 rand_apis，但也为其撰写了  mapping 配置，测试后均能正常转换（accuracy 报错），移入 tester/api_config/api_config_paddleonly_5.txt | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.normal_.html) |\r\n| paddle.Tensor.not_equal | torch.Tensor.not_equal | torch 支持参数类型更多，paddle 做转化则无需额外处理 | 撰写 mapping 映射配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.not_equal.html) |\r\n| paddle.Tensor.sigmoid | torch.Tensor.sigmoid | 无参数 | 撰写 mapping 映射配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.sigmoid.html) |\r\n| paddle.Tensor.sign | torch.Tensor.sign | 无参数 | 撰写 mapping 映射配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.sign.html) |\r\n\r\n### 二、测试结果\r\n\r\n除 `paddle.Tensor.exponential_` 和 `paddle.Tensor.normal_` 的相关配置外，其余 388 条配置均通过测试。\r\n\r\n![0b77baa26bfe9cda6f1f5e94a9d73eb8](https://github.com/user-attachments/assets/37698a88-0295-4548-a2e8-97ccea65f925)\r\n\r\n### 总结\r\n\r\n本次补充了十个 API 的 paddle2torch 转换能力，包括 Tensor.[cumprod、divide、equal_all、erfinv、exp、exponential_、normal_、not_equal、sigmoid、sign]。其中，`paddle.Tensor.exponential_` 和 `paddle.Tensor.normal_` 属于 rand_apis，移入 api_config_paddleonly_5.txt。其余 API 根据参数差异情况分别撰写了相应的 mapping 配置。",
        "issue_number": "96",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-29T02:07:38+00:00",
        "closed_at": "2025-05-06T01:36:22+00:00",
        "additions": 487,
        "deletions": 448,
        "changed_files": 5,
        "commits": [
            "52d4883b5aac27fb5c194f6cd3841dad38ff9e37",
            "3e08e27b6b0b33fecb6a8a58ec2c0b0d5b640abf",
            "f73499f2ad4dc43ab9b254eca4ab8f205c32f030",
            "211c457cdc0510ac2303318d33ebbe2229ba896e",
            "e8b5cb97e792c093ac4ea4d84ac213acfd0fc775",
            "0241fbe6dd7523354f4245f89cb891c5e256b666"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 99,
        "title": "[BIT] 转换能力补齐：broadcast_shape, dropout, dropout2d, dropout3d",
        "body": "### paddle.broadcast_shape\r\n转换规则为 result = torch.broadcast_shapes(x_shape, y_shape)，并且支持引擎解析 List[int] 的比较，其中有两条配置 torch 不支持对于 shape 中含有 -1 的推导，放入 paddle only\r\n\r\n### paddle.nn.functional.dropout\r\n随机函数，补齐转换能力后将配置放入 api_config_stochastic.txt\r\n\r\n### paddle.nn.functional.dropout2d\r\n随机函数，补齐转换能力后将配置放入 api_config_stochastic.txt\r\n\r\n### paddle.nn.functional.dropout3d\r\n随机函数，补齐转换能力后将配置放入 api_config_stochastic.txt",
        "issue_number": "99",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-06T06:28:17+00:00",
        "closed_at": "2025-05-07T02:02:44+00:00",
        "additions": 59459,
        "deletions": 59377,
        "changed_files": 12,
        "commits": [
            "135597d85c256f416212a1807ba5079c81fe89fb",
            "76d4a9b716c12b68e2ad793fb786be19cb5645e4",
            "4584292e00b52a21f9766a059cd9d6a88104a5d6",
            "ed28a7404cff120d511003fd6a1dccc94c81e8f3",
            "ecd4a1f2abbe0b2d557459d788090f3f16e139df",
            "21c0854cd2226da8960ef53ad74a5de021c79d02"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 94,
        "title": "【BIT】转换能力补齐：paddle.nn.functional.[margin_ranking_loss class_center_sample gelu]",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.nn.functional.margin_ranking_loss](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/margin_ranking_loss_cn.html)\r\n\r\n查询 [torch.nn.functional.margin_ranking_loss 与 paddle.nn.functional.margin_ranking_loss 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.margin_ranking_loss.html) ，发现是 `torch 参数更多`，测试后发现 `label` 参数形状需要与 `input` 一致，因此在直接映射的配置中进行广播转写。\r\n\r\n### 2. [paddle.nn.functional.class_center_sample](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/class_center_sample_cn.html)\r\n\r\n查询对照表与资料，发现并没有对应的 torch api ，因此直接为其注册 ClassCenterSampleRule 类，编写转换代码。\r\n\r\n由于 `label` 参数介绍为：\r\n> label (Tensor) - 1-D Tensor，数据类型为 int32 或者 int64，每个元素的取值范围在 [0, num_classes)。\r\n\r\n因此为其在 config_analyzer 中增加了分支处理，限制了标签的生成范围（即使之前 paddleonly 能够通过测试）；然后测试 accuracy 发现部分配置未通过，原因是该 api 会随机采样负类别中心补够 num_samples，具有随机性，因此将配置均移入 paddleonly 中（但是支持 paddle2torch 转换）\r\n\r\n### 3. [paddle.nn.functional.gelu](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/gelu_cn.html)\r\n\r\n查询 [torch.nn.functional.gelu 与 paddle.nn.functional.gelu 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.gelu.html) ，发现是 `参数用法不一致`，但可通过配置将 `approximate` 参数转写，因此为其撰写直接映射。\r\n\r\n## 测试结果\r\n\r\npaddle.nn.functional.class_center_sample 配置全部移入 paddleonly_1 中；paddle.nn.functional.gelu 有一条配置 OOM，暂时移入 accuracy_error_1 中；其余配置均通过测试，移入 support2torch_1 中\r\n\r\n![image](https://github.com/user-attachments/assets/3e2463f9-904f-4ba6-b3d3-781e8ad9a137)\r\n",
        "issue_number": "94",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-28T09:49:48+00:00",
        "closed_at": "2025-05-06T01:39:42+00:00",
        "additions": 3096,
        "deletions": 3000,
        "changed_files": 13,
        "commits": [
            "52ac6795ef0ada8eab7ed08d8e7e44d963c237af",
            "d930328544b9a4630fbc4916d183cd407a9bbc47",
            "36d5e3ddcb64d88e760eb3c80da6bb87e121ff2e",
            "e29c72f7c6750baeac07f7fc73f68932abcb638c",
            "6775afd91656d53114bfd24d435eac1ebe3f536d",
            "63dffc5fb39d4fa845a5989b3f8e3b4bed826d07",
            "d45a2440ff2b98e5d6580990645033d9ddc6c695",
            "438edbae0b72c93551b2acb6abd3afbb71e07ead",
            "33bb26d35844df7e4a9194311b42e9e254d1d352",
            "68c62257b25ef2ba42e2c56b3ee3c5ddf7541461"
        ],
        "comment_by": [
            "cszdrg",
            "cangtianhuang"
        ],
        "review_by": [
            "cszdrg",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 93,
        "title": "[BIT] paddle.vision.ops.distribute_fpn_proposals paddle.Tensor.zero_ paddle.vision.ops.deform_conv2d paddle.view paddle.topk",
        "body": "## paddle.vision.ops.distribute_fpn_proposals\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/vision/ops/distribute_fpn_proposals_cn.html\r\na）api_config文件存在问题， 需要进行修改。生成该api样例需满足以下要求\r\n- fpn_rois的锚框四角坐标要满足右下大于坐上\r\n- rois_num的总锚框数量要吐fpn_rois保持一致\r\n\r\nb）该api需要依据 proposal 的尺度和参考尺度与级别将所有 proposal 分配到不同的 FPN 级别中，torch中无对用api，需要自己编写rule\r\nc）该api的输出为list包含tensor，但是accurancy无法将该类输出进行对比，需要修改accurancy\r\n- 增加分支，判断是否为list 且list中都为tensor\r\n- 如果不满足上面条件，则按照以前的代码进行\r\n- 如果为list 且里面都是tensor 则将list中的tensor拿出来一个个进行比较\r\n\r\nd）修改后测试成功\r\n## paddle.Tensor.zero_\r\na）该api无参数 且有对应api，直接映射\r\n## paddle.view\r\na）torch中只有torch.Tensor.view，与该api进行对应，需要自己编写rule\r\n## paddle.vision.ops.deform_conv2d\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/vision/ops/deform_conv2d_cn.html\r\na）该api为amp 可以直接通过，放入amp\r\n## paddle.topk\r\na）该api可以直接映射",
        "issue_number": "93",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-28T09:00:04+00:00",
        "closed_at": "2025-05-06T01:38:37+00:00",
        "additions": 38883,
        "deletions": 38749,
        "changed_files": 12,
        "commits": [
            "32e3282c21cf96ba55de5b6887df0b7ea723f6e5",
            "ae8a371ea8658f7aa328774fab100683724aa341",
            "bb0bcdec46a9933181ede841275f240bded36893",
            "af68359f84e4dad40f1f31db7a22fd0588d94b49",
            "1d72afead41932a9b0e7a93e294c95d8649227ec",
            "3d4b6c066eff6ae35d4c9792ea4055dc7401422e"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cszdrg",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 97,
        "title": "【BIT】Fix paddle.Tensor.__getitem__、paddle.Tensor.__setitem__",
        "body": "## `paddle.Tensor.__getitem__`\r\n\r\n1. 对所有 paddle.Tensor 的内置方法的参数，采用 torch_args 直接传递，不再使用 inspect.signature 访问函数签名和 bind（部分内置方法未有函数签名）\r\n2. 修改了 GenericRule 中的生成逻辑，使其兼容内置方法，使用上了 args\r\n3. 为其注册了直接映射\r\n\r\n修改后，常规的 `paddle.Tensor.__getitem__` 测试配置均能正常 pass，如：\r\n```\r\npaddle.Tensor.__getitem__(Tensor([1, 1, 19, 84],\"float32\"), tuple(slice(None,None,None),0,0,1,), )\r\n```\r\n\r\n## `paddle.Tensor.__setitem__`\r\n\r\n部分 `paddle.Tensor.__setitem__` 报错 [not compare]，如：\r\n```\r\npaddle.Tensor.__setitem__(Tensor([1, 1, 19, 84],\"float32\"), tuple(slice(None,None,None),0,0,-1,), Tensor([1],\"float32\"), )\r\n```\r\n\r\n经测试，发现是当参数中含有多个 Tensor 时，除 self 外的其他 Tensor，paddle 都不会对其求梯度（求出来是 None），而 torch 均能求出梯度，导致梯度比较不匹配：\r\n![image](https://github.com/user-attachments/assets/4b73da33-94f9-4294-a5c2-7063864a21ab)\r\n\r\n1. 在 accuracy.py 中添加特判，仅比较第一个梯度的精度\r\n2. 为其注册了直接映射\r\n\r\n修改后，除了个别大 Tensor 有极小的精度问题外，其他均能 pass。拥有精度问题的配置移入 accuracy_error_1.txt 并在 fresh_report 中报告：\r\n![e89712ca3bcfb14c2e3682e7febc5851](https://github.com/user-attachments/assets/ef293859-7eff-4ceb-a521-267861dab73e)\r\n\r\n# 其他\r\n\r\n按理说，此修复方法能够一并解决所有内置方法的错误，不再需要如 https://github.com/PFCCLab/PaddleAPITest/pull/72 中的 no_signature_api_mappings\r\n\r\n因此为 `paddle.Tensor.__abs__`、`paddle.Tensor.__and__`、`paddle.Tensor.__dir__` 注册了直接映射并测试\r\n\r\n`paddle.Tensor.__dir__` 天然地不可比较（对象属性列表），因此将该 api 加入 [skip]，移入 paddleonly_1.txt\r\n\r\n其他 api 全部通过测试，与 `paddle.Tensor.__setitem__` 一并移入 api_config_support2torch_dunder.txt 等待合并\r\n\r\n考虑到兼容性，暂时未修改其他代码，可在进行广泛测试后再论证可行性\r\n",
        "issue_number": "97",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-29T15:57:41+00:00",
        "closed_at": "2025-05-06T09:38:44+00:00",
        "additions": 2170,
        "deletions": 2064,
        "changed_files": 11,
        "commits": [
            "aa7d8e9110f8706ac4313f2654faa97e1869a603",
            "f32984d370d7345a8ca5b9fd9256c56748060eeb",
            "20f96e44c13df68f572fc4038ce1627a25a1d6cd",
            "d0485ca944c2e838d788db9f9ab81c19ca7b97b6",
            "36f17721495845e690f6b50fa1c7bec398eeb93f",
            "7af0205a9a7319341cb29e98db2dd3d87dce4e17",
            "870ca23a25276e9b5087aca9184e2e568c7d5ad6",
            "3c1ed5874d5060ec7c256607a552808f7517cb9e"
        ],
        "comment_by": [
            "cangtianhuang"
        ],
        "review_by": [
            "changeyoung98"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 98,
        "title": "[BIT] 转换能力补齐：is_empty round gammaln sort Tensor.sort",
        "body": "修改内容 **（以新rule修改）**\r\n------------ \r\nis_empty 没有对应关系，需要使用编写rules的方法：\r\n\r\n```\r\nresult = x.numel() == 0\r\n```\r\n\r\npaddle.sort 和 torch.sort  并不完全对应，需要使用编写rules的方法，Tensor.sort同理：\r\n\r\n```\r\n        if self.torch_api.startswith(\"torch.Tensor\"):\r\n            core = \"result, _ = x.sort(**_kwargs)\"\r\n        else:\r\n            core = f\"result, _ = {self.torch_api}(**_kwargs)\"\r\n```\r\n\r\npaddle.round 和 torch.round对应：\r\n```\r\npaddle.round(x, name=None)\r\ntorch.round(input, *, decimals=0, out=None)\r\n\r\n```\r\n\r\npaddle.gammaln 和 torch.special.gammaln对应：\r\n\r\n----------------------\r\n\r\ngammaln sort tensor.sort存在反向传播问题，已存入fresh_report\r\n\r\nround存在精度问题，已存入fresh_report\r\n",
        "issue_number": "98",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-04-30T12:16:54+00:00",
        "closed_at": "2025-05-12T02:36:40+00:00",
        "additions": 401,
        "deletions": 96,
        "changed_files": 13,
        "commits": [
            "2b08838f7a6d889f0cf3a00189524d2f3245ad54",
            "4172982041d0419fda69ae924b65e4eb197758ab",
            "bde5e5a30fd3971e0b0c08c90ef1d60d612d72e9",
            "85338e8f801cb18d48dc72886be6982d4b17d6cb",
            "06c02fbfe8411c41291b18bc6cc69e4ddd4f3044",
            "ece0c41ba7a4b4eaf70d88a2d7332ecf1278f60f",
            "569689694ecfa21ff444c0602c22e3f3915ea69f",
            "bc0e15398dc7b2965c37d229e2a2e437d76daa51",
            "e0326833a2f24d1b96264c0e9153d171e85b033f",
            "d8f7421a25d04d17d322066c38fbc404efa4719f",
            "fb8326788b438a5c03b91c846fac7624eeade35b",
            "52bf04d179b2c72717d1a37943a58f67e7e465d6",
            "d31e87a03b08edf86e37a2f17d8131e0830f654f",
            "9cca2593e4ac83f377b0e5c7bb58b8d6346452b0",
            "3deb2b926f0762fbdb2c50233e4b13abd6bb7042",
            "9ebdc605c3c092a7e08565366e475b38d85ab579"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 102,
        "title": "【BIT】转换能力补齐：paddle.nn.functional.conv[1 2 3]d_transpose",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.nn.functional.conv1d_transpose](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/conv1d_transpose_cn.html)\r\n\r\n查询 [torch.nn.functional.conv_transpose1d 与 paddle.nn.functional.conv1d_transpose 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.conv_transpose1d.html) ，发现是 `paddle 参数更多`，注册并编写 Conv1dTransposeRule 类\r\n\r\n查阅文档发现，paddle 参数更多：paddle 多支持 data_format 参数，使用 permute 调换输入与输出维度顺序；paddle 多支持 output_size 参数，阅读源码与广泛测试后发现，output_size 影响的是 output_padding 而非 padding，因此计算默认 L_out，则 output_padding = output_size - L_out\r\n\r\npaddle 与 torch 的多个参数用法不同：stride、output_padding、dilation、output_size 需转为 int 类型；bias 参数需手动广播至 out_channels 大小，out_channels 可通过 weight.size(1) * groups 得到\r\n\r\n此外，padding 参数具有非常丰富的形式：当 padding 为 “SAME” 时，计算所需的 padding 大小；padding 为 “VALID” 时，padding 设置为 0；padding 为长度为 1 的列表时，直接提取；padding 为长度为 2 的列表时，代表非对称填充，torch 对应的 api 不支持非对称填充，因此需记录 crop 大小，对 torch 的输出进行手动裁剪（此为 transpose api，因此是对输出裁剪而非对输入填充）；padding 为长度为 3、元素为长度为 2 的嵌套列表时，代表对输入的所有维度的非对称填充，因此根据 data_format 提取并记录 crop 大小，对 torch 输出进行手动裁剪\r\n\r\n### 2. [paddle.nn.functional.conv2d_transpose](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/conv2d_transpose_cn.html)\r\n\r\n查询 [torch.nn.functional.conv_transpose2d 与 paddle.nn.functional.conv2d_transpose 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.conv_transpose2d.html) ，发现是 `paddle 参数更多`，注册并编写 Conv2dTransposeRule 类\r\n\r\n与 paddle.nn.functional.conv1d_transpose 类似，但是参数类型略有不同，维度更多，区别如下：\r\n\r\npaddle 多支持的 output_size 参数需分别对 H、W 维度计算默认 L_out，设置 output_padding[i] = output_size[i] - L_out，转化为 tuple 类型\r\n\r\nstride、output_padding、dilation 若为列表，需转为 tuple 类型\r\n\r\n当 padding 为 “SAME” 时，分别计算 H、W 维度所需的 padding 大小；padding 为 “VALID” 时，padding 设置为 0；padding 为长度为 2 的列表时，转化为 tuple 类型；padding 为长度为 4 的列表时，代表非对称填充，记录 crop 大小，对 torch 的输出进行手动裁剪；padding 为长度为 4、元素为长度为 2 的嵌套列表时，代表对输入的所有维度的非对称填充，因此根据 data_format 提取并记录 crop 大小，对 torch 输出进行手动裁剪\r\n\r\n### 3. [paddle.nn.functional.conv3d_transpose](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/conv3d_transpose_cn.html)\r\n\r\n查询 [torch.nn.functional.conv_transpose3d 与 paddle.nn.functional.conv3d_transpose 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.conv_transpose3d.html) ，发现是 `paddle 参数更多`，注册并编写 Conv3dTransposeRule 类\r\n\r\n与 paddle.nn.functional.conv2d_transpose 类似，但是维度更多，区别如下：\r\n\r\n当 padding 为 “SAME” 时，分别计算 D、H、W 维度所需的 padding 大小；padding 为 “VALID” 时，padding 设置为 0；padding 为长度为 3 的列表时，转化为 tuple 类型；padding 为长度为 6 的列表时，代表非对称填充，记录 crop 大小，对 torch 的输出进行手动裁剪；padding 为长度为 5、元素为长度为 2 的嵌套列表时，代表对输入的所有维度的非对称填充，因此根据 data_format 提取并记录 crop 大小，对 torch 输出进行手动裁剪\r\n\r\n## 问题修复\r\n\r\n### paddle.nn.functional.avg_pool3d\r\n\r\n偶然发现 AvgPoolRule 的 permute 顺序错误，回测后发现了两个报错，因此修复了 permute 顺序、增加手动 pad，测试全部通过\r\n\r\n## 测试结果\r\n\r\npaddle.nn.functional.conv[1 2 3]d_transpose 配置均通过 accuracy 测试，移入 support2torch_1.txt 中\r\n\r\n![image](https://github.com/user-attachments/assets/f31be4f3-662c-4fbe-9d2d-5deec329dc31)\r\n",
        "issue_number": "102",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-06T14:08:13+00:00",
        "closed_at": "2025-05-07T03:15:45+00:00",
        "additions": 1551,
        "deletions": 1317,
        "changed_files": 6,
        "commits": [
            "5a67fe255591e3b55c19c44f299f90a834e1f5fd",
            "ca0358dbab38f5eed76c4757819fbc8837192d0b",
            "715b81350846bc7982c02e6d38c4137c0ba253fe",
            "a83262633bc492548cee618260d9ed200f4eef8d",
            "65f3b1468bfe11b340b32309c7ed791f508c4d00",
            "fabd2631d57b752b54331d01a3ca0a190a629a46",
            "f8ee7d242be7a4ce7adaa84639e39583c9f2bd9d",
            "fb11c9f3c0467ca5b7e091f1beaf424a7a851b7f",
            "1f400b8d7e0448744697ed6ca9a892eeb59aa7db",
            "5f01c92ca2bf4008823613adc291fff80539ca3f",
            "291f69ed7a42f55fb29ca91790cbd1f1b06134e0",
            "cb40f775cc74cd04b16a7cf42096d77def9cb239"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 104,
        "title": "【BIT】Add paddle.nn.functional.conv2d_transpose accuracy_error config",
        "body": "`paddle.nn.functional.conv2d_transpose` 在 https://github.com/PFCCLab/PaddleAPITest/pull/102 的测试中漏去了一个 accuracy 错误的配置，经反复测试，发现均有 accuracy 错误，因此将其移出 support2torch ，移入 accuracy_error，并在 fresh_report 中记录\r\n```\r\npaddle.nn.functional.conv2d_transpose(Tensor([8, 2048, 16, 16],\"float16\"), Tensor([2048, 128, 4, 4],\"float16\"), bias=None, padding=1, output_padding=0, stride=list[2,2,], dilation=list[1,1,], groups=1, output_size=None, data_format=\"NCHW\", )\r\n```\r\n\r\n![image](https://github.com/user-attachments/assets/69601cf9-67fe-4c97-8f00-75155b09181f)\r\n",
        "issue_number": "104",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-07T06:20:40+00:00",
        "closed_at": "2025-05-07T06:53:47+00:00",
        "additions": 17,
        "deletions": 1,
        "changed_files": 3,
        "commits": [
            "58f70f6c34abc670beb233a5317edaa615165504",
            "0be1e643c88384e446db6f3160e6b450232b3897"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 101,
        "title": "[BIT] paddle.vision.ops.generate_proposals paddle.geometric.sample_neighbors paddle.geometric.segment_max",
        "body": "## paddle.vision.ops.generate_proposals\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/vision/ops/generate_proposals_cn.html\r\n- 无对应api 需要创建rule进行编写\r\n- 发现两个不同点\r\n1） 根据文档编写rule 发现与paddle结果不符合\r\n查看源码发现paddle中将min_size放大到f1.0\r\n2）当无锚框生成时，paddle输出（0，0，0，0）的boxes\r\n- 无法判断是否是paddle出现问题，将该api的config放入not support中\r\n## paddle.geometric.sample_neighbors\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/geometric/sample_neighbors_cn.html\r\n- 无对应api需要手写rule\r\n- 该api在指定sample_size 后具有随机性\r\n- 该api在部分样例下会出现（0，0，0，0.....的结果，存在问题\r\n- 放入not support中\r\n## paddle.geometric.segment_max\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/geometric/segment_max_cn.html\r\n- 无对应api 需要手写rule\r\n## paddle.vision.ops.nms\r\n- 该api有对应torch api\r\n- paddle的参数更多\r\n- 需要手写rule 增加广播 分类功能",
        "issue_number": "101",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-06T10:59:13+00:00",
        "closed_at": "2025-05-07T02:10:42+00:00",
        "additions": 2764,
        "deletions": 2492,
        "changed_files": 10,
        "commits": [
            "d735e0dcf96769c7e2de71c20e59f09c965f66c6",
            "cc82b6f3033f99e28d124972d0011c1483c004bc",
            "79ab13ba7f0be2c8b627db4e71ec210ee2750dd9",
            "7413d94d28d65c495094a4d9af038c52de980509",
            "692ea3d50a57893ad3b710ddb479981f355e7de4",
            "bf5ff7e0d08c3105d72610a2cd3d0b311e94dc93",
            "e3684072231c36fa041dca3c812f9b605956816d"
        ],
        "comment_by": [
            "Cutelemon6",
            "cszdrg"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 103,
        "title": "【BIT】转换能力补齐：paddle.nn.functional.conv[1 2 3]d",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.nn.functional.conv1d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/conv1d_cn.html)\r\n\r\n查询 [torch.nn.functional.conv1d 与 paddle.nn.functional.conv1d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.conv1d.html) ，发现是 `paddle 参数更多`，注册并编写 Conv1dRule 类\r\n\r\n查阅文档发现，paddle 多支持 data_format 参数，使用 permute 调换输入与输出维度顺序\r\n\r\npaddle 与 torch 的多个参数用法不同：stride、dilation 若为列表，需转为 tuple 类型\r\n\r\n此外，padding 参数具有更加丰富的形式：当 padding 为 “SAME” 或 “VALID” 时，torch 也支持此设置，直接转写为小写；当 padding 为长度为 1 的列表时，转为 tuple 类型；当 padding 为长度为 2 的列表时，代表非对称填充，torch 对应的 api 不支持非对称填充，因此需使用 torch.nn.functional.pad 对 torch 的输入进行手动填充\r\n\r\n### 2. [paddle.nn.functional.conv2d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/conv2d_cn.html)\r\n\r\n查询 [torch.nn.functional.conv2d 与 paddle.nn.functional.conv2d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.conv2d.html) ，发现是 `paddle 参数更多`，注册并编写 Conv3dRule 类\r\n\r\n与 paddle.nn.functional.conv1d 类似，但是参数类型略有不同，维度更多，区别如下：\r\n\r\npaddle 多支持 data_format 参数，使用 permute 调换输入与输出维度顺序\r\n\r\n当 padding 为 “SAME” 或 “VALID” 时，直接转写为小写；当 padding 为长度为 2 的列表时，转为 tuple 类型；当 padding 为长度为 4 的列表时，使用 torch.nn.functional.pad 对 torch 的输入进行手动填充；当 padding 为长度为 4、元素为长度为 2 的嵌套列表时，代表对输入的所有维度的非对称填充，因此根据 data_format 提取填充大小，对 torch 的输入进行手动填充\r\n\r\n### 3. [paddle.nn.functional.conv3d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/conv3d_cn.html)\r\n\r\n查询 [torch.nn.functional.conv3d 与 paddle.nn.functional.conv3d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.conv3d.html) ，发现是 `paddle 参数更多`，注册并编写 Conv3dRule 类\r\n\r\n与 paddle.nn.functional.conv2d 类似，但是参数类型略有不同，维度更多，区别如下：\r\n\r\npaddle 多支持 data_format 参数，使用 permute 调换输入与输出维度顺序\r\n\r\n当 padding 为 “SAME” 或 “VALID” 时，直接转写为小写；当 padding 为长度为 3 的列表时，转为 tuple 类型；当 padding 为长度为 6 的列表时，使用 torch.nn.functional.pad 对 torch 的输入进行手动填充；当 padding 为长度为 5、元素为长度为 2 的嵌套列表时，根据 data_format 提取填充大小，对 torch 的输入进行手动填充\r\n\r\n## 测试结果\r\n\r\npaddle.nn.functional.conv[1 2 3]d 大部分配置通过 accuracy 测试，移入 support2torch_1.txt 中；数条配置有极小的精度问题，移入 accuracy_error_1.txt 中 \r\n\r\n![image](https://github.com/user-attachments/assets/a608a802-562c-4869-8dfd-8c5f0d88f0f1)\r\n",
        "issue_number": "103",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-07T04:09:42+00:00",
        "closed_at": "2025-05-07T06:50:57+00:00",
        "additions": 2642,
        "deletions": 2358,
        "changed_files": 7,
        "commits": [
            "6131ce9e083d82e45b4e84e71e838b365ddd7d47",
            "8c9c7a319c3490ea1011b4185860ab139ed375e1",
            "3cdd17717eef90aed294a395753f44dc21a22cfc",
            "484d5524e69269c65e1cebb7c5d24d175e393893"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 100,
        "title": "[BIT] 转换能力补齐：Tensor.[norm、rad2deg、real、rsqrt、sin] 及 Tensor.pow 初始化问题修复",
        "body": "本次共补充了 `paddle.Tensor.[norm、rad2deg、real、rsqrt、sin]` 五个 API 的 paddle2torch 转换能力。另外，还对 `paddle.Tensor.pow` 的 Tensor 初始化值进行了设置，保证所有的配置通过测试。\r\n### 一、修复情况\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:---------------|\r\n| paddle.Tensor.norm | torch.Tensor.norm | torch 参数更多（dtype=None） | 撰写 mapping 配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.norm.html) |\r\n| paddle.Tensor.rad2deg | torch.Tensor.rad2deg | 无参数 | 撰写 mapping 配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.rad2deg.html) |\r\n| paddle.Tensor.real | torch.Tensor.real | 无参数 | 撰写 mapping 配置，设置 `\"is_attribute\": true` | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.real.html) |\r\n| paddle.Tensor.rsqrt | torch.Tensor.rsqrt | 无参数 | 撰写 mapping 配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.rsqrt.html) |\r\n| paddle.Tensor.sin | torch.Tensor.sin | 无参数 | 撰写 mapping 配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.sin.html) |\r\n\r\n五个 API 共 1239 条配置均通过测试。\r\n<img width=\"528\" alt=\"截屏2025-05-06 13 21 59\" src=\"https://github.com/user-attachments/assets/2a48dcb3-2621-4f78-9f73-0fa225e09427\" />\r\n### 二、Tensor.pow 初始化问题\r\n\r\n修改依据：由于 `pow` 进行的是幂运算，当幂次太高时，会出现精度不匹配问题。\r\n\r\n修改方法：在 `config_analyzer.py` 里面限定初始化范围。\r\n\r\n修改后，经测试，原 19489 条 `pow` 数据均通过测试，原错误配置及信息已从 `api_config_accuracy_error_5.txt`、`report/fresh_report/accuracy` 下移除，放入可转换的配置文件中。\r\n<img width=\"973\" alt=\"截屏2025-05-06 15 15 50\" src=\"https://github.com/user-attachments/assets/0b64e439-eb16-4bcb-939d-6f67d55279ba\" />",
        "issue_number": "100",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-06T07:57:55+00:00",
        "closed_at": "2025-05-06T10:19:57+00:00",
        "additions": 1263,
        "deletions": 1253,
        "changed_files": 9,
        "commits": [
            "6ea503a73e8a6ffd1f1799794c4e4ff789501882",
            "0c7f52e751a09a00575d18d19834b67e5b88724a",
            "f26db4d6a7d4aef13ab17d600a9da333dbb6591f",
            "640da53d459c4d7e40d1b1c7e17f1af35c8ebdfd",
            "36b458f4401d42d9cc64d00e288491e8959c717e"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 105,
        "title": "[BIT] 转换能力补齐：Tensor.[floor、frexp、geometric_、reciprocal、round]",
        "body": "本次共补充了 `paddle.Tensor.[floor、frexp、geometric_、reciprocal、round]` 五个 API 的 paddle2torch 转换能力。具体情况如下：\r\n\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:---------------|\r\n| paddle.Tensor.floor | torch.Tensor.floor | 无参数 | 撰写 mapping 配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.floor.html) |\r\n| paddle.Tensor.frexp | torch.Tensor.frexp | 无参数 | 撰写 mapping 配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.frexp.html) |\r\n| paddle.Tensor.geometric_ | torch.Tensor.geometric_ | torch 参数更多 | 属于 rand_apis，撰写 mapping 配置，测试后均能正常转换（accuracy 报错），移入 tester/api_config/api_config_paddleonly_5.txt | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.geometric_.html) |\r\n| paddle.Tensor.reciprocal | torch.Tensor.reciprocal | 无参数 | 撰写 mapping 配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.reciprocal.html) |\r\n| paddle.Tensor.round | torch.Tensor.round | torch 参数更多（decimals=0） | 撰写 mapping 配置 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.round.html) |\r\n\r\n除 `torch.Tensor.reciprocal` 外的其余四个 API 共 764 条配置均通过测试。\r\n<img width=\"507\" alt=\"截屏2025-05-07 11 04 34\" src=\"https://github.com/user-attachments/assets/cf45f087-741a-4c0a-84d6-3ce216c4dbe3\" />",
        "issue_number": "105",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-07T06:35:39+00:00",
        "closed_at": "2025-05-07T08:16:18+00:00",
        "additions": 796,
        "deletions": 779,
        "changed_files": 5,
        "commits": [
            "29d3779c03f08bf3f4f8c7df66896a7ce5977d3a",
            "2bbffc7a70cdefcb771e614c78f5dfb932c0f815"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 106,
        "title": "[BIT] paddle.linalg",
        "body": "# 可直接映射\r\npaddle.histogram **通过**\r\npaddle.linalg.eig **该api为计算特征值和特征向量，结果不唯一放入随机文件**\r\npaddle.linalg.eigvals  **精度存在问题 放入report**\r\npaddle.linalg.eigvalsh **当为多个batch时，精度出现问题，放入report**\r\npaddle.linalg.lu  **通过**\r\npaddle.linalg.svd **奇异值分解，结果不唯一，放入随机文件**\r\npaddle.linalg.eigh **多批度存在精度问题，放入report**\r\npaddle.linalg.svdvals **通过**\r\npaddle.linalg.cholesky **通过**\r\npaddle.linalg.lu_unpack **通过**\r\npaddle.linalg.pca_lowrank **无样例**\r\n# 需编写RULE\r\n- paddle.linalg.corrcoef **通过**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.corrcoef.html\r\npaddle存在rowvar参数，需要转写\r\n- paddle.linalg.matrix_transpose **通过**\r\n无对应api，但是就是对矩阵进行转置，可以使用torch.transpose进行转写\r\n- paddle.linalg.qr **通过**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.qr.html\r\n当mode为r时 与paddle的返回参数不同，需要转写\r\n- paddle.linalg.slogdet **通过**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/linalg/torch.linalg.slogdet.html\r\n返回参数不同，需要转写\r\n- paddle.linalg.triangular_solve **精度有误 放入report**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/linalg/torch.linalg.solve_triangular.html\r\n参数不一致，paddle中增加转置\r\n\r\n",
        "issue_number": "106",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-07T06:48:59+00:00",
        "closed_at": "2025-05-08T07:42:51+00:00",
        "additions": 1005,
        "deletions": 525,
        "changed_files": 11,
        "commits": [
            "164961b0699b8da45a11aafa4b6527a9672b939a",
            "eb0baa13be8ac425fdca288e598adf5548e8867b",
            "1ef1a99815aed6ef9b6f833354e970ac70c82063",
            "8205c0fd25f77e091eba401850aec542769faf70",
            "758ba81ee5560cae8b1c80674fb147e02787a29b"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cszdrg",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 108,
        "title": "【BIT】转换能力补齐：paddle.nn.functional.max_pool[1 2 3]d",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.nn.functional.max_pool1d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/max_pool1d_cn.html)\r\n\r\n查询 [torch.nn.functional.max_pool1d 与 paddle.nn.functional.max_pool1d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.max_pool1d.html) ，发现是 `paddle 参数更多`，但是所有参数的转写逻辑与 paddle.nn.functional.avg_pool[1 2 3]d 类似，因此决定复用 AvgPoolRule 类，重命名为 PoolRule\r\n\r\n为 PoolRule 类增加了预处理，将 kernel_size、stride 转写为 tuple 类型；优化了 padding 分支判断，逻辑不变；最后的 code 组装改为区分最后的 1、2、3 d\r\n\r\n修改 paddle.nn.functional.avg_pool[1 2 3]d 注册  PoolRule 类\r\n\r\n### 2. [paddle.nn.functional.max_pool2d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/max_pool2d_cn.html)\r\n\r\n查询 [torch.nn.functional.max_pool2d 与 paddle.nn.functional.max_pool2d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.max_pool2d.html) ，发现是 `paddle 参数更多`，复用 PoolRule 类\r\n\r\n### 3. [paddle.nn.functional.max_pool3d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/max_pool3d_cn.html)\r\n\r\n查询 [torch.nn.functional.max_pool3d 与 paddle.nn.functional.max_pool3d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.max_pool3d.html) ，发现是 `paddle 参数更多`，复用 PoolRule 类\r\n\r\n## 测试结果\r\n\r\n回测 paddle.nn.functional.avg_pool[1 2 3]d ，发现两个配置 accuracy 测试不通过，且差距较大。怀疑是转写含义不一致，但反复尝试后仍不通过，进一步认为是 api 内处理逻辑不同，无法转写（torch 不支持 padding > kernel_size / 2，手动填充后 accuracy 不通过）。因此移入 accuracy_error_1.txt 中，并在 fresh_report 中记录\r\n```\r\npaddle.nn.functional.avg_pool3d(Tensor([2, 3, 8, 8, 8],\"float64\"), kernel_size=list[3,3,3,], stride=list[3,2,1,], padding=list[1,2,1,], ceil_mode=False, exclusive=True, divisor_override=None, data_format=\"NCDHW\", name=None, )\r\npaddle.nn.functional.avg_pool3d(x=Tensor([2, 3, 8, 8, 8],\"float64\"), kernel_size=list[3,3,3,], stride=list[3,2,1,], padding=list[1,2,1,], exclusive=True, )\r\n```\r\n\r\npaddle.nn.functional.max_pool[1 2 3]d 大部分配置通过 accuracy 测试，移入 support2torch_1.txt 中；1、2、3 d 分别有数条配置有极小的精度问题，移入 accuracy_error_1.txt 中，并在 fresh_report 中记录：\r\n\r\n![image](https://github.com/user-attachments/assets/ddc600bf-baef-4468-9a89-1d30b38b3d86)\r\n\r\npaddle.nn.functional.max_pool2d 有三条配置 torch 报错，认为是 torch 不支持此配置，移入 paddleonly_1.txt 中：\r\n\r\n```\r\nRuntimeError: Given input size: (256x1x1). Calculated output size: (256x0x0). Output size is too small\r\n```\r\n\r\n![image](https://github.com/user-attachments/assets/0865d3bd-2352-4bae-a02d-35a080a281db)\r\n",
        "issue_number": "108",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-07T11:31:26+00:00",
        "closed_at": "2025-05-08T10:48:57+00:00",
        "additions": 3954,
        "deletions": 3130,
        "changed_files": 12,
        "commits": [
            "5e0659609defcf2294820918aa25c8ddfd41ebe5",
            "283c98c731b478e7f229cf7502bb3d4fe3ea81c5",
            "766645a7411a88cb39a48e8217a4e1c704c83d0f",
            "f06dd85bf6d52def68b122b3b1daada57cfca807",
            "769d4915bc86ac20e29d7e88d2522b15274f1f25",
            "e9a1f81bcb57687709ac5779d9f4600713d125d7"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 109,
        "title": "【BIT】转换能力补齐：支持 “预处理、核心执行、后处理” 代码分离",
        "body": "## 修改原因\r\n\r\nrules.py 返回的 code 为一个整体内容，无法实施后续的 api 性能测试；因此将转换代码划分为：*预处理*、*核心执行*、*后处理* 三个部分，核心执行期望对应的是 torch api 的一个语句，预处理则处理参数差异、后处理处理输出差异\r\n\r\n## 修改内容\r\n\r\n### `rules.py`\r\n\r\n1. 新增 Code 数据类，区分 `preprocess`、`core`、`postprocess` 三个可执行代码块，以及对应的三个预编译代码块\r\n2. Code 数据类新增 _compile 方法、__post_init__ 方法，当 Code 类被创建后，会自动编译三个代码块并保存，不再需要在 converter 中显式地编译；编译失败不会立即抛出错误（不会中断程序进行），而是静默地设置为 None，由 is_valid 方法判断\r\n3. Code 数据类新增 is_valid 方法，提供可执行代码是否有效的判断方法（编译是否成功）\r\n4. ConvertResult 数据类新增 is_torch_corresponding 字段，表示是否有 Torch API 对应\r\n5. ConvertResult 数据类修改 code 定义与描述\r\n6. ConvertResult 数据类将 success、error 修改为类方法 `@classmethod`\r\n7. ConvertResult 数据类的 success 方法修改签名，code 参数兼容 Code 类和字符串列表，后者将自动调用构造 Code；若 is_valid 不通过则调用 error 方法；code.core 部分不宜过长\r\n8. Conv1dRule 类修改为使用 Code 数据类\r\n\r\n### `converter.py`\r\n\r\n修改 execute 方法（并未用上）\r\n\r\n### `accuracy.py`\r\n\r\n将执行区域划分为三个部分：\r\n```python\r\n            # convert_result.is_torch_corresponding 为 True 时代表有对应的 Torch API\r\n            # 执行 *_compiled 编译好的代码速度更快\r\n            code = convert_result.code\r\n            if code.preprocess_compiled:\r\n                exec(code.preprocess_compiled, exec_globals, exec_locals)\r\n\r\n            if code.core_compiled:\r\n                if self.test_amp:\r\n                    with torch.autocast(device_type=\"cuda\"):\r\n                        exec(code.core_compiled, exec_globals, exec_locals)\r\n                else:\r\n                    exec(code.core_compiled, exec_globals, exec_locals)\r\n\r\n            if code.postprocess_compiled:\r\n                exec(code.postprocess_compiled, exec_globals, exec_locals)\r\n```\r\n\r\n## 测试结果\r\n\r\n测试 paddle.nn.functional.conv1d 的所有配置，使用修改过的 Conv1dRule 类，配置全部通过：\r\n\r\n![image](https://github.com/user-attachments/assets/64247425-3401-429a-b7c5-544f8cf8897e)\r\n",
        "issue_number": "109",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-07T16:29:46+00:00",
        "closed_at": "2025-05-08T07:45:45+00:00",
        "additions": 116,
        "deletions": 41,
        "changed_files": 3,
        "commits": [
            "f703d8e89f77146994cf07ed40d28e063f706865",
            "93af2b91b705d8051be129ed3db456fae9b3ef82",
            "1d862056a1c8b70d919491055ffda16503a84b65",
            "946d6608fa82b9cdf8e8ccf452323d14faa3c8a7",
            "ad1db12c2c2d4b5a56f55ea029a423974aee6833",
            "e47532f8acd656f033f9b284105fbb9a67c4a6f1"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 110,
        "title": "增加多进程启动器，增加日志结果汇总脚本",
        "body": "WorkerFarm for Parallel API Testing\r\n\r\n一个基于多进程的高效 API 测试调度器，支持多 GPU 并发测试、任务超时管理、日志收集与打包。\r\n适用于大规模 PaddlePaddle、CINN、PyTorch API 精度与性能验证场景。\r\n\r\n✨ 功能特点\r\n\t•\t支持多卡多进程并发测试，自动管理 GPU 资源。\r\n\t•\t支持 Paddle Only、Paddle+CINN、Accuracy 测试模式。\r\n\t•\t任务超时自动重启 Worker，防止长时间阻塞。\r\n\t•\t自动收集日志并打包，方便后续分析。\r\n\t•\t测试中自动清理 Paddle/Torch 显存，保障长时间运行稳定性。\r\n\r\n🚀 使用示例\r\n\r\npython3 workerfarm.py --api_config_file=error.txt --gpus=0,1,2,3 --per_gpu_concurrency=1 --timeout=1800 --accuracy\r\n\r\n📂 输出\r\n\t•\tlogs/：主控日志、错误用例、超时用例记录\r\n\t•\tworker_logs/：每个 worker 的独立执行日志\r\n\t•\tresult_pack_*.zip：自动打包所有日志，便于归档\r\n\r\n📋 依赖\r\n\t•\tPython 3.9+\r\n\t•\tPaddlePaddle\r\n\t•\tPyTorch\r\n\r\n",
        "issue_number": "110",
        "state": "closed",
        "merged": true,
        "user": "DDDivano",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-08T06:09:40+00:00",
        "closed_at": "2025-05-08T06:12:00+00:00",
        "additions": 403,
        "deletions": 0,
        "changed_files": 2,
        "commits": [
            "f6792e3e999b9b316e80d9dd60036f411160d3c2",
            "2c60360a436e20b8e226034472f740d58f0ff4bd"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 111,
        "title": "【BIT】Add engineV2-README, update paddle2torch README",
        "body": "## 修改内容\r\n\r\n1. 新增 engineV2-README.md，说明 engineV2.py、log_writer.py、run.sh\r\n2. 更新 paddle2torch 模块的 README.md，新增 **高级Rule指南**\r\n3. 移除对 mapping.json 中 import 字段的支持（无人使用）\r\n4. head_code 重命名为 defaults_code",
        "issue_number": "111",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-08T07:41:24+00:00",
        "closed_at": "2025-05-08T07:48:56+00:00",
        "additions": 261,
        "deletions": 30,
        "changed_files": 3,
        "commits": [
            "4707ee455e890cc827dc8cd604d2ca285d2655a5",
            "b9b54c81298a00b145a73cc487ef7814717c6329",
            "2b9d2ea62d8de352c3e6a127eb37891188ae80f4",
            "324e8da604d848da7a81e94a448695c302e11e00"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 112,
        "title": "【BIT】转换能力补齐：paddle.nn.functional.max_unpool[1 2 3]d",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.nn.functional.max_unpool1d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/max_unpool1d_cn.html)\r\n\r\n查询 [torch.nn.functional.max_unpool1d 与 paddle.nn.functional.max_unpool1d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.max_unpool1d.html) ，发现是 `paddle 参数更多`，因此编写 mapping 转换配置，注册 UnpoolRule 转换规则：\r\n\r\n- paddle 多 data_format 参数，使用 permute 调整维度顺序\r\n- paddle 与 torch 参数用法不一致，kernel_size、stride、padding、output_size 若为 list，需转为 tuple；indices 转为 int64 类型\r\n\r\n### 2. [paddle.nn.functional.max_unpool2d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/max_unpool2d_cn.html)\r\n\r\n查询 [torch.nn.functional.max_unpool2d 与 paddle.nn.functional.max_unpool2d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.max_unpool2d.html) ，发现是 `paddle 参数更多`，因此编写 mapping 转换配置，注册 UnpoolRule 转换规则\r\n\r\n### 3. [paddle.nn.functional.max_pool3d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/max_pool3d_cn.html)\r\n\r\n查询 [torch.nn.functional.max_unpool3d 与 paddle.nn.functional.max_unpool3d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.max_unpool3d.html) ，发现是 `paddle 参数更多`，因此编写 mapping 转换配置，注册 UnpoolRule 转换规则\r\n\r\n## 测试结果\r\n\r\n在 https://github.com/PFCCLab/PaddleAPITest/pull/116 修复后，paddle.nn.functional.max_unpool[1 2 3]d 的所有配置均通过 accuracy 测试，移入 support2torch_1\r\n\r\n![image](https://github.com/user-attachments/assets/8340c0b1-53f0-474c-b657-dcffb8846fb8)\r\n",
        "issue_number": "112",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-08T09:31:31+00:00",
        "closed_at": "2025-05-12T02:39:59+00:00",
        "additions": 153,
        "deletions": 84,
        "changed_files": 8,
        "commits": [
            "8f2139d81434767f40bcd1cdf2af295acc02ba54",
            "1c20dfb9c7a36e81fa45458f268a65851cc47c65",
            "ac8f39aaf8e12f2a4a1e3e977d79a938f8326fec",
            "4d1e60997bf51ff6c8dd3b01140c8d487752dd23",
            "1c949934c7dc1f80624de11ca9a838d5e386792f",
            "406d0ff0a5d054ab0f25b70000d7a6058e7eff50",
            "160597330cc53889e91158b35a22f39dd29dc5c9",
            "6af6148fb7d6f0ec823dc0a67b2281fa67689d08",
            "23a9014f4d5558b7844fa8947800632068f04e11",
            "597178b8bed749e35ebf98a542025022e4b4542f"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 107,
        "title": "[BIT] 转换能力补齐：__rshift__ abs add atanh",
        "body": "### paddle.Tensor.__rshift__ \r\nis_arithmetic == True 时该 api 行为与 torch.Tensor.\\_\\_rshift__ 一致，is_arithmetic == False 时采用逻辑右移，torch 没有对应实现，并且将 torch Tensor 的 dtype 转换为对应的 uint 类型后调用 torch.Tensor.\\_\\_rshift__ 没有对应内核实现，因此采用 numpy 的右移实现。\r\n```pyhon\r\ndef logical_right_shift(x: torch.Tensor, shift: torch.Tensor) -> torch.Tensor:\r\n    if x.dtype == torch.int8 or x.dtype == torch.uint8:\r\n        unsigned_dtype = numpy.uint8\r\n    elif x.dtype == torch.int16 or x.dtype == torch.uint16:\r\n        unsigned_dtype = numpy.uint16\r\n    elif x.dtype == torch.int32 or x.dtype == torch.uint32:\r\n        unsigned_dtype = numpy.uint32\r\n    elif x.dtype == torch.int64 or x.dtype == torch.uint64:\r\n        unsigned_dtype = numpy.uint64\r\n    x_np = x.cpu().numpy().astype(unsigned_dtype)\r\n    shift_np = shift.cpu().numpy().astype(unsigned_dtype)\r\n    # use numpy to do unsigned right shift\r\n    result_np = x_np >> shift_np\r\n    return torch.from_numpy(result_np).to(x.dtype)\r\n```\r\n\r\n----- update -----\r\n经过与李昊阳同学的讨论，对逻辑右移的功能采用掩码 + 手工右移的 pytorch 实现，但是李昊阳同学的实现对于输入 int\r\n64 会产生溢出错误。为此我采用以下的办法来使用 torch 实现，从而避免引入 numpy，并全部通过精度测试：\r\n\r\n让掩码最高位为 0，其余位为1，模拟掩码先右移一位，这样对掩码的后续右移能够复用算术右移的逻辑，再对掩码右移 y - 1 位，和输入 x 右移 y 位的结果按位与，从而实现 api 的逻辑右移 y 位的效果。paddle 对于 y < 0 的情形输出为 0，无论 x 是多少，而 torch 的右移对于 y < 0 输出 x，对于 y < 0 的情况需要进行转写。最终逻辑右移的逻辑如下：\r\n```python\r\ndef logical_right_shift(x: torch.Tensor, y: torch.Tensor):\r\n    mask = (1 << (x.element_size() * 8 - 1)) - 1\r\n    x_arithmetic, mask = x >> y, mask >> (y - 1)\r\n    shifted = torch.where(y >= 1, x_arithmetic & mask, x)\r\n    shifted = torch.where(y < 0, torch.zeros_like(x), shifted)\r\n    return shifted\r\n```\r\n\r\n### paddle.Tensor.abs \r\n直接转换\r\n\r\n\\_tmp_tensor_ = args[0], result = _tmp_tensor_.abs()\r\n\r\n### paddle.Tensor.add\r\n直接转换\r\n\\_tmp_tensor_ = args[0], result = _tmp_tensor_.add(other=y)\r\n\r\n### paddle.Tensor.atanh\r\n直接转换\r\n\\_tmp_tensor_ = args[0], result = _tmp_tensor_.atanh()\r\n\r\n### 实用工具\r\n* tools/log_digest.py 根据 error 类型归类日志/api 配置\r\n* test_signature.py 测试函数签名\r\n",
        "issue_number": "107",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-07T11:02:35+00:00",
        "closed_at": "2025-05-08T08:02:19+00:00",
        "additions": 15997,
        "deletions": 15277,
        "changed_files": 8,
        "commits": [
            "60aff9602363f7c84cbec16b71b8f6fd1095b2a0",
            "6161f77f7331aaf5fe0366ec3edfb371b586f403",
            "b6f357beb68c96ded9875e08046ad2a01428afe7",
            "da2584364de2d7006ce446237e16d69d70dfe8ea",
            "dc53c638d0fcfd17abc9adf323be6d46e0053baf",
            "f1c1282a24945fc7cbac26da9c14f956275da551",
            "4209be5a47b4eafd60bf0aa974417c554aef28bd",
            "66d36e7d22b9bbf877b82826daa50ff3cc312f91",
            "992cf4e00c87987ed45faf17c9c28aed0818b29b",
            "a708747ddaa4f1f51795cc6cdb06a95626e4363a"
        ],
        "comment_by": [
            "Cutelemon6",
            "cangtianhuang"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 117,
        "title": "[BIT]补充Tensor.__getitem__、Tensor.__setitem__的ci_ce_cpu报告",
        "body": "对 `api_config_merged_getset_item_1.txt`～`api_config_merged_getset_item_6.txt` 中的所有配置进行了 CPU 下的精度测试，测试结果仅出现以下两类错误：\r\n\r\n- **Accuracy Error**：相关错误内容已补充至 `report/ci_ce_cpu` 目录下的对应文件中。\r\n- **Torch Error**：仅出现在 slice 中存在负数的配置中。在提取时，Torch Error 已通过之前的 `error_stat.py` 设置进行过滤。\r\n\r\n测试过程中未出现 Paddle Error、CUDA Error 等其他类型的错误。",
        "issue_number": "117",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-09T08:04:52+00:00",
        "closed_at": "2025-05-09T08:06:25+00:00",
        "additions": 1143,
        "deletions": 0,
        "changed_files": 3,
        "commits": [
            "5ae633af4c5d211236266c64dc9bef3dae6eec4b"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 115,
        "title": "【BIT】转换能力补齐+引擎修复：increment、scale、Tensor.scale、searchsorted、shape、meshgrid",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.increment](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/increment_cn.html)\r\n\r\n查询对照表，发现无对应 torch api，因此注册 IncrementRule，使用 `+` 模拟递增，并设置 is_torch_corresponding=False\r\n\r\n### 2. [paddle.scale](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/scale_cn.htm)\r\n\r\n查询对照表，发现无对应 torch api，因此注册 ScaleRule，使用 `*` 和 `+` 模拟 scale 行为，并设置 is_torch_corresponding=False\r\n\r\n### 3. [paddle.Tensor.scale](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/Tensor_cn.html#scale-scale-1-0-bias-0-0-bias-after-scale-true-act-none-name-none)\r\n\r\n与 paddle.scale 类似，直接复用 ScaleRule\r\n\r\n### 4. [paddle.searchsorted](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/searchsorted_cn.html)\r\n\r\n查询 [torch.searchsorted 与 paddle.searchsorted 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.searchsorted.html) ，发现是 `torch 参数更多`，参数可直接映射，为其撰写 mapping 配置\r\n\r\n### 5. [paddle.shape](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/shape_cn.html)\r\n\r\n查询对照表，发现无对应 torch api，因此注册 ShapeRule，直接获取 tensor 的 shape 并转为 tensor，设置 is_torch_corresponding=False\r\n\r\n### 6. [paddle.meshgrid](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/meshgrid_cn.html)\r\n\r\n查询 [torch.meshgrid 与 paddle.meshgrid 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.meshgrid.html) ，发现是 `仅参数名不同`，但由于是可变参数 `*args`，因此撰写 mapping 配置时改为提供 torch_args\r\n\r\n## 其他修改\r\n\r\n1. 微调 GenericRule 中的 `_args` 位置，避免 `args` 同名参数影响参数添加（如 paddle.meshgrid）。修改后，paddle.meshgrid、 `paddle.Tensor.__getitem__`、`paddle.Tensor.__setitem__` 均能通过测试\r\n2. 优化  GenericRule，划分转换代码，使用了最新的 Code 数据类返回转换结果\r\n3. 优化 Code 数据类，新增 valid、error_message 字段，辅助定位编译错误信息\r\n4. 修复 base.py 中的一个变量名称错误（不影响运行）\r\n5. 聚合 paddle.max、paddle.min 的配置并添加 mapping 配置（暂未修复完毕）\r\n\r\n## 测试结果\r\n\r\npaddle.scale 的 scale 参数若为 tensor，无法反向传播（与 paddle.Tensor.__setitem__ 类似），将其移入 accuracy_error 并在 fresh_report 中记录。测试如下：\r\n\r\n![image](https://github.com/user-attachments/assets/0fd8756a-1fac-4b5e-a19e-64b1a3b84bd6)\r\n\r\n其他配置均通过 accuracy 测试，移入 support2torch\r\n\r\n![image](https://github.com/user-attachments/assets/75ca685d-6b58-42ff-9e9d-2f6f677c74ef)\r\n\r\n![image](https://github.com/user-attachments/assets/42d82418-7e62-40ed-abef-df03c486de19)\r\n",
        "issue_number": "115",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-08T14:26:29+00:00",
        "closed_at": "2025-05-12T02:12:03+00:00",
        "additions": 7123,
        "deletions": 6988,
        "changed_files": 12,
        "commits": [
            "9d941aabc06418ec2a0799196feaf0ef16c536a5",
            "7d976f826a9b39caac744deb298f3f4e43c5915a",
            "050beb585774deb5004a8ade902bd4b995308525",
            "b3b1935afbc1684995fb058b355699b78f1374c3",
            "fb90a6622b485ded12d619ad1145169b1aa78332",
            "2485d0fd2198a5112c97f5c253368f4b2515f727",
            "cb25a1de8d791e5ac608a2441fa6de1859bb5b29",
            "c0ae40304dd53ee7c1db23079bf1d69520be6489"
        ],
        "comment_by": [],
        "review_by": [
            "cszdrg",
            "cangtianhuang",
            "wanghuancoder",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 114,
        "title": "[BIT] 转换能力补齐：bincount、multiply、Tensor.[rank、log_normal_、tile]",
        "body": "## [BIT] 转换能力补齐：bincount、multiply、Tensor.[rank、log_normal_、tile]\r\n\r\n本次共补充了 `paddle.bincount`、`paddle.multiply`、`paddle.Tensor.rank`、`paddle.Tensor.log_normal_` 和 `paddle.Tensor.tile` 五个 API 的 paddle2torch 转换能力。具体情况如下：\r\n\r\n| Paddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:------|:-----|:-------------|:-------------|:-----|:---------------|\r\n| paddle.bincount | torch.bincount | 参数名不一致| 撰写 mapping 配置，若Paddle 中 `minlength` 参数为`Tensor[]`，则在torch中转为int| - | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.bincount.html) |\r\n| paddle.Tensor.rank | 无对应 PyTorch API | - | 编写 rule：`RankRule`，借助 `torch.Tensor.dim` 进行比较 | 需要额外规则 | - |\r\n| paddle.Tensor.log_normal_ | torch.Tensor.log_normal_ | torch 参数更多 | 属于 rand_apis，撰写 mapping 配置，测试后 6 条配置均能正常转换（accuracy 报错），移入 tester/api_config/api_config_paddleonly_5.txt | 属于 rand_apis | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.log_normal_.html) |\r\n| paddle.Tensor.tile | torch.Tensor.tile | torch输入参数形式用法更多 | 撰写 mapping 配置,paddle做转化无需额外处理 | - | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.tile.html) |\r\n| paddle.multiply | torch.mul | torch 参数更多（out=None） | 撰写 mapping 配置 | - | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.mul.html) |\r\n\r\n除 `paddle.Tensor.log_normal_` 外(共6条配置),其余四个 API 原merged文件中**共52230条配置**，其中有三条重复配置\r\n`paddle.Tensor.tile(Tensor([128, 1],\"float32\"), list[Tensor([],\"int64\"),], )`\r\n`paddle.Tensor.tile(Tensor([1, 280, 376, 25, 3],\"float32\"), tuple(Tensor([],\"int64\"),1,1,1,1,), )`\r\n`paddle.Tensor.tile(Tensor([256, 1],\"float32\"), list[Tensor([],\"int64\"),], )`\r\n\r\n**剔除后共52227条配置**，其中有一条`paddle.Tensor.tile(Tensor([29151, 1, 32],\"float16\"), list[1,100,1,], )`为accuracy error,经反复测试并调整config_analyze.py中的初始化大小，依旧存在比较小的精度差异，其余\"float16\"类型的Tensor、list中存在大于100的数字则均可通过。相关信息已放入fresh_report和accuracy_error_5.txt中。\r\n![image](https://github.com/user-attachments/assets/8ad180ea-d867-4af8-ae64-419b77d2df63)\r\n**其余52226条配置**均通过测试。\r\n<img width=\"658\" alt=\"f74dc117e4b739c512cbf7286b009090\" src=\"https://github.com/user-attachments/assets/590f68f6-d268-448c-b563-28c27090ff94\" />",
        "issue_number": "114",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-08T12:18:31+00:00",
        "closed_at": "2025-05-09T02:03:03+00:00",
        "additions": 52297,
        "deletions": 52248,
        "changed_files": 12,
        "commits": [
            "43a8b11bbb103ef5c11db60cecb239feeeb43f42",
            "dd72f0c51710dc188aada85735b92d8abde7cb13",
            "5b674f088653d829f6561a1f836a99d0e4e2d47b",
            "680dc548e1d49a47188dd6577058c9dfbe3574cd",
            "7e29508fc2e9658a108955044e50822f456a765a",
            "f2b20598d9f808a05fa9eda10c68ba3e6b4e7235",
            "adfa3ae57f4bb529f8a2b3a4898a70e47de007e5",
            "75351446781b02a608e16704cee06ab896635d5a",
            "22827699536e8a02c6070f6e4d9a12a995745096"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "yuwu46",
            "yuwu46"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 113,
        "title": "[BIT] polar positive pow remainder reverse rank reduce_as normal ones prod slice split tanh Tensor.reshape where zeros bernoulli gammainc gammaincc",
        "body": "# 直接映射\r\n- paddle.pow **在底数为0 指数为复数上存在精度错误，放入report**\r\n- paddle.remainder **pass**\r\n- paddle.tanh **pass**\r\n- paddle.bernoulli **随机api**\r\n- paddle.gammainc **pass**\r\n- paddle.gammaincc **pass**\r\n\r\n# 有对应api 但需要进行参数转换\r\n- paddle.reverse **pass**\r\n无文档 但是与torch.clip逻辑类似，需要对输入的dim进行类型转换\r\n- paddle.normal **随机api**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.normal.html\r\npaddle支持复数，需要增加支持\r\n- paddle.ones **pass**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.ones.html\r\ntorch的dtype和paddle的dtype不同，需要进行转换\r\n- paddle.prod **runtimeerror**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.prod.html\r\na) torch的dtype和paddle的dtype不同，需要进行转换\r\nb) torch的dim不支持list输入 需要修改以支持\r\nc) 对于整数的tensor torch不支持反向求导 所以放入error文件\r\n- paddle.slice **pass**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.narrow.html\r\npaddle输入为start end torch输入为start length 需要转换\r\n- paddle.split **pass**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.split.html\r\nnum_or_sections 参数不一致需要转换\r\n- paddle.Tensor.reshape **pass**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.reshape.html\r\ntorch不支持tensor输入需要进行转换\r\n- paddle.where **pass**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.where.html\r\ntorch不支持input的tensor输入 需要处理\r\n\r\n# 无对应api\r\n- paddle.polar **pass**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/polar_cn.html\r\n返回复平面坐标手动实现\r\n- paddle.positive **pass**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/positive_cn.html\r\n直接返回向量\r\n- paddle.rank **pass**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/rank_cn.html\r\n返回维度\r\n- paddle.reduce_as **pass**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/reduce_as_cn.html\r\n指定维度求和\r\n- paddle.shard_index **pass**\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/api/paddle/shard_index_cn.html\r\n\r\n",
        "issue_number": "113",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-08T11:29:51+00:00",
        "closed_at": "2025-05-12T06:04:08+00:00",
        "additions": 24890,
        "deletions": 24437,
        "changed_files": 15,
        "commits": [
            "5ae5cebffe11ae9a5512db5312bb9ab5aa9ae0cc",
            "925b863af8a611016c19cfc0441d3c4a5cf4969d",
            "ac2c12510a9b37c2655b7a0c754744478cd0c41c",
            "b757cfe9f8f226942fed877ac427530e33584d75",
            "c20646d0c97bfc6f22c97c994ac4b6796df4ff46",
            "aedf8b253213044df70ae0b36c1439710879c729",
            "68ed4d1cbab3d313e10d7c670ae194679e4d161b",
            "e2a763bda5c7de738765bccc59dd2924139df0cd",
            "83ea76b2354a6ace9d8187bfb3ef5431fc068e5b",
            "0a567085dfed0f95693ad065732852af3226c826",
            "d12408bc243c5b16f2891bc5e610f9d9c0a6ff21",
            "c57a8ae740ca40f9602da453dc1a0c1b638a1f03",
            "79e70ecde6c8568b00eb62d8d58e5c384a9731f3",
            "e578dc55dadc2a59ce9267c5bf9b9c2f2d80101c",
            "bd0c99f9688e48cb4107d389440266b1bf249193",
            "b44a94fb5722dd2c972780156a4169fc70a99a8c",
            "37de5bcfa02b590cd07e736f040aa0ea9c9d9e0c"
        ],
        "comment_by": [
            "cszdrg"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cszdrg",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 116,
        "title": "[BIT] 引擎修复和补齐：paddleonly 初始化 tensor 能力修复, all any 补齐",
        "body": "### paddle.Tensor.all\r\n\\_tmp_tensor_ = args[0], result = _tmp_tensor_.all(dim=dim, keepdim=keepdim)\r\n\r\n### paddle.Tensor.any\r\n\\_tmp_tensor_ = args[0], result = _tmp_tensor_.any(dim=dim, keepdim=keepdim)\r\n\r\n### 引擎修复\r\n在使用 paddle only 测试 paddle.nn.functional.max_unpool2d 时，发现引擎能力补齐的相关代码没有应用，原因是 paddle_only.py 中，初始化 tensor 的逻辑是先调用 gen_paddle_input()，该函数调用下层 get_numpy_tensor 时没有传入 index 和 key 参数，导致任务一中同学们为初始化 tensor 进行的引擎能力补齐的工作不可用（初始化 tensor 依赖调用 index 和 key 参数来识别初始化的是对应 api 的哪个 tensor）\r\n\r\n----- update -----\r\n\r\n为修复问题，并最小化其它代码改动，~为 gen_paddle_input() 中开始位置添加 gen_numpy_input()，这样 gen_paddle_input() 就向上层调用屏蔽了 index 和 key 的细节，并且不需要改动其它代码。利用 get_numpy_tensor 已有的实现，多次调用 get_numpy_tensor 并不会产生影响，第二次及以后调用只会返回已经初始化好的 numpy_tensor，只要调用的是同一个 TensorConfig，而 gen_paddle_input() 和 gen_numpy_input() 恰好是初始化的同一个 APIConfig 中的 TensorConfig。但是 gen_torch_input() 不确定是否和 gen_numpy_input() 初始化的是同一个 APIConfig 中的 TensorConfig，暂时未作修改，也不影响 accuracy.py 中 gen_torch_input() 的使用。~ 为 paddle_only.py 调用 gen_paddle_input() 前添加 gen_numpy_input()\r\n\r\n```python\r\ntry:\r\n    if not self.gen_numpy_input():\r\n        print(\"gen_numpy_input failed\")\r\n        return\r\nexcept Exception as err:\r\n    print(\"[paddle error]\", self.api_config.config, \"\\n\", str(err))\r\n    write_to_log(\"paddle_error\", self.api_config.config)\r\n    return\r\n``` ",
        "issue_number": "116",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-09T05:01:54+00:00",
        "closed_at": "2025-05-12T02:13:17+00:00",
        "additions": 260,
        "deletions": 232,
        "changed_files": 6,
        "commits": [
            "069867d78089039231fafc8f39a9b5eec7a419b4",
            "9a4d2c832454fb45182f585679fc14b3e8ae6407",
            "806c930526959de1c620ebbab1b341714d18475c",
            "9e5cee9a95c2cefa97a48b138cf4fc82c0bee41c",
            "1a922f396096fc55390dc7fdf9c194265e0b827d"
        ],
        "comment_by": [],
        "review_by": [
            "cangtianhuang",
            "cszdrg",
            "cangtianhuang",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 119,
        "title": "【BIT】引擎修复：engineV2--支持动态工作进程数、轮询可用显存、CPU多进程测试",
        "body": "## 修改内容\r\n\r\n1. 新增 --gpu_ids（str 类型）、--required_memory（float 类型）参数，可显式指定可用 gpu、每进程所需显存\r\n2. 新增 --test_cpu（bool 类型）参数，可设置 paddle 为 cpu 模式下执行多进程测试\r\n3. 新增 validate_gpu_options，有效化 gpu 相关参数\r\n4. 新增 check_gpu_memory，启动进程池前检查/设置每 gpu 可用显存，计算可分配工作进程数，避免资源竞争\r\n5. 优化 init_worker_gpu，不再使用 psutil 库，优先向有更多空位的 gpu 分配新进程\r\n6. 优化 run_test_case，执行任务前检查可用显存，轮询等待，避免 OOM\r\n7. 调整 BATCH_SIZE 至 20000\r\n\r\n## 新增用法\r\n\r\n--num_gpus 可设置为 -1，代表 **使用最多的可用 gpu**\r\n--num_workers_per_gpu 可设置为 -1，代表每 gpu **分配最多的可用工作进程**\r\n--gpu_ids 可设置为 \"-1\"，代表 **使用最多的可用 gpu**\r\n\r\n--gpu_ids 与 --num_gpus 仅有一项为 -1 时将遵从另一个参数值\r\n--gpu_ids 与 --num_gpus 的 gpu 数量不一致时，以 --gpu_ids 优先\r\n\r\n参数错误不会抛出错误中断程序，而是设定为推荐值\r\n\r\n## 测试结果\r\n\r\n全量测试 api_config_support2torch_1.txt，命令为：\r\n```bash\r\npython engineV2.py --accuracy=True --api_config_file=\"tester/api_config/api_config_support2torch_1.txt\" --num_gpus=-1 --num_workers_per_gpu=-1 >> \"tester/api_config/test_log/log.log\" 2>&1\r\n```\r\n\r\n总工作进程为 8 * 7 = 56，约 3 万条配置测试时间为 30 分钟，平均 **15 条配置 / 秒**（含较大 Tensor，[96, 512, 28, 28]）；小 Tensor 配置可达 **30 条配置 / 秒** 以上\r\n\r\n<img width=\"1280\" alt=\"bf410e6fce346bff6c0761a27305eb9\" src=\"https://github.com/user-attachments/assets/8ed39611-0b4b-47ff-a85e-791d500be42a\" />\r\n",
        "issue_number": "119",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-11T03:24:12+00:00",
        "closed_at": "2025-05-12T02:16:30+00:00",
        "additions": 208,
        "deletions": 99,
        "changed_files": 2,
        "commits": [
            "47ebdd2baeb0809c55182b0c6864fdbcdfadb305",
            "c44f714baf00565991cbc81ac34b675315952d12",
            "350a61452c76994b24426b3fc791433a699434c6",
            "7879077bcad23856ab6ff37177b338b482630baf",
            "a1ab3e960870d879e715758fabaaadcd41ab8d17"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 120,
        "title": "【BIT】转换能力补齐：paddle.nn.functional.lp_pool[1 2]d",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.nn.functional.lp_pool1d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/lp_pool1d_cn.html#lp-pool1d)\r\n\r\n查询 [torch.nn.functional.lp_pool1d 与 paddle.nn.functional.lp_pool1d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.lp_pool1d.html) ，发现是 `paddle 参数更多`，但是所有参数的转写逻辑与 paddle.nn.functional.avg_pool[1 2 3]d 类似，因此编写 mapping 转换配置后，直接复用 PoolRule 类\r\n\r\n将 PoolRule 类移动至 p 位置\r\n\r\n### 2. [paddle.nn.functional.lp_pool2d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/lp_pool2d_cn.html#lp-pool2d)\r\n\r\n查询 [torch.nn.functional.lp_pool2d 与 paddle.nn.functional.lp_pool2d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.lp_pool2d.html) ，发现是 `paddle 参数更多`，编写 mapping 转换配置后，复用 PoolRule 类\r\n\r\n## 测试结果\r\n\r\npaddle.nn.functional.lp_pool[1 2]d 的所有配置均通过 accuracy 测试，移入 support2torch_1\r\n\r\n![image](https://github.com/user-attachments/assets/58e719e5-702d-4add-9c26-df0e4cd68275)\r\n",
        "issue_number": "120",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-11T05:27:31+00:00",
        "closed_at": "2025-05-12T02:35:23+00:00",
        "additions": 234,
        "deletions": 220,
        "changed_files": 5,
        "commits": [
            "942d2cf10586aecf680239cbb4c70664f0806d90",
            "671908d8125065ea772814412ff69f51a0ca35e2",
            "c1fa18583d8b56b6df3c70407c5f801f7f8c71dd",
            "e0b1ea5beadb4f15fb3389b35b641b8bd5f0dbc1",
            "1929e9ee5e3a2b59e1a4ab80aafd1117a71e5a8e",
            "5b6791920fb3fdee638f785ea261499550c5dfc9"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 118,
        "title": "【BIT】引擎修复：Update all outdated rules",
        "body": "## 修改内容\r\n\r\n1. 更新本人撰写的所有过时 Rule，使用 Code 数据类代码划分\r\n2. 废弃 mapping.json 中的 composition_steps 配置（过于局限，仅有 add_n 使用且未完全适配），移除 read_mapping、GenericRule 中相关内容\r\n3. 更新 Paddle2Torch README\r\n4. 修复了 `paddle.add_n` ，为其注册并编写 AddNRule\r\n5. 修复了 `paddle.Tensor.__and__` ，其在 https://github.com/PFCCLab/PaddleAPITest/pull/107 后无法 pass\r\n6. 修复了 `paddle.nn.functional.channel_shuffle` 的 DataFormatRule，其在 https://github.com/PFCCLab/PaddleAPITest/pull/103 中被错误修改\r\n7. 移动两条已在 fresh_report 中记录的 accuracy error 配置\r\n\r\n## 测试结果\r\n\r\n所有常规 paddle.add_n 配置均通过 accuracy 测试，原先的两条 paddleonly 配置被支持，合并移入 support2torch_1 ；两条 amp 配置移入 support2torch_amp 中：\r\n![image](https://github.com/user-attachments/assets/4b37b7a0-5471-4ede-beb1-1efb6f4f231c)\r\n\r\n所有 paddle.nn.functional.channel_shuffle 配置通过 accuracy 测试；paddle.Tensor.set_、paddle.cumprod 的两条配置被移入 accuracy_error_1",
        "issue_number": "118",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-10T06:19:40+00:00",
        "closed_at": "2025-05-12T02:19:16+00:00",
        "additions": 209,
        "deletions": 274,
        "changed_files": 9,
        "commits": [
            "82e395087b90563c39ba5580f639210af40e5cd0",
            "a9f442b21ae87bf9d985ab080afb511890d27b6e",
            "6f7edea27fa5920202fab40b62136d33f3da4af3",
            "15fe975aa5998ea2c4715c03871f0444952521db",
            "cb3e66711e5ef51b4c53440a2ebeca089a0a1b47",
            "eaa6c2e8e5c755b53b6a097223ee744f1cd170a9",
            "34a1b92a61205746bff1e31126a7688a87ed7398",
            "762254b6b520f743445587544ef101ea34141f19",
            "8bb73de216dc8b5acd133a530b10ee87d3aeb143",
            "9ae61409939ec32b006ed81a28c79665fb8a8463"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "yuwu46",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 121,
        "title": "[BIT] 转换能力补齐：allclose、index_fill、logaddexp、matrix_transpose",
        "body": "## [BIT] 转换能力补齐：allclose、index_fill、logaddexp、matrix_transpose\r\n\r\n本次共补充了 `paddle.allclose`、`paddle.index_fill`、`paddle.logaddexp` 和 `paddle.matrix_transpose` 四个 API 的 paddle2torch 转换能力。具体情况如下：\r\n\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:-----|:---------------|\r\n| paddle.allclose | torch.allclose | 输入参数类型不一致 | 撰写 mapping 配置，同时撰写 rule：`AllcloseRule` | 1. 对输入的 tuple 类型进行了处理，确保传入 `torch.allclose` 的是 Tensor。<br>2. 确保 `rtol` 和 `atol` 参数总是大于或等于 0。 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.allclose.html) |\r\n| paddle.index_fill | torch.index_fill | torch 的 `index` 只支持 int64 | 撰写 mapping 配置 | 需要额外处理，在 `torch_kwargs` 中添加对 `index` 的处理 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.index_fill.html) |\r\n| paddle.logaddexp | torch.Tensor.logaddexp | torch 的参数只支持 float 类型 | 撰写 mapping 配置，同时撰写 rule：`LogaddexpRule`，对 `x`、`y` 做转换 | 需要额外规则 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.logaddexp.html) |\r\n| paddle.matrix_transpose | 无对应 PyTorch API | 功能为对输入张量 `x` 的最后两个维度进行转置 | 复用 `paddle.linalg.matrix_transpose` 中的 rule：`Matrix_transposeRule` | 无 | [文档](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/logaddexp_cn.html#logaddexp) |\r\n\r\n经测试，四个 API 的共 146 条配置均通过测试。\r\n![image](https://github.com/user-attachments/assets/018724ca-5ec8-4109-8d01-1deb5d34aeef)\r\n\r\n**另外，还对`test_pipline`下的`README`进行更新，完善了相关测试说明。**",
        "issue_number": "121",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-11T09:30:18+00:00",
        "closed_at": "2025-05-12T02:41:08+00:00",
        "additions": 245,
        "deletions": 134,
        "changed_files": 7,
        "commits": [
            "86f85675df8ff4a0cf0aba952de43d3eb81120c6",
            "b3e2fbb4a734b5432bf6a1ef464bf29eeaf1b6ee",
            "fcb263a36e4ab1eac30daa9fbbbffccf1262f9ce",
            "7b081b6c0715b6d53ba1cbb4932214e2d1f38e91",
            "e7d9e0cec876e5382f3b3dd19c82d58341a6026b",
            "585465e84dd1a542881073813f3d7f486c137dc9",
            "69801e6b6bc4a4c6a02cf8a693c2ef0b0e0a33b2"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "yuwu46"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 122,
        "title": "[P2T support No.77-82] [BIT] 引擎 dtype 转换能力增强；astype arange argmax Tensor.argmax full full_like logcumsumexp linspace",
        "body": "### dtype 转化能力增强\r\n对于 api_config 中含有 dtype 的关键字参数，提供从 paddle.dtype 和 paddle.base.libpaddle.VarDesc.VarType 以及用 str 描述的 dtype 转换到 torch.dtype 的能力，具体见 base.py -- convert_dtype_to_torch_type()，对于 float32 的例子：\r\n\r\n```python\r\nif dtype in [\"float32\", numpy.float32, paddle.float32, paddle.base.libpaddle.VarDesc.VarType.FP32]:\r\n    return torch.float32\r\n```\r\n\r\n此转换能力增强可降低以下 api 的修复难度，以下 api 未在之前的表格中出现：\r\n\r\n```python\r\npaddle.Tensor.argmax \r\npaddle.argmax \r\npaddle.full \r\npaddle.full_like \r\npaddle.linspace \r\npaddle.logcumsumexp \r\npaddle.logspace \r\npaddle.nn.functional.log_softmax \r\npaddle.nn.functional.sequence_mask \r\npaddle.nn.functional.softmax \r\npaddle.ones \r\npaddle.nn.quant.weight_only_linear \r\npaddle.ones_like \r\npaddle.sum \r\npaddle.zeros \r\npaddle.zeros_like \r\npaddle.empty \r\n```\r\n\r\n\r\n### paddle.Tensor.astype\r\n提供 dtype 转化能力增强后可直接映射 torch api\r\n\\_tmp_tensor_ = args[0], result = \\_tmp_tensor_.to(dtype=dtype)\r\n\r\n配置均通过，移入 support2torch_6.txt\r\n\r\n### paddle.arange\r\n需要对 start, end, step 进行转写\r\n```python\r\ntorch_kwargs['start'] = 0 if locals().get('start') is None else start.item() if isinstance(start, torch.Tensor) else start\r\ntorch_kwargs['end'] = end.item() if isinstance(end, torch.Tensor) else end\r\ntorch_kwargs['step'] = 1 if locals().get('step') is None else step.item() if isinstance(step, torch.Tensor) else step\r\nresult = torch.arange(start=start, end=end, step=step, dtype=dtype)\r\n```\r\n含有 Tensor 的配置~有初始化问题，等待 @cszdrg 修复初始化问题~，paddle 和 torch 在 step 和 start => end 方向不一致时行为不一致 eg. step == -1, start == 1, end == 3，torch 报错，paddle 返回空 tensor，放入 paddle_only.txt\r\n\r\n其它配置均通过，移入 support2torch_6.txt\r\n\r\n### paddle.Tensor.argmax\r\n有对应 torch api，torch 输入需要对 dim，keepdim 进行转写\r\n```python\r\ntorch_kwargs['dim'] = None if locals().get('axis') is None else axis.item() if isinstance(axis, torch.Tensor) else axis\r\ntorch_kwargs['keepdim'] = False if locals().get('keepdim') is None else keepdim\r\n_tmp_tensor_ = args[0], result = _tmp_tensor_.argmax(dim=axis, keepdim=keepdim)\r\n```\r\n\r\n配置均通过，移入 support2torch_6.txt\r\n\r\n### paddle.argmax\r\n同 paddle.Tensor.argmax\r\nresult = torch.argmax(input=x, dim=axis, keepdim=keepdim)\r\n\r\n配置均通过，移入 support2torch_6.txt\r\n\r\n### paddle.full\r\n需要对 torch api 输入的 shape，fill_value 进行转写\r\n```python\r\n# handle shape\r\ndef convert_to_list(shape):\r\n    if isinstance(shape, torch.Tensor):\r\n        return shape.tolist()\r\n    elif isinstance(shape, (list, tuple)):\r\n        shape_list = []\r\n        for item in shape:\r\n            if isinstance(item, torch.Tensor):\r\n                if item.shape == torch.Size([]):\r\n                    shape_list.append(item.item())\r\n                else:\r\n                    shape_list.extend(item.tolist())\r\n            else:\r\n                shape_list.append(item)\r\n        return shape_list\r\n    elif isinstance(shape, int):\r\n        return [shape]\r\n    else:\r\n        return shape\r\n\r\n# handle fill_value\r\ndef convert_to_scalar(fill_value):\r\n    if isinstance(fill_value, torch.Tensor):\r\n        return fill_value.item()\r\n    # example: \"-inf\", \"3.5\"\r\n    elif isinstance(fill_value, str):\r\n        return float(fill_value)\r\n    else:\r\n        return fill_value\r\n\r\nconverted_shape = convert_to_list(shape)\r\nconverted_fill_value = convert_to_scalar(fill_value)\r\nresult = torch.full(size=convert_to_list(shape), fill_value=convert_to_scalar(fill_value), dtype=dtype)\r\n```\r\n\r\n该配置有一条 OOM 的罕见报错，提示需要分配 >10000G 显存，未移出 merged 文件\r\n`paddle.full(shape=Tensor([5],\"int64\"), fill_value=-2, )`\r\n\r\n其它配置均通过，移入 support2torch_6.txt\r\n\r\n### paddle.full_like\r\n有 torch api，需要对 full_value 由标量 torch.tensor 转换为标量\r\n```python\r\ntorch_kwargs['fill_value'] = fill_value.item() if isinstance(fill_value, torch.Tensor) else fill_value\r\nresult = torch.full_like(input=x, fill_value=torch_kwargs['fill_value'], dtype=dtype)\r\n```\r\n\r\n配置均通过，移入 support2torch_6.txt\r\n\r\n### paddle.logcumsumexp\r\n有对应 torch api，axis == None 时需要将 x 展平，逻辑如下：\r\n```python\r\nif axis is None:\r\n    x_flat = x.flatten()\r\n    result = torch.logcumsumexp(x_flat, dim=0)\r\nelse:\r\n    result = torch.logcumsumexp(x, dim=axis)\r\n```\r\n\r\n配置均通过，移入 support2torch_6.txt\r\n\r\n### paddle.linspace\r\n有对应 torch api，需要将输入为 Tensor([1]) 的 start, stop 转为 Tensor([])，并且需要将 float | torch.Tensor([]) | torch.Tensor([1]) 类型的 num 转为 int\r\n```python\r\nresult = torch.linspace(start=torch_kwargs['start'], end=torch_kwargs['end'], steps=torch_kwargs['step'], dtype=dtype)\r\n```\r\n\r\n配置均通过，移入 support2torch_6.txt\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "122",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-12T03:43:02+00:00",
        "closed_at": "2025-05-12T11:28:29+00:00",
        "additions": 28123,
        "deletions": 28236,
        "changed_files": 14,
        "commits": [
            "6c919d1a1c55438477f690fcf7b6ed6dc1403cbd",
            "8d7665f1cf36679fc9490b3c08ef739227b81bb6",
            "cc4d45eddf22a72795858420992d69b3eb612f3c",
            "beaef411241769c4f9bcd93c594f985cfdd33906",
            "7530cdfc7d49e1549e4d8c743e9e1036e6d5c83a",
            "b897834371a58bb4a24f001b4b0612012b238b1b",
            "31c5d1b0a72f579fe940d2c8de19ef0bbc5d7571",
            "a85a425ca7bee55730e13577eeb3a05e0f1126d2",
            "d74663f0f6c85c00d4ac4da494e2aa794a48b8f0",
            "d7f3185807c5dd6be657ff211412381cdbfb921e",
            "726e170824dd6ad3aaf54a168c5f5a8709fe1c77"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cszdrg"
        ],
        "review_by": [
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 123,
        "title": "[P2T support No.56] tensor.split tensor.sqrt tensor.square subtract tensor.subtract tanh tensor.tolist tolist tensor.transpose unfold tensor.trunc",
        "body": "修改内容 **（以新rule修改）**\r\n\r\n------------ \r\n以下是有直接对应的api\r\n\r\n> tensor.sqrt \r\n> tensor.square\r\n> substract\r\n> tensor.substract\r\n> tanh\r\n> tensor.transpose\r\n> tensor.trunc\r\n> tensor.tolist\r\n\r\n----------------------\r\n以下是有对应api，但需要rules：\r\n\r\n> tensor.split : torch中参数含义不同\r\n> tolist ：torch中只有tensor方法\r\n> unfold ： torch中只有tensor方法\r\n\r\n----------------------\r\ntolist函数是将向量转为列表，所以不支持之前的accuracy判定，故在accuracy中加入判断，把list再转为numpy向量来计算是否准确：\r\n\r\n```\r\nelif 'tolist' in self.api_config.api_name:\r\n     self.np_assert_accuracy(numpy.array(paddle_output[i]), numpy.array(torch_output[i]), 1e-2, 1e-2, self.api_config)\r\n```\r\n",
        "issue_number": "123",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-12T05:04:07+00:00",
        "closed_at": "2025-05-12T06:13:00+00:00",
        "additions": 15363,
        "deletions": 15266,
        "changed_files": 7,
        "commits": [
            "8154b083490b2b7b67bd32b519a19f025a985a60",
            "7a3625b68a9a7ba3b4afab66ec0d9992fdee5598",
            "221a6b289e79638049ef9217da72af0bfb409622",
            "ceff737e73333a70238e11c6a92ea902b0dd1bc8",
            "b0a386f03bdd1cc2df66347f156412e712211928",
            "23cc0d096fd5879b5ce0fa3e7167bcdebafa77a1",
            "868c622843cc0fae4f8268669f5001e296bb96fb",
            "dd57c2c0158d9f3787ac5796c2095760c306603c",
            "94ff6f63a104a1384a47f895992cc00828231810",
            "68e851a14d77abb1d11580a6bfbddffc82b5fa77",
            "7c48cdd74821beb770171b3f29f6f80c234b178e",
            "8f2df9be03222ae72581b3237fa0c8ec9a5342bd",
            "35ad3ddc773775ea15cb834a9746c459b8c8a8b4",
            "15119a6dec2596bf359535fdeb78eb9c79834226"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cszdrg",
            "mzj104"
        ],
        "review_by": [
            "wanghuancoder",
            "mzj104",
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 124,
        "title": "[P2T support No.68、70、72、73、76]paddle.Tensor.[bernoulli_、cauchy_、slice_scatter]、paddle.unstack、paddle.view_as",
        "body": "## 转换能力补齐\r\n\r\n本次共补充了 `paddle.Tensor.bernoulli_`、`paddle.Tensor.cauchy_`、`paddle.Tensor.slice_scatter`、`paddle.unstack` 和 `paddle.view_as` 五个 API 的 paddle2torch 转换能力。具体情况如下：\r\n\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:-----|:---------------|\r\n| paddle.Tensor.bernoulli_ | torch.Tensor.bernoulli_ | 参数相互对应 | 撰写 mapping 配置 | 属于 rand_apis，测试后均能正常转换（accuracy 报错），移入 tester/api_config/api_config_paddleonly_5.txt | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.bernoulli_.html) |\r\n| paddle.Tensor.cauchy_ | torch.Tensor.cauchy_ | 参数相互对应 | 撰写 mapping 配置 | 属于 rand_apis，测试后均能正常转换（accuracy 报错），移入 tester/api_config/api_config_paddleonly_5.txt | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.cauchy_.html) |\r\n| paddle.Tensor.slice_scatter | torch.Tensor.slice_scatter | 输入参数用法不一致 | 撰写 mapping 配置 | Paddle 的参数 `axes`、`starts`、`ends`、`strides` 为 list of int，而 PyTorch 对应为 int 类型，需对参数做转换 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.slice_scatter.html) |\r\n| paddle.unstack | torch.unbind | 参数相互对应 | 撰写 mapping 配置 | 无 | [文档](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/unstack_cn.html#unstack) |\r\n| paddle.view_as | torch.Tensor.view_as | 无对应 API | 编写 rule：`View_As_Rule` | 使用 `torch.Tensor.view_as` 进行转换 | - |\r\n\r\n## 测试结果\r\n\r\n`paddle.Tensor.bernoulli_` 与 `paddle.Tensor.cauchy_` 属于 rand_apis，共 7 条配置移入`tester/api_config/api_config_paddleonly_5.txt`。\r\n其余 3 个 API 共 41 条配置均通过测试。\r\n![image](https://github.com/user-attachments/assets/a7311cfc-61ce-4680-bfc7-ae0bd8b8a0bc)\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "124",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-12T06:35:07+00:00",
        "closed_at": "2025-05-12T07:07:29+00:00",
        "additions": 89,
        "deletions": 57,
        "changed_files": 7,
        "commits": [
            "4c55089f08d715792674ceec929669ddb77f12b6",
            "9fbb9847036908c2e3ce104e3837726faa12cbf6"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 125,
        "title": "[P2T support No.42-43] paddle.nn.functional.adaptive_avg_pool[2 3]d",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.nn.functional.adaptive_avg_pool2d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/adaptive_avg_pool2d_cn.html)\r\n\r\n查询 [torch.nn.functional.adaptive_avg_pool2d 与 paddle.nn.functional.adaptive_avg_pool2d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.adaptive_avg_pool2d.html) ，发现是 `paddle 参数更多`，为其编写 mapping 转换配置后，注册 AdaptiveAvgPoolRule 类\r\n\r\npaddle 较 torch 多 data_format 参数，因此使用 permute 调整维度顺序，执行完毕后再调整回来\r\n\r\n### 2. [paddle.nn.functional.adaptive_avg_pool3d](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/adaptive_avg_pool3d_cn.html)\r\n\r\n查询 [torch.nn.functional.adaptive_avg_pool3d 与 paddle.nn.functional.adaptive_avg_pool3d 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.adaptive_avg_pool3d.html) ，发现是 `paddle 参数更多`，与 paddle.nn.functional.adaptive_avg_pool2d 类似，为其编写 mapping 转换配置后，注册 AdaptiveAvgPoolRule 类\r\n\r\n同样使用 permute 调整维度顺序，并通过 api 名区分执行策略\r\n\r\n## 测试结果\r\n\r\npaddle.nn.functional.adaptive_avg_pool[2 3]d 的大部分配置通过 accuracy 测试，配置移入 support2torch_1；adaptive_avg_pool2d、adaptive_avg_pool3d 分别有配置的反向传播具有精度差异，认为是 api 对 output_size 参数对实现有差异，相关配置移入 accuracy_error_1，并在 fresh_report 中记录\r\n\r\n![image](https://github.com/user-attachments/assets/3f214c6a-4c52-4b5c-9a4d-7aff6362981b)\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643\r\n",
        "issue_number": "125",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-12T07:31:50+00:00",
        "closed_at": "2025-05-12T07:58:03+00:00",
        "additions": 1886,
        "deletions": 1607,
        "changed_files": 9,
        "commits": [
            "96fca02b5f05fac144df278159faa44ed8c07514",
            "eb53ee3354c6a6afb0b6724a2067c87d4170ca46",
            "b1396f8e0f91f1e1b1a997584ec57f802dc0a92d"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cszdrg",
            "cangtianhuang",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 127,
        "title": "[P2T support No.29-32] paddle.incubate.segment_[max min sum mean]",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.incubate.segment_max](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/incubate/segment_max_cn.html#segment-max)\r\n\r\n查询对照表，发现无对应 api，为其注册 SegmentRule 类\r\n\r\n首先通过 segment_ids 的值计算输出形状，segment_ids 类型转为 int64；全部填充为 -inf 后（安全计算 max），调用 scatter_reduce_ 计算相同 segment_id 的数据的最大值；最后将 -inf 设置为 0（空的 segment_id 对应的默认值为 0）\r\n\r\n### 2. [paddle.incubate.segment_min](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/incubate/segment_min_cn.html#segment-min)\r\n\r\n查询对照表，发现无对应 api，同样为其注册 SegmentRule 类，操作与 max 类似\r\n\r\n### 3. [paddle.incubate.segment_sum](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/incubate/segment_sum_cn.html#segment-sum)\r\n\r\n查询对照表，发现无对应 api，同样为其注册 SegmentRule 类，填充为0后，直接调用 scatter_add_ \r\n\r\n### 4. [paddle.incubate.segment_mean](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/incubate/segment_mean_cn.html#segment-mean)\r\n\r\n查询对照表，发现无对应 api，同样为其注册 SegmentRule 类\r\n\r\n首先计算 segment_sum 的值，计算分段数量，相除得到 mean 值（注意避免除 0），最后将没有 segment id 处设置为 0\r\n\r\n## 测试结果\r\n\r\npaddle.incubate.segment_[max min sum mean] 的全部配置通过 accuracy 测试，配置移入 support2torch_1\r\n\r\n![image](https://github.com/user-attachments/assets/f2012af0-5bff-4764-b8dc-4f651fa5616b)\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643\r\n",
        "issue_number": "127",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-12T09:21:16+00:00",
        "closed_at": "2025-05-12T11:31:04+00:00",
        "additions": 67,
        "deletions": 4,
        "changed_files": 4,
        "commits": [
            "777f4b3b7828afcba9b2f6b195685b87bf34568e",
            "ac43ac39151e3f39aea07effd440d273d1ce5624",
            "d4f1ceee778eb3b1706c0002029e2f99e302f3ca"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 128,
        "title": "[P2T support No.86] paddle.[max、min、mean、sum、prod]",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.max](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/max_cn.html#max)\r\n\r\n查询 [torch.max 与 paddle.max 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.max.html) ，发现是 `参数用法不一致`，为其编写 mapping 转换配置后，注册 ReduceRule 类\r\n\r\npaddle 的 axis 参数支持多维规约，而 torch.max 仅支持单一维度，因此直接将对应的 api 更换为 torch.amax，可实现多维规约\r\n\r\npaddle 与 torch 的参数用法不一致，需要预处理：axis 若为列表或元组，需遍历元素，提取 0D Tensor的值，最后转换为 tuple；axis 若为 0D Tensor，直接提取值；axis 若为 1D Tensor，使用 tolist 转为 list 再转为 tuple\r\n\r\n### 2. [paddle.min](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/min_cn.html#min)\r\n\r\n查询 [torch.min 与 paddle.min 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.min.html) ，发现是 `参数用法不一致`，为其编写 mapping 转换配置后，注册 ReduceRule 类\r\n\r\n与 paddle.min 类似，对应的 api 更换为 torch.amin，其他操作一致\r\n\r\n### 3. [paddle.mean](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/mean_cn.html#mean)\r\n\r\n查询 [torch.mean 与 paddle.mean 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.mean.html) ，发现是 `参数用法不一致`，为其编写 mapping 转换配置后，注册 ReduceRule 类\r\n\r\ntorch.mean 支持多维规约，但不支持 dim 为 None 时 keepdim 为 True，因此判断 axis 是否为 None，进行分支处理，最后再根据 keepdim 恢复相应维度\r\n\r\n### 4. [paddle.sum](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/sum_cn.html#sum)\r\n\r\n查询 [torch.sum 与 paddle.sum 对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.sum.html) ，发现是 `参数用法不一致`，为其编写 mapping 转换配置后，注册 ReduceRule 类\r\n\r\ntorch.sum 支持多维规约，预处理后直接调用\r\n\r\n## 其他修改\r\n\r\npaddle.prod 与上述四个 api 均属于 reduce 相关 api，因此检查先前的实现 ProdRule，优化逻辑后，合并至 ReduceRule 中，更新其 mapping 转换配置\r\n\r\n## 测试结果\r\n\r\npaddle.max、paddle.min、paddle.mean、paddle.sum 的全部配置均通过 accuracy 测试，配置移入 support2torch_1；paddle.prod 的所有 support2torch 配置也复测通过：\r\n\r\n![image](https://github.com/user-attachments/assets/19b94193-cd30-45b7-8c99-8c13aaddbd89)\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643\r\n",
        "issue_number": "128",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-12T13:43:36+00:00",
        "closed_at": "2025-05-13T02:30:16+00:00",
        "additions": 8721,
        "deletions": 8662,
        "changed_files": 7,
        "commits": [
            "d6f1da47e8d2c3f52034cd30b01827b35d1e5819",
            "dae5f49e93954b6695bd9a86ac6e12840c9ce4db",
            "1dfd92afe1b2e3adc02eab4718fa5fd45e8ebb45",
            "016b03bb6f1946ace40545deb43f98395133956f",
            "e49d4cfc47f7a946fc4a42d5f2316795fa22d081",
            "dee3e5ae1dbfcf952125a073e12f82242173e35f",
            "9139adb8f36c46ab8a32ee23ba393ef09782125d"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 129,
        "title": "[P2T support No.33-34] paddle.incubate.softmax_mask_fuse、paddle.incubate.softmax_mask_fuse_upper_triangle",
        "body": "## 转换能力补齐\r\n\r\n此两个 api 均为 incubate api （实验性 api），基本无对应 torch api\r\n\r\n### 1. [paddle.incubate.softmax_mask_fuse](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/incubate/softmax_mask_fuse_cn.html#softmax-mask-fuse)\r\n\r\n查询对照表，无对应 api，为其注册 SoftmaxMaskFuseRule 类。查询 paddle api 文档，计算公式为：out=softmax(x+mask)，直接调用 torch.softmax\r\n\r\n### 2. [paddle.incubate.softmax_mask_fuse_upper_triangle](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/incubate/softmax_mask_fuse_upper_triangle_cn.html#softmax-mask-fuse-upper-triangle)\r\n\r\n查询对照表，无对应 api，为其注册 SoftmaxMaskFuseUpperTriangleRule 类。查询 paddle api 文档，计算公式为：out=softmax(LowerTriangular(x))，首先计算 mask 大小，调整其形状，然后调用 torch.softmax\r\n\r\n## 测试结果\r\n\r\npaddle.incubate.softmax_mask_fuse 的所有测试配置中，paddle 的 mask 参数无法做反向传播（梯度为 None），移入 accuracy_error_1 并在 fresh_report 中记录；paddle.incubate.softmax_mask_fuse_upper_triangle 的所有测试配置均通过 accuracy 测试，移入 support2torch_1：\r\n\r\n![image](https://github.com/user-attachments/assets/176b18de-4f4b-401f-a8cb-d49e08d83172)\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643\r\n",
        "issue_number": "129",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-13T03:05:46+00:00",
        "closed_at": "2025-05-13T03:17:20+00:00",
        "additions": 364,
        "deletions": 17,
        "changed_files": 7,
        "commits": [
            "d0ae6bf81580de439d9a40fec9b4ff7de39a964c",
            "e489a5e9200ae790535e02bad36bfbe03418a2c9",
            "ab4a7231d2e197b5d759d89289af6938a27ed7d4",
            "feaf5e1c8ac058522d3008ecf9bb402f7a6873ea",
            "4de1d8928dff93ac118df8d8c3045d27f73b8c80"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 126,
        "title": "[P2T support No.51-55] standard_gamma  slice_scatter  standard_normal stanh strided_slice",
        "body": "修改内容 **（以新rule修改）**\r\n\r\n------------ \r\n这5个api都需要编写rules\r\n\r\n> slice_scatte 无对应api\r\n> strided_slice 无对应api\r\n> standard_gamma 对应 torch.distributions.Gamma ， 但需要预处理和后处理\r\n> standard_normal 对应 torch.randn，但需要预处理\r\n> stanh 对应 torch.tanh， 但需要预处理和后处理\r\n\r\n----------------------\r\n\r\nstandard_normal   和  standard_gamma 是随机api，所以放到了tester/api_config/api_config_stochastic.txt 中\r\n\r\n----------------------\r\nstandard_gamma 在 初始化的时候存在问题，修改了初始化的代码， 保证为正数：\r\n```\r\n            elif api_config.api_name == \"paddle.standard_gamma\":\r\n                self.numpy_tensor =numpy.random.random(self.shape).astype(self.dtype)\r\n```\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "126",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-12T08:47:58+00:00",
        "closed_at": "2025-05-12T12:04:22+00:00",
        "additions": 176,
        "deletions": 66,
        "changed_files": 8,
        "commits": [
            "1b21e90b186cb45be74a319659086d2517e6c0fb",
            "c10cc012a529c50ba2170b9a01ca0241ef677cc5",
            "0d55e682f96870d82fbac6b078262687d8039446",
            "ed3320c22fccd6eb598d1bb6de68cfc009323e83",
            "2a25aa90b4dcbf98650e7972915ddea4abc8d558",
            "ba490d3f32ae87cee0256e4768a4b2a77912d5fb",
            "f8d91f8361e847538ad2afdc83ac1dc81e8f4cc2",
            "33af9452beac63ffa4376815146929ac7176bbb3",
            "10c57cdd3c9166f9fbda03d79a242b3f1b258996",
            "dafd97533d96033b52d59479e1b3b1ac637a6ef2",
            "5d9682b300bd77f81e6cf9b00549b05050431a41",
            "ae2405454fd506b8612c7449eafdab4d0e7a82f0",
            "a5b5389352bbf5bbec3de246e0216730c26d282b"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 131,
        "title": "[P2T support No.12]paddle.[histogramdd、histogram_bin_edges]",
        "body": "##  paddle.histogram_bin_edges **pass**\r\n无对应api 手写Rule\r\n## histogramdd **pass**\r\na）该api只能执行在cpu下\r\nb）该api返回为带有tensor的tuple 引擎能力不支持对比，已进行补充",
        "issue_number": "131",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-13T06:48:42+00:00",
        "closed_at": "2025-05-13T07:31:53+00:00",
        "additions": 78,
        "deletions": 29,
        "changed_files": 6,
        "commits": [
            "e811cb37bcf22ea39cc9cee7d70fe5223aa29d8b",
            "4f8b72b9d8aead0eb33b62ff7ff16f9d6838996b",
            "1c8591d1753986cf7e1161c90294109ce2477de9",
            "a59d95e377d54392896ab46c2a1e8ebc4be24c3f"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 130,
        "title": "[P2T support No.69、75、85、87]paddle.[cast、Tensor.cast、vecdot、ones_like、zeros_like]",
        "body": "## 转换能力补齐\r\n\r\n本次共补充了 `paddle.Tensor.cast`、`paddle.cast`、`paddle.vecdot`、`paddle.ones_like` 和 `paddle.zeros_like` 五个 API 的 paddle2torch 转换能力。具体情况如下：\r\n\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:-----|:---------------|\r\n| paddle.Tensor.cast | 无对应 API | -  | 编写 rule：`CastRule`，实现对数据类型的转化 | 配置中存在 float、double 两种未在 base 文件 `convert_dtype_to_torch_type` 函数中注册的类型，已一并添加以增强转换处理能力。 | - |\r\n| paddle.cast | 无对应 API | - | 复用 rule：`CastRule` | 处理逻辑和 `paddle.Tensor.cast` 相同 | - |\r\n| paddle.vecdot | 无对应 API | - | 编写 rule：`VecdotRule`，转化时根据类型优先级将低精度张量转换为高精度类型，再调用 `torch.linalg.vecdot` | - | [参考文档](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/linalg/torch.linalg.vecdot.html) |\r\n| paddle.ones_like | torch.ones_like | torch 参数更多 | 撰写 mapping 配置 | - | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.ones_like.html) |\r\n| paddle.zeros_like | torch.zeros_like | torch 参数更多 | 撰写 mapping 配置 | - | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.zeros_like.html) |\r\n\r\n## 测试结果\r\n\r\n5 个 API 共 133418 条配置，其中有 22 条重复配置：\r\n<img width=\"534\" alt=\"截屏2025-05-13 12 15 44\" src=\"https://github.com/user-attachments/assets/64eb5ce3-521d-405a-93c4-220309f27774\" />\r\n剔除重复配置后共 133396 条，其中\r\n- 有 12 条含有 \"float8_e5m2\" 和 \"float8_e4m3fn\" 类型，已按 [PR #122](https://github.com/PFCCLab/PaddleAPITest/pull/122) 的方式放入 `api_config_merged_not_support.txt`（目前为 skip）。\r\n- 其余 13384 条配置均通过测试。\r\n<img width=\"640\" alt=\"截屏2025-05-13 14 16 33\" src=\"https://github.com/user-attachments/assets/0657077c-8da2-440d-ad82-7ae5e3bec6cc\" />\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "130",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-13T06:24:39+00:00",
        "closed_at": "2025-05-13T07:22:49+00:00",
        "additions": 133466,
        "deletions": 133446,
        "changed_files": 10,
        "commits": [
            "12dc8f3e0e45ab85eda5d877f3ddb5288320addd",
            "86da8ca035b4aca0a23bffa572ffc84eccd55e5f",
            "2ad032bf027ebd636abfb965efb915ad37d57eb6"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "Cutelemon6",
            "yuwu46",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 133,
        "title": "[BIT] 将之前的rule切分为pre core post三块",
        "body": null,
        "issue_number": "133",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-13T09:14:34+00:00",
        "closed_at": "2025-05-14T06:08:07+00:00",
        "additions": 76,
        "deletions": 68,
        "changed_files": 1,
        "commits": [
            "127b2e2afe34ac6fab3d3233c4ba2c79126a4dd2",
            "07e10ecbf30c365c7a23b47f1ab07c7e8f35b4f7",
            "c30a9f70f40d16daf05bdaf35a62bae7c4bdf941"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 132,
        "title": "[P2T support No.35-39、57] take  index_add index_put index_sample log_normal masked_scatter",
        "body": "修改内容 **（以新rule修改）**\r\n\r\n------------ \r\n这6个api都需要编写rule\r\n\r\n以下是有对应的api\r\n\r\n> index_put   ：  torch.tensor.index_put  （torch只有tensor方法， 另有特殊情况需要expand）\r\n> log_normal   :   torch.normal  （随机api， torch.normal 加上 torch.exp后处理）\r\n> masked_scatter   :   torch.tensor.masked_scatter  （torch只有tensor方法）\r\n> take   :   torch.take    （paddle多了mode参数，需要编写）\r\n\r\n----------------------\r\n以下是无对应api：\r\n\r\n> index_sample\r\n> index_add\r\n----------------------\r\n\r\nindex_put 有一个配置存在精度问题，已放入fresh report\r\n\r\n随机api放入了tester/api_config/api_config_stochastic.txt\r\n\r\n\r\n----------------------\r\n\r\n另外，修复api时发现之前随机生成index的代码有问题：\r\n原本代码为：\r\n```\r\n        axis = self.get_arg(api_config, 2, \"axis\")\r\n        if axis is None and not allow_none:\r\n            raise ValueError(\"Axis is None\")\r\n        else:\r\n            axis = 0\r\n```\r\n代码不管怎么样，axis都会被置为0，所以去掉了else分支\r\n\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "132",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-13T09:07:23+00:00",
        "closed_at": "2025-05-14T06:15:45+00:00",
        "additions": 1459,
        "deletions": 1313,
        "changed_files": 10,
        "commits": [
            "655097b432a5e9b009a077d7f86e10bbd0101657",
            "f36e7f5853d41b9d96e6067fd1e733c90bae7881",
            "7c0292a96515b45c3ab0a6a443cc5fff316cbeeb",
            "0a12f8f0888f325ad0392c921630ee73de98ec4f",
            "99fda443bdac2db6d2c817a293b70e0051b39111",
            "a0d14b427f15f21fa24c8601a25b90fd4fd9a8e9",
            "2e2273c92ab4dd8f89b9827865869fc3357b25df",
            "b9585ccae5834f81b8e7c6fc47f7ce11febc232d",
            "4eef71ac1051a8087ae36cfff3d89efe267af303",
            "13fa76078a06a9ebe2b63a909d8c4bfed6502d70",
            "900be04935460f54f5ea98b55d0ebcd62245c855",
            "b1a3423a1e87eb38bf4c1a4bf3a7044e22c167e3",
            "8e365a2a79555d607733faa8ce316524168b149d",
            "13f6ffb61ca1055357d1f593440a5408ebfb713e"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "mzj104",
            "mzj104",
            "mzj104",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 137,
        "title": "[P2T support No.63-67] Tensor.__rlshift__   paddle.Tensor.__ror__  paddle.Tensor.__rrshift__  paddle.Tensor.__rxor__  paddle.Tensor.__xor__",
        "body": "**修改内容 **\r\n\r\n------------ \r\n这5个api都有直接对应的torch api，api名称、作用完全一致\r\n\r\n只需要编写mapping即可，例如：\r\n\r\n```\r\n    \"paddle.Tensor.__rxor__\": {\r\n        \"torch_api\": \"torch.Tensor.__rxor__\",\r\n        \"paddle_torch_args_map\": {\r\n            \"y\": \"other\"\r\n        },\r\n        \"description\": \"_tmp_tensor = arg[0], result = _tmp_tensor.__rxor__(other=y)\"\r\n    },\r\n\r\n```\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "137",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-14T05:36:15+00:00",
        "closed_at": "2025-05-14T06:06:33+00:00",
        "additions": 70,
        "deletions": 36,
        "changed_files": 4,
        "commits": [
            "bc50a6e8ecaa903cd150d57f079b97f8b90c676a"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 136,
        "title": "[P2T support No.6-8、13、50][BIT]geometric.segment[_mean、_min、_sum]、incubate.nn.functional.blha_get_max_len、signal.stft",
        "body": "## 转换能力补齐\r\n\r\n本次共补充了 `paddle.geometric.segment_mean`、`paddle.geometric.segment_min`、`paddle.geometric.segment_sum`、`paddle.incubate.nn.functional.blha_get_max_len` 和 `paddle.signal.stft` 五个 API 的 paddle2torch 转换能力。具体情况如下：\r\n\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:-----|:---------------|\r\n| paddle.geometric.segment_mean | 无对应 API | 源码实现与 `paddle.incubate.segment_mean` 相似 | 复用 `SegmentRule` | 无 | - |\r\n| paddle.geometric.segment_min | 无对应 API | 源码实现与 `paddle.incubate.segment_min` 相似 | 复用 `SegmentRule` | 无 | - |\r\n| paddle.geometric.segment_sum | 无对应 API | 源码实现与 `paddle.incubate.segment_sum` 相似 | 复用 `SegmentRule` | 无 | - |\r\n| paddle.incubate.nn.functional.blha_get_max_len | 无对应 API | incubate中的实验性质API | 编写 rule：`BlhaGetMaxLenRule` | 计算返回 encoder 和 decoder 的最大长度 | - |\r\n| paddle.signal.stft | torch.stft | torch 参数更多 | 撰写 mapping 配置 | 需要设置 `return_complex=True`，使得 torch 也以复数形式返回 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.stft.html) |\r\n\r\n## 测试结果\r\n\r\n5 个 API 共 29 条配置均通过测试。\r\n<img width=\"524\" alt=\"截屏2025-05-14 12 10 50\" src=\"https://github.com/user-attachments/assets/85e01a76-92d1-403e-8a6f-63de2c8c14f1\" />\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "136",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-14T04:17:52+00:00",
        "closed_at": "2025-05-14T06:07:32+00:00",
        "additions": 73,
        "deletions": 30,
        "changed_files": 6,
        "commits": [
            "de38ad8e76813cc357c2e953beb8d52fdacee307",
            "4f19bb5a95188d27d737afffda6cf281185aab99"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 134,
        "title": "[P2T support No.16-17、20-21、27] [BIT] fused_bias_dropout_residual_layer_norm fused_dropout_add fused_linear fused_linear_activation swiglu",
        "body": "## paddle.incubate.nn.functional.fused_bias_dropout_residual_layer_norm\r\n\r\nmode == 'upscale_in_train' 可用 torch dropout + layer_norm 组合实现；mode == 'down_scale_in_infer' 时需要手写 dropout，组合 torch 的 layer_norm\r\n\r\n```python\r\nif mode == 'upscale_in_train':\r\n    if bias is not None:\r\n        x = x + bias\r\n    x = torch.nn.functional.dropout(x, p=dropout_rate, training=training)\r\n    x = torch.nn.functional.layer_norm(x + residual, [residual.shape[-1]], weight=ln_scale, bias=ln_bias, eps=ln_epsilon)\r\nelse:\r\n    if bias is not None:\r\n        x = x + bias\r\n    # handle downscale dropout\r\n    mask = torch.bernoulli(torch.full(x.shape, 1-dropout_rate)).to(x.device)\r\n    if training:\r\n        x = x * mask\r\n    else:\r\n        x = x * (1 - dropout_rate)\r\n    x = torch.nn.functional.layer_norm(x + residual, [residual.shape[-1]], weight=ln_scale, bias=ln_bias, eps=ln_epsilon)\r\nreturn x\r\n```\r\n\r\n有一个配置反向精度错误，日志放入  fresh_report/accuracy/，配置放入 accuracy_error_2.txt；有一个配置输入 tensor 既有 float16 又有 float32，加入 --test_amp=True 后通过，配置放入 support2torch_amp_6.txt；其余配置通过且输入概率 p == 0.0 不含有随机性，放入 support2torch_6.txt\r\n\r\n## paddle.incubate.nn.functional.fused_dropout_add\r\n\r\ntorch 没有对应 api，需要手工实现 dropout 和 add 的组合。其中 mode 为 'down_scale_in_infer' 时 torch 没有对应 dropout 实现，需要手工实现此 mode 下的 dropout 行为。具体为：\r\n\r\n```python\r\n# handle downscale dropout\r\nmask = torch.bernoulli(torch.full(x.shape, 1-p)).to(x.device)\r\nif training:\r\n    x = x * mask\r\nelse:\r\n    x = x * (1 - p)\r\n```\r\n\r\n输入参数 p == 0.0 或者 1.0 的配置均通过，放入 support2torch_6.txt，其他输入参数结果具有随机性，放入 api_config_stochastic.txt\r\n\r\n## paddle.incubate.nn.functional.fused_linear\r\n\r\ntorch 没有对应的 fused api，使用 torch.nn.functional.linear 来模拟。有少量配置有 accuracy error，放入  api_config_accuracy_error_2.txt，其余均通过，放入 support2torch_6.txt\r\n\r\n## paddle.incubate.nn.functional.fused_linear_activation\r\n\r\n该 api 的 activation == 'relu' 能对应到 torch 的一个 fused api -- torch.ao.nn.intrinsic.LinearReLU，但是采用以下实现时 torch 有报错\r\n\r\n```python\r\n    if activation == 'relu':\r\n        linear = torch.nn.Linear(in_features=x.shape[1], out_features=y.shape[1], bias=bias is not None)\r\n        if bias is not None:\r\n            linear.bias.data.copy_(bias)\r\n        x = x.to(torch.float64)\r\n        bias = bias.to(torch.float64)\r\n        linear.weight.data.copy_(y.T.to(torch.float64))\r\n        relu = torch.nn.ReLU()\r\n        linear_relu = torch.ao.nn.intrinsic.LinearReLU(linear, relu)\r\n        return linear_relu(x)\r\n    elif activation == 'gelu':\r\n        # pytorch doc have no LinearGELU\r\n        linear_gelu = torch.ao.nn.intrinsic.LinearGELU(torch.nn.functional.linear, torch.nn.functional.gelu)\r\n        return linear_gelu(x, y.T, bias)\r\n```\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/root/PaddleAPITest/example.py\", line 47, in <module>\r\n    print(fused_linear_activation(tx, tw, tb, trans_x=False, trans_y=False, activation='relu'))\r\n  File \"/root/PaddleAPITest/example.py\", line 25, in fused_linear_activation\r\n    return linear_relu(x)\r\n  File \"/usr/local/lib/python3.9/dist-packages/torch/nn/modules/module.py\", line 1739, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.9/dist-packages/torch/nn/modules/module.py\", line 1750, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.9/dist-packages/torch/nn/modules/container.py\", line 250, in forward\r\n    input = module(input)\r\n  File \"/usr/local/lib/python3.9/dist-packages/torch/nn/modules/module.py\", line 1739, in _wrapped_call_impl\r\n    return self._call_impl(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.9/dist-packages/torch/nn/modules/module.py\", line 1750, in _call_impl\r\n    return forward_call(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.9/dist-packages/torch/nn/modules/linear.py\", line 125, in forward\r\n    return F.linear(input, self.weight, self.bias)\r\nRuntimeError: mat1 and mat2 must have the same dtype, but got Double and Float\r\n```\r\n\r\n暂不清楚解决办法，回退到 torch api 的组合实现\r\n\r\n```python\r\nif activation == 'relu':\r\n    return torch.nn.functional.relu(torch.nn.functional.linear(x, y.T, bias))\r\nelif activation == 'gelu':\r\n    return torch.nn.functional.gelu(torch.nn.functional.linear(x, y.T, bias))\r\nelif activation is None:\r\n    return torch.nn.functional.linear(x, y.T, bias)\r\n```\r\n\r\n有 2 条配置有精度错误，日志放入  fresh_report/accuracy/ 下的 log 中，配置放入 api_config_accuracy_error_2.txt，其余 1 条通过，放入 api_config_support2torch_6.txt\r\n\r\n\r\n\r\n## paddle.incubate.nn.functional.swiglu\r\n\r\n使用 torch.nn.functional.silu 模拟，输入 y = None 时需要把 x 按最后一维切分的 chunk 分给 y，剩余的分给 x\r\n\r\n```python\r\nif y == None:\r\n    x, y = torch.chunk(x, 2, dim=-1)\r\n    \r\nresult = torch.nn.functional.silu(x) * y\r\n```\r\n\r\n配置全部通过，放入 api_config_support2torch_6.txt\r\n\r\n## config.py 文件移除\r\n根据欢导的要求 @wanghuancoder ，将 config.py 的代码放入 tester/\\_\\_init__.py，移除 config.py 文件\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "134",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-13T11:53:26+00:00",
        "closed_at": "2025-05-15T03:41:33+00:00",
        "additions": 618,
        "deletions": 298,
        "changed_files": 14,
        "commits": [
            "e9df0e5c23b0de091f0fe13cc3b1d533afd0c80b",
            "9607c86fcfb3309f6e85187659f4c033a86b8ef0",
            "801c832a35f7925db06c23cc613aa0a8e6affafe",
            "849ec34c25053bb6272dcae127677d8aee7016f2",
            "c2554fb168048fbb0db42c32914e522c9df45b71",
            "9809a0b5c618d82ff45278bff8abe536ee058147",
            "c5ccfe02505f33d855952a1aaa03ba1f0397faf2",
            "ed956d549d202dc79ed20f8919039f565396d545",
            "880af54f8aa6489c7d1ec6bc7303bd7cda6d7b8a",
            "9e3d2f2adcb599dc6482df2de2b142499146e02d",
            "fc3268e33ad28f0d659c48dc4a22d6282bf44e4e",
            "7b1fc50007d0386d9e1e805030cce95fe80baf14",
            "049f0284e3a964ff58621c07fc0768e2d59336f7",
            "373a9acff266d1843a8d982dd9fadbf20da43996",
            "36845d53b387077ba4477e3688495e23959171bc",
            "e42f7cb261486c1866669c7c58d9a938d3981401",
            "862bd14a0e667f16c06b285736eb4b00efb2608e",
            "292b222d6ea9368adeb18de7e88ddd8d105cbefc"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 138,
        "title": "[P2T support No.58] paddle.Tensor.__len__",
        "body": "## 转换能力补齐\r\n\r\n### [paddle.Tensor.__len__]\r\n\r\n- 转换类别：第 1 类（直接映射）\r\n- 具体方案：在 `mapping.json` 中将 `paddle.Tensor.__len__` 映射到 `torch.Tensor.__len__`\r\n\r\n## 测试结果\r\n\r\n- 通过 `engineV2.py --accuracy` 测试，共 2210 个样例全部 [Pass]  \r\n  日志见 `tester/api_config/test_log/log.log`  \r\n  ```text\r\n  2025-05-14 07:13:44.719735 GPU 0 6976 test begin: paddle.Tensor.__len__(Tensor([996211],\"float32\"), )\r\n  [Pass] paddle.Tensor.__len__(Tensor([996211],\"float32\"), )\r\n  …（省略中间）…\r\n  2210 cases tested. Done.",
        "issue_number": "138",
        "state": "closed",
        "merged": true,
        "user": "HangFu7",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-14T08:01:06+00:00",
        "closed_at": "2025-05-14T10:33:40+00:00",
        "additions": 2224,
        "deletions": 2210,
        "changed_files": 3,
        "commits": [
            "45c6152281e0464e95a43f8abffa7235df4043f7",
            "7c662df496af0bc7385143e3652b471801d50329",
            "52e23dbc9e32b80d243d19f9e8a56e930135f464",
            "f66ab14ee7dfae05bbb207f8f0660c54281a8443",
            "27e202d70af5e3d83ea5da6fac8225bb378bc313",
            "a8d08da132ec43b990a4429b8e313bade9f7360c",
            "a4129ca06c4a55d3179ce8683e47c2e3222cfb2b"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "HangFu7",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "luotao1"
        ],
        "review_by": [
            "cangtianhuang",
            "HangFu7"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 135,
        "title": "[P2T support No.2-3、14、26、28] paddle.autograd.[hessian、jacobian]、paddle.incubate.nn.functional.[block_multihead_attention、masked_multihead_attention、variable_length_memory_efficient_attention]",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.autograd.hessian](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/autograd/hessian_cn.html#hessian)\r\n\r\n无对应 api，在 mapping 中注册 HessianRule，HessianRule 实现了返回用于计算海森矩阵的 Hessian 实例，具体见 Rule 代码。但是 accuracy 暂不支持实例的精度比较，引擎暂不需要补齐此功能，因此未进行进度比较\r\n\r\n### 2. [paddle.autograd.jacobian](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/autograd/jacobian_cn.html#jacobian)\r\n\r\n无对应 api，在 mapping 中注册 JacobianRule，JacobianRule 实现了返回用于计算雅可比矩阵的 Jacobian 实例，具体见 Rule 代码。未进行进度比较\r\n\r\n### 3. [paddle.incubate.nn.functional.block_multihead_attention](https://www.paddlepaddle.org.cn/documentation/docs/en/develop/api/paddle/incubate/nn/functional/block_multihead_attention_en.html#block-multihead-attention)\r\n\r\n无对应 api，此 api 的参数过于复杂，决定不支持转换\r\n\r\n### 4. [paddle.incubate.nn.functional.masked_multihead_attention](https://www.paddlepaddle.org.cn/documentation/docs/en/develop/api/paddle/incubate/nn/functional/masked_multihead_attention_en.html#masked-multihead-attention)\r\n\r\n无对应 api，此 api 的参数较为复杂，在 mapping 中注册 MaskedMultiheadAttentionRule，尝试转换后仍无法对齐行为，决定不支持转换\r\n\r\n### 5. [paddle.incubate.nn.functional.variable_length_memory_efficient_attention](https://www.paddlepaddle.org.cn/documentation/docs/en/develop/api/paddle/incubate/nn/functional/variable_length_memory_efficient_attention_en.html#variable-length-memory-efficient-attention)\r\n\r\n无对应 api，此 api 的参数较为复杂，在 mapping 中注册 VariableLengthMemoryEfficientAttentionRule，反复尝试后初步对齐行为\r\n\r\n## 其他修改\r\n\r\nexec_globals 中增加了 math import，使得 rule 中可以使用 math 相关操作\r\n\r\n## 测试结果\r\n\r\npaddle.autograd.[hessian jacobian]、paddle.incubate.nn.functional.[block_multihead_attention masked_multihead_attention] 的所有配置移入 paddleonly_1；paddle.incubate.nn.functional.variable_length_memory_efficient_attention 部分有 accuracy 精度问题，移入 accuracy_error_1 并在 fresh_report 中记录，其余配置移入 support2torch_1：\r\n\r\n![image](https://github.com/user-attachments/assets/cce550ae-3c3c-4ead-958a-25cc0b8c5b85)\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643\r\n",
        "issue_number": "135",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-13T14:24:02+00:00",
        "closed_at": "2025-05-15T03:27:52+00:00",
        "additions": 1128,
        "deletions": 132,
        "changed_files": 10,
        "commits": [
            "b7ae2006c235c7ea80c901cf8a9fc33dda20f05b",
            "d9bb3c2687205479002774b08fcb4d89509a7931",
            "c71bd9af0cd43c1cf50d4652da88361da7968fe8",
            "64d6b60293dda0970462e43ece3e2f9a6dd8ce6e",
            "a8de9324ff531128f45c1a2ec54081b20467e23a",
            "8916ed3da09ee94f7a511a7c18e298f7e69ccef3",
            "5d2afd46fcaa6bc3782752398dc9cb1351b54fa8",
            "c2b5dbdac38aa0ad97b0e82043b948ad38afb4dd",
            "4f3e0e840d9ab0fd5a7f14591d376d0146e8c56e",
            "874eee7de52c6e3bc156bc9f007a5c7ab7fafc57",
            "ca02dc7128e35ae2b5d94a3ddd6057a726e24d3a",
            "2c20a27dcd9cbb83a0e0fd67274b6f36008d776c",
            "4e74ef93741699c4b5e592be6bd2db1744f4c241",
            "202a0a470931d8d51a387cd0e3d5597690b10dd2"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 140,
        "title": "[P2T support No.15、22-25] paddle.incubate.nn.functional.fused_[bias_act、matmul_bias、multi_head_attention、rms_norm、rotary_position_embedding]",
        "body": "## 转换能力补齐\r\n\r\n### 1. [paddle.incubate.nn.functional.fused_bias_act](https://www.paddlepaddle.org.cn/documentation/docs/en/develop/api/paddle/incubate/nn/functional/fused_bias_act_en.html#fused-bias-act)\r\n\r\n无对应 api，在 mapping 中注册 FusedBiasActRule，具体实现见 Rule 代码\r\n\r\n### 2. [paddle.incubate.nn.functional.fused_matmul_bias](https://www.paddlepaddle.org.cn/documentation/docs/en/develop/api/paddle/incubate/nn/functional/fused_matmul_bias_en.html#fused-matmul-bias)\r\n\r\n无对应 api，在 mapping 中注册 FusedMatmulBiasRule，具体实现见 Rule 代码\r\n\r\n### 3. [paddle.incubate.nn.functional.fused_multi_head_attention](https://www.paddlepaddle.org.cn/documentation/docs/en/develop/api/paddle/incubate/nn/functional/fused_multi_head_attention_en.html#fused-multi-head-attention)\r\n\r\n无对应 api，在 mapping 中注册 FusedMultiHeadAttentionRule，具体实现见 Rule 代码\r\n\r\n### 4. [paddle.incubate.nn.functional.fused_rms_norm](https://www.paddlepaddle.org.cn/documentation/docs/en/develop/api/paddle/incubate/nn/functional/fused_rms_norm_en.html#fused-rms-norm)\r\n\r\n无对应 api，在 mapping 中注册 FusedRMSNormRule，具体实现见 Rule 代码\r\n\r\n### 5. [paddle.incubate.nn.functional.fused_rotary_position_embedding](https://www.paddlepaddle.org.cn/documentation/docs/en/develop/api/paddle/incubate/nn/functional/fused_rotary_position_embedding_en.html#fused-rotary-position-embedding)\r\n\r\n无对应 api，在 mapping 中注册 FusedRotaryPositionEmbeddingRule，具体实现见 Rule 代码\r\n\r\n## 其他修改\r\n\r\naccuracy.py 中添加了对 paddle.incubate.nn.functional.fused_rms_norm 的特殊处理\r\n\r\n## 测试结果\r\n\r\n1. paddle.incubate.nn.functional.fused_bias_act 部分配置通过测试，部分有极小的精度问题，已在 fresh_report 中记录\r\n2. paddle.incubate.nn.functional.fused_matmul_bias 均通过测试\r\n3. paddle.incubate.nn.functional.fused_multi_head_attention 部分配置通过测试，部分有极小的精度问题，还有部分配置 paddle 内核直接崩溃，已在 fresh_report 中记录\r\n4. paddle.incubate.nn.functional.fused_rms_norm 所有配置的 paddle 多了第二个输出 Tensor，访问该 Tensor 时内核直接崩溃，因此在 accuracy.py 中仅提取第一个输出进行比较，均通过测试，同时在 fresh_report 中记录\r\n5. paddle.incubate.nn.functional.fused_rotary_position_embedding 对于 use_neox_rotary_style=False 的配置有较小的精度问题，对于 use_neox_rotary_style=True 的配置精度相差极大，认为是转换代码的行为不一致，均已在 fresh_report 中记录\r\n\r\n![image](https://github.com/user-attachments/assets/3270d12a-5f94-4086-91f2-70e87372df08)\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643\r\n",
        "issue_number": "140",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-14T10:02:46+00:00",
        "closed_at": "2025-05-19T08:23:48+00:00",
        "additions": 2165,
        "deletions": 211,
        "changed_files": 15,
        "commits": [
            "88c30302278464f2b41c47d1dd2d8bb644c6bc33",
            "bb102ca60e350dc58c5e7da9643f81a91d6e186f",
            "bda7208e0e5868ddbf2ee99104a821774eff7c28",
            "48c69845a7fda327116e6055cdedbe1456e50e74",
            "b5e0ba67857d5bab2124f847be27371350ce167e",
            "b7a7cc63dfc27bd4fbbb5694bf6cbc5a26e54359",
            "053a1ba00b11505b80da885d9342b7ac27aebb6f",
            "34b321249265f26577eb8782c9b5eb6c05cd3eb2",
            "249168ecd2b00347477f2ba9f58641f57e5d10b1",
            "0f192888596ff4e5f98002224dfbd35169d69599",
            "b19393825c8bad2dc345138855f8f391b768dad7",
            "be07e89c57f8e8ef6e050b11f6d7bd2d3e5ed905"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cszdrg",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 143,
        "title": "[BIT] Update engineV2, update engineV2-README",
        "body": "## 修改内容：\r\n\r\n1. engineV2 新增输出 *重复配置数量* 和 *已测试配置数量* 信息\r\n2. log_writer 新增 print_log_info 方法，测试结束后将打印日志统计信息（仅在 engineV2 gpu 数量不为 0 时支持）\r\n3. 更新 engineV2-README，介绍新参数\r\n\r\n<img width=\"1280\" alt=\"微信图片_20250515094017\" src=\"https://github.com/user-attachments/assets/4712dc82-e350-45ca-96d8-ea3f760f0f23\" />\r\n",
        "issue_number": "143",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-14T15:17:52+00:00",
        "closed_at": "2025-05-15T01:47:09+00:00",
        "additions": 87,
        "deletions": 37,
        "changed_files": 3,
        "commits": [
            "328ea8de092d4d395b3e4c68ebb844309a5a69ea",
            "ce7cff372805bd50e55b12f857f142857106fb6f",
            "75f3502ef24c191615f1a4000e6f81f3fd4709e3",
            "eb61fdca0361810f31eb6732901ca561660022c4"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 142,
        "title": "[P2T support No.41] paddle.multinomial",
        "body": "## 转换能力补齐\r\n\r\n### paddle.multinomial\r\n\r\n转换类别：第3类为 仅 torch 参数更多\r\n具体方案：在 mapping.json 中将 paddle.multinomial 参数直接映射到 torch.multinomial。\r\n\r\n## 测试结果\r\n\r\n![image](https://github.com/user-attachments/assets/0a87f360-346e-4f54-98b5-3365ac46637a)\r\n\r\n\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "142",
        "state": "closed",
        "merged": true,
        "user": "ccsuzzh",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-14T14:06:06+00:00",
        "closed_at": "2025-05-15T01:46:30+00:00",
        "additions": 52,
        "deletions": 56,
        "changed_files": 4,
        "commits": [
            "47b59386121fd57e74c2a503434034d71694963b",
            "157d091e714d44fb582c2fdd24e9381f3c89eea5"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": [
            "cangtianhuang",
            "ccsuzzh"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 141,
        "title": "[P2T support No.4、59-62] [BIT] __lshift__ __neg__ __nonzero__ __or__ binomial ",
        "body": "## paddle.Tensor.\\_\\_lshift__\r\n\r\n有对应 torch api: torch.Tensor.\\_\\_lshift__，paddle 参数更多，is_arithmetic 表示使用算术左移还是逻辑左移，但是对于左移，算术左移和逻辑左移都是低位补0，高位直接丢弃，结果没有区别，所以可忽略 paddle 的 is_arithmetic 参数\r\n\r\n```python\r\n_tmp_tensor = arg[0], result = _tmp_tensor.__lshift__(other=y)\r\n```\r\n\r\n配置全部通过，放入 support2torch_6.txt\r\n\r\n\r\n\r\n## paddle.Tensor.\\_\\_neg__\r\n\r\n有对应 torch api: torch.Tensor.\\_\\_neg__\r\n\r\n```python\r\n_tmp_tensor = arg[0], result = _tmp_tensor.__neg__()\r\n```\r\n\r\n配置全部通过，放入 support2torch_6.txt\r\n\r\n\r\n\r\n## paddle.Tensor.\\_\\_nonzero__\r\n\r\n与同名 torch api: torch.Tensor.\\_\\_nonzero__ 在负数 tensor 元素的行为不一致，torch 返回 True，paddle 返回 False。目前的行为与 torch.Tesnor.\\_\\_gt\\_\\_ 一致，使用该 torch api 模拟。\r\n\r\n```python\r\n_tmp_tensor = arg[0], result = _tmp_tensor.__gt__(0)\r\n```\r\n\r\n配置全部通过，放入 support2torch_6.txt\r\n\r\n\r\n\r\n## paddle.Tensor.\\_\\_or__\r\n\r\n有对应 torch api 直接映射模拟\r\n\r\n```python\r\n_tmp_tensor = arg[0], result = _tmp_tensor.__or__(other=y)\r\n```\r\n\r\n配置全部通过，放入 support2torch_6.txt\r\n\r\n\r\n\r\n## paddle.binomial \r\n\r\ntorch 对应 api: torch.binomial 无法使用，提示输入参数 prob 应为 Long，这是非常奇怪的行为，因为概率 prob 不应该是长整型\r\n\r\n```python\r\nTraceback (most recent call last):\r\n  File \"/root/PaddleAPITest/example.py\", line 26, in <module>\r\n    print(torch.binomial(tcnt, tprob))\r\nRuntimeError: Found dtype Float but expected Long\r\n```\r\n\r\n改用 torch.distributions.binomial.Binomial 类初始化一个二项分布，使用 sample() 方法来模拟。\r\n\r\n```python\r\nresult = torch.distributions.binomial.Binomial(total_count=tcnt, probs=tprob).sample()\r\n```\r\n\r\n配置输出含有随机性，报 accuracy error 后放入 api_config_stochastic.txt\r\n\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "141",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-14T10:42:51+00:00",
        "closed_at": "2025-05-15T04:56:59+00:00",
        "additions": 2793,
        "deletions": 2740,
        "changed_files": 11,
        "commits": [
            "cd9c00c26213e5c614a4eb3ec08a4a9a4195bf5c",
            "25727cbb3a63e29f9d039774304732b3804b884e",
            "3544c85c145effd634e403a6f9ab315f40be07cc",
            "77e46de449d723a40f59114fd6e9f9d3e09d3235",
            "150fd8b0f40c41aef78bffd2fd2b7ec81243ead5",
            "5036c2fd32a6271a8b3887aeb393491770d03c6d"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 139,
        "title": "[BIT] paddle.nn.functional",
        "body": "## 直接映射 & **pass**\r\npaddle.nn.functional.cosine_embedding_loss\r\npaddle.nn.functional.hinge_embedding_loss\r\npaddle.nn.functional.l1_loss\r\npaddle.nn.functional.mse_loss\r\npaddle.nn.functional.multi_label_soft_margin_loss\r\npaddle.nn.functional.poisson_nll_loss\r\npaddle.nn.functional.smooth_l1_loss\r\npaddle.nn.functional.alpha_dropout （随机api）\r\npaddle.nn.functional.feature_alpha_dropout（随机api）\r\n\r\n## 有对应api 但需要编写rule & **pass**\r\npaddle.nn.functional.soft_margin_loss\r\npaddle.nn.functional.group_norm\r\npaddle.nn.functional.local_response_norm\r\npaddle.nn.functional.multi_margin_loss\r\npaddle.nn.functional.softmax\r\n\r\n## 直接映射 & **error**\r\n- paddle.nn.functional.gaussian_nll_loss\r\n**accuracy error** paddle元素缺少梯度回传\r\n\r\n- paddle.nn.functional.kl_div\r\n**accuracy error** paddle元素缺少梯度回传\r\n\r\n- paddle.nn.functional.instance_norm\r\n**torch error** 输入的维度数据torch不支持\r\n```\r\npaddle.nn.functional.instance_norm(Tensor([4, 100],\"float32\"), None, None, Tensor([100],\"float32\"), Tensor([100],\"float32\"), True, 0.9, 1e-05, \"NCHW\", )\r\nValueError: Expected more than 1 spatial element when training, got input size torch.Size([4, 100])\r\n```\r\n- paddle.nn.functional.one_hot\r\n**torch error** 不支持int32\r\n```\r\npaddle.nn.functional.one_hot(Tensor([1, 10285],\"int32\"), 12, )\r\nRuntimeError: one_hot is only applicable to index tensor of type LongTensor.\r\n```\r\n\r\n## 有对应api 但需要编写rule & **error**\r\n- paddle.nn.functional.binary_cross_entropy\r\n有对应api 需要编写Rule取消weight的梯度求导\r\n编写Rule：WeightDetach\r\n**accuracy error：** paddle元素缺少梯度回传\r\n\r\n- paddle.nn.functional.binary_cross_entropy_with_logits\r\n有对应api 需要使用Rule Weightdetach 取消weight的梯度求导\r\n**accuracy error：** paddle元素缺少梯度回传\r\n\r\n- paddle.nn.functional.scaled_dot_product_attention\r\n有对应api 需要使用Rule 对数据的维度进行交换\r\n**accuracy error：** paddle元素缺少梯度回传 且存在误差（小误差～0.5）\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.scaled_dot_product_attention.html\r\n\r\n- paddle.nn.functional.ctc_loss\r\n有对应api 需要编写Rule对输入预处理\r\n**accuracy error：** 存在误差放入accuracy error(大误差，可能是模拟有问题～400）\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.ctc_loss.html\r\n\r\n- paddle.nn.functional.embedding\r\n有对应api 需要编写Rule对复数类型进行处理\r\n**accuracy error：** 存在误差放入accuracy error(小误差～0.9）\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.embedding.html\r\n\r\n- paddle.nn.functional.interpolate\r\n有对应api 需要编写Rule对paddle增加的参数进行处理\r\n**accuracy error：** 存在误差放入accuracy error(小误差但是在不同的输出会存在shape不一致)\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.interpolate.html\r\n\r\n- paddle.nn.functional.log_softmax\r\n有对应api 需要编写Rule对paddle增加的参数进行处理\r\n**accuracy error：** 存在误差放入accuracy error(小误差～0.9)\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.log_softmax.html\r\n\r\n- paddle.nn.functional.upsample\r\n有对应api 需要编写Rule对参数预处理 对结果后处理\r\n**accuracy error** 存在误差放入accuracy error(小误差～0.02)\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.upsample.html\r\n\r\n- paddle.nn.functional.linear\r\n有对应api 需要编写Rule对paddle增加的参数进行处理\r\n**accuracy error：** 存在误差放入accuracy error小误差～0.5)\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.linear.html\r\n\r\n- paddle.nn.functional.nll_loss\r\n有对应api 需要使用Rule Weightdetach 取消weight的梯度求导\r\n**torch error** target和input输入维度不匹配\r\n```\r\n'paddle.nn.functional.nll_loss(Tensor([5, 2],\"float64\"), Tensor([5, 5],\"int64\"), weight=None, ignore_index=-100, reduction=\"mean\", name=None, )\r\nRuntimeError: 0D or 1D target tensor expected, multi-target not supported\r\n```\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.nll_loss.html\r\n\r\n- paddle.nn.functional.pad\r\n有对应api 需要编写Rule对paddle增加的参数进行处理\r\n**torch error** input和pad维度不匹配\r\n```\r\npaddle.nn.functional.pad(x=Tensor([1, 1, 1, 2, 3],\"float64\"), pad=tuple(0,1,1,1,2,0,), mode=\"circular\", value=0, data_format=\"NDHWC\", )\r\nRuntimeError: Padding value causes wrapping around more than once.\r\n```\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.pad.html\r\n\r\n- paddle.nn.functional.cross_entropy\r\n有对应api 需要编写Rule对输入预处理，输出后处理\r\n**accuracy error：** 存在误差放入accuracy error(小误差～0.5)\r\n**torch error：** 输入target与input不相符\r\n```\r\npaddle.nn.functional.cross_entropy(input=Tensor([112, 37, 33712],\"float16\"), label=Tensor([112, 37, 33712],\"float32\"), reduction=\"none\", soft_label=True, )\r\nuntimeError: Expected target size [112, 37], got [112, 37, 33712]\r\n```\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.cross_entropy.html",
        "issue_number": "139",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-14T09:34:11+00:00",
        "closed_at": "2025-05-19T11:09:28+00:00",
        "additions": 1209101,
        "deletions": 94553,
        "changed_files": 34,
        "commits": [
            "edb8f5d2dad265b40e8b961c13ea6c1c7cc439f9",
            "2baf141aa1e281120230d24d9971ee42dc935323",
            "f6cc4abf8464bdeb09bac3ebb140e2e62121b52d",
            "0aa8a7d437d09cbcace2ed8ab999f2f0d44d79ba",
            "61a3e5b26c397970850d8590caf3dca1542375f6",
            "aa3f611b381f9a19eb656f6aed4a4f01bda0a98c",
            "55117d65b5396180b45f2afdb978858a42165b8f",
            "84df99a1b19afa8568efd85566ac43dd483f8e8a",
            "fed4179b33a301585f874b290bd8f81ce7c51371",
            "598c9f3b133f19268b0200e38ee5c465c698dc3f",
            "09fce4d60237811357959c2e2378e50841b2d554",
            "390894fb1917de89755d2f07f5eb838302463980",
            "cdf53c377aa4dd5839384ee19d77cfb1e0443308",
            "44a09a51f27b6e31bd2bb392a9f46780e124f261",
            "1393e443db54dc28cb9eeee7437c31d7ed35a9b8",
            "6b6d9824b6dc9aa0b2308308d6ff8f5c43611512",
            "587602c6d12b829486ccedca0b70b1a799392f79",
            "0ae92c746541f13abaa7ec6f966a45194aa95f2f"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cszdrg",
            "cszdrg",
            "cszdrg",
            "mzj104",
            "mzj104",
            "cszdrg",
            "cszdrg"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 144,
        "title": "[P2T support No.44-47] [BIT] nn.functional.[pixel_shuffle、pixel_unshuffle、prelu、selu]",
        "body": "## 转换能力补齐\r\n\r\n本次共补充了 `paddle.nn.functional.[pixel_shuffle、pixel_unshuffle、prelu、selu]` 四个 API 的 paddle2torch 转换能力。具体情况如下：\r\n\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:-----|:---------------|\r\n| paddle.nn.functional.pixel_shuffle | torch.nn.functional.pixel_shuffle | paddle 参数更多 | 完善并复用 `DataFormatRule`，为 `data_format` 做转化 | `data_format` 可选 `NCHW` 或 `NHWC` | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.pixel_shuffle.html) |\r\n| paddle.nn.functional.pixel_unshuffle | torch.nn.functional.pixel_unshuffle | paddle 参数更多 | 完善并复用 `DataFormatRule`，为 `data_format` 做转化 | `data_format` 可选 `NCHW` 或 `NHWC` | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.pixel_unshuffle.html) |\r\n| paddle.nn.functional.prelu | torch.nn.functional.prelu | paddle 参数更多 | 完善并复用 `DataFormatRule`，为 `data_format` 做转化 | `data_format` 可选 `NC`、`NCL`、`NCHW`、`NCDHW`、`NLC`、`NHWC` 或 `NDHWC` | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.prelu.html) |\r\n| paddle.nn.functional.selu | torch.selu | paddle 参数更多 | 撰写 mapping 配置，并编写rule:SeluRule | 若 `scale` 和 `alpha` 使用默认值，则直接调用 `torch.nn.functional.selu`；若使用指定值，则按照selu的公式定义计算 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.selu.html) |\r\n\r\n相较于 PyTorch，Paddle 的多个 API 支持更多形式的 `data_format` 输入，因此完善了 rule：`DataformatRule`，使其支持更多参数的转化，方便后续被其他 API 复用。编写后，原来的和新加入的 API 均能通过测试。\r\n\r\n### 测试结果\r\n\r\n4 个 API 共 67 条配置均通过测试。\r\n![0E52EA85B62D920E9554AE822386AE70](https://github.com/user-attachments/assets/e6aa4de7-1583-4c0c-b19c-1519bd5c4b0c)\r\n\r\n另外，目前`paddleonly_5.txt`中均为随机性API（共60个），将其一并移入`api_config_stochastic.txt`。\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "144",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-14T16:20:32+00:00",
        "closed_at": "2025-05-15T02:55:43+00:00",
        "additions": 198,
        "deletions": 167,
        "changed_files": 8,
        "commits": [
            "a7e41fcc74d5622260699ca1421b801b62664016",
            "392a68e351c82998020ef03d365fa05c914a71d9",
            "88286dc6df1604cf4ff69d833c9d706ea5ddbdf8",
            "1d7ce2dbbf90738fb677a346dd13c3f9b52c6d75"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 145,
        "title": "[BIT] Enhance engineV2: add --api_config_file_pattern para, fix log_writer",
        "body": "## 修改内容\r\n\r\n1. 修复 https://github.com/PFCCLab/PaddleAPITest/pull/141 修改后造成的 engineV2 不兼容问题（需手动调用 set_cfg ）\r\n2. engineV2 新增 --api_config_file_pattern 参数，可合并测试所有如 `tester/api_config/api_config_paddleonly_*.txt` 的文件！\r\n\r\n![image](https://github.com/user-attachments/assets/5b60c7ab-1599-4f3a-bd98-48bb55cd3e40)\r\n\r\n![image](https://github.com/user-attachments/assets/35717658-33d4-4609-829e-302c87bc34c4)\r\n",
        "issue_number": "145",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-15T05:52:34+00:00",
        "closed_at": "2025-05-15T06:08:43+00:00",
        "additions": 81,
        "deletions": 34,
        "changed_files": 3,
        "commits": [
            "9bc8c9a24fdc0dd831a4e1ce3841810dc1540063",
            "d9812f3953f7c7c2556facea7189a51629dd00ec"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "Cutelemon6",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 147,
        "title": "[P2T support No.103-106、110、112][BIT]roll、sign、squeeze、take_along_axis、tile、unsqueeze",
        "body": "## 转换能力补齐\r\n\r\n本次共补充了 `paddle.roll`、`paddle.sign`、`paddle.squeeze`、`paddle.take_along_axis`、`paddle.tile` 和 `paddle.unsqueeze` 六个 API 的 paddle2torch 转换能力。具体情况如下：\r\n\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:-----|:---------------|\r\n| paddle.roll | torch.roll | 输入参数不一致 | 撰写mapping的同时，编写 rule：`RollRule` | 将 Tensor 类型的 `shifts` 和 `axis` 转换为标量或列表 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.roll.html) |\r\n| paddle.sign | torch.sgn | 仅参数名不一致 | 撰写 mapping 配置 | torch.sign 不支持复数，改用 torch.sgn 进行映射 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.roll.html) |\r\n| paddle.squeeze | torch.squeeze | 输入参数类型不一致 | 撰写mapping的同时，编写rule：`SqueezeRule` | 对 `axis` 为 Tensor、list 的情况做转化 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.squeeze.html) |\r\n| paddle.take_along_axis | torch.take_along_dim | 输入参数类型不一致 | 撰写 mapping 配置，直接在其中做转化 | 将 `indices` 转换为 int64 类型 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.take_along_dim.html) |\r\n| paddle.tile | torch.tile | 输入参数类型不一致 | 撰写 mapping 配置 ，直接在其中做转化| 将 `repeat_times` 从 Tensor 转换为整数元组 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.tile.html) |\r\n| paddle.unsqueeze | torch.unsqueeze | 输入参数类型不一致 | 撰写mapping的同时，编写 rule：`UnsqueezeRule` | 对 `axis` 为 Tensor、list、tuple 的情况做转化，多轴情况下，还要在 `core` 中循环调用 `unsqueeze` | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.squeeze.html) |\r\n\r\n## 测试结果\r\n\r\n6 个 API 共 8284 条配置均通过测试。\r\n<img width=\"910\" alt=\"截屏2025-05-15 17 34 04\" src=\"https://github.com/user-attachments/assets/b3933b5a-a415-43e6-b06e-8e08b2d0838f\" />\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "147",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-15T09:51:03+00:00",
        "closed_at": "2025-05-15T10:52:06+00:00",
        "additions": 8408,
        "deletions": 8334,
        "changed_files": 8,
        "commits": [
            "a91b7a99ba99720ec786aa79c8cf9c7ab8c621a5",
            "adba16affa24569ed930530bc0ddfd4bb5fadedc",
            "5c50fb8bc08b5a15e2bdb5a1a7f5e4926cccf67a"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 148,
        "title": "[BIT] engineV2 增强：分布式日志",
        "body": "为 engineV2.py 测试时先写入各个进程的 log_{pid}.log，最后结束时汇总",
        "issue_number": "148",
        "state": "closed",
        "merged": false,
        "user": "Cutelemon6",
        "merged_by": null,
        "created_at": "2025-05-15T10:51:50+00:00",
        "closed_at": "2025-05-22T08:13:03+00:00",
        "additions": 46,
        "deletions": 43,
        "changed_files": 2,
        "commits": [
            "eacab62c908b9aa7b7fd075601d8358d60771912",
            "df7e7856a5c84247b5f220edf95efdc7dbc10b47",
            "617155b262df81001f87baba19bd0bf6d41a446e"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 149,
        "title": "[P2T support No.94、98-99][BIT]linalg.cov、nn.functional. [affine_grid、grid_sample]",
        "body": "## 转换能力补齐\r\n\r\n本次共补充了 `paddle.linalg.cov`、`paddle.nn.functional.affine_grid` 和 `paddle.nn.functional.grid_sample` 三个 API 的 paddle2torch 转换能力。具体情况如下：\r\n\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:-----|:---------------|\r\n| paddle.linalg.cov | torch.cov | paddle 参数更多 | 编写mapping的同时，编写 rule：`CovRule` | 1. PyTorch 对于张量类型的 `aweights` 需要转换为 float 类型。<br>2. PyTorch 不直接支持 `rowvar=False` 参数，需手动对输入张量进行转置操作。 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.cov.html) |\r\n| paddle.nn.functional.affine_grid| torch.nn.functional.affine_grid | 参数类型不一致 | 撰写 mapping 配置 | PyTorch 需要 `size` 参数为元组类型，而 Paddle 的 `out_shape` 可以是张量，撰写 mapping 时对参数类型做转化。 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.affine_grid.html) |\r\n| paddle.nn.functional.grid_sample | torch.nn.functional.grid_sample | 参数默认值不同 | 撰写 mapping 配置 | Paddle 默认使用 `align_corners=True`，而 PyTorch 默认为 `False`，撰写 mapping 时需要设置默认值 `align_corners=True`。 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.grid_sample.html) |\r\n## 测试结果\r\n3个API共233条配置均通过测试。\r\n<img width=\"525\" alt=\"截屏2025-05-15 20 40 06\" src=\"https://github.com/user-attachments/assets/1cafc4ac-6dec-4924-a18f-e7c8f2e7321d\" />\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643\r\n",
        "issue_number": "149",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-15T12:50:22+00:00",
        "closed_at": "2025-05-16T06:03:01+00:00",
        "additions": 291,
        "deletions": 264,
        "changed_files": 7,
        "commits": [
            "5bd72994c1e109d0235aefe1da987e24c607e1d9",
            "c58c958968a7add687ab75f9ca1986d389fcab83"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 151,
        "title": "[BIT] Support Torch Assertion",
        "body": null,
        "issue_number": "151",
        "state": "closed",
        "merged": false,
        "user": "cangtianhuang",
        "merged_by": null,
        "created_at": "2025-05-16T06:42:15+00:00",
        "closed_at": "2025-05-26T07:39:17+00:00",
        "additions": 135,
        "deletions": 42,
        "changed_files": 4,
        "commits": [
            "528c6eb2b8dd0c06e0826c302474d42602cce555",
            "b16e74a6417cde66e78527be4eb3c2234ac519c3",
            "9c9aabcfa55e3b07f90c1848b0f0e04f3585d3e1",
            "bcfe4b5c7642de8e1361674003405437830b639c",
            "5c43dbc9ca311f16afe2644dfb19ffef5190e3d3",
            "68acd189280ce38fbf4bb216a4c7fdaf9f2227fd",
            "8c5a9ec066394ad5e7d6e0242cf23aef50b66ac0",
            "44bb940ec67e6026e99adaaa572bf7f2aab4fc44"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 152,
        "title": "Add tool  find_api_config",
        "body": "- find_api_config可以从error_log海量的日志中找到指定API对应的错误日志及其出错时的api_config。在PaddleAPITest进行单独的API回测时，可以方便的整理出目标API对应的错误配置和日志信息。\r\n- 具体用法请见 ``` python find_api_config.py -h ```\r\n\r\n![image](https://github.com/user-attachments/assets/c23e22cd-a9ce-400d-b443-0b0ba7215ec0)\r\n\r\n\r\n",
        "issue_number": "152",
        "state": "closed",
        "merged": true,
        "user": "DanielSun11",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-16T13:00:29+00:00",
        "closed_at": "2025-06-06T08:07:35+00:00",
        "additions": 72,
        "deletions": 0,
        "changed_files": 2,
        "commits": [
            "ce37ee86f63bc1e8037a6e134895f3ec010a9c81",
            "c7b52e751403f10e500102cd801b8d748c7b31f0"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 150,
        "title": "更新0-size Tensor CPU的report",
        "body": "- 删除了之前CPU侧由于将[torch error]识别为0 size Tensor问题的API及其配置。\r\n- 添加了对CPU报错日志的处理脚本",
        "issue_number": "150",
        "state": "closed",
        "merged": true,
        "user": "DanielSun11",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-15T13:43:01+00:00",
        "closed_at": "2025-05-16T03:17:11+00:00",
        "additions": 27540,
        "deletions": 495329,
        "changed_files": 6,
        "commits": [
            "43f0af4b95f16716fe5c411dd1cf79c8149462bc",
            "e6de6ac619a78bd150a5cf684dfb677c0b4ca5d1",
            "2663d0fada7e8f492eb422fc8af9606abdc09e66"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 146,
        "title": "[P2T support No.88-89、91-93、97、100-101、108-109] argmin chunk cunsum diag eye mm tensor.matual outer quantile tensordot",
        "body": " **修改内容**\r\n\r\n------------ \r\nargmin chunk cunsum diag eye\r\n\r\n这5个api虽然官方文档里面都说有直接一致的torch api，但实际上都和torch的行为有所出入，都需要编写rule\r\n\r\npaddle.eye:  \r\n1. torch 的n m参数必须为int，但是paddle还支持tensor输出，需转为int\r\n2. torch的m参数虽然默认值为none，但是不能直接输入m=none，当m=none时应该删除这个key-value对\r\n\r\npaddle.argmin:\r\n1. torch 的dim参数必须为int，但是paddle还支持tensor输出，需转为int\r\n2. paddle  默认参数keepdim=False，但配置中出现了keepdim=None的输入，需把他转为false\r\n\r\npaddle.chunk\r\n1. torch 的dim参数必须为int，但是paddle还支持tensor输出，需转为int\r\n\r\npaddle.cumsum\r\n1. torch 的dim参数必须为int，但是paddle还支持tensor输出，需转为int\r\n2. paddle 的 axis可以为none，但torch不行，这种情况对应torch先flatten，再把dim置为0\r\n\r\npaddle.diag:\r\n1. torch.diag 不支持 offset \r\n2. torch没有padding_value参数，所以需要手动写rule\r\n\r\n```\r\nif x.ndim == 1:\r\n    out = torch.diag(x, diagonal=offset)\r\n    if padding_value != 0:\r\n        diag_mask = torch.diag(torch.ones_like(x), diagonal=offset)\r\n        full_shape = out.shape\r\n        diag_mask = torch.diag(torch.ones(x.shape[0], dtype=torch.bool), diagonal=offset)\r\n        diag_mask = diag_mask[:full_shape[0], :full_shape[1]]\r\n        out = torch.where(diag_mask.bool(), out, torch.tensor(padding_value, dtype=out.dtype, device=out.device))\r\n    result = out\r\nelif x.ndim == 2:\r\n    result = torch.diagonal(x, offset=offset)\r\n```\r\n\r\n----------------------------\r\n\r\n另外，在修复chunk时发现paddle only生成出错，没有导入random包，故添加import代码\r\n\r\n------------ \r\n\r\ntensor.matual 包含额外的参数，需要编写rules:\r\n\r\n1. x y 在paddle中可以设置参数进行转置，需要在torch中预处理\r\n2. 这个api包含不少x和y精度不对应的配置，在rule中完成了精度转换，统一为更高的精度\r\n\r\nmm同理，编写rule实现精度转换\r\n\r\nouter虽然有对应的api，但行为不一样，torch是默认把向量展开再计算，所以加入预处理：\r\n\r\n```\r\nx = x.flatten()\r\ny = y.flatten()\r\n\r\n```\r\n\r\nquantile 这个api看似有对应的torch.api，但是paddle对数据形状不匹配的情况有broad cast功能，而torch会直接报错，需要编写复杂的rule\r\n\r\ntensordot同理，torch.tensordot对输入格式很严格，但是paddle对输入比较鲁棒，需要编写复杂的rule\r\n\r\n部分amp配置存在paddle的问题，需要加入加入--test_amp=True\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "146",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-15T07:58:21+00:00",
        "closed_at": "2025-05-19T06:33:02+00:00",
        "additions": 4329,
        "deletions": 4012,
        "changed_files": 21,
        "commits": [
            "80919f9f23b45adcafb6ae4757145d214a3ae26c",
            "0e2afaf96a9d26854eaed13123c65752742281bd",
            "73767fb2a1d2dc0deb5ffa6be4da8ec3e76dd64c",
            "9be815505659aa5d9b7b81b313791662813a9389",
            "dcc0451992a4a89f054883df9a7bff34525716e3",
            "3b7aa12dd5b3ab6efbcd2d5fdae107a2003f8b2e",
            "84d8fd952fb68758ae09dc70c5ca46d152a6b008",
            "92f3cfb889dc464bc5f5a90d46296ffd03fb6f9f",
            "858596a4f2930fafdc03889cd3ea40d6e8fdf113",
            "1bcc7c722a699ebca45baef4d053cf7ebda91194",
            "4d5f465f391024d1e2bc0dc2a070cae8901d18fa",
            "96d07ed19a88329ed688f6af3a6c9a030e0674bd",
            "f16845ebdc3893697d8ffc6c8fe3bfa567898477",
            "5f1adc910913cf0d5032165bca93229f3041b822"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cszdrg",
            "yuwu46",
            "mzj104"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 154,
        "title": "[BIT] Updata engineV2: add api_config_oom, api_config_skip txt, add --use_cached_numpy para",
        "body": "## 修改内容\r\n\r\n1. engineV2 执行完毕后将统计跳过配置（checkpoint - 其他配置），保证配置的并集为 checkpoint，避免任何情况下的配置遗漏（强制中断、skip等），生成至 api_config_skip.txt\r\n2. enginev2 根据抛出的错误信息，统计 OOM 配置，生成至 api_config_oom.txt\r\n3. engineV2 新增 --use_cached_numpy 参数，通过设置环境变量，设置 config_analyzer 的 USE_CACHED_NUMPY 值\r\n4. 优化 log_writer 的日志统计信息打印\r\n5. 新增 tools/seek_skip_remove.py 工具，帮助筛选跳过配置，从 checkpoint 中移除，便于复测",
        "issue_number": "154",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-17T03:07:58+00:00",
        "closed_at": "2025-05-20T06:02:06+00:00",
        "additions": 216,
        "deletions": 95,
        "changed_files": 5,
        "commits": [
            "1e55121cd212e28a0f43ce1a9261c7ce6ea2e5dd",
            "461a5cae1815a35daa206e09f71cd35958ecc679",
            "c20bbfa188bbf7a5ee8056f92efeb474a1e6c04a",
            "129418a02731743b5371c33c4d42cd171d042be6",
            "85ec53edc7a0b0b7b3232218b2362cf1106be7b7",
            "449cd8f7c1df466c16cb546e881bb45a37824d05",
            "f692d883ac9e87300ff21e2a364c66d93e6604b2",
            "17587dc26e40eb35b49a81f220bbe348769056a5",
            "6d7e51c9c403645134877fd7f93b571c77288fe6",
            "12c416aa666b83931886f659d9e36845dff023a6",
            "2e7f50bc70c052d324dcab117f8f429bd5c72fd0"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 155,
        "title": "[BIT] Add support2torch paddleonly report",
        "body": null,
        "issue_number": "155",
        "state": "closed",
        "merged": false,
        "user": "cangtianhuang",
        "merged_by": null,
        "created_at": "2025-05-17T04:01:41+00:00",
        "closed_at": "2025-05-20T03:26:31+00:00",
        "additions": 30012,
        "deletions": 2,
        "changed_files": 7,
        "commits": [
            "17b1e83065d012b3b701c7de5ecc998439870d11"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 153,
        "title": "[P2T support No.95-96] paddle.linalg.[norm、lstsq]",
        "body": "## 转换能力补齐\r\n\r\n完成了在 mapping.json 中的注册，并在 rules.py 中定义类class NormRule\r\n通过对比https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/linalg/norm_cn.html和https://docs.pytorch.org/docs/stable/generated/torch.linalg.norm.html 发现是paddle的参数更多，并且二者的用法有一些不同：\r\n1. pytorch不支持对一维向量计算Frobenius Norm\r\n2. 当指定范式种类ord但不指定维数dim时，pytorch不能计算3维及以上张量的范数，这一点通过把问题转化后使用amin()和amax（）解决\r\n3. pytorch不支持对矩阵计算0范数，这一点通过把问题转化后使用sum()解决\r\n## 测试结果\r\n\r\npaddle.linalg.norm 大部分配置通过 accuracy 测试，移入 support2torch_8.txt中；数条配置有精度问题，都出现在对二维矩阵计算2范数的时候，有问题的配置移入 accuracy_error_6.txt 中，错误日志在test_log_paddle.linalg.norm.log中\r\n![image](https://github.com/user-attachments/assets/99a14529-8e83-4b2c-8c1e-52391a4de333)\r\n",
        "issue_number": "153",
        "state": "closed",
        "merged": true,
        "user": "superdonkey007",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-16T15:08:42+00:00",
        "closed_at": "2025-05-19T01:44:20+00:00",
        "additions": 275,
        "deletions": 21,
        "changed_files": 6,
        "commits": [
            "1f722becb1a4f7031495b3dbd9de1bfc6a7dbd23",
            "b6c8e231fb0c9e9de46e52c1a75d5f201f745a28",
            "78382446ebcce98c765b9ccd9513f96ea78a527e",
            "bb06874dfd0fa8549cf737835f2436d24b334c02",
            "67dd315e18d96020e54d24e8cc310e3dd1000265"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "superdonkey007",
            "superdonkey007",
            "cangtianhuang",
            "superdonkey007",
            "luotao1"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 157,
        "title": "fix engineV3",
        "body": null,
        "issue_number": "157",
        "state": "closed",
        "merged": true,
        "user": "Zeref996",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-19T06:13:54+00:00",
        "closed_at": "2025-05-19T06:17:39+00:00",
        "additions": 34,
        "deletions": 14,
        "changed_files": 4,
        "commits": [
            "ad79682a9796c6af12cf49ca7777efc9703392bd"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 158,
        "title": "add oom print info",
        "body": null,
        "issue_number": "158",
        "state": "closed",
        "merged": true,
        "user": "Zeref996",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-19T08:33:03+00:00",
        "closed_at": "2025-05-19T08:35:50+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "d56288199f0a8106917d1538a52ec5169b257080",
            "5a46644efc53fd1b0753654bb3b2aa4d9433fc8c"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 161,
        "title": "add 20250519 test report",
        "body": null,
        "issue_number": "161",
        "state": "closed",
        "merged": true,
        "user": "Zeref996",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-20T03:00:26+00:00",
        "closed_at": "2025-05-20T06:11:03+00:00",
        "additions": 18122,
        "deletions": 0,
        "changed_files": 6,
        "commits": [
            "17f9e15011a3dca86d7c787ec92b66f62c4875c2",
            "602382e01da9a49bcd76e5e889372e924e3ea9f6",
            "e0704a156d724ea9f7e2c40e53cc123a0743bbde",
            "57545364959d16e8ca3994c10701f667b1c06a90",
            "cfb84022ea438a958ddb638a7f7571e72b0d6552",
            "60ae851ba501ccd3671e96a8d93f83f18164e9c1"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 156,
        "title": "[P2T support No.40]  paddle.matmul",
        "body": "## 转换能力补齐\r\n\r\n### paddle.matmul\r\n转换类别：第4类 仅 paddle 参数更多，直接映射会丢失信息。\r\n具体方案：需要编写rule转换规则来处理转置参数。\r\n\r\n## 测试结果\r\n\r\n![image](https://github.com/user-attachments/assets/0071a596-8858-413e-bee9-44e28d3e4956)\r\n\r\ntorch_error case 主要为以下错误：\r\n\r\n- [torch error] paddle.matmul(Tensor([464, 11008],\"int8\"), Tensor([64, 11008],\"int8\"), False, True, )\r\nTraceback (most recent call last):\r\n  File \"/home/aistudio/PaddleAPITest/tester/accuracy.py\", line 82, in test\r\n    exec(code.core_compiled, exec_globals, exec_locals)\r\n  File \"<string>\", line 8, in <module>\r\n  File \"/home/aistudio/external-libraries/lib/python3.10/site-packages/torch/utils/_device.py\", line 104, in __torch_function__\r\n    return func(*args, **kwargs)\r\nRuntimeError: \"addmm_cuda\" not implemented for 'Char'\r\n\r\n- 2025-05-16 15:13:50.472006 GPU 0 36133 test begin: paddle.matmul(Tensor([2, 3, 4, 5],\"complex128\"), Tensor([2, 3, 5, 4],\"float64\"), )\r\n[torch error] paddle.matmul(Tensor([2, 3, 4, 5],\"complex128\"), Tensor([2, 3, 5, 4],\"float64\"), )\r\nTraceback (most recent call last):\r\n  File \"/home/aistudio/PaddleAPITest/tester/accuracy.py\", line 82, in test\r\n    exec(code.core_compiled, exec_globals, exec_locals)\r\n  File \"<string>\", line 8, in <module>\r\n  File \"/home/aistudio/external-libraries/lib/python3.10/site-packages/torch/utils/_device.py\", line 104, in __torch_function__\r\n    return func(*args, **kwargs)\r\nRuntimeError: expected scalar type Double but found ComplexDouble\r\n\r\n## 剩余测试结果更新：\r\n![image](https://github.com/user-attachments/assets/8a8aaa93-98d6-4260-8a37-ac9e59449427)\r\n\r\n![image](https://github.com/user-attachments/assets/5ff07f15-d6ca-4aa5-9749-c2790ca3eb38)\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "156",
        "state": "closed",
        "merged": true,
        "user": "ccsuzzh",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-17T04:57:17+00:00",
        "closed_at": "2025-05-20T04:28:16+00:00",
        "additions": 9461,
        "deletions": 9450,
        "changed_files": 10,
        "commits": [
            "3188f8f4315e8e1629adafc23e96a2aeda093fff",
            "18615458d4a9b59337bb17a0582ed356f15094a7",
            "03e1bdb3c0236d22cbd4d14824eeead6e06f061d",
            "3cfd44b518308f39f991e9b6dfebb41f7a494fe4",
            "83e1fc317a666b7a12f877c529bf1c29f94d2139"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "ccsuzzh",
            "ccsuzzh",
            "ccsuzzh"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 162,
        "title": "[BIT] Fix error configs, move rand configs",
        "body": "## 修复内容\r\n\r\n1. 移除四条 paddle.meshgrid 报错（fresh_report 中已有报告）\r\n2. 修复两条意外错误配置\r\n3. 格式化 rules.py\r\n4. paddle.empty、paddle.empty_like、paddle.Tensor.__dir__ 移入随机配置中\r\n5. 修复 EmptyRule 使其支持更多配置，所有 paddle.empty、paddle.empty_like、paddle.Tensor.__dir__ 配置均能正常转换\r\n6. 修复 CumRule 使其支持 dtype 参数，在之前的pr修复中，字符串数据类型改为了 torch 数据类型\r\n7. 新增一系列小工具",
        "issue_number": "162",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-20T06:41:48+00:00",
        "closed_at": "2025-05-21T04:37:54+00:00",
        "additions": 628,
        "deletions": 468,
        "changed_files": 17,
        "commits": [
            "94e87626839b2ec877d3c09e0894873bc672c842",
            "6a4736fc27adf03797be3ba71da8a5d0b6c2009c",
            "0bcd60cac430acc5e699ac18aa4ac77346d80015",
            "7ad54553312730f5d9a5e1ea2765b51bfe589350",
            "5472474ff8a334173d3bb6584915e2205ca836d2",
            "46e0dae522071ff1c600055be541c3833f8175cd",
            "7e962ac22f8365c16e3f7981c39b1f758868341c",
            "33c8ebe5a7260d85d1e6590827efc281cf66ed49",
            "bc43d4598aeed64de5d77e25e28e5118f3c71d5e"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "Cutelemon6",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 159,
        "title": "[P2T support No.9、10、48、49、 84、 90、 102、 107、 111][BIT] nn.functional geometric weight_quantize clip reshape unflatten",
        "body": "# 直接映射\r\n- paddle.poisson **pass**\r\n# 有对应api 但需要rule\r\n- paddle.reshape **pass**\r\n- paddle.Tensor.clip **pass**\r\n- paddle.unflatten **pass**\r\n- paddle.clip **accuracy error** 存在较大误差\r\n需要规范最大最小值\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.clip.html\r\n# 无对应api 需要rule\r\n- paddle.geometric.send_u_recv  **pass**\r\n- paddle.geometric.send_ue_recv **pass**\r\n- paddle.nn.functional.label_smooth **pass**\r\n- paddle.nn.functional.log_loss **pass**\r\n- paddle.nn.functional.margin_cross_entropy **pass**\r\n- paddle.nn.functional.maxout **pass**\r\n- paddle.nn.functional.npair_loss **pass**\r\n- paddle.nn.functional.rnnt_loss **pass**\r\n- paddle.nn.functional.sequence_mask **pass**\r\n- paddle.nn.functional.square_error_cost **pass**\r\n- paddle.nn.functional.swish **pass**\r\n- paddle.nn.functional.temporal_shift **pass**\r\n- paddle.nn.functional.zeropad2d **pass**\r\n- paddle.nn.functional.softmax_with_cross_entropy **acuracy** 存在大误差\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/softmax_with_cross_entropy_cn.html\r\n- paddle.nn.functional.sigmoid_focal_loss **acuracy**  存在大误差\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/sigmoid_focal_loss_cn.html\r\n- paddle.nn.functional.dice_loss  **acuracy** 小误差0.07\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/dice_loss_cn.html\r\n- paddle.nn.quant.weight_only_linear\r\n**误差较大 放入not support 不支持**\r\n- paddle.nn.quant.weight_quantize\r\n**误差较大 放入not support 不支持**\r\n\r\n",
        "issue_number": "159",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-19T11:32:20+00:00",
        "closed_at": "2025-05-21T07:50:48+00:00",
        "additions": 69660,
        "deletions": 67814,
        "changed_files": 25,
        "commits": [
            "7e76de3baf68565b667bd79df20522ffdb6e2c99",
            "b1748cd267cd0c829ad9427804ed2821649d9cfd",
            "07bc79826bcfa0d1f771ab079bd23c97f1912ce7",
            "1000cbbda12839fe2f49e3280b739497f08f9b8e",
            "dcc9613c85cdd2e28eca0fbcc495255f909486f5",
            "3d435776ab2282c3a2524e8bd9decd6289249efe",
            "5c2fd46eb928e422a690e8ed4790a2b8f2ebe2d1",
            "b655cffa30bc5864ad08c3d76507774f685ebbb9",
            "bea365ae13869e941f04cf1af9cf4d1454ec6bba",
            "02f9abcd3b20eeab25cb6d625e0b0a1bd871a74c"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "yuwu46",
            "cszdrg",
            "cszdrg"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 167,
        "title": "add 20250519 coredump_error report",
        "body": null,
        "issue_number": "167",
        "state": "closed",
        "merged": true,
        "user": "Zeref996",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-21T06:16:38+00:00",
        "closed_at": "2025-05-21T06:32:21+00:00",
        "additions": 8182,
        "deletions": 0,
        "changed_files": 3,
        "commits": [
            "b866f7d48c22af6a1e4f5fcde89834d4251541f1",
            "8bc086c6779dfdb9dc514ab4ed465e239f49b16f"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 164,
        "title": "[BIT] Support Torch CPU Assert",
        "body": "1. base.py 新增 torch_assert_accuracy ，将 paddle 与 torch tensor 移至 cpu，使用 dlpack 快速将 paddle 转 torch tensor，调用 torch.testing.assert_close，优化报错信息表示\r\n2. accuracy.py 改用 torch_assert_accuracy（int 类型保留使用 np_assert_accuracy）\r\n3. 在 APITestBase 初始化时调用 torch.set_num_threads(8)\r\n\r\n当 threads 数目为 4、8、10、20、40 时，加速比（相较于单线程）约为 2.3（56%）、2.8（65%）、3.1（67%）、4.2（76%）、5.7（82%）",
        "issue_number": "164",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-20T12:29:37+00:00",
        "closed_at": "2025-05-22T06:49:08+00:00",
        "additions": 54,
        "deletions": 12,
        "changed_files": 2,
        "commits": [
            "e5afa91097950a64f6c64146b8f9b66517840b50",
            "121500140e10696b36dcfa8aab48b35a7a3cad16",
            "591fdf9189c55e91f86e83638f21d23b092c0bba",
            "f6577da88e0e010a6a1ad571ea6efdc712ebdd49",
            "c0a79147dabf39d459bc458d3b0211da58a14fd1",
            "a46bdbfbb278c10c5f884778078b1319432e34b9"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "wanghuancoder",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 163,
        "title": "[P2T support No.18-19] [BIT] __mul__, __sub__, full, fused_feedforward, fused_layer_norm",
        "body": "## paddle.Tensor.\\_\\_mul__\r\n\r\n测试了一条 #88 中遗留的大 size tensor，测试通过，移入配置到 support2torch_6.txt\r\n\r\n```python\r\npaddle.Tensor.__mul__(Tensor([2, 1, 32768, 32768],\"float16\"), 10000.0, )\r\n```\r\n\r\n\r\n## paddle.Tensor.\\_\\_sub__\r\n\r\n测试了一条 #88 中遗留的大 size tensor，测试通过，移入配置到 support2torch_6.txt\r\n\r\n```python\r\npaddle.Tensor.__sub__(Tensor([2, 1, 32768, 32768],\"float16\"), 1, )\r\n```\r\n\r\n\r\n## paddle.full\r\n\r\n测试了一条 #122 中提到的可能导致大 size tensor 的配置 ，设置第一个位置 tensor （即 shape）初始化每个元素在 [0, 32)\r\n\r\n```python\r\npaddle.full(shape=Tensor([5], \"int64\"), fill_value=-2)\r\n```\r\n\r\n配置通过，移入 support2torch_6.txt\r\n\r\n\r\n\r\n## paddle.incubate.nn.functional.fused_feedforward\r\n\r\n没有直接对应 fuse api，模拟 api 文档说明使用 torch api 组合实现。转换细节：\r\n\r\n1. paddle 的线性层和 torch 的线性层输入参数格式不一样（torch: [out_features, in_features], paddle: [in_features, out_features]），torch 进行计算前需要先对 weight 最后两维进行转置。\r\n\r\n   ```python\r\n   linear1_weight = linear1_weight.transpose(-2, -1)\r\n   linear2_weight = linear2_weight.transpose(-2, -1)\r\n   ```\r\n\r\n2. mode == 'upscale_in_train' 的 dropout 有 torch 实现，mode == 'down_scale_in_infer' 需要手写实现\r\n\r\n   ```python\r\n   dropout = torch.nn.functional.dropout if mode == 'upscale_in_train' else lambda x, p, training: (\r\n       x * torch.bernoulli(torch.full(x.shape, 1 - p)).to(x.device) if training else x * (1 - p)\r\n   )\r\n   ```\r\n\r\n组合实现逻辑：\r\n\r\n```python\r\nresidual = src;\r\nif pre_layer_norm:\r\n    src = layer_norm(src)\r\nsrc = linear(dropout(activation(linear(src))))\r\nsrc = residual + dropout(src)\r\nif not pre_layer_norm:\r\n    src = layer_norm(src)\r\n```\r\n\r\n20 个中 4 个输入 dtype 不同，采用 --test_amp=True 测试，3 个报精度错误，日志放入 fresh_report，配置放入 accuracy_error_2.txt，1 个通过；剩下 16 个中 3 个报精度错误，日志放入 fresh_report，配置放入 accuracy_error_2.txt，13 个通过。通过配置放入 support2torch_6.txt。\r\n\r\n\r\n## paddle.incubate.nn.functional.fused_layer_norm\r\n\r\n没有直接对应 api，使用 torch api 组合实现\r\n\r\n```python\r\nx_rb = x + residual * residual_alpha + bias\r\nout_residual = x_rb\r\n# flatten norm dims\r\nx_rb = torch.flatten(x_rb, start_dim=begin_norm_axis)\r\nout_mean = torch.mean(x_rb, dim=-1).reshape(-1)\r\nout_var = torch.var(x_rb, dim=-1, unbiased=False).reshape(-1)\r\n\r\nif norm_weight is not None or norm_bias is not None:\r\n    if norm_weight is None:\r\n        norm_weight = torch.ones(x_rb.shape[-1])\r\n    if norm_bias is None:\r\n        norm_bias = torch.zeros(x_rb.shape[-1])\r\n    x_rb = torch.nn.functional.layer_norm(x_rb, [x_rb.shape[-1]], weight=norm_weight, bias=norm_bias, eps=epsilon)\r\n\r\nx = torch.reshape(x_rb, x.shape)\r\n```\r\n\r\n量化部分参考 paddle 库源代码 /paddle/test/legacy_test/test_fused_layernorm_op.py 中的 quant_helper()\r\n\r\n```python\r\nx = quant_scale * x * quant_max_bound\r\n# using banker's rounding\r\nif quant_round_type == 0:\r\n    x = torch.round(x)\r\nelse: #  Round to nearest if type != 0\r\n    x = torch.floor(x + 0.5)\r\nx = torch.clamp(x, min=quant_min_bound, max=quant_max_bound).to(torch.int8)\r\n```\r\n\r\n75 个用例中 27 个需采用 --test_amp=True 测试，其中 13 个通过，14个报 accuracy error，日志放入 \r\n eport/fresh_report/accuracy/，配置放入 accuracy_error_2.txt。剩余 48 个用例中 1 个通过，47 个报 accuracy error，日志放入 report/fresh_report/accuracy/，配置放入 accuracy_error_2.txt。通过配置放入 support2torch_6.txt。上述 accuracy error 均表现为 shape mismatch，如 `(91, 64, 0), (91, 64) mismatch`，这是由于 paddle api 输出的结果包含了 0-size tensor (uninitialized tensor) 导致的（paddle api 输入关键字参数 residual == None 会导致这个问题），而模拟的 torch 组合逻辑能正确输出。\r\n\r\n另外添加了三条会导致 paddle api 抛出 cuda 700 error 的配置，分别是输入关键字参数 bias, norm_weight, norm_bias 为 None 时会导致 paddle api 抛出 cuda 700 error，将配置放入 merged_not_support, 日志放入 fresh_report/arruracy\r\n\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "163",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-20T08:15:06+00:00",
        "closed_at": "2025-05-20T10:34:51+00:00",
        "additions": 1092,
        "deletions": 111,
        "changed_files": 14,
        "commits": [
            "b7564c4a47dc7a09d04b5d258543ccfd35e2f9ce",
            "fe617d79a7aee24f8d27ad9ddf19f1a687634ddf",
            "b5e310a0027578da1910db8861245a38aea94cf6",
            "8613e17a58718cb85a9e43dd46d4d485e7484f64",
            "a3ad1d2e9487a43815821fbd8e95cf17b36ab054",
            "705b11dd5886243fb0e91439013ad34023f07412",
            "b54ba57a554f7c4839dadf1505c06107c69e10a1",
            "6e0616b0ce64342de3e9658d17ee9663cd08df0d",
            "a87515879df1673fc297020ece0df966aaccc99c"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cszdrg",
            "Cutelemon6",
            "cszdrg"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 160,
        "title": "[P2T support No.5、11、71、74][BIT]cartesian_prod、geometric.send_uv、Tensor.fill_diagonal_tensor、vander、einsum",
        "body": "## 转换能力补齐\r\n\r\n本次共补充了 `paddle.cartesian_prod`、`paddle.geometric.send_uv`、`paddle.Tensor.fill_diagonal_tensor`、`paddle.vander` 和 `paddle.einsum` 五个 API 的 paddle2torch 转换能力。具体情况如下：\r\n\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:-----|:---------------|\r\n| paddle.cartesian_prod | torch.cartesian_prod | 输入参数类型不一致 | 撰写 mapping 配置 | PyTorch 参数 `tensors` 为可变参，Paddle 参数 `x` 为 list(Tensor) 或 tuple(Tensor) 的形式，需将 Paddle 的 list 类型参数 `x` 解包成单独的参数，传递给 `torch.cartesian_prod` 函数 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.cartesian_prod.html) |\r\n| paddle.einsum | torch.einsum | 输入参数类型不一致 | 撰写mapping的同时，编写 rule：`EinsumRule` | 1. Paddle 中 `einsum` 函数接受 `equation` 作为关键字参数和 `operands` 作为操作数列表，而 PyTorch 中 `einsum` 函数接受方程式作为第一个位置参数，然后是操作数。<br>2. Paddle 允许输出下标重复（如 `i->ii` 或 `i,j->ii`），但 PyTorch 不允许输出下标重复，需在 Rule 中对下标重复的情况做转化 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.einsum.html) |\r\n| paddle.geometric.send_uv | 无对应 API | 无直接对应 API | 编写 rule：`SendUvRule` | 实现其功能：将源节点特征 `x` 与目标节点特征 `y` 结合，通过 `src_index` 和 `dst_index` 指定的索引获取对应的节点特征，然后根据指定的 `message_op`（ `add`、`sub`、`mul`、`div`）计算边特征作为结果 | - |\r\n| paddle.Tensor.fill_diagonal_tensor | 无对应 API | 无直接对应 API | 编写 rule：`FillDiagonalTensorRule` | 借助 `torch.diagonal_scatter`，将输入张量 `y` 填充到张量 `x` 的指定对角线位置上 | - |\r\n| paddle.vander | torch.vander | torch.vander 本身存在问题，不适用于当前引擎 | 编写 rule：`VanderRule` | 使用向量化操作计算 Vandermonde 矩阵 | - |\r\n\r\n## 测试结果\r\n\r\n提取后共 21062 条配置，其中存在 13 条重复配置\r\n![30C3BB449808F8879AB22A799F3388A5](https://github.com/user-attachments/assets/312ac26e-3866-4119-b20e-1f86aac12268)\r\n剩余 21049 条配置存在以下情况：\r\n\r\n- **paddle.cartesian_prod**：\r\n  - 存在 9 条 paddle only error 的配置，相关问题已在 [PR#42](https://github.com/PFCCLab/PaddleAPITest/pull/42) 记录，并且所有出错的日志已在 `fresh_report/paddleonly/error_log` 中记录，本次重新将出错配置移入 `api_config_paddleonly_error.txt`，并在 `fresh_report/paddleonly/error_config.txt` 中记录。\r\n\r\n- **paddle.einsum**：\r\n  - 其中 1 条配置为 amp 类型，通过后放入 `api_config_support2torch_amp.txt`：\r\n    ```\r\n    paddle.einsum(\"i,j->ij\", Tensor([93],\"float32\"), Tensor([16],\"float16\"))\r\n    ```\r\n  - 另 4 条配置在方向梯度传播中存在误差，但正向传播没有问题，相关配置及日志已放入 `fresh_report/accuracy`、`api_config_accuracy_error_5.txt` 中。\r\n\r\n- **paddle.Tensor.fill_diagonal_tensor**：\r\n  - 共 44 条配置，其中 22 条为 int 类型的 Tensor，另外 22 条为对应的同种 shape 的 float 类型 Tensor。int 类型均能通过，而 float 类型的 `y` 参数无法进行反向梯度传播，出现了 accuracy error，相关配置及日志已放入 `fresh_report/accuracy`、`api_config_accuracy_error_5.txt` 中。\r\n![image](https://github.com/user-attachments/assets/04800668-35d9-4f62-8096-50eb1cca3376)\r\n去除上述配置后，剩余 21013 条配置通过测试，移入 `api_config_support2torch_5.txt` 中。\r\n<img width=\"961\" alt=\"截屏2025-05-20 17 42 25\" src=\"https://github.com/user-attachments/assets/57d8e48c-696c-4c5b-93b7-6d51ccd7fca7\" />\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643\r\n\r\n## 复测问题解决\r\n将` base.py` 文件中` int_too_big_fail_api` 列表里的`paddle.Tensor.cumprod`、`paddle.Tensor.pow`、`paddle.Tensor.prod`信息删除，使其测试时不再跳过，三个API共29240条配置测试后均无问题。\r\n<img width=\"960\" alt=\"截屏2025-05-20 11 29 00\" src=\"https://github.com/user-attachments/assets/cf924eb0-ecbf-4105-aea2-a824e565acdb\" />\r\n",
        "issue_number": "160",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-19T12:49:19+00:00",
        "closed_at": "2025-05-20T10:36:07+00:00",
        "additions": 21326,
        "deletions": 21080,
        "changed_files": 19,
        "commits": [
            "d526f9dfc661227d9578a55e92b3da593e3a3752",
            "a62a76ce5bf90e5e43a0406bc2e5376e388f40e6",
            "81bc31222f74eb34a8891ff15dd61c083cecf3ae",
            "c5923e56ab31cbdcc67bed2abfbff7dd50507369",
            "e376779346514b461a8ba9e3f7cf2d9bdbef9fd9",
            "1803cc5efd578de06395de2d1e1b9d49653c1b89",
            "50e146a04dbdf1082b5c7b246b6d689143badcf8",
            "dad33acfcfe8926f6e27329e9018f89237c6ca2c",
            "e2f3076a5f50e58eac3ec7549a34694d05e95f70",
            "12e4cefd42ce8977f037c5f95ea1b44fbdf181ac",
            "a039848ebca2bd2ce95b7b7e000fd959250e25f7"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "yuwu46",
            "cangtianhuang",
            "yuwu46",
            "yuwu46"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 168,
        "title": "[BIT] 修复复测问题 expand tensor.expand nonzero mm paddle.nn.functional.grid_sample expand_as",
        "body": "\r\nexpand 和 tensor.expand 是同样的问题，是当输出shape为空列表的时候，paddle支持将把输入原封不动的输出，而torch会报错\r\n\r\nnonzero是对应的api不对，之前找的是torch.anywhere，但torch.nonzero才能完全对应上\r\n\r\nmm是torch处理float16存在问题\r\n\r\npaddle.nn.functional.grid_sample 和 expand_as 是最开始引擎补齐任务的时候，直接把paddle的输入从float16改为了32，现在将他们删除，并重新测试了配置:\r\n\r\npaddle.nn.functional.grid_sample 出现2条paddle报错，已放入fresh report（不支持float16）：\r\n\r\n[paddle error] paddle.nn.functional.grid_sample(Tensor([4, 128, 128, 128],\"float16\"), Tensor([4, 128, 128, 2],\"float16\"), ) \r\n (NotFound) The kernel with key (GPU, Undefined(AnyLayout), float16) of kernel `grid_sample` is not registered and fail to fallback to CPU one. Selected wrong DataType `float16`. Paddle support following DataTypes: float64, float32.\r\n  [Hint: Expected kernel_iter != iter->second.end(), but received kernel_iter == iter->second.end().] (at /paddle/paddle/phi/core/kernel_factory.cc:380)\r\n\r\n\r\n",
        "issue_number": "168",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-21T06:46:23+00:00",
        "closed_at": "2025-05-21T07:56:13+00:00",
        "additions": 234,
        "deletions": 245,
        "changed_files": 10,
        "commits": [
            "65c3a7d3d8ca73d845f267bff119d6f8d9962ec3",
            "d4266e42f5e28a443abb2f8f645d200643c38961",
            "4db6ca038ace759ea0767d9800778cb23e716f28",
            "c0305eb1e463d8cb7904f0ddcb4d0502ef3c6d15",
            "f50cd2b86e729cfd64c3696c3f3c208feb153f62",
            "b98f850dc782b340dc63d9e1c68ef498e4a9cc64",
            "de272ed5a4c06fd50681d22a50a6daabbb88cd2c",
            "e2be8429340d480cad932475b564e7c969e8d2b2"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 166,
        "title": "【BIT】修改rendme",
        "body": "# PaddleAPITest\r\n******\r\n## 1. 项目背景\r\nAPI正确性是Paddle质量的基石，影响业务训练、推理，影响用户对Paddle的信赖。至关重要。为保障Paddle API正确性，我们开发了PaddleAPITest。\r\n\r\n目前主要考虑的正确性问题有**3**类：\r\n>1）API**精度**正确性；\r\n>\r\n>2）一些**特大**Tensor，尤其是numel超过int32上限的Tensor计算异常；\r\n>\r\n>3）**0-Size**（numel为0的Tensor） Tensor不支持。\r\n\r\nPaddleAPITest主要工作思路如下：\r\n1. 在Paddle开发Trace API机制，具体见 https://github.com/PaddlePaddle/Paddle/pull/70752 ，用于抓取API调用配置，下面是一个配置例子：\r\n```\r\npaddle.concat(tuple(Tensor([31376, 768],\"float32\"),Tensor([1, 768],\"float32\"),), axis=0, )\r\n```\r\n2. 在所有Paddle单元测试（CI）、集成测试（CE）流水线中，抓取所有Paddle API的调用配置，形成了PaddleAPITest/tester/api_config下以“api_config_CI”，“api_config_CE”开头的配置集。对以上配置集进行去重、排序、梳理得到了以“api_config_merged”开头的配置集。\r\n\r\n3. 在 PaddleAPITest 中开发一套**引擎**，加载配置集，初始化相应Tensor，调用相应API执行前/反向测试。\r\n\r\n4. 在 PaddleAPITest 中开发一套**转换工具**，在调用Paddle API测试的同时，等同的调用Torch API，做精度对比测试。\r\n\r\n5. 对采集到的配置集进行shape篡改，得到了“bigtensor”、“0sizetensor”开头的配置集。\r\n\r\n6. 通过与Torch对比，如果出现以下情况则认为Paddle API有必要确认是否正确并修复：\r\n>a. 精度diff\r\n>\r\n>b. Torch正常，Paddle报错\r\n>\r\n>c. Torch正常，Paddle **CoreDump**或**CUDA Error**\r\n\r\n\r\n## 2. 项目结构\r\n\r\n目前项目结构如下所示，主要分为report和tester文件夹，report用于储存内核报错的api信息，tester用于测试配置的正确性。\r\n\r\n- 在引擎补齐这一任务中，出现的内核报错均放置于report/fresh_report/paddle_only中。\r\n\r\n- 在精度转换这一任务中，出现的精度报错均放置于report/fresh_report/accuracy中。\r\n\r\n对于paddle only的测试，tester/api_config中存放测试通过（merged*）/暂未通过（merged_not_support*）的配置。\r\n\r\n对于paddle2torch的测试，tester/api_config中存放：\r\n\r\n- 测试通过（api_config_support2torch*）\r\n\r\n- 存在精度问题的配置（api_config_accuracy_error*）\r\n\r\n- 存在随机性的配置（api_config_stochastic*）\r\n\r\n- paddle报错的配置（api_config_paddle_only_error*）\r\n\r\ntester/api_config/config_analyzer.py是引擎补齐任务的核心代码。\r\n\r\ntester/paddle2torch/是转换能力的核心代码。\r\n\r\n```\r\n├── tester\r\n│   ├── accuracy.py\r\n│   ├── api_config\r\n│   ├── base.py\r\n│   ├── paddle_cinn_vs_dygraph.py\r\n│   ├── paddle_only.py\r\n│   └── paddle_to_torch\r\n├── test_pipline\r\n├── tools\r\n├── engine.py\r\n├── engineV2.py\r\n├── engineV3.py\r\n├── report\r\n└── run.sh\r\n```\r\n\r\ntools文件夹中存放了一些实用的工具，例如move_config可以用来批量的移动配置，详见[move_config-README.md](./tools/move_config-README.md)。\r\n\r\n## 3. 使用介绍\r\n\r\n### 环境配置\r\n运行环境分为**cpu**环境与**gpu**环境，cpu和gpu上运行的结果**可能存在差异**，即存在cpu上能够正确运行，但gpu上报错的情况。因此需要根据需求正确安装环境。\r\n\r\n下载链接：https://www.paddlepaddle.org.cn/install/quick?docurl=/documentation/docs/zh/develop/install/pip/windows-pip.html\r\n\r\n若需要本地编译paddle，可参考链接：https://www.paddlepaddle.org.cn/documentation/docs/zh/install/compile/linux-compile-by-make.html\r\n\r\n测试CPU除了通过上述链接安装CPU的最新develop包之外，还可使用如下指令设置Paddle工作在CPU模式：\r\n```\r\npaddle.device.set_device(\"cpu\")\r\n```\r\n\r\n### 使用说明\r\n\r\n#### A. engine v1\r\n\r\n所有测试前，**必须创建**一个目录：PaddleAPITest/tester/api_config/test_log/，用于存放测试所产生的测试结果和checkpoint。\r\n\r\nPaddleAPITest目前支持paddle_only、accuracy、paddle_cinn三种测试：\r\n>paddle_only，用于单纯把配置在Paddle动态图跑一遍，验证PaddleAPITest 引擎**是否支持**该配置。\r\n>\r\n>accuracy，用于将Paddle API的前反向与**Torch**的前反向做精度对比测试。\r\n>\r\n>paddle_cinn，用于Paddle动态图与Paddle静态图编译器做精度对比测试。\r\n\r\n当测试**单个配置**时，可使用下面的代码，--api_config中输入待测试的配置内容：\r\n\r\n仅测试paddle**是否支持**：\r\n```\r\npython engine.py --paddle_only=True --api_config='paddle.abs(Tensor([1, 100],\"float64\"), )'\r\n```\r\n测试输出**是否准确**：\r\n```\r\npython engine.py --accuracy=True --api_config='paddle.abs(Tensor([1, 100],\"float64\"), )'\r\n```\r\n动态图和静态图测试：\r\n```\r\npython engine.py --paddle_cinn=True --api_config='paddle.abs(Tensor([1, 100],\"float64\"), )'\r\n```\r\n\r\n**值得注意**的是配置txt中统一使用双引号\"，因此建议--api_config=''使用单引号，或在配置中手动添加转义斜杠\\\r\n\r\n当需要测试的配置数目较多时，手动单次输入将**非常低效**，这种情况下可以使用如下所示的**批量测试**指令，将配置保存在一个txt中，并将指令中的路径设置为txt的路径即可：\r\n```\r\npython engine.py --api_config_file=/host_home/wanghuan29/PaddleAPITest/tester/api_config/api_config.txt --accuracy=True > tester/api_config/test_log/log.log 2>&1\r\n\r\npython engine.py --api_config_file=/host_home/wanghuan29/PaddleAPITest/tester/api_config/api_config.txt --paddle_only=True > tester/api_config/test_log/log.log 2>&1\r\n\r\npython engine.py --api_config_file=/host_home/wanghuan29/PaddleAPITest/tester/api_config/api_config.txt --paddle_cinn=True > tester/api_config/test_log/log.log 2>&1\r\n```\r\n\r\n当测试配置中有**精度不统一**的情况，需要精度转换时，直接运行测试可能会报错，可加入--test_amp=True\r\n\r\n\r\n#### B. engine v2\r\n\r\n`engineV2.py` 是为 PaddleAPITest 项目设计的高性能测试框架，支持多 GPU 并行执行，具备负载均衡、超时处理和崩溃恢复能力。相比原始的 `engine.py` 实现，它能显著提升 Paddle API 配置测试效率，加速比约为 5-10 倍。\r\n\r\n功能特性:\r\n\r\n- **多 GPU 并行**：拥有灵活的 *gpus 相关参数*，可配置多 GPU 并行测试，支持任务跨 GPU 动态分发\r\n- **进程级并行**：基于 Pebble 库的 ProcessPool 进程池实现，支持进程的高效并行，每张 GPU 可拥有多个 worker\r\n- **动态负载均衡**：新的子进程自动分配至负载最轻 GPU，计算资源最优利用\r\n- **超时/崩溃恢复**：由张量大小推断执行时限（梯度阈值），主动杀死 coredump 进程，自动检测并重启死亡进程\r\n\r\n以精度测试为例，配置文件路径为 `tester/api_config/api_config_temp.txt`，输出日志路径为 `tester/api_config/test_log`：\r\n\r\n**多进程多 GPU 模式**：\r\n```bash\r\npython engineV2.py --accuracy=True --api_config_file=\"tester/api_config/api_config_temp.txt\" --num_gpus=8 --num_workers_per_gpu=1 >> \"tester/api_config/test_log/log.log\" 2>&1\r\n```\r\n\r\n**单进程多 GPU 模式**：\r\n```bash\r\npython engineV2.py --accuracy=True --api_config_file=\"tester/api_config/api_config_temp.txt\" --num_gpus=0 >> \"tester/api_config/test_log/log.log\" 2>&1\r\n```\r\n\r\n**单进程单 GPU 模式**：\r\n```bash\r\nexport CUDA_VISIBLE_DEVICES=\"\"\r\npython engineV2.py --accuracy=True --api_config_file=\"tester/api_config/api_config_temp.txt\" --num_gpus=0 >> \"tester/api_config/test_log/log.log\" 2>&1\r\n```\r\n\r\n**使用 run.sh 脚本**：\r\n```bash\r\n# chmod +x run.sh\r\n./run.sh\r\n```\r\n该脚本使用参数：NUM_GPUS=-1, NUM_WORKERS_PER_GPU=-1，在后台运行程序，可在修改 `run.sh` 参数后使用\r\n\r\n其说明文档详见 [engineV2.md](./engineV2.md)\r\n\r\n\r\n## 4. paddle2torch转换\r\n\r\nPaddle2Torch 是一个专注于将 PaddlePaddle API 转换为 PyTorch 对应实现的知识工具库，属于 [PaddleAPITest](https://github.com/PFCCLab/PaddleAPITest) 项目的核心组成模块。本模块通过解析 PaddlePaddle API 调用，使用预定义的转换规则与动态代码生成，实现从 PaddlePaddle 到 PyTorch 的自动转换。转换过程将确保代码的语义一致性。\r\n\r\n本模块具有精简强悍的架构，仅由三个组件构成：\r\n- *转换引擎 converter.py*\r\n- *转换配置 mapping.json*\r\n- *转换规则 rules.py*\r\n\r\n代码已完全进行解耦，可以非常容易地迁移至其他代码中。本模块通过 **转换配置** 与 **转换规则** 管理 API 映射关系，因此支持开发者灵活扩展新的 API 转换能力。\r\n\r\n本模块的典型应用场景包括：模型迁移、跨框架验证、混合编程等，可为深度学习开发者提供跨框架的互操作性解决方案。\r\n\r\n现在转换工具已基本完成对PaddleAPI的转换。\r\n\r\n其说明文档详见 [paddle2torch.md](./tester/paddle_to_torch/paddle2torch.md)",
        "issue_number": "166",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-21T04:26:18+00:00",
        "closed_at": "2025-05-21T07:51:17+00:00",
        "additions": 104,
        "deletions": 22,
        "changed_files": 2,
        "commits": [
            "cd170d5f93abba5cff0a38a0924077921c3f9e04",
            "16e11e5542f3aaa34f41348242d2eb259e54a15d",
            "c544fa4df5df0b8e8131ee32c565f935bda6893d",
            "ef4ba7d9639702ba91ea1d04ac36aef0485cd4d5"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "mzj104",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 165,
        "title": "[P2T support No.1、83] [BIT] assign, logspace",
        "body": "## paddle.assign\r\n\r\n修复时，引擎进行 accuracy 任务时抛出如下错误：\r\n```python\r\n2025-05-20 08:55:16.413316 test begin: paddle.assign(x=tuple(tuple(3.1,2.1,2.2,),tuple(-1.0,-2.0,-2.2,),), )\r\n[torch error] paddle.assign(x=tuple(tuple(3.1,2.1,2.2,),tuple(-1.0,-2.0,-2.2,),), )\r\nTraceback (most recent call last):\r\n  File \"/root/PaddleAPITest/tester/accuracy.py\", line 57, in test\r\n    if not self.gen_torch_input():\r\n  File \"/root/PaddleAPITest/tester/base.py\", line 779, in gen_torch_input\r\n    if self.need_check_grad():\r\n  File \"/root/PaddleAPITest/tester/base.py\", line 172, in need_check_grad\r\n    if not self.is_forward_only() and not (self.api_config.api_name == \"paddle.assign\" and len(self.paddle_args) and isinstance(self.paddle_args[0], list)) and not (self.api_config.api_name == \"paddle.assign\" and len(self.paddle_args) > 1 and self.paddle_args[1] is not None):\r\nAttributeError: 'APITestAccuracy' object has no attribute 'paddle_args'\r\n```\r\n\r\n显示在 gen_torch_input() 时调用 need_check_grad() 提示没有 paddle_args 成员。paddle_args 是在 gen_paddle_input() 后 APITestAccuracy 才会产生的成员，而 accuracy.py 在使用 gen_torch_input() 时未调用过 gen_paddle_input()，解决办法是在 need_check_grad() 中将 self.paddle_args 的部分改为 self.paddle_args_config，不影响原有的逻辑：\r\n```python\r\nif not self.is_forward_only() and \\\r\n  not (\r\n    self.api_config.api_name == \"paddle.assign\" and len(self.paddle_args_config) and \\\r\n    isinstance(self.paddle_args_config[0], list)\r\n  ) and \\\r\n  not (\r\n    self.api_config.api_name == \"paddle.assign\" and len(self.paddle_args_config) > 1 and \\\r\n    self.paddle_args_config[1] is not None\r\n  ):\r\n```\r\n\r\n如果使用 [映射表](https://www.paddlepaddle.org.cn/documentation/docs/zh/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.copy_.html) 的 torch.Tensor.copy_ 会有如下问题：\r\n\r\n```python\r\npaddle.assign(0.5214225, Tensor([],\"float32\"), )\r\n[torch error] paddle.assign(0.5214225, Tensor([],\"float32\"), )\r\nTraceback (most recent call last):\r\n  File \"/root/PaddleAPITest/tester/accuracy.py\", line 84, in test\r\n    exec(code.core_compiled, exec_globals, exec_locals)\r\n  File \"<string>\", line 1, in <module>\r\n  File \"/usr/local/lib/python3.9/dist-packages/torch/utils/_device.py\", line 104, in __torch_function__\r\n    return func(*args, **kwargs)\r\nRuntimeError: a leaf Variable that requires grad is being used in an in-place operation.\r\n\r\n[Passed] paddle.assign(list[100,], )\r\n\r\nline1: result = output.copy_(x)\r\n```\r\n\r\n但事实上有直接的 torch api: [torch.clone](https://docs.pytorch.org/docs/stable/generated/torch.clone.html#torch-clone) 直接使用该 api 即可，对于配置是 list(tensor) 的情况，需要使用 torch.stack 把 list 堆叠到 tensor 的首个维度上，递归实现：\r\n\r\n```python\r\ndef convert_list2tensor(tlist):\r\n    # stack tensors and List[scalars] on dim 0 for nested list\r\n    if isinstance(tlist, list):\r\n        return torch.stack([convert_list2tensor(t) for t in tlist])\r\n    else:\r\n        return torch.tensor(tlist)\r\n```\r\n\r\n使用递归程序可处理任意深度的嵌套 list，但是引擎不支持使用递归程序，因此采用循环方法来模拟，该方法目前实现了可处理嵌套深度不大于 3 的 list，对于目前和未来不是特别复杂的配置已经够用，后续可考虑优化 exec 环境以支持递归程序调用。\r\n\r\n所有配置均通过并移入 support2torch_6.txt。\r\n\r\n\r\n\r\n## paddle.logspace\r\n\r\n根据 [映射表](https://www.paddlepaddle.org.cn/documentation/docs/zh/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.logspace.html) 有直接映射 api: torch.logspace，需要针对输入配置进行细节的转换，具体如下：\r\n\r\n```python\r\n\"start\": \"start.reshape([]) if isinstance(start, torch.Tensor) else start\",\r\n\"end\": \"stop.reshape([]) if isinstance(stop, torch.Tensor) else stop\",\r\n\"steps\": \"int(num.item()) if isinstance(num, torch.Tensor) else int(num)\", \r\n\"base\": \"float(base.item()) if isinstance(base, torch.Tensor) else float(base)\"\r\n```\r\n\r\n对于 start 和 end，torch 仅支持 0-d tensor，对于 shape == [1, ] 的需要转换到 0-d tensor；对于 steps 需要保证输入为单个 int，base 为单个 float，对于 shape == [] 或者 [1, ] 的 tensor 需要转换到标量。\r\n\r\n配置全部通过，移入 support2torch_6.txt。\r\n\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72643",
        "issue_number": "165",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-20T14:35:59+00:00",
        "closed_at": "2025-05-21T06:32:55+00:00",
        "additions": 365,
        "deletions": 324,
        "changed_files": 11,
        "commits": [
            "eab6c53b2986b1599dd30354025134281263192e",
            "716a6dafcd4a259cda697abf67a01c6db0ad179f",
            "de6fa298b9986db34d767f859d6be5dad54a3f9e",
            "1357a8e234b42be2c462f1c499e034927f9eae74",
            "70261c658a6b1e61e8b9138ce8efc09b2518deb4",
            "2d44ac46b4f3ca5186f80247eb37064fb9b88127"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 169,
        "title": "[BIT] zeros distribute_fpn_proposals deform_conv2d pow",
        "body": "- zeros\r\n由于后面同学修改了dtype的获取逻辑导致原有逻辑失效，修改为使用现有同学逻辑\r\n- distribute_fpn_proposals\r\n需要导入math包\r\n- deform_conv2d\r\n需要导入torchvision包 梯度回传有误 放入report\r\n- pow\r\n删除base中skip\r\n- cosine_embedding_loss\r\n维度有问题 需升维\r\n- adaptive_log_softmax_with_loss\r\n对标量需要进行升维处理\r\n- gather\r\n对dim为tensor时做特殊处理 增加空的tensor的返回",
        "issue_number": "169",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-21T08:53:04+00:00",
        "closed_at": "2025-05-22T07:34:31+00:00",
        "additions": 172,
        "deletions": 27,
        "changed_files": 6,
        "commits": [
            "ffca74a16eed1619c1fba9912dfe309232058491",
            "e0b9e70077ccb2b61937cbe7368644afe1b276af",
            "bc61b12e620b7be4b20354793686bff165eec45e",
            "0f3ecc9ee43f25f45473885c3c2e75fc3091a572",
            "c173db27a969e7acdf2a2f127bff8a8e316b3a5c",
            "0e0e3d1173375deeb263a6a16bd81e1e75513163",
            "e3daf6df698082cabdc401643e9eea6c7dbd6a0c",
            "f663da0791a315c5a970e8ffd80522026c1c0850",
            "51a4d2d4eef39807e1a7d455d48e8386f7c9bccc",
            "56642d979d6ec0a076e03398a887d5640d714c16"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 171,
        "title": "[BIT] Add 0size_tensor_gpu/ci_ce_gpu/ci_ce_cpu 20250520 report (using engineV2), update engineV2",
        "body": "## 修改内容\r\n\r\n1. 新增 `--log_dir` 参数，现在可以指定输出至不同的目录中！同一个项目内可通过修改 run.sh 拉起多个测试！\r\n2. 优化主进程log打印信息，不再输出详细测试结果\r\n3. 修复 log writer 的重定向方法，使其支持获取底层C的报错信息（如内核崩溃）\r\n4. 新增 tools/error_stat.py 小工具\r\n\r\n## 测试内容\r\n\r\n1. 使用 engineV2 测试 report/0size_tensor_gpu/20250421/accuracy、report/0size_tensor_gpu/20250421/paddle_only、report/ci_ce_gpu、report/ci_ce_cpu 的 error_config：\r\n    1. 0size_tensor_gpu/accuracy 共 3168 条配置，双卡 52 个工作进程，共 5.77 分钟，平均速度 549 条/min;\r\n    5. 0size_tensor_gpu/paddleonly 共 7256 条配置，双卡 52 个工作进程，共 50.03 分钟，平均速度 145 条/min;\r\n    6. ci_ce_gpu  共 2790 条配置，单卡 19 个工作进程，共 5.86 分钟，平均速度 476 条/min;\r\n    7. ci_ce_cpu 共 3811 条配置，双卡 30 个工作进程，共 7.10 分钟，平均速度 536 条/min;\r\n2. 使用 tools/error_stat.py 一键整理错误信息，记录至 report/0size_tensor_gpu/20250520/accuracy、report/0size_tensor_gpu/20250520/paddleonly、report/ci_ce_gpu/20250520、report/ci_ce_cpu/20250520\r\n\r\n## 比较结果\r\n\r\n将 report/0size_tensor_gpu/20250520/accuracy 与 report/0size_tensor_gpu/20250421/accuracy 进行比较，表现基本一致、效果更好（去重有序），如下（左为 0520 engineV2 report）：\r\n![image](https://github.com/user-attachments/assets/bb87e5dd-8016-4ec0-b276-ecf02d0805c4)\r\n![image](https://github.com/user-attachments/assets/69bc27dd-376a-43d2-b83c-6053eaf497bb)\r\n![image](https://github.com/user-attachments/assets/b05ae166-c4de-4194-a2ce-0906a41fb713)\r\n\r\n最终 api 仅有 0421 更多，认为是已经被修复：\r\n![image](https://github.com/user-attachments/assets/a0f80f83-8590-423a-b1fb-7e0551fa91cc)\r\n",
        "issue_number": "171",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-21T12:15:29+00:00",
        "closed_at": "2025-05-22T09:14:34+00:00",
        "additions": 145079,
        "deletions": 48,
        "changed_files": 18,
        "commits": [
            "7fbc14018d05199d81806e7979902a9113bcce6f",
            "15a7f7645980b83b204dc5b5c1e5dac81c09b164",
            "994a31502d3d5164305e3c14b6108ef7415b7427",
            "5c9898d31c46b290157fe917cfd34b9ef621d37e",
            "5f35f651efd62d41829c8ed2534b5e1985ec7764",
            "54ae42a187c126981b771ae7b6b0a41ebd576c1b",
            "4df4f0f1beddf652fc826f4a2c82a023a027b692",
            "d33c8f508a4612ac6e2cdde34a43c2136da74f6f",
            "91298325fe6e8857918c8338c74c0ea5b60adb52",
            "ac426f0964e8710377bf8ce913c22e4019d189b9",
            "3be301005107c7af0fb2e01acc945fabc5b5484f",
            "d917f60018c80d8c8aa9c955ca45723b91102b3a",
            "f805a6fd993829ffd453a8e0a79bf89df1f71636"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 170,
        "title": "[BIT] Update engineV2: redirect output",
        "body": "## 修改内容\r\n\r\n通过巧妙的 Tee 方法，engineV2 现支持 stdout 和 stderr 的重定向了！！\r\n\r\n支持 **终端实时显示 print 输出**，各个子进程的输出也将有序 **写入临时 log 文件**，最终依次聚合，避免日志乱序、难以提取！\r\n\r\n最终生成有序的 log_inorder.log 文件。日志的高效提取排序可使用：tools/log_digester_lite.py",
        "issue_number": "170",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-21T10:10:38+00:00",
        "closed_at": "2025-05-21T11:19:46+00:00",
        "additions": 75,
        "deletions": 7,
        "changed_files": 4,
        "commits": [
            "4b92c87d284b5b942aa6a87f7ff14ea8af2cc89f",
            "e0f93ec459a64b9fba5d53beff4232e244b90f55",
            "21e65223a552cab008aa38f3ab52ae73636e8a26",
            "19c46a03815e9bd6e61ed2d1c26d1c68865ac588",
            "e6d649ba197e953cbd4809e0d52bf7567cbc533b"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "Cutelemon6",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 172,
        "title": "add 20250519 paddle_only report",
        "body": null,
        "issue_number": "172",
        "state": "closed",
        "merged": true,
        "user": "Zeref996",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-22T06:25:55+00:00",
        "closed_at": "2025-05-22T07:32:56+00:00",
        "additions": 72997,
        "deletions": 0,
        "changed_files": 3,
        "commits": [
            "6c0000014a26668b214e47365a526b3747890b9b"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 173,
        "title": "fix 20250519 paddle_only report",
        "body": null,
        "issue_number": "173",
        "state": "closed",
        "merged": true,
        "user": "Zeref996",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-22T08:02:59+00:00",
        "closed_at": "2025-05-22T08:29:57+00:00",
        "additions": 4677,
        "deletions": 4563,
        "changed_files": 3,
        "commits": [
            "adb993ff5f6c5112dd4a60199d715df7b5e61ff1"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 174,
        "title": "[BIT] Update engineV2: fix `--log_dir` para, support paddle_only rand test",
        "body": "1. 修复 `--log_dir` 参数设置在读取 checkpoint 之后的问题\r\n2. need_skip 新增 paddle_only 参数，使得 random api 在 paddle_only 下不再跳过、正常测试\r\n3. 更新小工具",
        "issue_number": "174",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-22T14:14:11+00:00",
        "closed_at": "2025-05-23T04:15:05+00:00",
        "additions": 56,
        "deletions": 48,
        "changed_files": 6,
        "commits": [
            "cef9fc856a31a978674f3e58986cc765db812cee",
            "da54c2555a6e141a72ea6d661a9b07b74a1e6d08",
            "70ccc977e7b88d960a76e7f2d902d131736bcfb5",
            "f67cc4525770bff7c43303171de1d66b889e877c"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 178,
        "title": "add 20250523 accuracy report",
        "body": null,
        "issue_number": "178",
        "state": "closed",
        "merged": true,
        "user": "Zeref996",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-23T08:32:32+00:00",
        "closed_at": "2025-05-23T08:50:18+00:00",
        "additions": 30368,
        "deletions": 0,
        "changed_files": 3,
        "commits": [
            "092798c8ce7038fcabf5bd24fa814d7a020649cd"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 175,
        "title": "[BIT] move rand apis from 5_accuracy to 2_paddl_eonly_random",
        "body": "move api config:\r\nfused_bias_dropout_residual_layer_norm\r\nfused_feedforward\r\npaddle.bernoulli\r\n\r\nadd rand apis and move config:\r\npaddle.nn.functional.scaled_dot_product_attention\r\npaddle.incubate.nn.functional.fused_multi_head_attention",
        "issue_number": "175",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-23T03:18:13+00:00",
        "closed_at": "2025-05-23T03:22:02+00:00",
        "additions": 426,
        "deletions": 424,
        "changed_files": 7,
        "commits": [
            "041a38ec0a91f32dc2f49c6e20994c08a7dc893e",
            "02dfbfdf874b3f594ab3a6e0ae8d2da6cc645334",
            "b6b215dab31c2af7b7cee131fa96b8ff93915a5c",
            "f817b99a835d30126a3d6f9fff06afab377b10de",
            "7ac8a8a4801e96a91fc1da4cf9e7411a8cf001a4"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 181,
        "title": "[BIT] 引擎能力回测 torch error paddle error",
        "body": "## paddle error\r\n- paddle.nn.functional.adaptive_log_softmax_with_loss **paddle无法处理0size问题 放入accuracy**\r\n## paddle_to_torch\r\n- paddle.Tensor.slice **复用slice ruler pass**\r\n- 下面的几个api为放弃api 移入paddle only\r\n（a）paddle.vision.ops.box_coder\r\n（b）paddle.vision.ops.matrix_nms\r\n（c）paddle.vision.ops.prior_box\r\n（d）paddle.vision.ops.yolo_box\r\n（e）paddle.vision.ops.yolo_loss\r\n## torch error\r\n- paddle.Tensor.reshape **增加0size特判**\r\n- paddle.nn.functional.hsigmoid_loss **放弃实现 放入paddle only**\r\n- paddle.topk **存在精度问题 放入report**\r\n- paddle.zeros **无法处理uint8 增加处理**\r\n## skip\r\n- paddle.bernoulli **放入随机api**\r\n## 无复现错误 放入原有文件\r\n- paddle.geometric.send_ue_recv **放回accuracy**\r\n- paddle.nn.functional.instance_norm **放回accuracy**\r\n- paddle.nn.functional.label_smooth **放回accuracy**",
        "issue_number": "181",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-26T10:24:05+00:00",
        "closed_at": "2025-05-27T07:57:10+00:00",
        "additions": 4532,
        "deletions": 499,
        "changed_files": 11,
        "commits": [
            "130b7761edf3b67b844a32de3434f8705a89e40f",
            "c6b88125e127767aaf09c97b371fadb41821ca51",
            "37fb107c28cacbb9b49970a209b25ebb9d745a7a",
            "48fdacdc4d54aac37c60b3ecff49bc6673d95650",
            "db0313ae9e01539f92407d9cc79effed3a2368f4",
            "8664530c21e8fb6a258e3b2384a51d3738d6ff9d",
            "7ca28c3d1148054485a149fd7828b96f3ccdadfb",
            "5a88425ed1e4db867a7f563550a432df0759b416",
            "92fa0ed4a48d590cbe44487511350811dcc1b84e",
            "0adc4f9fa4c5c8a7ce1df7025d914efa34fd7205",
            "091fc958011988192a82b509e15ded64448c972f",
            "1960fe80b4fa9a8f5e522c64af075b8c2d5fa27b",
            "5f92c749296ab6592ac960c3a252ee8caa045c3d",
            "8ff5ebe837bf2e33a5a0ab48b507ef6f2e0a06ea",
            "2e8ccf9aed0518ccd4d2ef2e7f664028a4ac452f",
            "e19a2c67dac51b48b000b7954f6d77cee19cac73",
            "18a2844de1e022093af67aaf53bdc0bb0cc1e388",
            "de73325b0d5aeca376c61fb89af65789af1ab8ce",
            "2bd92dda64aefd94c67140ba18e201d3ba74ad56",
            "2d180b1cc13f29ffae3fcd936579b70cd6251a2a"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 182,
        "title": "[BIT] 转换能力补齐：Tensor.[flip、outer、quantile、take_along_axis]、cumulative_trapezoid、dsplit、hsplit、logsumexp、nn.functional.unfold、vsplit",
        "body": "## 修复情况\r\n经回测后，新认领并修复了`cumulative_trapezoid`、`dsplit`、`hsplit`、`logsumexp`、`nn.functional.unfold`、`Tensor`.[`flip`、`outer`、`quantile`、`take_along_axis`]、`vsplit`共10个api的转换情况，具体情况如下：\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:-----|:---------------|\r\n| paddle.cumulative_trapezoid | torch.cumulative_trapezoid | torch需要根据情况传入不同的参数 | 撰写 mapping 配置，同时编写 rule：`CumulativeTrapezoidRule` | rule中需要根据情况传入不同的参数 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.cumulative_trapezoid.html) |\r\n| paddle.dsplit | torch.dsplit | torch 要根据参数类型选择不同的参数名  | 撰写 mapping 配置，同时编写 rule：`SsplitRule` | rule中 要根据参数类型选择不同的参数名 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.dsplit.html) |\r\n| paddle.hsplit | torch.hsplit | torch 要根据参数类型选择不同的参数名 | 撰写 mapping 配置，复用 rule：`SsplitRule` | rule中 要根据参数类型选择不同的参数名 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.hsplit.html) |\r\n| paddle.Tensor.flip | torch.Tensor.flip | torch 的 `dims` 参数只能为元组 | 撰写 mapping 配置 | torch 的 `dims` 参数只能为元组，在 mapping 中做转化 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.flip.html) |\r\n| paddle.Tensor.outer | torch.Tensor.outer | torch 要求参数必须是 1 维 tensor，而 paddle 可以输入多维 | 撰写 mapping 配置，同时编写 rule：`TensorOuterRule` | rule中需将 `x`、`y` 展为 1 维 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.outer.html) |\r\n| paddle.Tensor.quantile | torch.Tensor.quantile | torch 要求参数 `p` 必须是 tensor，而 paddle 可以输入元组、列表| 撰写 mapping 配置 | 在 mapping 中对参数`p`做转化 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.quantile.html) |\r\n| paddle.Tensor.take_along_axis | torch.Tensor.take_along_dim | torch 的 `indices` 参数只能为 Long | 撰写 mapping 配置 | 在 mapping 中对 `indices`做转化 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/Tensor/torch.Tensor.take_along_dim.html) |\r\n| paddle.logsumexp | torch.special.logsumexp |  torch 的 `dim` 参数不能是 None，而 paddle 的 `axis` 可以接受 None| 撰写 mapping 配置 | mapping中，当 `axis=None` 时，应该对所有维度求 logsumexp | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/others/torch.special.logsumexp.html) |\r\n| paddle.nn.functional.unfold | torch.nn.functional.unfold | torch 中 `padding` 参数不能为 4 | 撰写 mapping 配置 | 在 mapping 配置中，对 paddle 中 `padding` 长度为 4 时的情况做转化 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/others/torch.special.logsumexp.html) |\r\n| paddle.vsplit | torch.vsplit | torch 要根据参数类型选择不同的参数名 | 撰写 mapping 配置，复用 rule：`SsplitRule` | 在rule中根据参数类型选择不同的参数名 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.vsplit.html) |\r\n## 测试结果\r\n本次共从pending文件中移出80条配置，其中有14条无法支持的`sparse`api，移入`1_not_support/sparse.tx`。\r\n另外66条配置均通过测试，移入`accuracy_8.txt`中。\r\n![F2D6E1D825415DADDDF745BD51559896](https://github.com/user-attachments/assets/b674ae5f-a5b2-45eb-9a3f-721971bdf263)\r\n## 合并测试结果\r\n将原来已通过的配置和pending配置合并后，共155条，均能通过。\r\n![image](https://github.com/user-attachments/assets/e63f4da4-5bb7-44c3-b38b-e441479c28ad)\r\n",
        "issue_number": "182",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-26T14:19:50+00:00",
        "closed_at": "2025-05-27T02:51:00+00:00",
        "additions": 231,
        "deletions": 166,
        "changed_files": 5,
        "commits": [
            "6aacb5e3d4512c3208b9c772b10cc141f7749054",
            "91d32a8a3be5957762120b8b4fdc22d3f161484a",
            "ead6ba8fcc970d9995d1348d3cf9eafb921775b5",
            "7eceaa6b303d171d3a61766d0c65e6709bbe4c1a"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "yuwu46"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 176,
        "title": "[BIT] 引擎回测修复",
        "body": "- paddle.ones\r\n参数为float8_e4m3fn和float8_e5m2类型 无法计算 放入not support 中\r\n- paddle.matmul\r\n出现报错 是由于int无法计算梯度 放入not support中\r\n```\r\n[paddle error] paddle.matmul(Tensor([464, 64],\"int8\"), Tensor([22016, 64],\"int8\"), False, True, ) \r\n (NotFound) The kernel with key (GPU, Undefined(AnyLayout), int32) of kernel `matmul_grad` is not registered and fail to fallback to CPU one. Selected wrong DataType `int32`. Paddle support following DataTypes: float16, float32, complex128, bfloat16, float64, complex64.\r\n```\r\n\r\n- paddle.nn.functional.ctc_loss\r\nrule映射存在问题 进行修复\r\n\r\n- paddle.nn.functional.softmax_with_cross_entropy\r\n属于torch error的配置 不小心在accuracy中添加了一份 现已删除\r\n\r\n- paddle.slice\r\n当start>ends时 直接输出0",
        "issue_number": "176",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-23T03:47:52+00:00",
        "closed_at": "2025-05-26T10:16:09+00:00",
        "additions": 138,
        "deletions": 41,
        "changed_files": 11,
        "commits": [
            "26c9d346a39bd2e4ed40e636ab549e5dbe3fce32",
            "74ddb8e66809696a171f02dff3cceee92f30944d",
            "96131e1e9228fd00a0c6494f59c98e13a8006f92",
            "55b77cbc29b03638d0fac5765bacfbd945f70d55",
            "f573aec70c9fc33a08c42b9dcc28711a90723df7",
            "9a0ec16fd9e1677ffc7e2d19774233c44e0d1baf",
            "552e2d72b9215677a84724f14c611435ce72a232",
            "cb45d9ed79daa6cd3e82e06ecf964ee308d86e4c",
            "41c5e1119535448d09231df3524e35d09098426d",
            "34422bce5a77b3eec197bf23f2f588c3df6ada5b",
            "69eac4597a748a7f774a4c0b240c3da8e83c4b39"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 179,
        "title": "[BIT] Split configs, fix some error",
        "body": "将 5_accuracy、6_accuracy_amp 测试集进行回测、去重、划分，分为 approved_* 与 pending_* 集：\r\n- approved_* 为 *确认错误* 或 *确认正确* 的\r\n- pending_* 为 *需要修复* 的，暂不进入回测\r\n\r\n其他：\r\n- 修复engineV2显存释放、log writer临时日志删除、torch assert报错信息不完整、README参数不正确\r\n- 新增两个小工具",
        "issue_number": "179",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-24T02:32:04+00:00",
        "closed_at": "2025-05-26T06:05:48+00:00",
        "additions": 2503195,
        "deletions": 4,
        "changed_files": 20,
        "commits": [
            "d7facecaa56eabcb6b2791838b55269359bdb71c",
            "68c335ce4385faff221fc49556298ed39590a178",
            "d090fce6e1387ad1321c6377bea843f6eec4ee8e",
            "a03e2ff370ab3082077e5e0f4eb42d0ede6a421a",
            "09ba80eaaf19f4f229250a35f78bc8139582a541"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 183,
        "title": "[BIT] Add ci_ce_gpu 20250526 report",
        "body": "新增 report/ci_ce_gpu/20250526 报告\r\n将原有报告移至 report/ci_ce_gpu/20250319\r\n20250319 与 20250526 合并至 report/ci_ce_gpu ",
        "issue_number": "183",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-26T14:23:45+00:00",
        "closed_at": "2025-05-27T02:49:09+00:00",
        "additions": 1264127,
        "deletions": 44,
        "changed_files": 10,
        "commits": [
            "1259ce0ba4ed9a72b23c81ef51dc3884e238727d"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 177,
        "title": "[BIT] 引擎 accuracy 回测修复：fused_bias_dropout_residual_layer_norm fused_feedforward fused_layer_norm greater_equal",
        "body": "# 0523 回测前\r\n回测 amp api config\r\nfused_layer_norm\r\nfused_feedward\r\n\r\n# 0523 回测后\r\n### paddle.incubate.nn.functional.fused_bias_dropout_residual_layer_norm\r\n\r\nskip 配置为确定性配置，之前测试发现有 accuracy error，移入 accuracy_error_1.txt，在 base.py 中将该 api 注释。另有原来在 random_calculation.txt 的配置为确定性配置，有一个 amp 测试通过，移入 accuracy_amp_1.txt，其余三个配置测试通过，移入 accuracy_8.txt\r\n\r\n### paddle.incubate.nn.functional.fused_feedforward\r\n\r\n属于 rand apis，已合入的 PR [#175 move apis ...](https://github.com/PFCCLab/PaddleAPITest/pull/175) 部分修复，从 accuracy_error_1.txt 中移入 2_paddle_only/random_calulation.txt，移除了 fresh_report/accuracy 对应的 test log。另外原来在 random_calulation.txt 中有一部分是确定性配置，测试通过后移入 accuracy_8.txt。\r\n\r\n### paddle.incubate.nn.functional.fused_layer_norm\r\n\r\n报错指示需要 amp test，在本 PR [#177](https://github.com/PFCCLab/PaddleAPITest/pull/177) 0523 回测前均已测试并移入 accuracy_amp_error_1.txt，从 pending 中删除。\r\n\r\n### paddle.Tensor.greater_equal\r\n\r\n与 paddle.greater_equal 类似，写入 mapping.json 后测试通过，移入 accuracy_8.txt",
        "issue_number": "177",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-23T05:04:01+00:00",
        "closed_at": "2025-05-27T08:03:33+00:00",
        "additions": 159,
        "deletions": 151,
        "changed_files": 13,
        "commits": [
            "69dfa58b08667f6702e4a4f6c66bff65117fa193",
            "b46b69b514140cd54197edb84546550035f60200",
            "2da6f0b7d540da302c725c323cf106b507a32e00",
            "461bbad5a10d461bb1429cdb3e6c3adbf16d4de2",
            "effc4c16356206ed0274e447f31201fff1c009a7",
            "d8b3357c2aff694adef848452f3dbde4ae4c08e5",
            "02cef5fc34080ca8924a467dac409f1b5ab54abc",
            "55ef2d1b294fb4889496efea58cf1466758d6128",
            "d7132ed7814a4979dac9666d2a97823c7a663c65",
            "3c8e8595cfe8593a8398394685b104196d087011",
            "3b5ed2fae7b74f81b07d6ace6a437f2045340c66",
            "d9f9afd5c8c45279959b977e771ec643de6dfdc8",
            "286b0f188de65569eb1e9eb96194ce77962fa6dc",
            "a170fee5a5d7a44a4826a4d295fc06fe0f77e5af",
            "65ee0379fb0a14e545f3ddb13d680bd8efec5d30",
            "3941814c86e7bf38af8755e29e85d175d5f6332b"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 184,
        "title": "[BIT] Modify API set, remove tester/paddle_to_torch/deprecated",
        "body": "1. 将 not_check_dtype 列表移动至 base.py 中\r\n2. 优化 base.py 的列表为 frozenset，查询速度为 O(1)\r\n3. 移除 tester/paddle_to_torch/deprecated 文件夹下的所有弃用内容\r\n4. 优化 .gitignore",
        "issue_number": "184",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T02:45:40+00:00",
        "closed_at": "2025-05-27T06:16:13+00:00",
        "additions": 110,
        "deletions": 30209,
        "changed_files": 12,
        "commits": [
            "2deb2ccb3b02bb6142be47fe29f9f41071a0d0e5"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 187,
        "title": "Fix api_name",
        "body": null,
        "issue_number": "187",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T06:41:55+00:00",
        "closed_at": "2025-05-27T06:42:50+00:00",
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "68fc2e311b2d635451a6861854360731fa9f06e7"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 180,
        "title": "[BIT] Split configs, add not_check_dtype",
        "body": "1. 划分为 7 个测试集，每个 35 万条测试配置；修复好的配置移入 accuracy_8 \r\n2. 修复 engineV2 显存释放不完全的问题\r\n3. accuracy.py 新增 not_check_dtype 列表，torch_assert_accuracy 新增 is_check_dtype 参数\r\n4. accuracy.py 加强 OOM 报错拦截\r\n5. torch_assert_accuracy 在出现 “Comparing” 错误时使用 np_assert_accuracy 兜底",
        "issue_number": "180",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-26T08:18:51+00:00",
        "closed_at": "2025-05-26T10:51:29+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [
            "79a314a35d28e8f8f3b3a1a429a32d7258355dcb",
            "9cece887fbdc34308336ee44be800ea0bcfa8cfc",
            "fc9de0b33c5f2c34b188f2d9d0d41a3fe714e2ad",
            "aa145b66d2eb1a3c9065f3ccac212c1be9990e5b",
            "1d1da09594cbb027a208e7f1b63826d48e8081e5"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "wanghuancoder",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 185,
        "title": "[BIT] 回测问题修复：normal、Tensor.cumsum、Tensor.mean、Tensor.unsqueeze、dot",
        "body": "## 回测问题修复\r\n\r\n### 1. paddle.normal\r\n\r\npaddle_only 测试报错：\r\n`(Fatal) Null autograd_meta gotten from unsafe_autograd_meta() (at ../paddle/fluid/eager/utils.cc:95)` \r\n移入 report/fresh_report/paddleonly/error_config.txt 中并在 error_log 中记录\r\n\r\n### 2. paddle.Tensor.cumsum\r\n\r\ncumsum 仅修复了 paddle.cumsum，未修复相关的 paddle.Tensor.cumsum、paddle.Tensor.cumsum_ （后者没有测试配置），因此为这两个 API 注册了相同的 CumsumRule，并修改了 CumsumRule\r\n\r\ncumsum 相关配置全部通过 accuracy 测试\r\n\r\n### 3. paddle.Tensor.mean\r\n\r\nmean 仅修复了 paddle.mean，未修复相关的 paddle.Tensor.mean，因此为其注册了相同的 ReduceRule，并修改了 ReduceRule\r\n\r\npaddle.Tensor.mean 为 int32、int64 类型，且 axis 为 None 的情况下计算不正确，输出永远为 0，相关配置移入 accuracy_error 并在 fresh_report 中记录；其余配置全部通过 accuracy 测试\r\n\r\n### 4. paddle.Tensor.unsqueeze\r\n\r\nunsqueeze 仅修复了 paddle.unsqueeze，未修复相关的 paddle.Tensor.unsqueeze、paddle.Tensor.unsqueeze_（后者没有测试配置），因此为这两个 API 注册了相同的 UnsqueezeRule，并修改了 UnsqueezeRule\r\n\r\nunsqueeze 相关配置全部通过 accuracy 测试\r\n\r\n### 5. paddle.dot\r\n\r\npytorch 不能处理 2D Tensor，与 paddle 不一致，文档见：https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/dot_cn.html#dot 、 https://docs.pytorch.org/docs/stable/generated/torch.dot.html#torch-dot ，为其注册了 DotRule，使用 stack + dot 模拟 2D Tensor 的处理\r\n\r\ntorch 无法模拟 0size 情况下的 2D Tensor，移入 paddle_only 中；两条配置反向传播精度有误，移入 accuracy_error 并在 fresh_report 中记录；其余配置全部通过 accuracy 测试\r\n\r\n![image](https://github.com/user-attachments/assets/95ad5465-9b85-4aaa-9da2-b84258bc0e9c)\r\n",
        "issue_number": "185",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T03:22:10+00:00",
        "closed_at": "2025-05-28T03:09:25+00:00",
        "additions": 2539,
        "deletions": 2201,
        "changed_files": 13,
        "commits": [
            "2e3dc070ea15c4c70123bc8b7b3ed0e1057985d5",
            "7a6b70fb3d61249109c3cb26b6cb4841cd487a24",
            "53750bb9ed72632fbaa75080685abbe87c314028",
            "db151da8828a066d40e9e6168e7a47d91a26e53a",
            "b91b58bf50dfde98b7c93910c78ce4e55c309fd9",
            "26bf46f6b36f79692612d8e7c7422fb294568d84",
            "d268963d5bd84997a896a677360bd25556bd7ed4",
            "4b26e046c5568a80f01c9b2f19a524e0167591cb",
            "6ebe2d805433e2f8a40439a7a51b64f6fcc1f0be",
            "7fe7eb312ce580819fb6aded3a489b1f374c9ce8"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "yuwu46",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 186,
        "title": "[BIT] 任务2 回测问题修复：expand_as  argmin  diag   take  frexp   tensordot linalg.matrix_rank  nn.functional.hardtanh dot  floor",
        "body": "# 问题修复\r\n\r\n本次回测我之前修改的api中，有6个存在问题，主要是torch和paddle返回的数据类型不一致的问题, 并认领了4个任务2不存在的问题linalg.matrix_rank  nn.functional.hardtanh  dot floor\r\n## api修复\r\n\r\n### expand_as\r\n\r\n只有一个配置报错，是两个参数都是float16类型，而paddle不支持这种数据类型，故不需要修改，已report并加入not support\r\n\r\n### argmin\r\n\r\n存在2个问题：\r\n\r\n1. paddle会返回与输入相同的数据类型，在rule中加入后处理即可\r\n2. 发现之前任务1的相关部分存在问题，生成的索引存在范围问题\r\n\r\n### diag \r\n\r\n存在2个问题，均不需要修复：\r\n\r\n1. 一个配置出现paddle内核错误\r\n\r\n`paddle.diag(Tensor([2000],\"float32\"), offset=-1, )`\r\n\r\n2. 剩余配置均为反向传播问题，怀疑为paddle自身问题\r\n\r\n### frexp\r\n\r\n为数据类型不一致，且rule中无法修复，已加入not_check_dtype列表中\r\n\r\n### take\r\n\r\n这个api需要特定的初始化，故在config_anayzier中加入判断分支，限制索引的范围\r\n\r\n### tensordot\r\n\r\n这个api是反向传播的时候，向量维度和paddle不一致。根本问题在于，paddle会对axes中的向量计算梯度，而torch不会，所以在accuracy中加入特判，对这个api的梯度仅比较前两个维度。\r\n\r\n### linalg.matrix_rank\r\n\r\n共有2个问题\r\n\r\n1. 假如tol是none，则需要从键值对里面删去\r\n2. atol和rtol的数据类型应一致\r\n\r\n### nn.functional.hardtanh\r\n\r\n当min值大于max值的时候，torch应该把min设置为-inf\r\n\r\n\r\n### dot\r\n\r\nrule编写存在问题，会有找不到x变量的情况，解决方法是把原来list内含循环的代码改为普通代码\r\n\r\n### floor\r\n\r\n这是paddle和torch返回的数据类型的不同，添加至不用判断类型的list中",
        "issue_number": "186",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T05:07:36+00:00",
        "closed_at": "2025-05-28T07:58:35+00:00",
        "additions": 235,
        "deletions": 80,
        "changed_files": 16,
        "commits": [
            "6a187dc2b47a7ee9878c9fae786663058c8425da",
            "10af602945a11676b2bce5fe4b0e0811811b9c34",
            "77fcd6e88eb5042e6d221335b38e89c1e6b3992d",
            "fc7838c686619666433b58b6980b172a1c06c725",
            "48fc53eba49e5fae2ef8b657a6b0a503e349ef99",
            "73a22f0dd9a2d85d0e03919df689e107f1ecc4fb",
            "d6b7514875df4d171b91bc3e48b65061a35e9232",
            "485bac053f115f0cccfe73e44bcc44badc241d7c",
            "d5abdf02f4da667e7a793733a10657a3578c0fa2",
            "ec0499ced80bead0cdca1f12537785a1f14d19dc",
            "4077634d3b031f44794d0753fa9d79c1ecc7ae20",
            "b5a1f541de27cada90c33eaf967be89c056c629a",
            "9642519f6537f30cbc31a204d186e4aa54d1e778",
            "86575b929f9a706cc3553f728f2fa7b4bbaf09ba",
            "86bf560926c70fe2116087d4732378c13370acfc",
            "6985b4d1d6f57b01cc67223377ba32ae63fdf581",
            "8bc91eccb0f9ae94dab22c31076a126d0cd60a96",
            "627f032f062249c7d2413108e031b67d42cff1a2",
            "f7fff526d22e97a049fb03e939f415c3fcd5649d",
            "7cb0b1b6d3c994ffdc3bce2f20314bbcde022f9e",
            "69f292a495b2a0dc568544ea25f6fea520a16401",
            "4c4e682821e135bd211b6e372d6397b08740d9fb",
            "4045921cdac5a335c4b815337096eb0b125eaf04"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 188,
        "title": "[BIT] 回测问题修复：masked_fill、tensor_split、trace、transpose、relu、trapezoid",
        "body": "## 回测问题修复\r\n\r\n### 1. paddle.masked_fill\r\n\r\ntorch 的 value 参数不接受 1D Tensor，直接编写配置，将其展平为 0D Tensor\r\n\r\n相关配置全部通过 accuracy 测试\r\n\r\n### 2. paddle.tensor_split\r\n\r\ntorch api 有多个重载，indices_or_sections 参数进行关键字绑定时仅能为 indices 或 sections，因此编写配置，采用位置参数 torch_args 的方式传递\r\n\r\n相关配置全部通过 accuracy 测试\r\n\r\n### 3. paddle.trace\r\n\r\n对应的 torch api 不支持更多参数，因此注册 TraceRule ，采用 diagonal + sum 的方式模拟\r\n\r\n仅有一条配置精度有误，移至 accuracy_error 并在 fresh_report 中记录；其余配置均通过 accuracy 测试\r\n\r\n### 4. paddle.transpose\r\n\r\ntorch 的 dims 参数仅接受完整长度，直接编写配置，补齐长度并转为 tuple\r\n\r\n相关配置全部通过 accuracy 测试\r\n\r\n### 5. paddle.nn.functional.relu\r\n\r\n出错配置在 paddle 中不存在相同形式的参数，怀疑是配置提取出错，移入 not_support 中\r\n\r\n### 6. paddle.trapezoid\r\n\r\ntorch api 不支持传入的 x、dx 参数为 None（无对应重载函数），因此注册 TrapezoidRule，将 None 值直接 del 掉；若 dx 为 0D Tensor 则提取值\r\n\r\n相关配置全部通过 accuracy 测试\r\n",
        "issue_number": "188",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T08:06:30+00:00",
        "closed_at": "2025-05-28T03:19:26+00:00",
        "additions": 176,
        "deletions": 129,
        "changed_files": 7,
        "commits": [
            "a67645641101de0162dfbc81b51b3eb009e2f1a3",
            "a82aba92b3e098ac4daff1bd058331b150b69c75",
            "1d49a1bb6cc00c069dbe404792bb4981c76865d7",
            "9425702b14420ca01b7dead3a126ef304d2810b1",
            "b96b010ff277fd4b1d1a66ced913161d68a2bfb7",
            "dfe2752648f27e296e0f48c8754d16d9c2fb7a8e",
            "16447dd59319e86572984f4ed930ef7926e3647e",
            "3386ca243981a9348dd072c31c8e145782a1c98a",
            "d9858b57d0ed4d64844d83250a726d4a7329ed68"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 189,
        "title": "add 20250526 0size_tensor_gpu test report",
        "body": null,
        "issue_number": "189",
        "state": "closed",
        "merged": true,
        "user": "Zeref996",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T08:25:19+00:00",
        "closed_at": "2025-05-28T09:18:58+00:00",
        "additions": 123299,
        "deletions": 0,
        "changed_files": 9,
        "commits": [
            "b558b944aabecd4ed1ac9a29cd375393c934aa7e",
            "f706b3f75d88a26c7a199a3ed0107889fc186bde"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 195,
        "title": "Fix redirect error, refine error_msg print",
        "body": "1. log_writer 直接使用 os.remove 移除临时文件会导致输出重定向失效，修改为清空文件内容\r\n2. 优化 torch_assert_accuracy 的 msg 输出，使用 torch.set_printoptions 设置为打印100 个，效果更好：\r\n\r\n![image](https://github.com/user-attachments/assets/4e96f8a7-9c16-4165-af78-bb877cc486dc)\r\n",
        "issue_number": "195",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-28T02:28:13+00:00",
        "closed_at": "2025-05-28T03:20:07+00:00",
        "additions": 5,
        "deletions": 14,
        "changed_files": 2,
        "commits": [
            "88a7c7abc68a619f868322766ca9260cf352a8e9",
            "3042973e015c307598f506723cb608aa8b8d9bbf"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 191,
        "title": "[BIT] 转换能力补齐：nanquantile、nn.functional.[fold、layer_norm]、tril_indices、triu_indices",
        "body": "## 修复情况\r\n经回测后，新认领并修复了`nanquantile`、`nn.functional.fold`、`nn.functional.layer_norm`、`tril_indices`、`triu_indices`共5个API，具体情况如下：\r\n| PaddlePaddle API 名称 | PyTorch API 名称 | 功能差异描述 | 配置撰写情况 | 备注 | API 对照表链接 |\r\n|:----------------------|:-----------------|:-------------|:-------------|:-----|:---------------|\r\n| paddle.nanquantile | torch.nanquantile | 参数类型不一致 | 撰写 mapping 配置，复用 rule：`QuantileRule` | Paddle 中的 `axis` 如果是 list，可以对给定的轴上的所有元素计算分位数 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.nanquantile.html) |\r\n| paddle.nn.functional.fold | torch.nn.functional.fold | 参数输入情况不一致 | 撰写 mapping 配置 | torch 中的 `padding` 参数不能为长度是 4 的 list，在 mapping 中对 `padding` 参数做额外转化 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.fold.html) |\r\n| paddle.nn.functional.layer_norm | torch.nn.functional.layer_norm | 参数类型不一致 | 撰写 mapping 配置，同时编写 rule：`LayerNormRule` | 1. 将 `normalized_shape` 转换为 tuple。<br>2. 将 `weight` 和 `bias` reshape 为 `normalized_shape` 的形状。<br>3. 确保 `weight` 和 `bias` 与 `input` 有相同的数据类型。 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/functional/torch.nn.functional.layer_norm.html) |\r\n| paddle.tril_indices | torch.tril_indices | 参数输入情况不一致 | 撰写 mapping 配置 | torch 中的 `col` 不能为 None，在 mapping 中对 `col` 做转化，为 None 时值等于 `row`，与 Paddle 对齐 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.tril_indices.html) |\r\n| paddle.triu_indices | torch.triu_indices | 参数输入情况不一致 | 撰写 mapping 配置 | torch 中的 `col` 不能为 None，在 mapping 中对 `col` 做转化，为 None 时值等于 `row`，与 Paddle 对齐 | [对照表](https://www.paddlepaddle.org.cn/documentation/docs/zh/develop/guides/model_convert/convert_from_pytorch/api_difference/torch/torch.triu_indices.html) |\r\n## 测试结果\r\n本次共从pending文件中移出29条配置，均通过测试，移入`accuracy_8.txt`中。\r\n<img width=\"955\" alt=\"截屏2025-05-27 17 15 07\" src=\"https://github.com/user-attachments/assets/5c45be90-7c34-45df-88de-2f0d25157058\" />\r\n## 合并测试结果\r\n将原来已通过的配置和pending配置合并后，共102条，均能通过。\r\n<img width=\"954\" alt=\"截屏2025-05-27 17 19 46\" src=\"https://github.com/user-attachments/assets/5bc9c58d-5312-40e6-85ca-d106237772bb\" />",
        "issue_number": "191",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T09:29:23+00:00",
        "closed_at": "2025-05-28T03:03:57+00:00",
        "additions": 119,
        "deletions": 87,
        "changed_files": 4,
        "commits": [
            "f54ed104c3cab5b7b8c3024fdd4bdb9d76b9e589",
            "b94a63a6d8e8ae1d5ace6eee9c67230e6eb346c4"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "yuwu46"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 193,
        "title": "[BIT] 回测问题修复：add、add_n、cum、set_、increment、fba、vlmea、median、nanmedian、pool、scale、shape",
        "body": "## 回测问题修复\r\n\r\n### 1. 类型不一致\r\n\r\n以下 api 类型不一致，一般是 paddle 可以为 int32 而 torch 统一为 int 64，因此直接加入 not_check_dtype 列表：\r\npaddle.add、paddle.add_n、paddle.cum[max、min、sum]、paddle.nn.functional.adaptive_max_pool[1、2、3]d、paddle.nn.functional.max_pool[1、2、3]d、paddle.copysign\r\n\r\n### 2. paddle.Tensor.set_\r\n\r\n0size 情况下 paddle 与 torch 输出形状不一致，不再支持，移入 paddle_only 中\r\n\r\n### 3. paddle.increment\r\n\r\n输出类型应与输入保持一致，因此将 result cast 至 x 的初始类型\r\n\r\n### 4. paddle.incubate.nn.functional.fused_bias_act\r\n\r\n保持 result 类型不变，不再需要 cast\r\n\r\n### 5. paddle.incubate.nn.functional.variable_length_memory_efficient_attention\r\n\r\n直接将相关配置移入 accuracy_error\r\n\r\n### 6. paddle.[median、nanmedian]\r\n\r\n修改 rule，当 axis=None, keepdim=True 时，需 reshape 至初始的维度数\r\n\r\n### 7. paddle.nn.functional.[conv2d、conv2d_transpose]\r\n\r\n直接将相关配置移入 accuracy_error\r\n\r\n### 8. paddle.scale\r\n\r\n输出类型应与输入保持一致，因此将 result cast 至 x 的初始类型\r\n\r\n### 9. paddle.shape\r\n\r\n输出 tensor 的数据类型设置恒为 dtype=torch.int64\r\n\r\n### 10. paddle.nn.functional.lp_pool[1、2]d\r\n\r\n修复 PoolRule，使其支持 1d 下的 data_format 参数；经测试，当 norm_type 为 inf 时，torch 输出不正确，因此不再进行比较，移入 not_support",
        "issue_number": "193",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T15:26:31+00:00",
        "closed_at": "2025-05-29T08:31:00+00:00",
        "additions": 246,
        "deletions": 200,
        "changed_files": 10,
        "commits": [
            "6958e91bed10c50f5a3383b31b88a94488e8a88e",
            "33ac40d7933e14976a196c5a5dac3525a17a3433",
            "25ffba153b4d393a3df0059d2c7acf82e6931f58",
            "60a8c081ee37948cc47fa5a2dcd98ca48628b949",
            "fbd50f753e59ef11371b368f9b520988ca4b2cd8",
            "142fed890c3b9e504c562e69676175665d09d2d5",
            "ec50d95e520a6803ec4640f250899e393a014dbe",
            "0c64d69e0607cef18aabcf5330b5e4eab7d693d4",
            "c5be5c82ac722a433de87a7a981cea4e1da44585",
            "3fa3b98198a271b7155b3cca53f7d98332787a69",
            "3a4025a4e8e1961e6745589739f0c201239db74b",
            "ff5bf70aeebc5997022996ce920dd388a6030740",
            "d2420594248b2fb8e4db20bd520d456fbf5f45d6"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 190,
        "title": "[BIT] 引擎 accuracy 回测修复 torch error：rfft2 flip frac thresholded_relu",
        "body": "## paddle.fft.rfft2\r\n\r\n更新 mapping.json 中的规则，原来是默认生成的，axes == None 时需要指定 torch 的 dim 为 (-2, -1)，并且由于 axes 是可选参数，需要使用 locals().get('axes') 来判断。\r\n\r\n```json\r\n\"torch_kwargs\": {\r\n    \"dim\": \"(-2, -1) if locals().get('axes') is None else axes\"\r\n}\r\n```\r\n\r\n配置均通过，将 pending 中的移入 accuracy_8.txt\r\n\r\n## paddle.flip\r\n\r\n需要将输入的 int 包装成 list\r\n\r\n```json\r\n\"torch_kwargs\": {\r\n    \"dims\": \"[axis] if isinstance(axis, int) else axis\"\r\n}, \r\n```\r\n\r\n配置均通过，将 pending 中的移入 accuracy_8.txt\r\n\r\n## paddle.frac\r\n\r\napi 功能是获取 tensor 中每个元素的小数，故 torch 中对 dtype 是 非浮点数 的 dtype 没有实现，解决办法是对非浮点类型转换到 torch.float64，得到结果后转换回原来的 dtype。\r\n\r\n```python\r\nif isinstance(input, torch.Tensor):\r\n    src_dtype = input.dtype\r\n    if input.dtype not in [torch.float16, torch.float32, torch.float64]:\r\n        input = input.to(torch.float64)\r\nelse:\r\n    raise ValueError(f\"input must be a tensor, but got {type(input)}\")\r\nresult = torch.frac(input)\r\nif src_dtype != result.dtype:\r\n    result = result.to(src_dtype)\r\n```\r\n\r\n配置均通过，将 pending 中的移入 accuracy_8.txt\r\n\r\n## paddle.nn.functional.thresholded_relu\r\n\r\n有对应 torch api 且参数均同名，但是 torch 同名参数没有默认值，设置默认值\r\n\r\n```json\r\n\"set_defaults\": {\r\n    \"threshold\": 1.0,\r\n    \"value\": 0.0\r\n}\r\n```\r\n\r\n配置均通过，将 pending 中的移入 accuracy_8.txt",
        "issue_number": "190",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T08:31:52+00:00",
        "closed_at": "2025-05-28T02:59:46+00:00",
        "additions": 75,
        "deletions": 49,
        "changed_files": 4,
        "commits": [
            "4d2dd4d294d8d999ebec1942c0b79aa64f9e81fe",
            "68be0e909815de4e97ce5971ea9b4d1107af9924",
            "2cd43381cbf94188b516d1db99c999976598af7e",
            "8403ef9106d8a48c8cd48ada55dc347c2b2fa137",
            "69d6ef6517edcf74ff369b2a380cf81a691c2a9b",
            "2b3f8eecbfce1d2389db6e166c876c2051ef168e",
            "b37894bc937392a6e80cc258f8e95aa26f587902"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 192,
        "title": "[Accuracy diff No.74、75] Fix accuracy diff for paddle.unique_consecutive API ",
        "body": "## 修复精度问题\r\n\r\n### paddle.unique_consecutive\r\n\r\n修改历程：\r\n根据ci_ce_cpu和ci_ce_gpu下的error log，发现导致accuracy error报错的原因是因为返回的inverse shape与torch不一致，在PaddleAPITest中重写paddle.unique_consecutive的转换rule进行修复，并且建议增加三个case：\r\n```\r\npaddle.unique_consecutive(x=Tensor([4, 1],\"float64\"), return_inverse=True, dtype=\"int32\", )\r\npaddle.unique_consecutive(x=Tensor([4, 1],\"float64\"), return_counts=True, dtype=\"int32\", )\r\npaddle.unique_consecutive(x=Tensor([4, 1],\"float64\"), return_inverse=True, return_counts=True, dtype=\"int32\", )\r\n```\r\n\r\n## 测试结果\r\n![image](https://github.com/user-attachments/assets/e9645ae9-968a-4457-9ecf-cfe371466405)\r\n\r\n\r\n- https://github.com/PaddlePaddle/Paddle/issues/72667",
        "issue_number": "192",
        "state": "closed",
        "merged": true,
        "user": "ccsuzzh",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T14:48:24+00:00",
        "closed_at": "2025-05-29T06:49:15+00:00",
        "additions": 30,
        "deletions": 10,
        "changed_files": 2,
        "commits": [
            "22b52d9fc72e1e4d223b8b8d2ee95234875a6379",
            "bdcab5259d7ce8820bdbba20e4e735dfbf64115b",
            "0e2a360e03a3544aabbea3eda239d85b4a0a4db5",
            "2f074225665a872eb8819623b2dc75d65d7ac99a"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "ccsuzzh"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "ccsuzzh",
            "ccsuzzh"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 194,
        "title": "[Accuracy diff No.8] Fix accuracy diff for bitwise_right_shift API",
        "body": "处理 is_arithmetic 为 False 时的逻辑右移，暂时是站在 torch 结果对齐的角度直接复用了 __rshift__Rule",
        "issue_number": "194",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-27T16:54:57+00:00",
        "closed_at": "2025-05-29T01:38:54+00:00",
        "additions": 16,
        "deletions": 28,
        "changed_files": 1,
        "commits": [
            "6b5d09ad9b7f91b72f4245e3a70e5faae0220614",
            "eeda03c1311c8980c4da239e477295fb1ff82110",
            "89a9c0c77d705e0e80d93c6e54319640f116f8f8",
            "70679cc16cd57014fb52d626288d1ad2e8037ed5",
            "c4e31d7bfb821bb77f267bd1d8b9bb752d6f1dc4",
            "56ffc60f8bc5152fe71eb21a30635aee19cf66c6",
            "82514a31e1f5582320c692179bf817edaf51c1b6"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "ooooo-create"
        ],
        "review_by": [
            "ooooo-create",
            "ooooo-create",
            "ooooo-create",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "ooooo-create",
            "ooooo-create",
            "ooooo-create"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 197,
        "title": "[Accuracy diff No.28-29] Fix accuracy diff for paddle.linalg.norm API",
        "body": "- https://github.com/PaddlePaddle/Paddle/issues/72667\r\n- 适配转换规则\r\n\r\n在 Paddle 中，如果 axis 为 None，x 会被压缩成一维向量然后计算**向量范数**。在 pytorch 中 axis为 None，输入可以允许为 1D（**向量范数**） 或 2D（矩阵范数）。我们只需要将 x flatten 1D 之后传入对应的 torch 函数，if keepdim, reshape 会原来的形状\r\n",
        "issue_number": "197",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-28T06:10:46+00:00",
        "closed_at": "2025-05-29T06:35:55+00:00",
        "additions": 6,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "3b1205053fb73a4412834878d8fcdc9d8057e114",
            "f956bc873d819540b27c40cd5ae3d5203c822444",
            "49e7bce9c41a319d1b87676665c5fc62fb68fe04",
            "679a1f277f89029fdd7834c72de0a0ff10573fd4"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "ooooo-create"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 196,
        "title": "[BIT] 引擎能力回测",
        "body": "## dtype类型不匹配 修改后pass\r\n- paddle.Tensor.clip/paddle.clip \r\n- paddle.geometric.send_u_recv \r\n- paddle.geometric.send_ue_recv \r\n- paddle.histogram \r\n- paddle.nn.functional.gather_tree \r\n- paddle.nn.functional.one_hot \r\n- paddle.nn.functional.sequence_mask \r\n- paddle.nn.functional.smooth_l1_loss \r\n- paddle.rank\r\n- paddle.where\r\n## 属于输出结果存在随机性的api\r\n- paddle.linalg.eigvals **放入随机文件**\r\n## 应当为accuracy问题 放入accuracy\r\n- paddle.nn.functional.interpolate\r\n- paddle.nn.functional.linear\r\n- paddle.nn.functional.multi_margin_loss\r\n- paddle.nn.functional.sigmoid_focal_loss\r\n- paddle.nn.functional.temporal_shift\r\n- paddle.prodpaddle.put_along_axis\r\n- paddle.put_along_axis\r\n- paddle.vision.ops.distribute_fpn_proposals\r\n## 放弃没进行转换 放入paddle only\r\n- paddle.nn.quant.weight_quantize\r\n## 其他\r\n- paddle.gather **pass**\r\n增加0 size tensor的处理\r\n",
        "issue_number": "196",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-28T05:15:51+00:00",
        "closed_at": "2025-05-28T08:24:12+00:00",
        "additions": 11059,
        "deletions": 11001,
        "changed_files": 10,
        "commits": [
            "e37e53be777aa49e02021cee42d1aa9a707aff57",
            "371563579dfebc5532055c8657007da540025a17",
            "d70f12f9f459563a9121eac7f1dc6f2425a67cca"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 199,
        "title": "[BIT] 任务2 回测问题修复：logit hardsigmoid matmul std any gammaln",
        "body": "### logit\r\n\r\npaddle反向梯度和torch不一致，paddle统一对nan的梯度输出0.0，torch直接输出nan，无需修改rules，加入error\r\n\r\n### hardsigmoid\r\n\r\npaddle的参数更多，有slope和offset两个参数，需要阅读技术文档推导一下：\r\n\r\n`    x = (x * slope + offset) * 6 - 3`\r\n\r\n\r\n### matmul\r\n\r\npaddle的梯度和torch有微小的差距，可能是矩阵乘法自身的精度问题，无需修改rules，加入error\r\n\r\n> [accuracy error] backward  paddle.matmul(Tensor([104, 128],\"float32\"), Tensor([128, 93431],\"float32\"), ) \r\n>  Not equal to tolerance rtol=0.01, atol=0.01\r\n> Tensor-likes are not close!\r\n> \r\n> Mismatched elements: 13 / 13312 (0.1%)\r\n> Greatest absolute difference: 0.021533191204071045 at index (45, 107) (up to 0.01 allowed)\r\n> Greatest relative difference: 2.4832661151885986 at index (57, 83) (up to 0.01 allowed)\r\n> ACTUAL: (shape=torch.Size([104, 128]), dtype=torch.float32)\r\n> tensor([[ -6.1790,   3.8907,  29.2943,  ...,  33.8504,  35.0019,  -7.7060],\r\n>         [-10.0560, -17.1847,  48.4991,  ...,  -8.6460, -28.7051,  31.6589],\r\n>         [-32.5005,  23.4737,  28.9410,  ...,  14.9964, -13.5349,  -9.0850],\r\n>         ...,\r\n>         [  5.0854, -20.2222,   5.2703,  ..., -16.0297, -27.0300, -14.1351],\r\n>         [ 25.9207,   1.0419, -17.8053,  ...,  28.2498, -20.2645,  49.1968],\r\n>         [ -9.3321,   9.9015, -13.6105,  ...,  -5.0031,  28.0628,   3.4601]])\r\n> DESIRED: (shape=torch.Size([104, 128]), dtype=torch.float32)\r\n> tensor([[ -6.1751,   3.8989,  29.2880,  ...,  33.8472,  34.9993,  -7.7078],\r\n>         [-10.0560, -17.1890,  48.4857,  ...,  -8.6502, -28.6989,  31.6536],\r\n>         [-32.5023,  23.4648,  28.9465,  ...,  14.9886, -13.5340,  -9.0743],\r\n>         ...,\r\n>         [  5.0831, -20.2080,   5.2750,  ..., -16.0345, -27.0391, -14.1400],\r\n>         [ 25.9211,   1.0493, -17.8085,  ...,  28.2532, -20.2558,  49.2092],\r\n>         [ -9.3291,   9.8982, -13.6090,  ...,  -4.9917,  28.0591,   3.4606]])\r\n\r\n\r\n### std\r\n\r\n绝大多数情况都没有问题，在输入的numel为1的时候，由于默认是unbiased=True，所以torch会计算分母为0的情况，导致正向过程不一致。在rules里面添加当numel==1时，设置torch的unbiased=False，这样他们的正向结果就一样了。但是仍存在反向梯度不一样的问题，所以不对txt文件改动\r\n\r\n```\r\n        \"torch_kwargs\": {\r\n            \"correction\": \"False if x.numel() or locals().get('unbiased', True) is False else True\"\r\n        }\r\n\r\n```\r\n> [accuracy error] **backward**  paddle.std(Tensor([],\"float32\"), ) \r\n>  Not equal to tolerance rtol=0.01, atol=0.01\r\n> Scalars are not close!\r\n> \r\n> Expected 0.0 but got nan.\r\n> Absolute difference: nan (up to 0.01 allowed)\r\n> Relative difference: inf (up to 0.01 allowed)\r\n> ACTUAL: (shape=torch.Size([]), dtype=torch.float32)\r\n> nan\r\n> DESIRED: (shape=torch.Size([]), dtype=torch.float32)\r\n> 0.0\r\n> Done.\r\n\r\n\r\n### any\r\n\r\n当输入dim为空list或者空tuple时，dim应该设置为none，参考 https://github.com/PFCCLab/PaddleAPITest/pull/204\r\n\r\n### gammaln\r\n\r\n这个api中，确认是paddle和torch计算的梯度不一致，问题在于paddle会把输入中小于0的地方的梯度输出为0，怀疑是paddle的问题，无需移动配置，无需修改rule",
        "issue_number": "199",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-28T08:37:01+00:00",
        "closed_at": "2025-05-29T08:57:30+00:00",
        "additions": 1468,
        "deletions": 1419,
        "changed_files": 5,
        "commits": [
            "f5494833cd4275a80439f614a10af94ac9c23e07",
            "749ef7d1b00b1dab81c1904b6598c8c7a0c1bc9c",
            "e04cb40fa1125bda10fddff49f11ebe45267008a",
            "fb1d2af199572e201b3b24916ee35d5642f9b67e",
            "02b8b114d165887caa917fcc74e5cf07ddc1e073",
            "924268d8e0d92511d8055118b9b85d966ec4a001",
            "32c0b59f263ac2dd6d8e84425e6ff3a975985af2",
            "6587720097891001e3087db831711f3204c4e661"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 201,
        "title": "[BIT] Add behavior_diff uncertain_accuracy_error txt",
        "body": "新增 behavior_diff.txt、uncertain_accuracy_error.txt，将已有的相关配置移入，在 base 与 accuracy 处增加注释",
        "issue_number": "201",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-28T16:47:54+00:00",
        "closed_at": "2025-05-29T02:27:03+00:00",
        "additions": 9633,
        "deletions": 9621,
        "changed_files": 6,
        "commits": [
            "3c79747b2bd7b9b0c4f0362d74b4520f5d18cdf0"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 198,
        "title": "[BIT]引擎能力回测 随机api & 坚持报错",
        "body": "## API的输出结果具有随机性 放入random\r\n- paddle.linalg.eigh\r\n特征值特征向量 特征值乱序\r\n- paddle.linalg.eigvals\r\n特征值 特征值乱序\r\n- paddle.linalg.eigvalsh\r\n特征值 特征值乱序\r\n- paddle.linalg.pinv\r\n奇异分解不唯一\r\n- paddle.linalg.svd_lowrank\r\n奇异分解不唯一\r\n- paddle.linalg.triangular_solve\r\n求解线性方程解 解不唯一\r\n## 以下api 坚持报错为kernel错误\r\n- paddle.nn.functional.cross_entropy\r\n5185**pass** 22个**error**\r\n经过检查发现rule存在问题 多进行了一次softmax计算\r\n- paddle.nn.functional.ctc_loss\r\n0**pass** 17**error**\r\n<img width=\"861\" alt=\"截屏2025-05-29 10 16 28\" src=\"https://github.com/user-attachments/assets/01ee7188-86b7-406e-8c11-98fce9236757\" />\r\n\r\nrule是使用两个函数进行组合 但是出现accuracy 错误\r\n- paddle.nn.functional.interpolate\r\n4373 **pass** 1269 **error**\r\n![截屏2025-05-29 10 21 35](https://github.com/user-attachments/assets/18081392-5dd2-4758-ad8a-05af3d80b5e7)\r\n遇到0.799999999999这种参数 会出现shape的不一致问题 感觉就是accuracy问题\r\n- paddle.nn.functional.log_softmax\r\n为直接映射 rule不存在错误\r\n69**pass** 11**error**\r\n- paddle.nn.functional.softmax_with_cross_entropy\r\n20**pass** 1**error**",
        "issue_number": "198",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-28T08:33:30+00:00",
        "closed_at": "2025-05-29T09:22:43+00:00",
        "additions": 1934,
        "deletions": 1920,
        "changed_files": 7,
        "commits": [
            "516b8c3c84df56d0d74d1b8af69e84f83a672dcc",
            "a46b0470f98192e9b2a843a5c5cf68f7e5fc29d7",
            "7a5269cf670b635a086be7f2c83df23d35f5c981",
            "cf54ced79de8622cae37301598bc0c1ee67cf3c1",
            "e52e558963c3489c74e2233019fb49506261bba8",
            "29eec260d5c3d396bb418be670df86ca5f6848a9",
            "5bc95c320073328ad16e74ea5833d254fe74dbaa"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "mzj104",
            "cangtianhuang",
            "cszdrg",
            "cszdrg"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 200,
        "title": "fix torch is not defined in engineV2.py",
        "body": "\r\n![image](https://github.com/user-attachments/assets/3c8eb1c4-ce8a-4b3b-a5f8-2884f92515a1)\r\n",
        "issue_number": "200",
        "state": "closed",
        "merged": false,
        "user": "ccsuzzh",
        "merged_by": null,
        "created_at": "2025-05-28T13:40:22+00:00",
        "closed_at": "2025-06-04T13:26:53+00:00",
        "additions": 3,
        "deletions": 2,
        "changed_files": 1,
        "commits": [
            "4cf792a5d73db31d979ae537337c6bf176e90e25",
            "2121b17a20261eda5d9cebcdd7e0c53ba739768d"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "ccsuzzh"
        ],
        "review_by": [
            "cangtianhuang",
            "ccsuzzh",
            "cangtianhuang",
            "ccsuzzh"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 202,
        "title": "[BIT] Split dtype_diff and grads_diff",
        "body": "将 behavior_diff 划分为 dtype_diff 与 grads_diff",
        "issue_number": "202",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-29T02:58:52+00:00",
        "closed_at": "2025-05-29T06:33:22+00:00",
        "additions": 4,
        "deletions": 4,
        "changed_files": 4,
        "commits": [
            "6618001f404d1e344c6bba43e47edaaaaa181a75"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 204,
        "title": "[BIT] 引擎 accuracy 回测修复：__floordiv__ __matmul__ any argmax Tensor.argmax",
        "body": "## paddle.Tensor.\\_\\_floordiv__\r\n\r\n让 torch 对齐 paddle 输入为标量 tensor + 标量，输出为 shape=[1] 的情况，eg. \r\n\r\n```shell\r\npaddle.Tensor.__floordiv__(Tensor([],\"int64\"), 8, )\r\n```\r\n\r\n解决办法是让 torch 输入的第二个参数包装为 torch.tensor([scalar])，这样输出 shape == [1]，而不是 []。为了保证不影响其它 case，第二个参数的 dtype 需要和输出 dtype 对齐，原始第二个输入为 int, float 时，需要确保与第一个输入 tensor 的 dtype 为同一位宽的 int, float，否则无需设置 dtype，比如第一个 tensor.dtype == 'bool'，第二个为标量 2 （int）的情况，这样 torch 和 paddle 的默认行为是一致的，让 torch 推断输出 tensor 的 dtype 即可。\r\n\r\n配置均通过，移入 accuracy_8.txt\r\n\r\n## paddle.Tensor.\\_\\_matmul__\r\n\r\npending_accuracy.txt / pending_accuracy_error.txt 的配置均确认为 accuracy error，移入 accuracy_eror_1.txt\r\n\r\n## paddle.Tensor.any\r\n\r\npaddle api 的 输入参数 axis == [] 或者 axis == () 时，此时 torch api 参数 dim 等价于 None，而不是对应的 []，或者 ()\r\n\r\n```json\r\n\"torch_kwargs\": {\r\n    \"dim\": \"None if locals().get('axis') is None or locals().get('axis') == [] or locals().get('axis') == () else axis\"\r\n},\r\n```\r\n\r\n配置均通过，移入 accuracy_8.txt\r\n\r\n## paddle.Tensor.argmax & paddle.argmax\r\n\r\n设置 `dtype` 为 int32 时，返回的 Tensor 的数据类型为 int32，其它情况返回的 Tensor 的数据类型为 int64。\r\n\r\n```python\r\nresult = result.to(dtype=torch.int32 if dtype == torch.int32 else torch.int64)\r\n```\r\n\r\ndtype 为 paddle 独有的参数，在预处理中获取并在后处理中根据 dtype 进行处理。后处理需要在 rule.py 中添加，但是原来这两个 api 只需要在 mapping.json 中编写即可，为此将 ArgmaxRule 继承 BaseRule，使用 self.apply_generic() 获得 mapping.json 的原有配置。\r\n\r\n```python\r\ndefaults_code, map_code = self.apply_generic()\r\n```\r\n\r\n编写 core 时 torch.Tensor 方法需替换为输入第一个 tensor 的变量名，该变量名取决于在 ana_api_info() 中获取的函数签名参数字典 paddle_args_dict。经查 paddle.Tensor 方法获取函数签名时，第一个 tensor 的关键字为 'x'，而不是 'self'。\r\n\r\n```python\r\nif self.torch_api.startswith(\"torch.Tensor.\"):\r\n    # for paddle.Tensor method, first arg self correspond to x in paddle signature\r\n    core = f\"result = {self.torch_api.replace('torch.Tensor.', 'x.')}(**_kwargs)\"\r\nelse:\r\n    core = f\"result = {self.torch_api}(**_kwargs)\"\r\n```\r\n\r\n配置均通过，移入 accuracy_8.txt",
        "issue_number": "204",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-29T04:09:54+00:00",
        "closed_at": "2025-05-29T06:34:40+00:00",
        "additions": 101,
        "deletions": 81,
        "changed_files": 6,
        "commits": [
            "7b5f53e58c9ad4b8d9a3be237af7e1c9a14365f9",
            "56d23633190bae7339b1dc45922a3a05c282c63b",
            "240d5291ffa208b3d6291b3cf683f8d7fc1f3ae7",
            "26dd05dfeb9198c8114ccebd8d6c7470ea9b48f8",
            "fccb2b78354be66b5d7b329b636f7e5ad50925a3",
            "3a201bd599c960aaa6a3f48b98533875694c858c",
            "5c2a6cb554ebdef660a59fb46d9e45046b2eea4d"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 207,
        "title": "[BIT] Add accuracy_amp cpu report",
        "body": "新增 tester/api_config/6_accuracy_amp/accuracy_amp_1.txt 的 cpu 报告\r\n修改 error_stat",
        "issue_number": "207",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-29T08:48:55+00:00",
        "closed_at": "2025-05-29T08:56:01+00:00",
        "additions": 3329,
        "deletions": 1,
        "changed_files": 7,
        "commits": [
            "1ab637829abbc7cdeeb0efb045786affd6dff989"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 203,
        "title": "[BIT]回测问题修复：Tensor.[frexp、rank]、incubate.nn.functional.blha_get_max_len、vecdot",
        "body": "### 修复情况\r\n\r\n本次修复了 `Tensor.frexp`、`Tensor.rank`、`incubate.nn.functional.blha_get_max_len`、`vecdot` 共 4 个 API 的回测精度问题，具体情况如下：\r\n\r\n| PaddlePaddle API 名称 | 精度问题描述 | 解决方法 |\r\n|:----------------------|:-------------|:---------|\r\n| paddle.Tensor.frexp | paddle 与 torch 仅类型不一致，当 paddle 为 “float” 时，torch 为 “int” | 加入 not_check_dtype 列表后，可以正常通过 |\r\n| paddle.Tensor.rank | paddle 返回值为 int32，回测前 rule 中的 RankRule 返回值为 int64 | 已由 [PR #196](https://github.com/PFCCLab/PaddleAPITest/pull/196) 修复，此处直接复用 |\r\n| paddle.incubate.nn.functional.blha_get_max_len | paddle 中返回值 shape 为 torch.Size([1])，而 torch 中返回值 shape 为 torch.Size([]) | 更改 rule：`BlhaGetMaxLenRule`，使用内置方法 `.unsqueeze(0)`，添加维度 |\r\n| paddle.vecdot | 未精准将Tesnor x、y的类型对齐| 按照API的实现方法，更改 rule：`VecdotRule`，使用更严格的类型转换 |\r\n\r\n### 测试结果\r\n\r\n本次共从 pending 文件中移出 39 条配置，均通过测试。\r\n<img width=\"885\" alt=\"截屏2025-05-29 10 57 40\" src=\"https://github.com/user-attachments/assets/b9b5cff2-4bdc-472f-baa5-5839a20724b9\" />\r\n其中 4 条 `Tensor.frexp` 配置移入 `dtype_diff.txt`，其余 35 条移入 `accuracy_8.txt` 中。\r\n\r\n### 合并测试结果\r\n将原来已通过的配置和 pending 配置合并后，共 53 条，均能通过。\r\n<img width=\"971\" alt=\"截屏2025-05-29 11 13 20\" src=\"https://github.com/user-attachments/assets/118646e9-a647-411c-b89b-3a77a4f69ab2\" />",
        "issue_number": "203",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-29T03:32:07+00:00",
        "closed_at": "2025-05-29T08:41:31+00:00",
        "additions": 51,
        "deletions": 59,
        "changed_files": 5,
        "commits": [
            "c6440fe4795c8d8b52cd73ce1ba556cc8a9785b0",
            "73f90bf749784f6fcd408ef3bb76106e37f77311",
            "33f8d718230f8d27c258c1ec8baaa9ea2abe0463",
            "a5ae034864958b6120649beefb14f1479e0a1aec",
            "9220a72944c342672cd58a155067272390815e74",
            "1a73a1faf4411c5dd62fd9c5fc31947a46ff7e51",
            "33591f9c87a0e9644b6b493d6cc8f131fe9b6f79"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "yuwu46"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 206,
        "title": "refine mapping.json",
        "body": "以我们要支持的732个API作为基础。如果mapping.json中的映射表不在732个内，则删除。\r\n此外：\r\n```\r\n      \"paddle.nn.functional.pad\": {\r\n            \"torch_api\": \"paddle.nn.functional.pad\",\r\n            \"Rule\": \"PadRule\"\r\n      },\r\n```\r\n改为\r\n```\r\n      \"paddle.nn.functional.pad\": {\r\n            \"Rule\": \"PadRule\"\r\n      },\r\n```\r\n\r\n过滤脚本：\r\n\r\n```\r\nimport json\r\nimport collections\r\n\r\nwith open(\"/host_home/wanghuan29/APItest/PaddleAPITest/tester/paddle_to_torch/mapping.json\", \"r\") as f:\r\n    api_mapping = json.load(f)\r\n\r\napi_list = [\"paddle.abs\",\"paddle.acos\",\"paddle.acosh\",\"paddle.add\",\"paddle.add_n\",\"paddle.addmm\",\"paddle.all\",\"paddle.allclose\",\"paddle.amax\",\"paddle.amin\",\"paddle.angle\",\"paddle.any\",\"paddle.arange\",\"paddle.argmax\",\"paddle.argmin\",\"paddle.argsort\",\"paddle.as_complex\",\"paddle.as_real\",\"paddle.as_strided\",\"paddle.asin\",\"paddle.asinh\",\"paddle.assign\",\"paddle.atan\",\"paddle.atan2\",\"paddle.atanh\",\"paddle.atleast_1d\",\"paddle.atleast_2d\",\"paddle.atleast_3d\",\"paddle.audio.functional.get_window\",\"paddle.autograd.hessian\",\"paddle.autograd.jacobian\",\"paddle.bernoulli\",\"paddle.bincount\",\"paddle.binomial\",\"paddle.bitwise_and\",\"paddle.bitwise_invert\",\"paddle.bitwise_left_shift\",\"paddle.bitwise_not\",\"paddle.bitwise_or\",\"paddle.bitwise_right_shift\",\"paddle.bitwise_xor\",\"paddle.bmm\",\"paddle.broadcast_shape\",\"paddle.broadcast_tensors\",\"paddle.broadcast_to\",\"paddle.bucketize\",\"paddle.cartesian_prod\",\"paddle.cast\",\"paddle.cdist\",\"paddle.ceil\",\"paddle.chunk\",\"paddle.clip\",\"paddle.clone\",\"paddle.column_stack\",\"paddle.combinations\",\"paddle.complex\",\"paddle.concat\",\"paddle.conj\",\"paddle.copysign\",\"paddle.cos\",\"paddle.cosh\",\"paddle.count_nonzero\",\"paddle.crop\",\"paddle.cross\",\"paddle.cummax\",\"paddle.cummin\",\"paddle.cumprod\",\"paddle.cumsum\",\"paddle.cumulative_trapezoid\",\"paddle.deg2rad\",\"paddle.diag\",\"paddle.diag_embed\",\"paddle.diagflat\",\"paddle.diagonal\",\"paddle.diagonal_scatter\",\"paddle.diff\",\"paddle.digamma\",\"paddle.dist\",\"paddle.divide\",\"paddle.dot\",\"paddle.dsplit\",\"paddle.dstack\",\"paddle.einsum\",\"paddle.empty\",\"paddle.empty_like\",\"paddle.equal\",\"paddle.equal_all\",\"paddle.erf\",\"paddle.erfinv\",\"paddle.exp\",\"paddle.expand\",\"paddle.expand_as\",\"paddle.expm1\",\"paddle.eye\",\"paddle.fft.fft\",\"paddle.fft.fft2\",\"paddle.fft.fftfreq\",\"paddle.fft.fftn\",\"paddle.fft.fftshift\",\"paddle.fft.hfft\",\"paddle.fft.hfft2\",\"paddle.fft.hfftn\",\"paddle.fft.ifft\",\"paddle.fft.ifft2\",\"paddle.fft.ifftn\",\"paddle.fft.ifftshift\",\"paddle.fft.ihfft\",\"paddle.fft.ihfft2\",\"paddle.fft.ihfftn\",\"paddle.fft.irfft\",\"paddle.fft.irfft2\",\"paddle.fft.irfftn\",\"paddle.fft.rfft\",\"paddle.fft.rfft2\",\"paddle.fft.rfftfreq\",\"paddle.fft.rfftn\",\"paddle.flatten\",\"paddle.flip\",\"paddle.floor\",\"paddle.floor_divide\",\"paddle.floor_mod\",\"paddle.fmax\",\"paddle.fmin\",\"paddle.frac\",\"paddle.frexp\",\"paddle.full\",\"paddle.full_like\",\"paddle.gammainc\",\"paddle.gammaincc\",\"paddle.gammaln\",\"paddle.gather\",\"paddle.gather_nd\",\"paddle.gcd\",\"paddle.geometric.sample_neighbors\",\"paddle.geometric.segment_max\",\"paddle.geometric.segment_mean\",\"paddle.geometric.segment_min\",\"paddle.geometric.segment_sum\",\"paddle.geometric.send_u_recv\",\"paddle.geometric.send_ue_recv\",\"paddle.geometric.send_uv\",\"paddle.greater_equal\",\"paddle.greater_than\",\"paddle.heaviside\",\"paddle.histogram\",\"paddle.histogram_bin_edges\",\"paddle.histogramdd\",\"paddle.hsplit\",\"paddle.hstack\",\"paddle.hypot\",\"paddle.i0\",\"paddle.i0e\",\"paddle.i1\",\"paddle.i1e\",\"paddle.imag\",\"paddle.increment\",\"paddle.incubate.nn.functional.blha_get_max_len\",\"paddle.incubate.nn.functional.block_multihead_attention\",\"paddle.incubate.nn.functional.fused_bias_act\",\"paddle.incubate.nn.functional.fused_bias_dropout_residual_layer_norm\",\"paddle.incubate.nn.functional.fused_dropout_add\",\"paddle.incubate.nn.functional.fused_feedforward\",\"paddle.incubate.nn.functional.fused_layer_norm\",\"paddle.incubate.nn.functional.fused_linear\",\"paddle.incubate.nn.functional.fused_linear_activation\",\"paddle.incubate.nn.functional.fused_matmul_bias\",\"paddle.incubate.nn.functional.fused_multi_head_attention\",\"paddle.incubate.nn.functional.fused_rms_norm\",\"paddle.incubate.nn.functional.fused_rotary_position_embedding\",\"paddle.incubate.nn.functional.masked_multihead_attention\",\"paddle.incubate.nn.functional.swiglu\",\"paddle.incubate.nn.functional.variable_length_memory_efficient_attention\",\"paddle.incubate.segment_max\",\"paddle.incubate.segment_mean\",\"paddle.incubate.segment_min\",\"paddle.incubate.segment_sum\",\"paddle.incubate.softmax_mask_fuse\",\"paddle.incubate.softmax_mask_fuse_upper_triangle\",\"paddle.index_add\",\"paddle.index_fill\",\"paddle.index_put\",\"paddle.index_sample\",\"paddle.index_select\",\"paddle.inner\",\"paddle.is_complex\",\"paddle.is_empty\",\"paddle.isclose\",\"paddle.isfinite\",\"paddle.isin\",\"paddle.isinf\",\"paddle.isnan\",\"paddle.isneginf\",\"paddle.isposinf\",\"paddle.isreal\",\"paddle.kron\",\"paddle.kthvalue\",\"paddle.lcm\",\"paddle.ldexp\",\"paddle.lerp\",\"paddle.less\",\"paddle.less_equal\",\"paddle.less_than\",\"paddle.lgamma\",\"paddle.linalg.cholesky\",\"paddle.linalg.cholesky_solve\",\"paddle.linalg.cond\",\"paddle.linalg.corrcoef\",\"paddle.linalg.cov\",\"paddle.linalg.det\",\"paddle.linalg.eig\",\"paddle.linalg.eigh\",\"paddle.linalg.eigvals\",\"paddle.linalg.eigvalsh\",\"paddle.linalg.inv\",\"paddle.linalg.lstsq\",\"paddle.linalg.lu\",\"paddle.linalg.lu_unpack\",\"paddle.linalg.matrix_norm\",\"paddle.linalg.matrix_power\",\"paddle.linalg.matrix_rank\",\"paddle.linalg.matrix_transpose\",\"paddle.linalg.multi_dot\",\"paddle.linalg.norm\",\"paddle.linalg.pca_lowrank\",\"paddle.linalg.pinv\",\"paddle.linalg.qr\",\"paddle.linalg.slogdet\",\"paddle.linalg.solve\",\"paddle.linalg.svd\",\"paddle.linalg.svd_lowrank\",\"paddle.linalg.svdvals\",\"paddle.linalg.triangular_solve\",\"paddle.linalg.vector_norm\",\"paddle.linspace\",\"paddle.log\",\"paddle.log_normal\",\"paddle.log10\",\"paddle.log1p\",\"paddle.log2\",\"paddle.logaddexp\",\"paddle.logcumsumexp\",\"paddle.logical_and\",\"paddle.logical_not\",\"paddle.logical_or\",\"paddle.logical_xor\",\"paddle.logit\",\"paddle.logspace\",\"paddle.logsumexp\",\"paddle.masked_fill\",\"paddle.masked_scatter\",\"paddle.masked_select\",\"paddle.matmul\",\"paddle.matrix_transpose\",\"paddle.max\",\"paddle.maximum\",\"paddle.mean\",\"paddle.median\",\"paddle.meshgrid\",\"paddle.min\",\"paddle.minimum\",\"paddle.mm\",\"paddle.mod\",\"paddle.mode\",\"paddle.moveaxis\",\"paddle.multigammaln\",\"paddle.multinomial\",\"paddle.multiplex\",\"paddle.multiply\",\"paddle.mv\",\"paddle.nan_to_num\",\"paddle.nanmean\",\"paddle.nanmedian\",\"paddle.nanquantile\",\"paddle.nansum\",\"paddle.neg\",\"paddle.negative\",\"paddle.nextafter\",\"paddle.nn.functional.adaptive_avg_pool1d\",\"paddle.nn.functional.adaptive_avg_pool2d\",\"paddle.nn.functional.adaptive_avg_pool3d\",\"paddle.nn.functional.adaptive_log_softmax_with_loss\",\"paddle.nn.functional.adaptive_max_pool1d\",\"paddle.nn.functional.adaptive_max_pool2d\",\"paddle.nn.functional.adaptive_max_pool3d\",\"paddle.nn.functional.affine_grid\",\"paddle.nn.functional.alpha_dropout\",\"paddle.nn.functional.avg_pool1d\",\"paddle.nn.functional.avg_pool2d\",\"paddle.nn.functional.avg_pool3d\",\"paddle.nn.functional.batch_norm\",\"paddle.nn.functional.bilinear\",\"paddle.nn.functional.binary_cross_entropy\",\"paddle.nn.functional.binary_cross_entropy_with_logits\",\"paddle.nn.functional.celu\",\"paddle.nn.functional.channel_shuffle\",\"paddle.nn.functional.class_center_sample\",\"paddle.nn.functional.conv1d\",\"paddle.nn.functional.conv1d_transpose\",\"paddle.nn.functional.conv2d\",\"paddle.nn.functional.conv2d_transpose\",\"paddle.nn.functional.conv3d\",\"paddle.nn.functional.conv3d_transpose\",\"paddle.nn.functional.cosine_embedding_loss\",\"paddle.nn.functional.cosine_similarity\",\"paddle.nn.functional.cross_entropy\",\"paddle.nn.functional.ctc_loss\",\"paddle.nn.functional.dice_loss\",\"paddle.nn.functional.dropout\",\"paddle.nn.functional.dropout2d\",\"paddle.nn.functional.dropout3d\",\"paddle.nn.functional.elu\",\"paddle.nn.functional.embedding\",\"paddle.nn.functional.feature_alpha_dropout\",\"paddle.nn.functional.flashmask_attention\",\"paddle.nn.functional.fold\",\"paddle.nn.functional.fractional_max_pool2d\",\"paddle.nn.functional.fractional_max_pool3d\",\"paddle.nn.functional.gather_tree\",\"paddle.nn.functional.gaussian_nll_loss\",\"paddle.nn.functional.gelu\",\"paddle.nn.functional.glu\",\"paddle.nn.functional.grid_sample\",\"paddle.nn.functional.group_norm\",\"paddle.nn.functional.gumbel_softmax\",\"paddle.nn.functional.hardshrink\",\"paddle.nn.functional.hardsigmoid\",\"paddle.nn.functional.hardswish\",\"paddle.nn.functional.hardtanh\",\"paddle.nn.functional.hinge_embedding_loss\",\"paddle.nn.functional.hsigmoid_loss\",\"paddle.nn.functional.instance_norm\",\"paddle.nn.functional.interpolate\",\"paddle.nn.functional.kl_div\",\"paddle.nn.functional.l1_loss\",\"paddle.nn.functional.label_smooth\",\"paddle.nn.functional.layer_norm\",\"paddle.nn.functional.leaky_relu\",\"paddle.nn.functional.linear\",\"paddle.nn.functional.local_response_norm\",\"paddle.nn.functional.log_loss\",\"paddle.nn.functional.log_sigmoid\",\"paddle.nn.functional.log_softmax\",\"paddle.nn.functional.lp_pool1d\",\"paddle.nn.functional.lp_pool2d\",\"paddle.nn.functional.margin_cross_entropy\",\"paddle.nn.functional.margin_ranking_loss\",\"paddle.nn.functional.max_pool1d\",\"paddle.nn.functional.max_pool2d\",\"paddle.nn.functional.max_pool3d\",\"paddle.nn.functional.max_unpool1d\",\"paddle.nn.functional.max_unpool2d\",\"paddle.nn.functional.max_unpool3d\",\"paddle.nn.functional.maxout\",\"paddle.nn.functional.mish\",\"paddle.nn.functional.mse_loss\",\"paddle.nn.functional.multi_label_soft_margin_loss\",\"paddle.nn.functional.multi_margin_loss\",\"paddle.nn.functional.nll_loss\",\"paddle.nn.functional.normalize\",\"paddle.nn.functional.npair_loss\",\"paddle.nn.functional.one_hot\",\"paddle.nn.functional.pad\",\"paddle.nn.functional.pairwise_distance\",\"paddle.nn.functional.pixel_shuffle\",\"paddle.nn.functional.pixel_unshuffle\",\"paddle.nn.functional.poisson_nll_loss\",\"paddle.nn.functional.prelu\",\"paddle.nn.functional.relu\",\"paddle.nn.functional.relu6\",\"paddle.nn.functional.rnnt_loss\",\"paddle.nn.functional.rrelu\",\"paddle.nn.functional.scaled_dot_product_attention\",\"paddle.nn.functional.selu\",\"paddle.nn.functional.sequence_mask\",\"paddle.nn.functional.sigmoid\",\"paddle.nn.functional.sigmoid_focal_loss\",\"paddle.nn.functional.silu\",\"paddle.nn.functional.smooth_l1_loss\",\"paddle.nn.functional.soft_margin_loss\",\"paddle.nn.functional.softmax\",\"paddle.nn.functional.softmax_with_cross_entropy\",\"paddle.nn.functional.softplus\",\"paddle.nn.functional.softshrink\",\"paddle.nn.functional.softsign\",\"paddle.nn.functional.sparse_attention\",\"paddle.nn.functional.square_error_cost\",\"paddle.nn.functional.swish\",\"paddle.nn.functional.tanh\",\"paddle.nn.functional.tanhshrink\",\"paddle.nn.functional.temporal_shift\",\"paddle.nn.functional.thresholded_relu\",\"paddle.nn.functional.triplet_margin_with_distance_loss\",\"paddle.nn.functional.unfold\",\"paddle.nn.functional.upsample\",\"paddle.nn.functional.zeropad2d\",\"paddle.nn.quant.weight_only_linear\",\"paddle.nn.quant.weight_quantize\",\"paddle.nn.utils.parameters_to_vector\",\"paddle.nn.utils.vector_to_parameters\",\"paddle.nonzero\",\"paddle.normal\",\"paddle.not_equal\",\"paddle.numel\",\"paddle.ones\",\"paddle.ones_like\",\"paddle.outer\",\"paddle.pdist\",\"paddle.poisson\",\"paddle.polar\",\"paddle.polygamma\",\"paddle.positive\",\"paddle.pow\",\"paddle.prod\",\"paddle.put_along_axis\",\"paddle.quantile\",\"paddle.rad2deg\",\"paddle.rank\",\"paddle.real\",\"paddle.reciprocal\",\"paddle.reduce_as\",\"paddle.remainder\",\"paddle.renorm\",\"paddle.repeat_interleave\",\"paddle.reshape\",\"paddle.reverse\",\"paddle.roll\",\"paddle.rot90\",\"paddle.round\",\"paddle.row_stack\",\"paddle.rsqrt\",\"paddle.scale\",\"paddle.scatter\",\"paddle.scatter_nd\",\"paddle.scatter_nd_add\",\"paddle.searchsorted\",\"paddle.select_scatter\",\"paddle.sgn\",\"paddle.shape\",\"paddle.shard_index\",\"paddle.sign\",\"paddle.signal.istft\",\"paddle.signal.stft\",\"paddle.signbit\",\"paddle.sin\",\"paddle.sinc\",\"paddle.sinh\",\"paddle.slice\",\"paddle.slice_scatter\",\"paddle.sort\",\"paddle.sparse.abs\",\"paddle.sparse.add\",\"paddle.sparse.addmm\",\"paddle.sparse.asin\",\"paddle.sparse.asinh\",\"paddle.sparse.atan\",\"paddle.sparse.atanh\",\"paddle.sparse.cast\",\"paddle.sparse.coalesce\",\"paddle.sparse.deg2rad\",\"paddle.sparse.divide\",\"paddle.sparse.expm1\",\"paddle.sparse.isnan\",\"paddle.sparse.log1p\",\"paddle.sparse.mask_as\",\"paddle.sparse.masked_matmul\",\"paddle.sparse.matmul\",\"paddle.sparse.multiply\",\"paddle.sparse.mv\",\"paddle.sparse.neg\",\"paddle.sparse.nn.functional.attention\",\"paddle.sparse.nn.functional.conv2d\",\"paddle.sparse.nn.functional.conv3d\",\"paddle.sparse.nn.functional.leaky_relu\",\"paddle.sparse.nn.functional.max_pool3d\",\"paddle.sparse.nn.functional.relu\",\"paddle.sparse.nn.functional.relu6\",\"paddle.sparse.nn.functional.softmax\",\"paddle.sparse.nn.functional.subm_conv2d\",\"paddle.sparse.nn.functional.subm_conv2d_igemm\",\"paddle.sparse.nn.functional.subm_conv3d\",\"paddle.sparse.nn.functional.subm_conv3d_igemm\",\"paddle.sparse.pca_lowrank\",\"paddle.sparse.pow\",\"paddle.sparse.rad2deg\",\"paddle.sparse.reshape\",\"paddle.sparse.sin\",\"paddle.sparse.sinh\",\"paddle.sparse.slice\",\"paddle.sparse.sqrt\",\"paddle.sparse.square\",\"paddle.sparse.subtract\",\"paddle.sparse.sum\",\"paddle.sparse.tan\",\"paddle.sparse.tanh\",\"paddle.sparse.transpose\",\"paddle.split\",\"paddle.sqrt\",\"paddle.square\",\"paddle.squeeze\",\"paddle.stack\",\"paddle.standard_gamma\",\"paddle.standard_normal\",\"paddle.stanh\",\"paddle.std\",\"paddle.strided_slice\",\"paddle.subtract\",\"paddle.sum\",\"paddle.t\",\"paddle.take\",\"paddle.take_along_axis\",\"paddle.tan\",\"paddle.tanh\",\"paddle.tensor_split\",\"paddle.Tensor.__abs__\",\"paddle.Tensor.__add__\",\"paddle.Tensor.__and__\",\"paddle.Tensor.__dir__\",\"paddle.Tensor.__div__\",\"paddle.Tensor.__eq__\",\"paddle.Tensor.__floordiv__\",\"paddle.Tensor.__ge__\",\"paddle.Tensor.__getitem__\",\"paddle.Tensor.__gt__\",\"paddle.Tensor.__le__\",\"paddle.Tensor.__len__\",\"paddle.Tensor.__lshift__\",\"paddle.Tensor.__lt__\",\"paddle.Tensor.__matmul__\",\"paddle.Tensor.__mod__\",\"paddle.Tensor.__mul__\",\"paddle.Tensor.__ne__\",\"paddle.Tensor.__neg__\",\"paddle.Tensor.__nonzero__\",\"paddle.Tensor.__or__\",\"paddle.Tensor.__pow__\",\"paddle.Tensor.__radd__\",\"paddle.Tensor.__rlshift__\",\"paddle.Tensor.__rmatmul__\",\"paddle.Tensor.__rmod__\",\"paddle.Tensor.__rmul__\",\"paddle.Tensor.__ror__\",\"paddle.Tensor.__rpow__\",\"paddle.Tensor.__rrshift__\",\"paddle.Tensor.__rshift__\",\"paddle.Tensor.__rsub__\",\"paddle.Tensor.__rtruediv__\",\"paddle.Tensor.__rxor__\",\"paddle.Tensor.__setitem__\",\"paddle.Tensor.__sub__\",\"paddle.Tensor.__truediv__\",\"paddle.Tensor.__xor__\",\"paddle.Tensor.abs\",\"paddle.Tensor.add\",\"paddle.Tensor.all\",\"paddle.Tensor.amax\",\"paddle.Tensor.amin\",\"paddle.Tensor.any\",\"paddle.Tensor.argmax\",\"paddle.Tensor.argsort\",\"paddle.Tensor.astype\",\"paddle.Tensor.atanh\",\"paddle.Tensor.bernoulli_\",\"paddle.Tensor.bmm\",\"paddle.Tensor.broadcast_to\",\"paddle.Tensor.cast\",\"paddle.Tensor.cauchy_\",\"paddle.Tensor.ceil\",\"paddle.Tensor.cholesky_solve\",\"paddle.Tensor.chunk\",\"paddle.Tensor.clip\",\"paddle.Tensor.clone\",\"paddle.Tensor.coalesce\",\"paddle.Tensor.conj\",\"paddle.Tensor.cos\",\"paddle.Tensor.cumprod\",\"paddle.Tensor.cumsum\",\"paddle.Tensor.detach\",\"paddle.Tensor.diag_embed\",\"paddle.Tensor.diagonal\",\"paddle.Tensor.diff\",\"paddle.Tensor.digamma\",\"paddle.Tensor.dim\",\"paddle.Tensor.divide\",\"paddle.Tensor.dot\",\"paddle.Tensor.equal\",\"paddle.Tensor.equal_all\",\"paddle.Tensor.erfinv\",\"paddle.Tensor.exp\",\"paddle.Tensor.expand\",\"paddle.Tensor.expand_as\",\"paddle.Tensor.exponential_\",\"paddle.Tensor.fill_\",\"paddle.Tensor.fill_diagonal_\",\"paddle.Tensor.fill_diagonal_tensor\",\"paddle.Tensor.flatten\",\"paddle.Tensor.flip\",\"paddle.Tensor.floor\",\"paddle.Tensor.frexp\",\"paddle.Tensor.gather\",\"paddle.Tensor.gather_nd\",\"paddle.Tensor.gcd\",\"paddle.Tensor.geometric_\",\"paddle.Tensor.greater_equal\",\"paddle.Tensor.imag\",\"paddle.Tensor.index_select\",\"paddle.Tensor.inner\",\"paddle.Tensor.inverse\",\"paddle.Tensor.is_coalesced\",\"paddle.Tensor.is_complex\",\"paddle.Tensor.isclose\",\"paddle.Tensor.isinf\",\"paddle.Tensor.isnan\",\"paddle.Tensor.item\",\"paddle.Tensor.kthvalue\",\"paddle.Tensor.lerp\",\"paddle.Tensor.less\",\"paddle.Tensor.lgamma\",\"paddle.Tensor.log\",\"paddle.Tensor.log_normal_\",\"paddle.Tensor.log10\",\"paddle.Tensor.log1p\",\"paddle.Tensor.logical_and\",\"paddle.Tensor.logical_not\",\"paddle.Tensor.logical_or\",\"paddle.Tensor.logit\",\"paddle.Tensor.lu\",\"paddle.Tensor.masked_fill\",\"paddle.Tensor.masked_select\",\"paddle.Tensor.matmul\",\"paddle.Tensor.max\",\"paddle.Tensor.mean\",\"paddle.Tensor.median\",\"paddle.Tensor.min\",\"paddle.Tensor.mm\",\"paddle.Tensor.mod\",\"paddle.Tensor.mode\",\"paddle.Tensor.moveaxis\",\"paddle.Tensor.multigammaln\",\"paddle.Tensor.multiply\",\"paddle.Tensor.nansum\",\"paddle.Tensor.neg\",\"paddle.Tensor.nonzero\",\"paddle.Tensor.norm\",\"paddle.Tensor.normal_\",\"paddle.Tensor.not_equal\",\"paddle.Tensor.outer\",\"paddle.Tensor.pow\",\"paddle.Tensor.prod\",\"paddle.Tensor.put_along_axis\",\"paddle.Tensor.quantile\",\"paddle.Tensor.rad2deg\",\"paddle.Tensor.rank\",\"paddle.Tensor.real\",\"paddle.Tensor.reciprocal\",\"paddle.Tensor.remainder\",\"paddle.Tensor.repeat_interleave\",\"paddle.Tensor.reshape\",\"paddle.Tensor.rot90\",\"paddle.Tensor.round\",\"paddle.Tensor.rsqrt\",\"paddle.Tensor.scale\",\"paddle.Tensor.set_\",\"paddle.Tensor.sigmoid\",\"paddle.Tensor.sign\",\"paddle.Tensor.signbit\",\"paddle.Tensor.sin\",\"paddle.Tensor.slice\",\"paddle.Tensor.slice_scatter\",\"paddle.Tensor.sort\",\"paddle.Tensor.split\",\"paddle.Tensor.sqrt\",\"paddle.Tensor.square\",\"paddle.Tensor.squeeze\",\"paddle.Tensor.std\",\"paddle.Tensor.subtract\",\"paddle.Tensor.sum\",\"paddle.Tensor.take_along_axis\",\"paddle.Tensor.tanh\",\"paddle.Tensor.tile\",\"paddle.Tensor.tolist\",\"paddle.Tensor.topk\",\"paddle.Tensor.transpose\",\"paddle.Tensor.tril\",\"paddle.Tensor.trunc\",\"paddle.Tensor.unbind\",\"paddle.Tensor.unflatten\",\"paddle.Tensor.unique\",\"paddle.Tensor.unsqueeze\",\"paddle.Tensor.var\",\"paddle.Tensor.zero_\",\"paddle.tensordot\",\"paddle.tile\",\"paddle.tolist\",\"paddle.topk\",\"paddle.trace\",\"paddle.transpose\",\"paddle.trapezoid\",\"paddle.tril\",\"paddle.tril_indices\",\"paddle.triu\",\"paddle.triu_indices\",\"paddle.trunc\",\"paddle.unbind\",\"paddle.unflatten\",\"paddle.unfold\",\"paddle.unique\",\"paddle.unique_consecutive\",\"paddle.unsqueeze\",\"paddle.unstack\",\"paddle.vander\",\"paddle.var\",\"paddle.vecdot\",\"paddle.view\",\"paddle.view_as\",\"paddle.vision.ops.box_coder\",\"paddle.vision.ops.decode_jpeg\",\"paddle.vision.ops.deform_conv2d\",\"paddle.vision.ops.distribute_fpn_proposals\",\"paddle.vision.ops.generate_proposals\",\"paddle.vision.ops.matrix_nms\",\"paddle.vision.ops.nms\",\"paddle.vision.ops.prior_box\",\"paddle.vision.ops.psroi_pool\",\"paddle.vision.ops.roi_align\",\"paddle.vision.ops.roi_pool\",\"paddle.vision.ops.yolo_box\",\"paddle.vision.ops.yolo_loss\",\"paddle.vsplit\",\"paddle.vstack\",\"paddle.where\",\"paddle.zeros\",\"paddle.zeros_like\"]\r\n\r\nresult = collections.OrderedDict()\r\n\r\nfor api in api_mapping:\r\n    if len(api_mapping[api]) == 0:\r\n        continue\r\n    if api in api_list:\r\n        result[api] = api_mapping[api]\r\n\r\nwith open(\"map.json\", \"w\") as f:\r\n    json.dump(result, f, indent=6)\r\n\r\n```",
        "issue_number": "206",
        "state": "closed",
        "merged": true,
        "user": "wanghuancoder",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-29T07:04:08+00:00",
        "closed_at": "2025-05-29T07:37:21+00:00",
        "additions": 1096,
        "deletions": 4109,
        "changed_files": 1,
        "commits": [
            "688946e284a7b82f8f9957e1377e013861d6f50e",
            "6175da79745508a3dd9581b8965facabe274dfcf",
            "893435d0ffd9d402defc44241515b3d201935660",
            "e26c63feb9329bbe8e46aafca2c0e1d19a7ed4fd"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": [
            "Cutelemon6",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 208,
        "title": "[BIT] 0523 0528 回测修复 & 确认 assign full fused_linear fused_feedforward fused_linear_activation",
        "body": "## 0523 全量回测\r\n\r\n### paddle.assign \r\n\r\n1. 对齐 shape：对于标量输入，初始化一个 shape == [1] 的 torch tensor\r\n\r\n   ```python\r\n   # ...\r\n   # handle scalar input: wrap by list\r\n   elif isinstance(tlist, (int, float, bool)):\r\n       py2torch_type_mapping = {float: torch.float64, int: torch.int64, bool: torch.bool}\r\n       dtype = py2torch_type_mapping[type(tlist)]\r\n       return torch.tensor([tlist], dtype=dtype)\r\n   ```\r\n\r\n2. 对齐 dtype：对于 list / tuple 中的标量或者标量输入，如果标量类型为 float，torch 输出 dtype 为 torch.float64；标量类型为 int，torch 输出 dtype 为 torch.int64；标量类型为 bool，torch 输出 dtype 为 torch.bool\r\n\r\n   ```python\r\n   dtype_mapping = {float: torch.float64, int: torch.int64, bool: torch.bool}\r\n   dtype = dtype_mapping[type(tlist)]\r\n   return torch.tensor([tlist], dtype=dtype)\r\n   ```\r\n\r\n配置均通过，移入 accuracy_8.txt\r\n\r\n\r\n\r\n### paddle.full \r\n\r\n对齐 dtype == None 或者缺省时的行为\r\n\r\n1. fill_value 为 complex，设置 torch 输出为 torch.complex128 而不是 torch.complex64\r\n2. fill_value 为 bool，无需额外对齐，即 dtype == None, type(fill_value) ==bool 时 torch 和 paddle 输出一致\r\n3. 其他情况下设置 torch 输出为 torch.float32\r\n\r\n```python\r\ndtype = locals().get('dtype')\r\nif dtype is None and not isinstance(fill_value, bool):\r\n    if isinstance(fill_value, complex):\r\n        dtype = torch.complex128\r\n    else:\r\n        dtype = torch.float32\r\n```\r\n\r\n配置均通过，移入 accuracy_8.txt\r\n\r\n\r\n\r\n### paddle.incubate.nn.functional.fused_linear\r\n\r\n11 个出现在 pending_accuracy_1.txt 的配置重复运行了 3 次，均通过，移入 accuracy_8.txt\r\n\r\n2 个出现在 pending_accuracy_error_1.txt 的配置重复运行了 3 次，均出现 accuracy error，移入 accuracy_error_1.txt\r\n\r\n\r\n\r\n## 0528 accuracy error 检查\r\n\r\n### paddle.incubate.nn.functional.fused_feedforward\r\n\r\n经检查 accuracy_amp_error_1.txt 中 3 条 accuracy error 的配置具有随机性，移入 random_calculation.txt\r\n\r\npending_accuracy_amp_1.txt 中 1 条配置运行 3 次均通过，移入 accuracy_8.txt\r\n\r\n\r\n\r\n### paddle.incubate.nn.functional.fused_linear_activation\r\n\r\n经检查 P2T 代码没有问题，报错 log 提示是反向计算的 accuracy error。未移动配置。",
        "issue_number": "208",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-29T09:35:35+00:00",
        "closed_at": "2025-05-29T11:07:47+00:00",
        "additions": 261,
        "deletions": 229,
        "changed_files": 10,
        "commits": [
            "cbcfdc34621ff00fe36fa7353823d52c4ebfa90c",
            "2059d7167bdef359ca414bc5a305d79dd401c8d1",
            "17c7c6557339b123c7a18f4a8177df1a14e7af3e",
            "f7021b73f73ebb42dd7fb437259e84781034da3f",
            "95fd7e9a86fa76e18aa76569ee019f71380f042b",
            "dba1db746cd8ddf890259f1fa737ba3db7ba13dd",
            "6f8265be65e264ce67c3a49c85e270a5d333f87e",
            "a39ed7a7a7c461af4dc93bc6a8317d6a4ec69813"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 210,
        "title": "[BIT] Split accuracy_amp_1",
        "body": "1. 移除 tester/api_config/6_accuracy_amp/accuracy_amp_1.txt 中所有 cpu 出错的配置\r\n2. 新增 accuracy_amp_cpu_error 与 accuracy_amp_cpu_kernel 文件",
        "issue_number": "210",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-29T12:05:25+00:00",
        "closed_at": "2025-05-29T12:16:20+00:00",
        "additions": 642,
        "deletions": 642,
        "changed_files": 4,
        "commits": [
            "3cb8996e33d81f25be3fe74b8a88f0043da7f3f3"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 211,
        "title": "[BIT]回测问题修复：cast、Tensor.cast、var、nn.functional.gumbel_softmax",
        "body": "### 修复情况\r\n\r\n本次修复了 `paddle.cast`、`paddle.Tensor.cast`、`paddle.var`、`paddle.nn.functional.gumbel_softmax` 共 4 个 API 的回测精度问题，具体情况如下：\r\n| PaddlePaddle API 名称 | 精度问题描述 | 解决方法 |\r\n|:----------------------|:-------------|:---------|\r\n| paddle.cast | 相关配置中含有字符串 “float”，需要转为 Python 内建的 float64 类型，原来修复[#pr130](https://github.com/PFCCLab/PaddleAPITest/pull/130)修复有误，在 base.py 中错误设置为 float32 | 在 base 文件 `convert_dtype_to_torch_type` 函数中，将 “float” 调整到 `return torch.float64`，目前仅 cast 和 Tensor.cast 会用到 “float” 和 “double”，不会影响其他 API 配置 |\r\n| paddle.Tensor.cast | 与 paddle.cast 问题相同 | 与 paddle.cast 修复方式相同 |\r\n| paddle.var | 当输入 Tensor 为标量时，两者输出表现不一致 | 添加 rule：`VarRule`，对 `x.dim() == 0` 的情况做特殊处理 |\r\n| paddle.nn.functional.gumbel_softmax | 查看文档，该 API 会使用 gumbel 噪声，计算过程具有随机性 | 将 API 的相关配置移入 `random_calculation.txt` |\r\n\r\n### 合并测试结果\r\n将原来已通过的配置和 pending 配置合并后，共121380条，均能通过。",
        "issue_number": "211",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-29T16:05:01+00:00",
        "closed_at": "2025-05-30T06:08:42+00:00",
        "additions": 44,
        "deletions": 28,
        "changed_files": 8,
        "commits": [
            "b1a082b0dd6fc5ff53a75203807f68430008636d",
            "dab3f94ef8fb25c70f4340672ddfb0782fdd7a0c"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 205,
        "title": "[BIT] Add cpu report, mv cpu error configs",
        "body": "1. 新增 accuracy_1 ~ accuracy_7 的 cpu 测试报告\r\n2. 移除所有 cpu 报错配置\r\n3. 新增 cpu 报错配置集 accuracy_cpu_error 与 cpu 内核未找到配置集 accuracy_cpu_kernel\r\n4. 更新 error_stat",
        "issue_number": "205",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-29T05:29:44+00:00",
        "closed_at": "2025-05-29T07:33:11+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [
            "1fce0db66938839832398e280beeb031d4459b60",
            "84e28e8037280bed1334230295151626a12b8f9c"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "wanghuancoder"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 213,
        "title": "[BIt] 引擎能力回测",
        "body": "## 经过多次运行 未发现错误 \r\n- paddle.ceil\r\n- paddle.clone\r\n- paddle.Tensor.__truediv__\r\n- paddle.einsum\r\n- paddle.pow\r\n- paddle.nn.functional.gelu\r\n## 随机到特殊的数据后 会出现error\r\n- paddle.nn.functional.upsample\r\n- paddle.nn.functional.embedding\r\n- paddle.round\r\n- paddle.nn.functional.max_pool2d\r\n- paddle.incubate.nn.functional.variable_length_memory_efficient_attention\r\n- paddle.cumsum\r\n## dtype问题\r\n- paddle.nn.functional.conv2d_transpose",
        "issue_number": "213",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-30T07:19:29+00:00",
        "closed_at": "2025-05-30T07:48:47+00:00",
        "additions": 1379,
        "deletions": 1378,
        "changed_files": 6,
        "commits": [
            "0e72abe6257faf055d5312138b1813f8d7bc89a3",
            "2f24ade8142fc4f199f97b8e314b3981ba3a1a33",
            "316591f37031e9e78759458bc377cbe7fcd3ae3f",
            "a048c24aa91b26411335f4c4d3621000a733cc27"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 214,
        "title": "[BIT] 引擎能力回测",
        "body": "之前出现dtype问题的解决方法是手写rule进行修复并移入accuracy\r\n现在将ruler进行移除 将配置放入dtype diff",
        "issue_number": "214",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-30T08:00:57+00:00",
        "closed_at": "2025-05-30T08:48:01+00:00",
        "additions": 507,
        "deletions": 555,
        "changed_files": 4,
        "commits": [
            "b321fa89ebc0112f011f22ef1f96f5f498ef256c",
            "7065270b89b4ad61b8b706a552b0b68c6385406f"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 212,
        "title": "[Accuracy diff No.15] Fix accuracy diff for cumprod API",
        "body": "- https://github.com/PaddlePaddle/Paddle/pull/72897#\r\n\r\nTorch 和 numpy 在 dtype 为 None，处理输入时，如果输入整数精度小于平台的默认整数时，会使用平台默认整数，cast 成 int64，所以直接设定 dtype 为 x.dtype\r\n\r\nall config in `5_accuracy/accuracy_4.txt`,`5_accuracy/accuracy_6.txt` and `5_accuracy/accuracy_error_1.txt` has passed.\r\n![图片](https://github.com/user-attachments/assets/01bd08c8-5a13-48ee-b525-d6129f83f712)\r\n",
        "issue_number": "212",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-30T02:08:49+00:00",
        "closed_at": "2025-06-04T10:53:40+00:00",
        "additions": 3,
        "deletions": 4,
        "changed_files": 1,
        "commits": [
            "33a71aa1d872cc2d5524559eeb6bc41dfe1fb480",
            "710cac60011597430302b348a4a4dc19b8fbc7f6"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "ooooo-create"
        ],
        "review_by": [
            "Cutelemon6",
            "ooooo-create",
            "Cutelemon6",
            "ooooo-create",
            "Cutelemon6",
            "wanghuancoder",
            "ooooo-create"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 209,
        "title": "[BIT] 引擎回测修复",
        "body": "## dtype diff\r\n- paddle.linalg.lstsq\r\n- paddle.atan2\r\n- paddle.bmm\r\n## grad diff\r\n- paddle.diagonal_scatter\r\n- paddle.lerp\r\n- paddle.nn.utils.parameters_to_vector\r\n- paddle.concat\r\n- paddle.vision.ops.deform_conv2d\r\n- paddle.vision.ops.roi_align\r\n- paddle.combinations\r\n## 其他\r\n- paddle.unique\r\n输出参数比torch多 需要在accuracy中进行拦截 \r\n- paddle.concat\r\n非法样例 放入not support\r\n- paddle.all\r\n当输入0size tensor 需要返回True\r\n- paddle.count_nonzero\r\n维度不一致 需要reshape\r\n## 未复现错误\r\n- paddle.diagflat\r\n- paddle.unique_consecutive",
        "issue_number": "209",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-29T10:31:13+00:00",
        "closed_at": "2025-05-30T06:18:37+00:00",
        "additions": 9086,
        "deletions": 9042,
        "changed_files": 14,
        "commits": [
            "d2b868ae99af548f6b9f103426659cbaa6ae2f8f",
            "0c0dd089e11b1373ea98cde7ba4eedc4867805b8",
            "c9cbc1bd2bce721bf26316eaeaed9a9d2d62e017",
            "2ee23bbeb62d3c8bb509bc189c7a959a7c20b3c1",
            "c4038d724d627e25e2fd694d9c3590b13ff68d72",
            "80bb9867bf254e5b9755e0705a3c963dddc7a3c0",
            "4b90dd3d57b1eb5167c39d72ee201bb509cfbde4",
            "71500ffed7eb14fc146b10ee358576b10a24cbdd",
            "59cce2ca56283daed1d891b302b394fae5cc50b7",
            "e78972385e6d71b6e191aa7f8e172ded3a8523d6",
            "8df2793c65fd56c15cbe91545e60b9e1aa3d8a02"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "yuwu46"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 215,
        "title": "[BIT] 0523 amp 回测 & 0528 accuracy 检查 & 剩余未认领检查",
        "body": "## 0523 accuracy amp 检查\r\n\r\n### paddle.incubate.nn.functional.fused_layer_norm\r\n\r\n仅 dtype 输出有差别，将 api 加入到 base.py -- not_check_dtype 列表后在 pending_accuracy_amp_1.txt 中的配置全部通过，移入 dtype_diff.txt\r\n\r\n### paddle.incubate.nn.functional.swiglu\r\n\r\npending_accuracy_amp_1.txt 中的 4 个配置是 bf16，不需要 --test_amp=True。\r\n\r\n精度测试后全部通过，移入 accuracy_8.txt\r\n\r\n### paddle.Tensor.fill_diagonal_\r\n\r\n默认映射未处理参数 offset != 0 的情况，手动模拟 offset 的结果。\r\n\r\n配置测试后均通过，移入 accuracy_8.txt。\r\n\r\n## 未认领检查\r\n\r\n### paddle.copysign\r\n\r\nint8 的配置会出现 accuracy error，dtype_diff.txt 和 accuracy_error_1.txt 都放了一份 int8 的配置\r\n\r\n```python\r\npaddle.copysign(Tensor([10, 20],\"int8\"), Tensor([10, 20],\"int8\"), )\r\npaddle.copysign(Tensor([12, 20, 2],\"int8\"), Tensor([12, 20, 2],\"int8\"), )\r\npaddle.copysign(Tensor([2, 3, 4, 5],\"int8\"), Tensor([2, 3, 4, 5],\"int8\"), )\r\n```\r\n\r\n### paddle.trace\r\n\r\n昊阳写的 rule 有一个 accuracy error，没看出来是否是 paddle 的问题，还是 rule 的问题，放入 uncertain_accuracy_error.txt\r\n\r\n## 0528 accuracy error 检查\r\n\r\n### paddle.nn.functional.cosine_similarity\r\n\r\n已确认是 paddle 库实现导致的部分用例的 acuracy error，已向 paddle 提交 PR [#73014: [Accuracy diff No.40-41] · PaddlePaddle/Paddle](https://github.com/PaddlePaddle/Paddle/pull/73014)，暂时对 accuracy_error_1.txt 中的配置不作移动。",
        "issue_number": "215",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-30T08:36:28+00:00",
        "closed_at": "2025-05-30T08:56:58+00:00",
        "additions": 80,
        "deletions": 32,
        "changed_files": 10,
        "commits": [
            "f4aa9add1f860cb4ab11bef53d3c2cc6f65d3634",
            "81c19ee383a409a142aa9b18ce3cb9092509805b",
            "33e956f5241f6b6ffd610d3bcc1d2ebedb53fa5d",
            "b5c08895e80de914d07c3da2404b73da48e527f4",
            "73bac91bc7d8b8ae7fe118bad5ed4d3e3bbc6871",
            "c0a10e92719b1fd796381cf6c2ef849bf306d1a3",
            "3d80f5e9b273389d9952c172014d83dbe0addfc3",
            "51566202bea34856c098c7cb8c4fe184d4dd56c5",
            "e568af3893aee6010a0b4895a0ea092c7f41fa10"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 216,
        "title": "[BIT] move uncertain configs",
        "body": "1. paddle.nn.functional.avg_pool3d 两条error配置均有50%差异，怀疑是padding参数在内部的行为不同，移入uncertain\r\n2. paddle.nn.functional.batch_norm 大部分测试pass，少部分error（76比10），且mapping与rule没有任何其他处理，因此坚持上报\r\n3. 移除多余的 paddle.std",
        "issue_number": "216",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-30T09:27:41+00:00",
        "closed_at": "2025-05-30T10:03:42+00:00",
        "additions": 6,
        "deletions": 16,
        "changed_files": 3,
        "commits": [
            "1c9c8a85aaca0fe6374efdfa805c7550379d5275"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 218,
        "title": "[Accuracy diff No.51、67] Fix accuracy diff for put_along_axis API",
        "body": "1. reduce = assign，indices 包含索引不唯一的时候（索引到原来张量的同一个位置），torch gpu 下是非确定性的，cpu 和 paddle 一样会使用重复的最后一个索引的值，迁移到 random_calculation.txt 中\r\n2. paddle gpu 中的实现，看代码感觉初衷就是为了达到使用最后一个索引的值的效果，但是遇到大Tensor和重复索引的时候，会出现随机选取的现象（不确定是不是没有进行线程块之间的同步，就判断进行了赋值，分成两个 kernel 实现可能比较好）",
        "issue_number": "218",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-02T02:33:07+00:00",
        "closed_at": "2025-06-04T06:12:05+00:00",
        "additions": 37,
        "deletions": 36,
        "changed_files": 5,
        "commits": [
            "6783398ab08ff54d04bee24cbcd85b83c47d3b37",
            "2f6190172ac5941e1caf51bf04dba2e6de70c455",
            "a10ab6947b097758c95e8cc902665d61acdc7d6c"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "cszdrg",
            "cszdrg",
            "ooooo-create",
            "cszdrg",
            "ooooo-create",
            "cszdrg",
            "ooooo-create",
            "cszdrg",
            "ooooo-create",
            "cszdrg",
            "ooooo-create"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 220,
        "title": "[BIT] Optimize log write speed",
        "body": "1. aggregate_logs 采用二进制读写，避免编码负担\r\n2. 写入时执行行截断（10000字符），避免大tensor时的过长字符串\r\n3. 优化 log writer 部分代码\r\n4. 更新 engineV2-README.md",
        "issue_number": "220",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-03T04:16:12+00:00",
        "closed_at": "2025-06-03T06:36:19+00:00",
        "additions": 45,
        "deletions": 35,
        "changed_files": 2,
        "commits": [
            "57deb562ed73b993fabb50e98a8a52619a456052",
            "e1b0ffdddb8805f95e30ec4caaf5110cb8271e1c"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 219,
        "title": "[Accuracy diff No.6、7、58] Fix accuracy diff for argsort API",
        "body": "argsort 中 如果stale=False，为不稳定排序 ，输出的index顺序是并非有序的，存在随机性，将所有的stale=False配置移入random中\r\n同理 sort若为非稳定排序，在梯度回传会与torch存在精度差异 也移入random",
        "issue_number": "219",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-03T03:48:23+00:00",
        "closed_at": "2025-06-03T04:45:40+00:00",
        "additions": 120,
        "deletions": 120,
        "changed_files": 5,
        "commits": [
            "197d822b81b3cf30eddb134009afc5b561f7a1fb",
            "8be1c59cbf4766fb14cc404c087380cf27048c28"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 217,
        "title": "[Accuracy diff No.70] Fix accuracy diff for topk API",
        "body": "topk 返回的索引，相同元素的情况不保证是稳定的，更加关注前面的值",
        "issue_number": "217",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-05-30T16:33:41+00:00",
        "closed_at": "2025-06-05T06:25:40+00:00",
        "additions": 50,
        "deletions": 4,
        "changed_files": 3,
        "commits": [
            "3940ca9befe219672d8526333f6805bf08163a61",
            "e5dd42900e1d2832ceef36465aefb9e4e7431bce",
            "eadc457747c9314efc8bf49b25a15f4ae1ff7b0b",
            "5ade4366a6f2e8375151105c66787af22ded7dc3",
            "ca21f30fb9e5570b9a1035399cc4f4690f31ce6a"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "Cutelemon6",
            "ooooo-create"
        ],
        "review_by": [
            "Cutelemon6",
            "ooooo-create",
            "Cutelemon6",
            "ooooo-create",
            "Cutelemon6",
            "Cutelemon6",
            "ooooo-create",
            "Cutelemon6",
            "Cutelemon6",
            "ooooo-create",
            "ooooo-create",
            "ooooo-create",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "ooooo-create",
            "Cutelemon6",
            "ooooo-create",
            "Cutelemon6",
            "ooooo-create",
            "Cutelemon6",
            "Cutelemon6",
            "ooooo-create",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 221,
        "title": "[BIT] Decrease torch num threads",
        "body": "1. 减少线程数为 8，减少 OOM 率\r\n2. 增加 torch assert 失败、元素数量超过 cache 上限时的报错信息",
        "issue_number": "221",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-03T13:26:14+00:00",
        "closed_at": "2025-06-04T08:19:12+00:00",
        "additions": 6,
        "deletions": 3,
        "changed_files": 3,
        "commits": [
            "425146ef9041b1d0fd287e5e2fa396325c48fd38",
            "4ea8b5fd47be455c18f1af186c6449723cc01a1b"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 224,
        "title": "[BIT] update README.md",
        "body": null,
        "issue_number": "224",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-04T10:31:31+00:00",
        "closed_at": "2025-06-04T11:20:48+00:00",
        "additions": 73,
        "deletions": 31,
        "changed_files": 1,
        "commits": [
            "a2d93634cf0753875893dbb73a5c1b988f538989",
            "9dd6c7e81e860903e3c0db82ce9008485a52e9ab",
            "d5a21161f1caf7ad617328aa27628f6d318135c9",
            "77f4e7de00a1970e0de4400a36278d8ccfc2c5ec"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 226,
        "title": "[BIT] Add big tensor report 0528",
        "body": null,
        "issue_number": "226",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-05T08:25:59+00:00",
        "closed_at": "2025-06-05T08:28:29+00:00",
        "additions": 461766,
        "deletions": 78276,
        "changed_files": 7,
        "commits": [
            "dc6e0e7dcfcfdfe0c5d2c21226bbe029490ab03f"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 225,
        "title": "[BIT] Update readme",
        "body": "更新 README.md 与 engineV2-README.md",
        "issue_number": "225",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-04T13:48:42+00:00",
        "closed_at": "2025-06-05T01:30:16+00:00",
        "additions": 78,
        "deletions": 88,
        "changed_files": 2,
        "commits": [
            "ae2e3e34e92bfce4748dae135ec571a182a2d0b0"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 223,
        "title": "[BIT] 回归问题修复：reshape、slice, move cpu error configs",
        "body": "## 修复 5_accuracy/accuracy_cpu_error.txt 回测中发现的问题：\r\n1. paddle.incubate.softmax_mask_fuse_upper_triangle、paddle.nn.functional.margin_cross_entropy 为仅支持 gpu 的 api，移至 5_accuracy/accuracy_8\r\n2. paddle.add_n 的一条配置为 amp 且不通过 cpu 测试，移动至 6_accuracy_amp/accuracy_amp_cpu_error.txt\r\n3. paddle.linalg.eigvals 为随机 api，移至 2_paddle_only_random/random_calculation.txt\r\n4. paddle.nn.functional.rrelu、paddle.nn.functional.max_pool3d 为 gpu 精度有误，移至 5_accuracy/accuracy_gpu_error.txt\r\n5. paddle.reshape、paddle.slice 为 torch error，修复相应的 rule\r\n\r\n## 修复 rule 中的 TypeError 错误\r\n\r\n使用 Optional 替换 |",
        "issue_number": "223",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-04T07:35:45+00:00",
        "closed_at": "2025-06-04T08:17:51+00:00",
        "additions": 158,
        "deletions": 130,
        "changed_files": 8,
        "commits": [
            "d818f09f5da7ef02083221dde3c38cdc18564b02",
            "e7154d1d8b4c7b04371ba332f3304156d01d5586"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 222,
        "title": "[BIT] 引擎回测修复 0604",
        "body": "1. Check all random creation / calculation api configs in 5_accuracy, 6_accuracy_amp and comment base.py -- rand apis after check.\r\n2. Move not support api: scaled_dot_product_attention  configs (fp16, bf16) to 1_not_support, eg.\r\n    ```python\r\n    [paddle error] paddle.nn.functional.scaled_dot_product_attention(Tensor([2, 1, 8, 96],\"float16\"), Tensor([2, 92, 8, 96],\"float16\"), Tensor([2, 92, 8, 96],\"float16\"), attn_mask=None, is_causal=False, ) \r\n    (NotFound) The kernel with key (CPU, Undefined(AnyLayout), float16) of kernel `matmul` is not registered. Selected wrong DataType `float16`. Paddle support following DataTypes: int32, int64, float64, complex128, float32, complex64.\r\n    [Hint: Expected kernel_iter == iter->second.end() && kernel_key.backend() == Backend::CPU != true, but received kernel_iter == iter->second.end() && kernel_key.backend() == Backend::CPU:1 == true:1.] (at ../paddle/phi/core/kernel_factory.cc:317)\r\n    ```",
        "issue_number": "222",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-04T04:42:06+00:00",
        "closed_at": "2025-06-04T08:33:12+00:00",
        "additions": 474,
        "deletions": 480,
        "changed_files": 7,
        "commits": [
            "e30ecaafa5c06de2decffe57ba0d259eaf3dadfa",
            "172759303d35709077aa4c348784fc87a5ff3936",
            "5dfb0e9a1b06314a65309588fe038ebf92300e29",
            "c386392866ce030afdbbca05922732fe5b0c17e8",
            "96c2742dc73dc6bc703de0abca7836b51c2efda2",
            "d62a23201a563624844ee7a0d3d07dea4dd01334",
            "5b778d60ba29dbe254c7c7135498b093deb360db",
            "d1b3f547d24dfe711f9644f8e78fe3d2cc97d4c0",
            "5df91c0dfbc445eec026383f32f737e62762bd9d",
            "cf61fb955e39166f9775432729539907de34415d",
            "81852d95f62b1e1c7195050b259003d6cb2a6378",
            "db9e139f08a7125170210ff89554b61585933485",
            "d05ebd02ee535fa6edbfa6324463d9d3d49743b0"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 228,
        "title": "[BIT]回测问题修复：paddle.var",
        "body": "### 修复情况\r\n\r\n本次修复的是以下accuracy error配置:\r\n`paddle.var(Tensor([],\"float32\"), )`\r\n`paddle.var(Tensor([],\"float32\"), list[], )`\r\n\r\n在最新版本的paddle中，对于var中为标量的情况，已符合计算实际情况，输出为`nan`，无须再编写rule，直接映射就可与torch对齐。\r\n故删除rule，对于所有的var配置均能通过，未引入新的错误。\r\n<img width=\"960\" alt=\"截屏2025-06-05 16 55 29\" src=\"https://github.com/user-attachments/assets/0ff94874-3033-4e8c-b555-a58709bb49bc\" />\r\n上述两条配置本身就属于accuracy_8.txt，无需移动。",
        "issue_number": "228",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-05T09:09:52+00:00",
        "closed_at": "2025-06-05T10:37:09+00:00",
        "additions": 0,
        "deletions": 14,
        "changed_files": 2,
        "commits": [
            "cec1116dc091b8a38df9a3835665350678921039"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 227,
        "title": "[BIT] Add os.environ, fix test problems",
        "body": "1. 移除三条重复配置\r\n2. 为三个引擎增加环境变量\r\n3. 修复回测中发现的 paddle.reshape、paddle.nn.functional.avg_pool1d、paddle.nn.functional.max_pool1d 问题",
        "issue_number": "227",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-05T08:28:30+00:00",
        "closed_at": "2025-06-05T10:39:01+00:00",
        "additions": 21231,
        "deletions": 21217,
        "changed_files": 7,
        "commits": [
            "2f054328c2c943d9b325556164ca2dabaf3c7ea7",
            "70eeb61c45b472bf3d3d022f3db6b5c446eca1eb"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 229,
        "title": "[BIT] 0605 回测修复",
        "body": "将可能会产生 accuracy error 的 fused_linear 配置移动到 gpu accuracy error，我这里测试全部 pass，但是在昊阳的机器上两次回测都有这个 accuracy error",
        "issue_number": "229",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-05T09:19:25+00:00",
        "closed_at": "2025-06-05T10:38:20+00:00",
        "additions": 11,
        "deletions": 11,
        "changed_files": 2,
        "commits": [
            "f19eb42be99a9509a9be2ab7dd6119874424a671",
            "511085f408c8be9d8b17b046f4d8748aab20ed7e"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 231,
        "title": "[BIT] Fix dtype_diff and grads_diff",
        "body": "回测并检查 tester/api_config/5_accuracy 下的 accuracy_gpu_error_dtype_diff.txt 与 accuracy_gpu_error_grads_diff.txt 文件，发现基本无法通过测试。\r\n\r\n原因是在之前的 https://github.com/PFCCLab/PaddleAPITest/pull/209 等 pr 中仅直接移动配置，但没有添加至 not_check_dtype 或其他修复工作，本 pr 进行了完全地修复：\r\n\r\n1. 补齐 not_check_dtype 列表，在 acccuracy.py 中对反向不一致的 api 添加特殊处理\r\n2. 优化 paddle.clip 的 ClipRule，区分 Tensor 方法\r\n3. 修复 paddle.unique，此 api 属于参数不一致（paddle 多了 dtype 参数）导致的类型差异，编写了 UniqueRule 后直接 pass\r\n\r\n经测试，所有 5_accuracy 下的 dtype_diff 与 grads_diff 均能 pass，paddle.unique 的配置移动至 accuracy_8",
        "issue_number": "231",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-05T10:51:28+00:00",
        "closed_at": "2025-06-06T02:21:32+00:00",
        "additions": 87,
        "deletions": 27,
        "changed_files": 6,
        "commits": [
            "a256207b3978b70e71b99b47dc3e78192a347227",
            "9d8f4cc6ed35f37965963dc6ef35ed415d5c9da3",
            "dbabeacecd0a995ab7146d1b016ea40dcd02ec7b"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 233,
        "title": "[BIT] Add gpu accuracy and 0 size report",
        "body": "gpu accuracy 报告包括：\r\n- tester/api_config/5_accuracy/accuracy_gpu_error.txt（对应于report/ci_ce_gpu/20250528）\r\n- amp 配置集有点问题，正在整理\r\n\r\n0 size 报告包括：（新增 0 size 配置整理至 0_size_tensor_1_8.txt，不包含 torch error 部分）\r\n- tester/api_config/7_0_size/0_size_tensor_1_8.txt 与 tester/api_config/7_0_size/0_size_tensor_error_0319_gpu_accuracy.txt（对应于report/0size_tensor_gpu/20250528/accuracy）\r\n- tester/api_config/7_0_size/0_size_tensor_error_0319_gpu_paddleonly.txt（对应于report/0size_tensor_gpu/20250528/paddleonly）\r\n- tester/api_config/7_0_size/0_size_tensor_1_8.txt 与 tester/api_config/7_0_size/0_size_tensor_error_0319_cpu_accuracy.txt（对应于report/0size_tensor_cpu/20250528/accuracy）\r\n- tester/api_config/7_0_size/0_size_tensor_error_0319_cpu_paddleonly.txt（对应于report/0size_tensor_cpu/20250528/paddleonly）",
        "issue_number": "233",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-05T11:57:35+00:00",
        "closed_at": "2025-06-06T09:00:59+00:00",
        "additions": 1207505,
        "deletions": 4,
        "changed_files": 22,
        "commits": [
            "e291d7a0aeeee44cc4e216cd00f516f2f305d968",
            "94bcb59137af93a9df9bb40ada83da405140be7c",
            "0b72aba49eabd3dd9d146ba9a3b1ae18ebaa72cf",
            "3f5d4f7948ac9736a4da2d0b3e8e698bd642c6cd",
            "7bb6e0278d280017864be387be1fb44125b131ac",
            "7a746a463e4d9384753fd0359dc286f12eb18393",
            "5b13fc5d3de0b92214bd494a231a500d66fd5c24",
            "c27da5eddd5f9ab2b673a7d0f0c1c6668bb869a5",
            "43c570daaf6b39628e358c7ccfe57329efb03cd2",
            "57d3b43a0955e1658ad4eb97df2ef5be70838599",
            "b4a9b309108921b16bc5d02ab77d995766b5ca4a",
            "aea7bb9386f2fa8054dfb393bfc5c168f8eebdd6"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 230,
        "title": "[BIT] fix augument paser bugs, update run-example.sh",
        "body": "1. Fix the bug when pass `False` to bool argument but getting `True` due to the fact that bool evaluate everthing except `''` to True. A related issue in stackoverflow: [Parsing boolean values with argparse](https://stackoverflow.com/questions/15008758/parsing-boolean-values-with-argparse)\r\n2. Update run-example.sh. Group arguments to more cleaner view and add delete commands before running (commented for safety)",
        "issue_number": "230",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-05T10:05:05+00:00",
        "closed_at": "2025-06-06T02:19:53+00:00",
        "additions": 43,
        "deletions": 13,
        "changed_files": 2,
        "commits": [
            "86ff159ca1a86c26d7e62d20e76b7dc07dc0ea0f",
            "add132951c9502ba2475099885045ba52a7fb177",
            "d5aee38b81a8c697cc9ed5d3d0a63a8ad4343663",
            "37e59f1f9eeafe3d9ee245750640c54de2243db3",
            "6fdceeb513a6b0fe5d1fc29d09c8905c6ccd8bda"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 234,
        "title": "[Accuracy diff No.48-49] Fix accuracy diff for rrelu API",
        "body": "当 training=True 的时候，会产生 (lower, upper) 的均匀分布随机值\r\n![图片](https://github.com/user-attachments/assets/59b9f59d-0c3d-4d2d-b84b-af59c58d9afa)\r\n",
        "issue_number": "234",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-05T14:16:14+00:00",
        "closed_at": "2025-06-06T06:47:44+00:00",
        "additions": 7,
        "deletions": 6,
        "changed_files": 5,
        "commits": [
            "90e1af6887b665778ba218c5dbedafda75c854fa",
            "5c12d23bae3ff2c31a0e0f1d738bc3a6b5f43600"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "ooooo-create",
            "cangtianhuang",
            "ooooo-create"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 236,
        "title": "[BIT] 回测修复 paddle.dot",
        "body": "### paddle.dot\r\n\r\n错误原因是当输入为int类型的时候数据过大，导致越界\r\n\r\n修改方法：加入针对int类型的初始化\r\n\r\n配置已经在accuracy8里面，无需移动",
        "issue_number": "236",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-06T06:51:10+00:00",
        "closed_at": "2025-06-06T07:33:20+00:00",
        "additions": 5,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "530304dba9c95d5c67327a2a8539dff2d28a4da4",
            "89211daf4b6e057bd0797ab30354bfbb99aaa907"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 237,
        "title": "[BIT] 引擎能力回测",
        "body": "- paddle.Tensor.clip\r\nfloat64存在精度问题 移入error\r\n- paddle.all\r\nrule上次修复出现问题 重新修改并对所有样例进行测试 pass\r\n- paddle.count_nonzero \r\nrule上次修复出现问题 重新修改并对所有样例进行测试 pass\r\n- paddle.diagflat\r\n反向精度问题\r\n- paddle.nn.functional.sequence_mask\r\nrule上次修复出现问题 重新修改并对所有样例进行测试 pass\r\n",
        "issue_number": "237",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-06T08:55:28+00:00",
        "closed_at": "2025-06-06T09:30:36+00:00",
        "additions": 49,
        "deletions": 31,
        "changed_files": 5,
        "commits": [
            "2a338be400b1f917fd0ed4b925cb6a81974170bd",
            "2e934f494687a0286d1737c3b623771776e18630",
            "f61ddb7c7db373dfd10b8b797c0aacd35604872b",
            "b1922a80f320c4fc98a66029489c2271b9c9e2ea",
            "5bdab1e14c4b3c5010ecfcfbd867eff30c2cce96"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 238,
        "title": "[BIT] Move cpu_error and cpu_kernel configs",
        "body": "将 cpu 测试下报错的配置移动至 tester/api_config/5_accuracy/accuracy_cpu_error.txt 或 tester/api_config/5_accuracy/accuracy_cpu_kernel.txt 中",
        "issue_number": "238",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-06T13:21:14+00:00",
        "closed_at": "2025-06-09T02:18:50+00:00",
        "additions": 408,
        "deletions": 408,
        "changed_files": 5,
        "commits": [
            "dff5bcb67664de8e1ee182ad215a7ce2bde9ea4c"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 240,
        "title": "[BIT] Update tools and README",
        "body": "1. 更新所有 error_stat\r\n2. 更新其他小工具，删除两个无用小工具\r\n3. 更新 README",
        "issue_number": "240",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-08T10:55:32+00:00",
        "closed_at": "2025-06-09T02:20:16+00:00",
        "additions": 258,
        "deletions": 319,
        "changed_files": 11,
        "commits": [
            "221bc2368cd7650f235ddc15c6a6273edebda154",
            "cd67a695c1befc2ec89ec1e33767d7a18ce68adb",
            "6979e45c2e731bb3475c77b9fedab3f9d8d26b3e",
            "3e363acbe9b48ce20092a33b529608ed8f6aa5ca"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 235,
        "title": "[BIT] Fix accuracy_amp configs",
        "body": "回测时发现，6_accuracy_amp 配置集有多项问题，本 pr 统一整理：\r\n1. 移除大量重复的非 amp 的 paddle.nn.functional.binary_cross_entropy_with_logits 配置，其已经存在于 5_accuracy/accuracy_7.txt 或 5_accuracy/accuracy_gpu_error.txt 中\r\n2. 移除多项非 amp 配置，并在 gpu、cpu 模式下回测：paddle.add_n 移至 5_accuracy/accuracy_cpu_error.txt；其他配置移至 5_accuracy/accuracy_cpu_kernel.txt\r\n3. 将 cpu 测试不通过的两条 amp 配置 paddle.incubate.nn.functional.fused_feedforward、paddle.vision.ops.deform_conv2d 移至 6_accuracy_amp/accuracy_amp_cpu_error.txt\r\n4. 修复 6_accuracy_amp/accuracy_amp_gpu_dtype_diff.txt 无法通过的情况，将 api 添加至 not_check_dtype 列表\r\n\r\n修复后，6_accuracy_amp/accuracy_amp_1.txt 配置集为空",
        "issue_number": "235",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-06T05:47:48+00:00",
        "closed_at": "2025-06-06T07:02:16+00:00",
        "additions": 37,
        "deletions": 957,
        "changed_files": 9,
        "commits": [
            "9290109645f731e81ed8dadf1ce1ce162520b733",
            "9beef9045e7fe86b6f5c2748c4bcd593a0101aad"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 232,
        "title": "[BIT] Fix big tensor error report",
        "body": null,
        "issue_number": "232",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-05T11:35:38+00:00",
        "closed_at": "2025-06-06T07:11:59+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [
            "d6acea6be74180e567fc3d5a3aa854bc1a0a661e",
            "e31a171d634602a9be3c9a2c9a0bb13ca73061cf",
            "88c083569c8351430fb12402c9b348d9bc8e4e05"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 244,
        "title": "[BIT] 回测问题修复：fix mode, move linalg.matrix_rank configs",
        "body": "修复了`paddle.mode`和`paddle.linalg.matrix_rank`两个API的相关问题。\r\n### paddle.linalg.matrix_rank：\r\n部分配置在gpu下可以通过，但cpu下会出现accuracy error，rule中逻辑正确，将cpu下的错误配置移入`accuracy_cpu_error.txt`。\r\n\r\n### paddle.mode & paddle.Tensor.mode：\r\n在`accuracy.py`中为`paddle.mode`和`paddle.Tensor.mode`添加特殊处理，原因如下：\r\n`mode`返回的是众数和对应的索引，但`paddle.mode`源码中返回的是众数所在的最大索引，`torch.mode`返回的是所在最小索引，所以设置只比较众数值（`output[0]`），修改后未引入新的问题。",
        "issue_number": "244",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-09T07:18:31+00:00",
        "closed_at": "2025-06-09T07:24:49+00:00",
        "additions": 17,
        "deletions": 14,
        "changed_files": 3,
        "commits": [
            "d6e9eba2c7e57f67f32d6b7f85037a81a3378af4",
            "8f346a7066d9bb221ca8202cff9c24ce6b64548f"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 239,
        "title": "[BIT] Add ci_ce_gpu 0606 report",
        "body": "1. 修复 tester/api_config/5_accuracy/accuracy_gpu_error_dtype_diff.txt 配置集：\r\n  - 删除 CumsumRule 中手动对 dtype 的对齐\r\n  - 移除 paddle.clip、paddle.bmm 中非 dtype diff 配置，移至 accuracy_8\r\n2. 新增 report/ci_ce_gpu 报告，包括：\r\n  - report/ci_ce_gpu/20250606 子文件夹中的分类报告\r\n  - report/ci_ce_gpu/20250606 的整合报告\r\n  - report/ci_ce_gpu 的与 report/ci_ce_gpu/20250319 的整合报告\r\n3. 增加 tensor 打印行长度，修改 engineV2-README",
        "issue_number": "239",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-08T05:31:38+00:00",
        "closed_at": "2025-06-09T02:19:34+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [
            "6f99291985b1b846f8aa8a4775eb3db391c891c8",
            "e6c114d20ae73e6434d8e28c8a71bd316c3ab814"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 246,
        "title": "[BIT] Add ci_ce_cpu 0607 report",
        "body": "1. 修复 unflatten\r\n2. 移动数条已有 gpu error 的配置\r\n3. 新增 ci_ce_cpu 0607 报告",
        "issue_number": "246",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-09T16:00:59+00:00",
        "closed_at": "2025-06-10T02:53:38+00:00",
        "additions": 67786,
        "deletions": 151,
        "changed_files": 17,
        "commits": [
            "165149348c972dd0ec4a56114b0b71bae9ab72e8",
            "fbaa22d1b36b72dbda25d06747ae0a5151ddaf6c",
            "b3dec64d403596f958873a4fe76d4598fc7246b4"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 243,
        "title": "[BIT] cpu回测修复",
        "body": "- reshape无法处理0 size的tensor 进行修复\r\n- paddle.linalg.lstsq cpu下有accuracy问题 gpu没有问题",
        "issue_number": "243",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-09T06:48:14+00:00",
        "closed_at": "2025-06-09T09:11:18+00:00",
        "additions": 9,
        "deletions": 2,
        "changed_files": 2,
        "commits": [
            "f1261ff9e27f5c6ee3b8b78c2d7871f445d61ec0",
            "b4ba67d466234027f3ba815d129a9adf453ea357",
            "69a0eb298b6a32a06e48aa7626972d1b25714301"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cszdrg",
            "cangtianhuang",
            "cszdrg",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 241,
        "title": "[BIT] Update big tensor 0528 report",
        "body": "1. 更新 big tensor 0528 report\r\n2. 新增且合并 big_tensor 配置集",
        "issue_number": "241",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-08T14:23:23+00:00",
        "closed_at": "2025-06-09T02:28:42+00:00",
        "additions": 0,
        "deletions": 0,
        "changed_files": 0,
        "commits": [
            "9221407faedcc5e60247510bc69df7ac57a60a42",
            "55644c8c573d40e0ae0f54dc6246a85558749a16",
            "02c9378c6456543c4b8cf974637b1c475b81e79f"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 245,
        "title": "[BIT] Update 0size report",
        "body": "筛出 0size 报告中的 output type diff error 的配置，big tensor 的报告中没有此错误",
        "issue_number": "245",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-09T10:19:22+00:00",
        "closed_at": "2025-06-09T10:35:59+00:00",
        "additions": 18,
        "deletions": 1634,
        "changed_files": 14,
        "commits": [
            "4f6c9eaa83309d182f8a64278a24be08e265b435",
            "aac4954313cd49aa94cd270ad8421a5a4c8139d7",
            "aec20154a882c935a905956afac949ed6a272121"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 242,
        "title": "[BIT] fix paddle.unique",
        "body": "### 回测修复\r\n\r\n回测时发现paddle.unique会有dtype diff的报错，修改了accuracy中对于paddle.unique的特殊处理，并将rule部分统一返回tuple类型，已全部通过，并移入accuracy_8.txt",
        "issue_number": "242",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-09T05:03:27+00:00",
        "closed_at": "2025-06-09T06:09:34+00:00",
        "additions": 30,
        "deletions": 28,
        "changed_files": 4,
        "commits": [
            "d6484320390c38533538e603e72e80bda2d47c52",
            "5b025b7ff3610bef0e347dfbcf20974e6b85261f",
            "472d7b7b78c2148dce762e6f60ee1f31405d0821"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 249,
        "title": "[Accuracy diff No.88][BIT] Fix cpu 0607 report",
        "body": "移除 pass 报告",
        "issue_number": "249",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-10T04:15:08+00:00",
        "closed_at": "2025-06-10T04:31:59+00:00",
        "additions": 649,
        "deletions": 665,
        "changed_files": 6,
        "commits": [
            "5839c57ba3c6adcc4e49b3a2fae5e70d9cdb4eb5"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 251,
        "title": "[Accuracy diff No.50、134] Fix accuracy diff for paddle.prod API",
        "body": "For this failed case\r\n```txt\r\npaddle.prod(Tensor([3, 5],\"float32\"), keepdim=True, )\r\n```\r\nIn paddle, when axis is None, and keepdim is True, it will be a tensor with an element and keep input rank\r\nBut for the torch.prod api\r\n```\r\nif axis is None:\r\n\tresult = torch.prod(x, dtype = dtype)\r\n```\r\nit will return a 0 dims Tensor",
        "issue_number": "251",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-10T05:14:24+00:00",
        "closed_at": "2025-06-17T06:40:07+00:00",
        "additions": 2,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "698ed7e3d9d4f4daba994e37edf0308bd710e0f3"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "ooooo-create"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 247,
        "title": "[BIT] Add big tensor 0528 paddleonly report",
        "body": "新增 big tensor 0528 的测试报告与配置集",
        "issue_number": "247",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-09T16:03:16+00:00",
        "closed_at": "2025-06-10T04:43:37+00:00",
        "additions": 55502,
        "deletions": 4793,
        "changed_files": 11,
        "commits": [
            "a62b0a91dbed881037d35e95bb5111636eefc801"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 248,
        "title": "[BIT] Refine",
        "body": "1. 优化 engineV2 validate_gpu_options\r\n2. 优化 mapping.json、rules.py，移除 min_input_args、_format_arg\r\n3. 修复 paddle.std",
        "issue_number": "248",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-10T03:02:49+00:00",
        "closed_at": "2025-06-10T09:09:26+00:00",
        "additions": 308,
        "deletions": 598,
        "changed_files": 4,
        "commits": [
            "7686218bf2d53a657a06cde61d2af7ef608bdb9b",
            "4b251d4a5db3f8cff442da2d503db6a0b232e405",
            "bf5cba9227151e2a108820a85dc36e0172eb3e7d",
            "940fc9a10afe047e2e8359ea3e502c0e50ff9575",
            "fbcf7a67c4cb06128ea5b4451f6381dc6fa9ef84"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "Cutelemon6",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 250,
        "title": "[Accuracy diff No.139] Fix accuracy diff for paddle.strided_slice API",
        "body": "torch's from_dlpack now don't support negative strides\r\n",
        "issue_number": "250",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-10T04:35:31+00:00",
        "closed_at": "2025-06-10T09:24:24+00:00",
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "a1f75295185cf3dc1ee52791fb7e541468362c31"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "ooooo-create"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 256,
        "title": "[BIT] Add 5 test docs",
        "body": null,
        "issue_number": "256",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-11T15:30:13+00:00",
        "closed_at": "2025-06-12T02:17:07+00:00",
        "additions": 977,
        "deletions": 0,
        "changed_files": 5,
        "commits": [
            "2a61e6321eee4bbf23c6ee67ddc97b39862dcf3d"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 255,
        "title": "[BIT] Update engineV2",
        "body": "1. 优化 engineV2，取消 num_gpus=0 时的分支，确保测试时有 gpu 可用（实际上仅删除了 ifelse 中 num_gpus=0 时的分支，并把主要代码的缩进提前）；设置 num_gpus 的默认值为 -1\r\n2. 提前检查 validate_gpu_options 的位置，优化报错与打印信息\r\n3. 优化 run-example.sh\r\n4. 更新 README.md 与 engineV2-README.md",
        "issue_number": "255",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-11T15:06:36+00:00",
        "closed_at": "2025-06-12T02:17:29+00:00",
        "additions": 166,
        "deletions": 151,
        "changed_files": 4,
        "commits": [
            "792ea782b783b0313dcf8082227c75cce5ecbe4c",
            "6e66908f1e746b371a265025267dc22ace0231c8",
            "71417e6e74965d5804d859aba2704df6c87d58ff",
            "0e857f5e269609be2785589ff568c33e13b1e812"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 252,
        "title": "[Accuracy diff No.151、154] Fix accuracy diff for vander fpn",
        "body": "- fpn 输出的type类型不一致\r\n- vander from_dlpack 不支持负数的步长",
        "issue_number": "252",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-10T08:58:02+00:00",
        "closed_at": "2025-06-10T10:38:56+00:00",
        "additions": 4,
        "deletions": 4,
        "changed_files": 2,
        "commits": [
            "a5f3474ccb727f4b22b959dbfd0562b5791b227f",
            "79542a0c7b7f6d5a762aabdbe874a6104989aaed",
            "4c9d045274550b4232d969b17ae090731dffec9b",
            "0e29cfda088f265a1cac0b023422c002f3440180"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 253,
        "title": "[BIT] Add contiguous, fix numpy error",
        "body": "1. 新增 contiguous，修复 dlpack stride 不连续的报错\r\n2. 区分 paddle error 与 numpy error",
        "issue_number": "253",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-11T04:43:01+00:00",
        "closed_at": "2025-06-11T09:13:11+00:00",
        "additions": 21,
        "deletions": 6,
        "changed_files": 5,
        "commits": [
            "5c4fe2eece4f86c8ac3d2d8c93b5b7eff0ae3ca2",
            "4ab074051fb9543c800ebfe71b560dab16fbab9a",
            "21106ce37a3e3ee9629de6fb4d2a5bd904153e39"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "wanghuancoder",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 258,
        "title": "[BIT] Add test sh, update engineV2 glob",
        "body": "1. 在 test_pipline 中区分 V1 与 V2 的脚本\r\n2. 新增 10 个用于全量和回归的 V2 脚本\r\n3. 优化 engineV2 的 glob 方法，使得 api_config_file_pattern 参数支持文件列表\r\n4. 同步更新 README",
        "issue_number": "258",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-12T03:28:28+00:00",
        "closed_at": "2025-06-12T04:53:39+00:00",
        "additions": 728,
        "deletions": 46,
        "changed_files": 241,
        "commits": [
            "435959fbc19f444a8f966e20355552e06006234e",
            "8f23e10953dded3d4539c371a114e9f029757346",
            "f230e6dfcef34f29301ae2fb82c2515476930345"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 254,
        "title": "[BIT] Remove illeagal max_unpool2d config",
        "body": "两条配置在 torch，paddle 情况下均报错，提示参数不合法，从 tester/api_config/7_0_size/0_size_tensor_1_8_1.txt 中删除。\r\n```python\r\nimport paddle\r\nimport numpy as np\r\nimport paddle.signal as signal\r\nimport paddle.incubate.nn.functional as F\r\nfrom pathlib import Path\r\nimport inspect\r\nimport torch\r\nimport numpy\r\nfrom typing import Optional, List\r\nimport paddle.nn as nn\r\n\r\nimport numpy \r\n\r\n# test max_unpool 0-szie input, cases:\r\n# paddle.nn.functional.max_unpool2d(Tensor([2, 4, 21, 0],\"float64\"), Tensor([2, 4, 21, 0],\"int32\"), kernel_size=4, stride=2, padding=2, data_format=\"NCHW\", output_size=None, name=None, )\r\n# paddle.nn.functional.max_unpool2d(Tensor([2, 4, 21, 0],\"float64\"), Tensor([2, 4, 21, 21],\"int32\"), kernel_size=4, stride=2, padding=2, data_format=\"NCHW\", output_size=None, name=None, )\r\n\r\nx = numpy.random.randn(2, 4, 21, 0)\r\nidx = numpy.zeros((2, 4, 21, 21)).astype(numpy.int64)\r\nkernel_size = 4\r\nstride = 2\r\npadding = 2\r\ndata_format = 'NCHW'\r\noutput_size = None\r\nname = None \r\n\r\npx = paddle.to_tensor(x)\r\npidx = paddle.to_tensor(idx)\r\n\r\ntx = torch.tensor(x)\r\ntidx = torch.tensor(idx)\r\n\r\n\r\n# torch error (case 1):\r\n# Traceback (most recent call last):\r\n#   File \"/root/PaddleAPITest/example.py\", line 35, in <module>\r\n#     tout = torch.nn.functional.max_unpool2d(tx, tidx, kernel_size=kernel_size, stride=stride, padding=padding, output_size=output_size)\r\n#   File \"/usr/local/lib/python3.9/dist-packages/torch/nn/functional.py\", line 1040, in max_unpool2d\r\n#     return torch._C._nn.max_unpool2d(input, indices, output_size)\r\n# RuntimeError: max_unpooling2d_forward_out_cpu(): Expected input to have non-zero size for non-batch dimensions, but got [2, 4, 21, 0] with dimension 3 being empty.\r\n\r\n# case 2\r\n# Traceback (most recent call last):\r\n#   File \"/root/PaddleAPITest/example.py\", line 42, in <module>\r\n#     tout = torch.nn.functional.max_unpool2d(tx, tidx, kernel_size=kernel_size, stride=stride, padding=padding, output_size=output_size)\r\n#   File \"/usr/local/lib/python3.9/dist-packages/torch/nn/functional.py\", line 1040, in max_unpool2d\r\n#     return torch._C._nn.max_unpool2d(input, indices, output_size)\r\n# RuntimeError: Expected shape of indices to be same as that of the input tensor ([2, 4, 21, 0]) but got indices tensor with shape: [2, 4, 21, 21]\r\ntout = torch.nn.functional.max_unpool2d(tx, tidx, kernel_size=kernel_size, stride=stride, padding=padding, output_size=output_size)\r\n\r\n# case 1, paddle error:\r\n# Traceback (most recent call last):\r\n#   File \"/root/PaddleAPITest/example.py\", line 45, in <module>\r\n#     pout = paddle.nn.functional.max_unpool2d(px, pidx, kernel_size=kernel_size, stride=stride, padding=padding, data_format=data_format, output_size=None, name=None)\r\n#   File \"/usr/local/lib/python3.9/dist-packages/paddle/nn/functional/pooling.py\", line 980, in max_unpool2d\r\n#     output = _C_ops.unpool(\r\n# RuntimeError: (PreconditionNotMet) The meta data must be valid when call the mutable data function.\r\n#   [Hint: Expected valid() == true, but received valid():0 != true:1.] (at ../paddle/phi/core/dense_tensor.cc:113)\r\n\r\n# case 2, paddle error (same as torch case 2):\r\n# Traceback (most recent call last):\r\n#   File \"/root/PaddleAPITest/example.py\", line 62, in <module>\r\n#     pout = paddle.nn.functional.max_unpool2d(px, pidx, kernel_size=kernel_size, stride=stride, padding=padding, data_format=data_format, output_size=None, name=None)\r\n#   File \"/usr/local/lib/python3.9/dist-packages/paddle/nn/functional/pooling.py\", line 980, in max_unpool2d\r\n#     output = _C_ops.unpool(\r\n# ValueError: (InvalidArgument) The dimensions of Input(X) must equal to bethe dimensions of Input(Indices), but receiveddimensions of Input(X) is [2, 4, 21, 0], received dimensionsof Input(Indices) is [2, 4, 21, 21]\r\n#   [Hint: Expected in_x_dims == in_y_dims, but received in_x_dims:2, 4, 21, 0 != in_y_dims:2, 4, 21, 21.] (at ../paddle/phi/infermeta/binary.cc:4457)\r\npout = paddle.nn.functional.max_unpool2d(px, pidx, kernel_size=kernel_size, stride=stride, padding=padding, data_format=data_format, output_size=None, name=None)\r\n\r\nprint(f\"> case 1: \\n paddle out: {pout}\\n torch out: {tout}\")\r\n```",
        "issue_number": "254",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-11T08:44:10+00:00",
        "closed_at": "2025-06-11T08:54:40+00:00",
        "additions": 0,
        "deletions": 6,
        "changed_files": 3,
        "commits": [
            "e88c6494fc2945e217317963cd6c5f7301b2359e",
            "6a45a2cfac3b208a2e5ff3e09438604d6fa095a5"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 257,
        "title": "[BIT] Remove illegal clip 0-size configs",
        "body": "移除 paddle.clip 中 min, max 有一个为 0-size tensor 的非法配置，这种情况下 torch，paddle 对应的 api 均会抛出错误，测试脚本：\r\n```python\r\nimport paddle\r\nimport numpy as np\r\nimport paddle.signal as signal\r\nimport paddle.incubate.nn.functional as F\r\nfrom pathlib import Path\r\nimport inspect\r\nimport torch\r\nimport numpy\r\nfrom typing import Optional, List\r\nimport paddle.nn as nn\r\n\r\nimport numpy \r\n\r\nminn = numpy.random.randn(0)\r\nmaxx = numpy.random.randn(1)\r\n\r\ntmin = torch.tensor(minn)\r\ntmax = torch.tensor(maxx)\r\n# Traceback (most recent call last):\r\n#   File \"/root/PaddleAPITest/example.py\", line 19, in <module>\r\n#     print(torch.clamp(torch.randn([2, 3, 4]), min=tmin, max=tmax))\r\n# RuntimeError: The size of tensor a (4) must match the size of tensor b (0) at non-singleton dimension 2\r\nprint(torch.clamp(torch.randn([2, 3, 4]), min=tmin, max=tmax))\r\n\r\n# Traceback (most recent call last):\r\n#   File \"/root/PaddleAPITest/example.py\", line 27, in <module>\r\n#     print(paddle.clip(paddle.randn([2, 3, 4]), min=pmin, max=pmax))\r\n#   File \"/usr/local/lib/python3.9/dist-packages/paddle/tensor/math.py\", line 4013, in clip\r\n#     min = min.item(0)\r\n#   File \"/usr/local/lib/python3.9/dist-packages/paddle/base/dygraph/tensor_patch_methods.py\", line 905, in item\r\n#     scalar = self._getitem_from_offset(*args)\r\n# ValueError: (InvalidArgument) index 0 is out of bounds for size 0\r\n#   [Hint: Expected offset < numel, but received offset:0 >= numel:0.] (at ../paddle/fluid/pybind/eager_method.cc:1651)\r\npmin = paddle.to_tensor(minn)\r\npmax = paddle.to_tensor(maxx)\r\nprint(paddle.clip(paddle.randn([2, 3, 4]), min=pmin, max=pmax))\r\n```",
        "issue_number": "257",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-12T02:52:44+00:00",
        "closed_at": "2025-06-12T02:57:21+00:00",
        "additions": 0,
        "deletions": 15,
        "changed_files": 3,
        "commits": [
            "8361852aa8e28ebb20b557bb6c431f58c1e46208",
            "9d9691ce7cd8dcd2fa2f84418ed8dadf691ed976"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 259,
        "title": "[Accuracy diff No.138] Fix accuracy diff for paddle.sort API",
        "body": "Configs weren't moved completely in PR https://github.com/PFCCLab/PaddleAPITest/pull/219\r\nmove `paddle.sort` with unstable config to random_caculation",
        "issue_number": "259",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-12T14:02:00+00:00",
        "closed_at": "2025-06-16T09:25:22+00:00",
        "additions": 7,
        "deletions": 7,
        "changed_files": 2,
        "commits": [
            "14dde8f485487f5cc4c685c0acc6d0692f8c3f9f"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 261,
        "title": "Add strip in api_config",
        "body": "修复 options.api_config.strip()",
        "issue_number": "261",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-13T06:41:53+00:00",
        "closed_at": "2025-06-13T06:46:22+00:00",
        "additions": 2,
        "deletions": 0,
        "changed_files": 2,
        "commits": [
            "ae3514887b9af9c1d736c933fc7cae673b2afd6f"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 260,
        "title": "Delete incorrect increment api config",
        "body": "Increment API自身要求输入张量元素只有一个,因此删除对应的API config。",
        "issue_number": "260",
        "state": "closed",
        "merged": true,
        "user": "ggggxm",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-13T04:01:00+00:00",
        "closed_at": "2025-06-13T06:45:42+00:00",
        "additions": 0,
        "deletions": 9,
        "changed_files": 3,
        "commits": [
            "7fff0d4b461c1dc1961b5221572dc852dcab1ebb"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 262,
        "title": "[BIT] Update bigtensor 0528 report",
        "body": "![05801F9284CCB0BF5AA35BCF65415C89](https://github.com/user-attachments/assets/312604c9-0a9c-4a8e-b060-ee1f57a559cb)\r\n",
        "issue_number": "262",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-13T08:07:59+00:00",
        "closed_at": "2025-06-13T08:17:21+00:00",
        "additions": 101041,
        "deletions": 24,
        "changed_files": 10,
        "commits": [
            "d37d1bd3e96e60c2cd2ebfae009e194bcf6d1cb4"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 264,
        "title": "[Accuracy diff No.136] Fix accuracy diff for paddle.scale API",
        "body": "paddle.scale 只对 x 计算梯度\r\n![image](https://github.com/user-attachments/assets/e7d6f0db-1f65-40c9-875a-c8e659d625c9)\r\n\r\n而 ScaleRule 中对应的 torch_api 是组合实现的\r\n![image](https://github.com/user-attachments/assets/dbdecf54-3f95-4d35-81dc-9db6f13c1b68)\r\n\r\n因此对scale或bias的梯度检查都会产生 [no compare]。\r\n如果不额外为 scale kernel 增加反向算子的话则设置额外的 accuracy 检查规则\r\n\r\n回测结果：\r\n![image](https://github.com/user-attachments/assets/a22dab15-ab25-45c2-becc-d6d275baaa49)\r\n",
        "issue_number": "264",
        "state": "closed",
        "merged": true,
        "user": "NKNaN",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-14T04:28:00+00:00",
        "closed_at": "2025-06-16T09:27:35+00:00",
        "additions": 9,
        "deletions": 1,
        "changed_files": 2,
        "commits": [
            "a1582097db8f6e6b03e7c76293f78f73bbb1e980"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 263,
        "title": "add test_cpu option in engine.py",
        "body": "engine.py 增加 test_cpu 选项\r\nengineV2.py有 test_cpu 选项，但是运行需要较大内存",
        "issue_number": "263",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-13T23:48:08+00:00",
        "closed_at": "2025-06-16T09:25:54+00:00",
        "additions": 21,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "679d19eba14da9d2f8457e7d49675eec95b55cb0",
            "942043f6af41f8176083cc37e666cb68b94e6a66"
        ],
        "comment_by": [
            "co63oc",
            "cangtianhuang",
            "co63oc",
            "cangtianhuang"
        ],
        "review_by": [
            "cangtianhuang",
            "co63oc"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 265,
        "title": "[Accuracy diff No.65, 66] Fix accuracy diff for paddle.Tensor.meidan API",
        "body": "原结果梯度误差的原因是 paddle.Tensor.median 默认 mode 参数为 ‘avg’，元素个数为偶数时取中间两元素的均值，torch.Tensor.median 的行为是取中间两元素的较小值，所以需要将 mode 参数设置为 ‘min’。\r\n\r\n回测结果：\r\nGPU:\r\n![image](https://github.com/user-attachments/assets/c319c240-3811-4957-931f-bbe339a703f8)\r\n![image](https://github.com/user-attachments/assets/0b81d247-0890-455c-a03c-9c36d5b8937c)\r\n\r\nCPU:\r\n![image](https://github.com/user-attachments/assets/fb75aa6a-3bd3-4a95-8847-372921f8356d)\r\n![image](https://github.com/user-attachments/assets/91af571c-1ba0-4570-a080-c4ffd4f2331a)\r\n",
        "issue_number": "265",
        "state": "closed",
        "merged": true,
        "user": "NKNaN",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-14T08:23:58+00:00",
        "closed_at": "2025-06-16T09:29:12+00:00",
        "additions": 1,
        "deletions": 3,
        "changed_files": 1,
        "commits": [
            "58cd6aab6847068a7a45ae3b4f8d25af52a37b5c",
            "9296b3de15f1d40ac2d61cd24c62a404738f2bb9"
        ],
        "comment_by": [
            "NKNaN"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 271,
        "title": "[Accuracy diff No.124] Fix accuracy diff for paddle.nn.functional.log_softmax API",
        "body": "fix typos, `dim` -> `axis`\r\n![图片](https://github.com/user-attachments/assets/7ff60703-68c9-4aaf-ac4c-f80ad58aa5e5)\r\n\r\n\r\n测试通过\r\n![图片](https://github.com/user-attachments/assets/9471ab8c-79a6-4196-a615-722e79026e49)\r\n",
        "issue_number": "271",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-16T09:18:17+00:00",
        "closed_at": "2025-06-17T06:39:41+00:00",
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "33987b04fce9862e65fb313f09e9dc8ce0a65cd3"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 266,
        "title": "[Accuracy diff No.126] Fix accuracy diff for paddle.nn.functional.rnnt_loss API",
        "body": "paddle cpu 时不会进行 fused_log_softmax 操作，需要手动对 logits 进行 log_softmax\r\n",
        "issue_number": "266",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-14T08:27:08+00:00",
        "closed_at": "2025-06-18T07:47:00+00:00",
        "additions": 7,
        "deletions": 1,
        "changed_files": 2,
        "commits": [
            "ffb787f561ac02ba9d4a6e74828f7b5f6a0788ba",
            "9d607fc25b6f1ab2a73182b4c11cef7ea0536483"
        ],
        "comment_by": [
            "cangtianhuang",
            "cszdrg",
            "ooooo-create",
            "wanghuancoder",
            "wanghuancoder"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 269,
        "title": "[Accuracy diff No.18、81、82] Fix accuracy diff for paddle.diag、paddle.diagflat API",
        "body": "## PR Category\r\nAccuracy diff\r\n\r\n## PR types\r\nImprovements\r\n\r\n## Description\r\n\r\n### gpu\r\n仔细检查两个 api 的 error log 后，发现是反向传播有精度差异：当且仅当 x 为 1D Tensor（paddle.diagflat 展平后均为 1D Tensor），且 offset < 0 时报错，在更新 paddle 至 0615 版本后测试全部通过，认为是已在 https://github.com/PaddlePaddle/Paddle/pull/73084 修复\r\n\r\n此外，PaddleAPITest 中对 paddle.diag API 的 torch 模拟有冗余，因此修改优化 DiagRule\r\n\r\n重新测试 paddle.diag、paddle.diagflat 的所有 accuracy 配置，全部通过：\r\n![image](https://github.com/user-attachments/assets/a4194f6d-1cc3-4326-88a9-6eac03ac00f5)\r\n![image](https://github.com/user-attachments/assets/b3b82351-cb43-4317-9a78-7ad63fa56edd)\r\n\r\n### cpu\r\n使用修改后的 DiagRule 后，问题无法复现\r\n\r\n重新测试 paddle.diag 的 accuracy cpu 出错配置，全部通过：\r\n![image](https://github.com/user-attachments/assets/942a724e-e30d-4f59-9ffb-a04d7cd4887e)\r\n",
        "issue_number": "269",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-16T05:29:02+00:00",
        "closed_at": "2025-06-17T10:02:14+00:00",
        "additions": 8,
        "deletions": 17,
        "changed_files": 1,
        "commits": [
            "319ec4d7593857af8dd61c9270e1b9b8cc1cc316"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 272,
        "title": "[Accuracy diff No.119、145] Fix accuracy diff for paddle.nn.functional.gaussian_nll_loss、paddle.Tensor.fill_diagonal_tensor API",
        "body": "## PR Category\r\nAccuracy diff\r\n\r\n## PR types\r\nImprovements\r\n\r\n## Description\r\n查看 error_log ，发现是 grads diff，paddle.nn.functional.gaussian_nll_loss、paddle.Tensor.fill_diagonal_tensor 均不会对第二个 Tensor 求梯度，因此在 accuracy.py 中提取并仅比较第一个梯度\r\n```python\r\npaddle_out_grads = paddle_out_grads[0]\r\ntorch_out_grads = torch_out_grads[0]\r\n```\r\n\r\n修改后，全部配置通过 accuracy.py 测试：\r\n![image](https://github.com/user-attachments/assets/48f1186a-5dae-4fcc-a474-435838954226)\r\n",
        "issue_number": "272",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-16T10:33:10+00:00",
        "closed_at": "2025-06-17T13:51:35+00:00",
        "additions": 69,
        "deletions": 35,
        "changed_files": 3,
        "commits": [
            "30448b0cfd3226f2079e0ebd33033c5cf765cb2d",
            "1417478d1a0b97f22217b187a165c1e7375481fe",
            "4a0f1aa4ce99ae0d3b3f47d18643c60b1acbe523",
            "34de24b55d14c41cd6cacb60b2df58eb6159af63"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 268,
        "title": "Add kl_div grad config",
        "body": "增加paddle.nn.functional.kl_div返回grad配置，返回有两个值，取前一个值",
        "issue_number": "268",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-16T00:27:20+00:00",
        "closed_at": "2025-06-17T06:38:30+00:00",
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "c589f9b6d7cd2b96d8861425714b89997c33dbd3",
            "cdd2bad6e3709154c31ada7564cd2141fd291fe0"
        ],
        "comment_by": [
            "co63oc",
            "cangtianhuang",
            "co63oc",
            "cangtianhuang",
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 270,
        "title": "[Accuracy diff No. 110, 111] Fix accuracy diff for paddle.nn.functional.binary_cross_entropy, paddle.nn.functional.binary_cross_entropy_with_logits API",
        "body": "重新修改了一下\r\nhttps://github.com/PFCCLab/PaddleAPITest/pull/267",
        "issue_number": "270",
        "state": "closed",
        "merged": true,
        "user": "NKNaN",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-16T08:04:37+00:00",
        "closed_at": "2025-06-17T06:39:18+00:00",
        "additions": 15865,
        "deletions": 2,
        "changed_files": 2,
        "commits": [
            "2fbb461abba66ce0b7bff8b39ef9aba1083653c8"
        ],
        "comment_by": [
            "cangtianhuang",
            "NKNaN"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 267,
        "title": "[Accuracy diff No. 110, 111] Fix accuracy diff for paddle.nn.functional.binary_cross_entropy, paddle.nn.functional.binary_cross_entropy_with_logits API",
        "body": "目前 paddle.nn.functional.binary_cross_entropy, paddle.nn.functional.binary_cross_entropy_with_logits 对应的反向算子只计算 x_grad 不计算 label_grad，而 torch 计算 x_grad 和 target_grad (label_grad)：\r\n![image](https://github.com/user-attachments/assets/1757bf42-76ca-4b28-89e7-b6c1a3cecac0)\r\n![image](https://github.com/user-attachments/assets/6a6e7d3e-fada-46d5-b1d1-f18bcd913db2)\r\n\r\n第一次回测结果：\r\n![image](https://github.com/user-attachments/assets/50f34c08-3d4b-40e6-bf9a-e951b9187c57)\r\n\r\npaddle.nn.functional.binary_cross_entropy_with_logits 能全部通过\r\npaddle.nn.functional.binary_cross_entropy 有两个 case 未通过：\r\n```bash\r\npaddle.nn.functional.binary_cross_entropy(Tensor([195840, 80],\"float16\"), Tensor([195840, 80],\"float16\"), reduction=\"none\", )\r\npaddle.nn.functional.binary_cross_entropy(Tensor([87040, 80],\"float16\"), Tensor([87040, 80],\"float16\"), reduction=\"none\", )\r\n```\r\n\r\n对这两个 case 二次回测结果：\r\n![image](https://github.com/user-attachments/assets/371061b9-ad71-4287-8708-363d8a75195b)\r\n",
        "issue_number": "267",
        "state": "closed",
        "merged": false,
        "user": "NKNaN",
        "merged_by": null,
        "created_at": "2025-06-15T06:10:36+00:00",
        "closed_at": "2025-06-16T08:50:28+00:00",
        "additions": 15866,
        "deletions": 84331,
        "changed_files": 4,
        "commits": [
            "9389a982e6e994e64d40f3585446d2ab9a620469",
            "d29fd52082affdd2dbae30975ae8fca781fb3920",
            "12c98a563e9f619a57030fc9e8a4a0292b7acdc5",
            "dd469c4d0746b6488e37394319a6a9c2b240d1b5"
        ],
        "comment_by": [
            "NKNaN",
            "cangtianhuang",
            "NKNaN",
            "cangtianhuang",
            "NKNaN",
            "NKNaN",
            "cangtianhuang",
            "NKNaN",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 273,
        "title": "[0-size Tensor Job2 No.59] Add 0-size Tensor support for gaussian_nll_loss",
        "body": "https://github.com/PaddlePaddle/Paddle/blob/d48d3a3c1726f1a6f3b4654e9283585006ef5478/python/paddle/nn/functional/loss.py#L4289\r\n![image](https://github.com/user-attachments/assets/8cc851a8-2e8c-47a9-8c0e-c0cc5e1a23cb)\r\n\r\nvariance  应没有反向\r\n\r\n修改 paddle.nn.functional.gaussian_nll_loss， 反向取前两项\r\n修改后 gaussian_nll_loss PaddleAPITest测试通过\r\n![image](https://github.com/user-attachments/assets/630d6144-3cc4-4d7e-a2d6-488c89c874f1)\r\n",
        "issue_number": "273",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-17T02:32:18+00:00",
        "closed_at": "2025-06-17T10:02:45+00:00",
        "additions": 3,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "b177102c5720e44c6b51cebf693b0f623a4314d6",
            "b127a981ed792d8a0897464d725011aca5e33628"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 275,
        "title": "[BIT] Remove paddle.mode、 paddle.Tensor.mode runtime out config ",
        "body": "### 情况概述\r\n在修复`paddle.mode`和`paddle.Tensor.mode`的大Tensor问题中，一部分配置为cuda error (700)问题，已在[Paddle库PR #73174](https://github.com/PaddlePaddle/Paddle/pull/73174)解决，其余配置为运行超时配置（engineV2运行一条配置30分钟后会自动关闭），相关配置预计需要运行较长时间，且“打桩”观察后，预计不会出现内核崩溃问题，预判不会出现大Tensor问题，为防止影响后续回测，故将相关配置删除（`8_big_tensor/big_tensor_1_8.txt`下没有需要移出的配置，相关配置依旧在`8_big_tensor/big_tensor_1_8_invalid.txt`保留）。\r\n### 具体分析\r\n**超时情况说明**\r\n`paddle.mode(Tensor([2, 10, 107374183],\"float64\"), -1, )`：内部调用GetModebySort 20次（2*10），每次对107374183个数提取众数，修复后可以通过精度测试。\r\n`paddle.mode(Tensor([2, 10, 107374183],\"float64\"), 1, )`：内部调用GetModebySort 2亿次，每次对10个数提取众数，会超时，但内部可以正常运行，只是预测要10天左右才能跑完一条配置，打桩结果如下：\r\n![截屏2025-06-17 12 37 31](https://github.com/user-attachments/assets/93db7d60-0def-4e4b-bf88-0e4c3fcb26ff)\r\n缩小规模改为：`paddle.mode(Tensor([2, 10, 107374],\"float64\"), 1, )`，可以正常跑通。\r\n**与torch比较**\r\n用同一配置直接使用pytorch.mode，也无法较快得到运行结果，下图为运行45分钟后，依旧在运行的截图\r\n<img width=\"293\" alt=\"截屏2025-06-17 11 26 29\" src=\"https://github.com/user-attachments/assets/20f42035-fb76-4e68-ad46-6cad0716f979\" />\r\n**结论**\r\n由此认为，运行超时配置`paddle.mode`、`paddle.Tensor.mode`均可以支持，但需要较长时间，且与pytorch表现类似，可以将相关配置删除以防影响后续回测判断。其余的`paddle.mode`与`paddle.Tesnor.mode`的大Tensor配置经[PR #73174](https://github.com/PaddlePaddle/Paddle/pull/73174)修复可以通过accuracy测试，\r\n<img width=\"1080\" alt=\"截屏2025-06-17 12 19 30\" src=\"https://github.com/user-attachments/assets/b907917d-ff7e-4791-b3d3-f13a4c49a4a1\" />\r\n至此，`paddle.mode`和`paddle.Tesnor.mode`的大Tensor问题已解决。",
        "issue_number": "275",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-17T04:44:58+00:00",
        "closed_at": "2025-06-17T07:11:30+00:00",
        "additions": 0,
        "deletions": 36,
        "changed_files": 3,
        "commits": [
            "69d9cec31a421ff03f4ed5e45a1a7a10469a7687",
            "470caea7d344ceb3617fb1649d2b2c1fc5f577e0",
            "1e8745b837ce1995e984e96eddef59a2f1e7df35",
            "321a3a7cad7d9428555c7dd5df73886e73408d57"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 274,
        "title": "Remove invalid big tensor configs for split and allclose api",
        "body": "## 1. 删除大Tensor测试中有关split的非法配置\r\n![image](https://github.com/user-attachments/assets/da86d1b9-573e-4fbc-bf98-0262c254ebf2)\r\n\r\nsplit需要等分成多份，不支持划分的维度无法整除num_or_sections情况。torch无对应参数\r\n\r\n## 2.  删除大Tensor测试中有关allclose的非法配置\r\n目前paddle.allclose要求x和y的shape相同，暂不支持broadcast规则",
        "issue_number": "274",
        "state": "closed",
        "merged": true,
        "user": "DanielSun11",
        "merged_by": "cszdrg",
        "created_at": "2025-06-17T03:49:47+00:00",
        "closed_at": "2025-06-18T03:39:53+00:00",
        "additions": 59,
        "deletions": 123,
        "changed_files": 3,
        "commits": [
            "be22c080121146b5924c589ad4d53365e4766a08",
            "f0bd290f98a9a4c61ecaa103f82dcd8c8dde71ad"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 277,
        "title": "[Accuracy diff No.116] Fix accuracy diff for paddle.nn.functional.ctc_loss API",
        "body": "显式传递 dim=-1，torch 的 log_softmax 具有默认参数 None，已经被标记废弃，并且和 paddle 默认的 -1 不一致\r\n测试通过\r\n![图片](https://github.com/user-attachments/assets/6644105c-814e-4262-b876-3fa5aa7d585f)\r\n",
        "issue_number": "277",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "cszdrg",
        "created_at": "2025-06-17T07:57:24+00:00",
        "closed_at": "2025-06-18T03:34:22+00:00",
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "f7640b89f20b3c7c9f98946117e80ecb004dddf6"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 279,
        "title": "[Accuracy diff No.122] Fix accuracy diff for paddle.nn.functional.kl_div API",
        "body": "grad 精度已增加配置 \r\n![image](https://github.com/user-attachments/assets/e998adf0-4075-4739-9838-1ace689f8b12)\r\n复制配置到 tester/api_config/5_accuracy/accuracy_gpu_error_grads_diff.txt\r\n\r\n0-size 已修改 https://github.com/PaddlePaddle/Paddle/pull/73173\r\n\r\nPaddleAPITest 测试通过\r\n![image](https://github.com/user-attachments/assets/a6c87515-d8d0-48e8-8039-e49a0a10ca00)\r\n",
        "issue_number": "279",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-17T23:54:24+00:00",
        "closed_at": "2025-06-18T08:13:30+00:00",
        "additions": 14,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "000b16c8c3fa90f5c10e36bfbcf63a9a8a98d067"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 281,
        "title": "[Accuracy diff No.47] Fix accuracy diff for paddle.nn.functional.hardsigmoid API",
        "body": "paddle.nn.functional.hardsigmoid \r\n\r\nPaddleAPITest 测试通过\r\n![image](https://github.com/user-attachments/assets/92cfd8d9-7a93-45e0-b117-7923871c86a7)\r\n",
        "issue_number": "281",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T03:02:06+00:00",
        "closed_at": "2025-06-18T08:16:17+00:00",
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "7b05b007f17cb0ddf5a6896200b02761fe6b7c35"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 280,
        "title": "[Accuracy diff No.2-5、14] Fix accuracy diff for paddle.all API",
        "body": "2、3 paddle.all\r\n4、5 paddle.any\r\n\r\nPaddleAPITest 测试通过，移除配置\r\npaddle.all\r\nGPU\r\n![image](https://github.com/user-attachments/assets/f5dd2712-91ed-4992-91f1-3039bd707705)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/003b4b7f-9e1b-4acb-a4ac-9e2c51ca7f91)\r\n\r\npaddle.any\r\nGPU\r\n![image](https://github.com/user-attachments/assets/cdcd62ee-c318-4ed3-9610-3ec7aa297d26)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/338e8402-4635-417d-9987-5e4437ecc69a)\r\n\r\n14 paddle.count_nonzero \r\nCPU\r\n![image](https://github.com/user-attachments/assets/f900206f-04b1-4518-b8c9-d681468656b5)\r\n\r\n\r\n",
        "issue_number": "280",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T01:36:39+00:00",
        "closed_at": "2025-06-18T08:19:53+00:00",
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "51d837b9bb056e2efc4aa701603f38174f324ff2"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 282,
        "title": "[Accuracy diff No.125] Fix accuracy diff forpaddle.nn.functional.multi_margin_loss API",
        "body": "paddle.nn.functional.multi_margin_loss 移除配置，配置只有一项\r\n\r\nPaddleAPITest测试通过\r\n![image](https://github.com/user-attachments/assets/a100bce4-4c5a-41da-809d-1a4fd4720c3c)\r\n\r\n",
        "issue_number": "282",
        "state": "closed",
        "merged": false,
        "user": "co63oc",
        "merged_by": null,
        "created_at": "2025-06-18T03:08:24+00:00",
        "closed_at": "2025-06-18T09:11:00+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "8b45dc61cb82545dd0e65163b9428a3a2d579c12"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "co63oc",
            "cangtianhuang",
            "cangtianhuang",
            "co63oc",
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 284,
        "title": "[BIT] Uniformly handle bf16 dtype generation",
        "body": "在 tester/api_config/config_analyzer.py 的 get_numpy_tensor 方法的首部，记录初始数据类型，将 bf16 改为 float32，并在尾部还原数据类型\r\n\r\n注意，不应该在 get_numpy_tensor 方法方法中初始化 TensorConfig",
        "issue_number": "284",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-18T04:37:34+00:00",
        "closed_at": "2025-06-18T06:07:20+00:00",
        "additions": 29,
        "deletions": 42,
        "changed_files": 1,
        "commits": [
            "f1571d5d9da333881674992f902173c7b08210d3"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 278,
        "title": "[Accuracy diff No.99、131] Fix accuracy diff for paddle.lerp API",
        "body": "99 paddle.lerp\r\n修改paddle.lerp配置\r\n0-size 已在 https://github.com/PaddlePaddle/Paddle/pull/72906 修复\r\ngrad 精度已增加配置 \r\n![image](https://github.com/user-attachments/assets/687a8cc6-454a-4066-b2a7-b314a46c4f56)\r\ntester/api_config/5_accuracy/accuracy_gpu_error_grads_diff.txt 已有lerp配置\r\n![image](https://github.com/user-attachments/assets/29529c26-ed6d-4afe-b856-d4a26fa36056)\r\n\r\nPaddleAPITest 测试通过\r\n![image](https://github.com/user-attachments/assets/e21b2fda-37c0-462d-a086-055e43a47807)\r\n\r\n\r\n131 paddle.nn.utils.parameters_to_vector\r\n0-size 已在 https://github.com/PaddlePaddle/Paddle/pull/73180 修复\r\ngrad 精度已增加配置 \r\n![image](https://github.com/user-attachments/assets/a1e47627-8abc-46d6-82b2-e47115fc1647)\r\ntester/api_config/5_accuracy/accuracy_gpu_error_grads_diff.txt 已有配置\r\n![image](https://github.com/user-attachments/assets/78a890fa-8fd6-4c85-a381-ca49b2a07a64)\r\n\r\nPaddleAPITest 测试通过\r\n![image](https://github.com/user-attachments/assets/4c4c2c98-0c76-4aac-b86c-945f1c104903)\r\n",
        "issue_number": "278",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-17T22:43:17+00:00",
        "closed_at": "2025-06-18T08:12:28+00:00",
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "54cdcdcc0d314ee51e559eb27cbbef3d0b4fd188"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 276,
        "title": "[Accuracy diff No.25、101] Fix accuracy diff for paddle.linalg.eigh API",
        "body": "问题的原因是实对称矩阵或hermitian matrix的特征向量是不唯一的，可能因为底层实现的不同导致了 paddle 和 torch 的输出不同，所以应该对 paddle.linalg.eigh 的特征向量输出做单独的精度判断：一个简单的判断办法是将 paddle 和 torch 对应输出的特征向量相除，得到的应该是  e^{i \\theta} *  vec[1, 1, ..., 1]^T  ，所以判断相除所得向量的所有元素(大致)相等，以及相除所得向量每个元素的模长为1即可。\r\n\r\n另外由于 eigh_grad 的计算依赖于前向计算得到的特征向量，因此反向计算的结果也会有差异，所以建议不测 eigh 的反向算子\r\n![image](https://github.com/user-attachments/assets/5a0912f1-11ac-44d2-852a-684055919507)\r\n\r\n回测结果：\r\nGPU:\r\n![image](https://github.com/user-attachments/assets/91a32284-bcda-4ed1-afbe-84b597aa6806)\r\nCPU:\r\n![image](https://github.com/user-attachments/assets/d20a5af3-36dc-48ac-9f34-0f0ec53091d4)\r\n",
        "issue_number": "276",
        "state": "closed",
        "merged": true,
        "user": "NKNaN",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-17T07:29:50+00:00",
        "closed_at": "2025-06-18T13:42:40+00:00",
        "additions": 21,
        "deletions": 0,
        "changed_files": 2,
        "commits": [
            "f0e843d1dd928379a6151b8df54d0f071d64e266",
            "ada913b522e7336f00e645f3020e04a9479425e6",
            "673e62432f8e55a0f9f3f9f4752fa896fc5fec66",
            "b4c3adae8eb35bb87942b81339cd9d3dc45a4b9d",
            "4ca1280538a53e432c4ecf00664c67f5c9fd2152"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "NKNaN",
            "cangtianhuang",
            "NKNaN",
            "NKNaN",
            "cangtianhuang"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "NKNaN"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 285,
        "title": "[BIT] Fix fused_rotary_position_embedding to support bfloat16",
        "body": "原来的`paddle.incubate.nn.functional.fused_rotary_position_embedding`在config_analyzer.py文件中参数不支持bfloat16类型，需要对该情况做转化。\r\n修复后未引入新的问题，原配置和bfloat16配置均能通过paddle_only测试，\r\n<img width=\"921\" alt=\"截屏2025-06-18 15 55 57\" src=\"https://github.com/user-attachments/assets/4fe91bda-55a4-47ff-b312-992034104177\" />\r\naccuracy测试也可以进行，但依旧存在精度问题。",
        "issue_number": "285",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T04:39:52+00:00",
        "closed_at": "2025-06-18T08:34:32+00:00",
        "additions": 2,
        "deletions": 2,
        "changed_files": 1,
        "commits": [
            "a37d909a98ae7f1acf9f242e353b899984ead1ed"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 283,
        "title": "[BIT] Change all List Comprehension to Regular Loop",
        "body": "修改 tester/paddle_to_torch/rules.py 中，将所有列表推导式改为普通循环，以兼容 python<=3.11 的测试",
        "issue_number": "283",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "Cutelemon6",
        "created_at": "2025-06-18T04:25:39+00:00",
        "closed_at": "2025-06-19T04:10:13+00:00",
        "additions": 181,
        "deletions": 54,
        "changed_files": 1,
        "commits": [
            "a99846d20f2e3231b4e21491568e6e0602c00301",
            "9b059460be10550107db1fb43c7a6e894516f95d",
            "e21aba33a79701b0f090ebb330ef0d08c47b2bd6",
            "0cfe5c0c913d5b9d070cd4acc03cc20d4290a26b",
            "975254deb7a2a105dd6e4fef58f26720f7325998"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "Cutelemon6",
            "cangtianhuang"
        ],
        "review_by": [
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 286,
        "title": "[Accuracy diff No.36、37] Fix accuracy diff for paddle.maximum API",
        "body": "PaddleAPITest测试通过\r\n\r\npaddle.maximum\r\nCPU\r\n![image](https://github.com/user-attachments/assets/b4140cb3-528e-4084-9c99-e51401b326be)\r\n\r\npaddle.minimum\r\nCPU\r\n![image](https://github.com/user-attachments/assets/f36db8de-766f-467e-98ee-c67e97a72fe1)\r\n",
        "issue_number": "286",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T05:33:56+00:00",
        "closed_at": "2025-06-18T08:32:17+00:00",
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "5e07ccacb45befa1f0c74fb31f61434a84269d91"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 287,
        "title": "[Accuracy diff No.54] Fix accuracy diff for paddle.signal.istft API",
        "body": "PaddleAPITest 中配置项只有一项，测试通过\r\n```\r\npaddle.signal.istft(Tensor([257, 471],\"complex128\"), 512, None, None, Tensor([512],\"float64\"), True, False, True, None, False, )\r\n```\r\n![image](https://github.com/user-attachments/assets/a11b15ea-264a-45ae-87f2-ad818f22413b)\r\n\r\n",
        "issue_number": "287",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T05:44:08+00:00",
        "closed_at": "2025-06-18T08:32:47+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "1240e08f086dadf2997afda0e22516a8e9e9d184"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 288,
        "title": "[Accuracy diff No.62、71、149] Fix accuracy diff for paddle.Tensor.fill_diagonal_ API",
        "body": "62 paddle.Tensor.fill_diagonal_\r\n\r\nPaddleAPITest 测试通过\r\nCPU\r\n![image](https://github.com/user-attachments/assets/7b2b4525-6a28-4ff4-988e-8f5a76f199bf)\r\n\r\n71 paddle.tensordot CPU\r\n![image](https://github.com/user-attachments/assets/576a845c-c399-45de-81f1-177862a6d7a3)\r\n\r\n149 paddle.tensordot GPU\r\n![image](https://github.com/user-attachments/assets/e6b5800a-15eb-4238-9f5e-f0534403e189)\r\n\r\n",
        "issue_number": "288",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T05:50:29+00:00",
        "closed_at": "2025-06-18T08:33:49+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "f89bc64f61754d90835cecea87b2a9cf40358a9c"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 290,
        "title": "[0-size Tensor Job2 No.4、52、91] Add 0-size Tensor support for multiply",
        "body": "52 paddle.multiply\r\n91 paddle.Tensor.multiply \r\n\r\nPaddleAPITest 测试通过\r\npaddle.multiply\r\nGPU\r\n![image](https://github.com/user-attachments/assets/12abecb6-7b66-4302-a4b2-486e0e5f8508)\r\nCPU\r\n![image](https://github.com/user-attachments/assets/7a3d114b-0eb8-4399-83c2-ea4d20c24af8)\r\n\r\npaddle.Tensor.multiply\r\nGPU\r\n![image](https://github.com/user-attachments/assets/ebb4e2f1-8872-41d4-a1d2-1d6f1591db49)\r\nCPU\r\n![image](https://github.com/user-attachments/assets/19dcc0fb-4ce1-4631-b3b5-61ceeb17a818)\r\n\r\n单测已增加\r\ntest/legacy_test/test_multiply.py\r\nhttps://github.com/PaddlePaddle/Paddle/blob/067e42fbca954e01380a543f103dd550b9e28cf6/test/legacy_test/test_multiply.py#L237\r\n\r\n4 paddle.broadcast_tensors\r\nPaddleAPITest 测试通过\r\nGPU\r\n![image](https://github.com/user-attachments/assets/3c18c1a3-2442-4e39-879e-8d66b7c8002c)\r\nCPU\r\n![image](https://github.com/user-attachments/assets/bdcc2238-8ed2-47ff-8646-751135b23427)\r\n\r\n单测已增加\r\ntest/legacy_test/test_broadcast_tensors_op.py\r\nhttps://github.com/PaddlePaddle/Paddle/blob/d0df4b2055240e3603830ef04cc6ca392c77b466/test/legacy_test/test_broadcast_tensors_op.py#L493",
        "issue_number": "290",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T07:16:31+00:00",
        "closed_at": "2025-06-18T08:54:46+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "f1f239e4d672b0161ce714153ddafdd0b1370fb1"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 293,
        "title": "[BIT] Add ldexp configs",
        "body": "在生成大Tesnor配置中发现，paddle.ldexp可以运行float16类型的配置，但与torch.ldexp表现不一致，属于\"output dtype类型不同\"情况。\r\n<img width=\"624\" alt=\"截屏2025-06-18 17 16 38\" src=\"https://github.com/user-attachments/assets/589b921d-4796-4db8-b396-c678f9e8b634\" />\r\n因此增添paddle.ldexp相关新配置，并加入not_check_dtype列表。",
        "issue_number": "293",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-18T09:15:27+00:00",
        "closed_at": "2025-06-18T09:24:20+00:00",
        "additions": 5,
        "deletions": 0,
        "changed_files": 2,
        "commits": [
            "b322a84160418da0001d72409073909e083c4227"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 292,
        "title": "[Accuracy diff No.127] Fix accuracy diff for paddle.nn.functional.sigmoid_focal_loss API",
        "body": "修改 config_analyzer 在 sigmoid_focal_loss 生成label时只生成 0 或 1 的值。并且由于paddle在计算时调用了 sigmoid_cross_entropy_with_logits，这部分反向计算不算 label_grad，所以 sigmoid_focal_loss 也不能检查 label_grad。\r\n\r\n回测结果：\r\n![image](https://github.com/user-attachments/assets/e4c5933f-5922-46b8-adc1-2c9e056091c6)\r\n",
        "issue_number": "292",
        "state": "closed",
        "merged": true,
        "user": "NKNaN",
        "merged_by": "Cutelemon6",
        "created_at": "2025-06-18T08:19:13+00:00",
        "closed_at": "2025-06-19T06:55:21+00:00",
        "additions": 67,
        "deletions": 1,
        "changed_files": 4,
        "commits": [
            "6296c3eb89d89f9c8e989dad0c983d53eeef33b1",
            "2c2d388eda51ae050ee33426de9f4f54442a50ce"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "Cutelemon6"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 291,
        "title": "[0-size Tensor Job2 No.8] Add 0-size Tensor support for paddle.divide",
        "body": "paddle.divide\r\n\r\nPaddleAPITest 测试通过\r\nGPU\r\n![image](https://github.com/user-attachments/assets/b40d3fd7-df24-4f24-b0b1-ef5d30aa3c17)\r\nCPU\r\n![image](https://github.com/user-attachments/assets/3f9cb618-776c-4b81-aa47-b6803c495f90)\r\n\r\n单测已增加\r\ntest/legacy_test/test_elementwise_div_op.py\r\nhttps://github.com/PaddlePaddle/Paddle/blob/c683e64645628cea43a3579e40f52c8705ba1b19/test/legacy_test/test_elementwise_div_op.py#L193",
        "issue_number": "291",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T07:47:11+00:00",
        "closed_at": "2025-06-18T09:10:58+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "eece51a2daf00a13a105897cb5c5af84f1f09f9f"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "co63oc",
            "luotao1"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 289,
        "title": "[BIT] Warp old torch convert rule with Code() in rules.py",
        "body": "更新以下 Rule 的旧版转换规则，用 Code() 封装 impl\r\n\r\n```\r\n__rshift__Rule\r\n__Pow__Rule\r\nScatterndaddRule\r\nScatterndRule\r\nScatterRule\r\nNumelRule\r\nLcmRule\r\nExpandasRule\r\nExpandRule\r\nBroadcastShapeRule\r\n```\r\n\r\n在 accuracy 模式复测了使用以上 rule 的位于 5_accuracy 目录下的 api 配置，均通过\r\n\r\n```\r\npaddle.Tensor.__pow__\r\npaddle.Tensor.__rshift__\r\npaddle.bitwise_right_shift\r\npaddle.scatter\r\npaddle.numel\r\npaddle.lcm\r\npaddle.expand_as\r\npaddle.Tensor.expand\r\npaddle.expand\r\npaddle.nn.functional.dropout\r\npaddle.broadcast_shape\r\n```\r\n\r\n",
        "issue_number": "289",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T05:56:44+00:00",
        "closed_at": "2025-06-18T09:14:21+00:00",
        "additions": 36,
        "deletions": 31,
        "changed_files": 1,
        "commits": [
            "e7beca9349d8a0d62b73438b9ea1bb229760dd73",
            "6a034343273ee07e9520bad81e9c97b0cfc070f5",
            "62d72b30d170ada98175fd71b44f46c5e1547f54",
            "e1640c9cace96596c3282b8b621e969468075537"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 294,
        "title": "Fix log_loss config",
        "body": "https://github.com/PaddlePaddle/Paddle/pull/73401#issuecomment-2983202648\r\n![image](https://github.com/user-attachments/assets/238942e4-aab1-4f16-9983-b929ec3ce916)\r\n\r\nlog_loss 只用支持[0, 1]这种，不确定是不是取消其他配置就可以",
        "issue_number": "294",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T11:53:23+00:00",
        "closed_at": "2025-06-19T03:00:59+00:00",
        "additions": 7,
        "deletions": 27,
        "changed_files": 4,
        "commits": [
            "d0caa688d49cf1277fac458b344fdb851a8bb7b9",
            "807932ae2bdc7e2e6aa4e73cca68b40ed9fa794f"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 295,
        "title": "[BIT] Support atol rtol param",
        "body": "1. 在V1、V2中新增atol、rtol参数\r\n2. 更改测试类传参为**kwargs\r\n3. 更改torch_assert_accuracy、np_assert_accuracy使用atol、rtol参数",
        "issue_number": "295",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "Cutelemon6",
        "created_at": "2025-06-18T17:41:35+00:00",
        "closed_at": "2025-06-19T04:04:41+00:00",
        "additions": 99,
        "deletions": 72,
        "changed_files": 9,
        "commits": [
            "be38585c52d0051ef13d28fbf25c2207502e53a9",
            "c811e061dc076edb8b5b832979243ed246e3dd4a",
            "4e01258183db30a5ab5bc1ddc28698232169f4b1",
            "5d624798b1945d6206aec0e0c527445923caaecb",
            "2bf81adff849cae6015023b0273ae40622ed7cd0"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "Cutelemon6",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 297,
        "title": "[0-size Tensor Job2 No.5] Add 0-size Tensor support for paddle.cdist",
        "body": "paddle.cdist为python端算子，使用paddle.empty, paddle.zeros，反向为空\r\n![image](https://github.com/user-attachments/assets/0e568eb5-358f-4c39-9dfd-dbfa2d665819)\r\n\r\n复制配置到 tester/api_config/5_accuracy/accuracy_gpu_error_grads_diff.txt\r\n\r\nPaddleAPITest 测试通过\r\n![image](https://github.com/user-attachments/assets/5abf7bb7-6d27-4744-85d7-73b8aba8413f)\r\n",
        "issue_number": "297",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T23:39:29+00:00",
        "closed_at": "2025-06-19T03:54:02+00:00",
        "additions": 5,
        "deletions": 0,
        "changed_files": 2,
        "commits": [
            "5502ae0bafaa2036a0f76e13f897945d69c9fd5d"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 296,
        "title": "[0-size Tensor Job2 No.1] Add 0-size Tensor support for paddle.add",
        "body": "paddle.add\r\n\r\nPaddleAPITest测试通过\r\nGPU\r\n![image](https://github.com/user-attachments/assets/bb184b38-42cf-4a5d-860d-f9dffa0f59ef)\r\nCPU\r\n![image](https://github.com/user-attachments/assets/9497f3fc-c5a1-4088-b300-6d6d7d287aac)\r\n\r\n已增加单测\r\ntest/legacy_test/test_elementwise_add_op.py\r\nhttps://github.com/PaddlePaddle/Paddle/blob/47b355970133c101d61baf6f86b5436588169449/test/legacy_test/test_elementwise_add_op.py#L692",
        "issue_number": "296",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-18T23:16:57+00:00",
        "closed_at": "2025-06-19T03:29:12+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "7a183a5a9fc0e3efc9d660ed8514db1a48f2529f"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 298,
        "title": "[0-size Tensor Job2 No.50、71] Add 0-size Tensor support for paddle.mode",
        "body": "50 paddle.mode\r\n\r\nPaddleAPITest测试通过\r\nGPU\r\n![image](https://github.com/user-attachments/assets/55b4fa8c-a427-4b42-b736-a5a7a377c6a8)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/ef69b05c-7a80-420e-bed6-4581d2d5f63f)\r\n\r\n已有单测 test/legacy_test/test_mode_op.py\r\nhttps://github.com/PaddlePaddle/Paddle/blob/47b355970133c101d61baf6f86b5436588169449/test/legacy_test/test_mode_op.py#L276\r\n\r\n71 paddle.scale\r\nPaddleAPITest测试通过\r\nGPU\r\n![image](https://github.com/user-attachments/assets/50ecbf21-78ad-4962-9b0b-4a62ffcdcacb)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/fe641887-3fa7-4fdb-b1ce-e19f8b101176)\r\n\r\n已有单测 test/legacy_test/test_scale_op.py\r\nhttps://github.com/PaddlePaddle/Paddle/blob/e7dde8fe90843e80bed892f4198d7e62c204586e/test/legacy_test/test_scale_op.py#L343",
        "issue_number": "298",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-19T02:45:34+00:00",
        "closed_at": "2025-06-19T04:06:33+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "7f124a52c4ca10ec26f374efcf951df117d963dc"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 299,
        "title": "[BIT] update the return tensor check for fused_layernorm api",
        "body": null,
        "issue_number": "299",
        "state": "closed",
        "merged": true,
        "user": "ZhangX-21",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-19T02:54:06+00:00",
        "closed_at": "2025-06-24T07:59:29+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "f830845b7fc0836920d3fe11c477bbc344a9e5e2"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "ZhangX-21",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 303,
        "title": "[Accuracy diff No.45-46] Fix accuracy diff for paddle.nn.functional.gumbel_softmax API",
        "body": "same as https://github.com/PFCCLab/PaddleAPITest/pull/211",
        "issue_number": "303",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-19T07:18:17+00:00",
        "closed_at": "2025-06-20T10:40:29+00:00",
        "additions": 1,
        "deletions": 20,
        "changed_files": 3,
        "commits": [
            "74eb6e9b82080949981b8828230c411128a0ec1e",
            "16c3998a8f67bdfe477e91e73b14ef9781e3dd26",
            "f9e5c88fe9d8839acbeb1257f1ed7cceddec6006"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "ooooo-create"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 301,
        "title": "[0-size Tensor Job2 No.80、81] Add 0-size Tensor support for `paddle.Tensor.__mul__`",
        "body": "\r\n`paddle.Tensor.__mul__`\r\nPaddleAPITest 测试通过\r\nGPU\r\n![image](https://github.com/user-attachments/assets/7f16f2ee-604a-4795-a428-7808a50604da)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/d394ba32-25e5-4d47-ac44-578d4ee0f161)\r\n\r\n`paddle.Tensor.__truediv__`\r\nPaddleAPITest 测试通过\r\nGPU\r\n![image](https://github.com/user-attachments/assets/0e8709a1-f749-414a-a2e0-fb237d10f61c)\r\n\r\nCPU float16 不支持\r\n![image](https://github.com/user-attachments/assets/8cce3c03-c16d-48e6-b7ac-f04e90a7373b)\r\n",
        "issue_number": "301",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-19T06:35:05+00:00",
        "closed_at": "2025-06-20T06:00:23+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "2ddade7698a06a2d1f0788ae3b2e9b539fe15440"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 300,
        "title": "[0-size Tensor Job2 No.79、82] Add 0-size Tensor support for paddle.Tensor.add",
        "body": "paddle.Tensor.add\r\nPaddleAPITest测试通过\r\nGPU\r\n![image](https://github.com/user-attachments/assets/5935543b-340f-4f8d-9f74-2f79ee1caaf2)\r\nCPU\r\n![image](https://github.com/user-attachments/assets/f92af174-6456-4b16-837d-62c8bab16a8f)\r\n\r\n`paddle.Tensor.__add__`\r\nGPU\r\n![image](https://github.com/user-attachments/assets/9a79cec7-1835-4cc8-8ca9-2220488d9dc6)\r\nCPU\r\n![image](https://github.com/user-attachments/assets/166dc242-10c9-4bcc-8cfd-b98544e5ff47)\r\n\r\n已增加单测\r\ntest/legacy_test/test_elementwise_add_op.py\r\nhttps://github.com/PaddlePaddle/Paddle/blob/47b355970133c101d61baf6f86b5436588169449/test/legacy_test/test_elementwise_add_op.py#L692",
        "issue_number": "300",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-19T05:22:26+00:00",
        "closed_at": "2025-06-20T06:00:00+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "f888f701701b9e3a19922ed14f48fc9716036918"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 302,
        "title": "[Accuracy diff No.137] Fix accuracy diff for paddle.scatter API",
        "body": "move special scatter config to random_calculation\r\n`paddle.scatter(Tensor([183826, 256],\"float32\"), Tensor([10759233],\"int64\"), Tensor([10759233, 256],\"float32\"), )`\r\nthe index `10759233` is greater than x.shape[0] `183826`, can't generate unique index, overwrite  default is True, so the result is random_calculation\r\n\r\nhttps://github.com/PFCCLab/PaddleAPITest/blob/e8f8232f2f945411b892d3329979e8160bf83be8/tester/api_config/config_analyzer.py#L1416-L1424\r\n",
        "issue_number": "302",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-19T06:45:01+00:00",
        "closed_at": "2025-06-20T06:02:22+00:00",
        "additions": 2,
        "deletions": 2,
        "changed_files": 4,
        "commits": [
            "c502582c05ed99c54040e24331b0ad4ba69cc074",
            "bfebac9633098cd023911305f4a70d9a87ee2cb7"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 306,
        "title": "[Accuracy diff No.112] Fix accuracy diff for paddle.nn.functional.conv1d API",
        "body": "尝试测试没有问题，没有关联PR\r\n\r\n配置report/ci_ce_cpu/error_config.txt\r\nPaddleAPITest CPU测试为torch error, weight类型和输入类型不一致\r\n![image](https://github.com/user-attachments/assets/e64ec4e9-f809-4ff1-9e43-39fd891a9f08)\r\n\r\n配置report/ci_ce_cpu/20250529/5_accuracy/error_config.txt中测试通过\r\n![image](https://github.com/user-attachments/assets/f334f1ec-e981-4f72-b39d-50bc414d88ba)\r\n",
        "issue_number": "306",
        "state": "closed",
        "merged": false,
        "user": "co63oc",
        "merged_by": null,
        "created_at": "2025-06-19T07:50:44+00:00",
        "closed_at": "2025-06-24T07:34:54+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "a59b00bc07c9244fd2b8e700233b6b5d3e04adf4"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "co63oc",
            "cangtianhuang",
            "cangtianhuang",
            "co63oc",
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 304,
        "title": "[Accuracy diff No.83] Fix accuracy diff for paddle.diagonal_scatter API",
        "body": "Fixed in https://github.com/PFCCLab/PaddleAPITest/blob/8428f30223dc47651654b3c22f51450a17bb03db/tester/accuracy.py#L402-L413",
        "issue_number": "304",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-19T07:46:55+00:00",
        "closed_at": "2025-06-20T06:06:11+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "f77364d44251cd98e7ff87a239432986e125a8f3"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 307,
        "title": "[0-size Tensor Job2 No.95] Add 0-size Tensor support for paddle.Tensor.real",
        "body": "PaddleAPITest 测试通过\r\nGPU\r\n![image](https://github.com/user-attachments/assets/b05f793a-44b6-48b1-a2b8-f8911d8f9c6a)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/9691756b-b3c6-4fe5-8e20-c2067714181a)\r\n\r\n已有单测\r\ntest/legacy_test/test_real_imag_op.py\r\nhttps://github.com/PaddlePaddle/Paddle/blob/63f096933f74ca5c5f310eb6d97790465a755c8e/test/xpu/test_real_imag_op_xpu.py#L76",
        "issue_number": "307",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-19T08:53:04+00:00",
        "closed_at": "2025-06-20T10:41:36+00:00",
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "1ca3c0b76a13fe09d88091be6bfcc39042b77e62"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 308,
        "title": "[Accuracy diff No.98] Fix accuracy diff for paddle.index_put API",
        "body": "move special index_put  config to random_calculation\r\n\r\nhttps://github.com/PaddlePaddle/Paddle/blob/65a79c41566b5294c5fa4cbea57f8a9d3e8971e0/python/paddle/tensor/manipulation.py#L6997-L7000\r\n\r\n#### TODO\r\n- [ ] 想个办法给 indices 生成不重复元素的 numpy 输入\r\n",
        "issue_number": "308",
        "state": "closed",
        "merged": false,
        "user": "ooooo-create",
        "merged_by": null,
        "created_at": "2025-06-19T09:06:38+00:00",
        "closed_at": "2025-07-08T04:32:55+00:00",
        "additions": 4,
        "deletions": 3,
        "changed_files": 4,
        "commits": [
            "6db6d842f37dbd88777e460f27411d30d6c2f166"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 305,
        "title": "[BIT] Support test_tol test mode",
        "body": "1. 新增 --test_tol 参数，仅在 accuracy 测试下有效。此举将记录所有结果的精度差异，并将结果写入 tol.csv 文件中\r\n2. 更新测试类的传参方式\r\n3. 新增 tol.csv 聚合\r\n4. 新增 tools/tol_csv_stat.py 小工具\r\n5. 新增 gpu_accuracy_tolerance 测试说明与脚本",
        "issue_number": "305",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "Cutelemon6",
        "created_at": "2025-06-19T07:50:00+00:00",
        "closed_at": "2025-06-20T10:58:32+00:00",
        "additions": 532,
        "deletions": 22,
        "changed_files": 9,
        "commits": [
            "964e50a211c832fc40fbf9e12e0937e225276bc4",
            "087328c6a5d224b942a0fef2cde3d7f895e5d9ff",
            "8fec545a00ac3680d2755afe122190b7e845caef",
            "25bd577e1a8aa0d7ebacbc27351a7db2ee531fa0",
            "849f4c50c83391080b137914409664488ce235b5",
            "8deaaff9c26bb5dfb9e90288b7279f545545d1d7",
            "8bba49138e979205051730fcba27f9c9139c2e63",
            "a19eced5b46351c36e96cbb48abe7fc3bd7408e5",
            "f17c7a60681d9837610f7d84695c2f5f2b6d3188",
            "1b181ab06e0bce3cb1cba4cb1352f92f208b0142",
            "1e0da66e980f8e6850b11cddf4f5ac481b022bda",
            "2157a69a32bde5bc754dc4243f187af05c801d8d",
            "e3d72e99c2598d9160db35c4264e81088fd7934b"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "Cutelemon6",
            "Cutelemon6",
            "Cutelemon6",
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 309,
        "title": "doc: update `README.md` for repetitive accuracy_cpu_error.txt describution",
        "body": null,
        "issue_number": "309",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "Cutelemon6",
        "created_at": "2025-06-20T01:41:29+00:00",
        "closed_at": "2025-06-20T02:14:49+00:00",
        "additions": 1,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "728077de7a1e68da0d1aa4e1941fd6b07b5b2a37"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 310,
        "title": "[Accuracy diff No.1] Fix accuracy diff for paddle.add_n API",
        "body": "```\r\npaddle.add_n(list[Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),Tensor([16, 256],\"float16\"),], )\r\n```\r\n问题是列表中元素较多，CPU float16类型有精度误差，需要修改精度* 元素数量\r\n\r\nPaddleAPITest 测试通过\r\n![image](https://github.com/user-attachments/assets/efe89465-8bc2-4501-937b-a844a266f0c9)\r\n\r\n其他测试用例错误为，如果列表中元素类型不一致，包含float32, float16，会有类型错误\r\n类型转换没有合适的规则，这里没有修改\r\n![image](https://github.com/user-attachments/assets/b1cf60ec-e574-44a1-a604-1eb6e3c7ad23)\r\n",
        "issue_number": "310",
        "state": "closed",
        "merged": false,
        "user": "co63oc",
        "merged_by": null,
        "created_at": "2025-06-20T02:31:53+00:00",
        "closed_at": "2025-06-20T06:22:25+00:00",
        "additions": 12,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "dcd31d4e02c05d0a2d19d4b71e97a801a0bc9511"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 311,
        "title": "[0-size Tensor No.137、322] Add 0-size Tensor support for multigammaln",
        "body": "PaddleAPITest 测试通过\r\n\r\n137 paddle.multigammaln\r\nGPU\r\n![image](https://github.com/user-attachments/assets/7de43230-2337-4b0b-888e-d2d2e03d89f3)\r\nCPU\r\n![image](https://github.com/user-attachments/assets/e4456224-6f50-4a0b-8153-a241f0802be3)\r\n\r\n322 paddle.Tensor.multigammaln\r\nGPU\r\n![image](https://github.com/user-attachments/assets/d8ed453d-5366-4c9a-ba57-3632ef86e20f)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/57ebed2c-e94f-46c8-86b4-529a49662ae9)\r\n\r\n",
        "issue_number": "311",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-20T02:57:40+00:00",
        "closed_at": "2025-06-20T10:42:15+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "08c206a2fdbe7d72d96b09cab99c0811dfc9f1a1"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 312,
        "title": "[0-size Tensor No.34、244、342] Add 0-size Tensor support for complex",
        "body": "PaddleAPITest 测试通过\r\n34 paddle.complex\r\nGPU\r\n![image](https://github.com/user-attachments/assets/d5650364-04c5-427c-9124-93ec9ddbe746)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/c1616b88-8344-4bf4-8942-9c6f4f9e8830)\r\n\r\n244 paddle.real\r\nGPU\r\n![image](https://github.com/user-attachments/assets/0bc7b8c8-5980-444d-9a3a-3845f0951f17)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/5e17f3cb-abcd-4003-80b5-7cf3cba6e722)\r\n\r\n342 paddle.Tensor.topk\r\nGPU\r\n![image](https://github.com/user-attachments/assets/aa3bf589-aa0d-4bd2-8cce-b682b68515f2)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/205ed0cb-9329-47dd-bcb2-980fee2db9eb)\r\n",
        "issue_number": "312",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-20T03:11:53+00:00",
        "closed_at": "2025-06-20T10:43:06+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "0c65b71cc6ef149f0f8636be1dcd9f6e7f9ce161"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 313,
        "title": "[BIT] Avoid error unlink",
        "body": "增加错误标记，仅当写入成功后才删除原有日志，避免重要文件误删",
        "issue_number": "313",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "Cutelemon6",
        "created_at": "2025-06-20T03:46:52+00:00",
        "closed_at": "2025-06-20T15:26:53+00:00",
        "additions": 43,
        "deletions": 11,
        "changed_files": 1,
        "commits": [
            "671601ffb255de50416a09483f6fdd99f9908f41",
            "478dc788b826625f27d76307d06bb2cbb56349ab",
            "740a7a7b48b02b42d1d6e0c5363b4f614f5feb6b",
            "1b708b1d7c936411c22e6a9904982b64cd26b1f9",
            "ed11b97f6e2e09ed37387c8981ecf5078c140613"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "Cutelemon6",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 314,
        "title": "[Accuracy diff No.53] Fix accuracy diff for paddle.rsqrt API",
        "body": "paddle.rsqrt \r\n\r\nPaddleAPITest 测试通过，配置中测试用例只有\r\n```\r\npaddle.rsqrt(Tensor([32, 1],\"float16\"), )\r\n```\r\nGPU\r\n![image](https://github.com/user-attachments/assets/2b13b7de-5ae8-4eb9-a0fa-f9ab858d5541)\r\n",
        "issue_number": "314",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-20T05:39:44+00:00",
        "closed_at": "2025-06-20T14:11:32+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "efb103cef2ad8512e47cd89f0bc69844c593259d"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "co63oc",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 316,
        "title": "[Accuracy diff No.19] Fix accuracy diff for paddle.dot API",
        "body": "paddle.dot\r\n\r\nPaddleAPITest  测试通过，测试用例为0-size\r\n```\r\npaddle.dot(Tensor([0],\"float32\"), Tensor([0],\"float32\"), )\r\n```\r\n![image](https://github.com/user-attachments/assets/c620a5cc-e608-4968-a9dd-5283e6ee6be8)\r\n\r\n0-size在PR修改 https://github.com/PaddlePaddle/Paddle/pull/73450\r\n需要Paddle合并PR的修改后测试",
        "issue_number": "316",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-20T05:57:04+00:00",
        "closed_at": "2025-06-21T04:15:39+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "d0322a961ddb70dff5a7ec3372ba02a26c6d8c6e"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 317,
        "title": "[Accuracy diff No.128] Fix accuracy diff for paddle.nn.functional.softmax_with_cross_entropy API",
        "body": "经检查发现是 SoftmaxWithCrossEntropyRule 中的形状处理的问题\r\n\r\n回测结果（包括 accuracy_7.txt 中的 case 和 error_config.txt 中的 case）：\r\n![image](https://github.com/user-attachments/assets/bdf7a9f2-8175-4529-a20e-3d1572d1af1a)\r\n",
        "issue_number": "317",
        "state": "closed",
        "merged": true,
        "user": "NKNaN",
        "merged_by": "cszdrg",
        "created_at": "2025-06-20T06:09:11+00:00",
        "closed_at": "2025-06-23T07:25:28+00:00",
        "additions": 6,
        "deletions": 6,
        "changed_files": 1,
        "commits": [
            "2caf3f899f3d36da4d0c636545e65d5ff13969ef"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 318,
        "title": "[BIT] Fix clip None + int case error and accuracy error",
        "body": null,
        "issue_number": "318",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-20T06:26:02+00:00",
        "closed_at": "2025-06-20T07:11:16+00:00",
        "additions": 130,
        "deletions": 140,
        "changed_files": 4,
        "commits": [
            "e84d8360d6ad02be83897053ecc46fab926f8bcc",
            "d28bfb6afee2c57f3830fbffb474b480e9a5541f",
            "7855d63ac2ddb09c0bb5f10d5583ce1fc5bed9ca"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 319,
        "title": "[Accuracy diff No.117] Fix accuracy diff for paddle.nn.functional.dice_loss API",
        "body": "根据 paddle 的实现修改 DiceLossRule\r\n\r\n回测结果：\r\n![image](https://github.com/user-attachments/assets/8dc0173f-ad2d-4df3-b46c-3812589613d0)\r\n",
        "issue_number": "319",
        "state": "closed",
        "merged": true,
        "user": "NKNaN",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-20T06:53:29+00:00",
        "closed_at": "2025-06-21T04:33:36+00:00",
        "additions": 3,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "647e0be08ffd78acd9310d3008973dc58f71ea22"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 315,
        "title": "[BIT] Fix put_along_axis、topk and move error configs",
        "body": "修复6.18回测后有错的部分api\r\n<img width=\"652\" alt=\"截屏2025-06-20 16 00 56\" src=\"https://github.com/user-attachments/assets/14143e52-0c19-48df-9985-aab65445b6c4\" />\r\n",
        "issue_number": "315",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-20T05:52:22+00:00",
        "closed_at": "2025-06-20T06:06:49+00:00",
        "additions": 6,
        "deletions": 4,
        "changed_files": 4,
        "commits": [
            "ee55988c96f5cea7090475f0676aef9e109d92c7"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "yuwu46"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 320,
        "title": "[BIT] Fix paddle.Tensor.unflatten, format rules.py, base.py",
        "body": "1. 格式化 rules.py, base.py\r\n2. 修复 paddle.Tensor.unflatten numpy error",
        "issue_number": "320",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "yuwu46",
        "created_at": "2025-06-20T07:21:39+00:00",
        "closed_at": "2025-06-20T07:29:12+00:00",
        "additions": 64,
        "deletions": 71,
        "changed_files": 3,
        "commits": [
            "bc09d05e67a0a2d0f08e2058ca5347a5160acb31",
            "fe7ed474d1607989351dd8c50ea6f1f6bf4db016"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 322,
        "title": "Delete illegal config for paddle.scatter",
        "body": "- `paddle.scatter`要求`overwrite=True`时，index的下标不能重复，否则结果将是不确定的，这一部分逻辑在`get_numpy_tensor`有体现，但如果配置`index`的长度大于输入`x`的长度时，这部分逻辑无法成立，为非法配置。\r\n- `paddle.scatter`不支持广播，`updates`的维度应与`x`的维度保持一致。",
        "issue_number": "322",
        "state": "closed",
        "merged": true,
        "user": "ggggxm",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-20T08:39:06+00:00",
        "closed_at": "2025-06-20T08:44:15+00:00",
        "additions": 0,
        "deletions": 8,
        "changed_files": 2,
        "commits": [
            "68d1e3203ead75874e3030bde83d2156091c63eb"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 321,
        "title": "[BIT] Fix clip torch error when max and min is None",
        "body": "修复 clip 配置输入参数 min，max 均为 None 时，进行精度测试时调用 torch.clamp 会抛出错误的 error\r\n\r\n```python\r\npaddle.clip(x=Tensor([3],\"float64\"), )\r\n```\r\n\r\n测试了 5_accracy 中除 accuracy_cpu_kernel.txt 的 clip 配置集，全部通过。\r\n\r\n```\r\n5_accuracy/accuracy_5.txt\r\n5_accuracy/accuracy_8.txt\r\n5_accuracy/accuracy_gpu_error_dtype_diff.txt\r\n5_accuracy/accuracy_gpu_error.txt\r\n```",
        "issue_number": "321",
        "state": "closed",
        "merged": true,
        "user": "Cutelemon6",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-20T08:24:12+00:00",
        "closed_at": "2025-06-25T03:37:33+00:00",
        "additions": 13,
        "deletions": 3,
        "changed_files": 1,
        "commits": [
            "ab924fefaf7053c92bc2af9cb8286df2784d89e1",
            "2566d7e9331f19fd6932dae8020a0cdbbf004448",
            "e89ca83d791c50e9924a341fd5a7a31324830099",
            "5dda2c6883d0e90cc1899abf13104bc87aa95269",
            "0641da51d6165d2d6b488f0b86855ab61719bbc3",
            "2035d934cca9ca4ce112f81ab2da27faa4272b02"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": [
            "cangtianhuang",
            "Cutelemon6"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 323,
        "title": "[BIT] Support test_tol: fix forward and backward data",
        "body": "## new features：\r\n1. 修复 test_tol 模式下仅有前向精度的问题\r\n    - 进入反向后设置 self.is_backward = True\r\n    - 拦截 accuracy error 使其正常执行\r\n    - 通过 self.is_backward 判断目前的精度比较属于前反向\r\n2. 精度数据新增 mode 字段，区分前向与反向\r\n3. test_tol 模式下设置打印模式为 short\r\n4. 修改相应的 tol_csv_stat.py 与 test_pipline\r\n5. 数据聚合后进行数据清洗，去重排序\r\n\r\n## bug fixes：\r\n1. 修复 csv 字段过长的问题（如 paddle.concat）：field larger than field limit (131072)\r\n2. 修复捕获 accuracy error 不全的问题：Tensor-likes、Scalar，同时释放其他 error：dtype、shape\r\n3. 优化捕获 accuracy error 时字符串匹配性能\r\n4. 修复 nan 表示输出为空白的问题：na_rep='nan'",
        "issue_number": "323",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-21T03:05:41+00:00",
        "closed_at": "2025-06-23T01:45:02+00:00",
        "additions": 156,
        "deletions": 80,
        "changed_files": 5,
        "commits": [
            "6df606964a4ca9c9184da27c1770c9b0d9ff4966",
            "e9c3952b5b4af9a633db2638d7ca0f3c04352479",
            "2a5dafb9b0f92ab161d613d7df9c32d439aaca31",
            "f63bc9b87882fb186d5bea7219a70214581b3a01",
            "d68423ecf12177fd873b523f7492d7337256fcc2",
            "3c0330be53194c3562ee53f4366cfda448e5e263",
            "01f5e838c085ecdb63f5e1ca7678e26221f7e314",
            "5a0bd3f8085f8d56378bb7dc25af4334e6cbf563",
            "066f4061a53a4885615b1ad8f8d03e6a676d85aa",
            "a62ca65642780fe618cfa56240a301d76752bdde",
            "c92f32f2192946e5fe8c7c7397ef15d66ec94241",
            "99aa82cdf75eaee76b355ead58b7fa341fbaaf12",
            "b9ffa397bf997f13163289183110fc069748e14e",
            "6a3d1d74b7151407ebe6e7326e89a740146431bf",
            "4149c1c9e503458833cbab2fdef8225b77f46d48",
            "f30fef2f05c4fc7e803e9c890998df593a3dac8a",
            "b39e496429b86fff4f69834cb044fdef3def1787"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 324,
        "title": "[BIT] Standardize PaddleAPITest",
        "body": " 对本项目的标准化修改，任何建议都可以被提出：\r\n- 在此 pr 下 comment\r\n- 直接向 https://github.com/cangtianhuang/PaddleAPITest/tree/develop-fast 分支提交更改\r\n\r\n目前的修改有：\r\n1. 更新 README\r\n2. 移动 torch_grad_success 标记，消除语法检查报错\r\n3. not_zero_apis、forward_only_apis 提升为模块变量、不变集合\r\n4. 优化 need_check_grad 逻辑\r\n5. 重排 mapping.json，Tensor API 匹配相应 API，字典序排列，调整字段顺序",
        "issue_number": "324",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-21T05:08:49+00:00",
        "closed_at": "2025-06-25T08:16:57+00:00",
        "additions": 3792,
        "deletions": 3789,
        "changed_files": 6,
        "commits": [
            "f2159e2abc6b9e2cd7e8bf1c3fc3caf17284d1bb",
            "f10ec0973e411c96a6d8c49a8199599201584301",
            "7a561ff9b59129109262aabcb01a5c3980ce6979",
            "72934327fc56eadf4f87d0b9f2b0cda2d28598d8",
            "bee5307f2bc0441a7eaf6c736571a0c6668e7467"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 325,
        "title": " Fix accuracy diff for paddle.nn.functional.temporal_shift API",
        "body": "TODO",
        "issue_number": "325",
        "state": "closed",
        "merged": false,
        "user": "ooooo-create",
        "merged_by": null,
        "created_at": "2025-06-22T04:55:52+00:00",
        "closed_at": "2025-06-22T05:30:55+00:00",
        "additions": 4,
        "deletions": 2,
        "changed_files": 1,
        "commits": [
            "6cf9d3c2a2dd8f1a88ba4bea5c98b35946ae83e8"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 326,
        "title": "[Accuracy diff No.129] Fix accuracy diff for paddle.nn.functional.temporal_shift API",
        "body": "Paddle 计算 fold 的方式是 `int(c * shift_ratio)` 和 `int(c * shift_ratio * 2)`，不是 `int(c * shift_ratio)` 和 `2 * int(c * shift_ratio)`\r\n\r\nhttps://github.com/PaddlePaddle/Paddle/blob/e47977d077ff204bdff0fcfefd36ee0da1d8feae/paddle/phi/kernels/cpu/temporal_shift_kernel.cc#L114-L115\r\n\r\n修改过后 temporal_shift 的配置测试都可以通过\r\n![image](https://github.com/user-attachments/assets/27b94c4c-2d71-4496-a941-417d5b309db9)\r\n",
        "issue_number": "326",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "cszdrg",
        "created_at": "2025-06-22T05:57:18+00:00",
        "closed_at": "2025-06-23T07:24:14+00:00",
        "additions": 10,
        "deletions": 8,
        "changed_files": 1,
        "commits": [
            "873566183df02c0e6cf7901341b304b289f0f037"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 327,
        "title": "[Accuracy diff No.87] Fix accuracy diff for paddle.geometric.send_ue_recv API",
        "body": "- 修改 send_ue_recv 的 numpy 数据生成，对于 send_ue_recv 来说，x 是点，y 是边，dst_index 和 src_index 都是对于点的，所以使用 x.shape[0]\r\n```diff\r\n--- a/tester/api_config/config_analyzer.py\r\n+++ b/tester/api_config/config_analyzer.py\r\n@@ -609,7 +609,7 @@\r\n                     num_nodes = self.get_arg(api_config, 0, \"x\").shape[0]\r\n                     self.numpy_tensor = numpy.random.randint(0, num_nodes, size=self.shape).astype(self.dtype)\r\n                 elif self.check_arg(api_config, 3, \"dst_index\"):\r\n-                    num_nodes = self.get_arg(api_config, 1, \"y\").shape[0]\r\n+                    num_nodes = self.get_arg(api_config, 0, \"x\").shape[0]\r\n                     self.numpy_tensor = numpy.random.randint(0, num_nodes, size=self.shape).astype(self.dtype)\r\n             elif api_config.api_name in {\"paddle.index_add\", \"paddle.index_fill\"}:\r\n                 if self.check_arg(api_config, 1, \"index\"):\r\n```\r\n- 参照源码顺便修改了一下 SendUERecvRule\r\n```diff\r\n--- a/tester/paddle_to_torch/rules.py\r\n+++ b/tester/paddle_to_torch/rules.py\r\n@@ -5058,7 +5058,7 @@\r\n elif message_op == 'mul':\r\n     msg = x_src * y\r\n elif message_op == 'div':\r\n-    msg = x_src / y\r\n+    msg = x_src / (y + 1e-12)\r\n \r\n out_shape[-1] = msg.shape[-1]\r\n```\r\n\r\n#### TODO\r\n- [x] `api_config.api_name.startswith(\"paddle.geometric.send_\"):` 的配置项都可以通过\r\n![image](https://github.com/user-attachments/assets/57b22136-646b-4698-806c-46bd6dc05482)\r\n",
        "issue_number": "327",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-22T11:20:17+00:00",
        "closed_at": "2025-06-23T09:50:46+00:00",
        "additions": 2,
        "deletions": 2,
        "changed_files": 2,
        "commits": [
            "019a1429d2fbf54411e71c64e156bb97bb3e4348"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 328,
        "title": "[BIT] Update engineV2-README",
        "body": null,
        "issue_number": "328",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-23T07:15:01+00:00",
        "closed_at": "2025-06-23T07:15:29+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "fdc4acf0f0d898d2eff9d3cf86d99cad5492c433"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 329,
        "title": "[Accuracy diff No.12] Fix accuracy diff for paddle.concat API ",
        "body": "paddle 的输入只支持所有的 tensor 为同一数据类型，因此根据 numpy 的类型提升规则 API (numpy.promote_types) 将输入转换为同一数据类型\r\n\r\n回测结果：\r\n![image](https://github.com/user-attachments/assets/a2851714-19da-4df5-98ce-b819e5543ca3)\r\n",
        "issue_number": "329",
        "state": "open",
        "merged": false,
        "user": "NKNaN",
        "merged_by": null,
        "created_at": "2025-06-23T07:22:16+00:00",
        "closed_at": null,
        "additions": 45,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "156040ae03ae231ecc03cfa9cb20b55bbee99b1e"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 330,
        "title": "[Accuracy diff No.23、24] Fix accuracy diff for paddle.linalg.cholesky_solve API",
        "body": "输入tensor y 应限定为上三角或下三角矩阵\r\n\r\n回测结果：\r\ncase:\r\n![image](https://github.com/user-attachments/assets/e5cb1064-31fb-44cd-896a-5b86990714f3)\r\n\r\nCPU:\r\n![image](https://github.com/user-attachments/assets/d4b3a137-6d7e-41da-aa61-1686cee9fb7f)\r\n\r\nGPU:\r\n![image](https://github.com/user-attachments/assets/cc31192e-90f7-4ae9-baaf-6e5b8692fccd)\r\n",
        "issue_number": "330",
        "state": "closed",
        "merged": true,
        "user": "NKNaN",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-23T08:15:00+00:00",
        "closed_at": "2025-06-23T08:32:43+00:00",
        "additions": 8,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "ed0f5f2db1b5e8f8a62efea898910b4879ffc3ec"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 331,
        "title": "[Accuracy diff No.140] Fix accuracy diff for paddle.Tensor.__matmul__ API",
        "body": "`paddle.Tensor.__matmul__` PaddleAPITest 测试通过\r\n\r\nGPU\r\n![image](https://github.com/user-attachments/assets/eb0ec6a3-722c-4590-a799-e48568308862)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/3352da42-d101-42df-b322-622d2d37ac72)\r\n\r\n\r\n0-size 修复PR https://github.com/PaddlePaddle/Paddle/pull/73094",
        "issue_number": "331",
        "state": "closed",
        "merged": false,
        "user": "co63oc",
        "merged_by": null,
        "created_at": "2025-06-23T09:41:12+00:00",
        "closed_at": "2025-06-25T11:21:40+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "42b1a1479820d6aed8b2e72af5a94f69d52cac3d"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "Cutelemon6",
            "co63oc",
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 333,
        "title": "[0-size Tensor No.55] Add 0-size Tensor support for expand",
        "body": "paddle.expand 在配置文件 report/0size_tensor_gpu/test_history/20250528/paddleonly/error_config.txt\r\n测试为torch error\r\n```\r\npython engine.py --accuracy=True --api_config='paddle.expand(x=Tensor([1, 1, 1],\"int64\"), shape=Tensor([0],\"int32\"), )'\r\n```\r\n\r\n![image](https://github.com/user-attachments/assets/2fd33fee-558d-4cc2-b336-922e7b9195fc)\r\n",
        "issue_number": "333",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-24T00:00:11+00:00",
        "closed_at": "2025-06-30T04:56:25+00:00",
        "additions": 0,
        "deletions": 2,
        "changed_files": 2,
        "commits": [
            "b9354619b7c430369f3109f7a071112037279863",
            "ffde5fa222d11f6a9a1bb7f1d0c6e28d4a15deec"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "co63oc",
            "cangtianhuang",
            "co63oc",
            "cangtianhuang",
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 332,
        "title": "[BIT] fix   nn.functional.pad    Tensor.__setitem__      nn.functional.cross_entropy",
        "body": "# 修复0620回测出现的问题\r\n\r\n## paddle.nn.functional.pad \r\n\r\n发现在pad的长度恰为输出维度的2倍时，paddle和torch的行为存在差异，故在rules中添加对这一情况的判断\r\n\r\n经测试，新增的5个配置和原有的1811的配置均能正确运行\r\n\r\n![image](https://github.com/user-attachments/assets/e48ff23a-c90a-4091-8bd6-1073768d7aa9)\r\n\r\n## paddle.Tensor.__setitem__\r\n\r\n发现之前的配置没有三个参数都是tensor的情况，故需要在config_analyzer中完善对indice的初始化，当indices为bool类型时，它里面true的个数，应该等于value（第三个参数）中第一维度的长度\r\n\r\n## paddle.nn.functional.cross_entropy\r\n\r\n错误原因为，新配置中label的变量类型为int32，torch不支持这种变量类型，故在rules中实现转换\r\n\r\nif _kwargs['target'].dtype == torch.int32:\r\n    _kwargs['target'] = _kwargs['target'].long()\r\n",
        "issue_number": "332",
        "state": "closed",
        "merged": true,
        "user": "mzj104",
        "merged_by": "cszdrg",
        "created_at": "2025-06-23T14:28:55+00:00",
        "closed_at": "2025-06-30T08:08:34+00:00",
        "additions": 14,
        "deletions": 0,
        "changed_files": 2,
        "commits": [
            "0b05714d9b582072663d28b0f24f3f2c6cea4a18",
            "f12cdd8703ccb10766f92a2f543a082ec071d27c",
            "65ede8589ca5701f8d686efac961614dcaa81b82"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang"
        ],
        "review_by": [
            "cangtianhuang",
            "cangtianhuang"
        ]
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 334,
        "title": "[0-size Tensor No.12、71] Add 0-size Tensor support for paddle.frac",
        "body": "71 paddle.frac\r\npaddle.frac 使用subtract, subtract已在 https://github.com/PaddlePaddle/Paddle/pull/72914 修改\r\n\r\nPaddleAPITest测试通过\r\n![image](https://github.com/user-attachments/assets/05d0c439-a043-43a8-aecd-49473f0984f1)\r\n\r\n12 paddle.as_real\r\npaddle.as_real 没有找到关联PR，测试没有问题\r\n![image](https://github.com/user-attachments/assets/bf223aae-7099-4f93-91cd-b527a3e7aea0)\r\n",
        "issue_number": "334",
        "state": "closed",
        "merged": false,
        "user": "co63oc",
        "merged_by": null,
        "created_at": "2025-06-24T00:16:32+00:00",
        "closed_at": "2025-06-25T22:12:52+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "b9aad84a7e55906ae5a758dba0cab20c7527cc66"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 338,
        "title": "[0-size Tensor No.278-280] Add 0-size Tensor support for __pow__",
        "body": "278 paddle.Tensor.__pow__\r\n修改pow PR https://github.com/PaddlePaddle/Paddle/pull/73204\r\nPaddleAPITest 测试通过\r\n![image](https://github.com/user-attachments/assets/0cd2f685-8040-4e7c-8a9c-5215c7ff70ee)\r\n\r\n279 paddle.Tensor.__rmatmul__\r\n修改matmul PR https://github.com/PaddlePaddle/Paddle/pull/73094\r\nPaddleAPITest 测试通过， 使用paddle_only=True\r\n![image](https://github.com/user-attachments/assets/3bdadf34-340e-46c5-ad36-aadcaec595a4)\r\n\r\n280 paddle.Tensor.__rpow__\r\n修改pow PR https://github.com/PaddlePaddle/Paddle/pull/73204\r\nPaddleAPITest 测试通过\r\n![image](https://github.com/user-attachments/assets/3287d83b-07e8-4c00-b280-c17040b4f953)\r\n\r\n\r\n",
        "issue_number": "338",
        "state": "closed",
        "merged": false,
        "user": "co63oc",
        "merged_by": null,
        "created_at": "2025-06-25T00:30:25+00:00",
        "closed_at": "2025-06-25T22:12:26+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "659d0e60e7ad96b812898610161a5f44d5bcedbc"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 336,
        "title": "[0-size Tensor Job2 No.102] Add 0-size Tensor support for paddle.vander",
        "body": "vander 是创建的tensor，没有反向，增加配置\r\n![image](https://github.com/user-attachments/assets/6f49590d-20e4-4eaf-9655-a7889c43b12d)\r\n\r\nPaddleAPITest测试通过\r\n![image](https://github.com/user-attachments/assets/15b91c28-be64-409b-8d5b-94b30d0baa08)\r\n",
        "issue_number": "336",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-24T23:01:05+00:00",
        "closed_at": "2025-06-30T03:08:54+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "3d8e43be82ed2eff94bb7ebcadcbadbc4924618a"
        ],
        "comment_by": [
            "cangtianhuang",
            "co63oc",
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 340,
        "title": "测试效率云触发，无需合入",
        "body": null,
        "issue_number": "340",
        "state": "open",
        "merged": false,
        "user": "Zeref996",
        "merged_by": null,
        "created_at": "2025-06-25T03:16:54+00:00",
        "closed_at": null,
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "55f3c40788bf84f3bae9b7be0dd71dbb8f53a390"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 335,
        "title": "[BIT] Remove paddle.mv configs",
        "body": "源码中显示，`paddle.mv`不支持`float16`配置，为防止干扰后续大Tesnor回测，移动`paddle.mv`相关非法配置。",
        "issue_number": "335",
        "state": "closed",
        "merged": true,
        "user": "yuwu46",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-24T09:01:52+00:00",
        "closed_at": "2025-06-25T09:58:40+00:00",
        "additions": 1,
        "deletions": 2,
        "changed_files": 3,
        "commits": [
            "acc118d7a062b07f99d58bd0bc6cd613ae057f3c",
            "6a76c7bad71c871ee6919e5010d1b6f626299340"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 337,
        "title": "[0-size Tensor No.257] Add 0-size Tensor support for paddle.signal.istft",
        "body": "0-size 测试用例中没有paddle.signal.istft\r\n![image](https://github.com/user-attachments/assets/ad300025-6c8d-4d0c-a578-4b39b04af606)\r\n",
        "issue_number": "337",
        "state": "closed",
        "merged": false,
        "user": "co63oc",
        "merged_by": null,
        "created_at": "2025-06-25T00:06:34+00:00",
        "closed_at": "2025-06-26T07:29:20+00:00",
        "additions": 0,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "083a25f5484f083e88016e5f6c504007c75b41ee"
        ],
        "comment_by": [
            "Cutelemon6"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 339,
        "title": "[0-size Tensor No.109、105、107、204] Add 0-size Tensor support for paddle.linalg.matrix_norm",
        "body": "尝试修改，测试没有问题\r\n\r\n109 paddle.linalg.matrix_norm \r\n\r\nPaddleAPITest测试\r\nGPU\r\n![image](https://github.com/user-attachments/assets/7062d112-daa9-49f2-b0f0-4f7658cfa872)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/b56afe45-9835-4fd3-8fde-b4d39d00c760)\r\n\r\n105 paddle.linalg.cov\r\nPaddleAPITest测试\r\nGPU\r\n![image](https://github.com/user-attachments/assets/79e95375-182e-44ed-b36b-651bd02e6093)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/aceee333-6368-4dc6-985d-60652443287d)\r\n\r\n107 paddle.linalg.inv\r\nPaddleAPITest测试\r\nGPU\r\n![image](https://github.com/user-attachments/assets/9b7bd3c9-973a-4610-be59-072eb22d8997)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/b75db89a-27cc-4c04-a3bc-9785e8b6ac08)\r\n\r\n204 paddle.nn.functional.normalize\r\nPaddleAPITest测试\r\nGPU\r\n![image](https://github.com/user-attachments/assets/48f963e3-9a9f-417d-90fb-9918c5d05100)\r\n\r\nCPU\r\n![image](https://github.com/user-attachments/assets/f200fc52-7ddd-44d2-9a4e-8410f94c1065)\r\n",
        "issue_number": "339",
        "state": "closed",
        "merged": false,
        "user": "co63oc",
        "merged_by": null,
        "created_at": "2025-06-25T01:46:40+00:00",
        "closed_at": "2025-06-26T07:43:47+00:00",
        "additions": 0,
        "deletions": 1,
        "changed_files": 1,
        "commits": [
            "f757a61ae233f6e9d70e11e4ea1e519fe60a24f7"
        ],
        "comment_by": [
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 341,
        "title": "[0-size Tensor No.203] Add 0-size Tensor support for paddle.nn.functional.multi_margin_loss",
        "body": "paddle.nn.functional.multi_margin_loss 测试都为numpy error，是否迁移配置到其他文件\r\n![image](https://github.com/user-attachments/assets/cd938452-ec56-4ce0-99bb-7a8a03c923ed)\r\n\r\n配置 report/0size_tensor_gpu/error_config.txt\r\nreport/0size_tensor_cpu/error_config.txt",
        "issue_number": "341",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-25T03:17:57+00:00",
        "closed_at": "2025-06-30T05:25:44+00:00",
        "additions": 0,
        "deletions": 17,
        "changed_files": 6,
        "commits": [
            "10cd7e4f6478275cf940f40046bfcbcbdc9c76f7",
            "5c25c4c10d1b2bcb77d7945ce7be824e9cafb6e3"
        ],
        "comment_by": [
            "cangtianhuang",
            "co63oc",
            "cangtianhuang",
            "co63oc",
            "cangtianhuang",
            "co63oc",
            "cangtianhuang",
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 342,
        "title": "[Accuracy diff No.97] Fix accuracy diff for paddle.incubate.softmax_mask_fuse API",
        "body": "Paddle 中 softmax_mask_fuse 的反向只返回 x_grad，手写的 rule 会返回 x_grad 和 mask_grad\r\n\r\n![image](https://github.com/user-attachments/assets/94d70e67-7c34-4075-9c04-8e01c6eddec5)\r\n",
        "issue_number": "342",
        "state": "closed",
        "merged": true,
        "user": "ooooo-create",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-26T08:41:25+00:00",
        "closed_at": "2025-06-30T04:57:26+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "416af562f7d3ed73266ddeff82f84a1ccd6a2f7e"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 345,
        "title": "Clean paddle.shard_index config",
        "body": "清理 paddle.shard_index 部分配置\r\nhttps://github.com/PaddlePaddle/Paddle/pull/73594#issuecomment-3018950627\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/3.0/api/paddle/shard_index_cn.html#shard-index\r\n![image](https://github.com/user-attachments/assets/57a10e11-31c2-4e7f-a715-1d9b31a36efd)\r\n\r\ninput  最后一维为1",
        "issue_number": "345",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-06-30T22:56:43+00:00",
        "closed_at": "2025-07-01T09:25:47+00:00",
        "additions": 0,
        "deletions": 11,
        "changed_files": 3,
        "commits": [
            "2fa45422655abb680f6be32566075f306873a584"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 343,
        "title": "[Accuracy diff No.91] Fix accuracy diff for paddle.incubate.nn.functional.fused_layer_norm API",
        "body": "TODO",
        "issue_number": "343",
        "state": "closed",
        "merged": false,
        "user": "ooooo-create",
        "merged_by": null,
        "created_at": "2025-06-26T12:45:41+00:00",
        "closed_at": "2025-07-08T04:33:06+00:00",
        "additions": 5,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "585bf5dbdc25ecf351afaefe8b8b3daba1aac464"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 344,
        "title": "pow配置修改",
        "body": "在修复大tensor过程中发现 当pow的两个变量均为tensor时且数据类型为float16会出现精度问题，该问题并非精度错误，修改float16为float32即可通过，所以对该类配置进行修改",
        "issue_number": "344",
        "state": "closed",
        "merged": true,
        "user": "cszdrg",
        "merged_by": "wanghuancoder",
        "created_at": "2025-06-30T07:23:44+00:00",
        "closed_at": "2025-06-30T08:07:26+00:00",
        "additions": 12,
        "deletions": 12,
        "changed_files": 3,
        "commits": [
            "17fffbd5af86156f7ca236c59da3a6015d0d4371"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "cszdrg"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 347,
        "title": "[Accuracy diff No.32、33] Fix accuracy diff for paddle.linalg.svd_lowrank API",
        "body": "paddle.linalg.svd_lowrank\r\n\r\nhttps://github.com/PaddlePaddle/Paddle/blob/bdccaf5ec911cd0378924bdb7c5a547396474167/python/paddle/tensor/linalg.py#L3100\r\nsvd_lowrank 使用 _get_approximate_basis\r\n使用paddle.randn 随机生成数据\r\nhttps://github.com/PaddlePaddle/Paddle/blob/bdccaf5ec911cd0378924bdb7c5a547396474167/python/paddle/tensor/linalg.py#L3081\r\n![image](https://github.com/user-attachments/assets/4d379759-06db-4a09-baf1-479ac6331dfd)\r\n\r\nhttps://github.com/PFCCLab/PaddleAPITest/blob/main/tester/api_config/2_paddle_only_random/random_calculation.txt\r\n![image](https://github.com/user-attachments/assets/badaf32c-6234-402a-8de9-e54897dce244)\r\n\r\n已有 paddle.linalg.svd_lowrank 配置",
        "issue_number": "347",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-07-01T23:58:12+00:00",
        "closed_at": "2025-07-03T13:33:20+00:00",
        "additions": 0,
        "deletions": 83,
        "changed_files": 4,
        "commits": [
            "f9acdbc433c2fa43bb8e8674217491ec83590cb2"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "co63oc",
            "cangtianhuang",
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 352,
        "title": "[0-size Tensor Job2 No.63] Add 0-size Tensor support for paddle.nn.functional.nll_loss",
        "body": "paddle.nn.functional.nll_loss\r\nPaddleAPITest 为numpy error\r\n![image](https://github.com/user-attachments/assets/7bd2665f-40d3-4350-9ff8-b389a83e6050)\r\n\r\n查看文档，类别数可能需要大于0，为0没有实际含义\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/nll_loss_cn.html#nll-loss\r\n![image](https://github.com/user-attachments/assets/ad93b8f8-8970-47b4-a2a1-b0602ecc468e)\r\n\r\n取消配置信息\r\n",
        "issue_number": "352",
        "state": "closed",
        "merged": true,
        "user": "co63oc",
        "merged_by": "cangtianhuang",
        "created_at": "2025-07-06T06:53:33+00:00",
        "closed_at": "2025-07-06T08:08:32+00:00",
        "additions": 0,
        "deletions": 34,
        "changed_files": 4,
        "commits": [
            "1e65bc7e80b1cb4ab803c4ad3608e2adf90a86ae"
        ],
        "comment_by": [],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 350,
        "title": "Modify input of paddle.rsqrt and paddle.remainder",
        "body": "paddle.rsqrt要求输入非负\r\npaddle.remainder要求模数不等于0",
        "issue_number": "350",
        "state": "closed",
        "merged": true,
        "user": "pesionzhao",
        "merged_by": "cangtianhuang",
        "created_at": "2025-07-04T06:35:45+00:00",
        "closed_at": "2025-07-06T08:00:40+00:00",
        "additions": 7,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "f470b2e15fefea152678140ab62b18a9b311bf35"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 348,
        "title": "fix run.sh",
        "body": null,
        "issue_number": "348",
        "state": "closed",
        "merged": true,
        "user": "Zeref996",
        "merged_by": "Zeref996",
        "created_at": "2025-07-02T06:41:41+00:00",
        "closed_at": "2025-07-02T06:42:10+00:00",
        "additions": 14,
        "deletions": 5,
        "changed_files": 1,
        "commits": [
            "8ad1f0938b0ebb0f347a2c8cac6060db94b90e10"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 349,
        "title": "Fix `paddle.kthvalue` accuracy test",
        "body": "- https://github.com/PaddlePaddle/Paddle/pull/73745\r\n\r\npaddle.kthvalue 返回 (values, indices) 元组。在有多个相同 kthvalue 时，torch index 值不确定，paddle 返回第一个出现的 index 值，因此仅需比较 values 值",
        "issue_number": "349",
        "state": "closed",
        "merged": true,
        "user": "cangtianhuang",
        "merged_by": "cangtianhuang",
        "created_at": "2025-07-03T13:20:27+00:00",
        "closed_at": "2025-07-06T08:09:05+00:00",
        "additions": 5,
        "deletions": 4,
        "changed_files": 1,
        "commits": [
            "7ffeee89969f6c2eaae042f7621b5e5e78850d91",
            "849f4e7003743806a34a0b4e7befb02a80b315db",
            "7003dcb6528c86946a8400dd7ea5b5b0846848e1"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 346,
        "title": "[Accuracy diff No.113] Fix accuracy diff for paddle.nn.functional.conv2d API",
        "body": "paddle.nn.functional.conv2d\r\n使用 --test_amp=True 选项PaddleAPITest测试通过\r\n\r\n![image](https://github.com/user-attachments/assets/d81ce7f5-1b28-426c-95f6-e7435452d96d)\r\n",
        "issue_number": "346",
        "state": "closed",
        "merged": false,
        "user": "co63oc",
        "merged_by": null,
        "created_at": "2025-07-01T09:26:51+00:00",
        "closed_at": "2025-07-03T13:55:22+00:00",
        "additions": 1,
        "deletions": 0,
        "changed_files": 1,
        "commits": [
            "0c69b3bc28671381670928c74e3526d81025bb14"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "cangtianhuang",
            "co63oc",
            "cangtianhuang",
            "co63oc"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 351,
        "title": "fix V2 run.sh",
        "body": null,
        "issue_number": "351",
        "state": "closed",
        "merged": true,
        "user": "Zeref996",
        "merged_by": "Zeref996",
        "created_at": "2025-07-04T08:37:41+00:00",
        "closed_at": "2025-07-04T08:38:40+00:00",
        "additions": 340,
        "deletions": 183,
        "changed_files": 11,
        "commits": [
            "06c3771a0a528edc8eb297f5e570a5b8d5d1b7cc"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 353,
        "title": "Remove invalid chunk testcases",
        "body": "chunk要求被切分维度的dim_size被chunks整除，因此删除所有无效配置。",
        "issue_number": "353",
        "state": "closed",
        "merged": true,
        "user": "ggggxm",
        "merged_by": "wanghuancoder",
        "created_at": "2025-07-07T06:23:54+00:00",
        "closed_at": "2025-07-07T07:25:47+00:00",
        "additions": 4,
        "deletions": 209,
        "changed_files": 5,
        "commits": [
            "5fe0563c342b2941fc4e262a22754beb1835cffb"
        ],
        "comment_by": [
            "paddle-bot[bot]"
        ],
        "review_by": []
    },
    {
        "repo": "PFCCLab/PaddleAPITest",
        "number": 354,
        "title": "[0-size Tensor Job2 No.62] Add 0-size Tensor support for paddle.nn.functional.margin_cross_entropy",
        "body": "paddle.nn.functional.margin_cross_entropy\r\nPaddleAPITest 为numpy error\r\n![image](https://github.com/user-attachments/assets/e27119fe-9170-4679-8662-2d6324b432ae)\r\n\r\n查看文档，参数2为类别，类别可能需要大于0，为0没有实际含义\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/develop/api/paddle/nn/functional/margin_cross_entropy_cn.html#margin-cross-entropy\r\n![image](https://github.com/user-attachments/assets/b7231c72-baea-46cb-a732-874dd60e6e8f)\r\n\r\n取消配置信息",
        "issue_number": "354",
        "state": "open",
        "merged": false,
        "user": "co63oc",
        "merged_by": null,
        "created_at": "2025-07-08T06:23:02+00:00",
        "closed_at": null,
        "additions": 0,
        "deletions": 38,
        "changed_files": 5,
        "commits": [
            "1efe8d6a08310ba101e6ed6a059a246385752426",
            "0d6022b54fc3ab5ec4213d4a6913200b1d1b52fd",
            "6fb169c910be2061a5e9e6eadc0ec61f82916874"
        ],
        "comment_by": [
            "paddle-bot[bot]",
            "wanghuancoder",
            "co63oc"
        ],
        "review_by": []
    }
]