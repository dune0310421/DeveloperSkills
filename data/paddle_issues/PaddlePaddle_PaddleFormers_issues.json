[
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 38,
        "title": "!hub run senta_bilstm --input_text \"今天难道不是个好日子么\"",
        "body": "成功源码编译方式安装了paddlepaddle+CUDA 10+python 3.6之后，安装了paddlehub。简单测试下面的case，得到的结论是：\r\n!hub run senta_bilstm --input_text \"今天难道不是个好日子么\"\r\n[{'text': '今天难道不是个好日子么', 'sentiment_label': 0, 'sentiment_key': 'negative', 'positive_probs': 0.0669, 'negative_probs': 0.9331}]\r\n\r\n比较尴尬。",
        "state": "closed",
        "user": "tianna1121",
        "closed_by": "tianna1121",
        "created_at": "2019-05-05T14:02:39+00:00",
        "updated_at": "2019-05-05T14:05:02+00:00",
        "closed_at": "2019-05-05T14:05:02+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 58,
        "title": "Is there a pretrained lexical_analysis model?",
        "body": "I ran \r\n` hub run lexical_analysis --input_text \"在搜索引擎输入.尚赫”就可以发现多篇.尚赫涉嫌传销”.虚假宣传”.跨区经营”等各类媒体公开报道天津尚赫保健品有限公司违规经营的报道\"`\r\nand it says\r\n```bash\r\nInstall Module lexical_analysis\r\nCan't find module lexical_analysis\r\n```\r\n\r\n---\r\n\r\nI understand that `lexical_analysis` is a model, not a module, is there a way to call a trained model?",
        "state": "closed",
        "user": "FrontMage",
        "closed_by": "FrontMage",
        "created_at": "2019-06-20T06:39:17+00:00",
        "updated_at": "2019-06-25T02:29:48+00:00",
        "closed_at": "2019-06-25T02:29:48+00:00",
        "comments_count": [
            "nepeplwu",
            "FrontMage",
            "nepeplwu",
            "FrontMage"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 33,
        "title": "hub show ModuleName命令得到的ModuleName与list查询的结果不一致",
        "body": "##hub version: \r\nhub 0.5.0\r\n##Description:\r\nhub list与hub show senta_bilstm获取的ModuleName结果不一致\r\n##Operation:\r\n`hub list`\r\n`hub show senta_bilstm`\r\n##Output:\r\n<img width=\"546\" alt=\"hub-fix\" src=\"https://user-images.githubusercontent.com/22760373/56565113-348a3d80-65e2-11e9-9fb1-390257752562.png\">\r\n\r\n",
        "state": "closed",
        "user": "hitcoogle",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-04-23T08:14:39+00:00",
        "updated_at": "2019-04-24T02:10:35+00:00",
        "closed_at": "2019-04-24T02:10:35+00:00",
        "comments_count": [
            "Steffy-zxf",
            "hitcoogle"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 57,
        "title": "TextClassifierTask",
        "body": "error: module 'paddlehub' has no attribute 'TextClassifierTask'",
        "state": "closed",
        "user": "09094080-Tao-Jiao",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-06-19T07:42:32+00:00",
        "updated_at": "2019-06-27T12:27:29+00:00",
        "closed_at": "2019-06-27T12:27:29+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 37,
        "title": "paddlehub安装不成功",
        "body": "使用pip install paddlehub-0.4.6b0-py2-none-any.whl 进行安装，安装成功后执行hub命令，出现以下错误，paddle版本为1.3\r\n\r\n![image](https://user-images.githubusercontent.com/5926307/56957939-556f0780-6b7b-11e9-8f0d-6fe81e96e6e0.png)\r\n",
        "state": "closed",
        "user": "Melonzhou",
        "closed_by": "nepeplwu",
        "created_at": "2019-04-30T11:08:40+00:00",
        "updated_at": "2019-05-10T06:51:23+00:00",
        "closed_at": "2019-05-10T06:51:23+00:00",
        "comments_count": [
            "ZeyuChen",
            "Melonzhou"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 35,
        "title": "BUG that lack the lack the defination of linear_warmup_decay function",
        "body": "when the warmup proportion is positive , the program will abort.\r\n![image](https://user-images.githubusercontent.com/48793257/56956741-9d8c2b00-6b77-11e9-9ae2-148ea20439c1.png)\r\n",
        "state": "closed",
        "user": "Steffy-zxf",
        "closed_by": "ZeyuChen",
        "created_at": "2019-04-30T10:42:10+00:00",
        "updated_at": "2019-04-30T15:33:40+00:00",
        "closed_at": "2019-04-30T15:33:39+00:00",
        "comments_count": [
            "ZeyuChen"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 31,
        "title": "module 'paddlehub' has no attribute 'ImageClassificationDataset'",
        "body": "大佬好\r\n我在使用paddlehub时，新建一个自己的类继承自ImageClassificationDataset类，但是运行报错，提示没有hub下没有这个模块\r\n```\r\npaddlepaddle = 1.4.1\r\npaddlehub = 0.5.0\r\n```\r\n<img width=\"687\" alt=\"WX20190423-154941@2x\" src=\"https://user-images.githubusercontent.com/6853884/56563897-78c80e80-65df-11e9-976a-2c669bd5a76c.png\">\r\n求解决，谢谢",
        "state": "closed",
        "user": "VictorZhang2014",
        "closed_by": "nepeplwu",
        "created_at": "2019-04-23T07:50:24+00:00",
        "updated_at": "2019-07-18T09:38:33+00:00",
        "closed_at": "2019-04-23T09:25:09+00:00",
        "comments_count": [
            "nepeplwu",
            "VictorZhang2014"
        ],
        "labels": [
            "document"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 34,
        "title": "Cannot use CUDAPlace in CPU only version",
        "body": "```\r\nCannot use CUDAPlace in CPU only version at [/paddle/paddle/fluid/pybind/pybind.cc:806]\r\n```\r\n根据这个教程：https://github.com/PaddlePaddle/PaddleHub/wiki/PaddleHub%E5%9B%BE%E5%83%8F%E5%88%86%E7%B1%BB%E8%BF%81%E7%A7%BB%E6%95%99%E7%A8%8B\r\n当运行到这行代码时，报错了，不能使用CUDAPlace\r\n<img width=\"1080\" alt=\"WX20190423-171319@2x\" src=\"https://user-images.githubusercontent.com/6853884/56569211-1ffe7300-65eb-11e9-8700-8a1db1642b95.png\">\r\n\r\n看了代码后，发现了在配置那块，少了个参数，如下代码\r\n```\r\nconfig = hub.RunConfig()\r\n```",
        "state": "closed",
        "user": "VictorZhang2014",
        "closed_by": "nepeplwu",
        "created_at": "2019-04-23T09:14:50+00:00",
        "updated_at": "2019-04-23T10:49:54+00:00",
        "closed_at": "2019-04-23T10:49:54+00:00",
        "comments_count": [
            "VictorZhang2014",
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1,
        "title": "pip download bert 无法下载。",
        "body": "",
        "state": "closed",
        "user": "Steffy-zxf",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-04-11T09:22:43+00:00",
        "updated_at": "2019-04-11T09:23:53+00:00",
        "closed_at": "2019-04-11T09:23:53+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 72,
        "title": "加载自定义数据集只列出了文本分类的，有‘图像’类别的自定数据集加载的wiki吗？",
        "body": "ATT",
        "state": "closed",
        "user": "gateslee1984",
        "closed_by": "gateslee1984",
        "created_at": "2019-07-09T05:25:44+00:00",
        "updated_at": "2019-07-09T05:27:23+00:00",
        "closed_at": "2019-07-09T05:27:23+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 62,
        "title": "模型基准测试结果",
        "body": "您好，请问哪里可以看到模型基准测试结果呢？比如图像分类任务，我想知道通过paddle官方训练的某个模型的基准测试结果。在哪里可以看呢？",
        "state": "closed",
        "user": "jacobssy",
        "closed_by": "nepeplwu",
        "created_at": "2019-06-24T03:11:30+00:00",
        "updated_at": "2019-06-26T14:38:00+00:00",
        "closed_at": "2019-06-26T14:38:00+00:00",
        "comments_count": [
            "nepeplwu",
            "jacobssy",
            "nepeplwu",
            "jacobssy"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 61,
        "title": "batchsize 必须设置成卡数倍数",
        "body": "![image](https://user-images.githubusercontent.com/16330293/59987225-84ca5e00-966c-11e9-81a5-ec4a800f45be.png)\r\n如图，当ba't'cbatchsize不是卡数倍数时会报错，是否考虑修改代码求余或者添加设置说明？",
        "state": "closed",
        "user": "Austendeng",
        "closed_by": "Austendeng",
        "created_at": "2019-06-24T02:41:58+00:00",
        "updated_at": "2019-06-25T06:14:45+00:00",
        "closed_at": "2019-06-25T06:14:45+00:00",
        "comments_count": [
            "Austendeng",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 66,
        "title": "对于NLPCC-DBQA预测的predict.py文件配置",
        "body": "范例中predict采用的是chnsentcorp,如果想预测dbqa问答系统，具体该如何设置，能不能在text_b输出预测文本呢。",
        "state": "closed",
        "user": "TianTian-O1",
        "closed_by": "TianTian-O1",
        "created_at": "2019-06-28T10:41:47+00:00",
        "updated_at": "2019-06-29T01:01:50+00:00",
        "closed_at": "2019-06-29T01:01:50+00:00",
        "comments_count": [
            "nepeplwu",
            "TianTian-O1",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 65,
        "title": "运行predict时报错",
        "body": "\r\nTraceback (most recent call last):\r\n  File \"predict.py\", line 76, in <module>\r\n    fluid.io.load_persistables(exe, args.checkpoint_dir)\r\n  File \"/home/tianzhen/.local/lib/python3.7/site-packages/paddle/fluid/io.py\", line 704, in load_persistables\r\n    filename=filename)\r\n  File \"/home/tianzhen/.local/lib/python3.7/site-packages/paddle/fluid/io.py\", line 575, in load_vars\r\n    filename=filename)\r\n  File \"/home/tianzhen/.local/lib/python3.7/site-packages/paddle/fluid/io.py\", line 610, in load_vars\r\n    executor.run(load_prog)\r\n  File \"/home/tianzhen/.local/lib/python3.7/site-packages/paddle/fluid/executor.py\", line 565, in run\r\n    use_program_cache=use_program_cache)\r\n  File \"/home/tianzhen/.local/lib/python3.7/site-packages/paddle/fluid/executor.py\", line 642, in _run\r\n    exe.run(program.desc, scope, 0, True, True, fetch_var_name)\r\npaddle.fluid.core.EnforceNotMet: Invoke operator load error.\r\nPython Callstacks: \r\n  File \"/home/tianzhen/.local/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 1654, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/home/tianzhen/.local/lib/python3.7/site-packages/paddle/fluid/io.py\", line 596, in load_vars\r\n    attrs={'file_path': os.path.join(dirname, new_var.name)})\r\n  File \"/home/tianzhen/.local/lib/python3.7/site-packages/paddle/fluid/io.py\", line 575, in load_vars\r\n    filename=filename)\r\n  File \"/home/tianzhen/.local/lib/python3.7/site-packages/paddle/fluid/io.py\", line 704, in load_persistables\r\n    filename=filename)\r\n  File \"predict.py\", line 76, in <module>\r\n    fluid.io.load_persistables(exe, args.checkpoint_dir)\r\nC++ Callstacks: \r\nCannot open file CKPT_DIR/@HUB_ernie-stable@encoder_layer_6_multi_head_att_key_fc.w_0 for load op at [/paddle/paddle/fluid/operators/load_op.h:37]\r\nPaddlePaddle Call Stacks: \r\n0       0x7fe8da2e6830p void paddle::platform::EnforceNotMet::Init<char const*>(char const*, char const*, int) + 352\r\n1       0x7fe8da2e6ba9p paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int) + 137\r\n2       0x7fe8da8b65a6p paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, float>::Compute(paddle::framework::ExecutionContext const&) const + 774\r\n3       0x7fe8da8b6813p std::_Function_handler<void (paddle::framework::ExecutionContext const&), paddle::framework::OpKernelRegistrarFunctor<paddle::platform::CPUPlace, false, 0ul, paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, float>, paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, double>, paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, int>, paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, signed char>, paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, long> >::operator()(char const*, char const*, int) const::{lambda(paddle::framework::ExecutionContext const&)#1}>::_M_invoke(std::_Any_data const&, paddle::framework::ExecutionContext const&) + 35\r\n4       0x7fe8db492da6p paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, paddle::framework::RuntimeContext*) const + 662\r\n5       0x7fe8db4938a4p paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) const + 292\r\n6       0x7fe8db491a7bp paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) + 267\r\n7       0x7fe8da44c23ep paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool) + 158\r\n8       0x7fe8da44f21fp paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::vector<std::string, std::allocator<std::string> > const&, bool) + 143\r\n9       0x7fe8da2d74bep\r\n10      0x7fe8da31620ep\r\n11            0x5d8014p _PyMethodDef_RawFastCallKeywords + 548\r\n12            0x5d9970p _PyObject_FastCallKeywords + 1744\r\n13            0x54b0f1p\r\n14            0x552197p _PyEval_EvalFrameDefault + 17495\r\n15            0x54b9f2p _PyEval_EvalCodeWithName + 594\r\n16            0x5d8c62p _PyFunction_FastCallKeywords + 1154\r\n17            0x54af20p\r\n18            0x54f0eep _PyEval_EvalFrameDefault + 5038\r\n19            0x54b9f2p _PyEval_EvalCodeWithName + 594\r\n20            0x5d8c62p _PyFunction_FastCallKeywords + 1154\r\n21            0x54e3dcp _PyEval_EvalFrameDefault + 1692\r\n22            0x54b9f2p _PyEval_EvalCodeWithName + 594\r\n23            0x5d8c62p _PyFunction_FastCallKeywords + 1154\r\n24            0x54af20p\r\n25            0x54f0eep _PyEval_EvalFrameDefault + 5038\r\n26            0x54b9f2p _PyEval_EvalCodeWithName + 594\r\n27            0x5d8c62p _PyFunction_FastCallKeywords + 1154\r\n28            0x54af20p\r\n29            0x54f0eep _PyEval_EvalFrameDefault + 5038\r\n30            0x54b9f2p _PyEval_EvalCodeWithName + 594\r\n31            0x5d8c62p _PyFunction_FastCallKeywords + 1154\r\n32            0x54af20p\r\n33            0x552197p _PyEval_EvalFrameDefault + 17495\r\n34            0x54b9f2p _PyEval_EvalCodeWithName + 594\r\n35            0x54dd33p PyEval_EvalCode + 35\r\n36            0x630f22p\r\n37            0x630fd7p PyRun_FileExFlags + 151\r\n38            0x631c3fp PyRun_SimpleFileExFlags + 383\r\n39            0x65414ep\r\n40            0x6544aep _Py_UnixMain + 46\r\n41      0x7fe8f89eab6bp __libc_start_main + 235\r\n42            0x5e04eap _start + 42\r\n",
        "state": "closed",
        "user": "TianTian-O1",
        "closed_by": "TianTian-O1",
        "created_at": "2019-06-28T05:58:07+00:00",
        "updated_at": "2019-06-28T08:05:15+00:00",
        "closed_at": "2019-06-28T08:05:15+00:00",
        "comments_count": [
            "nepeplwu",
            "TianTian-O1",
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 70,
        "title": "我在百度大脑AI studio 运行了PaddleHub的实例三，目标检测，发现只有ssd可以正常运行，faster-rcnn和yolov3都提示没有发现模型。",
        "body": "示例三\r\n\r\n使用目标检测模型 SSD/YOLO v3/Faster RCNN 对图片进行目标检测\r\n\r\n$ wget --no-check-certificate https://paddlehub.bj.bcebos.com/resources/test_object_detection.jpg\r\n$ hub run ssd_mobilenet_v1_pascal --input_path test_object_detection.jpg\r\n$ hub run yolov3_coco2017 --input_path test_object_detection.jpg\r\n$ hub run faster_rcnn_coco2017 --input_path test_object_detection.jpg\r\n\r\n\r\n  \r\n运行输出\r\n运行耗时: 7秒751毫秒\r\nCan't find module faster_rcnn_coco2017\r\nCan't find module yolov3_coco2017\r\nModule ssd_mobilenet_v1_pascal already installed in /home/aistudio/.paddlehub/modules/ssd_mobilenet_v1_pascal",
        "state": "closed",
        "user": "yearddxx01",
        "closed_by": "nepeplwu",
        "created_at": "2019-07-03T04:14:17+00:00",
        "updated_at": "2019-07-09T05:08:06+00:00",
        "closed_at": "2019-07-09T05:08:06+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 73,
        "title": "squad数据集的模型怎么构造？",
        "body": "squad数据集的模型怎么构造？ernie的sequence_out输出后，我接了两层全连接，最后输出shape为[-1,2], 和label[23,28]计算cross_entropy，然后使用finetue_and_evl函数（“sequence_labeling”）训练，怎么报错？ Invoke operator mul error. ",
        "state": "closed",
        "user": "miaohaa",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-07-12T12:36:19+00:00",
        "updated_at": "2019-08-22T10:09:30+00:00",
        "closed_at": "2019-08-22T10:09:30+00:00",
        "comments_count": [
            "miaohaa",
            "miaohaa",
            "miaohaa",
            "Steffy-zxf",
            "miaohaa",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 69,
        "title": "paddlehub没有办法离线运行",
        "body": "训练机子不让上外网，我一个劲的docker save docker load 日的我不要不要的。已经折腾两周了，结果载入paddlehub还要求连外网。不连外网就用不了了吗？",
        "state": "closed",
        "user": "yangtianyu92",
        "closed_by": "nepeplwu",
        "created_at": "2019-07-01T08:27:02+00:00",
        "updated_at": "2019-07-18T09:43:05+00:00",
        "closed_at": "2019-07-09T05:07:47+00:00",
        "comments_count": [
            "yangtianyu92",
            "yangtianyu92",
            "yangtianyu92",
            "nepeplwu",
            "yangtianyu92",
            "nepeplwu",
            "yangtianyu92",
            "ZeyuChen"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 71,
        "title": "PaddleHub的使用指南",
        "body": "请问下有没有关于paddlehub的使用指南呢？比如module里都有哪些预训练模型和预训练模型的名字，不知道名字无法加载预训练模型。怎么加载自己的数据集？",
        "state": "closed",
        "user": "InstantWindy",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-07-08T14:03:17+00:00",
        "updated_at": "2019-07-15T02:00:16+00:00",
        "closed_at": "2019-07-15T02:00:16+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 74,
        "title": "paddlehub lac的python api",
        "body": "",
        "state": "closed",
        "user": "OpenWaygate",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-07-14T06:41:09+00:00",
        "updated_at": "2019-07-23T06:29:47+00:00",
        "closed_at": "2019-07-23T06:29:47+00:00",
        "comments_count": [
            "OpenWaygate",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 76,
        "title": "can't load module with: hub.Module(name=\"XXX\")",
        "body": "in manager.py: name = search_result.get('name', None)\r\n\r\nbut the search_result does not return the \"name\" at all, 'cos in the hub_server.py:\r\n\r\n                return {\r\n                    'url': self.resource_list_file['url'][index],\r\n                    'md5': self.resource_list_file['md5'][index],\r\n                    'version': version\r\n                }",
        "state": "closed",
        "user": "lexmen318",
        "closed_by": "lexmen318",
        "created_at": "2019-07-15T03:26:56+00:00",
        "updated_at": "2019-07-17T00:45:44+00:00",
        "closed_at": "2019-07-17T00:45:44+00:00",
        "comments_count": [
            "Steffy-zxf",
            "lexmen318",
            "Steffy-zxf",
            "lexmen318",
            "Steffy-zxf",
            "lexmen318"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 75,
        "title": "valueerror: the length of ret_tokens can't match with labels",
        "body": "训练序列标注任务，自己构建的数据集合，和msra_ner一样格式，怎么会出现这句错误valueerror: the length of ret_tokens can't match with labels。ret_tokens是什么意思？可我确定 label的长度和text_a的长度相同了啊。",
        "state": "closed",
        "user": "miaohaa",
        "closed_by": "ZeyuChen",
        "created_at": "2019-07-14T11:16:35+00:00",
        "updated_at": "2019-07-18T11:52:41+00:00",
        "closed_at": "2019-07-18T11:52:41+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ZeyuChen"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 80,
        "title": "请问一下ERNIE的文本分类采用什么优化器？",
        "body": "我使用30万的数据，进行100多类的分类训练，发现训练过程震荡比较明显。",
        "state": "closed",
        "user": "lexmen318",
        "closed_by": "lexmen318",
        "created_at": "2019-07-16T07:00:06+00:00",
        "updated_at": "2019-07-17T02:54:57+00:00",
        "closed_at": "2019-07-17T02:54:57+00:00",
        "comments_count": [
            "Steffy-zxf",
            "lexmen318",
            "lexmen318",
            "Steffy-zxf",
            "lexmen318",
            "Steffy-zxf",
            "lexmen318"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 81,
        "title": "用Paddlepaddle训练的模型，用paddlehub加载做推理时缺少module_desc.pb文件",
        "body": "用Paddlepaddle训练的模型，用paddlehub加载做推理时缺少module_desc.pb文件，请问有没有解决方法\r\n还是用paddlehub加载的模型必须用paddlehub训练?\r\n\r\n",
        "state": "closed",
        "user": "lambert-lan",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-07-17T08:59:24+00:00",
        "updated_at": "2019-07-30T01:53:12+00:00",
        "closed_at": "2019-07-30T01:53:12+00:00",
        "comments_count": [
            "ZeyuChen",
            "lambert-lan",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 85,
        "title": "用PaddleHub和ernie模型训练了一个文本四分类模型，然后根据https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.0.0/demo/text-classification/predict.py进行预测，为何每次预测结果都不一样，也没有显示accuarcy",
        "body": "",
        "state": "closed",
        "user": "lllyyyqqq",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-07-21T04:52:19+00:00",
        "updated_at": "2019-07-23T07:21:42+00:00",
        "closed_at": "2019-07-23T07:21:42+00:00",
        "comments_count": [
            "Steffy-zxf",
            "lllyyyqqq",
            "Steffy-zxf",
            "lllyyyqqq"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 77,
        "title": "LAC是否支持多线程？",
        "body": "用hub使用lac有几个问题，望解答：\r\n1. lac是否支持多线程？没看到接口有描述，在业务实现多线程，报string index out of range错误，只能改为多进程，才开始正常\r\n2. lac的代码实现在哪里？比如lexical_analysis这个api接口。\r\n3. lac的句法分析是用哪套API呢？\r\n4. 原程序使用了logger做日志输出，指定到了文件里面。引入hub，加载lac模块后，日志既输出到文件，还输出到了控制台，不知道怎么关掉。",
        "state": "closed",
        "user": "PHizing",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-07-15T08:27:09+00:00",
        "updated_at": "2019-08-22T10:07:53+00:00",
        "closed_at": "2019-08-22T10:07:52+00:00",
        "comments_count": [
            "Steffy-zxf",
            "PHizing",
            "PHizing",
            "Steffy-zxf",
            "PHizing",
            "Steffy-zxf",
            "Steffy-zxf",
            "PHizing",
            "Steffy-zxf",
            "nepeplwu",
            "PHizing",
            "nepeplwu",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 86,
        "title": "运行sequence_label的demo报错",
        "body": "EnforceNotMet: Input ShapeTensor cannot be found in Op reshape2 at [D:\\1.5.1\\release_cuda97\\paddle\\paddle\\fluid\\framework\\op_desc.cc:306]\r\n\r\n不清楚是为什么？尝试了很多办法都行不通。。。求助！！！",
        "state": "closed",
        "user": "zj890724",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-07-22T04:24:44+00:00",
        "updated_at": "2019-08-19T09:31:08+00:00",
        "closed_at": "2019-08-19T09:31:08+00:00",
        "comments_count": [
            "Steffy-zxf",
            "nlp4whp",
            "Steffy-zxf",
            "nlp4whp",
            "Steffy-zxf",
            "nlp4whp",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 87,
        "title": "文本分类采用bert模型，在finetune_and_eval()报错。",
        "body": "数据集为chnsenticorp   \r\n module = hub.Module(name=\"bert_chinese_L-12_H-768_A-12\")\r\n.....\r\ncls_task.finetune_and_eval()\r\n运行报错：\r\n\r\n  File \"/home/*****/.local/lib/python3.6/site-packages/paddle/fluid/backward.py\", line 310, in _append_backward_ops_\r\n    op.desc, cpt.to_text(no_grad_dict[block.idx]), grad_sub_block_list)\r\n\r\nEnforceNotMet: Input ShapeTensor cannot be found in Op reshape2 at [/paddle/paddle/fluid/framework/op_desc.cc:306]\r\nPaddlePaddle Call Stacks: \r\n0       0x7f63a310b650p void paddle::platform::EnforceNotMet::Init<char const*>(char const*, char const*, int) + 352",
        "state": "closed",
        "user": "glsoon",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-07-24T07:27:20+00:00",
        "updated_at": "2019-08-19T09:31:39+00:00",
        "closed_at": "2019-08-19T09:31:39+00:00",
        "comments_count": [
            "Steffy-zxf",
            "glsoon",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 89,
        "title": "PaddleHub图像分类迁移教程错误",
        "body": "首先感谢这份教程，十分的完善清楚\r\n但是在最后一步预测的时候是不是漏了一句\r\n    run_states = task.predict(data=data)\r\n    results = [run_state.run_results for run_state in run_states]\r\n",
        "state": "closed",
        "user": "foreversolar",
        "closed_by": "foreversolar",
        "created_at": "2019-07-25T03:23:25+00:00",
        "updated_at": "2019-07-25T05:02:57+00:00",
        "closed_at": "2019-07-25T05:02:57+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 88,
        "title": "PaddleHub 进行图像分类迁移报错",
        "body": "运行图像分类的示例notebiok报错\r\n58     # Step 4: load pretrained parameters\r\n     59     place = fluid.CUDAPlace(0)\r\nAttributeError: 'ClassifierTask' object has no attribute 'inference_program",
        "state": "closed",
        "user": "cisco08",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-07-25T00:24:39+00:00",
        "updated_at": "2019-08-19T09:31:57+00:00",
        "closed_at": "2019-08-19T09:31:57+00:00",
        "comments_count": [
            "nepeplwu",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 90,
        "title": "can't find model/module named lac",
        "body": "Hi, I'm using command line to input \"hub download lac\", but I just get \"PaddleHub can't find model/module named lac\". I also try \"hub search lac\" but only see a TypeError: 'NoneType' object is not iterable. Could you please help me solve this problem? Many thanks.\r\n\r\nP.S. I modify the hub_server.py file by removing all self.request().",
        "state": "closed",
        "user": "hyk4637",
        "closed_by": "hyk4637",
        "created_at": "2019-07-26T02:25:35+00:00",
        "updated_at": "2019-07-26T02:56:49+00:00",
        "closed_at": "2019-07-26T02:56:48+00:00",
        "comments_count": [
            "hyk4637"
        ],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 99
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 93,
        "title": "运行流程问题请教",
        "body": "看官方给出的demo\r\n在finetune_and_eval()之后，在预测的时候又把前面的所有流程走了一遍，最后这个finetune_and_val()改成了predict(), 那这时候predict使用的难道不是预训练的模型么。\r\n看到代码中注释了一句finetune之后会自动保存，请问这个是保存到哪了呢？在使用新模型的时候还是写module = hub.Module(name=\"ernie\")吗",
        "state": "closed",
        "user": "foreversolar",
        "closed_by": "foreversolar",
        "created_at": "2019-07-27T13:57:27+00:00",
        "updated_at": "2019-08-05T05:30:15+00:00",
        "closed_at": "2019-08-05T05:30:15+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 96,
        "title": "LAC自定义词典干预分词问题请教",
        "body": "自定义词典 user.dict 中的格式如下：\r\n单词\\t单词词性\\t单词词频\r\n\r\n这个单词词频设置多少合适呢，有参考的大小吗？\r\n\r\n例如句子：吉利新帝豪标配搪塑中控实际是注塑\r\n默认情况下分成了\r\n['吉利新帝豪标配搪塑中控', '实际', '是', '注塑']\r\n\r\n在 user.dict 中添加\r\n吉利新帝豪      n       30000\r\n后，变成👇：\r\n['吉利新帝豪', '标配搪塑中控', '实际', '是', '注塑']\r\n\r\n然后再次添加\r\n标配      vn       30000\r\n就不起作用了\r\n",
        "state": "closed",
        "user": "aofch",
        "closed_by": "aofch",
        "created_at": "2019-07-31T02:31:24+00:00",
        "updated_at": "2019-08-05T07:48:12+00:00",
        "closed_at": "2019-08-05T07:48:12+00:00",
        "comments_count": [
            "Halfish"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 95,
        "title": "语义相似度匹配任务",
        "body": "在做语义相似度匹配任务时，如果数据很多的话，predict.py 里面data的添加是怎么一种策略呢，如何能够快速匹配相似语义。",
        "state": "closed",
        "user": "TianTian-O1",
        "closed_by": "TianTian-O1",
        "created_at": "2019-07-30T01:42:44+00:00",
        "updated_at": "2019-07-30T02:51:48+00:00",
        "closed_at": "2019-07-30T02:51:48+00:00",
        "comments_count": [
            "Steffy-zxf",
            "TianTian-O1"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 97,
        "title": "安装paddlehub后import卡住",
        "body": "您好！\r\n我在linux系统上安装了paddlepaddle 1.5.1 和 paddlehub 1.0.2。但是我import paddlehub时会卡住，手动中断后显示卡在了connect某个socket一步。\r\n请问这是否和 https://github.com/PaddlePaddle/PaddleHub/issues/69 是同样的错误？应如何解决？\r\n![4c07edf9cba683f0fbd0132aabdf756](https://user-images.githubusercontent.com/49521559/62226965-aa762000-b3ed-11e9-8eaf-d4c65dc089b9.png)",
        "state": "closed",
        "user": "AOZMH",
        "closed_by": "AOZMH",
        "created_at": "2019-07-31T15:48:44+00:00",
        "updated_at": "2019-08-14T04:16:12+00:00",
        "closed_at": "2019-08-14T04:16:12+00:00",
        "comments_count": [
            "Steffy-zxf",
            "AOZMH",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 98,
        "title": "windows运行ernie分类程序，出现报错Windows not support stack backtrace yet.",
        "body": "windows运行paddlehub的ernie的任务出现对cls_task.finetune_and_eval()不支持",
        "state": "closed",
        "user": "natureLanguageQing",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-01T01:45:12+00:00",
        "updated_at": "2019-08-19T09:32:41+00:00",
        "closed_at": "2019-08-19T09:32:41+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 107,
        "title": "C++部分的Enforce failed",
        "body": "您好，我在进行 PaddleHub LAC 的测试中出现了报错如下：\r\n\r\n> C++ Callstacks: \r\nEnforce failed. Expected posix_memalign(&p, alignment, size) == 0, but received posix_memalign(&p, alignment, size):12 != 0:0.\r\n\r\n因个人对程序本身和C++方面不太熟悉想向您请教问题出现的可能原因。\r\n测试中使用了 Python 的 flask 框架做成了分词接口，在经过27w多次分词后发生的报错。\r\n完整报错信息如下:\r\n\r\n> Traceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 2446, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 1951, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 1820, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/usr/local/lib/python3.6/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 1949, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 1935, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/root/PaddleLAC/lexical_analysis/infer_test.py\", line 78, in tokenize\r\n    results = lac.lexical_analysis(data={\"text\": article_list}, batch_size=len(article_list))\r\n  File \"/usr/local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 484, in __call__\r\n    return_numpy=False)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 651, in run\r\n    use_program_cache=use_program_cache)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 749, in _run\r\n    exe.run(program.desc, scope, 0, True, True, fetch_var_name)\r\npaddle.fluid.core_avx.EnforceNotMet: Invoke operator gru error.\r\nPython Callstacks: \r\nC++ Callstacks: \r\nEnforce failed. Expected posix_memalign(&p, alignment, size) == 0, but received posix_memalign(&p, alignment, size):12 != 0:0.\r\nAlloc 256333568 error! at [/paddle/paddle/fluid/memory/detail/system_allocator.cc:57]\r\nPaddlePaddle Call Stacks: \r\n0       0x2b13dc647b78p void paddle::platform::EnforceNotMet::Init<std::string>(std::string, char const*, int) + 360\r\n1       0x2b13dda11337p paddle::memory::detail::AlignedMalloc(unsigned long) + 295\r\n2       0x2b13dda115f7p paddle::memory::detail::CPUAllocator::Alloc(unsigned long*, unsigned long) + 39\r\n3       0x2b13dda0ea0ap paddle::memory::detail::BuddyAllocator::RefillPool(unsigned long) + 58\r\n4       0x2b13dda0f21fp paddle::memory::detail::BuddyAllocator::Alloc(unsigned long) + 719\r\n5       0x2b13dd9eff05p void* paddle::memory::legacy::Alloc<paddle::platform::CPUPlace>(paddle::platform::CPUPlace const&, unsigned long) + 181\r\n6       0x2b13dd9f0c35p paddle::memory::allocation::LegacyAllocator::AllocateImpl(unsigned long) + 405\r\n7       0x2b13dd9ec533p paddle::memory::allocation::AllocatorFacade::Alloc(boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, unsigned long) + 227\r\n8       0x2b13dd9ec72ep paddle::memory::allocation::AllocatorFacade::AllocShared(boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, unsigned long) + 30\r\n9       0x2b13dd9d066cp paddle::memory::AllocShared(boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, unsigned long) + 44\r\n10      0x2b13dd9c9554p paddle::framework::Tensor::mutable_data(boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_>, paddle::framework::proto::VarType_Type, unsigned long) + 148\r\n11      0x2b13dc8a983ap float* paddle::framework::Tensor::mutable_data<float>(boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_>, unsigned long) + 74\r\n12      0x2b13dce35772p paddle::operators::GRUCPUKernel<float>::BatchCompute(paddle::framework::ExecutionContext const&) const + 482\r\n13      0x2b13dce37533p std::_Function_handler<void (paddle::framework::ExecutionContext const&), paddle::framework::OpKernelRegistrarFunctor<paddle::platform::CPUPlace, false, 0ul, paddle::operators::GRUCPUKernel<float>, paddle::operators::GRUCPUKernel<double> >::operator()(char const*, char const*, int) const::{lambda(paddle::framework::ExecutionContext const&)#1}>::_M_invoke(std::_Any_data const&, paddle::framework::ExecutionContext const&) + 35\r\n14      0x2b13dd98e547p paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, paddle::framework::RuntimeContext*) const + 375\r\n15      0x2b13dd98ecb1p paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) const + 529\r\n16      0x2b13dd98cb5bp paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) + 267\r\n17      0x2b13dc7c6c9ep paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool) + 206\r\n18      0x2b13dc7c9d1fp paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::vector<std::string, std::allocator<std::string> > const&, bool) + 143\r\n19      0x2b13dc639e9dp\r\n20      0x2b13dc67697ep\r\n21            0x4aadf7p _PyCFunction_FastCallKeywords + 775\r\n22            0x541a15p\r\n23            0x547191p _PyEval_EvalFrameDefault + 17665\r\n24            0x5418c1p\r\n25            0x541bbfp\r\n26            0x54701dp _PyEval_EvalFrameDefault + 17293\r\n27            0x5418c1p\r\n28            0x541bbfp\r\n29            0x54701dp _PyEval_EvalFrameDefault + 17293\r\n30            0x5418c1p\r\n31            0x54b116p _PyFunction_FastCallDict + 342\r\n32            0x45224fp _PyObject_FastCallDict + 495\r\n33            0x45234bp _PyObject_Call_Prepend + 203\r\n34            0x452102p _PyObject_FastCallDict + 162\r\n35            0x5a508ep\r\n36            0x452102p _PyObject_FastCallDict + 162\r\n37            0x452604p _PyObject_FastCallKeywords + 212\r\n38            0x541a15p\r\n39            0x54701dp _PyEval_EvalFrameDefault + 17293\r\n40            0x5418c1p\r\n41            0x5427bdp PyEval_EvalCodeEx + 109\r\n42            0x482017p\r\n43            0x451f20p PyObject_Call + 96\r\n44            0x546f1cp _PyEval_EvalFrameDefault + 17036\r\n45            0x540bb1p\r\n46            0x541de7p\r\n47            0x547191p _PyEval_EvalFrameDefault + 17665\r\n48            0x540bb1p\r\n49            0x541de7p\r\n50            0x547191p _PyEval_EvalFrameDefault + 17665\r\n51            0x540bb1p\r\n52            0x541de7p\r\n53            0x547191p _PyEval_EvalFrameDefault + 17665\r\n54            0x540bb1p\r\n55            0x54b1f6p _PyFunction_FastCallDict + 566\r\n56            0x45224fp _PyObject_FastCallDict + 495\r\n57            0x45234bp _PyObject_Call_Prepend + 203\r\n58            0x451f20p PyObject_Call + 96\r\n59            0x4c6093p\r\n60            0x452102p _PyObject_FastCallDict + 162\r\n61            0x541a15p\r\n62            0x547191p _PyEval_EvalFrameDefault + 17665\r\n63            0x5418c1p\r\n64            0x54b116p _PyFunction_FastCallDict + 342\r\n65            0x45224fp _PyObject_FastCallDict + 495\r\n66            0x45234bp _PyObject_Call_Prepend + 203\r\n67            0x451f20p PyObject_Call + 96\r\n68            0x4c6093p\r\n69            0x452102p _PyObject_FastCallDict + 162\r\n70            0x541a15p\r\n71            0x547191p _PyEval_EvalFrameDefault + 17665\r\n72            0x540bb1p\r\n73            0x541de7p\r\n74            0x547191p _PyEval_EvalFrameDefault + 17665\r\n75            0x475fecp _PyGen_Send + 124\r\n76            0x549290p _PyEval_EvalFrameDefault + 26112\r\n77            0x475fecp _PyGen_Send + 124\r\n78      0x2b13b74db5bfp\r\n79            0x451f20p PyObject_Call + 96\r\n80            0x546f1cp _PyEval_EvalFrameDefault + 17036\r\n81            0x540bb1p\r\n82            0x541de7p\r\n83            0x547191p _PyEval_EvalFrameDefault + 17665\r\n84            0x540bb1p\r\n85            0x541de7p\r\n86            0x547191p _PyEval_EvalFrameDefault + 17665\r\n87            0x540bb1p\r\n88            0x541de7p\r\n89            0x547191p _PyEval_EvalFrameDefault + 17665\r\n90            0x540bb1p\r\n91            0x541de7p\r\n92            0x547191p _PyEval_EvalFrameDefault + 17665\r\n93            0x5418c1p\r\n94            0x542700p PyEval_EvalCode + 96\r\n95            0x426738p PyRun_FileExFlags + 360\r\n96            0x42691dp PyRun_SimpleFileExFlags + 221\r\n97            0x43bb9ap Py_Main + 3402\r\n98            0x41d922p main + 354\r\n99      0x2b13aaecab35p __libc_start_main + 245",
        "state": "closed",
        "user": "FisherOuch",
        "closed_by": "FisherOuch",
        "created_at": "2019-08-08T03:05:42+00:00",
        "updated_at": "2019-08-08T07:44:40+00:00",
        "closed_at": "2019-08-08T07:44:40+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 104,
        "title": "关于PaddleHub Module参数中的processor兼容问题",
        "body": "您好，我在近期尝试使用 paddlehub.Module(\"lac\") 进行词性分析时发现有processor参数，在windows下开启4进程时速度提升明显，但在centos下开启时似乎并没有什么效果。想要请问一下processor参数在centos环境下是否支持开启多进程，是否有其他方式可以较为显著地提升词性分析的速度？\r\n我目前采用的是在保证句子不被切断的前提下将文章尽可能切割成500字符一下的分段，在分词结束后再重新拼接。如果开启多进程的话，更多分段和较少分段应该如何取舍呢？",
        "state": "closed",
        "user": "FisherOuch",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-05T08:49:44+00:00",
        "updated_at": "2019-08-05T11:24:38+00:00",
        "closed_at": "2019-08-05T11:24:38+00:00",
        "comments_count": [
            "Steffy-zxf",
            "FisherOuch"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 106,
        "title": "tiny error in readme of sequence-labeling demo",
        "body": "feed_list in readme.md is:\r\n```\r\nfeed_list = [\r\n    inputs[\"input_ids\"].name, inputs[\"position_ids\"].name,\r\n    inputs[\"segment_ids\"].name, inputs[\"input_mask\"].name, label.name\r\n]\r\n```\r\n\r\nbut in sequence_label.py:\r\n```\r\nfeed_list = [\r\n        inputs[\"input_ids\"].name,\r\n        inputs[\"position_ids\"].name,\r\n        inputs[\"segment_ids\"].name,\r\n        inputs[\"input_mask\"].name,\r\n    ]\r\n```\r\n\r\nmaybe `label.name` in readme is a tiny mistake ? \r\nbecause I see  `self.dataset.get_labels()` will be run in `BaseReader` ",
        "state": "closed",
        "user": "nlp4whp",
        "closed_by": "nlp4whp",
        "created_at": "2019-08-07T10:19:12+00:00",
        "updated_at": "2019-08-07T10:59:25+00:00",
        "closed_at": "2019-08-07T10:59:25+00:00",
        "comments_count": [
            "Steffy-zxf",
            "nlp4whp"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 109,
        "title": "网络中使用fluid.layers.resize_bilinear层之后，在模型预测阶段会将输出都resize到训练阶段的patch大小",
        "body": "如题，我的网络中使用了resize层进行上采样，在模型预测阶段，发现模型会将图像resize到训练时patch大小，模型输出图像不是原始图像分辨率。\r\n但是模型中不使用该层，那么预测阶段模型输出就是原始图像分辨率。\r\n请问fluid.layers.resize_bilinear该层为什么会是这样，是否是resize层的bug。",
        "state": "closed",
        "user": "Overtown",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-08T03:44:51+00:00",
        "updated_at": "2019-08-19T09:34:01+00:00",
        "closed_at": "2019-08-19T09:34:01+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Overtown",
            "Steffy-zxf",
            "Overtown",
            "Steffy-zxf",
            "Overtown",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 110,
        "title": "训练和测试使用一批相同的数据，训练误差和测试误差不一致",
        "body": "训练和测试使用一批相同的数据，训练误差0.03左右，但是测试误差3.4左右。\r\n\r\ndef train_net(args, pad_num=20, num_classes=100):\r\n    from _8conv_baseline_char_fc_attdecode_small_open.cnn_ctc_model_senet_8conv_pfc_attdecode import encoder_net_attdecode_return_conv_features\r\n    images = fluid.layers.data(name='img', shape=[1,32,256], dtype='float32')\r\n    images = fluid.layers.cast(x= images , dtype='float32')\r\n    mask = fluid.layers.data(name='mask', shape=[20, 16*128], dtype='float32')\r\n    mask = fluid.layers.cast(x= mask , dtype='float32')\r\n    #fluid.layers.Print(images,summarize = 10,message=\"images\")\r\n    conv_features= encoder_net_attdecode_return_conv_features(images,word_vector_dim-1,mask)#fluid.layers.data(name='conv_feature', shape=[20,64], dtype='float32')\r\n    print(\"conv_features is \",conv_features)\r\n    #content = fluid.layers.data(name='word', shape=[1], dtype='int32', lod_level=1)\r\n\r\n    pos = fluid.layers.data(name=\"pos\", shape=[pad_num, 4],append_batch_size=False, dtype='float32')\r\n    pos = fluid.layers.cast(x= pos , dtype='float32')\r\n    _tmp_pos = fluid.layers.unsqueeze(pos, axes=[0])\r\n    _tmp_pos = fluid.layers.expand(_tmp_pos, expand_times=[pad_num, 1, 1])\r\n    _tmp_pos_transp = fluid.layers.transpose(_tmp_pos, perm=[1, 0, 2])\r\n    print(\"_tmp_pos is \",_tmp_pos)\r\n    print(\"_tmp_pos_transp is \",_tmp_pos_transp)\r\n    adjacency = _tmp_pos - _tmp_pos_transp #????# fluid.layers.data(name='adja', shape=[pad_num, pad_num, 6], append_batch_size=False, dtype='float32')\r\n\r\n    node_label = fluid.layers.data(name='node_label', shape=[pad_num, 1], append_batch_size=False, dtype='int32')\r\n    node_label = fluid.layers.cast(x=node_label, dtype='int64')\r\n\r\n    node_mask = fluid.layers.data(name='node_mask', shape=[pad_num, 1], append_batch_size=False, dtype='int32')\r\n    node_mask = fluid.layers.cast(x=node_mask, dtype='float32')\r\n\r\n    edge_label = fluid.layers.data(name='edge_label', shape=[pad_num, pad_num], append_batch_size=False, dtype='int32')\r\n    edge_label = fluid.layers.cast(x=edge_label, dtype='float32')\r\n\r\n    edge_balance = fluid.layers.data(name='edge_mask', shape=[pad_num, pad_num], append_batch_size=False, dtype='float32')\r\n    edge_balance = fluid.layers.cast(x=edge_balance, dtype='float32')\r\n    tmp = fluid.layers.fill_constant([pad_num, pad_num], value=0.5, dtype='float32')\r\n    edge_mask = fluid.layers.less_than(tmp, edge_balance)\r\n    edge_mask = fluid.layers.cast(x=edge_mask, dtype='float32')\r\n\r\n    edge_out, node_out = encoder_net(conv_features, adjacency, node_mask, edge_mask, pad_num, num_classes)\r\n    print('edge out is ',edge_out)\r\n    print('node_out is ',node_out)\r\n    print(\" ok  encoder  \")\r\n    node_cost = fluid.layers.softmax_with_cross_entropy(node_out, node_label)\r\n    node_cost = fluid.layers.reduce_sum(node_cost * node_mask)/fluid.layers.reduce_sum(node_mask)\r\n\r\n    #edge_cost = fluid.layers.sigmoid_cross_entropy_with_logits(edge_out, edge_label)\r\n    edge_cost = focal_loss_sigmod(edge_out, edge_label)\r\n    edge_cost = fluid.layers.reduce_sum(edge_cost * edge_balance)\r\n    edge_cost *= args.lamb\r\n\r\n    sum_cost = node_cost + edge_cost\r\n\r\n    node_index = fluid.layers.argmax(node_out, axis=1)\r\n    edge_score = fluid.layers.sigmoid(edge_out)\r\n\r\n    _**inference_program = fluid.default_main_program().clone(for_test=True)**_\r\n    if args.learning_rate_decay == \"piecewise_decay\":\r\n        learning_rate = fluid.layers.piecewise_decay([args.stepvalue], [args.lr, args.lr * 0.1])\r\n    else:\r\n        learning_rate = args.lr\r\n\r\n    optimizer = fluid.optimizer.Adam(learning_rate=learning_rate)\r\n    #optimizer = fluid.optimizer.Momentum(learning_rate=learning_rate, momentum=0.9)\r\n    _, params_grads = optimizer.minimize(sum_cost)\r\n    model_average = None\r\n    if args.average_window > 0:\r\n        model_average = fluid.optimizer.ModelAverage(\r\n            args.average_window,\r\n            min_average_window=args.min_average_window,\r\n            max_average_window=args.max_average_window)\r\n    return node_cost, edge_cost, inference_program, model_average, node_index, edge_score,sum_cost\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "Dely-Yu",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-08T05:22:03+00:00",
        "updated_at": "2019-08-19T09:34:36+00:00",
        "closed_at": "2019-08-19T09:34:12+00:00",
        "comments_count": [
            "Dely-Yu",
            "Steffy-zxf",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 116,
        "title": "predict.py代码疑问",
        "body": "在predict.py的第47行有dataset = hub.dataset.ChnSentiCorp()，那在其他的任务中，请问加载的是自己的数据还是这个ChnSentiCorp数据，如果是自己的那加载的是训练数据还是测试数据呢？谢谢大佬解答一下！",
        "state": "closed",
        "user": "YUTianGong",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-13T03:47:48+00:00",
        "updated_at": "2019-08-13T08:36:06+00:00",
        "closed_at": "2019-08-13T08:36:06+00:00",
        "comments_count": [
            "Steffy-zxf",
            "YUTianGong",
            "Steffy-zxf",
            "YUTianGong"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 111,
        "title": "paddle模型库中是否有已经训练好的VGG模型可以直接拿来做预测",
        "body": "如题，请问paddle模型仓库中是否有已经训练好的VGG，可以用来直接做预测或者用于特征提取？如有，请告知下地址，个人没有找到。",
        "state": "closed",
        "user": "Overtown",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-08T06:37:33+00:00",
        "updated_at": "2019-08-19T09:34:26+00:00",
        "closed_at": "2019-08-19T09:34:26+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 112,
        "title": "无法安装module",
        "body": "\r\n![20190808181715](https://user-images.githubusercontent.com/48246743/62695532-1c132700-ba09-11e9-98d8-fb1e77ae3fa4.jpg)\r\n![20190808181657](https://user-images.githubusercontent.com/48246743/62695545-1f0e1780-ba09-11e9-8b9f-f6ca6c4379cb.jpg)\r\n\r\n无法安装module，搜到也装不了。外网能连，paddle-gpu和hub都是最新的。",
        "state": "closed",
        "user": "tychobraheastro",
        "closed_by": "tychobraheastro",
        "created_at": "2019-08-08T10:21:32+00:00",
        "updated_at": "2019-08-08T10:54:25+00:00",
        "closed_at": "2019-08-08T10:54:25+00:00",
        "comments_count": [
            "Steffy-zxf",
            "tychobraheastro"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 113,
        "title": "ERNIE做NER，如何加入bilstm+crf ？",
        "body": "想用bilstm+crf作为ERNIE标注任务的任务层\r\n是不是继承SequenceLabelTask类，重写`_build_net()`和`_add_loss()`方法就可以，是否有可参考的demo呢，感谢🙏",
        "state": "closed",
        "user": "nlp4whp",
        "closed_by": "nlp4whp",
        "created_at": "2019-08-11T07:02:29+00:00",
        "updated_at": "2019-08-12T03:37:10+00:00",
        "closed_at": "2019-08-12T03:29:55+00:00",
        "comments_count": [
            "Steffy-zxf",
            "nlp4whp",
            "Steffy-zxf",
            "nlp4whp",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 117,
        "title": "senta_demo 执行有问题",
        "body": "用的1.5.1的paddlepaddle及1.1.0的paddlehub，显示报错：\r\nAttributeError: module 'paddle' has no attribute 'batch'\r\n查询版本更新里面并没有这方面的改动…想知道哪边出了问题",
        "state": "closed",
        "user": "Magiclemond",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-13T09:08:15+00:00",
        "updated_at": "2019-08-22T10:09:58+00:00",
        "closed_at": "2019-08-22T10:09:57+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Magiclemond",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 118,
        "title": "建议修改 import paddlehub  访问网络的特性",
        "body": "因部署关系 ，希望能在运行时可以不依赖于网络是否通畅。\r\n\r\n希望能解决以下两个场景使用问题：\r\n1.有时候跑单元测试也会因为网络不好，造成测试用例失败。\r\n2.在下载过相关的PaddleHub中的预训练模型和预置数据集，可以不依赖于网络运行。",
        "state": "closed",
        "user": "chaosfish",
        "closed_by": "chaosfish",
        "created_at": "2019-08-13T14:14:16+00:00",
        "updated_at": "2019-08-14T16:06:09+00:00",
        "closed_at": "2019-08-14T16:06:09+00:00",
        "comments_count": [
            "Steffy-zxf",
            "chaosfish"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 120,
        "title": "word2vec模型如何使用",
        "body": "想直接利用hub.Module(name=\"word2vec_skipgram\")拿到word2vec的模型直接使用，但是没找到demo。能否补充一下这块。\r\n\r\n现在的测试代码是这样的，但是运行会报错：\r\n\r\n\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"word2vec_skipgram\")\r\ninputs, outputs, program = module.context(trainable=False)\r\n\r\nword_ids = inputs[\"word_ids\"]\r\nembedding = outputs[\"word_embs\"]\r\nprint(embedding[1123])",
        "state": "closed",
        "user": "stopit",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-16T07:30:39+00:00",
        "updated_at": "2020-09-10T02:36:36+00:00",
        "closed_at": "2019-09-09T01:44:33+00:00",
        "comments_count": [
            "Steffy-zxf",
            "stopit",
            "Steffy-zxf",
            "stopit",
            "Steffy-zxf",
            "stopit",
            "Steffy-zxf",
            "Steffy-zxf",
            "Steffy-zxf",
            "yokings"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 121,
        "title": "安装后使用会出现KeyError: 'version'的报错",
        "body": "![image](https://user-images.githubusercontent.com/36957508/63205709-f3f78800-c0da-11e9-958e-ddd540bfb925.png)\r\n",
        "state": "closed",
        "user": "ScottishFold007",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-17T02:37:29+00:00",
        "updated_at": "2019-09-09T01:43:36+00:00",
        "closed_at": "2019-09-09T01:43:36+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ScottishFold007",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 123,
        "title": "Floating point exception (core dumped)",
        "body": "调用期间出现异常 ：Floating point exception (core dumped)，请问如何处理？",
        "state": "closed",
        "user": "wangzhiwei-ai",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-22T05:15:06+00:00",
        "updated_at": "2019-09-09T01:45:16+00:00",
        "closed_at": "2019-09-09T01:45:16+00:00",
        "comments_count": [
            "Steffy-zxf",
            "FisherOuch",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 126,
        "title": "有动态图的实现版本嘛？",
        "body": "最近使用pytorch训练网络，感觉特别舒服，看到paddle也有动态图的编程方式，可是查了所有资料也就“动态图机制-DyGraph”这一个文档，请问还有其他基于动态图的资料嘛？比如模型fine tuning,词向量等",
        "state": "closed",
        "user": "zhangqianjin",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-22T10:55:14+00:00",
        "updated_at": "2019-09-09T01:45:46+00:00",
        "closed_at": "2019-09-09T01:45:46+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 125,
        "title": "支持用户自己训练的模型吗？",
        "body": "如题",
        "state": "closed",
        "user": "aofch",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-22T10:20:50+00:00",
        "updated_at": "2019-09-09T01:45:08+00:00",
        "closed_at": "2019-09-09T01:45:08+00:00",
        "comments_count": [
            "Steffy-zxf",
            "aofch",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 129,
        "title": "关于文本分类训练结果文件夹",
        "body": "训练文本分类后，训练结果会保留在ckpt_*文件夹下，有三个文件夹best_model， step_14436 ， vdllog，还有一个文件 ckpt.meta，而best_model， step_14436文件夹下又有多个文件，请问当进行预测的时候，ckpt_*这个文件夹下所有文件都是有用的吗？能去除冗余文件吗？像pytorch训练后就调用一个bin文件。",
        "state": "closed",
        "user": "myechona",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-26T09:06:37+00:00",
        "updated_at": "2019-08-27T03:00:54+00:00",
        "closed_at": "2019-08-27T03:00:54+00:00",
        "comments_count": [
            "kinghuin",
            "myechona",
            "kinghuin",
            "myechona",
            "myechona",
            "kinghuin",
            "myechona",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 132,
        "title": "自定义任务中如何定义指标",
        "body": "在这个[教程](https://github.com/PaddlePaddle/PaddleHub/wiki/PaddleHub:-%E8%87%AA%E5%AE%9A%E4%B9%89Task)中, 提到可以自定义 `_add_metrics` ,如果想自己定义一个Macro-F1的指标应该怎么修改呢，因为fluid.layers 只提供了acc和auc两个指标，fluid.metric这个接口接不起来。\r\n谢谢！",
        "state": "closed",
        "user": "foreversolar",
        "closed_by": "foreversolar",
        "created_at": "2019-08-29T03:17:12+00:00",
        "updated_at": "2019-08-29T08:11:48+00:00",
        "closed_at": "2019-08-29T08:11:48+00:00",
        "comments_count": [
            "Steffy-zxf",
            "foreversolar",
            "Steffy-zxf",
            "foreversolar"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 134,
        "title": "predict的BUG，i fix it already（那是不可能的）。",
        "body": "作为管理学院唯一指定代码工具人，你们第一次一度让我感觉自己像个HACKER。\r\n\r\n代码地址在这\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/675e80c364f6b41540f4f508c47ad019f97673f9/paddlehub/reader/nlp_reader.py\r\n\r\nPaddleHub 0.5版本 \r\n  nlp_reader.py  \r\n    LACClassifyReader\r\n\r\n        '''\r\n        if self.label_map:\r\n            if example.label not in self.label_map:\r\n                raise KeyError(\r\n                    \"example.label = {%s} not in label\" % example.label)\r\n            label_id = self.label_map[example.label]\r\n        else:\r\n            label_id = example.label\r\n        '''\r\n\r\nlog打出label_map = {'risk4': 4, 'risk2': 2, 'risk3': 3, 'risk0': 0, 'risk1': 1}\r\n而我输入文本    “阿拉伯7国发布通报修订冷冻龙虾的相关规定”， 类别应属于risk4\r\n但是这时候example.label输出都为0，按照这段代码的逻辑就会raise an error。\r\n\r\n修复方法就是把这段注释掉，直接label_id = example.label\r\n\r\n\r\n",
        "state": "closed",
        "user": "yangtianyu92",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-08-29T09:23:13+00:00",
        "updated_at": "2019-09-09T01:46:08+00:00",
        "closed_at": "2019-09-09T01:46:08+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 136,
        "title": "cls_task.finetune_and_eval() 报错",
        "body": "在百度AI STUDIO运行文本分类任务示例：https://github.com/PaddlePaddle/PaddleHub/tree/release/v1.1.0/demo/text-classification\r\n\r\ncls_task.finetune_and_eval() 报错：\r\n---------------------------------------------------------------------------EnforceNotMet                             Traceback (most recent call last)<ipython-input-14-37278a27b4b6> in <module>\r\n----> 1 cls_task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in finetune_and_eval(self)\r\n    504 \r\n    505     def finetune_and_eval(self):\r\n--> 506         return self.finetune(do_eval=True)\r\n    507 \r\n    508     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in finetune(self, do_eval)\r\n    509         # Start to finetune\r\n    510         with self.phase_guard(phase=\"train\"):\r\n--> 511             self.init_if_necessary()\r\n    512             self._finetune_start_event()\r\n    513             run_states = []\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in init_if_necessary(self)\r\n    166         if not self.is_checkpoint_loaded:\r\n    167             self.is_checkpoint_loaded = True\r\n--> 168             if not self.load_checkpoint():\r\n    169                 self.exe.run(self._base_startup_program)\r\n    170 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in load_checkpoint(self)\r\n    487             self.config.checkpoint_dir,\r\n    488             self.exe,\r\n--> 489             main_program=self.main_program)\r\n    490 \r\n    491         return is_load_successful\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in main_program(self)\r\n    331     def main_program(self):\r\n    332         if not self.env.is_inititalized:\r\n--> 333             self._build_env()\r\n    334         return self.env.main_program\r\n    335 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in _build_env(self)\r\n    244                 with fluid.unique_name.guard(self.env.UNG):\r\n    245                     self.config.strategy.execute(\r\n--> 246                         self.loss, self._base_data_reader, self.config)\r\n    247 \r\n    248         if self.is_train_phase:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/strategy.py in execute(self, loss, data_reader, config)\r\n    132         scheduled_lr = adam_weight_decay_optimization(\r\n    133             loss, warmup_steps, max_train_steps, self.learning_rate,\r\n--> 134             main_program, self.weight_decay, self.lr_scheduler)\r\n    135 \r\n    136         return scheduled_lr\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/optimization.py in adam_weight_decay_optimization(loss, warmup_steps, num_train_steps, learning_rate, main_program, weight_decay, scheduler)\r\n     77         param_list[param.name].stop_gradient = True\r\n     78 \r\n---> 79     _, param_grads = optimizer.minimize(loss)\r\n     80 \r\n     81     if weight_decay > 0:\r\n</opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/decorator.py:decorator-gen-144> in minimize(self, loss, startup_program, parameter_list, no_grad_set, grad_clip)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/wrapped_decorator.py in __impl__(func, *args, **kwargs)\r\n     23     def __impl__(func, *args, **kwargs):\r\n     24         wrapped_func = decorator_func(func)\r\n---> 25         return wrapped_func(*args, **kwargs)\r\n     26 \r\n     27     return __impl__\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/dygraph/base.py in __impl__(*args, **kwargs)\r\n     86     def __impl__(*args, **kwargs):\r\n     87         with _switch_tracer_mode_guard_(is_train=False):\r\n---> 88             return func(*args, **kwargs)\r\n     89 \r\n     90     return __impl__\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/optimizer.py in minimize(self, loss, startup_program, parameter_list, no_grad_set, grad_clip)\r\n    591             startup_program=startup_program,\r\n    592             parameter_list=parameter_list,\r\n--> 593             no_grad_set=no_grad_set)\r\n    594 \r\n    595         if grad_clip is not None and framework.in_dygraph_mode():\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/optimizer.py in backward(self, loss, startup_program, parameter_list, no_grad_set, callbacks)\r\n    491             with program_guard(program, startup_program):\r\n    492                 params_grads = append_backward(loss, parameter_list,\r\n--> 493                                                no_grad_set, callbacks)\r\n    494                 # Note: since we can't use all_reduce_op now,\r\n    495                 #  dgc_op should be the last op of one grad.\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/backward.py in append_backward(loss, parameter_list, no_grad_set, callbacks)\r\n    568         grad_to_var,\r\n    569         callbacks,\r\n--> 570         input_grad_names_set=input_grad_names_set)\r\n    571 \r\n    572     # Because calc_gradient may be called multiple times,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/backward.py in _append_backward_ops_(block, ops, target_block, no_grad_dict, grad_to_var, callbacks, input_grad_names_set)\r\n    308         # Getting op's corresponding grad_op\r\n    309         grad_op_desc, op_grad_to_var = core.get_grad_op_desc(\r\n--> 310             op.desc, cpt.to_text(no_grad_dict[block.idx]), grad_sub_block_list)\r\n    311 \r\n    312         # If input_grad_names_set is not None, extend grad_op_descs only when\r\nEnforceNotMet: Input ShapeTensor cannot be found in Op reshape2 at [/paddle/paddle/fluid/framework/op_desc.cc:306]\r\nPaddlePaddle Call Stacks: \r\n0       0x7f991b9132e0p void paddle::platform::EnforceNotMet::Init<char const*>(char const*, char const*, int) + 352\r\n1       0x7f991b913659p paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int) + 137\r\n2       0x7f991ba8423fp paddle::framework::OpDesc::Input(std::string const&) const + 207\r\n3       0x7f991bf537fcp paddle::framework::details::OpInfoFiller<paddle::operators::Reshape2GradMaker, (paddle::framework::details::OpInfoFillType)2>::operator()(char const*, paddle::framework::OpInfo*) const::{lambda(paddle::framework::OpDesc const&, std::unordered_set<std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::string> > const&, std::unordered_map<std::string, std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::pair<std::string const, std::string> > >*, std::vector<paddle::framework::BlockDesc*, std::allocator<paddle::framework::BlockDesc*> > const&)#1}::operator()(paddle::framework::OpDesc const&, std::unordered_set<std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::string> > const&, std::unordered_map<std::string, std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::pair<std::string const, std::string> > >*, std::vector<paddle::framework::BlockDesc*, std::allocator<paddle::framework::BlockDesc*> > const&) const + 540\r\n4       0x7f991bf53d74p std::_Function_handler<std::vector<std::unique_ptr<paddle::framework::OpDesc, std::default_delete<paddle::framework::OpDesc> >, std::allocator<std::unique_ptr<paddle::framework::OpDesc, std::default_delete<paddle::framework::OpDesc> > > > (paddle::framework::OpDesc const&, std::unordered_set<std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::string> > const&, std::unordered_map<std::string, std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::pair<std::string const, std::string> > >*, std::vector<paddle::framework::BlockDesc*, std::allocator<paddle::framework::BlockDesc*> > const&), paddle::framework::details::OpInfoFiller<paddle::operators::Reshape2GradMaker, (paddle::framework::details::OpInfoFillType)2>::operator()(char const*, paddle::framework::OpInfo*) const::{lambda(paddle::framework::OpDesc const&, std::unordered_set<std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::string> > const&, std::unordered_map<std::string, std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::pair<std::string const, std::string> > >*, std::vector<paddle::framework::BlockDesc*, std::allocator<paddle::framework::BlockDesc*> > const&)#1}>::_M_invoke(std::_Any_data const&, paddle::framework::OpDesc const&, std::unordered_set<std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::string> > const&, std::unordered_map<std::string, std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::pair<std::string const, std::string> > >*, std::vector<paddle::framework::BlockDesc*, std::allocator<paddle::framework::BlockDesc*> > const&) + 20\r\n5       0x7f991b90c24ap\r\n6       0x7f991b945ca6p\r\n7       0x7f999ff31199p PyCFunction_Call + 233\r\n8       0x7f999ffcbdbep PyEval_EvalFrameEx + 31950\r\n9       0x7f999ffce4b6p\r\n10      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n11      0x7f999ffce4b6p\r\n12      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n13      0x7f999ffce4b6p\r\n14      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n15      0x7f999ffce4b6p\r\n16      0x7f999ffce5a8p PyEval_EvalCodeEx + 72\r\n17      0x7f999ff0dc33p\r\n18      0x7f999fedc33ap PyObject_Call + 106\r\n19      0x7f999ffc66eep PyEval_EvalFrameEx + 9726\r\n20      0x7f999ffce4b6p\r\n21      0x7f999ffce5a8p PyEval_EvalCodeEx + 72\r\n22      0x7f999ff0dc33p\r\n23      0x7f999fedc33ap PyObject_Call + 106\r\n24      0x7f999ffc66eep PyEval_EvalFrameEx + 9726\r\n25      0x7f999ffce4b6p\r\n26      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n27      0x7f999ffce4b6p\r\n28      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n29      0x7f999ffce4b6p\r\n30      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n31      0x7f999ffcc1d0p PyEval_EvalFrameEx + 32992\r\n32      0x7f999ffce4b6p\r\n33      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n34      0x7f999ffce4b6p\r\n35      0x7f999ffce5a8p PyEval_EvalCodeEx + 72\r\n36      0x7f999ff0db56p\r\n37      0x7f999fedc33ap PyObject_Call + 106\r\n38      0x7f999fefa172p\r\n39      0x7f999ff3451cp _PyObject_GenericGetAttrWithDict + 124\r\n40      0x7f999ffc8d2ap PyEval_EvalFrameEx + 19514\r\n41      0x7f999ffcc1d0p PyEval_EvalFrameEx + 32992\r\n42      0x7f999ffcc1d0p PyEval_EvalFrameEx + 32992\r\n43      0x7f999ffce4b6p\r\n44      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n45      0x7f999ffcc1d0p PyEval_EvalFrameEx + 32992\r\n46      0x7f999ffce4b6p\r\n47      0x7f999ffce5a8p PyEval_EvalCodeEx + 72\r\n48      0x7f999ffce5ebp PyEval_EvalCode + 59\r\n49      0x7f999ffc1c5dp\r\n50      0x7f999ff31179p PyCFunction_Call + 201\r\n51      0x7f999ffcbdbep PyEval_EvalFrameEx + 31950\r\n52      0x7f999ff05410p _PyGen_Send + 128\r\n53      0x7f999ffca953p PyEval_EvalFrameEx + 26723\r\n54      0x7f999ff05410p _PyGen_Send + 128\r\n55      0x7f999ffca953p PyEval_EvalFrameEx + 26723\r\n56      0x7f999ff05410p _PyGen_Send + 128\r\n57      0x7f999ffcbd60p PyEval_EvalFrameEx + 31856\r\n58      0x7f999ffcc1d0p PyEval_EvalFrameEx + 32992\r\n59      0x7f999ffcc1d0p PyEval_EvalFrameEx + 32992\r\n60      0x7f999ffce4b6p\r\n61      0x7f999ffce5a8p PyEval_EvalCodeEx + 72\r\n62      0x7f999ff0dc33p\r\n63      0x7f999fedc33ap PyObject_Call + 106\r\n64      0x7f999ffc66eep PyEval_EvalFrameEx + 9726\r\n65      0x7f999ffce4b6p\r\n66      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n67      0x7f999ff046bap\r\n68      0x7f999ffbfaf6p\r\n69      0x7f999ff31179p PyCFunction_Call + 201\r\n70      0x7f999ffcbdbep PyEval_EvalFrameEx + 31950\r\n71      0x7f999ffce4b6p\r\n72      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n73      0x7f999ff046bap\r\n74      0x7f999ffbfaf6p\r\n75      0x7f999ff31179p PyCFunction_Call + 201\r\n76      0x7f999ffcbdbep PyEval_EvalFrameEx + 31950\r\n77      0x7f999ffce4b6p\r\n78      0x7f999ffcb5b5p PyEval_EvalFrameEx + 29893\r\n79      0x7f999ff046bap\r\n80      0x7f999ffbfaf6p\r\n81      0x7f999ff31179p PyCFunction_Call + 201\r\n82      0x7f999ffcbdbep PyEval_EvalFrameEx + 31950\r\n83      0x7f999ffce4b6p\r\n84      0x7f999ffce5a8p PyEval_EvalCodeEx + 72\r\n85      0x7f999ff0db56p\r\n86      0x7f999fedc33ap PyObject_Call + 106\r\n87      0x7f999ffc66eep PyEval_EvalFrameEx + 9726\r\n88      0x7f999ff05410p _PyGen_Send + 128\r\n89      0x7f999ffcbd60p PyEval_EvalFrameEx + 31856\r\n90      0x7f999ffcc1d0p PyEval_EvalFrameEx + 32992\r\n91      0x7f999ffce4b6p\r\n92      0x7f999ffce5a8p PyEval_EvalCodeEx + 72\r\n93      0x7f999ff0dc33p\r\n94      0x7f999fedc33ap PyObject_Call + 106\r\n95      0x7f999ffc66eep PyEval_EvalFrameEx + 9726\r\n96      0x7f999ffce4b6p\r\n97      0x7f999ffce5a8p PyEval_EvalCodeEx + 72\r\n98      0x7f999ff0db56p\r\n99      0x7f999fedc33ap PyObject_Call + 106\r\n[ ]\r\n  \r\n",
        "state": "closed",
        "user": "cchan19",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-09-02T03:09:42+00:00",
        "updated_at": "2019-09-16T04:01:42+00:00",
        "closed_at": "2019-09-16T04:01:42+00:00",
        "comments_count": [
            "Steffy-zxf",
            "cchan19",
            "Steffy-zxf",
            "foreversolar",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 144,
        "title": "senta = hub.Module(name=\"senta_bilstm\") 报错：info['version'])   KeyError: 'version'",
        "body": "在我的win10本地电脑跑同一个脚本，没有问题，在我的阿里云服务器上，centos跑就报错\r\n错误如下:\r\n\r\n`[root@wyh webpy]# python main.py 789`\r\n`[2019-09-10 12:22:38,531] [    INFO] - Installing senta_bilstm module`\r\n`Traceback (most recent call last):`\r\n`  File \"main.py\", line 8, in <module>`\r\n`    from myhub import Myhub`\r\n`  File \"/root/webpy/myhub.py\", line 21, in <module>`\r\n`    class Myhub(object):`\r\n`  File \"/root/webpy/myhub.py\", line 22, in Myhub`\r\n`    senta = hub.Module(name=\"senta_bilstm\")`\r\n`  File \"/root/anaconda3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 122, in __init__`\r\n`    self._init_with_name(name=name, version=version)`\r\n`  File \"/root/anaconda3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 147, in _init_with_name`\r\n`    module_name=name, module_version=version)`\r\n`  File \"/root/anaconda3/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 76, in install_module`\r\n`    self.all_modules(update=True)`\r\n`  File \"/root/anaconda3/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 68, in all_modules`\r\n`    info['version'])`\r\n`KeyError: 'version'`",
        "state": "closed",
        "user": "xinaiwunai",
        "closed_by": "xinaiwunai",
        "created_at": "2019-09-10T04:31:49+00:00",
        "updated_at": "2019-09-10T05:48:15+00:00",
        "closed_at": "2019-09-10T05:48:15+00:00",
        "comments_count": [
            "xinaiwunai"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 157,
        "title": "python3.5安装paddlehub提示成功，import时失败",
        "body": "python3.5安装paddlehub提示成功，默认安装1.1.1版本，import时失败\r\n\r\n[root@73b49b2ec016 sentiment_classification]# python\r\nPython 3.5.1 (default, Nov 24 2018, 08:56:52)\r\n[GCC 4.8.2 20140120 (Red Hat 4.8.2-15)] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/opt/_internal/cpython-3.5.1/lib/python3.5/site-packages/paddlehub/__init__.py\", line 48, in <module>\r\n    from .finetune.task import ClassifierTask\r\n  File \"/opt/_internal/cpython-3.5.1/lib/python3.5/site-packages/paddlehub/finetune/task.py\", line 29, in <module>\r\n    from visualdl import LogWriter\r\n  File \"/opt/_internal/cpython-3.5.1/lib/python3.5/site-packages/visualdl/__init__.py\", line 20, in <module>\r\n    from .python.storage import *  # noqa: F401,F403\r\n  File \"/opt/_internal/cpython-3.5.1/lib/python3.5/site-packages/visualdl/python/storage.py\", line 18, in <module>\r\n    from visualdl import core\r\nImportError: /opt/_internal/cpython-3.5.1/lib/python3.5/site-packages/visualdl/core.so: undefined symbol: _PyThreadState_UncheckedGet",
        "state": "closed",
        "user": "zhengya01",
        "closed_by": "kinghuin",
        "created_at": "2019-09-18T01:36:36+00:00",
        "updated_at": "2019-09-29T03:03:00+00:00",
        "closed_at": "2019-09-29T03:03:00+00:00",
        "comments_count": [
            "Steffy-zxf",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 147,
        "title": "希望有一个问题语义相似度得DEMO",
        "body": "我看了几乎所有得Paddle Hub在GitHub上提供得所有NLP demo。都没有找到我想要得。因为我正计划做一个检索式问答系统(和官方提供得“检索式问答”并不是同一种，是的，我原本满心欢喜，结果却发现事实和我想象的不一样)。\r\n我指得的检索式问答，是指可以将用户的提问与已知的问答库中的”问题“进行相似度排序，找到最相似的问题，并以该问题的答案进行回答。\r\n我并没有看到有这样的demo。\r\n非常希望官方能提供一个该功能的Demo。",
        "state": "closed",
        "user": "xinaiwunai",
        "closed_by": "xinaiwunai",
        "created_at": "2019-09-10T10:14:39+00:00",
        "updated_at": "2019-09-13T02:12:34+00:00",
        "closed_at": "2019-09-13T02:12:34+00:00",
        "comments_count": [
            "Steffy-zxf",
            "xinaiwunai",
            "Steffy-zxf",
            "xinaiwunai",
            "xinaiwunai",
            "Steffy-zxf",
            "xinaiwunai"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 155,
        "title": "cls_task.predict 可以获得各标签的概率吗？",
        "body": "cls_task.predict 可以获得各标签的概率吗？",
        "state": "closed",
        "user": "foreversolar",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-09-14T09:34:00+00:00",
        "updated_at": "2019-09-26T12:37:34+00:00",
        "closed_at": "2019-09-26T12:37:33+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 158,
        "title": "cannot import name 'calculate_f1_np' from 'paddlehub.finetune.evaluate'",
        "body": "\r\n# python\r\nPython 3.7.3 (default, Mar 27 2019, 22:11:17) \r\n[GCC 7.3.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub as hub\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/optanaconda3/envs/paddlepaddle/lib/python3.7/site-packages/paddlehub/__init__.py\", line 48, in <module>\r\n    from .finetune.task import ClassifierTask\r\n  File \"/optanaconda3/envs/paddlepaddle/lib/python3.7/site-packages/paddlehub/finetune/task/__init__.py\", line 17, in <module>\r\n    from .classifier_task import ClassifierTask, ImageClassifierTask, TextClassifierTask, MultiLabelClassifierTask\r\n  File \"/optanaconda3/envs/paddlepaddle/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py\", line 25, in <module>\r\n    from paddlehub.finetune.evaluate import calculate_f1_np, matthews_corrcoef\r\nImportError: cannot import name 'calculate_f1_np' from 'paddlehub.finetune.evaluate' (/optanaconda3/envs/paddlepaddle/lib/python3.7/site-packages/paddlehub/finetune/evaluate.py)",
        "state": "closed",
        "user": "yisampi",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-09-18T07:49:34+00:00",
        "updated_at": "2019-09-26T12:44:03+00:00",
        "closed_at": "2019-09-26T12:44:02+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 161,
        "title": "执行finetune_and_eval()报这个错是何故",
        "body": "---------------------------------------------------------------------------EnforceNotMet                             Traceback (most recent call last)<ipython-input-69-37278a27b4b6> in <module>\r\n----> 1 cls_task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in finetune_and_eval(self)\r\n    504 \r\n    505     def finetune_and_eval(self):\r\n--> 506         return self.finetune(do_eval=True)\r\n    507 \r\n    508     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in finetune(self, do_eval)\r\n    514             if self.current_epoch <= self.config.num_epoch:\r\n    515                 while self.current_epoch <= self.config.num_epoch:\r\n--> 516                     run_states = self._run(do_eval=do_eval)\r\n    517                     self.env.current_epoch += 1\r\n    518 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in _run(self, do_eval)\r\n    553     def _run(self, do_eval=False):\r\n    554         with fluid.program_guard(self.main_program, self.startup_program):\r\n--> 555             if self.config.use_pyreader:\r\n    556                 return self._run_with_py_reader(do_eval=do_eval)\r\n    557             return self._run_with_data_feeder(do_eval=do_eval)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in _run_with_data_feeder(self, do_eval)\r\n    574 \r\n    575             fetch_result = self.exe.run(\r\n--> 576                 self.main_program_to_be_run,\r\n    577                 feed=data_feeder.feed(batch),\r\n    578                 fetch_list=self.fetch_list)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    649                 scope=scope,\r\n    650                 return_numpy=return_numpy,\r\n--> 651                 use_program_cache=use_program_cache)\r\n    652         else:\r\n    653             if fetch_list and program._is_data_parallel and program._program and (\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/executor.py in _run(self, program, exe, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    747         self._feed_data(program, feed, feed_var_name, scope)\r\n    748         if not use_program_cache:\r\n--> 749             exe.run(program.desc, scope, 0, True, True, fetch_var_name)\r\n    750         else:\r\n    751             exe.run_cached_prepared_ctx(ctx, scope, False, False, False)\r\nEnforceNotMet: Invoke operator increment error.\r\nPython Callstacks: \r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/framework.py\", line 1842, in _prepend_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/layers/nn.py\", line 6699, in autoincreased_step_counter\r\n    stop_gradient=True)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/layers/learning_rate_scheduler.py\", line 46, in _decay_step_counter\r\n    counter_name='@LR_DECAY_COUNTER@', begin=begin, step=1)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/optimization.py\", line 97, in linear_warmup_decay\r\n    global_step = lr_scheduler._decay_step_counter()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/optimization.py\", line 53, in adam_weight_decay_optimization\r\n    warmup_steps, main_program)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/strategy.py\", line 134, in execute\r\n    main_program, self.weight_decay, self.lr_scheduler)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py\", line 246, in _build_env\r\n    self.loss, self._base_data_reader, self.config)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py\", line 333, in main_program\r\n    self._build_env()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py\", line 489, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py\", line 168, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py\", line 511, in finetune\r\n    self.init_if_necessary()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py\", line 506, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"<ipython-input-68-37278a27b4b6>\", line 1, in <module>\r\n    cls_task.finetune_and_eval()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 3265, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 3189, in run_ast_nodes\r\n    if (yield from self.run_code(code, result)):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 3018, in run_cell_async\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/IPython/core/async_helpers.py\", line 67, in _pseudo_sync_runner\r\n    coro.send(None)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2843, in _run_cell\r\n    return runner(coro)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/IPython/core/interactiveshell.py\", line 2817, in run_cell\r\n    raw_cell, store_history, silent, shell_futures)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/ipykernel/zmqshell.py\", line 536, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/ipykernel/ipkernel.py\", line 294, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 534, in execute_request\r\n    user_expressions, allow_stdin,\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 267, in dispatch_shell\r\n    yield gen.maybe_future(handler(stream, idents, msg))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/ipykernel/kernelbase.py\", line 357, in process_one\r\n    yield gen.maybe_future(dispatch(*args))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/tornado/gen.py\", line 1147, in run\r\n    yielded = self.gen.send(value)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/tornado/gen.py\", line 1233, in inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/tornado/stack_context.py\", line 300, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/tornado/ioloop.py\", line 758, in _run_callback\r\n    ret = callback()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/asyncio/events.py\", line 127, in _run\r\n    self._callback(*self._args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/asyncio/base_events.py\", line 1425, in _run_once\r\n    handle._run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/asyncio/base_events.py\", line 421, in run_forever\r\n    self._run_once()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/tornado/platform/asyncio.py\", line 132, in start\r\n    self.asyncio_loop.run_forever()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/ipykernel/kernelapp.py\", line 505, in start\r\n    self.io_loop.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/traitlets/config/application.py\", line 658, in launch_instance\r\n    app.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/ipykernel_launcher.py\", line 16, in <module>\r\n    app.launch_new_instance()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.5/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\nC++ Callstacks: \r\nInput X(0) is not initialized at [/paddle/paddle/fluid/framework/operator.cc:1146]\r\nPaddlePaddle Call Stacks: \r\n0       0x7fa5df068750p void paddle::platform::EnforceNotMet::Init<char const*>(char const*, char const*, int) + 352\r\n1       0x7fa5df068ac9p paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int) + 137\r\n2       0x7fa5e0fcb2bfp paddle::framework::OperatorWithKernel::IndicateDataType(paddle::framework::ExecutionContext const&) const + 1343\r\n3       0x7fa5e0fcb4afp paddle::framework::OperatorWithKernel::GetExpectedKernelType(paddle::framework::ExecutionContext const&) const + 47\r\n4       0x7fa5df669fa8p paddle::operators::IncrementOp::GetExpectedKernelType(paddle::framework::ExecutionContext const&) const + 40\r\n5       0x7fa5e0fccd6bp paddle::framework::OperatorWithKernel::ChooseKernel(paddle::framework::RuntimeContext const&, paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) const + 235\r\n6       0x7fa5e0fceed8p paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, paddle::framework::RuntimeContext*) const + 728\r\n7       0x7fa5e0fcf151p paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) const + 529\r\n8       0x7fa5e0fcc74cp paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) + 332\r\n9       0x7fa5df1f354ep paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool) + 382\r\n10      0x7fa5df1f65efp paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::vector<std::string, std::allocator<std::string> > const&, bool) + 143\r\n11      0x7fa5df059dddp\r\n12      0x7fa5df09b066p\r\n13      0x7fa6634b6199p PyCFunction_Call + 233\r\n14      0x7fa6635513f9p PyEval_EvalFrameEx + 33545\r\n15      0x7fa6635534b6p\r\n16      0x7fa6635505b5p PyEval_EvalFrameEx + 29893\r\n17      0x7fa6635534b6p\r\n18      0x7fa6635505b5p PyEval_EvalFrameEx + 29893\r\n19      0x7fa6635534b6p\r\n20      0x7fa6635505b5p PyEval_EvalFrameEx + 29893\r\n21      0x7fa6635534b6p\r\n22      0x7fa6635505b5p PyEval_EvalFrameEx + 29893\r\n23      0x7fa6635534b6p\r\n24      0x7fa6635505b5p PyEval_EvalFrameEx + 29893\r\n25      0x7fa6635511d0p PyEval_EvalFrameEx + 32992\r\n26      0x7fa6635534b6p\r\n27      0x7fa6635535a8p PyEval_EvalCodeEx + 72\r\n28      0x7fa6635535ebp PyEval_EvalCode + 59\r\n29      0x7fa663546c5dp\r\n30      0x7fa6634b6179p PyCFunction_Call + 201\r\n31      0x7fa663550dbep PyEval_EvalFrameEx + 31950\r\n32      0x7fa66348a410p _PyGen_Send + 128\r\n33      0x7fa66354f953p PyEval_EvalFrameEx + 26723\r\n34      0x7fa66348a410p _PyGen_Send + 128\r\n35      0x7fa66354f953p PyEval_EvalFrameEx + 26723\r\n36      0x7fa66348a410p _PyGen_Send + 128\r\n37      0x7fa663550d60p PyEval_EvalFrameEx + 31856\r\n38      0x7fa6635511d0p PyEval_EvalFrameEx + 32992\r\n39      0x7fa6635511d0p PyEval_EvalFrameEx + 32992\r\n40      0x7fa6635534b6p\r\n41      0x7fa6635535a8p PyEval_EvalCodeEx + 72\r\n42      0x7fa663492c33p\r\n43      0x7fa66346133ap PyObject_Call + 106\r\n44      0x7fa66354b6eep PyEval_EvalFrameEx + 9726\r\n45      0x7fa6635534b6p\r\n46      0x7fa6635505b5p PyEval_EvalFrameEx + 29893\r\n47      0x7fa6634896bap\r\n48      0x7fa663544af6p\r\n49      0x7fa6634b6179p PyCFunction_Call + 201\r\n50      0x7fa663550dbep PyEval_EvalFrameEx + 31950\r\n51      0x7fa6635534b6p\r\n52      0x7fa6635505b5p PyEval_EvalFrameEx + 29893\r\n53      0x7fa6634896bap\r\n54      0x7fa663544af6p\r\n55      0x7fa6634b6179p PyCFunction_Call + 201\r\n56      0x7fa663550dbep PyEval_EvalFrameEx + 31950\r\n57      0x7fa6635534b6p\r\n58      0x7fa6635505b5p PyEval_EvalFrameEx + 29893\r\n59      0x7fa6634896bap\r\n60      0x7fa663544af6p\r\n61      0x7fa6634b6179p PyCFunction_Call + 201\r\n62      0x7fa663550dbep PyEval_EvalFrameEx + 31950\r\n63      0x7fa6635534b6p\r\n64      0x7fa6635535a8p PyEval_EvalCodeEx + 72\r\n65      0x7fa663492b56p\r\n66      0x7fa66346133ap PyObject_Call + 106\r\n67      0x7fa66354b6eep PyEval_EvalFrameEx + 9726\r\n68      0x7fa66348a410p _PyGen_Send + 128\r\n69      0x7fa663550d60p PyEval_EvalFrameEx + 31856\r\n70      0x7fa6635511d0p PyEval_EvalFrameEx + 32992\r\n71      0x7fa6635534b6p\r\n72      0x7fa6635535a8p PyEval_EvalCodeEx + 72\r\n73      0x7fa663492c33p\r\n74      0x7fa66346133ap PyObject_Call + 106\r\n75      0x7fa66354b6eep PyEval_EvalFrameEx + 9726\r\n76      0x7fa6635534b6p\r\n77      0x7fa6635535a8p PyEval_EvalCodeEx + 72\r\n78      0x7fa663492b56p\r\n79      0x7fa66346133ap PyObject_Call + 106\r\n80      0x7fa6635c6ccap\r\n81      0x7fa66346133ap PyObject_Call + 106\r\n82      0x7fa66354d4c5p PyEval_EvalFrameEx + 17365\r\n83      0x7fa6635534b6p\r\n84      0x7fa6635535a8p PyEval_EvalCodeEx + 72\r\n85      0x7fa663492b56p\r\n86      0x7fa66346133ap PyObject_Call + 106\r\n87      0x7fa66354b6eep PyEval_EvalFrameEx + 9726\r\n88      0x7fa6635511d0p PyEval_EvalFrameEx + 32992\r\n89      0x7fa6635511d0p PyEval_EvalFrameEx + 32992\r\n90      0x7fa6635511d0p PyEval_EvalFrameEx + 32992\r\n91      0x7fa6635511d0p PyEval_EvalFrameEx + 32992\r\n92      0x7fa6635511d0p PyEval_EvalFrameEx + 32992\r\n93      0x7fa6635534b6p\r\n94      0x7fa6635505b5p PyEval_EvalFrameEx + 29893\r\n95      0x7fa6635534b6p\r\n96      0x7fa6635535a8p PyEval_EvalCodeEx + 72\r\n97      0x7fa6635535ebp PyEval_EvalCode + 59\r\n98      0x7fa663546c5dp\r\n99      0x7fa6634b6179p PyCFunction_Call + 201",
        "state": "closed",
        "user": "alwaysbetter1314",
        "closed_by": "kinghuin",
        "created_at": "2019-09-18T14:46:35+00:00",
        "updated_at": "2019-10-08T02:26:32+00:00",
        "closed_at": "2019-10-08T02:26:31+00:00",
        "comments_count": [
            "Steffy-zxf",
            "alwaysbetter1314",
            "Steffy-zxf",
            "alwaysbetter1314",
            "orangetcy",
            "alwaysbetter1314",
            "orangetcy",
            "Steffy-zxf",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 160,
        "title": "加载模型报错，好像无法下载",
        "body": "[2019-09-18 21:19:47,006] [    INFO] - Installing bert module\r\n[2019-09-18 21:19:47,093] [   ERROR] - Can't find module bert\r\n---------------------------------------------------------------------------NameError                                 Traceback (most recent call last)<ipython-input-12-7415ad322c2e> in <module>\r\n      1 # 加载 erine\r\n----> 2 module = hub.Module(name=\"bert\")\r\n      3 \r\n      4 inputs, outputs, program = module.context(trainable=\"True\", max_seq_len=128)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/module/module.py in __init__(self, name, module_dir, signatures, module_info, assets, processor, extra_info, version)\r\n    120         # TODO(wuzewu): print more module loading info log\r\n    121         if name:\r\n--> 122             self._init_with_name(name=name, version=version)\r\n    123         elif module_dir:\r\n    124             self._init_with_module_file(module_dir=module_dir[0])\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/module/module.py in _init_with_name(self, name, version)\r\n    148         if not result:\r\n    149             logger.error(tips)\r\n--> 150             exit(1)\r\n    151         logger.info(tips)\r\n    152         self._init_with_module_file(module_dir[0])\r\nNameError: name 'exit' is not defined",
        "state": "closed",
        "user": "alwaysbetter1314",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-09-18T13:21:37+00:00",
        "updated_at": "2019-09-26T12:45:03+00:00",
        "closed_at": "2019-09-26T12:45:03+00:00",
        "comments_count": [
            "Steffy-zxf",
            "alwaysbetter1314",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 164,
        "title": "文本分类时最后只有平均准确率，如何得到每个类别单独的准确率和召回率？",
        "body": "",
        "state": "closed",
        "user": "topxxuki",
        "closed_by": "kinghuin",
        "created_at": "2019-09-20T02:24:14+00:00",
        "updated_at": "2019-09-29T03:02:15+00:00",
        "closed_at": "2019-09-29T03:02:14+00:00",
        "comments_count": [
            "Steffy-zxf",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 166,
        "title": "验证出错",
        "body": "在自己训练集上训练；按照给定数据集格式制作的，训练的时候可以读取到，验证时读不到图像，提示一下错误，望解答，谢谢\r\n\r\nTraceback (most recent call last):\r\n  File \"img_classifier.py\", line 97, in <module>\r\n    finetune(args)\r\n  File \"img_classifier.py\", line 87, in finetune\r\n    task.finetune_and_eval()\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddlehub/finetune/task.py\", line 506, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddlehub/finetune/task.py\", line 516, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddlehub/finetune/task.py\", line 557, in _run\r\n    return self._run_with_data_feeder(do_eval=do_eval)\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddlehub/finetune/task.py\", line 596, in _run_with_data_feeder\r\n    self._eval_interval_event()\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddlehub/finetune/task.py\", line 454, in _eval_interval_event\r\n    self.eval(phase=\"dev\")\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddlehub/finetune/task.py\", line 535, in eval\r\n    run_states = self._run()\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddlehub/finetune/task.py\", line 557, in _run\r\n    return self._run_with_data_feeder(do_eval=do_eval)\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddlehub/finetune/task.py\", line 567, in _run_with_data_feeder\r\n    for run_step, batch in enumerate(self.reader(), start=1):\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddle/batch.py\", line 35, in batch_reader\r\n    for instance in r:\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddlehub/reader/cv_reader.py\", line 121, in _data_reader\r\n    image = preprocess(image_path)\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/paddlehub/reader/cv_reader.py\", line 91, in preprocess\r\n    image = Image.open(image_path)\r\n  File \"/home/zlw/.local/lib/python2.7/site-packages/PIL/Image.py\", line 2770, in open\r\n    fp = builtins.open(filename, \"rb\")\r\nIOError: [Errno 21] Is a directory: '/home/zlw/Github/PaddleHub/demo/image-classification/Data/OCT_Filtered/'\r\n",
        "state": "closed",
        "user": "qwertyuiop194",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-09-20T07:18:26+00:00",
        "updated_at": "2019-09-26T12:47:19+00:00",
        "closed_at": "2019-09-26T12:47:19+00:00",
        "comments_count": [
            "Steffy-zxf",
            "qwertyuiop194",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 176,
        "title": "hub  search 运行报错",
        "body": "centos 操作系统中 执行hub search 返回\r\n[root@VM_32_8_centos bin]# hub search\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3.7/bin/hub\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/python3.7/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 69, in main\r\n    command.execute(argv[1:])\r\n  File \"/usr/local/python3.7/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 56, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/usr/local/python3.7/lib/python3.7/site-packages/paddlehub/commands/search.py\", line 55, in execute\r\n    for resource_name, resource_type, resource_version, resource_summary in resource_list:\r\nTypeError: 'NoneType' object is not iterable\r\n",
        "state": "closed",
        "user": "qianshuifanzhou",
        "closed_by": "qianshuifanzhou",
        "created_at": "2019-09-25T11:49:27+00:00",
        "updated_at": "2019-09-25T12:05:49+00:00",
        "closed_at": "2019-09-25T12:05:49+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 168,
        "title": "paddle.fluid.core_avx.EnforceNotMet: Invoke operator load error.",
        "body": "操作系统是CentOS 7，python版本是3.6。\r\n安装了paddlepaddle和paddlehub以后，我在命令行运行\r\n\r\n`hub run senta_bilstm --input_text \"今天天气真好。\"`\r\n\r\n结果报错\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/root/anaconda3/envs/python3.6/bin/hub\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/commands/hub.py\", line 69, in main\r\n    command.execute(argv[1:])\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/commands/hub.py\", line 56, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/commands/run.py\", line 211, in execute\r\n    self.module = self.find_module(module_name)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/commands/run.py\", line 71, in find_module\r\n    return hub.Module(module_dir=module_dir)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/module/module.py\", line 124, in __init__\r\n    self._init_with_module_file(module_dir=module_dir[0])\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/module/module.py\", line 212, in _init_with_module_file\r\n    self.helper.model_path(), executor=exe)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/io.py\", line 1207, in load_inference_model\r\n    load_persistables(executor, load_dirname, program, params_filename)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/io.py\", line 755, in load_persistables\r\n    filename=filename)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/io.py\", line 619, in load_vars\r\n    filename=filename)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/io.py\", line 656, in load_vars\r\n    executor.run(load_prog)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 657, in run\r\n    use_program_cache=use_program_cache)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 755, in _run\r\n    exe.run(program.desc, scope, 0, True, True, fetch_var_name)\r\npaddle.fluid.core_avx.EnforceNotMet: Invoke operator load error.\r\nPython Call stacks: \r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/framework.py\", line 1774, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/io.py\", line 641, in load_vars\r\n    'file_path': os.path.join(load_dirname, new_var.name)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/io.py\", line 619, in load_vars\r\n    filename=filename)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/io.py\", line 755, in load_persistables\r\n    filename=filename)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddle/fluid/io.py\", line 1207, in load_inference_model\r\n    load_persistables(executor, load_dirname, program, params_filename)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/module/module.py\", line 212, in _init_with_module_file\r\n    self.helper.model_path(), executor=exe)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/module/module.py\", line 124, in __init__\r\n    self._init_with_module_file(module_dir=module_dir[0])\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/commands/run.py\", line 71, in find_module\r\n    return hub.Module(module_dir=module_dir)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/commands/run.py\", line 211, in execute\r\n    self.module = self.find_module(module_name)\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/commands/hub.py\", line 56, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/root/anaconda3/envs/python3.6/lib/python3.6/site-packages/paddlehub/commands/hub.py\", line 69, in main\r\n    command.execute(argv[1:])\r\n  File \"/root/anaconda3/envs/python3.6/bin/hub\", line 10, in <module>\r\n    sys.exit(main())\r\nC++ Call stacks: \r\nEnforce failed. Expected posix_memalign(&p, alignment, size) == 0, but received posix_memalign(&p, alignment, size):12 != 0:0.\r\nAlloc 643383296 error! at [/paddle/paddle/fluid/memory/detail/system_allocator.cc:57]\r\nPaddlePaddle Call Stacks: \r\n0       0x7f9d5671f798p void paddle::platform::EnforceNotMet::Init<std::string>(std::string, char const*, int) + 360\r\n1       0x7f9d57aed317p paddle::memory::detail::AlignedMalloc(unsigned long) + 295\r\n2       0x7f9d57aed5d7p paddle::memory::detail::CPUAllocator::Alloc(unsigned long*, unsigned long) + 39\r\n3       0x7f9d57aea0c9p paddle::memory::detail::BuddyAllocator::SystemAlloc(unsigned long) + 57\r\n4       0x7f9d57aeb07cp paddle::memory::detail::BuddyAllocator::Alloc(unsigned long) + 332\r\n5       0x7f9d57add415p void* paddle::memory::legacy::Alloc<paddle::platform::CPUPlace>(paddle::platform::CPUPlace const&, unsigned long) + 181\r\n6       0x7f9d57ade145p paddle::memory::allocation::LegacyAllocator::AllocateImpl(unsigned long) + 405\r\n7       0x7f9d57ad9973p paddle::memory::allocation::AllocatorFacade::Alloc(boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, unsigned long) + 227\r\n8       0x7f9d57ad9b6ep paddle::memory::allocation::AllocatorFacade::AllocShared(boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, unsigned long) + 30\r\n9       0x7f9d57abdabcp paddle::memory::AllocShared(boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, unsigned long) + 44\r\n10      0x7f9d57ab69a4p paddle::framework::Tensor::mutable_data(boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_>, paddle::framework::proto::VarType_Type, unsigned long) + 148\r\n11      0x7f9d57abce78p void paddle::framework::VisitDataType<paddle::framework::DeserializedDataFunctor>(paddle::framework::proto::VarType_Type, paddle::framework::DeserializedDataFunctor) + 408\r\n12      0x7f9d57abbe9bp paddle::framework::TensorFromStream(std::istream&, paddle::framework::Tensor*, paddle::platform::DeviceContext const&) + 523\r\n13      0x7f9d577421aep paddle::framework::DeserializeFromStream(std::istream&, paddle::framework::LoDTensor*, paddle::platform::DeviceContext const&) + 382\r\n14      0x7f9d56e3bf34p paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, float>::LoadLodTensor(std::istream&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, paddle::framework::Variable*, paddle::framework::ExecutionContext const&) const + 100\r\n15      0x7f9d56e3c380p paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, float>::Compute(paddle::framework::ExecutionContext const&) const + 432\r\n16      0x7f9d56e3c743p std::_Function_handler<void (paddle::framework::ExecutionContext const&), paddle::framework::OpKernelRegistrarFunctor<paddle::platform::CPUPlace, false, 0ul, paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, float>, paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, double>, paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, int>, paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, signed char>, paddle::operators::LoadOpKernel<paddle::platform::CPUDeviceContext, long> >::operator()(char const*, char const*, int) const::{lambda(paddle::framework::ExecutionContext const&)#1}>::_M_invoke(std::_Any_data const&, paddle::framework::ExecutionContext const&) + 35\r\n17      0x7f9d57a7cae7p paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&, paddle::framework::RuntimeContext*) const + 375\r\n18      0x7f9d57a7d251p paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) const + 529\r\n19      0x7f9d57a781f4p paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) + 260\r\n20      0x7f9d5689f2aep paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool) + 590\r\n21      0x7f9d568a21bfp paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::vector<std::string, std::allocator<std::string> > const&, bool) + 143\r\n22      0x7f9d56711a4dp\r\n23      0x7f9d5674ec36p\r\n24      0x56401470d744p _PyCFunction_FastCallDict + 340\r\n25      0x56401479457ep\r\n26      0x5640147b938ap _PyEval_EvalFrameDefault + 778\r\n27      0x56401478d8e4p\r\n28      0x56401478e771p\r\n29      0x564014794505p\r\n30      0x5640147ba147p _PyEval_EvalFrameDefault + 4295\r\n31      0x56401478d8e4p\r\n32      0x56401478e771p\r\n33      0x564014794505p\r\n34      0x5640147b938ap _PyEval_EvalFrameDefault + 778\r\n35      0x56401478d8e4p\r\n36      0x56401478e771p\r\n37      0x564014794505p\r\n38      0x5640147ba147p _PyEval_EvalFrameDefault + 4295\r\n39      0x56401478d8e4p\r\n40      0x56401478e771p\r\n41      0x564014794505p\r\n42      0x5640147ba147p _PyEval_EvalFrameDefault + 4295\r\n43      0x56401478d8e4p\r\n44      0x56401478e771p\r\n45      0x564014794505p\r\n46      0x5640147b938ap _PyEval_EvalFrameDefault + 778\r\n47      0x56401478dbfep\r\n48      0x56401478e771p\r\n49      0x564014794505p\r\n50      0x5640147ba147p _PyEval_EvalFrameDefault + 4295\r\n51      0x56401478d8e4p\r\n52      0x56401478e771p\r\n53      0x564014794505p\r\n54      0x5640147ba147p _PyEval_EvalFrameDefault + 4295\r\n55      0x56401478d8e4p\r\n56      0x56401478ee6ap _PyFunction_FastCallDict + 986\r\n57      0x56401470db0fp _PyObject_FastCallDict + 623\r\n58      0x5640147126a3p _PyObject_Call_Prepend + 99\r\n59      0x56401470d54ep PyObject_Call + 62\r\n60      0x5640147670fbp\r\n61      0x564014794767p\r\n62      0x56401470d92bp _PyObject_FastCallDict + 139\r\n63      0x56401478ea5ap _PyObject_FastCallKeywords + 170\r\n64      0x56401479457ep\r\n65      0x5640147ba147p _PyEval_EvalFrameDefault + 4295\r\n66      0x56401478e53bp\r\n67      0x564014794505p\r\n68      0x5640147b938ap _PyEval_EvalFrameDefault + 778\r\n69      0x56401478e53bp\r\n70      0x564014794505p\r\n71      0x5640147b938ap _PyEval_EvalFrameDefault + 778\r\n72      0x56401478e53bp\r\n73      0x564014794505p\r\n74      0x5640147b938ap _PyEval_EvalFrameDefault + 778\r\n75      0x56401478e53bp\r\n76      0x564014794505p\r\n77      0x5640147b938ap _PyEval_EvalFrameDefault + 778\r\n78      0x56401478f289p PyEval_EvalCodeEx + 809\r\n79      0x56401479001cp PyEval_EvalCode + 28\r\n80      0x5640148123c4p\r\n81      0x5640148127c1p PyRun_FileExFlags + 161\r\n82      0x5640148129c3p PyRun_SimpleFileExFlags + 451\r\n83      0x5640148164b3p Py_Main + 1555\r\n84      0x5640146df02ep main + 238\r\n85      0x7f9d7f4f63d5p __libc_start_main + 245\r\n86      0x5640147bfe0ep\r\n```",
        "state": "closed",
        "user": "oliwang",
        "closed_by": "oliwang",
        "created_at": "2019-09-21T03:47:47+00:00",
        "updated_at": "2019-10-01T14:10:47+00:00",
        "closed_at": "2019-10-01T14:10:47+00:00",
        "comments_count": [
            "Steffy-zxf",
            "oliwang",
            "ZeyuChen",
            "oliwang",
            "ZeyuChen",
            "oliwang",
            "nepeplwu",
            "oliwang",
            "kinghuin",
            "oliwang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 167,
        "title": "请问能在未标记样本上微调吗？",
        "body": "比如在分类任务里，有更多的未分类的数据话，怎么把这些数据也用来进行微调？",
        "state": "closed",
        "user": "Reveyer",
        "closed_by": "Reveyer",
        "created_at": "2019-09-20T12:53:56+00:00",
        "updated_at": "2019-09-27T15:57:27+00:00",
        "closed_at": "2019-09-27T15:57:27+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Reveyer",
            "Steffy-zxf",
            "Reveyer",
            "Steffy-zxf",
            "Steffy-zxf",
            "Reveyer"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 171,
        "title": "import paddlehub 出错 ",
        "body": "Hi,\r\n我的环境是Ubuntu16, Python 3.6.\r\n安装PaddlePaddle, PaddleHub 正常，\r\n但代码在运行时\r\n  ### **_import paddlehub as hub_**\r\n会出现不同的错误。\r\n但有时也完全正常。\r\n\r\n- 错误1\r\n\r\n  File \"/home/royrao/radarProd/src/nlp_sentiment.py\", line 16, in <module>\r\n   ###  **_import paddlehub as hub_**\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/__init__.py\", line 39, in <module>\r\n    from .common.hub_server import default_hub_server\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/common/hub_server.py\", line 239, in <module>\r\n    default_hub_server = HubServer()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/common/hub_server.py\", line 55, in __init__\r\n    self._load_resource_list_file_if_valid()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/common/hub_server.py\", line 80, in _load_resource_list_file_if_valid\r\n    self.resource_list_file_path())['resource_list']:\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/io/parser.py\", line 64, in parse\r\n    return yaml.load(content, Loader=yaml.BaseLoader)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/__init__.py\", line 112, in load\r\n    loader = Loader(stream)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/loader.py\", line 14, in __init__\r\n    Reader.__init__(self, stream)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/reader.py\", line 74, in __init__\r\n    self.check_printable(stream)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/reader.py\", line 144, in check_printable\r\n    'unicode', \"special characters are not allowed\")\r\n### **_yaml.reader.ReaderError: unacceptable character #x0000: special characters are not allowed\r\n  in \"<unicode string>\", position 0_**\r\n\r\n\r\n- 错误2\r\n\r\n  File \"/home/royrao/radarProd/src/nlp_sentiment.py\", line 16, in <module>\r\n    ### **_import paddlehub as hub_**\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/__init__.py\", line 39, in <module>\r\n    from .common.hub_server import default_hub_server\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/common/hub_server.py\", line 239, in <module>\r\n    default_hub_server = HubServer()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/common/hub_server.py\", line 55, in __init__\r\n    self._load_resource_list_file_if_valid()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/common/hub_server.py\", line 80, in _load_resource_list_file_if_valid\r\n    self.resource_list_file_path())['resource_list']:\r\n### **_TypeError: 'NoneType' object is not subscriptable_**\r\n\r\n- 错误3\r\n\r\n  File \"/home/royrao/radarProd/src/nlp_sentiment.py\", line 16, in <module>\r\n    import paddlehub as hub\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/__init__.py\", line 39, in <module>\r\n    from .common.hub_server import default_hub_server\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/common/hub_server.py\", line 239, in <module>\r\n    default_hub_server = HubServer()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/common/hub_server.py\", line 55, in __init__\r\n    self._load_resource_list_file_if_valid()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/common/hub_server.py\", line 80, in _load_resource_list_file_if_valid\r\n    self.resource_list_file_path())['resource_list']:\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/paddlehub/io/parser.py\", line 64, in parse\r\n    return yaml.load(content, Loader=yaml.BaseLoader)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/__init__.py\", line 114, in load\r\n    return loader.get_single_data()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/constructor.py\", line 41, in get_single_data\r\n    node = self.get_single_node()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/composer.py\", line 36, in get_single_node\r\n    document = self.compose_document()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/composer.py\", line 55, in compose_document\r\n    node = self.compose_node(None, None)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/composer.py\", line 84, in compose_node\r\n    node = self.compose_mapping_node(anchor)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/composer.py\", line 133, in compose_mapping_node\r\n    item_value = self.compose_node(node, item_key)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/composer.py\", line 82, in compose_node\r\n    node = self.compose_sequence_node(anchor)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/composer.py\", line 111, in compose_sequence_node\r\n    node.value.append(self.compose_node(node, index))\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/composer.py\", line 84, in compose_node\r\n    node = self.compose_mapping_node(anchor)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/composer.py\", line 133, in compose_mapping_node\r\n    item_value = self.compose_node(node, item_key)\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/composer.py\", line 64, in compose_node\r\n    if self.check_event(AliasEvent):\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/parser.py\", line 98, in check_event\r\n    self.current_event = self.state()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/parser.py\", line 449, in parse_block_mapping_value\r\n    if not self.check_token(KeyToken, ValueToken, BlockEndToken):\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/scanner.py\", line 116, in check_token\r\n    self.fetch_more_tokens()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/scanner.py\", line 251, in fetch_more_tokens\r\n    return self.fetch_double()\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/scanner.py\", line 655, in fetch_double\r\n    self.fetch_flow_scalar(style='\"')\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/scanner.py\", line 666, in fetch_flow_scalar\r\n    self.tokens.append(self.scan_flow_scalar(style))\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/scanner.py\", line 1151, in scan_flow_scalar\r\n    chunks.extend(self.scan_flow_scalar_spaces(double, start_mark))\r\n  File \"/home/royrao/venvs/radar/lib/python3.6/site-packages/yaml/scanner.py\", line 1239, in scan_flow_scalar_spaces\r\n    \"found unexpected end of stream\", self.get_mark())\r\n### **_yaml.scanner.ScannerError: while scanning a quoted scalar_**\r\n  in \"<unicode string>\", line 861, column 11:\r\n      detail: \"```shell\\n$ hub install senta_b ...\r\n              ^\r\n### **_found unexpected end of stream_**\r\n  in \"<unicode string>\", line 881, column 67:\r\n     ... 7684\\u6982\\u7387\\u503C**\\uFF1B\r\n                                         ^\r\n\r\n",
        "state": "closed",
        "user": "roy-rao",
        "closed_by": "roy-rao",
        "created_at": "2019-09-25T01:28:08+00:00",
        "updated_at": "2019-09-26T13:04:49+00:00",
        "closed_at": "2019-09-26T13:04:20+00:00",
        "comments_count": [
            "Steffy-zxf",
            "roy-rao",
            "Steffy-zxf",
            "roy-rao",
            "Steffy-zxf",
            "roy-rao",
            "ShenYuhan",
            "roy-rao",
            "roy-rao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 172,
        "title": "关于序列标注的问题！",
        "body": "在序列标注的示例demo中，输出的结果是“BIO”标注序列，请问有接口直接输出文本中对应的实体文本标签吗？而不是预测出来的标注序列？另外，使用新的训练实体识别模型过程中，预训练模型的词表可以随着训练新增未登录词（出现在新的数据中）吗？",
        "state": "closed",
        "user": "YUTianGong",
        "closed_by": "kinghuin",
        "created_at": "2019-09-25T03:23:23+00:00",
        "updated_at": "2019-10-08T02:27:51+00:00",
        "closed_at": "2019-10-08T02:27:51+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf",
            "YUTianGong",
            "Steffy-zxf",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 177,
        "title": "关于Anconda里安装问题",
        "body": "Anconda安装PaddleHub时，我在自己创建的虚拟环境里用pip安装的，但没有安装到虚拟环境所在文件夹下，却装到C盘了。信息如下：\r\n  WARNING: The script hub.exe is installed in 'C:\\Users\\May\\AppData\\Roaming\\Pyth\r\non\\Python37\\Scripts' which is not on PATH.\r\n  Consider adding this directory to PATH or, if you prefer to suppress this warn\r\ning, use --no-warn-script-location.\r\nSuccessfully installed paddlehub-1.2.0 pandas-0.25.1\r\n\r\n导致conda list 时看不到安装包，无法使用。。。",
        "state": "closed",
        "user": "ghm",
        "closed_by": "ghm",
        "created_at": "2019-09-26T08:02:27+00:00",
        "updated_at": "2019-09-27T03:02:40+00:00",
        "closed_at": "2019-09-27T03:02:40+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ghm",
            "Steffy-zxf",
            "ghm"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 175,
        "title": "无法本地安装senta_bilstm",
        "body": "centos 系统中 hub install senta_bilstm  返回结果  Can't find module senta_bilstm ,\r\n进入python3之后执行 \r\n>>> import paddlehub as hub\r\n>>> hub.Module(name=\"senta_bilstm\")\r\n返回：\r\n[2019-09-25 19:59:21,050] [    INFO] - Installing senta_bilstm module\r\n[2019-09-25 19:59:21,285] [   ERROR] - Can't find module senta_bilstm\r\n",
        "state": "closed",
        "user": "qianshuifanzhou",
        "closed_by": "kinghuin",
        "created_at": "2019-09-25T11:40:21+00:00",
        "updated_at": "2019-10-08T02:26:11+00:00",
        "closed_at": "2019-10-08T02:26:11+00:00",
        "comments_count": [
            "Steffy-zxf",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 183,
        "title": "运行ernie二分类模型报错",
        "body": "报错如下，另外hub.Module(name='ernie)会出现无法加载模型的错误，添加了参数version之后不报错，但是在fitune_and_eval阶段报错\r\n\r\n---------------------------------------------------------------------------EnforceNotMet                             Traceback (most recent call last)<ipython-input-78-37278a27b4b6> in <module>\r\n----> 1 cls_task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in finetune_and_eval(self)\r\n    504 \r\n    505     def finetune_and_eval(self):\r\n--> 506         return self.finetune(do_eval=True)\r\n    507 \r\n    508     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in finetune(self, do_eval)\r\n    509         # Start to finetune\r\n    510         with self.phase_guard(phase=\"train\"):\r\n--> 511             self.init_if_necessary()\r\n    512             self._finetune_start_event()\r\n    513             run_states = []\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in init_if_necessary(self)\r\n    166         if not self.is_checkpoint_loaded:\r\n    167             self.is_checkpoint_loaded = True\r\n--> 168             if not self.load_checkpoint():\r\n    169                 self.exe.run(self._base_startup_program)\r\n    170 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in load_checkpoint(self)\r\n    487             self.config.checkpoint_dir,\r\n    488             self.exe,\r\n--> 489             main_program=self.main_program)\r\n    490 \r\n    491         return is_load_successful\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in main_program(self)\r\n    331     def main_program(self):\r\n    332         if not self.env.is_inititalized:\r\n--> 333             self._build_env()\r\n    334         return self.env.main_program\r\n    335 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/task.py in _build_env(self)\r\n    244                 with fluid.unique_name.guard(self.env.UNG):\r\n    245                     self.config.strategy.execute(\r\n--> 246                         self.loss, self._base_data_reader, self.config)\r\n    247 \r\n    248         if self.is_train_phase:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/strategy.py in execute(self, loss, data_reader, config)\r\n    132         scheduled_lr = adam_weight_decay_optimization(\r\n    133             loss, warmup_steps, max_train_steps, self.learning_rate,\r\n--> 134             main_program, self.weight_decay, self.lr_scheduler)\r\n    135 \r\n    136         return scheduled_lr\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddlehub/finetune/optimization.py in adam_weight_decay_optimization(loss, warmup_steps, num_train_steps, learning_rate, main_program, weight_decay, scheduler)\r\n     77         param_list[param.name].stop_gradient = True\r\n     78 \r\n---> 79     _, param_grads = optimizer.minimize(loss)\r\n     80 \r\n     81     if weight_decay > 0:\r\n</opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/decorator.py:decorator-gen-144> in minimize(self, loss, startup_program, parameter_list, no_grad_set, grad_clip)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/wrapped_decorator.py in __impl__(func, *args, **kwargs)\r\n     23     def __impl__(func, *args, **kwargs):\r\n     24         wrapped_func = decorator_func(func)\r\n---> 25         return wrapped_func(*args, **kwargs)\r\n     26 \r\n     27     return __impl__\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/dygraph/base.py in __impl__(*args, **kwargs)\r\n     85     def __impl__(*args, **kwargs):\r\n     86         with _switch_tracer_mode_guard_(is_train=False):\r\n---> 87             return func(*args, **kwargs)\r\n     88 \r\n     89     return __impl__\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/optimizer.py in minimize(self, loss, startup_program, parameter_list, no_grad_set, grad_clip)\r\n    592             startup_program=startup_program,\r\n    593             parameter_list=parameter_list,\r\n--> 594             no_grad_set=no_grad_set)\r\n    595 \r\n    596         if grad_clip is not None and framework.in_dygraph_mode():\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/optimizer.py in backward(self, loss, startup_program, parameter_list, no_grad_set, callbacks)\r\n    491             with program_guard(program, startup_program):\r\n    492                 params_grads = append_backward(loss, parameter_list,\r\n--> 493                                                no_grad_set, callbacks)\r\n    494                 # Note: since we can't use all_reduce_op now,\r\n    495                 #  dgc_op should be the last op of one grad.\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/backward.py in append_backward(loss, parameter_list, no_grad_set, callbacks)\r\n    569         grad_to_var,\r\n    570         callbacks,\r\n--> 571         input_grad_names_set=input_grad_names_set)\r\n    572 \r\n    573     # Because calc_gradient may be called multiple times,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.5/site-packages/paddle/fluid/backward.py in _append_backward_ops_(block, ops, target_block, no_grad_dict, grad_to_var, callbacks, input_grad_names_set)\r\n    308         # Getting op's corresponding grad_op\r\n    309         grad_op_desc, op_grad_to_var = core.get_grad_op_desc(\r\n--> 310             op.desc, cpt.to_text(no_grad_dict[block.idx]), grad_sub_block_list)\r\n    311 \r\n    312         # If input_grad_names_set is not None, extend grad_op_descs only when\r\nEnforceNotMet: Input ShapeTensor cannot be found in Op reshape2 at [/paddle/paddle/fluid/framework/op_desc.cc:306]\r\nPaddlePaddle Call Stacks: \r\n0       0x7f7a2f9be750p void paddle::platform::EnforceNotMet::Init<char const*>(char const*, char const*, int) + 352\r\n1       0x7f7a2f9beac9p paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int) + 137\r\n2       0x7f7a2fb2fd7fp paddle::framework::OpDesc::Input(std::string const&) const + 207\r\n3       0x7f7a2ffff62cp paddle::framework::details::OpInfoFiller<paddle::operators::Reshape2GradMaker, (paddle::framework::details::OpInfoFillType)2>::operator()(char const*, paddle::framework::OpInfo*) const::{lambda(paddle::framework::OpDesc const&, std::unordered_set<std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::string> > const&, std::unordered_map<std::string, std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::pair<std::string const, std::string> > >*, std::vector<paddle::framework::BlockDesc*, std::allocator<paddle::framework::BlockDesc*> > const&)#1}::operator()(paddle::framework::OpDesc const&, std::unordered_set<std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::string> > const&, std::unordered_map<std::string, std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::pair<std::string const, std::string> > >*, std::vector<paddle::framework::BlockDesc*, std::allocator<paddle::framework::BlockDesc*> > const&) const + 540\r\n4       0x7f7a2ffffba4p std::_Function_handler<std::vector<std::unique_ptr<paddle::framework::OpDesc, std::default_delete<paddle::framework::OpDesc> >, std::allocator<std::unique_ptr<paddle::framework::OpDesc, std::default_delete<paddle::framework::OpDesc> > > > (paddle::framework::OpDesc const&, std::unordered_set<std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::string> > const&, std::unordered_map<std::string, std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::pair<std::string const, std::string> > >*, std::vector<paddle::framework::BlockDesc*, std::allocator<paddle::framework::BlockDesc*> > const&), paddle::framework::details::OpInfoFiller<paddle::operators::Reshape2GradMaker, (paddle::framework::details::OpInfoFillType)2>::operator()(char const*, paddle::framework::OpInfo*) const::{lambda(paddle::framework::OpDesc const&, std::unordered_set<std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::string> > const&, std::unordered_map<std::string, std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::pair<std::string const, std::string> > >*, std::vector<paddle::framework::BlockDesc*, std::allocator<paddle::framework::BlockDesc*> > const&)#1}>::_M_invoke(std::_Any_data const&, paddle::framework::OpDesc const&, std::unordered_set<std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::string> > const&, std::unordered_map<std::string, std::string, std::hash<std::string>, std::equal_to<std::string>, std::allocator<std::pair<std::string const, std::string> > >*, std::vector<paddle::framework::BlockDesc*, std::allocator<paddle::framework::BlockDesc*> > const&) + 20\r\n5       0x7f7a2f9b76bap\r\n6       0x7f7a2f9f1066p\r\n7       0x7f7ab471a199p PyCFunction_Call + 233\r\n8       0x7f7ab47b4dbep PyEval_EvalFrameEx + 31950\r\n9       0x7f7ab47b74b6p\r\n10      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n11      0x7f7ab47b74b6p\r\n12      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n13      0x7f7ab47b74b6p\r\n14      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n15      0x7f7ab47b74b6p\r\n16      0x7f7ab47b75a8p PyEval_EvalCodeEx + 72\r\n17      0x7f7ab46f6c33p\r\n18      0x7f7ab46c533ap PyObject_Call + 106\r\n19      0x7f7ab47af6eep PyEval_EvalFrameEx + 9726\r\n20      0x7f7ab47b74b6p\r\n21      0x7f7ab47b75a8p PyEval_EvalCodeEx + 72\r\n22      0x7f7ab46f6c33p\r\n23      0x7f7ab46c533ap PyObject_Call + 106\r\n24      0x7f7ab47af6eep PyEval_EvalFrameEx + 9726\r\n25      0x7f7ab47b74b6p\r\n26      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n27      0x7f7ab47b74b6p\r\n28      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n29      0x7f7ab47b74b6p\r\n30      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n31      0x7f7ab47b51d0p PyEval_EvalFrameEx + 32992\r\n32      0x7f7ab47b74b6p\r\n33      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n34      0x7f7ab47b74b6p\r\n35      0x7f7ab47b75a8p PyEval_EvalCodeEx + 72\r\n36      0x7f7ab46f6b56p\r\n37      0x7f7ab46c533ap PyObject_Call + 106\r\n38      0x7f7ab46e3172p\r\n39      0x7f7ab471d51cp _PyObject_GenericGetAttrWithDict + 124\r\n40      0x7f7ab47b1d2ap PyEval_EvalFrameEx + 19514\r\n41      0x7f7ab47b51d0p PyEval_EvalFrameEx + 32992\r\n42      0x7f7ab47b51d0p PyEval_EvalFrameEx + 32992\r\n43      0x7f7ab47b74b6p\r\n44      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n45      0x7f7ab47b51d0p PyEval_EvalFrameEx + 32992\r\n46      0x7f7ab47b74b6p\r\n47      0x7f7ab47b75a8p PyEval_EvalCodeEx + 72\r\n48      0x7f7ab47b75ebp PyEval_EvalCode + 59\r\n49      0x7f7ab47aac5dp\r\n50      0x7f7ab471a179p PyCFunction_Call + 201\r\n51      0x7f7ab47b4dbep PyEval_EvalFrameEx + 31950\r\n52      0x7f7ab46ee410p _PyGen_Send + 128\r\n53      0x7f7ab47b3953p PyEval_EvalFrameEx + 26723\r\n54      0x7f7ab46ee410p _PyGen_Send + 128\r\n55      0x7f7ab47b3953p PyEval_EvalFrameEx + 26723\r\n56      0x7f7ab46ee410p _PyGen_Send + 128\r\n57      0x7f7ab47b4d60p PyEval_EvalFrameEx + 31856\r\n58      0x7f7ab47b51d0p PyEval_EvalFrameEx + 32992\r\n59      0x7f7ab47b51d0p PyEval_EvalFrameEx + 32992\r\n60      0x7f7ab47b74b6p\r\n61      0x7f7ab47b75a8p PyEval_EvalCodeEx + 72\r\n62      0x7f7ab46f6c33p\r\n63      0x7f7ab46c533ap PyObject_Call + 106\r\n64      0x7f7ab47af6eep PyEval_EvalFrameEx + 9726\r\n65      0x7f7ab47b74b6p\r\n66      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n67      0x7f7ab46ed6bap\r\n68      0x7f7ab47a8af6p\r\n69      0x7f7ab471a179p PyCFunction_Call + 201\r\n70      0x7f7ab47b4dbep PyEval_EvalFrameEx + 31950\r\n71      0x7f7ab47b74b6p\r\n72      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n73      0x7f7ab46ed6bap\r\n74      0x7f7ab47a8af6p\r\n75      0x7f7ab471a179p PyCFunction_Call + 201\r\n76      0x7f7ab47b4dbep PyEval_EvalFrameEx + 31950\r\n77      0x7f7ab47b74b6p\r\n78      0x7f7ab47b45b5p PyEval_EvalFrameEx + 29893\r\n79      0x7f7ab46ed6bap\r\n80      0x7f7ab47a8af6p\r\n81      0x7f7ab471a179p PyCFunction_Call + 201\r\n82      0x7f7ab47b4dbep PyEval_EvalFrameEx + 31950\r\n83      0x7f7ab47b74b6p\r\n84      0x7f7ab47b75a8p PyEval_EvalCodeEx + 72\r\n85      0x7f7ab46f6b56p\r\n86      0x7f7ab46c533ap PyObject_Call + 106\r\n87      0x7f7ab47af6eep PyEval_EvalFrameEx + 9726\r\n88      0x7f7ab46ee410p _PyGen_Send + 128\r\n89      0x7f7ab47b4d60p PyEval_EvalFrameEx + 31856\r\n90      0x7f7ab47b51d0p PyEval_EvalFrameEx + 32992\r\n91      0x7f7ab47b74b6p\r\n92      0x7f7ab47b75a8p PyEval_EvalCodeEx + 72\r\n93      0x7f7ab46f6c33p\r\n94      0x7f7ab46c533ap PyObject_Call + 106\r\n95      0x7f7ab47af6eep PyEval_EvalFrameEx + 9726\r\n96      0x7f7ab47b74b6p\r\n97      0x7f7ab47b75a8p PyEval_EvalCodeEx + 72\r\n98      0x7f7ab46f6b56p\r\n99      0x7f7ab46c533ap PyObject_Call + 106",
        "state": "closed",
        "user": "bytekongfrombupt",
        "closed_by": "bytekongfrombupt",
        "created_at": "2019-09-30T02:56:02+00:00",
        "updated_at": "2019-09-30T03:12:36+00:00",
        "closed_at": "2019-09-30T03:12:36+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 178,
        "title": "使用一段时间报错IndexError: string index out of range",
        "body": "\r\n```\r\nTraceback (most recent call last):\r\n  .....\r\n  File \"/data/ningshixian/work/extract/info_extract.py\", line 65, in run_lac\r\n    results = self.lac.lexical_analysis(data=data)  # 词法分析\r\n  File \"/data/ningshixian/software/anaconda3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 497, in __call__\r\n    sub_data, **kwargs)\r\n  File \"/home/ningshixian/.paddlehub/modules/lac/python/a62c5d015111daae0dbd8719b0293c1b.py\", line 304, in postprocess\r\n    cur_word = words[word_index]\r\n**IndexError: string index out of range**\r\n```\r\n\r\ncode is following:\r\n\r\nmain.py\r\n```\r\n# load Baidu LAC service\r\nimport paddlehub as hub\r\nlac = hub.Module(name='lac')\r\nslot_extractor = info_extractor(lac)\r\nfor i in range(len(xx)):\r\n    slot_extractor.run_lac('text')\r\n...\r\n```\r\n\r\ninfo_extract.py\r\n```\r\nclass info_extractor:\r\n    def __init__(self, lac, logger):\r\n        self.lac = lac\r\n    def run_lac(self, text):    #  text是一句话\r\n        data = {'text':[text]}\r\n        results = self.lac.lexical_analysis(data=data)  # IndexError: string index out of range\r\n...\r\n```\r\n\r\nmain.py 会调用多次info_extract.py，每隔一段时间就会报错**IndexError: string index out of range**，请各路大神帮忙看看，谢谢",
        "state": "closed",
        "user": "ningshixian",
        "closed_by": "kinghuin",
        "created_at": "2019-09-27T13:00:43+00:00",
        "updated_at": "2019-11-04T03:36:24+00:00",
        "closed_at": "2019-11-04T03:36:24+00:00",
        "comments_count": [
            "kinghuin",
            "ningshixian",
            "kinghuin",
            "ningshixian",
            "kinghuin",
            "ningshixian",
            "kinghuin",
            "ningshixian",
            "kinghuin",
            "ningshixian",
            "ShenYuhan",
            "kinghuin",
            "ningshixian",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 180,
        "title": "python3.6安装成功 import报错",
        "body": "已安装了paddlepaddle和paddlehub\r\n```\r\npaddlehub=1.2.0      \r\npaddlepaddle-gpu=1.5.2.post87 \r\n```\r\n但import时出错：\r\n```\r\n>>> import paddlehub\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/paddlehub/__init__.py\", line 48, in <module>\r\n    from .finetune.task import ClassifierTask\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/paddlehub/finetune/task/__init__.py\", line 16, in <module>\r\n    from .basic_task import BasicTask, RunEnv, RunState\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/paddlehub/finetune/task/basic_task.py\", line 26, in <module>\r\n    from tb_paddle import SummaryWriter\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tb_paddle/__init__.py\", line 4, in <module>\r\n    from .writer import FileWriter, SummaryWriter\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tb_paddle/writer.py\", line 16, in <module>\r\n    from .event_file_writer import EventFileWriter\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tb_paddle/event_file_writer.py\", line 28, in <module>\r\n    from .proto import event_pb2\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tb_paddle/proto/event_pb2.py\", line 16, in <module>\r\n    from tb_paddle.proto import summary_pb2 as tb__paddle_dot_proto_dot_summary__pb2\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tb_paddle/proto/summary_pb2.py\", line 16, in <module>\r\n    from tb_paddle.proto import tensor_pb2 as tb__paddle_dot_proto_dot_tensor__pb2\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tb_paddle/proto/tensor_pb2.py\", line 16, in <module>\r\n    from tb_paddle.proto import resource_handle_pb2 as tb__paddle_dot_proto_dot_resource__handle__pb2\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tb_paddle/proto/resource_handle_pb2.py\", line 23, in <module>\r\n    serialized_pb=_b('\\n%tb_paddle/proto/resource_handle.proto\\x12\\ttb_paddle\\\"r\\n\\x13ResourceHandleProto\\x12\\x0e\\n\\x06\\x64\\x65vice\\x18\\x01 \\x01(\\t\\x12\\x11\\n\\tcontainer\\x18\\x02 \\x01(\\t\\x12\\x0c\\n\\x04name\\x18\\x03 \\x01(\\t\\x12\\x11\\n\\thash_code\\x18\\x04 \\x01(\\x04\\x12\\x17\\n\\x0fmaybe_type_name\\x18\\x05 \\x01(\\tB/\\n\\x18org.tensorflow.frameworkB\\x0eResourceHandleP\\x01\\xf8\\x01\\x01\\x62\\x06proto3')\r\nTypeError: __init__() got an unexpected keyword argument 'serialized_options'\r\n\r\n```\r\n\r\n请问要怎么解决，非常感谢",
        "state": "closed",
        "user": "thousfeet",
        "closed_by": "thousfeet",
        "created_at": "2019-09-28T08:30:00+00:00",
        "updated_at": "2019-09-29T00:58:17+00:00",
        "closed_at": "2019-09-29T00:58:17+00:00",
        "comments_count": [
            "nepeplwu",
            "thousfeet"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 179,
        "title": "demo运行错误",
        "body": "环境：Windows10、pycharm 、Cuda版本10.1.0\r\n问题：当我试着跑senta的demo时，部分报错如下：\r\n`C++ Call stacks: \r\nCannot open file C:\\Users\\霍浩东\\.paddlehub\\modules\\senta_bilstm\\model\\@HUB_senta_bilstm@fc_0.b_0 for load op at [D:\\zty\\paddle\\paddle/fluid/operators/load_op.h:37]\r\nPaddlePaddle Call Stacks: \r\nWindows not support stack backtrace yet.`\r\n当我试着跑其他demo时亦是如此。\r\n\r\n然而当我在ubuntu19.04的类似配置环境下拿来跑时没有出现问题。\r\n\r\n请问是我哪里出了问题，或者说这个问题该如何解决？",
        "state": "closed",
        "user": "huohaodong",
        "closed_by": "kinghuin",
        "created_at": "2019-09-28T04:11:59+00:00",
        "updated_at": "2019-09-29T02:48:07+00:00",
        "closed_at": "2019-09-29T02:48:07+00:00",
        "comments_count": [
            "nepeplwu",
            "huohaodong",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 181,
        "title": "tb-paddle可视化时报错 ValueError: Duplicate plugins for name projector",
        "body": "根据https://github.com/PaddlePaddle/PaddleHub/wiki/PaddleHub%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB%E8%BF%81%E7%A7%BB%E6%95%99%E7%A8%8B的教程，我在尝试使用\r\n`tensorboard --logdir ./cv_finetune_turtorial_demo/visualization --host ${HOST_IP} --port ${PORT}\r\n`进行可视化时出错\r\n环境是ubuntu16.4 python3.6\r\n\r\n```\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:541: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:542: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:543: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:544: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:545: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:550: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\nTraceback (most recent call last):\r\n  File \"/home/lcy/.conda/envs/lcyVenv/bin/tensorboard\", line 11, in <module>\r\n    sys.exit(run_main())\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/main.py\", line 64, in run_main\r\n    app.run(tensorboard.main, flags_parser=tensorboard.configure)\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/absl/app.py\", line 299, in run\r\n    _run_main(main, args)\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/absl/app.py\", line 250, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/program.py\", line 228, in main\r\n    server = self._make_server()\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/program.py\", line 309, in _make_server\r\n    self.assets_zip_provider)\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/backend/application.py\", line 161, in standard_tensorboard_wsgi\r\n    reload_task)\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/backend/application.py\", line 194, in TensorBoardWSGIApp\r\n    return TensorBoardWSGI(plugins, path_prefix)\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/backend/application.py\", line 245, in __init__\r\n    raise ValueError('Duplicate plugins for name %s' % plugin.plugin_name)\r\nValueError: Duplicate plugins for name projector\r\n(lcyVenv) lcy@bpm201:~$ tensorboard --logdir $CKPT_DIR/visualization --host 192.168.3.201 --port 8890\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:541: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:542: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:543: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:544: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:545: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:550: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\nTraceback (most recent call last):\r\n  File \"/home/lcy/.conda/envs/lcyVenv/bin/tensorboard\", line 11, in <module>\r\n    sys.exit(run_main())\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/main.py\", line 64, in run_main\r\n    app.run(tensorboard.main, flags_parser=tensorboard.configure)\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/absl/app.py\", line 299, in run\r\n    _run_main(main, args)\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/absl/app.py\", line 250, in _run_main\r\n    sys.exit(main(argv))\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/program.py\", line 228, in main\r\n    server = self._make_server()\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/program.py\", line 309, in _make_server\r\n    self.assets_zip_provider)\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/backend/application.py\", line 161, in standard_tensorboard_wsgi\r\n    reload_task)\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/backend/application.py\", line 194, in TensorBoardWSGIApp\r\n    return TensorBoardWSGI(plugins, path_prefix)\r\n  File \"/home/lcy/.conda/envs/lcyVenv/lib/python3.6/site-packages/tensorboard/backend/application.py\", line 245, in __init__\r\n    raise ValueError('Duplicate plugins for name %s' % plugin.plugin_name)\r\nValueError: Duplicate plugins for name projector\r\n\r\n```\r\n\r\n非常感谢！",
        "state": "closed",
        "user": "thousfeet",
        "closed_by": "thousfeet",
        "created_at": "2019-09-29T08:30:29+00:00",
        "updated_at": "2019-09-29T09:01:33+00:00",
        "closed_at": "2019-09-29T09:01:33+00:00",
        "comments_count": [
            "linshuliang",
            "thousfeet"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 182,
        "title": "自定义datasets，执行finetune_and_eval()报这个错",
        "body": "Traceback (most recent call last):\r\n  File \"E:/Pycharm/NER/ERNIE_NER/sequence_label.py\", line 123, in <module>\r\n    seq_label_task.finetune_and_eval()\r\n  File \"C:\\Users\\user\\paddlepaddle\\lib\\site-packages\\paddlehub\\finetune\\task.py\", line 506, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"C:\\Users\\user\\paddlepaddle\\lib\\site-packages\\paddlehub\\finetune\\task.py\", line 516, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"C:\\Users\\user\\paddlepaddle\\lib\\site-packages\\paddlehub\\finetune\\task.py\", line 557, in _run\r\n    return self._run_with_data_feeder(do_eval=do_eval)\r\n  File \"C:\\Users\\user\\paddlepaddle\\lib\\site-packages\\paddlehub\\finetune\\task.py\", line 567, in _run_with_data_feeder\r\n    for run_step, batch in enumerate(self.reader(), start=1):\r\n  File \"C:\\Users\\user\\paddlepaddle\\lib\\site-packages\\paddlehub\\reader\\nlp_reader.py\", line 286, in wrapper\r\n    examples, batch_size, phase=phase):\r\n  File \"C:\\Users\\user\\paddlepaddle\\lib\\site-packages\\paddlehub\\reader\\nlp_reader.py\", line 213, in _prepare_batch_data\r\n    self.tokenizer, phase)\r\n  File \"C:\\Users\\user\\paddlepaddle\\lib\\site-packages\\paddlehub\\reader\\nlp_reader.py\", line 464, in _convert_example_to_record\r\n    for label in labels] + [no_entity_id]\r\n  File \"C:\\Users\\user\\paddlepaddle\\lib\\site-packages\\paddlehub\\reader\\nlp_reader.py\", line 464, in <listcomp>\r\n    for label in labels] + [no_entity_id]\r\nKeyError: 'O O O B-时间点 I-时间点 I-时间点 O B-否定",
        "state": "closed",
        "user": "wshzd",
        "closed_by": "kinghuin",
        "created_at": "2019-09-29T10:39:32+00:00",
        "updated_at": "2019-10-10T01:56:19+00:00",
        "closed_at": "2019-10-10T01:56:19+00:00",
        "comments_count": [
            "wshzd",
            "Steffy-zxf",
            "wshzd",
            "Steffy-zxf",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 185,
        "title": "PaddleHub 在 开发机上不好用",
        "body": "问题如下，可以引入 Hub，也能找到 LAC module，但无法使用。\r\n\r\n![Screen Shot 2019-10-08 at 3 07 05 PM](https://user-images.githubusercontent.com/5635322/66436959-54b98780-e9dd-11e9-87dd-902add810b45.png)\r\n",
        "state": "closed",
        "user": "daming-lu",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-10-08T22:08:15+00:00",
        "updated_at": "2019-10-11T01:48:15+00:00",
        "closed_at": "2019-10-11T01:48:15+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 184,
        "title": "使用ernie二分类，想自定义metrics为recall和f1应该怎么弄",
        "body": "",
        "state": "closed",
        "user": "bytekongfrombupt",
        "closed_by": "kinghuin",
        "created_at": "2019-09-30T03:12:59+00:00",
        "updated_at": "2019-10-08T02:24:55+00:00",
        "closed_at": "2019-10-08T02:24:55+00:00",
        "comments_count": [
            "Steffy-zxf",
            "kinghuin",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 186,
        "title": "paddlehub LAC模块的lexical_analysis(）方法",
        "body": "hi，我想学习一下这个API的实现，但是怎么都找不到，能麻烦帮我看看嘛，下面是对应的例子哈\r\n![image](https://user-images.githubusercontent.com/45001329/66481130-cde6d680-ead2-11e9-9199-d6df2250d7ce.png)\r\n",
        "state": "closed",
        "user": "luzm3",
        "closed_by": "luzm3",
        "created_at": "2019-10-09T12:24:54+00:00",
        "updated_at": "2019-10-10T07:23:16+00:00",
        "closed_at": "2019-10-10T07:23:16+00:00",
        "comments_count": [
            "kinghuin",
            "Steffy-zxf",
            "luzm3",
            "Steffy-zxf",
            "luzm3",
            "kinghuin",
            "luzm3"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 188,
        "title": "如何二次加载经过一次finetune的ERNIE模型，进行二次finetune",
        "body": "用“数据集1”对预训练模型ERNIE，进行第一次finetune后，并保存“模型1”。\r\n\r\n如何加载“模型1”，使用“数据集2”，进行第二次finetune，得到“模型2”。\r\n\r\n需要自己对Class hub.module.Module进行重新实现，导自己的“模型1”吗？",
        "state": "closed",
        "user": "sz547073165",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-10-15T10:23:18+00:00",
        "updated_at": "2019-10-25T06:59:06+00:00",
        "closed_at": "2019-10-25T06:59:06+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 194,
        "title": "data换成自己的跑出的结果不好",
        "body": "我在原程序中，将data换成其他文本，如下：\r\n    data = [\r\n        [\r\n            \"效果不好的原因是什么呢？句子太短了吗\",\r\n            \" 今天为什么下雨了呢？昨天天气太闷了吧\"\r\n        ],\r\n        [\"今天有什么新闻\", \"冬天来了，春天还会远吗\"],\r\n        [\"我有两个苹果\", \"桌上有两个苹果\"],\r\n    ]\r\n执行结果如下：\r\n![image](https://user-images.githubusercontent.com/8744664/67255376-5fcbe780-f4b4-11e9-823c-a340d543a7fe.png)\r\n请问是什么原因？",
        "state": "closed",
        "user": "ghm",
        "closed_by": "ghm",
        "created_at": "2019-10-22T02:12:08+00:00",
        "updated_at": "2019-10-22T06:53:24+00:00",
        "closed_at": "2019-10-22T06:53:24+00:00",
        "comments_count": [
            "ghm",
            "kinghuin",
            "ghm",
            "kinghuin",
            "ghm",
            "kinghuin",
            "ghm"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 210,
        "title": "安装paddlehub报错",
        "body": "<img width=\"1136\" alt=\"image\" src=\"https://user-images.githubusercontent.com/23158451/67825524-84ebd600-fb04-11e9-8d96-877bc5819f2c.png\">\r\n\r\n这个该如何解决呢，感谢~~",
        "state": "closed",
        "user": "vitoman",
        "closed_by": "vitoman",
        "created_at": "2019-10-30T03:01:18+00:00",
        "updated_at": "2019-10-30T06:34:01+00:00",
        "closed_at": "2019-10-30T06:34:01+00:00",
        "comments_count": [
            "Steffy-zxf",
            "vitoman",
            "Steffy-zxf",
            "vitoman"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 199,
        "title": "module 'paddlehub' has no attribute 'create_img_cls_task'",
        "body": "PaddleHub十行代码完成迁移学习\r\n\r\ntask = hub.create_img_cls_task(feature=feature_map, num_classes=dataset.num_labels)\r\n",
        "state": "closed",
        "user": "shangfr",
        "closed_by": "shangfr",
        "created_at": "2019-10-24T09:26:18+00:00",
        "updated_at": "2019-10-24T09:40:27+00:00",
        "closed_at": "2019-10-24T09:40:27+00:00",
        "comments_count": [
            "Steffy-zxf",
            "shangfr"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 221,
        "title": "Paddlehub install error \"ERROR: Package 'imageio-ffmpeg' requires a different Python: 2.7.12 not in '>=3.4\"",
        "body": "When I try to install paddlehub 1.3.0, then I ran into following error\r\n```ERROR: Package 'imageio-ffmpeg' requires a different Python: 2.7.12 not in '>=3.4'```\r\nI found that imageio-ffmpeg package only support python>= 3.4, so the newest paddlehub doesn't support python 2.7?\r\n\r\n",
        "state": "closed",
        "user": "TheodoreG",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-11-11T06:55:46+00:00",
        "updated_at": "2019-11-26T09:40:10+00:00",
        "closed_at": "2019-11-26T09:40:10+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 218,
        "title": "自定义任务中Build_net 应该如何连接网络层？",
        "body": "```   \r\n    def _build_net(self):\r\n        cls_feats = fluid.layers.dropout(\r\n            x=self.feature,\r\n            dropout_prob=0.1,\r\n            dropout_implementation=\"upscale_in_train\")\r\n\r\n        if self.hidden_units is not None:\r\n            for n_hidden in self.hidden_units:\r\n                cls_feats = fluid.layers.fc(\r\n                    input=cls_feats, size=n_hidden, act=\"relu\")\r\n        fc0 = fluid.layers.fc(input=cls_feats, size=128 * 3)\r\n        gru_h=fluid.layers.dynamic_gru(input=fc0,size=128,is_reverse=False)\r\n        gru_max=fluid.layers.sequence_pool(input=gru_h,pool_type='max')\r\n        gru_max_tanh=fluid.layers.tanh(gru_max)\r\n```\r\n\r\n1.请问这个self.feature 是预训练模型输出的特征吗？\r\n2.如何把这个输入接入到 fluid.layers.** 这样的网络层呢？\r\n比如上述代码想在之后接一个GRU，但是提示需要lod_level=1,而feature和fc0的lod_level都是0\r\n报错如下：\r\n```\r\nEnforce failed. Expected lods.size() -- 1UL, but received lods.size() :0 !- 1UL:1.\r\nOnly support one leve1 sequence now. at [/ paddle/ paddle/ fluid/ operators/ math/ sequence2batch.h: 79]\r\n```",
        "state": "closed",
        "user": "foreversolar",
        "closed_by": "foreversolar",
        "created_at": "2019-11-07T12:53:10+00:00",
        "updated_at": "2019-11-10T06:44:48+00:00",
        "closed_at": "2019-11-10T06:44:48+00:00",
        "comments_count": [
            "Steffy-zxf",
            "foreversolar"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 223,
        "title": "预测时内存一直增长，直到溢出",
        "body": "使用的模型是ernie，模型已经训练好了，按照text-classification的demo写了一个预测demo，通过这个函数得到cls_task，之后for循环cls_task.predict(data=data)，循环预测每个句子，但是执行之后发现内存持续在增长，不预测就不会增长，请问这是哪里出了问题呢？\r\ndef loading_neg(module):\r\n    dataset_neg = ChnSentiCorp_neg()\r\n    inputs_neg, outputs_neg, program_neg = module.context(\r\n        trainable=True, max_seq_len=128)\r\n    reader = hub.reader.ClassifyReader(\r\n        dataset=dataset_neg,\r\n        vocab_path=module.get_vocab_path(),\r\n        max_seq_len=128,\r\n        use_task_id=False)\r\n\r\n    pooled_output = outputs_neg[\"pooled_output\"]\r\n\r\n    # Setup feed list for data feeder\r\n    # Must feed all the tensor of ERNIE's module need\r\n    feed_list = [\r\n        inputs_neg[\"input_ids\"].name,\r\n        inputs_neg[\"position_ids\"].name,\r\n        inputs_neg[\"segment_ids\"].name,\r\n        inputs_neg[\"input_mask\"].name,\r\n    ]\r\n\r\n    neg_config = hub.RunConfig(\r\n        use_data_parallel=False,\r\n        use_pyreader=True,\r\n        use_cuda=False,\r\n        batch_size=1,\r\n        enable_memory_optim=False,\r\n        checkpoint_dir=checkpoint_dir_neg,\r\n        strategy=hub.finetune.strategy.DefaultFinetuneStrategy())\r\n    \r\n    neg_cls_task = hub.TextClassifierTask(\r\n        data_reader=reader,\r\n        feature=pooled_output,\r\n        feed_list=feed_list,\r\n        num_classes=dataset_neg.num_labels,\r\n        config=neg_config)\r\n    return neg_cls_task",
        "state": "closed",
        "user": "Black-cup",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-11-13T03:18:27+00:00",
        "updated_at": "2019-11-26T10:03:48+00:00",
        "closed_at": "2019-11-26T10:03:47+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Black-cup",
            "Black-cup",
            "Steffy-zxf",
            "ZeyuChen",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 225,
        "title": "离线后paddleHub报错，联网后无法恢复",
        "body": "![QQ图片20191114160719](https://user-images.githubusercontent.com/31813915/68838120-e7de8f00-06f8-11ea-9b64-4f94095e5326.png)\r\n使用paddlehub的senta_lstm与训练模型做一个情感分析的demo，在联网环境中测试完全无问题。后来断开了虚拟机的网络想要测试一下，结果就报上图错，并且重新联网后hub install等功能完全无法使用。升级了hub之后依然不可以使用。\r\n![QQ图片20191114160731](https://user-images.githubusercontent.com/31813915/68838299-40159100-06f9-11ea-93d8-656845b6021f.png)\r\n![QQ图片20191114160735](https://user-images.githubusercontent.com/31813915/68838301-40ae2780-06f9-11ea-80bb-b26da34afec5.png)\r\n\r\n",
        "state": "closed",
        "user": "KW213",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-11-14T08:10:27+00:00",
        "updated_at": "2019-11-15T08:49:46+00:00",
        "closed_at": "2019-11-15T08:49:45+00:00",
        "comments_count": [
            "KW213",
            "Steffy-zxf",
            "KW213",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 237,
        "title": "paddlehub 加载模型失败",
        "body": "前提：paddlepaddle，paddlehub 安装成功，paddle.fluid.install_check.run_check() 验证通过，运行demo时加载模型成功：\r\n[2019-11-27 14:00:32,889] [    INFO] - Installing lac module\r\n[2019-11-27 14:00:32,893] [    INFO] - Module lac already installed in C:\\Users\\xxx\\.paddlehub\\modules\\lac。\r\n\r\n问题：在尝试LAC官方demo时，报错如下\r\nPaddleCheckError: Cannot open file C:\\Users\\xxx\\.paddlehub\\modules\\lac\\model\\@HUB_lac@fc_0.w_0 for load op at [D:\\1.6.1\\paddle\\paddle/fluid/operators/load_op.h:37]\r\n  [operator < load > error]\r\n\r\n电脑并没有D盘，请问怎么解决？\r\n\r\n",
        "state": "closed",
        "user": "TinyClev",
        "closed_by": "TinyClev",
        "created_at": "2019-11-27T06:25:23+00:00",
        "updated_at": "2019-11-28T02:07:10+00:00",
        "closed_at": "2019-11-28T02:07:10+00:00",
        "comments_count": [
            "nepeplwu",
            "TinyClev",
            "nepeplwu",
            "TinyClev"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 242,
        "title": "PaddleHub序列标注 运行sh run_sequence_label.sh报错",
        "body": "我在按照`PaddleHub/demo/sequence-labeling/`下教程运行`sh run_sequence_label.sh`时出现以下报错，请问可能是什么问题？\r\n**版本**\r\n- PaddlePaddle v1.6.1\r\n- PaddleHub v1.4.0\r\n   - ERNIE模型 v1.1.0\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"sequence_label.py\", line 93, in <module>\r\n    seq_label_task.finetune_and_eval()\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 588, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 593, in finetune\r\n    self.init_if_necessary()\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 175, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 571, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 357, in main_program\r\n    self._build_env()\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 207, in _build_env\r\n    self.env.outputs = self._build_net()\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/sequence_task.py\", line 70, in _build_net\r\n    self.feature, length=self.seq_len)\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddle/fluid/layers/nn.py\", line 5872, in sequence_unpad\r\n    outputs={'Out': out})\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddle/fluid/framework.py\", line 2459, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddle/fluid/framework.py\", line 1842, in __init__\r\n    self.desc.infer_shape(self.block.desc)\r\npaddle.fluid.core_avx.EnforceNotMet:\r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > paddle::platform::GetTraceBackString<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, char const*, int)\r\n1   paddle::operators::SequenceUnpadOp::InferShape(paddle::framework::InferShapeContext*) const\r\n2   paddle::framework::OpDesc::InferShape(paddle::framework::BlockDesc const&) const\r\n3   void pybind11::cpp_function::initialize<pybind11::cpp_function::cpp_function<void, paddle::framework::OpDesc, paddle::framework::BlockDesc const&, pybind11::name, pybind11::is_method, pybind11::sibling>(void (paddle::framework::OpDesc::*)(paddle::framework::BlockDesc const&) const, pybind11::name const&, pybind11::is_method const&, pybind11::sibling const&)::'lambda'(paddle::framework::OpDesc const*, paddle::framework::BlockDesc const&), void, paddle::framework::OpDesc const*, paddle::framework::BlockDesc const&, pybind11::name, pybind11::is_method, pybind11::sibling>(void&&, paddle::framework::OpDesc (*)(paddle::framework::BlockDesc const&), pybind11::name const&, pybind11::is_method const&, pybind11::sibling const&)::'lambda'(pybind11::detail::function_call&)::operator()(pybind11::detail::function_call&) const\r\n4   pybind11::cpp_function::dispatcher(_object*, _object*, _object*)\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddle/fluid/framework.py\", line 2459, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddle/fluid/layers/nn.py\", line 5872, in sequence_unpad\r\n    outputs={'Out': out})\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/sequence_task.py\", line 70, in _build_net\r\n    self.feature, length=self.seq_len)\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 207, in _build_env\r\n    self.env.outputs = self._build_net()\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 357, in main_program\r\n    self._build_env()\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 571, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 175, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 593, in finetune\r\n    self.init_if_necessary()\r\n  File \"/Users/test/anaconda3/envs/nlp-lab2/lib/python3.5/site-packages/paddlehub/finetune/task/basic_task.py\", line 588, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"sequence_label.py\", line 93, in <module>\r\n    seq_label_task.finetune_and_eval()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nPaddleCheckError: Expected len_dims.size() == 1, but received len_dims.size():2 != 1:1.\r\nThe shape of Input(Length) should be [batch_size]. at [/home/teamcity/work/ef54dc8a5b211854/paddle/fluid/operators/sequence_ops/sequence_unpad_op.cc:41]\r\n  [operator < sequence_unpad > error]\r\n```",
        "state": "closed",
        "user": "hlmu",
        "closed_by": "hlmu",
        "created_at": "2019-11-28T03:08:01+00:00",
        "updated_at": "2019-11-28T08:00:02+00:00",
        "closed_at": "2019-11-28T08:00:02+00:00",
        "comments_count": [
            "kinghuin",
            "hlmu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 254,
        "title": "1",
        "body": "![bs_start](https://user-images.githubusercontent.com/28444161/70047936-0eab2980-1604-11ea-9f56-28a1dd66cd55.gif)\r\n",
        "state": "closed",
        "user": "ShenYuhan",
        "closed_by": "ShenYuhan",
        "created_at": "2019-12-03T11:37:40+00:00",
        "updated_at": "2019-12-03T11:37:47+00:00",
        "closed_at": "2019-12-03T11:37:47+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 246,
        "title": "关于使用自定义词典扩展lac模块命名实体识别",
        "body": "我想通过用户词典的形式扩展LAC模块的命名实体类别，比如在原有的TIME，ORG，LOC... 的基础上加上新的类别。 我看paddlepaddle/\r\nmodels/PaddleNLP/lexical_analysis/conf/customization.dic.example\r\n\r\n[D:MONTH]\r\n月\r\n月份\r\n\r\n有对应的功能，请问在paddlehub里有相应的解决方法吗？",
        "state": "closed",
        "user": "TinyClev",
        "closed_by": "TinyClev",
        "created_at": "2019-11-28T09:49:28+00:00",
        "updated_at": "2019-11-29T07:30:53+00:00",
        "closed_at": "2019-11-29T07:30:53+00:00",
        "comments_count": [
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 250,
        "title": "PaddleHub bug反馈",
        "body": "demo \"PaddleHub/demo/serving/GAN_stgan_celeba/\"中的模型无法启动多线程，会使得服务器卡死。\r\n\r\n启动配置如下：\r\n```\r\n{  \r\n  \"modules_info\": [  \r\n    {  \r\n       \"module\": \"stgan_celeba\",  \r\n       \"version\": \"1.0.0\",\r\n       \"batch_size\": 1,  \r\n       \"queue_size\": 20\r\n       \r\n    }\r\n  ],  \r\n  \"use_gpu\": false,  \r\n  \"port\": 8866,\r\n  \"use_multiprocess\": true\r\n}",
        "state": "closed",
        "user": "qjaden",
        "closed_by": "qjaden",
        "created_at": "2019-12-01T12:44:43+00:00",
        "updated_at": "2019-12-25T12:18:03+00:00",
        "closed_at": "2019-12-03T07:49:15+00:00",
        "comments_count": [
            "qjaden",
            "ShenYuhan",
            "ShenYuhan",
            "qjaden"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 262,
        "title": "AttributeError: 'MyDataSet' object has no attribute 'dev_examples'",
        "body": " 我在finetune 分类模型时，自定义了数据集。在训练过程中评估模型的时候会报错：\r\n ```\r\nFile \"/Users/alex/baidu/paddlehubdog/train.py\", line 71, in <module>\r\n    task.finetune_and_eval()\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/finetune/task/basic_task.py\", line 592, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/finetune/task/basic_task.py\", line 604, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/finetune/task/basic_task.py\", line 648, in _run\r\n    return self._run_with_py_reader(do_eval=do_eval)\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/finetune/task/basic_task.py\", line 743, in _run_with_py_reader\r\n    self._eval_interval_event()\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/finetune/task/basic_task.py\", line 534, in _eval_interval_event\r\n    self.eval(phase=\"dev\")\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/finetune/task/basic_task.py\", line 628, in eval\r\n    run_states = self._run()\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/finetune/task/basic_task.py\", line 648, in _run\r\n    return self._run_with_py_reader(do_eval=do_eval)\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/finetune/task/basic_task.py\", line 708, in _run_with_py_reader\r\n    self.py_reader.decorate_paddle_reader(self.reader)\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/finetune/task/basic_task.py\", line 391, in reader\r\n    batch_size=self.config.batch_size, phase=self.phase, data=data)\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/reader/cv_reader.py\", line 92, in data_generator\r\n    self.num_examples['dev'] = len(self.get_dev_examples())\r\n  File \"/Users/alex/.conda/envs/paddle/lib/python3.6/site-packages/paddlehub/reader/cv_reader.py\", line 136, in get_dev_examples\r\n    return self.dataset.dev_examples\r\nAttributeError: 'MyDataSet' object has no attribute 'dev_examples'\r\n```\r\n我发现ImageClassificationDataset代码中有：\r\n```\r\n    def test_data(self, shuffle=False):\r\n        test_data_path = os.path.join(self.base_path, self.test_list_file)\r\n        return self._parse_data(test_data_path, shuffle, phase='dev')\r\n\r\n    def validate_data(self, shuffle=False):\r\n        validate_data_path = os.path.join(self.base_path,\r\n                                          self.validate_list_file)\r\n        return self._parse_data(validate_data_path, shuffle, phase='test')\r\n```\r\n这两个方法的 phase 的值是不是设置错了？\r\n我在自定义的 Dataset中，重写这个两个方法，同时将 phase 的值调换，程序可以正常运行。",
        "state": "closed",
        "user": "txyugood",
        "closed_by": "txyugood",
        "created_at": "2019-12-13T00:15:29+00:00",
        "updated_at": "2019-12-13T11:15:00+00:00",
        "closed_at": "2019-12-13T11:15:00+00:00",
        "comments_count": [
            "Steffy-zxf",
            "txyugood",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 255,
        "title": "能否使用你们的预训练模型替换掉paddle中embedding层？",
        "body": "如题，paddle的embedding它是可以替换为其他的预训练的已有词向量，比如，word2vet或glove或conll05。但是paddle并没有提供word2vec或glove的，只提供了conll05。自己想要替换时，需要自己去改代码，改数据，比较繁琐。我想问的是，1 能否用你们的来替换paddle的embedding层 2如果能，是否会提供glove或word2vct? 【我运行的是paddle提供的2019ACL--KTNET模型，因为原模型没有提供词向量的输入】\r\npaddle使用conllo5代码：\r\n            1    \r\n        embedding_param = fluid.global_scope().find_var(\r\n            embedding_name).get_tensor()\r\n        embedding_param.set(\r\n            load_parameter(conll05.get_embedding(), word_dict_len, word_dim),\r\n            place)\r\n             2 -------获得单词的词向量\r\n    word_embedding = fluid.layers.embedding(\r\n        input = src_ids,\r\n        size = [word_dict_len,word_dim],\r\n        param_attr=fluid.ParamAttr(name=embedding_name,trainable=False)\r\n    )\r\n\r\n",
        "state": "closed",
        "user": "xiaoqinghuang",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-12-04T03:36:16+00:00",
        "updated_at": "2019-12-17T11:28:34+00:00",
        "closed_at": "2019-12-17T11:28:34+00:00",
        "comments_count": [
            "Steffy-zxf",
            "xiaoqinghuang",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 265,
        "title": "在线环境docker安装的paddlehub，镜像在离线环境跑会卡住",
        "body": "在联网环境下构建了docker镜像并安装了paddlepaddle==1.6.1、paddlehub==1.4.1。\r\n执行`hub install lac==2.0.0`和`hub run lac --input_text \"今天是个好日子\"`效果正常。\r\n将镜像移到离线服务器中启动容器，执行`hub run lac --input_text \"今天是个好日子\"`后卡住，\r\n两次`Ctrl C`后，报错\"No such file or directory: '/root/.paddlehub/cache/resource_list_file.yml'\"，同时正常输出结果。\r\n经测试，执行任意hub命令行命令或import paddlehub命令都会卡住，两次`Ctrl C`后继续报错并继续执行。\r\n请问如何解决问题？",
        "state": "closed",
        "user": "bipedalBit",
        "closed_by": "bipedalBit",
        "created_at": "2019-12-17T10:02:15+00:00",
        "updated_at": "2019-12-23T04:03:13+00:00",
        "closed_at": "2019-12-19T07:49:22+00:00",
        "comments_count": [
            "bipedalBit",
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 267,
        "title": "pyramidbox_face_detection bigger input wrong bboxes coordinate",
        "body": "\r\n\r\n!hub run pyramidbox_face_detection --input_path path_to_image\r\n\r\n/home/aistudio/.paddlehub/modules/pyramidbox_face_detection/python/c0bea9f829808eae3a844e829d06a407.py\r\n\r\nBug 1st:\r\nWhen shrink is not equal to 1.0, then the coordinates of bboxes will be wrong\r\nfix:\r\nShould not should not be divided by shrink:\r\n\r\n    def postprocess(self, sign_name, data_out, data_info, **kwargs):\r\n        self.build_config(**kwargs)\r\n        self.visualization = True\r\n        if sign_name == \"face_detection\":\r\n            lod_tensor = data_out[0]\r\n            lod = lod_tensor.lod()[0]\r\n            results = np.array(data_out[0])\r\n            output = []\r\n            for index in range(len(lod) - 1):\r\n                result_i = results[lod[index]:lod[index + 1]]\r\n                shrink = data_info['image'][index]['shrink']\r\n                output_i = {\r\n                    'path': data_info['image'][index]['path'],\r\n                    'data': []\r\n                }\r\n                w = data_info['image'][index]['width']\r\n                h = data_info['image'][index]['height']\r\n                if np.prod(result_i.shape) <= 1:\r\n                    print(\"No face detected in {}\".format(data_info['image'][index]['path']))\r\n                else:\r\n                    det_conf = result_i[:, 1]\r\n                    det_xmin = w * result_i[:, 2] #/ shrink\r\n                    det_ymin = h * result_i[:, 3] #/ shrink\r\n                    det_xmax = w * result_i[:, 4] #/ shrink\r\n                    det_ymax = h * result_i[:, 5] #/ shrink\r\n                    dets = np.column_stack((det_xmin, det_ymin, det_xmax, det_ymax, det_conf))\r\n                    keep_index = np.where(dets[:, 4] >= self.score_thresh)[0]\r\n                    dets = dets[keep_index, :]\r\n                    if dets.shape[0] != 0:\r\n                        if self.visualization:\r\n                            draw_bboxes(data_info['image'][index]['path'], dets[:, 0:4])\r\n                    for dt in result_i:\r\n                        dt_i = {}\r\n                        if dt[1] < self.score_thresh:\r\n                            continue\r\n                        dt_i['left'] = float(dt[2])\r\n                        dt_i['right'] = float(dt[4])\r\n                        dt_i['top'] = float(dt[3])\r\n                        dt_i['bottom'] = float(dt[5])\r\n                        dt_i['confidence'] = float(dt[1])\r\n                        output_i['data'].append(dt_i)\r\n                    if len(output_i['data']) == 0:\r\n                        print(\"No face detected in {}\".format(data_info['image'][index]['path']))\r\n                output.append(output_i)\r\n            return output\r\n\r\nBug 2nd:\r\nSame as https://github.com/PaddlePaddle/models/issues/4082\r\nfix:\r\nto add in get_shrink:\r\n    elif max_shrink <= 0.1:\r\n        max_shrink = 0.1\r\n",
        "state": "closed",
        "user": "EthanZBY",
        "closed_by": "EthanZBY",
        "created_at": "2019-12-19T01:10:28+00:00",
        "updated_at": "2019-12-20T11:51:30+00:00",
        "closed_at": "2019-12-20T11:51:29+00:00",
        "comments_count": [
            "linshuliang",
            "EthanZBY"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 268,
        "title": "实际体验发现，文字稍微长一点，整个情感分析的计算时长成倍增加，不知道是什么原因呢",
        "body": "对这句话计算cost time\r\nresult=senta.sentiment_classify(data=input_dict)\r\n\r\n文字长度输入为：我他妈的无语了\r\n耗时在0.05534195899963379\r\n长度增加三倍：我他妈的无语了我他妈的无语了我他妈的无语了\r\n耗时在0.26111793518066406\r\n尝试几次，会有一定波动，但总体耗时还是很长了。但是有疑问在于整句话长度并不长，以bilstm的结构，在128char长度以内，一般来说10ms应该是OK的吧，在128长度以内，耗时变化应该是波动不大的吧",
        "state": "closed",
        "user": "kker43",
        "closed_by": "Steffy-zxf",
        "created_at": "2019-12-19T07:09:32+00:00",
        "updated_at": "2020-06-01T11:52:25+00:00",
        "closed_at": "2020-06-01T11:52:24+00:00",
        "comments_count": [
            "kker43",
            "Steffy-zxf",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 277,
        "title": "python2.7 安装paddlehub报错",
        "body": "<img width=\"886\" alt=\"屏幕快照 2019-12-24 下午12 15 36\" src=\"https://user-images.githubusercontent.com/9459980/71393397-4297ce80-2647-11ea-9678-a4aa815c81e9.png\">\r\n如图，这是什么问题呢，python2.7 for mac 安装paddlehub时报错，是python版本的问题？",
        "state": "closed",
        "user": "lixuan1",
        "closed_by": "lixuan1",
        "created_at": "2019-12-24T04:18:15+00:00",
        "updated_at": "2019-12-24T06:58:30+00:00",
        "closed_at": "2019-12-24T06:58:29+00:00",
        "comments_count": [
            "lixuan1",
            "nepeplwu",
            "lixuan1"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 275,
        "title": "序列标注模型输出长度与输入长度不匹配",
        "body": "使用`demo/sequence-labeling/predict.py`进行序列标注预测时，如果句子中混有英文或数字，预测结果的标记长度会短于字符串长度。\r\n如：\r\n`2019年百度发布ERNIE模型。`的标记结果为`OOB-ORGI-ORGOOOOOOO`，其中`2019`被标记为`OO`，而`ERNIE`被标记为`OOO`。",
        "state": "closed",
        "user": "hlmu",
        "closed_by": "hlmu",
        "created_at": "2019-12-24T01:35:39+00:00",
        "updated_at": "2019-12-24T08:53:51+00:00",
        "closed_at": "2019-12-24T08:53:51+00:00",
        "comments_count": [
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 283,
        "title": "hub serving web server no response on clicking Start! button on MacOS",
        "body": "The output is as below:\r\n\r\n$hub serving start -m pyramidbox_face_detection\r\n{'module': 'pyramidbox_face_detection', 'version': '1.0.0', 'category': 'CV', 'batch_size': 1, 'queue_size': 20}\r\nLoading pyramidbox_face_detection successful.\r\n * Serving Flask app \"paddlehub.serving.app_single\" (lazy loading)\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n2019-12-25 17:10:03,050-INFO:  * Running on http://0.0.0.0:8866/ (Press CTRL+C to quit)\r\n2019-12-25 17:10:04,738-INFO: 127.0.0.1 - - [25/Dec/2019 17:10:04] \"GET / HTTP/1.1\" 200 -\r\n2019-12-25 17:10:04,765-INFO: 127.0.0.1 - - [25/Dec/2019 17:10:04] \"POST /get/modules HTTP/1.1\" 200 -\r\n2019-12-25 17:10:10,123-INFO: 127.0.0.1 - - [25/Dec/2019 17:10:10] \"GET / HTTP/1.1\" 200 -\r\n2019-12-25 17:10:10,139-INFO: 127.0.0.1 - - [25/Dec/2019 17:10:10] \"POST /get/modules HTTP/1.1\" 200 -\r\n2019-12-25 17:10:11,405-INFO: 127.0.0.1 - - [25/Dec/2019 17:10:11] \"GET / HTTP/1.1\" 200 -\r\n2019-12-25 17:10:11,424-INFO: 127.0.0.1 - - [25/Dec/2019 17:10:11] \"POST /get/modules HTTP/1.1\" 200 -\r\n2019-12-25 17:10:36,711-INFO: 127.0.0.1 - - [25/Dec/2019 17:10:36] \"POST /predict/image/pyramidbox_face_detection HTTP/1.1\" 200 -\r\n2019-12-25 17:11:03,124-INFO: 127.0.0.1 - - [25/Dec/2019 17:11:03] \"POST /predict/image/pyramidbox_face_detection HTTP/1.1\" 200 -\r\n2019-12-25 17:11:03,740-INFO: 127.0.0.1 - - [25/Dec/2019 17:11:03] \"POST /predict/image/pyramidbox_face_detection HTTP/1.1\" 200 -\r\n2019-12-25 17:11:03,944-INFO: 127.0.0.1 - - [25/Dec/2019 17:11:03] \"POST /predict/image/pyramidbox_face_detection HTTP/1.1\" 200 -\r\n2019-12-25 17:11:04,134-INFO: 127.0.0.1 - - [25/Dec/2019 17:11:04] \"POST /predict/image/pyramidbox_face_detection HTTP/1.1\" 200 -\r\n2019-12-25 17:11:04,325-INFO: 127.0.0.1 - - [25/Dec/2019 17:11:04] \"POST /predict/image/pyramidbox_face_detection HTTP/1.1\" 200 -\r\n\r\nDebugger shows that:\r\nthe return data is still undefined in the code below: \r\n\r\n        to_url = \"/predict/image/\" + document.getElementById(\"inputGroupSelect02\").value;\r\n        $.ajax({\r\n                cache: true,\r\n                type: \"POST\",\r\n                url:to_url,\r\n                data:formParam,\r\n                async: false,\r\n                error: function(request) {\r\n                    alert(\"Connection error:\"+request.error);\r\n                },\r\n                success: function(data) {\r\n                    data = data[\"result\"];\r\n                    document.getElementById(\"result_text\").value = data[\"desc\"];\r\n                    document.getElementById(\"result_img\").src = data[\"output_img\"];\r\n\r\n\r\n\r\nWhile the demo script output is fine:\r\n2019-12-25 15:21:29,971-INFO: 127.0.0.1 - - [25/Dec/2019 15:21:29] \"POST /predict/image/pyramidbox_face_detection HTTP/1.1\" 500 -\r\nThe image with bbox is saved as ./output/918cad2272035ccbfc7367e57a55b9c4_zhourunfa.jpg\r\n2019-12-25 15:22:59,494-INFO: 127.0.0.1 - - [25/Dec/2019 15:22:59] \"POST /predict/image/pyramidbox_face_detection HTTP/1.1\" 200 -\r\nThe image with bbox is saved as ./output/53c8e742567a2f347df405be210a7c4f_zhourunfa.jpg\r\n2019-12-25 15:24:39,120-INFO: 127.0.0.1 - - [25/Dec/2019 15:24:39] \"POST /predict/image/pyramidbox_face_detection HTTP/1.1\" 200 -\r\nThe image with bbox is saved as ./output/a82926c7ab7a1cdf7aa4143e1519b8fa_zhourunfa.jpg\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "EthanZBY",
        "closed_by": "EthanZBY",
        "created_at": "2019-12-25T09:20:52+00:00",
        "updated_at": "2019-12-27T04:03:06+00:00",
        "closed_at": "2019-12-26T08:33:05+00:00",
        "comments_count": [
            "ShenYuhan",
            "EthanZBY",
            "EthanZBY",
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 285,
        "title": "关于提供的模型中python版本的选择",
        "body": "<img width=\"901\" alt=\"屏幕快照 2019-12-26 下午1 43 52\" src=\"https://user-images.githubusercontent.com/9459980/71460321-5f1e3d00-27e6-11ea-8c13-72a12cd35b28.png\">\r\n环境依赖写的是python2,和python3，难道代码是在2 3中通用的吗？因为据我所知，2 3 的语法结构图不能通用呀，所以你们的项目是2写的还是3写的呀？",
        "state": "closed",
        "user": "lixuan1",
        "closed_by": "lixuan1",
        "created_at": "2019-12-26T05:50:57+00:00",
        "updated_at": "2019-12-26T07:43:42+00:00",
        "closed_at": "2019-12-26T07:43:41+00:00",
        "comments_count": [
            "Steffy-zxf",
            "lixuan1",
            "Steffy-zxf",
            "lixuan1",
            "Steffy-zxf",
            "lixuan1"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 302,
        "title": "文本多标签分类，",
        "body": "![image](https://user-images.githubusercontent.com/57981389/71764068-f9386080-2f1d-11ea-91ea-be68bf8f82b9.png)\r\n\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/127824",
        "state": "closed",
        "user": "xujingsophie",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-01-04T10:15:11+00:00",
        "updated_at": "2020-03-09T09:12:15+00:00",
        "closed_at": "2020-03-09T09:12:15+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 292,
        "title": "根据multi-label-classification的demo，在predict时报错",
        "body": "[2019-12-30 15:59:22,805] [    INFO] - The best model has been loaded\r\n[2019-12-30 15:59:22,806] [    INFO] - PaddleHub predict start\r\n---------------------------------------------------------------------------EnforceNotMet                             Traceback (most recent call last)<ipython-input-15-821ac71c0544> in <module>\r\n     23 \r\n     24 index = 0\r\n---> 25 run_states = cls_task.predict(data=data)\r\n     26 results = [run_state.run_results for run_state in run_states]\r\n     27 for result in results:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/basic_task.py in predict(self, data, load_best_model)\r\n    633             self._predict_data = data\r\n    634             self._predict_start_event()\r\n--> 635             run_states = self._run()\r\n    636             self._predict_end_event(run_states)\r\n    637             self._predict_data = None\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/basic_task.py in _run(self, do_eval)\r\n    641         with fluid.program_guard(self.main_program, self.startup_program):\r\n    642             if self.config.use_pyreader:\r\n--> 643                 return self._run_with_py_reader(do_eval=do_eval)\r\n    644             return self._run_with_data_feeder(do_eval=do_eval)\r\n    645 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/basic_task.py in _run_with_py_reader(self, do_eval)\r\n    712                         fetch_result = self.exe.run(\r\n    713                             self.main_program_to_be_run,\r\n--> 714                             fetch_list=self.fetch_list)\r\n    715                     else:\r\n    716                         fetch_result = self.exe.run(\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    649                 scope=scope,\r\n    650                 return_numpy=return_numpy,\r\n--> 651                 use_program_cache=use_program_cache)\r\n    652         else:\r\n    653             if fetch_list and program._is_data_parallel and program._program and (\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run(self, program, exe, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    747         self._feed_data(program, feed, feed_var_name, scope)\r\n    748         if not use_program_cache:\r\n--> 749             exe.run(program.desc, scope, 0, True, True, fetch_var_name)\r\n    750         else:\r\n    751             exe.run_cached_prepared_ctx(ctx, scope, False, False, False)\r\nEnforceNotMet: Invoke operator read error.\r\nPython Callstacks: \r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 1771, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 1138, in read_file\r\n    type='read', inputs={'Reader': [reader]}, outputs={'Out': out})\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/basic_task.py\", line 230, in _build_env\r\n    py_vars = fluid.layers.read_file(self.env.py_reader)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/basic_task.py\", line 359, in main_program\r\n    self._build_env()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/basic_task.py\", line 641, in _run\r\n    with fluid.program_guard(self.main_program, self.startup_program):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/basic_task.py\", line 635, in predict\r\n    run_states = self._run()\r\n  File \"<ipython-input-12-a2a375151a77>\", line 10, in <module>\r\n    run_states = cls_task.predict(data=data)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3265, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3183, in run_ast_nodes\r\n    if (yield from self.run_code(code, result)):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3018, in run_cell_async\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/async_helpers.py\", line 67, in _pseudo_sync_runner\r\n    coro.send(None)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2843, in _run_cell\r\n    return runner(coro)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2817, in run_cell\r\n    raw_cell, store_history, silent, shell_futures)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/zmqshell.py\", line 536, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/ipkernel.py\", line 294, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 534, in execute_request\r\n    user_expressions, allow_stdin,\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 267, in dispatch_shell\r\n    yield gen.maybe_future(handler(stream, idents, msg))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 357, in process_one\r\n    yield gen.maybe_future(dispatch(*args))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1147, in run\r\n    yielded = self.gen.send(value)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1233, in inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/stack_context.py\", line 300, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/ioloop.py\", line 758, in _run_callback\r\n    ret = callback()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/events.py\", line 88, in _run\r\n    self._context.run(self._callback, *self._args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 1771, in _run_once\r\n    handle._run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 534, in run_forever\r\n    self._run_once()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/platform/asyncio.py\", line 132, in start\r\n    self.asyncio_loop.run_forever()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelapp.py\", line 505, in start\r\n    self.io_loop.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/traitlets/config/application.py\", line 664, in launch_instance\r\n    app.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel_launcher.py\", line 16, in <module>\r\n    app.launch_new_instance()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\nC++ Callstacks: \r\nreader_ should not be null\r\n at [/paddle/paddle/fluid/framework/reader.h:110]\r\nPaddlePaddle Call Stacks: \r\n0       0x7f6b68623d58p void paddle::platform::EnforceNotMet::Init<std::string>(std::string, char const*, int) + 360\r\n1       0x7f6b686240a7p paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int) + 87\r\n2       0x7f6b694477c2p paddle::framework::ReaderHolder::ReadNext(std::vector<paddle::framework::LoDTensor, std::allocator<paddle::framework::LoDTensor> >*) + 130\r\n3       0x7f6b6944848cp paddle::operators::ReadOp::RunImpl(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) const + 540\r\n4       0x7f6b6a5878dcp paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, boost::variant<paddle::platform::CUDAPlace, paddle::platform::CPUPlace, paddle::platform::CUDAPinnedPlace, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_, boost::detail::variant::void_> const&) + 332\r\n5       0x7f6b687ae6fep paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool) + 606\r\n6       0x7f6b687b16bfp paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::vector<std::string, std::allocator<std::string> > const&, bool) + 143\r\n7       0x7f6b68614ebdp\r\n8       0x7f6b68656166p\r\n9       0x55e8e8067744p _PyMethodDef_RawFastCallKeywords + 596\r\n10      0x55e8e8067861p _PyCFunction_FastCallKeywords + 33\r\n11      0x55e8e80d36e8p _PyEval_EvalFrameDefault + 21240\r\n12      0x55e8e8017539p _PyEval_EvalCodeWithName + 761\r\n13      0x55e8e8066f57p _PyFunction_FastCallKeywords + 903\r\n14      0x55e8e80cf8ccp _PyEval_EvalFrameDefault + 5340\r\n15      0x55e8e8017539p _PyEval_EvalCodeWithName + 761\r\n16      0x55e8e8066f57p _PyFunction_FastCallKeywords + 903\r\n17      0x55e8e80cf8ccp _PyEval_EvalFrameDefault + 5340\r\n18      0x55e8e8017539p _PyEval_EvalCodeWithName + 761\r\n19      0x55e8e8066f57p _PyFunction_FastCallKeywords + 903\r\n20      0x55e8e80cf8ccp _PyEval_EvalFrameDefault + 5340\r\n21      0x55e8e8017539p _PyEval_EvalCodeWithName + 761\r\n22      0x55e8e8066ef5p _PyFunction_FastCallKeywords + 805\r\n23      0x55e8e80cea93p _PyEval_EvalFrameDefault + 1699\r\n24      0x55e8e8017539p _PyEval_EvalCodeWithName + 761\r\n25      0x55e8e8066f57p _PyFunction_FastCallKeywords + 903\r\n26      0x55e8e80cf8ccp _PyEval_EvalFrameDefault + 5340\r\n27      0x55e8e8017539p _PyEval_EvalCodeWithName + 761\r\n28      0x55e8e8018424p PyEval_EvalCodeEx + 68\r\n29      0x55e8e801844cp PyEval_EvalCode + 28\r\n30      0x55e8e80ddf8dp\r\n31      0x55e8e80675d9p _PyMethodDef_RawFastCallKeywords + 233\r\n32      0x55e8e8067861p _PyCFunction_FastCallKeywords + 33\r\n33      0x55e8e80d2b94p _PyEval_EvalFrameDefault + 18340\r\n34      0x55e8e8070592p _PyGen_Send + 674\r\n35      0x55e8e80cfe69p _PyEval_EvalFrameDefault + 6777\r\n36      0x55e8e8070592p _PyGen_Send + 674\r\n37      0x55e8e80cfe69p _PyEval_EvalFrameDefault + 6777\r\n38      0x55e8e8070592p _PyGen_Send + 674\r\n39      0x55e8e806757dp _PyMethodDef_RawFastCallKeywords + 141\r\n40      0x55e8e806f3cfp _PyMethodDescr_FastCallKeywords + 79\r\n41      0x55e8e80d307cp _PyEval_EvalFrameDefault + 19596\r\n42      0x55e8e8066ccbp _PyFunction_FastCallKeywords + 251\r\n43      0x55e8e80ce806p _PyEval_EvalFrameDefault + 1046\r\n44      0x55e8e8066ccbp _PyFunction_FastCallKeywords + 251\r\n45      0x55e8e80cea93p _PyEval_EvalFrameDefault + 1699\r\n46      0x55e8e8017539p _PyEval_EvalCodeWithName + 761\r\n47      0x55e8e8018860p _PyFunction_FastCallDict + 1024\r\n48      0x55e8e8036e53p _PyObject_Call_Prepend + 99\r\n49      0x55e8e8029dbep PyObject_Call + 110\r\n50      0x55e8e80d0232p _PyEval_EvalFrameDefault + 7746\r\n51      0x55e8e801781ap _PyEval_EvalCodeWithName + 1498\r\n52      0x55e8e8066f57p _PyFunction_FastCallKeywords + 903\r\n53      0x55e8e80cf8ccp _PyEval_EvalFrameDefault + 5340\r\n54      0x55e8e8070059p\r\n55      0x55e8e80675d9p _PyMethodDef_RawFastCallKeywords + 233\r\n56      0x55e8e8067861p _PyCFunction_FastCallKeywords + 33\r\n57      0x55e8e80d2b94p _PyEval_EvalFrameDefault + 18340\r\n58      0x55e8e8017d09p _PyEval_EvalCodeWithName + 2761\r\n59      0x55e8e8066f57p _PyFunction_FastCallKeywords + 903\r\n60      0x55e8e80cea93p _PyEval_EvalFrameDefault + 1699\r\n61      0x55e8e8070059p\r\n62      0x55e8e80675d9p _PyMethodDef_RawFastCallKeywords + 233\r\n63      0x55e8e8067861p _PyCFunction_FastCallKeywords + 33\r\n64      0x55e8e80d2b94p _PyEval_EvalFrameDefault + 18340\r\n65      0x55e8e8017d09p _PyEval_EvalCodeWithName + 2761\r\n66      0x55e8e8066f57p _PyFunction_FastCallKeywords + 903\r\n67      0x55e8e80ce806p _PyEval_EvalFrameDefault + 1046\r\n68      0x55e8e8070059p\r\n69      0x55e8e80675d9p _PyMethodDef_RawFastCallKeywords + 233\r\n70      0x55e8e8067861p _PyCFunction_FastCallKeywords + 33\r\n71      0x55e8e80d2b94p _PyEval_EvalFrameDefault + 18340\r\n72      0x55e8e8017d09p _PyEval_EvalCodeWithName + 2761\r\n73      0x55e8e8018635p _PyFunction_FastCallDict + 469\r\n74      0x55e8e8036e53p _PyObject_Call_Prepend + 99\r\n75      0x55e8e8029dbep PyObject_Call + 110\r\n76      0x55e8e80d0232p _PyEval_EvalFrameDefault + 7746\r\n77      0x55e8e807043cp _PyGen_Send + 332\r\n78      0x55e8e806757dp _PyMethodDef_RawFastCallKeywords + 141\r\n79      0x55e8e806f3cfp _PyMethodDescr_FastCallKeywords + 79\r\n80      0x55e8e80d307cp _PyEval_EvalFrameDefault + 19596\r\n81      0x55e8e8066ccbp _PyFunction_FastCallKeywords + 251\r\n82      0x55e8e80cea93p _PyEval_EvalFrameDefault + 1699\r\n83      0x55e8e801781ap _PyEval_EvalCodeWithName + 1498\r\n84      0x55e8e8018635p _PyFunction_FastCallDict + 469\r\n85      0x55e8e80d0232p _PyEval_EvalFrameDefault + 7746\r\n86      0x55e8e8017d09p _PyEval_EvalCodeWithName + 2761\r\n87      0x55e8e8018635p _PyFunction_FastCallDict + 469\r\n88      0x55e8e8126b5bp\r\n89      0x55e8e806f8fbp _PyObject_FastCallKeywords + 1179\r\n90      0x55e8e80d2e86p _PyEval_EvalFrameDefault + 19094\r\n91      0x55e8e801856bp _PyFunction_FastCallDict + 267\r\n92      0x55e8e8036e53p _PyObject_Call_Prepend + 99\r\n93      0x55e8e806f8fbp _PyObject_FastCallKeywords + 1179\r\n94      0x55e8e8102383p\r\n95      0x55e8e8038584p _PyMethodDef_RawFastCallDict + 404\r\n96      0x55e8e80387c1p _PyCFunction_FastCallDict + 33\r\n97      0x55e8e80d4007p _PyEval_EvalFrameDefault + 23575\r\n98      0x55e8e8066ccbp _PyFunction_FastCallKeywords + 251\r\n99      0x55e8e80cea93p _PyEval_EvalFrameDefault + 1699",
        "state": "closed",
        "user": "xujingsophie",
        "closed_by": "xujingsophie",
        "created_at": "2019-12-30T09:36:29+00:00",
        "updated_at": "2020-01-03T07:44:17+00:00",
        "closed_at": "2020-01-03T07:44:17+00:00",
        "comments_count": [
            "kinghuin",
            "xujingsophie",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 329,
        "title": "use_pyreader=Fasle, use_data_parallel=True运行demo时报错",
        "body": "1）Paddle版本：1.6.2\r\n2）PaddleHub版本：1.5.0\r\n3）系统环境：Linux\r\n4）Python版本：3.7\r\n复现信息：文本分类，序列标注等demo，把use_pyreader=Fasle use_data_parallel=True，报错\r\n![image](https://user-images.githubusercontent.com/11913168/72676569-8ad2d100-3acd-11ea-82f0-7dfa3befcbae.png)\r\n\r\n",
        "state": "closed",
        "user": "kinghuin",
        "closed_by": "kinghuin",
        "created_at": "2020-01-19T06:55:55+00:00",
        "updated_at": "2020-01-19T07:08:50+00:00",
        "closed_at": "2020-01-19T07:08:50+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 325,
        "title": "[BUG]ModuleNotFoundError: No module named 'paddlehub.dataset.base_nlp_dataset'",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub1.4.1，PaddlePaddle1.6.1\r\n2）系统环境：Windows，python3.7版本\r\nModuleNotFoundError: No module named 'paddlehub.dataset.base_nlp_dataset'\r\n确实没有这个接口，base_cv倒是有，情感分析数据集成的是HubDataset",
        "state": "closed",
        "user": "DC-Lin",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-01-17T15:10:59+00:00",
        "updated_at": "2020-03-09T09:12:48+00:00",
        "closed_at": "2020-03-09T09:12:48+00:00",
        "comments_count": [
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf"
        ],
        "labels": [
            "help wanted",
            "good first issue"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 326,
        "title": "[BUG]多标签分类，有三个标签，最后的pre是什么东西",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：Linux，python3.7版本\r\n- 复现信息：\r\n![image](https://user-images.githubusercontent.com/38984443/72660653-80e89980-3a0b-11ea-9751-5458c6eb3eb4.png)\r\n多标签分类，有三个标签，最后的pre是什么东西\r\n得分？概率？",
        "state": "closed",
        "user": "DC-Lin",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-01-18T08:00:07+00:00",
        "updated_at": "2020-03-09T09:13:44+00:00",
        "closed_at": "2020-03-09T09:13:44+00:00",
        "comments_count": [
            "DC-Lin",
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf",
            "DC-Lin",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": [
            "help wanted",
            "document"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 331,
        "title": "[Feature] PaddleHub 1.5.0 feature",
        "body": "补充PaddleHub 1.5.0 release note：\r\n\r\n* 升级PaddleHub Serving，提升性能和易用性\r\n   * 新增文本Embedding服务[Bert Service](./tutorial/bert_service.md), 轻松获取文本embedding；\r\n      * 代码精短，易于使用。服务端/客户端一行命令即可获取文本embedding；  \r\n      * 更高性能，更高效率。通过Paddle AnalysisPredictor API优化计算图，提升速度减小显存占用\r\n      * 随\"机\"应变，灵活扩展。根据机器资源和实际需求可灵活增加服务端数量，支持多显卡多模型计算任务\r\n   * 优化并发方式，多核环境中使用多线程并发提高整体QPS\r\n\r\n* 优化Task，提升易用性\r\n   * 增加Hook机制，支持[修改Task内置方法](https://github.com/PaddlePaddle/PaddleHub/wiki/%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9Task%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95%EF%BC%9F)\r\n   * 增加colorlog，支持日志彩色显示\r\n   * 保存模型，使用save_inference_model接口，方便用户导出模型\r\n   * 优化predict接口，增加return_result参数，方便用户直接获取预测结果\r\n\r\n* 优化Dataset，加载[自定义数据](https://github.com/PaddlePaddle/PaddleHub/wiki/PaddleHub%E9%80%82%E9%85%8D%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E5%AE%8C%E6%88%90FineTune)代码更少、更简单",
        "state": "closed",
        "user": "Steffy-zxf",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-01-20T03:27:54+00:00",
        "updated_at": "2020-01-20T09:38:56+00:00",
        "closed_at": "2020-01-20T09:38:56+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 333,
        "title": "[Doc]Bert Service文档优化",
        "body": "Bert Service文档优化：\r\n- 按照先why后what形式重新整理文档\r\n- 模型列表信息重新校对",
        "state": "closed",
        "user": "ShenYuhan",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-01-20T05:09:03+00:00",
        "updated_at": "2020-02-03T02:26:08+00:00",
        "closed_at": "2020-02-03T02:26:08+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 336,
        "title": "[BUG]PaddleHub v1.5.0加载module出错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub v1.5.0，PaddlePaddle1.6.2\r\n2）系统环境：/Windows/MacOS/，python2/3\r\n- 复现信息：\r\n本地未安装ERNIE module，加载module出错\r\n```python\r\nimport paddlehub as hub\r\nhub.Module(name='ernie')\r\n```\r\n![image](https://user-images.githubusercontent.com/48793257/73803170-eb1a8000-47fa-11ea-98f8-a1afd67d2d71.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "Steffy-zxf",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-05T01:36:24+00:00",
        "updated_at": "2020-02-05T05:43:40+00:00",
        "closed_at": "2020-02-05T05:43:40+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 349,
        "title": "请问口罩检测支持自定义数据完成finetune吗？",
        "body": "https://aistudio.baidu.com/aistudio/projectDetail/267322",
        "state": "closed",
        "user": "zhaoxuyan",
        "closed_by": "zhaoxuyan",
        "created_at": "2020-02-15T08:33:50+00:00",
        "updated_at": "2020-02-15T08:34:53+00:00",
        "closed_at": "2020-02-15T08:34:53+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 337,
        "title": "[Feature]wiki文档迁移至readthedocs平台",
        "body": "wiki文档无法适配版本变化，用户不易发现，故将文档迁移至readthedocs平台\r\n",
        "state": "closed",
        "user": "Steffy-zxf",
        "closed_by": "nepeplwu",
        "created_at": "2020-02-05T07:34:03+00:00",
        "updated_at": "2020-02-07T09:26:05+00:00",
        "closed_at": "2020-02-07T09:26:05+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 339,
        "title": "序列标注自定义数据集报keyerror",
        "body": "平台：aistudio\r\npaddlehub版本：1.5.0\r\n使用模型版本：ernie-1.1.0\r\n\r\n我参照的项目：\r\n《PaddleHub实战——使用语义预训练模型ERNIE优化信息抽取》\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/184200\r\n\r\n我的数据集格式不同是中间没有分隔符‘\u0002’，和官方例子中的MSRA_NER()的格式是一样\r\n但一直报错，而且相似的还报好几个，这是什么原因？\r\n`2020-02-06 14:58:53,414-WARNING: Your decorated reader has raised an exception!\r\nException in thread Thread-9:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 474, in __provider_thread__\r\n    six.reraise(*sys.exc_info())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py\", line 693, in reraise\r\n    raise value\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 455, in __provider_thread__\r\n    for tensors in func():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 506, in __tensor_provider__\r\n    for slots in paddle_reader():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/data_feeder.py\", line 488, in __reader_creator__\r\n    for item in reader():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/nlp_reader.py\", line 257, in wrapper\r\n    examples, batch_size, phase=phase):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/nlp_reader.py\", line 187, in _prepare_batch_data\r\n    self.tokenizer, phase)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/nlp_reader.py\", line 463, in _convert_example_to_record\r\n    for label in labels] + [no_entity_id]\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/nlp_reader.py\", line 463, in <listcomp>\r\n    for label in labels] + [no_entity_id]\r\nKeyError: 'OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO'`",
        "state": "closed",
        "user": "Stephen-L-Woo",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-06T11:11:27+00:00",
        "updated_at": "2020-03-09T09:14:17+00:00",
        "closed_at": "2020-03-09T09:14:17+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Stephen-L-Woo",
            "Steffy-zxf"
        ],
        "labels": [
            "help wanted"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 344,
        "title": "运行task.finetune_and_eval()报错，提示我创建一个issues ",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n代码如下：\r\n#!/usr/bin/env python\r\n# coding: utf-8\r\n\r\n# # 如何使用PaddleHub进行图像分类\r\n# \r\n\r\nget_ipython().system('pip install --upgrade paddlehub -i https://pypi.tuna.tsinghua.edu.cn/simple')\r\n\r\n# -*- coding: utf8 -*-\r\nimport paddlehub as hub\r\n\r\n\r\n\r\n#module = hub.Module(name=\"resnet_v2_50_imagenet\")\r\nget_ipython().system('hub install mobilenet_v2_imagenet==1.0.1')\r\n\r\nmodule = hub.Module(name=\"mobilenet_v2_imagenet\")\r\n\r\n\r\n# PaddleHub 还有着许多的图像分类预训练模型，更多信息参见[PaddleHub官方网站](https://www.paddlepaddle.org.cn/hub)\r\n\r\n# ## 三、数据准备\r\n\r\n# 解压数据\r\nget_ipython().system('cd data/data20782/ && unzip -qo train.zip ')\r\n\r\n\r\n# 直接用PaddleHub提供的数据集\r\n# dataset = hub.dataset.DogCat()\r\n\r\nfrom paddlehub.dataset.base_cv_dataset import BaseCVDataset\r\n   \r\nclass DemoDataset(BaseCVDataset):\t\r\n  def __init__(self):\t\r\n      # 数据集存放位置\r\n      self.dataset_dir = \"data/data20782/train\"\r\n      super(DemoDataset, self).__init__(\r\n          base_path=self.dataset_dir,\r\n          train_list_file=\"train_list.txt\",\r\n          validate_list_file=\"validate_list.txt\",\r\n          test_list_file=\"test_list.txt\",\r\n          label_list_file=\"label_list.txt\"\r\n          )\r\ndataset = DemoDataset()\r\n\r\nprint(\"自定义数据集\")\r\n\r\n\r\n# ## 四、生成Reader\r\n\r\n\r\ndata_reader = hub.reader.ImageClassificationReader(\r\n    image_width=module.get_expected_image_width(),\r\n    image_height=module.get_expected_image_height(),\r\n    images_mean=module.get_pretrained_images_mean(),\r\n    images_std=module.get_pretrained_images_std(),\r\n    dataset=dataset)\r\n\r\nprint(data_reader)\r\n\r\n\r\n# ## 五、选择运行时配置\r\n\r\n\r\nconfig = hub.RunConfig(\r\n    use_data_parallel = True,\r\n    use_cuda=True,\r\n    num_epoch=1,\r\n    checkpoint_dir=\"work/cv_train_checkpoint\",\r\n    batch_size=32,\r\n    eval_interval=50,\r\n    strategy=hub.finetune.strategy.DefaultFinetuneStrategy())\r\n\r\n\r\n# ## 六、组建Finetune Task\r\n\r\ninput_dict, output_dict, program = module.context(trainable=True)\r\n\r\n# Setup feed list for data feeder\r\nfeed_list = [input_dict[\"image\"].name]\r\nimg = input_dict[\"image\"]\r\nfeed_list = [img.name]\r\n\r\nfeature_map = output_dict[\"feature_map\"]\r\n\r\nprint(dataset.num_labels)\r\n\r\ntask = hub.ImageClassifierTask(\r\n    data_reader=data_reader,\r\n    feed_list=feed_list,\r\n    feature=feature_map,\r\n    num_classes=dataset.num_labels,\r\n    config=config)\r\n\r\n\r\n# ## 七、开始Finetune\r\n\r\ntask.finetune_and_eval()\r\n\r\n# 报错如下 \r\n[2020-02-12 00:54:42,952] [    INFO] - Try loading checkpoint from work/cv_train_checkpoint/ckpt.meta\r\n[2020-02-12 00:54:42,954] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-02-12 00:54:42,955] [    INFO] - PaddleHub finetune start\r\n2020-02-12 00:54:42,957-WARNING: Your decorated reader has raised an exception!\r\nException in thread Thread-23:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 474, in __provider_thread__\r\n    six.reraise(*sys.exc_info())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py\", line 693, in reraise\r\n    raise value\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 455, in __provider_thread__\r\n    for tensors in func():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 506, in __tensor_provider__\r\n    for slots in paddle_reader():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/data_feeder.py\", line 488, in __reader_creator__\r\n    for item in reader():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/batch.py\", line 58, in batch_reader\r\n    for instance in r:\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/cv_reader.py\", line 145, in _data_reader\r\n    image = preprocess(image_path)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/cv_reader.py\", line 112, in preprocess\r\n    image = Image.open(image_path)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/PIL/Image.py\", line 2766, in open\r\n    fp = builtins.open(filename, \"rb\")\r\nFileNotFoundError: [Errno 2] No such file or directory: 'data/data20782/train/InRoom_Yes/IMG_20200210_084729.jpg\\t0'\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py:779: UserWarning: The following exception is not an EOF exception.\r\n  \"The following exception is not an EOF exception.\")\r\n---------------------------------------------------------------------------EnforceNotMet                             Traceback (most recent call last)<ipython-input-61-117cac863186> in <module>\r\n----> 1 task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n    761 \r\n    762     def finetune_and_eval(self):\r\n--> 763         return self.finetune(do_eval=True)\r\n    764 \r\n    765     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n    773                 while self.current_epoch <= self.config.num_epoch:\r\n    774                     self.config.strategy.step()\r\n--> 775                     run_states = self._run(do_eval=do_eval)\r\n    776                     self.env.current_epoch += 1\r\n    777 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n    826         with fluid.program_guard(self.main_program, self.startup_program):\r\n    827             if self.config.use_pyreader:\r\n--> 828                 return self._run_with_py_reader(do_eval=do_eval)\r\n    829             return self._run_with_data_feeder(do_eval=do_eval)\r\n    830 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run_with_py_reader(self, do_eval)\r\n    904                         fetch_result = self.exe.run(\r\n    905                             self.main_program_to_be_run,\r\n--> 906                             fetch_list=self.fetch_list)\r\n    907                     else:\r\n    908                         fetch_result = self.exe.run(\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    778                 warnings.warn(\r\n    779                     \"The following exception is not an EOF exception.\")\r\n--> 780             six.reraise(*sys.exc_info())\r\n    781 \r\n    782     def _run_impl(self, program, feed, fetch_list, feed_var_name,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py in reraise(tp, value, tb)\r\n    691             if value.__traceback__ is not tb:\r\n    692                 raise value.with_traceback(tb)\r\n--> 693             raise value\r\n    694         finally:\r\n    695             value = None\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    773                 scope=scope,\r\n    774                 return_numpy=return_numpy,\r\n--> 775                 use_program_cache=use_program_cache)\r\n    776         except Exception as e:\r\n    777             if not isinstance(e, core.EOFException):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run_impl(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    820                 scope=scope,\r\n    821                 return_numpy=return_numpy,\r\n--> 822                 use_program_cache=use_program_cache)\r\n    823 \r\n    824         program._compile(scope, self.place)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run_program(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    897         if not use_program_cache:\r\n    898             self._default_executor.run(program.desc, scope, 0, True, True,\r\n--> 899                                        fetch_var_name)\r\n    900         else:\r\n    901             self._default_executor.run_cached_prepared_ctx(ctx, scope, False,\r\nEnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<std::string const&>(std::string const&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2   paddle::operators::ReadOp::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n3   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, paddle::platform::Place const&)\r\n4   paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool)\r\n5   paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::vector<std::string, std::allocator<std::string> > const&, bool)\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2488, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 872, in read_file\r\n    type='read', inputs={'Reader': [reader]}, outputs={'Out': out})\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 352, in _build_env\r\n    py_vars = fluid.layers.read_file(self.env.py_reader)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 474, in main_program\r\n    self._build_env()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 732, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 297, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 769, in finetune\r\n    self.init_if_necessary()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 763, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"<ipython-input-60-035a73d4265a>\", line 1, in <module>\r\n    run_states = task.finetune_and_eval()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3265, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3183, in run_ast_nodes\r\n    if (yield from self.run_code(code, result)):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3018, in run_cell_async\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/async_helpers.py\", line 67, in _pseudo_sync_runner\r\n    coro.send(None)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2843, in _run_cell\r\n    return runner(coro)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2817, in run_cell\r\n    raw_cell, store_history, silent, shell_futures)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/zmqshell.py\", line 536, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/ipkernel.py\", line 294, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 534, in execute_request\r\n    user_expressions, allow_stdin,\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 267, in dispatch_shell\r\n    yield gen.maybe_future(handler(stream, idents, msg))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 357, in process_one\r\n    yield gen.maybe_future(dispatch(*args))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1147, in run\r\n    yielded = self.gen.send(value)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1233, in inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/stack_context.py\", line 300, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/ioloop.py\", line 758, in _run_callback\r\n    ret = callback()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/events.py\", line 88, in _run\r\n    self._context.run(self._callback, *self._args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 1771, in _run_once\r\n    handle._run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 534, in run_forever\r\n    self._run_once()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/platform/asyncio.py\", line 132, in start\r\n    self.asyncio_loop.run_forever()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelapp.py\", line 505, in start\r\n    self.io_loop.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/traitlets/config/application.py\", line 664, in launch_instance\r\n    app.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel_launcher.py\", line 16, in <module>\r\n    app.launch_new_instance()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Paddle internal Check failed. (Please help us create a new issue, here we need to find the developer to add a user friendly error message)\r\n  [Hint: reader_ should not be null.] at (/paddle/paddle/fluid/framework/reader.h:110)\r\n  [operator < read > error]",
        "state": "closed",
        "user": "sdjkxhb2016",
        "closed_by": "sdjkxhb2016",
        "created_at": "2020-02-11T17:00:37+00:00",
        "updated_at": "2020-02-14T13:51:14+00:00",
        "closed_at": "2020-02-14T13:51:14+00:00",
        "comments_count": [
            "Steffy-zxf",
            "sdjkxhb2016"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 350,
        "title": "图像分类finetune 网络输入图片尺寸修改",
        "body": "1. 请问在使用时图像分类finetune，网络输入尺寸可以修改吗？\r\n2. 图像分类finetune时有没有数据增强的功能？",
        "state": "closed",
        "user": "cchan19",
        "closed_by": "cchan19",
        "created_at": "2020-02-16T03:04:03+00:00",
        "updated_at": "2020-02-17T06:34:47+00:00",
        "closed_at": "2020-02-17T06:34:47+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": [
            "help wanted"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 351,
        "title": "[BUG]复现示例代码时报错",
        "body": "\r\nPaddleHub 1.5.1\r\nWindows系统\r\nPython3.7\r\n照搬示例代码，图片路径确认无误。前期安装加载顺利，最后出结果的时候一直报错：TypeError: 'NoneType' object is not subscriptable。具体见下图\r\n![image](https://user-images.githubusercontent.com/42575388/74602643-cf11bb00-50e5-11ea-8125-78706d264bf0.png)\r\n\r\n![image](https://user-images.githubusercontent.com/42575388/74602648-e3ee4e80-50e5-11ea-9b63-b30811bd7a69.png)\r\n![image](https://user-images.githubusercontent.com/42575388/74602652-f072a700-50e5-11ea-8714-1c00580ab462.png)\r\n",
        "state": "closed",
        "user": "skywalkerhao",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-16T09:59:40+00:00",
        "updated_at": "2020-04-20T12:14:02+00:00",
        "closed_at": "2020-04-20T12:14:02+00:00",
        "comments_count": [
            "nepeplwu",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 352,
        "title": "[BUG]无法使用GPU推理",
        "body": "- 版本、环境信息\r\n1）paddlehub                 1.5.1                  \r\npaddlepaddle-gpu          1.6.3\r\n2）系统环境：Linux，python3.7\r\n- 复现信息：\r\n使用口罩检测：\r\n使用flask搭建服务端\r\nresults = module.face_detection(data=input_dict，use_gpu=True)\r\n\r\n设置use_gpu=True后，使用nvidia-smi查看，并无显存占用，推理时间与cpu无差别\r\n\r\n",
        "state": "closed",
        "user": "lim-0",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-17T02:28:33+00:00",
        "updated_at": "2020-03-09T09:15:27+00:00",
        "closed_at": "2020-03-09T09:15:26+00:00",
        "comments_count": [
            "nepeplwu",
            "lim-0",
            "nepeplwu",
            "lim-0",
            "nepeplwu",
            "lim-0",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 353,
        "title": "[BUG]PaddleHub口罩检测，疑似GPU，CUDA设置无效",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\npaddlehub                     1.5.0 \r\npaddlepaddle-gpu              1.6.3.post97\r\n2）系统环境：4.15.0-76-generic #86~16.04.1-Ubuntu，\r\npython版本: Python 2.7.12 (default, Oct  8 2019, 14:14:10) \r\n                    [GCC 5.4.0 20160609] on linux2\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n### 核心代码:\r\n` cap = cv2.VideoCapture(0）`\r\n` success ,frame = cap.read()`\r\n` module = hub.Module(name=\"pyramidbox_lite_mobile_mask\")`\r\n` input_dict = {\"data\": [frame ]} `\r\n`results = module.face_detection(data=input_dict, use_cuda=True, use_gpu=True, batch_size=1）`\r\n### ~/.bashrc 添加:\r\n`export CUDA_VISIBLE_DEVICES=0`\r\n### 执行命令\r\n`CUDA_VISIBLE_DEVICES='0' python paddle_mask.py `\r\n### 进程信息\r\n**nvidia-smi**\r\n                 ` 0     27717      C   python                                      3549MiB `\r\n**top**\r\n` 7995   root     20   0  24.060g  396740  182028 S     83.1        4.9   0:08.06    python `\r\n### 反馈\r\n**GPU推理时间 与 CPU (取消相关GPU设置)推理，做过对比， 推理时间相差无多，均在87ms~170ms波动。**\r\n",
        "state": "closed",
        "user": "Luna2199",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-17T03:16:56+00:00",
        "updated_at": "2020-06-01T11:52:48+00:00",
        "closed_at": "2020-06-01T11:52:47+00:00",
        "comments_count": [
            "nepeplwu",
            "Luna2199",
            "nepeplwu",
            "Luna2199",
            "Luna2199",
            "Luna2199",
            "Luna2199",
            "nepeplwu",
            "nepeplwu",
            "Luna2199",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 354,
        "title": "[BUG]使用http post方式进行预测，返回的结果图片和result data信息不一致",
        "body": "\r\n1）PaddleHub1.5.1，PaddlePaddle1.6.2\r\n2）系统环境：win10，python版本3.7\r\n- 使用hub serving start -m pyramidbox_lite_server_mask -p 8866启动服务。\r\n-使用http post方式进行预测，同时使用wireshark进行抓包，一张图片上有四个戴口罩的人脸，服务器返回的图片上也能看到检测结果，有四个戴口罩人脸检测结果。\r\n-问题是返回的json字符串中，result里面只有一个戴口罩人脸位置信息。",
        "state": "closed",
        "user": "zhouhaitao1023",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-17T05:29:06+00:00",
        "updated_at": "2020-03-09T09:16:49+00:00",
        "closed_at": "2020-03-09T09:16:49+00:00",
        "comments_count": [
            "ShenYuhan",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 359,
        "title": "[BUG]",
        "body": "paddleHub 安装失败：\r\n命令：\r\n但是结果python import paddle 失败：\r\nInstalling collected packages: nltk, sentencepiece, protobuf, tb-paddle, gunicorn, cma, mccabe, pycodestyle, pyflakes, entrypoints, flake8, aspy.yaml, toml, nodeenv, cfgv, zipp, importlib-metadata, identify, distlib, appdirs, filelock, virtualenv, pre-commit, pyasn1, rsa, pyasn1-modules, cachetools, google-auth, oauthlib, requests-oauthlib, google-auth-oauthlib, grpcio, markdown, absl-py, tensorboard, colorlog, yapf, pytz, python-dateutil, pandas, paddlehub\r\n  Found existing installation: gunicorn 19.9.0\r\n    Uninstalling gunicorn-19.9.0:\r\n      Successfully uninstalled gunicorn-19.9.0\r\nSuccessfully installed absl-py-0.9.0 appdirs-1.4.3 aspy.yaml-1.3.0 cachetools-4.0.0 cfgv-3.0.0 cma-2.7.0 colorlog-4.1.0 distlib-0.3.0 entrypoints-0.3 filelock-3.0.12 flake8-3.7.9 google-auth-1.11.2 google-auth-oauthlib-0.4.1 grpcio-1.27.2 gunicorn-20.0.4 identify-1.4.11 importlib-metadata-1.5.0 markdown-3.2.1 mccabe-0.6.1 nltk-3.4.5 nodeenv-1.3.5 oauthlib-3.1.0 paddlehub-1.5.1 pandas-1.0.1 pre-commit-2.0.1 protobuf-3.11.3 pyasn1-0.4.8 pyasn1-modules-0.2.8 pycodestyle-2.5.0 pyflakes-2.1.1 python-dateutil-2.8.1 pytz-2019.3 requests-oauthlib-1.3.0 rsa-4.0 sentencepiece-0.1.85 tb-paddle-0.4.0 tensorboard-2.1.0 toml-0.10.0 virtualenv-20.0.4 yapf-0.26.0 zipp-3.0.0\r\nsh-4.2# \r\nsh-4.2# \r\nsh-4.2#       python \r\nPython 3.7.3 (default, Mar 27 2019, 22:11:17) \r\n[GCC 7.3.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/opt/conda/lib/python3.7/site-packages/paddlehub/__init__.py\", line 25, in <module>\r\n    from . import module\r\n  File \"/opt/conda/lib/python3.7/site-packages/paddlehub/module/__init__.py\", line 16, in <module>\r\n    from . import module\r\n  File \"/opt/conda/lib/python3.7/site-packages/paddlehub/module/module.py\", line 30, in <module>\r\n    import paddle\r\nModuleNotFoundError: No module named 'paddle'\r\n",
        "state": "closed",
        "user": "liuwen-nj",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-18T04:55:16+00:00",
        "updated_at": "2020-03-09T09:17:45+00:00",
        "closed_at": "2020-03-09T09:17:45+00:00",
        "comments_count": [
            "nepeplwu",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 355,
        "title": "口罩本地预测结果图片",
        "body": "你好：\r\n我想问下我在电脑本地预测是否戴口罩，结果已经返回，但是结果图片在哪里？是否要自己打异常标记框在原始图片上？还是说本身有结果图片输出？\r\n谢谢",
        "state": "closed",
        "user": "MasonYangD",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-17T09:35:13+00:00",
        "updated_at": "2020-03-09T09:17:25+00:00",
        "closed_at": "2020-03-09T09:17:24+00:00",
        "comments_count": [
            "nepeplwu",
            "MasonYangD",
            "nepeplwu",
            "MasonYangD",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 361,
        "title": "[BUG]",
        "body": "用win10  python3.6安装paddlehub时报错",
        "state": "closed",
        "user": "fengzifrank",
        "closed_by": "fengzifrank",
        "created_at": "2020-02-18T06:52:19+00:00",
        "updated_at": "2020-02-18T07:38:59+00:00",
        "closed_at": "2020-02-18T07:38:59+00:00",
        "comments_count": [
            "fengzifrank",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 360,
        "title": "task.load_parameters(args.model_path)中model_path有例子吗 该如何利用这个参数进行增量训练",
        "body": "task.load_parameters(args.model_path)中model_path有例子吗 该如何利用这个参数进行增量训练",
        "state": "closed",
        "user": "Kaiser-love",
        "closed_by": "Kaiser-love",
        "created_at": "2020-02-18T05:57:51+00:00",
        "updated_at": "2020-02-18T09:40:52+00:00",
        "closed_at": "2020-02-18T09:40:52+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Kaiser-love"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 363,
        "title": "[BUG]安装时候import发生错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.5.1，PaddlePaddle1.6.3\r\n2）系统环境：win10, python=3.7.0\r\n\r\n无论是import paddle.fluid还是import paddlehub或者直接hub run都会提示\r\n缺少msys-lzma-1.dll，重新安装可能解决此问题，但是我重新安装了还是这样\r\n",
        "state": "closed",
        "user": "BI4O",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-19T02:55:56+00:00",
        "updated_at": "2020-03-09T09:18:03+00:00",
        "closed_at": "2020-03-09T09:18:03+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 364,
        "title": "人面口罩检测模型，怎样可以只返回json不返回图片",
        "body": "可以设置吗？还是必须返回图片？",
        "state": "closed",
        "user": "yujingyang666",
        "closed_by": "haoyuying",
        "created_at": "2020-02-19T06:42:12+00:00",
        "updated_at": "2020-10-22T10:46:34+00:00",
        "closed_at": "2020-10-22T10:46:34+00:00",
        "comments_count": [
            "Steffy-zxf",
            "yujingyang666",
            "ShenYuhan",
            "yujingyang666",
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 369,
        "title": "口罩预测hub install 下载模型时报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nwindows。python环境3.6\r\nC:\\Users\\qingshuang.pang\\Documents\\P6_face_detection\\code> hub install pyramidbox_lite_mobile_mask==1.0.0\r\nTraceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\contrib\\pyopenssl.py\", line 485, in wrap_socket\r\n    cnx.do_handshake()\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\OpenSSL\\SSL.py\", line 1934, in do_handshake\r\n    self._raise_ssl_error(self._ssl, result)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\OpenSSL\\SSL.py\", line 1671, in _raise_ssl_error\r\n    _raise_current_error()\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\OpenSSL\\_util.py\", line 54, in exception_from_error_queue\r\n    raise exception_type(errors)\r\nOpenSSL.SSL.Error: [('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 672, in urlopen\r\n    chunked=chunked,\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 376, in _make_request\r\n    self._validate_conn(conn)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 994, in _validate_conn\r\n    conn.connect()\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\connection.py\", line 394, in connect\r\n    ssl_context=context,\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\util\\ssl_.py\", line 370, in ssl_wrap_socket\r\n    return context.wrap_socket(sock, server_hostname=server_hostname)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\contrib\\pyopenssl.py\", line 491, in wrap_socket\r\n    raise ssl.SSLError(\"bad handshake: %r\" % e)\r\nssl.SSLError: (\"bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')],)\",)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\adapters.py\", line 449, in send\r\n    timeout=timeout\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 720, in urlopen\r\n    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\util\\retry.py\", line 436, in increment\r\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\r\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='bj.bcebos.com', port=443): Max retries exceeded with url: /paddlehub/paddlehub_dev/pyramidbox_lite_mobile_mask.tar.gz (Caused by SSLError(SSLError(\"bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')],)\",),))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"c:\\programdata\\anaconda3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\ProgramData\\Anaconda3\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\install.py\", line 65, in execute\r\n    extra=extra)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 160, in install_module\r\n    print_progress=True)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\common\\downloader.py\", line 73, in download_file\r\n    r = requests.get(url, stream=True)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\api.py\", line 75, in get\r\n    return request('get', url, params=params, **kwargs)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\api.py\", line 60, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\sessions.py\", line 533, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\sessions.py\", line 646, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\adapters.py\", line 514, in send\r\n    raise SSLError(e, request=request)\r\nrequests.exceptions.SSLError: HTTPSConnectionPool(host='bj.bcebos.com', port=443): Max retries exceeded with url: /paddlehub/paddlehub_dev/pyramidbox_lite_mobile_mask.tar.gz (Caused by SSLError(SSLError(\"bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')],)\",),))\r\n\r\nC:\\Users\\qingshuang.pang\\Documents\\P6_face_detection\\code> hub install pyramidbox_lite_mobile_mask==1.0.1\r\nTraceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\contrib\\pyopenssl.py\", line 485, in wrap_socket\r\n    cnx.do_handshake()\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\OpenSSL\\SSL.py\", line 1934, in do_handshake\r\n    self._raise_ssl_error(self._ssl, result)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\OpenSSL\\SSL.py\", line 1671, in _raise_ssl_error\r\n    _raise_current_error()\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\OpenSSL\\_util.py\", line 54, in exception_from_error_queue\r\n    raise exception_type(errors)\r\nOpenSSL.SSL.Error: [('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 672, in urlopen\r\n    chunked=chunked,\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 376, in _make_request\r\n    self._validate_conn(conn)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 994, in _validate_conn\r\n    conn.connect()\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\connection.py\", line 394, in connect\r\n    ssl_context=context,\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\util\\ssl_.py\", line 370, in ssl_wrap_socket\r\n    return context.wrap_socket(sock, server_hostname=server_hostname)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\contrib\\pyopenssl.py\", line 491, in wrap_socket\r\n    raise ssl.SSLError(\"bad handshake: %r\" % e)\r\nssl.SSLError: (\"bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')],)\",)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\adapters.py\", line 449, in send\r\n    timeout=timeout\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 720, in urlopen\r\n    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\urllib3\\util\\retry.py\", line 436, in increment\r\n    raise MaxRetryError(_pool, url, error or ResponseError(cause))\r\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='bj.bcebos.com', port=443): Max retries exceeded with url: /paddlehub/paddlehub_dev/pyramidbox_lite_mobile_mask_1.0.1.tar.gz (Caused by SSLError(SSLError(\"bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')],)\",),))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"c:\\programdata\\anaconda3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\ProgramData\\Anaconda3\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\install.py\", line 65, in execute\r\n    extra=extra)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 160, in install_module\r\n    print_progress=True)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\common\\downloader.py\", line 73, in download_file\r\n    r = requests.get(url, stream=True)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\api.py\", line 75, in get\r\n    return request('get', url, params=params, **kwargs)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\api.py\", line 60, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\sessions.py\", line 533, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\sessions.py\", line 646, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\requests\\adapters.py\", line 514, in send\r\n    raise SSLError(e, request=request)\r\nrequests.exceptions.SSLError: HTTPSConnectionPool(host='bj.bcebos.com', port=443): Max retries exceeded with url: /paddlehub/paddlehub_dev/pyramidbox_lite_mobile_mask_1.0.1.tar.gz (Caused by SSLError(SSLError(\"bad handshake: Error([('SSL routines', 'tls_process_server_certificate', 'certificate verify failed')],)\",),))\r\n",
        "state": "closed",
        "user": "shaibearary",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-20T09:43:01+00:00",
        "updated_at": "2020-03-09T09:19:00+00:00",
        "closed_at": "2020-03-09T09:19:00+00:00",
        "comments_count": [
            "ShenYuhan",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 365,
        "title": "[Feature]paddlehub离线安装&&口罩检测",
        "body": "请问paddlehub可否离线安装？\r\n口罩检测可否离线测试？\r\n谢谢\r\n",
        "state": "closed",
        "user": "jetyingjia",
        "closed_by": "jetyingjia",
        "created_at": "2020-02-19T08:13:53+00:00",
        "updated_at": "2020-02-20T05:43:44+00:00",
        "closed_at": "2020-02-20T05:43:44+00:00",
        "comments_count": [
            "nepeplwu",
            "jetyingjia",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 377,
        "title": "Move C++ deploy demo into demo/mask_detection/cpp",
        "body": "",
        "state": "closed",
        "user": "ZeyuChen",
        "closed_by": "ZeyuChen",
        "created_at": "2020-02-24T13:51:57+00:00",
        "updated_at": "2020-02-24T14:41:47+00:00",
        "closed_at": "2020-02-24T14:41:47+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 370,
        "title": "想问一下PaddleCV下面有关train文件的问题",
        "body": "![image](https://user-images.githubusercontent.com/40067956/74935343-0ef8db00-5423-11ea-883d-40be035ebe4f.png)\r\n您好，我想问一下train.py运行的时候，这些arg是在哪个文件定义的，我实在找不到了，希望解答，我用hub的时候需要用，谢谢老师",
        "state": "closed",
        "user": "LilyCaiZL",
        "closed_by": "ZeyuChen",
        "created_at": "2020-02-20T12:54:14+00:00",
        "updated_at": "2020-03-07T07:33:06+00:00",
        "closed_at": "2020-03-07T07:33:06+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ZeyuChen"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 379,
        "title": "Remove useless copyright precommit hook",
        "body": "Remove useless copyright precommit hook",
        "state": "closed",
        "user": "ZeyuChen",
        "closed_by": "ZeyuChen",
        "created_at": "2020-02-24T14:42:34+00:00",
        "updated_at": "2020-02-24T14:47:00+00:00",
        "closed_at": "2020-02-24T14:47:00+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 371,
        "title": "服务器部署设为守护进程，使其脱离终端后提供服务",
        "body": "请问在服务器部署好模型后，关闭访问终端，模型就没有办法提供服务该如何解决，如何将其设置为守护进程呢",
        "state": "closed",
        "user": "omtbreak",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-21T02:23:34+00:00",
        "updated_at": "2020-03-09T09:11:39+00:00",
        "closed_at": "2020-03-09T09:11:39+00:00",
        "comments_count": [
            "ShenYuhan",
            "omtbreak",
            "ShenYuhan",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 372,
        "title": "默认依赖的imageio只兼容py3",
        "body": "python2环境\r\npip install paddlehub\r\n![image](https://user-images.githubusercontent.com/35550832/75000124-7309b680-5498-11ea-9826-d152d16a9363.png)\r\n",
        "state": "closed",
        "user": "guru4elephant",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-21T02:54:10+00:00",
        "updated_at": "2020-06-01T11:54:42+00:00",
        "closed_at": "2020-06-01T11:54:42+00:00",
        "comments_count": [
            "Steffy-zxf",
            "guru4elephant",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 382,
        "title": "重复下载pyramidbox_lite_server",
        "body": "paddlehub 1.5.2\r\n更新口罩检测模型后，每次使用模型时，重复下载pyramid_lite_server 两次\r\n[2020-02-25 11:06:50,235] [    INFO] - Installing pyramidbox_lite_server_mask module\r\n[2020-02-25 11:06:50,283] [    INFO] - Module pyramidbox_lite_server_mask already installed in /data/hwq/.paddlehub/modules/pyramidbox_lite_server_mask\r\n[2020-02-25 11:06:50,341] [    INFO] - Installing pyramidbox_lite_server module-1.1.0\r\nDownloading pyramidbox_lite_server\r\n[==================================================] 100.00%\r\nUncompress /data/hwq/.paddlehub/tmp/tmp0qlh4cno/pyramidbox_lite_server\r\n[==================================================] 100.00%\r\n[2020-02-25 11:06:57,001] [    INFO] - Module pyramidbox_lite_server-1.1.0 already installed in /data/hwq/.paddlehub/modules/pyramidbox_lite_server\r\n[2020-02-25 11:06:57,114] [    INFO] - 133 pretrained paramaters loaded by PaddleHub\r\n[2020-02-25 11:06:57,243] [    INFO] - 0 pretrained paramaters loaded by PaddleHub\r\n",
        "state": "closed",
        "user": "arbegla",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-25T03:04:43+00:00",
        "updated_at": "2020-03-09T09:19:27+00:00",
        "closed_at": "2020-03-09T09:19:27+00:00",
        "comments_count": [
            "Steffy-zxf",
            "arbegla",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 388,
        "title": "执行python语句下载模型报错",
        "body": "PaddleHub1.5.3，PaddlePaddle1.7.0.post107\r\n系统环境Windows 10 python 3.7.6\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n执行python export_model.py报错\r\n(paddlehub) C:\\Users\\小胖Sainty>C:/ProgramData/Anaconda3/envs/paddlehub/python.exe d:/code/PaddleHub/demo/mask_detection/python/export_model.py\r\n[2020-02-25 21:43:48,389] [    INFO] - Installing pyramidbox_lite_server_mask module-1.1.0\r\n[2020-02-25 21:43:48,516] [    INFO] - Module pyramidbox_lite_server_mask-1.1.0 already installed in C:\\Users\\小胖Sainty\\.paddlehub\\modules\\pyramidbox_lite_server_mask\r\nC:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\executor.py:782: UserWarning: The following exception is not an EOF exception.\r\n  \"The following exception is not an EOF exception.\")\r\nTraceback (most recent call last):\r\n  File \"d:/code/PaddleHub/demo/mask_detection/python/export_model.py\", line 17, in <module>\r\n    module = hub.Module(name=\"pyramidbox_lite_server_mask\", version='1.1.0')\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddlehub\\module\\module.py\", line 144, in __new__\r\n    module = cls.init_with_name(name=name, version=version)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddlehub\\module\\module.py\", line 217, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0])\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddlehub\\module\\module.py\", line 232, in init_with_directory\r\n    return ModuleV1(directory=directory)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddlehub\\module\\module.py\", line 326, in __init__\r\n    self.helper.model_path(), executor=exe)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\io.py\", line 1377, in load_inference_model\r\n    load_persistables(executor, load_dirname, program, params_filename)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\io.py\", line 917, in load_persistables\r\n    filename=filename)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\io.py\", line 742, in load_vars\r\n    filename=filename)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\io.py\", line 794, in load_vars\r\n    executor.run(load_prog)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 783, in run\r\n    six.reraise(*sys.exc_info())\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\six.py\", line 703, in reraise\r\n    raise value\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 778, in run\r\n    use_program_cache=use_program_cache)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 831, in _run_impl\r\n    use_program_cache=use_program_cache)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 905, in _run_program\r\n    fetch_var_name)\r\npaddle.fluid.core_avx.EnforceNotMet:\r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\nWindows not support stack backtrace yet.\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2525, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\io.py\", line 774, in load_vars\r\n    attrs={'file_path': os.path.join(dirname, new_var.name)})\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\io.py\", line 742, in load_vars\r\n    filename=filename)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\io.py\", line 917, in load_persistables\r\n    filename=filename)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\io.py\", line 1377, in load_inference_model\r\n    load_persistables(executor, load_dirname, program, params_filename)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddlehub\\module\\module.py\", line 326, in __init__\r\n    self.helper.model_path(), executor=exe)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddlehub\\module\\module.py\", line 232, in init_with_directory\r\n    return ModuleV1(directory=directory)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddlehub\\module\\module.py\", line 217, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0])\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddlehub\\module\\module.py\", line 144, in __new__\r\n    module = cls.init_with_name(name=name, version=version)\r\n  File \"d:/code/PaddleHub/demo/mask_detection/python/export_model.py\", line 17, in <module>\r\n    module = hub.Module(name=\"pyramidbox_lite_server_mask\", version='1.1.0')\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Cannot open file C:\\Users\\小胖Sainty\\.paddlehub\\modules\\pyramidbox_lite_server_mask\\model\\@HUB_pyramidbox_lite_server_mask@age_block2_1.w_0 for load op at (D:\\1.7.0\\paddle\\paddle/fluid/operators/load_op.h:38)\r\n  [operator < load > error]",
        "state": "closed",
        "user": "SaintyLiu",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-25T13:49:20+00:00",
        "updated_at": "2020-03-09T09:19:56+00:00",
        "closed_at": "2020-03-09T09:19:56+00:00",
        "comments_count": [
            "ZeyuChen",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 395,
        "title": "use_camera调用无效",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "Nasturtium-yyc",
        "closed_by": "Nasturtium-yyc",
        "created_at": "2020-02-28T04:00:17+00:00",
        "updated_at": "2020-02-28T05:12:05+00:00",
        "closed_at": "2020-02-28T05:12:05+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 389,
        "title": "新版口罩检测，迁移到android直接崩溃",
        "body": "ubuntu 16.04\r\nPaddlePaddle '1.6.3'\r\nPaddleHub release/v1.5\r\n\r\n1. 下载这个目录：https://github.com/PaddlePaddle/PaddleHub/tree/release/v1.5/demo/mask_detection/python\r\n2. python export_model.py, 生成pyramidbox_lite_mobile_mask，然后cd进入\r\n3. ~/work/model_optimize_tool --model_file=./mask_detector/__model__ --param_file=./mask_detector/__params__ --valid_targets=arm --optimize_out_type=naive_buffer --optimize_out=mask_detector_opt1 , 这样mask_detector_opt1下面生成 “__model__.nb  param.nb”\r\n\r\n4.把两个文件拷贝到https://github.com/PaddlePaddle/Paddle-Lite/blob/develop/lite/demo/cxx/mask_detection/mask_detection.cc， 对应位置运行\r\n加载就直接报错",
        "state": "closed",
        "user": "northeastsquare",
        "closed_by": "northeastsquare",
        "created_at": "2020-02-25T15:03:34+00:00",
        "updated_at": "2020-05-14T03:56:28+00:00",
        "closed_at": "2020-05-14T03:55:57+00:00",
        "comments_count": [
            "juncaipeng",
            "juncaipeng",
            "northeastsquare"
        ],
        "labels": [
            "deployment"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 391,
        "title": "模型是否可以运行在GPU下",
        "body": "请问pyramidBox-lite-server-mask模型在paddle框架下是否可以使用GPU模式运行，目前用来处理视频觉得FPS有些慢了，实时性不够好。",
        "state": "closed",
        "user": "KaggleAlbertaAI",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-26T07:23:10+00:00",
        "updated_at": "2020-03-09T09:23:13+00:00",
        "closed_at": "2020-03-09T09:23:12+00:00",
        "comments_count": [
            "nepeplwu",
            "KaggleAlbertaAI",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 392,
        "title": "BUG 1.模型下载下来是__param__,代码里是__params__,运行报错 2. 预测出来的faces[idx].class_id 不是0或者1",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.5.3，PaddlePaddle-gpu1.6.3\r\n2）系统环境：python版本\r\n\r\n1.模型下载下来是__param__,代码里是__params__,运行报错 ,改下名称就行\r\n 2. 预测出来的faces[idx].class_id 不是0或者1，报\r\n   abel = LABELS[face.class_id]\r\nIndexError: list index out of range\r\n这个请教下是什么原因呢",
        "state": "closed",
        "user": "niceweipeng",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-26T07:53:43+00:00",
        "updated_at": "2020-04-20T12:03:19+00:00",
        "closed_at": "2020-04-20T12:03:18+00:00",
        "comments_count": [
            "niceweipeng",
            "ZeyuChen",
            "Channingss",
            "niceweipeng",
            "niceweipeng",
            "Channingss",
            "ZeyuChen",
            "niceweipeng",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 390,
        "title": "Lac使用自定义词典返回500",
        "body": "环境信息：PaddleHubreleasev1.5在windows上python3.7\r\n问题：LAC使用自定义词典时返回500。这里使用的字典为git上demo里的txt文档，未改动。LAC为本地部署的接口，不用自定义词典时可以正常使用。",
        "state": "closed",
        "user": "Kidron-Hou",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-26T06:14:51+00:00",
        "updated_at": "2020-06-01T11:53:27+00:00",
        "closed_at": "2020-06-01T11:53:27+00:00",
        "comments_count": [
            "ShenYuhan",
            "Kidron-Hou",
            "Kidron-Hou",
            "Steffy-zxf",
            "Kidron-Hou",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 396,
        "title": "mask_detection视频文件识别出错",
        "body": "输入video_path进行视频文件识别，出现报错：\r\nC:\\Windows\\System32\\PaddleHub\\demo\\mask_detection\\python\\pyramidbox_lite_server_mask\r\n[ERROR:0] global C:\\projects\\opencv-python\\opencv\\modules\\videoio\\src\\cap.cpp (116) cv::VideoCapture::open VIDEOIO(CV_IMAGES): raised OpenCV exception:\r\n\r\nOpenCV(4.2.0) C:\\projects\\opencv-python\\opencv\\modules\\videoio\\src\\cap_images.cpp:253: error: (-5:Bad argument) CAP_IMAGES: can't find starting number (in the name of file): C:\\Windows\\System32\\PaddleHub\\demo\\mask_detection\\python\\videos in function 'cv::icvExtractPattern'\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"infer.py\", line 277, in <module>\r\n    predict_video(args)\r\n  File \"infer.py\", line 267, in predict_video\r\n    print(\"include read time:\", (end_time - start_time) / index)\r\nZeroDivisionError: float division by zero\r\n\r\n不过发现result文件夹中出现了测试video的文件，但是打不开。",
        "state": "closed",
        "user": "Nasturtium-yyc",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-28T05:17:21+00:00",
        "updated_at": "2020-06-01T11:53:09+00:00",
        "closed_at": "2020-06-01T11:53:08+00:00",
        "comments_count": [
            "Channingss",
            "Nasturtium-yyc",
            "Nasturtium-yyc",
            "Nasturtium-yyc",
            "Channingss",
            "Channingss",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 394,
        "title": "paddle.fluid.core_avx.EnforceNotMet问题求助",
        "body": "你好，运行项目时，报paddle.fluid.core_avx.EnforceNotMet问题，请问如何修改，谢谢~\r\n1、paddlehub1.5.3  paddlepaddle1.7.0\r\n2、系统环境：win10子系统，Ubuntu环境\r\n具体错误如下图\r\n![image](https://user-images.githubusercontent.com/16828608/75426347-71039400-597f-11ea-8ff7-d5f0ddb76592.png)\r\n\r\n",
        "state": "closed",
        "user": "YasinZhao",
        "closed_by": "YasinZhao",
        "created_at": "2020-02-27T08:41:01+00:00",
        "updated_at": "2020-02-28T02:19:20+00:00",
        "closed_at": "2020-02-28T02:19:20+00:00",
        "comments_count": [
            "Steffy-zxf",
            "YasinZhao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 397,
        "title": "使用conda安装得paddlepaddle numpy是1.13.1，然后安装paddlehub：import得时候却显示",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "yhl2018",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-02-28T06:21:04+00:00",
        "updated_at": "2020-04-20T12:03:31+00:00",
        "closed_at": "2020-04-20T12:03:31+00:00",
        "comments_count": [
            "yhl2018",
            "yhl2018",
            "Steffy-zxf",
            "yhl2018",
            "Steffy-zxf"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 398,
        "title": "infer文件的predict_video中use_camera为什么默认关闭？如何调用摄像头实时监测？",
        "body": "def predict_video(args, im_shape=(1920, 1080), use_camera=False):\r\n    if args.use_camera:\r\n        capture = cv2.VideoCapture(0)\r\n    else:\r\n        capture = cv2.VideoCapture(args.video_path)\r\n capture = cv2.VideoCapture(0)是调用笔记本摄像头，怎么能够实时显示检测？\r\n",
        "state": "closed",
        "user": "Nasturtium-yyc",
        "closed_by": "haoyuying",
        "created_at": "2020-02-28T11:54:33+00:00",
        "updated_at": "2020-10-22T10:47:15+00:00",
        "closed_at": "2020-10-22T10:47:15+00:00",
        "comments_count": [
            "Channingss",
            "Nasturtium-yyc",
            "Nasturtium-yyc",
            "Channingss",
            "Nasturtium-yyc",
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 400,
        "title": "使用Demo的视频检测时，result文件夹下的输出视频只有两百多字节，且无法打开输出视频",
        "body": "视频指定到了文件：python infer.py --models_dir=E:/detection/PaddleHub/demo/mask_detection/python/pyramidbox_lite_server_mask --video_path=E:/detection/PaddleHub/demo/mask_detection/python/videos/2.mp4\r\n",
        "state": "closed",
        "user": "Forestyuting",
        "closed_by": "haoyuying",
        "created_at": "2020-02-29T13:54:56+00:00",
        "updated_at": "2020-10-22T10:48:39+00:00",
        "closed_at": "2020-10-22T10:48:39+00:00",
        "comments_count": [
            "Channingss",
            "Forestyuting",
            "Channingss",
            "Forestyuting",
            "Channingss",
            "Forestyuting",
            "Channingss",
            "ShanksYI"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 399,
        "title": "为什么检测时候，模型的精度不高？servie版只比mobile版高一点点",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "lzcchl",
        "closed_by": "haoyuying",
        "created_at": "2020-02-29T04:31:06+00:00",
        "updated_at": "2020-10-22T10:47:57+00:00",
        "closed_at": "2020-10-22T10:47:57+00:00",
        "comments_count": [
            "lzcchl",
            "adaxiadaxi",
            "adaxiadaxi"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 409,
        "title": "pycharm里运行mask_detection.py报错",
        "body": "pycharm里运行mask_detection.py报错\r\n报错日志\r\nC:\\Users\\xiaomi\\Anaconda3\\python.exe C:/Users/xiaomi/PycharmProjects/untitled8/FaceMaskDetection-master/mask_detection.py\r\n[2020-03-02 17:23:07,572] [    INFO] - Installing pyramidbox_lite_server_mask module-1.1.0\r\n[2020-03-02 17:23:07,587] [    INFO] - Module pyramidbox_lite_server_mask-1.1.0 already installed in C:\\Users\\xiaomi\\.paddlehub\\modules\\pyramidbox_lite_server_mask\r\n[2020-03-02 17:23:07,690] [    INFO] - Installing pyramidbox_lite_server module-1.1.0\r\n[2020-03-02 17:23:07,705] [    INFO] - Module pyramidbox_lite_server-1.1.0 already installed in C:\\Users\\xiaomi\\.paddlehub\\modules\\pyramidbox_lite_server\r\n[2020-03-02 17:23:08,004] [    INFO] - 133 pretrained paramaters loaded by PaddleHub\r\n[2020-03-02 17:23:08,145] [    INFO] - 143 pretrained paramaters loaded by PaddleHub\r\n{\"frame\": 0, \"data\": []}\r\n{\"frame\": 1, \"data\": []}\r\n{\"frame\": 2, \"data\": []}\r\n{\"frame\": 3, \"data\": []}\r\n{\"frame\": 4, \"data\": []}\r\n{\"frame\": 5, \"data\": []}\r\n{\"frame\": 6, \"data\": [{\"top\": 192, \"right\": 1578, \"bottom\": 314, \"left\": 1493, \"confidence\": 0.6598879098892212, \"label\": \"MASK\", \"img\": \"avatar_0.png\"}, {\"top\": 663, \"right\": 291, \"bottom\": 879, \"left\": 118, \"confidence\": 0.7154238224029541, \"label\": \"MASK\", \"img\": \"avatar_1.png\"}]}\r\n{\"frame\": 7, \"data\": [{\"top\": 192, \"right\": 1578, \"bottom\": 314, \"left\": 1493, \"confidence\": 0.6842906475067139, \"label\": \"MASK\", \"img\": \"avatar_2.png\"}, {\"top\": 663, \"right\": 292, \"bottom\": 879, \"left\": 117, \"confidence\": 0.6681514382362366, \"label\": \"MASK\", \"img\": \"avatar_3.png\"}]}\r\n{\"frame\": 8, \"data\": [{\"top\": 192, \"right\": 1578, \"bottom\": 314, \"left\": 1493, \"confidence\": 0.6816697716712952, \"label\": \"MASK\", \"img\": \"avatar_4.png\"}, {\"top\": 662, \"right\": 292, \"bottom\": 879, \"left\": 116, \"confidence\": 0.7174950838088989, \"label\": \"MASK\", \"img\": \"avatar_5.png\"}]}\r\n{\"frame\": 9, \"data\": [{\"top\": 668, \"right\": 283, \"bottom\": 874, \"left\": 123, \"confidence\": 0.7018092274665833, \"label\": \"MASK\", \"img\": \"avatar_6.png\"}]}\r\n{\"frame\": 10, \"data\": [{\"top\": 667, \"right\": 283, \"bottom\": 873, \"left\": 122, \"confidence\": 0.6414158344268799, \"label\": \"MASK\", \"img\": \"avatar_7.png\"}]}\r\n{\"frame\": 11, \"data\": [{\"top\": 667, \"right\": 283, \"bottom\": 873, \"left\": 122, \"confidence\": 0.647498607635498, \"label\": \"MASK\", \"img\": \"avatar_8.png\"}]}\r\n{\"frame\": 12, \"data\": [{\"top\": 24, \"right\": 454, \"bottom\": 278, \"left\": 194, \"confidence\": 0.8939634561538696, \"label\": \"NO MASK\", \"img\": \"avatar_9.png\"}, {\"top\": 661, \"right\": 282, \"bottom\": 860, \"left\": 119, \"confidence\": 0.6182034015655518, \"label\": \"NO MASK\", \"img\": \"avatar_10.png\"}]}\r\n{\"frame\": 13, \"data\": [{\"top\": 24, \"right\": 453, \"bottom\": 277, \"left\": 194, \"confidence\": 0.8626335859298706, \"label\": \"NO MASK\", \"img\": \"avatar_11.png\"}]}\r\n{\"frame\": 14, \"data\": [{\"top\": 24, \"right\": 453, \"bottom\": 278, \"left\": 194, \"confidence\": 0.8847233653068542, \"label\": \"NO MASK\", \"img\": \"avatar_12.png\"}, {\"top\": 662, \"right\": 282, \"bottom\": 861, \"left\": 118, \"confidence\": 0.6984359622001648, \"label\": \"NO MASK\", \"img\": \"avatar_13.png\"}]}\r\n{\"frame\": 15, \"data\": []}\r\n{\"frame\": 16, \"data\": []}\r\n{\"frame\": 17, \"data\": []}\r\n{\"frame\": 18, \"data\": [{\"top\": 373, \"right\": 1121, \"bottom\": 600, \"left\": 944, \"confidence\": 0.9615735411643982, \"label\": \"NO MASK\", \"img\": \"avatar_14.png\"}]}\r\n{\"frame\": 19, \"data\": [{\"top\": 373, \"right\": 1122, \"bottom\": 600, \"left\": 945, \"confidence\": 0.948296070098877, \"label\": \"NO MASK\", \"img\": \"avatar_15.png\"}]}\r\n{\"frame\": 20, \"data\": [{\"top\": 373, \"right\": 1122, \"bottom\": 599, \"left\": 945, \"confidence\": 0.9475864768028259, \"label\": \"NO MASK\", \"img\": \"avatar_16.png\"}]}\r\n{\"frame\": 21, \"data\": [{\"top\": 647, \"right\": 295, \"bottom\": 860, \"left\": 130, \"confidence\": 0.5770584940910339, \"label\": \"MASK\", \"img\": \"avatar_17.png\"}]}\r\n{\"frame\": 22, \"data\": [{\"top\": 649, \"right\": 295, \"bottom\": 858, \"left\": 131, \"confidence\": 0.5225788950920105, \"label\": \"MASK\", \"img\": \"avatar_18.png\"}]}\r\n{\"frame\": 23, \"data\": [{\"top\": 648, \"right\": 295, \"bottom\": 858, \"left\": 130, \"confidence\": 0.6316049695014954, \"label\": \"NO MASK\", \"img\": \"avatar_19.png\"}]}\r\n{\"frame\": 24, \"data\": [{\"top\": 381, \"right\": 1142, \"bottom\": 615, \"left\": 955, \"confidence\": 0.9240951538085938, \"label\": \"NO MASK\", \"img\": \"avatar_20.png\"}, {\"top\": 653, \"right\": 301, \"bottom\": 865, \"left\": 130, \"confidence\": 0.6490209698677063, \"label\": \"MASK\", \"img\": \"avatar_21.png\"}]}\r\n{\"frame\": 25, \"data\": [{\"top\": 380, \"right\": 1143, \"bottom\": 616, \"left\": 955, \"confidence\": 0.9495848417282104, \"label\": \"NO MASK\", \"img\": \"avatar_22.png\"}, {\"top\": 652, \"right\": 301, \"bottom\": 865, \"left\": 129, \"confidence\": 0.6303302049636841, \"label\": \"MASK\", \"img\": \"avatar_23.png\"}]}\r\n{\"frame\": 26, \"data\": [{\"top\": 381, \"right\": 1143, \"bottom\": 616, \"left\": 955, \"confidence\": 0.9434199333190918, \"label\": \"NO MASK\", \"img\": \"avatar_24.png\"}, {\"top\": 652, \"right\": 301, \"bottom\": 866, \"left\": 129, \"confidence\": 0.7217013239860535, \"label\": \"MASK\", \"img\": \"avatar_25.png\"}]}\r\n{\"frame\": 27, \"data\": []}\r\n{\"frame\": 28, \"data\": []}\r\n{\"frame\": 29, \"data\": []}\r\n{\"frame\": 30, \"data\": [{\"top\": 344, \"right\": 1417, \"bottom\": 602, \"left\": 1198, \"confidence\": 0.8223381638526917, \"label\": \"NO MASK\", \"img\": \"avatar_26.png\"}]}\r\n{\"frame\": 31, \"data\": [{\"top\": 344, \"right\": 1417, \"bottom\": 603, \"left\": 1198, \"confidence\": 0.8363244533538818, \"label\": \"NO MASK\", \"img\": \"avatar_27.png\"}]}\r\n{\"frame\": 32, \"data\": [{\"top\": 345, \"right\": 1417, \"bottom\": 603, \"left\": 1198, \"confidence\": 0.8238263726234436, \"label\": \"NO MASK\", \"img\": \"avatar_28.png\"}]}\r\n{\"frame\": 33, \"data\": []}\r\n{\"frame\": 34, \"data\": []}\r\n{\"frame\": 35, \"data\": []}\r\n{\"frame\": 36, \"data\": []}\r\n{\"frame\": 37, \"data\": []}\r\n{\"frame\": 38, \"data\": []}\r\n{\"frame\": 39, \"data\": []}\r\n{\"frame\": 40, \"data\": []}\r\n{\"frame\": 41, \"data\": []}\r\n{\"frame\": 42, \"data\": [{\"top\": 390, \"right\": 1144, \"bottom\": 626, \"left\": 959, \"confidence\": 0.8971235156059265, \"label\": \"NO MASK\", \"img\": \"avatar_29.png\"}]}\r\n{\"frame\": 43, \"data\": [{\"top\": 390, \"right\": 1144, \"bottom\": 626, \"left\": 959, \"confidence\": 0.9107908606529236, \"label\": \"NO MASK\", \"img\": \"avatar_30.png\"}]}\r\n{\"frame\": 44, \"data\": [{\"top\": 391, \"right\": 1144, \"bottom\": 626, \"left\": 959, \"confidence\": 0.9018292427062988, \"label\": \"NO MASK\", \"img\": \"avatar_31.png\"}]}\r\n{\"frame\": 45, \"data\": []}\r\n{\"frame\": 46, \"data\": []}\r\n{\"frame\": 47, \"data\": []}\r\n{\"frame\": 48, \"data\": []}\r\n{\"frame\": 49, \"data\": []}\r\n{\"frame\": 50, \"data\": []}\r\n{\"frame\": 51, \"data\": []}\r\n{\"frame\": 52, \"data\": []}\r\n{\"frame\": 53, \"data\": []}\r\n{\"frame\": 54, \"data\": []}\r\n{\"frame\": 55, \"data\": []}\r\n{\"frame\": 56, \"data\": []}\r\n{\"frame\": 57, \"data\": []}\r\n{\"frame\": 58, \"data\": []}\r\n{\"frame\": 59, \"data\": []}\r\n{\"frame\": 60, \"data\": []}\r\n{\"frame\": 61, \"data\": []}\r\n{\"frame\": 62, \"data\": []}\r\n{\"frame\": 63, \"data\": []}\r\n{\"frame\": 64, \"data\": []}\r\n{\"frame\": 65, \"data\": []}\r\n{\"frame\": 66, \"data\": []}\r\n{\"frame\": 67, \"data\": []}\r\n{\"frame\": 68, \"data\": []}\r\n{\"frame\": 69, \"data\": []}\r\n{\"frame\": 70, \"data\": []}\r\n{\"frame\": 71, \"data\": []}\r\n{\"frame\": 72, \"data\": []}\r\n{\"frame\": 73, \"data\": []}\r\n{\"frame\": 74, \"data\": []}\r\n{\"frame\": 75, \"data\": []}\r\n{\"frame\": 76, \"data\": []}\r\n{\"frame\": 77, \"data\": []}\r\n{\"frame\": 78, \"data\": []}\r\n{\"frame\": 79, \"data\": []}\r\n{\"frame\": 80, \"data\": []}\r\n{\"frame\": 81, \"data\": []}\r\n{\"frame\": 82, \"data\": []}\r\n{\"frame\": 83, \"data\": []}\r\n{\"frame\": 84, \"data\": []}\r\n{\"frame\": 85, \"data\": []}\r\n{\"frame\": 86, \"data\": []}\r\n{\"frame\": 87, \"data\": []}\r\n{\"frame\": 88, \"data\": []}\r\n{\"frame\": 89, \"data\": []}\r\n{\"frame\": 90, \"data\": []}\r\n{\"frame\": 91, \"data\": []}\r\n{\"frame\": 92, \"data\": []}\r\n{\"frame\": 93, \"data\": []}\r\n{\"frame\": 94, \"data\": []}\r\n{\"frame\": 95, \"data\": []}\r\n{\"frame\": 96, \"data\": []}\r\n{\"frame\": 97, \"data\": []}\r\n{\"frame\": 98, \"data\": []}\r\n{\"frame\": 99, \"data\": []}\r\n{\"frame\": 100, \"data\": []}\r\n{\"frame\": 101, \"data\": []}\r\n{\"frame\": 102, \"data\": []}\r\n{\"frame\": 103, \"data\": []}\r\n{\"frame\": 104, \"data\": []}\r\n{\"frame\": 105, \"data\": [{\"top\": 461, \"right\": 1145, \"bottom\": 665, \"left\": 986, \"confidence\": 0.9692726731300354, \"label\": \"NO MASK\", \"img\": \"avatar_32.png\"}]}\r\n{\"frame\": 106, \"data\": [{\"top\": 460, \"right\": 1146, \"bottom\": 665, \"left\": 987, \"confidence\": 0.9772320985794067, \"label\": \"NO MASK\", \"img\": \"avatar_33.png\"}]}\r\n{\"frame\": 107, \"data\": [{\"top\": 460, \"right\": 1146, \"bottom\": 665, \"left\": 987, \"confidence\": 0.9771429300308228, \"label\": \"NO MASK\", \"img\": \"avatar_34.png\"}]}\r\n{\"frame\": 108, \"data\": [{\"top\": 457, \"right\": 1150, \"bottom\": 670, \"left\": 986, \"confidence\": 0.9537975788116455, \"label\": \"NO MASK\", \"img\": \"avatar_35.png\"}]}\r\n{\"frame\": 109, \"data\": [{\"top\": 457, \"right\": 1151, \"bottom\": 670, \"left\": 986, \"confidence\": 0.9670658707618713, \"label\": \"NO MASK\", \"img\": \"avatar_36.png\"}]}\r\n{\"frame\": 110, \"data\": [{\"top\": 457, \"right\": 1151, \"bottom\": 670, \"left\": 986, \"confidence\": 0.973444938659668, \"label\": \"NO MASK\", \"img\": \"avatar_37.png\"}]}\r\n{\"frame\": 111, \"data\": []}\r\n{\"frame\": 112, \"data\": [{\"top\": 442, \"right\": 1183, \"bottom\": 626, \"left\": 1027, \"confidence\": 0.9340898394584656, \"label\": \"NO MASK\", \"img\": \"avatar_38.png\"}]}\r\n{\"frame\": 113, \"data\": [{\"top\": 442, \"right\": 1183, \"bottom\": 626, \"left\": 1026, \"confidence\": 0.9314777255058289, \"label\": \"NO MASK\", \"img\": \"avatar_39.png\"}]}\r\n{\"frame\": 114, \"data\": [{\"top\": 403, \"right\": 1219, \"bottom\": 639, \"left\": 1041, \"confidence\": 0.9844661951065063, \"label\": \"NO MASK\", \"img\": \"avatar_40.png\"}, {\"top\": 372, \"right\": 1491, \"bottom\": 632, \"left\": 1270, \"confidence\": 0.7973282337188721, \"label\": \"NO MASK\", \"img\": \"avatar_41.png\"}]}\r\n{\"frame\": 115, \"data\": [{\"top\": 401, \"right\": 1221, \"bottom\": 637, \"left\": 1042, \"confidence\": 0.9850747585296631, \"label\": \"NO MASK\", \"img\": \"avatar_42.png\"}, {\"top\": 373, \"right\": 1491, \"bottom\": 633, \"left\": 1270, \"confidence\": 0.8968647122383118, \"label\": \"NO MASK\", \"img\": \"avatar_43.png\"}]}\r\n{\"frame\": 116, \"data\": [{\"top\": 401, \"right\": 1221, \"bottom\": 636, \"left\": 1042, \"confidence\": 0.9866742491722107, \"label\": \"NO MASK\", \"img\": \"avatar_44.png\"}, {\"top\": 373, \"right\": 1491, \"bottom\": 633, \"left\": 1270, \"confidence\": 0.8675416111946106, \"label\": \"NO MASK\", \"img\": \"avatar_45.png\"}]}\r\n{\"frame\": 117, \"data\": []}\r\n{\"frame\": 118, \"data\": []}\r\n{\"frame\": 119, \"data\": []}\r\n{\"frame\": 120, \"data\": []}\r\n{\"frame\": 121, \"data\": []}\r\n{\"frame\": 122, \"data\": []}\r\n{\"frame\": 123, \"data\": []}\r\n{\"frame\": 124, \"data\": []}\r\n{\"frame\": 125, \"data\": []}\r\n{\"frame\": 126, \"data\": []}\r\n{\"frame\": 127, \"data\": []}\r\n{\"frame\": 128, \"data\": []}\r\n{\"frame\": 129, \"data\": []}\r\n{\"frame\": 130, \"data\": []}\r\n{\"frame\": 131, \"data\": []}\r\n{\"frame\": 132, \"data\": []}\r\n{\"frame\": 133, \"data\": []}\r\n{\"frame\": 134, \"data\": []}\r\n{\"frame\": 135, \"data\": []}\r\n{\"frame\": 136, \"data\": []}\r\n{\"frame\": 137, \"data\": []}\r\n{\"frame\": 138, \"data\": []}\r\n{\"frame\": 139, \"data\": []}\r\n{\"frame\": 140, \"data\": []}\r\n{\"frame\": 141, \"data\": []}\r\n{\"frame\": 142, \"data\": []}\r\n{\"frame\": 143, \"data\": []}\r\n{\"frame\": 144, \"data\": [{\"top\": 362, \"right\": 1190, \"bottom\": 585, \"left\": 1000, \"confidence\": 0.9654194712638855, \"label\": \"NO MASK\", \"img\": \"avatar_46.png\"}]}\r\n{\"frame\": 145, \"data\": [{\"top\": 361, \"right\": 1190, \"bottom\": 586, \"left\": 1000, \"confidence\": 0.9704778790473938, \"label\": \"NO MASK\", \"img\": \"avatar_47.png\"}]}\r\n{\"frame\": 146, \"data\": [{\"top\": 361, \"right\": 1190, \"bottom\": 585, \"left\": 1000, \"confidence\": 0.958350419998169, \"label\": \"NO MASK\", \"img\": \"avatar_48.png\"}]}\r\n{\"frame\": 147, \"data\": [{\"top\": 385, \"right\": 1170, \"bottom\": 594, \"left\": 996, \"confidence\": 0.9446123242378235, \"label\": \"NO MASK\", \"img\": \"avatar_49.png\"}]}\r\n{\"frame\": 148, \"data\": [{\"top\": 386, \"right\": 1170, \"bottom\": 593, \"left\": 996, \"confidence\": 0.947902500629425, \"label\": \"NO MASK\", \"img\": \"avatar_50.png\"}]}\r\n{\"frame\": 149, \"data\": [{\"top\": 385, \"right\": 1171, \"bottom\": 594, \"left\": 996, \"confidence\": 0.9570245146751404, \"label\": \"NO MASK\", \"img\": \"avatar_51.png\"}]}\r\n{\"frame\": 150, \"data\": []}\r\n{\"frame\": 151, \"data\": []}\r\n{\"frame\": 152, \"data\": []}\r\n{\"frame\": 153, \"data\": []}\r\n{\"frame\": 154, \"data\": []}\r\n{\"frame\": 155, \"data\": []}\r\n{\"frame\": 156, \"data\": [{\"top\": 352, \"right\": 1161, \"bottom\": 592, \"left\": 972, \"confidence\": 0.8932889699935913, \"label\": \"NO MASK\", \"img\": \"avatar_52.png\"}]}\r\n{\"frame\": 157, \"data\": [{\"top\": 354, \"right\": 1161, \"bottom\": 594, \"left\": 971, \"confidence\": 0.9028537273406982, \"label\": \"NO MASK\", \"img\": \"avatar_53.png\"}]}\r\n{\"frame\": 158, \"data\": [{\"top\": 355, \"right\": 1160, \"bottom\": 594, \"left\": 971, \"confidence\": 0.9031453132629395, \"label\": \"NO MASK\", \"img\": \"avatar_54.png\"}]}\r\n{\"frame\": 159, \"data\": []}\r\n{\"frame\": 160, \"data\": []}\r\n{\"frame\": 161, \"data\": []}\r\n{\"frame\": 162, \"data\": []}\r\n{\"frame\": 163, \"data\": []}\r\n{\"frame\": 164, \"data\": []}\r\n{\"frame\": 165, \"data\": [{\"top\": 395, \"right\": 1146, \"bottom\": 614, \"left\": 967, \"confidence\": 0.9561344385147095, \"label\": \"NO MASK\", \"img\": \"avatar_55.png\"}]}\r\n{\"frame\": 166, \"data\": [{\"top\": 395, \"right\": 1148, \"bottom\": 615, \"left\": 968, \"confidence\": 0.9356657862663269, \"label\": \"NO MASK\", \"img\": \"avatar_56.png\"}]}\r\n{\"frame\": 167, \"data\": [{\"top\": 395, \"right\": 1147, \"bottom\": 615, \"left\": 968, \"confidence\": 0.9427422285079956, \"label\": \"NO MASK\", \"img\": \"avatar_57.png\"}]}\r\n{\"frame\": 168, \"data\": []}\r\n{\"frame\": 169, \"data\": []}\r\n{\"frame\": 170, \"data\": []}\r\n{\"frame\": 171, \"data\": []}\r\n{\"frame\": 172, \"data\": []}\r\n{\"frame\": 173, \"data\": []}\r\n{\"frame\": 174, \"data\": [{\"top\": 641, \"right\": 1430, \"bottom\": 903, \"left\": 1173, \"confidence\": 0.750539243221283, \"label\": \"NO MASK\", \"img\": \"avatar_58.png\"}]}\r\n{\"frame\": 175, \"data\": [{\"top\": 641, \"right\": 1430, \"bottom\": 903, \"left\": 1173, \"confidence\": 0.7709321975708008, \"label\": \"NO MASK\", \"img\": \"avatar_59.png\"}]}\r\n{\"frame\": 176, \"data\": [{\"top\": 641, \"right\": 1430, \"bottom\": 903, \"left\": 1173, \"confidence\": 0.7364686727523804, \"label\": \"NO MASK\", \"img\": \"avatar_60.png\"}]}\r\n{\"frame\": 177, \"data\": []}\r\n{\"frame\": 178, \"data\": []}\r\n{\"frame\": 179, \"data\": []}\r\n{\"frame\": 180, \"data\": []}\r\n{\"frame\": 181, \"data\": []}\r\n{\"frame\": 182, \"data\": []}\r\n{\"frame\": 183, \"data\": []}\r\n{\"frame\": 184, \"data\": []}\r\n{\"frame\": 185, \"data\": []}\r\n{\"frame\": 186, \"data\": []}\r\n{\"frame\": 187, \"data\": []}\r\n{\"frame\": 188, \"data\": []}\r\n{\"frame\": 189, \"data\": []}\r\n{\"frame\": 190, \"data\": []}\r\n{\"frame\": 191, \"data\": []}\r\n{\"frame\": 192, \"data\": []}\r\n{\"frame\": 193, \"data\": []}\r\n{\"frame\": 194, \"data\": []}\r\n{\"frame\": 195, \"data\": []}\r\n{\"frame\": 196, \"data\": []}\r\n{\"frame\": 197, \"data\": []}\r\n{\"frame\": 198, \"data\": []}\r\n{\"frame\": 199, \"data\": []}\r\n{\"frame\": 200, \"data\": []}\r\n{\"frame\": 201, \"data\": []}\r\n{\"frame\": 202, \"data\": []}\r\n{\"frame\": 203, \"data\": []}\r\n{\"frame\": 204, \"data\": []}\r\n{\"frame\": 205, \"data\": []}\r\n{\"frame\": 206, \"data\": []}\r\n{\"frame\": 207, \"data\": []}\r\n{\"frame\": 208, \"data\": []}\r\n{\"frame\": 209, \"data\": []}\r\n{\"frame\": 210, \"data\": []}\r\n{\"frame\": 211, \"data\": []}\r\n{\"frame\": 212, \"data\": []}\r\n{\"frame\": 213, \"data\": [{\"top\": 613, \"right\": 1496, \"bottom\": 908, \"left\": 1212, \"confidence\": 0.6952748894691467, \"label\": \"NO MASK\", \"img\": \"avatar_61.png\"}]}\r\n{\"frame\": 214, \"data\": []}\r\n{\"frame\": 215, \"data\": []}\r\n{\"frame\": 216, \"data\": []}\r\n{\"frame\": 217, \"data\": []}\r\n{\"frame\": 218, \"data\": []}\r\n{\"frame\": 219, \"data\": []}\r\n{\"frame\": 220, \"data\": []}\r\n{\"frame\": 221, \"data\": []}\r\n{\"frame\": 222, \"data\": []}\r\n{\"frame\": 223, \"data\": []}\r\n{\"frame\": 224, \"data\": []}\r\n{\"frame\": 225, \"data\": []}\r\n{\"frame\": 226, \"data\": []}\r\n{\"frame\": 227, \"data\": []}\r\n{\"frame\": 228, \"data\": []}\r\n{\"frame\": 229, \"data\": []}\r\n{\"frame\": 230, \"data\": []}\r\n{\"frame\": 231, \"data\": []}\r\n{\"frame\": 232, \"data\": []}\r\n{\"frame\": 233, \"data\": []}\r\n{\"frame\": 234, \"data\": []}\r\n{\"frame\": 235, \"data\": []}\r\n{\"frame\": 236, \"data\": []}\r\n{\"frame\": 237, \"data\": []}\r\n{\"frame\": 238, \"data\": []}\r\n{\"frame\": 239, \"data\": []}\r\n{\"frame\": 240, \"data\": []}\r\n{\"frame\": 241, \"data\": []}\r\n{\"frame\": 242, \"data\": []}\r\n{\"frame\": 243, \"data\": []}\r\n{\"frame\": 244, \"data\": []}\r\n{\"frame\": 245, \"data\": []}\r\n{\"frame\": 246, \"data\": []}\r\n{\"frame\": 247, \"data\": []}\r\n{\"frame\": 248, \"data\": []}\r\n{\"frame\": 249, \"data\": []}\r\n{\"frame\": 250, \"data\": []}\r\n{\"frame\": 251, \"data\": []}\r\n{\"frame\": 252, \"data\": []}\r\n{\"frame\": 253, \"data\": []}\r\n{\"frame\": 254, \"data\": []}\r\n{\"frame\": 255, \"data\": []}\r\n{\"frame\": 256, \"data\": []}\r\n{\"frame\": 257, \"data\": []}\r\n{\"frame\": 258, \"data\": []}\r\n{\"frame\": 259, \"data\": []}\r\n{\"frame\": 260, \"data\": []}\r\n{\"frame\": 261, \"data\": []}\r\n{\"frame\": 262, \"data\": []}\r\n{\"frame\": 263, \"data\": []}\r\n{\"frame\": 264, \"data\": []}\r\n{\"frame\": 265, \"data\": []}\r\n{\"frame\": 266, \"data\": []}\r\n{\"frame\": 267, \"data\": [{\"top\": 334, \"right\": 1431, \"bottom\": 596, \"left\": 1216, \"confidence\": 0.8394776582717896, \"label\": \"NO MASK\", \"img\": \"avatar_62.png\"}]}\r\n{\"frame\": 268, \"data\": [{\"top\": 334, \"right\": 1430, \"bottom\": 596, \"left\": 1216, \"confidence\": 0.8174445629119873, \"label\": \"NO MASK\", \"img\": \"avatar_63.png\"}]}\r\n{\"frame\": 269, \"data\": [{\"top\": 334, \"right\": 1430, \"bottom\": 596, \"left\": 1216, \"confidence\": 0.8095839023590088, \"label\": \"NO MASK\", \"img\": \"avatar_64.png\"}]}\r\n{\"frame\": 270, \"data\": []}\r\n{\"frame\": 271, \"data\": []}\r\n{\"frame\": 272, \"data\": []}\r\n{\"frame\": 273, \"data\": []}\r\n{\"frame\": 274, \"data\": []}\r\n{\"frame\": 275, \"data\": []}\r\n{\"frame\": 276, \"data\": []}\r\n{\"frame\": 277, \"data\": []}\r\n{\"frame\": 278, \"data\": []}\r\n{\"frame\": 279, \"data\": []}\r\n{\"frame\": 280, \"data\": []}\r\n{\"frame\": 281, \"data\": []}\r\n{\"frame\": 282, \"data\": []}\r\n{\"frame\": 283, \"data\": []}\r\n{\"frame\": 284, \"data\": []}\r\n{\"frame\": 285, \"data\": []}\r\n{\"frame\": 286, \"data\": []}\r\n{\"frame\": 287, \"data\": []}\r\n{\"frame\": 288, \"data\": []}\r\n{\"frame\": 289, \"data\": []}\r\n{\"frame\": 290, \"data\": []}\r\n{\"frame\": 291, \"data\": []}\r\n{\"frame\": 292, \"data\": []}\r\n{\"frame\": 293, \"data\": []}\r\n{\"frame\": 294, \"data\": []}\r\n{\"frame\": 295, \"data\": []}\r\n{\"frame\": 296, \"data\": []}\r\n{\"frame\": 297, \"data\": []}\r\n{\"frame\": 298, \"data\": []}\r\n{\"frame\": 299, \"data\": []}\r\n{\"frame\": 300, \"data\": [{\"top\": 370, \"right\": 1468, \"bottom\": 626, \"left\": 1249, \"confidence\": 0.7929825782775879, \"label\": \"NO MASK\", \"img\": \"avatar_65.png\"}]}\r\n{\"frame\": 301, \"data\": [{\"top\": 370, \"right\": 1467, \"bottom\": 625, \"left\": 1250, \"confidence\": 0.8142149448394775, \"label\": \"NO MASK\", \"img\": \"avatar_66.png\"}]}\r\n{\"frame\": 302, \"data\": [{\"top\": 370, \"right\": 1467, \"bottom\": 625, \"left\": 1250, \"confidence\": 0.7565098404884338, \"label\": \"NO MASK\", \"img\": \"avatar_67.png\"}]}\r\n{\"frame\": 303, \"data\": [{\"top\": 425, \"right\": 1477, \"bottom\": 681, \"left\": 1252, \"confidence\": 0.7142595648765564, \"label\": \"NO MASK\", \"img\": \"avatar_68.png\"}]}\r\n{\"frame\": 304, \"data\": [{\"top\": 426, \"right\": 1477, \"bottom\": 681, \"left\": 1253, \"confidence\": 0.6984233260154724, \"label\": \"NO MASK\", \"img\": \"avatar_69.png\"}]}\r\n{\"frame\": 305, \"data\": [{\"top\": 425, \"right\": 1477, \"bottom\": 681, \"left\": 1253, \"confidence\": 0.7351128458976746, \"label\": \"NO MASK\", \"img\": \"avatar_70.png\"}]}\r\n{\"frame\": 306, \"data\": []}\r\n{\"frame\": 307, \"data\": []}\r\n{\"frame\": 308, \"data\": []}\r\n{\"frame\": 309, \"data\": []}\r\n{\"frame\": 310, \"data\": []}\r\n{\"frame\": 311, \"data\": []}\r\n{\"frame\": 312, \"data\": [{\"top\": 381, \"right\": 1477, \"bottom\": 644, \"left\": 1253, \"confidence\": 0.8062721490859985, \"label\": \"NO MASK\", \"img\": \"avatar_71.png\"}]}\r\n{\"frame\": 313, \"data\": [{\"top\": 378, \"right\": 1478, \"bottom\": 641, \"left\": 1253, \"confidence\": 0.7507846355438232, \"label\": \"NO MASK\", \"img\": \"avatar_72.png\"}]}\r\n{\"frame\": 314, \"data\": [{\"top\": 378, \"right\": 1478, \"bottom\": 642, \"left\": 1253, \"confidence\": 0.7885078191757202, \"label\": \"NO MASK\", \"img\": \"avatar_73.png\"}]}\r\n{\"frame\": 315, \"data\": [{\"top\": 398, \"right\": 1470, \"bottom\": 679, \"left\": 1240, \"confidence\": 0.8637266159057617, \"label\": \"NO MASK\", \"img\": \"avatar_74.png\"}]}\r\n{\"frame\": 316, \"data\": []}\r\n{\"frame\": 317, \"data\": []}\r\n{\"frame\": 318, \"data\": []}\r\n{\"frame\": 319, \"data\": []}\r\n{\"frame\": 320, \"data\": []}\r\n{\"frame\": 321, \"data\": []}\r\n{\"frame\": 322, \"data\": []}\r\n{\"frame\": 323, \"data\": []}\r\n{\"frame\": 324, \"data\": [{\"top\": 406, \"right\": 1145, \"bottom\": 623, \"left\": 976, \"confidence\": 0.9533182978630066, \"label\": \"NO MASK\", \"img\": \"avatar_75.png\"}]}\r\n{\"frame\": 325, \"data\": [{\"top\": 405, \"right\": 1146, \"bottom\": 624, \"left\": 976, \"confidence\": 0.9401156902313232, \"label\": \"NO MASK\", \"img\": \"avatar_76.png\"}]}\r\n{\"frame\": 326, \"data\": [{\"top\": 405, \"right\": 1146, \"bottom\": 624, \"left\": 976, \"confidence\": 0.9399397373199463, \"label\": \"NO MASK\", \"img\": \"avatar_77.png\"}]}\r\n{\"frame\": 327, \"data\": []}\r\n{\"frame\": 328, \"data\": []}\r\n{\"frame\": 329, \"data\": []}\r\n{\"frame\": 330, \"data\": []}\r\n{\"frame\": 331, \"data\": []}\r\n{\"frame\": 332, \"data\": []}\r\n{\"frame\": 333, \"data\": []}\r\n{\"frame\": 334, \"data\": []}\r\n{\"frame\": 335, \"data\": []}\r\n{\"frame\": 336, \"data\": []}\r\n{\"frame\": 337, \"data\": []}\r\n{\"frame\": 338, \"data\": []}\r\n{\"frame\": 339, \"data\": []}\r\n{\"frame\": 340, \"data\": []}\r\n{\"frame\": 341, \"data\": []}\r\n{\"frame\": 342, \"data\": []}\r\n{\"frame\": 343, \"data\": []}\r\n{\"frame\": 344, \"data\": []}\r\n{\"frame\": 345, \"data\": []}\r\n{\"frame\": 346, \"data\": []}\r\n{\"frame\": 347, \"data\": []}\r\n{\"frame\": 348, \"data\": [{\"top\": 409, \"right\": 1572, \"bottom\": 600, \"left\": 1408, \"confidence\": 0.9742064476013184, \"label\": \"MASK\", \"img\": \"avatar_78.png\"}, {\"top\": 143, \"right\": 1228, \"bottom\": 196, \"left\": 1185, \"confidence\": 0.8204056024551392, \"label\": \"NO MASK\", \"img\": \"avatar_79.png\"}, {\"top\": 410, \"right\": 138, \"bottom\": 494, \"left\": 54, \"confidence\": 0.9706747531890869, \"label\": \"MASK\", \"img\": \"avatar_80.png\"}, {\"top\": 129, \"right\": 820, \"bottom\": 180, \"left\": 776, \"confidence\": 0.5887508392333984, \"label\": \"NO MASK\", \"img\": \"avatar_81.png\"}, {\"top\": 363, \"right\": 1183, \"bottom\": 425, \"left\": 1133, \"confidence\": 0.9646240472793579, \"label\": \"NO MASK\", \"img\": \"avatar_82.png\"}, {\"top\": 882, \"right\": 1883, \"bottom\": 1087, \"left\": 1620, \"confidence\": 0.8028345704078674, \"label\": \"NO MASK\", \"img\": \"avatar_83.png\"}, {\"top\": 210, \"right\": 761, \"bottom\": 271, \"left\": 710, \"confidence\": 0.5342882871627808, \"label\": \"NO MASK\", \"img\": \"avatar_84.png\"}]}\r\n{\"frame\": 349, \"data\": [{\"top\": 409, \"right\": 1572, \"bottom\": 600, \"left\": 1408, \"confidence\": 0.9728236794471741, \"label\": \"MASK\", \"img\": \"avatar_85.png\"}, {\"top\": 143, \"right\": 1228, \"bottom\": 196, \"left\": 1185, \"confidence\": 0.7826567888259888, \"label\": \"NO MASK\", \"img\": \"avatar_86.png\"}, {\"top\": 410, \"right\": 138, \"bottom\": 494, \"left\": 54, \"confidence\": 0.9831851124763489, \"label\": \"MASK\", \"img\": \"avatar_87.png\"}, {\"top\": 129, \"right\": 820, \"bottom\": 180, \"left\": 776, \"confidence\": 0.5990903377532959, \"label\": \"NO MASK\", \"img\": \"avatar_88.png\"}, {\"top\": 363, \"right\": 1183, \"bottom\": 425, \"left\": 1133, \"confidence\": 0.9604998230934143, \"label\": \"NO MASK\", \"img\": \"avatar_89.png\"}, {\"top\": 882, \"right\": 1883, \"bottom\": 1087, \"left\": 1620, \"confidence\": 0.8265829086303711, \"label\": \"NO MASK\", \"img\": \"avatar_90.png\"}, {\"top\": 209, \"right\": 761, \"bottom\": 270, \"left\": 711, \"confidence\": 0.5100212693214417, \"label\": \"NO MASK\", \"img\": \"avatar_91.png\"}]}\r\n{\"frame\": 350, \"data\": [{\"top\": 409, \"right\": 1572, \"bottom\": 600, \"left\": 1408, \"confidence\": 0.9760392308235168, \"label\": \"MASK\", \"img\": \"avatar_92.png\"}, {\"top\": 143, \"right\": 1228, \"bottom\": 196, \"left\": 1185, \"confidence\": 0.7826567888259888, \"label\": \"NO MASK\", \"img\": \"avatar_93.png\"}, {\"top\": 410, \"right\": 138, \"bottom\": 494, \"left\": 54, \"confidence\": 0.983734130859375, \"label\": \"MASK\", \"img\": \"avatar_94.png\"}, {\"top\": 129, \"right\": 820, \"bottom\": 180, \"left\": 776, \"confidence\": 0.5990903377532959, \"label\": \"NO MASK\", \"img\": \"avatar_95.png\"}, {\"top\": 363, \"right\": 1183, \"bottom\": 425, \"left\": 1133, \"confidence\": 0.9604998230934143, \"label\": \"NO MASK\", \"img\": \"avatar_96.png\"}, {\"top\": 882, \"right\": 1883, \"bottom\": 1087, \"left\": 1620, \"confidence\": 0.8220293521881104, \"label\": \"NO MASK\", \"img\": \"avatar_97.png\"}, {\"top\": 209, \"right\": 761, \"bottom\": 270, \"left\": 711, \"confidence\": 0.5204818844795227, \"label\": \"NO MASK\", \"img\": \"avatar_98.png\"}]}\r\n{\"frame\": 351, \"data\": [{\"top\": 410, \"right\": 1573, \"bottom\": 598, \"left\": 1412, \"confidence\": 0.9715545773506165, \"label\": \"MASK\", \"img\": \"avatar_99.png\"}, {\"top\": 141, \"right\": 1232, \"bottom\": 195, \"left\": 1188, \"confidence\": 0.8498131036758423, \"label\": \"NO MASK\", \"img\": \"avatar_100.png\"}, {\"top\": 880, \"right\": 1907, \"bottom\": 1083, \"left\": 1639, \"confidence\": 0.7591742873191833, \"label\": \"NO MASK\", \"img\": \"avatar_101.png\"}, {\"top\": 362, \"right\": 1181, \"bottom\": 423, \"left\": 1132, \"confidence\": 0.9892619848251343, \"label\": \"NO MASK\", \"img\": \"avatar_102.png\"}, {\"top\": 206, \"right\": 761, \"bottom\": 262, \"left\": 714, \"confidence\": 0.5515631437301636, \"label\": \"NO MASK\", \"img\": \"avatar_103.png\"}, {\"top\": 127, \"right\": 823, \"bottom\": 180, \"left\": 778, \"confidence\": 0.6479871869087219, \"label\": \"NO MASK\", \"img\": \"avatar_104.png\"}, {\"top\": 407, \"right\": 138, \"bottom\": 485, \"left\": 61, \"confidence\": 0.9318193793296814, \"label\": \"MASK\", \"img\": \"avatar_105.png\"}]}\r\n{\"frame\": 352, \"data\": [{\"top\": 410, \"right\": 1573, \"bottom\": 598, \"left\": 1412, \"confidence\": 0.9761919975280762, \"label\": \"MASK\", \"img\": \"avatar_106.png\"}, {\"top\": 141, \"right\": 1232, \"bottom\": 195, \"left\": 1188, \"confidence\": 0.8421599864959717, \"label\": \"NO MASK\", \"img\": \"avatar_107.png\"}, {\"top\": 362, \"right\": 1177, \"bottom\": 423, \"left\": 1128, \"confidence\": 0.9907864928245544, \"label\": \"NO MASK\", \"img\": \"avatar_108.png\"}, {\"top\": 880, \"right\": 1907, \"bottom\": 1083, \"left\": 1638, \"confidence\": 0.8733366131782532, \"label\": \"NO MASK\", \"img\": \"avatar_109.png\"}, {\"top\": 206, \"right\": 761, \"bottom\": 262, \"left\": 714, \"confidence\": 0.509852409362793, \"label\": \"MASK\", \"img\": \"avatar_110.png\"}, {\"top\": 127, \"right\": 823, \"bottom\": 180, \"left\": 778, \"confidence\": 0.692879855632782, \"label\": \"NO MASK\", \"img\": \"avatar_111.png\"}]}\r\n{\"frame\": 353, \"data\": [{\"top\": 410, \"right\": 1573, \"bottom\": 598, \"left\": 1412, \"confidence\": 0.9742255210876465, \"label\": \"MASK\", \"img\": \"avatar_112.png\"}, {\"top\": 141, \"right\": 1232, \"bottom\": 195, \"left\": 1188, \"confidence\": 0.8496326804161072, \"label\": \"NO MASK\", \"img\": \"avatar_113.png\"}, {\"top\": 362, \"right\": 1181, \"bottom\": 422, \"left\": 1132, \"confidence\": 0.9905865788459778, \"label\": \"NO MASK\", \"img\": \"avatar_114.png\"}, {\"top\": 880, \"right\": 1908, \"bottom\": 1083, \"left\": 1638, \"confidence\": 0.8963602185249329, \"label\": \"NO MASK\", \"img\": \"avatar_115.png\"}, {\"top\": 206, \"right\": 761, \"bottom\": 262, \"left\": 714, \"confidence\": 0.5012816190719604, \"label\": \"NO MASK\", \"img\": \"avatar_116.png\"}, {\"top\": 127, \"right\": 823, \"bottom\": 180, \"left\": 778, \"confidence\": 0.6559144258499146, \"label\": \"NO MASK\", \"img\": \"avatar_117.png\"}]}\r\n{\"frame\": 354, \"data\": [{\"top\": 139, \"right\": 1233, \"bottom\": 194, \"left\": 1189, \"confidence\": 0.8932048082351685, \"label\": \"NO MASK\", \"img\": \"avatar_118.png\"}, {\"top\": 409, \"right\": 1575, \"bottom\": 597, \"left\": 1412, \"confidence\": 0.9701697826385498, \"label\": \"MASK\", \"img\": \"avatar_119.png\"}, {\"top\": 360, \"right\": 1181, \"bottom\": 423, \"left\": 1132, \"confidence\": 0.9906044602394104, \"label\": \"NO MASK\", \"img\": \"avatar_120.png\"}, {\"top\": 884, \"right\": 1915, \"bottom\": 1082, \"left\": 1650, \"confidence\": 0.960947573184967, \"label\": \"NO MASK\", \"img\": \"avatar_121.png\"}, {\"top\": 125, \"right\": 825, \"bottom\": 180, \"left\": 778, \"confidence\": 0.6892260313034058, \"label\": \"NO MASK\", \"img\": \"avatar_122.png\"}, {\"top\": 205, \"right\": 761, \"bottom\": 260, \"left\": 714, \"confidence\": 0.6243715286254883, \"label\": \"MASK\", \"img\": \"avatar_123.png\"}, {\"top\": 407, \"right\": 137, \"bottom\": 487, \"left\": 58, \"confidence\": 0.9493487477302551, \"label\": \"MASK\", \"img\": \"avatar_124.png\"}, {\"top\": 208, \"right\": 1020, \"bottom\": 274, \"left\": 968, \"confidence\": 0.9076815843582153, \"label\": \"NO MASK\", \"img\": \"avatar_125.png\"}]}\r\n{\"frame\": 355, \"data\": [{\"top\": 409, \"right\": 1575, \"bottom\": 597, \"left\": 1412, \"confidence\": 0.9782060384750366, \"label\": \"MASK\", \"img\": \"avatar_126.png\"}, {\"top\": 139, \"right\": 1233, \"bottom\": 194, \"left\": 1189, \"confidence\": 0.8965445756912231, \"label\": \"NO MASK\", \"img\": \"avatar_127.png\"}, {\"top\": 360, \"right\": 1181, \"bottom\": 423, \"left\": 1132, \"confidence\": 0.9908366203308105, \"label\": \"NO MASK\", \"img\": \"avatar_128.png\"}, {\"top\": 884, \"right\": 1914, \"bottom\": 1083, \"left\": 1651, \"confidence\": 0.9564012885093689, \"label\": \"NO MASK\", \"img\": \"avatar_129.png\"}, {\"top\": 125, \"right\": 825, \"bottom\": 180, \"left\": 778, \"confidence\": 0.7368630170822144, \"label\": \"NO MASK\", \"img\": \"avatar_130.png\"}, {\"top\": 205, \"right\": 761, \"bottom\": 260, \"left\": 714, \"confidence\": 0.6515437960624695, \"label\": \"MASK\", \"img\": \"avatar_131.png\"}, {\"top\": 407, \"right\": 137, \"bottom\": 487, \"left\": 58, \"confidence\": 0.9424285888671875, \"label\": \"MASK\", \"img\": \"avatar_132.png\"}, {\"top\": 208, \"right\": 1020, \"bottom\": 274, \"left\": 968, \"confidence\": 0.9014245271682739, \"label\": \"NO MASK\", \"img\": \"avatar_133.png\"}]}\r\n{\"frame\": 356, \"data\": [{\"top\": 409, \"right\": 1575, \"bottom\": 597, \"left\": 1412, \"confidence\": 0.9805841445922852, \"label\": \"MASK\", \"img\": \"avatar_134.png\"}, {\"top\": 139, \"right\": 1233, \"bottom\": 194, \"left\": 1189, \"confidence\": 0.8765249252319336, \"label\": \"NO MASK\", \"img\": \"avatar_135.png\"}, {\"top\": 360, \"right\": 1181, \"bottom\": 423, \"left\": 1132, \"confidence\": 0.9905056357383728, \"label\": \"NO MASK\", \"img\": \"avatar_136.png\"}, {\"top\": 884, \"right\": 1915, \"bottom\": 1083, \"left\": 1651, \"confidence\": 0.9506104588508606, \"label\": \"NO MASK\", \"img\": \"avatar_137.png\"}, {\"top\": 125, \"right\": 825, \"bottom\": 180, \"left\": 778, \"confidence\": 0.7349349856376648, \"label\": \"NO MASK\", \"img\": \"avatar_138.png\"}, {\"top\": 205, \"right\": 761, \"bottom\": 260, \"left\": 714, \"confidence\": 0.6571981906890869, \"label\": \"MASK\", \"img\": \"avatar_139.png\"}, {\"top\": 407, \"right\": 137, \"bottom\": 487, \"left\": 58, \"confidence\": 0.9415664672851562, \"label\": \"MASK\", \"img\": \"avatar_140.png\"}, {\"top\": 208, \"right\": 1020, \"bottom\": 274, \"left\": 968, \"confidence\": 0.8966464400291443, \"label\": \"NO MASK\", \"img\": \"avatar_141.png\"}]}\r\n{\"frame\": 357, \"data\": [{\"top\": 138, \"right\": 1236, \"bottom\": 193, \"left\": 1192, \"confidence\": 0.9069477319717407, \"label\": \"NO MASK\", \"img\": \"avatar_142.png\"}, {\"top\": 410, \"right\": 1578, \"bottom\": 594, \"left\": 1414, \"confidence\": 0.9674908518791199, \"label\": \"MASK\", \"img\": \"avatar_143.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 421, \"left\": 1133, \"confidence\": 0.9928997755050659, \"label\": \"NO MASK\", \"img\": \"avatar_144.png\"}, {\"top\": 888, \"right\": 1920, \"bottom\": 1084, \"left\": 1660, \"confidence\": 0.620953381061554, \"label\": \"NO MASK\", \"img\": \"avatar_145.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 183, \"left\": 778, \"confidence\": 0.6330659985542297, \"label\": \"NO MASK\", \"img\": \"avatar_146.png\"}, {\"top\": 406, \"right\": 144, \"bottom\": 486, \"left\": 65, \"confidence\": 0.9912619590759277, \"label\": \"MASK\", \"img\": \"avatar_147.png\"}, {\"top\": 206, \"right\": 763, \"bottom\": 262, \"left\": 715, \"confidence\": 0.718483567237854, \"label\": \"NO MASK\", \"img\": \"avatar_148.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.7413685917854309, \"label\": \"NO MASK\", \"img\": \"avatar_149.png\"}]}\r\n{\"frame\": 358, \"data\": [{\"top\": 138, \"right\": 1236, \"bottom\": 193, \"left\": 1192, \"confidence\": 0.9208123683929443, \"label\": \"NO MASK\", \"img\": \"avatar_150.png\"}, {\"top\": 409, \"right\": 1578, \"bottom\": 594, \"left\": 1414, \"confidence\": 0.9717126488685608, \"label\": \"MASK\", \"img\": \"avatar_151.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 421, \"left\": 1133, \"confidence\": 0.9923059344291687, \"label\": \"NO MASK\", \"img\": \"avatar_152.png\"}, {\"top\": 888, \"right\": 1921, \"bottom\": 1085, \"left\": 1660, \"confidence\": 0.6367984414100647, \"label\": \"NO MASK\", \"img\": \"avatar_153.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 183, \"left\": 778, \"confidence\": 0.6471171379089355, \"label\": \"NO MASK\", \"img\": \"avatar_154.png\"}, {\"top\": 406, \"right\": 144, \"bottom\": 487, \"left\": 65, \"confidence\": 0.9956401586532593, \"label\": \"MASK\", \"img\": \"avatar_155.png\"}, {\"top\": 206, \"right\": 763, \"bottom\": 262, \"left\": 715, \"confidence\": 0.7205913066864014, \"label\": \"NO MASK\", \"img\": \"avatar_156.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.7639577984809875, \"label\": \"NO MASK\", \"img\": \"avatar_157.png\"}]}\r\n{\"frame\": 359, \"data\": [{\"top\": 409, \"right\": 1578, \"bottom\": 594, \"left\": 1414, \"confidence\": 0.9648740291595459, \"label\": \"MASK\", \"img\": \"avatar_158.png\"}, {\"top\": 138, \"right\": 1236, \"bottom\": 193, \"left\": 1192, \"confidence\": 0.9252863526344299, \"label\": \"NO MASK\", \"img\": \"avatar_159.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 421, \"left\": 1133, \"confidence\": 0.9915322661399841, \"label\": \"NO MASK\", \"img\": \"avatar_160.png\"}, {\"top\": 888, \"right\": 1920, \"bottom\": 1085, \"left\": 1660, \"confidence\": 0.6958766579627991, \"label\": \"NO MASK\", \"img\": \"avatar_161.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 183, \"left\": 778, \"confidence\": 0.6745813488960266, \"label\": \"NO MASK\", \"img\": \"avatar_162.png\"}, {\"top\": 406, \"right\": 144, \"bottom\": 487, \"left\": 64, \"confidence\": 0.9958441853523254, \"label\": \"MASK\", \"img\": \"avatar_163.png\"}, {\"top\": 207, \"right\": 765, \"bottom\": 268, \"left\": 714, \"confidence\": 0.7462664842605591, \"label\": \"NO MASK\", \"img\": \"avatar_164.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.7703902721405029, \"label\": \"NO MASK\", \"img\": \"avatar_165.png\"}]}\r\n{\"frame\": 360, \"data\": [{\"top\": 408, \"right\": 1579, \"bottom\": 593, \"left\": 1415, \"confidence\": 0.9660901427268982, \"label\": \"MASK\", \"img\": \"avatar_166.png\"}, {\"top\": 138, \"right\": 1235, \"bottom\": 192, \"left\": 1192, \"confidence\": 0.9205747842788696, \"label\": \"NO MASK\", \"img\": \"avatar_167.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 422, \"left\": 1132, \"confidence\": 0.9928480386734009, \"label\": \"NO MASK\", \"img\": \"avatar_168.png\"}, {\"top\": 885, \"right\": 1927, \"bottom\": 1082, \"left\": 1668, \"confidence\": 0.8792014718055725, \"label\": \"NO MASK\", \"img\": \"avatar_169.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 183, \"left\": 778, \"confidence\": 0.6452524065971375, \"label\": \"NO MASK\", \"img\": \"avatar_170.png\"}, {\"top\": 405, \"right\": 143, \"bottom\": 483, \"left\": 66, \"confidence\": 0.9885623455047607, \"label\": \"MASK\", \"img\": \"avatar_171.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.5187568068504333, \"label\": \"NO MASK\", \"img\": \"avatar_172.png\"}, {\"top\": 205, \"right\": 763, \"bottom\": 262, \"left\": 714, \"confidence\": 0.6519532203674316, \"label\": \"NO MASK\", \"img\": \"avatar_173.png\"}]}\r\n{\"frame\": 361, \"data\": [{\"top\": 408, \"right\": 1579, \"bottom\": 593, \"left\": 1415, \"confidence\": 0.9646161794662476, \"label\": \"MASK\", \"img\": \"avatar_174.png\"}, {\"top\": 138, \"right\": 1236, \"bottom\": 192, \"left\": 1192, \"confidence\": 0.9211094975471497, \"label\": \"NO MASK\", \"img\": \"avatar_175.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 422, \"left\": 1132, \"confidence\": 0.9904943704605103, \"label\": \"NO MASK\", \"img\": \"avatar_176.png\"}, {\"top\": 884, \"right\": 1927, \"bottom\": 1083, \"left\": 1669, \"confidence\": 0.8836907148361206, \"label\": \"NO MASK\", \"img\": \"avatar_177.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 182, \"left\": 778, \"confidence\": 0.6657474040985107, \"label\": \"NO MASK\", \"img\": \"avatar_178.png\"}, {\"top\": 405, \"right\": 142, \"bottom\": 483, \"left\": 66, \"confidence\": 0.9869995713233948, \"label\": \"MASK\", \"img\": \"avatar_179.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.548892617225647, \"label\": \"NO MASK\", \"img\": \"avatar_180.png\"}, {\"top\": 205, \"right\": 763, \"bottom\": 262, \"left\": 714, \"confidence\": 0.6318560242652893, \"label\": \"NO MASK\", \"img\": \"avatar_181.png\"}, {\"top\": 147, \"right\": 1130, \"bottom\": 182, \"left\": 1103, \"confidence\": 0.8042590618133545, \"label\": \"NO MASK\", \"img\": \"avatar_182.png\"}]}\r\n{\"frame\": 362, \"data\": [{\"top\": 408, \"right\": 1579, \"bottom\": 593, \"left\": 1415, \"confidence\": 0.9652618169784546, \"label\": \"MASK\", \"img\": \"avatar_183.png\"}, {\"top\": 138, \"right\": 1236, \"bottom\": 192, \"left\": 1192, \"confidence\": 0.933979332447052, \"label\": \"NO MASK\", \"img\": \"avatar_184.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 422, \"left\": 1132, \"confidence\": 0.9879913926124573, \"label\": \"NO MASK\", \"img\": \"avatar_185.png\"}, {\"top\": 884, \"right\": 1927, \"bottom\": 1083, \"left\": 1669, \"confidence\": 0.8683711886405945, \"label\": \"NO MASK\", \"img\": \"avatar_186.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 182, \"left\": 778, \"confidence\": 0.6719575524330139, \"label\": \"NO MASK\", \"img\": \"avatar_187.png\"}, {\"top\": 405, \"right\": 143, \"bottom\": 484, \"left\": 66, \"confidence\": 0.9843136072158813, \"label\": \"MASK\", \"img\": \"avatar_188.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.5267874598503113, \"label\": \"NO MASK\", \"img\": \"avatar_189.png\"}, {\"top\": 205, \"right\": 763, \"bottom\": 262, \"left\": 714, \"confidence\": 0.6760652661323547, \"label\": \"NO MASK\", \"img\": \"avatar_190.png\"}, {\"top\": 147, \"right\": 1130, \"bottom\": 182, \"left\": 1103, \"confidence\": 0.8206595778465271, \"label\": \"NO MASK\", \"img\": \"avatar_191.png\"}]}\r\n{\"frame\": 363, \"data\": [{\"top\": 407, \"right\": 1585, \"bottom\": 590, \"left\": 1419, \"confidence\": 0.9704712629318237, \"label\": \"MASK\", \"img\": \"avatar_192.png\"}, {\"top\": 138, \"right\": 1238, \"bottom\": 191, \"left\": 1194, \"confidence\": 0.9184666872024536, \"label\": \"NO MASK\", \"img\": \"avatar_193.png\"}, {\"top\": 403, \"right\": 151, \"bottom\": 490, \"left\": 68, \"confidence\": 0.9918518662452698, \"label\": \"MASK\", \"img\": \"avatar_194.png\"}, {\"top\": 359, \"right\": 1183, \"bottom\": 420, \"left\": 1134, \"confidence\": 0.9922812581062317, \"label\": \"NO MASK\", \"img\": \"avatar_195.png\"}, {\"top\": 124, \"right\": 828, \"bottom\": 178, \"left\": 783, \"confidence\": 0.7018247246742249, \"label\": \"NO MASK\", \"img\": \"avatar_196.png\"}, {\"top\": 878, \"right\": 1913, \"bottom\": 1087, \"left\": 1681, \"confidence\": 0.9808447360992432, \"label\": \"NO MASK\", \"img\": \"avatar_197.png\"}, {\"top\": 206, \"right\": 1025, \"bottom\": 273, \"left\": 971, \"confidence\": 0.8722385168075562, \"label\": \"NO MASK\", \"img\": \"avatar_198.png\"}, {\"top\": 145, \"right\": 1134, \"bottom\": 182, \"left\": 1108, \"confidence\": 0.7142528295516968, \"label\": \"NO MASK\", \"img\": \"avatar_199.png\"}, {\"top\": 204, \"right\": 767, \"bottom\": 260, \"left\": 718, \"confidence\": 0.5216434597969055, \"label\": \"MASK\", \"img\": \"avatar_200.png\"}]}\r\n{\"frame\": 364, \"data\": [{\"top\": 407, \"right\": 1585, \"bottom\": 591, \"left\": 1418, \"confidence\": 0.9707546234130859, \"label\": \"MASK\", \"img\": \"avatar_201.png\"}, {\"top\": 138, \"right\": 1238, \"bottom\": 191, \"left\": 1194, \"confidence\": 0.9295082092285156, \"label\": \"NO MASK\", \"img\": \"avatar_202.png\"}, {\"top\": 403, \"right\": 152, \"bottom\": 490, \"left\": 69, \"confidence\": 0.9907666444778442, \"label\": \"MASK\", \"img\": \"avatar_203.png\"}, {\"top\": 359, \"right\": 1183, \"bottom\": 420, \"left\": 1134, \"confidence\": 0.9932449460029602, \"label\": \"NO MASK\", \"img\": \"avatar_204.png\"}, {\"top\": 879, \"right\": 1913, \"bottom\": 1086, \"left\": 1681, \"confidence\": 0.9793546199798584, \"label\": \"NO MASK\", \"img\": \"avatar_205.png\"}, {\"top\": 124, \"right\": 828, \"bottom\": 178, \"left\": 783, \"confidence\": 0.6857559084892273, \"label\": \"NO MASK\", \"img\": \"avatar_206.png\"}, {\"top\": 206, \"right\": 1025, \"bottom\": 272, \"left\": 971, \"confidence\": 0.8889843821525574, \"label\": \"NO MASK\", \"img\": \"avatar_207.png\"}, {\"top\": 145, \"right\": 1134, \"bottom\": 182, \"left\": 1108, \"confidence\": 0.7405169010162354, \"label\": \"NO MASK\", \"img\": \"avatar_208.png\"}, {\"top\": 204, \"right\": 767, \"bottom\": 260, \"left\": 718, \"confidence\": 0.667373538017273, \"label\": \"MASK\", \"img\": \"avatar_209.png\"}]}\r\n{\"frame\": 365, \"data\": [{\"top\": 407, \"right\": 1585, \"bottom\": 591, \"left\": 1418, \"confidence\": 0.9738821387290955, \"label\": \"MASK\", \"img\": \"avatar_210.png\"}, {\"top\": 138, \"right\": 1238, \"bottom\": 191, \"left\": 1194, \"confidence\": 0.9267988204956055, \"label\": \"NO MASK\", \"img\": \"avatar_211.png\"}, {\"top\": 403, \"right\": 152, \"bottom\": 490, \"left\": 69, \"confidence\": 0.9890732169151306, \"label\": \"MASK\", \"img\": \"avatar_212.png\"}, {\"top\": 359, \"right\": 1183, \"bottom\": 420, \"left\": 1135, \"confidence\": 0.9941155910491943, \"label\": \"NO MASK\", \"img\": \"avatar_213.png\"}, {\"top\": 879, \"right\": 1912, \"bottom\": 1086, \"left\": 1681, \"confidence\": 0.9845170378684998, \"label\": \"NO MASK\", \"img\": \"avatar_214.png\"}, {\"top\": 124, \"right\": 828, \"bottom\": 178, \"left\": 782, \"confidence\": 0.6823713183403015, \"label\": \"NO MASK\", \"img\": \"avatar_215.png\"}, {\"top\": 206, \"right\": 1025, \"bottom\": 272, \"left\": 971, \"confidence\": 0.8877511024475098, \"label\": \"NO MASK\", \"img\": \"avatar_216.png\"}, {\"top\": 145, \"right\": 1134, \"bottom\": 182, \"left\": 1107, \"confidence\": 0.7270761728286743, \"label\": \"NO MASK\", \"img\": \"avatar_217.png\"}, {\"top\": 204, \"right\": 767, \"bottom\": 260, \"left\": 719, \"confidence\": 0.669322669506073, \"label\": \"MASK\", \"img\": \"avatar_218.png\"}]}\r\n{\"frame\": 366, \"data\": [{\"top\": 406, \"right\": 1588, \"bottom\": 591, \"left\": 1420, \"confidence\": 0.9656765460968018, \"label\": \"MASK\", \"img\": \"avatar_219.png\"}, {\"top\": 137, \"right\": 1239, \"bottom\": 190, \"left\": 1195, \"confidence\": 0.8923057913780212, \"label\": \"NO MASK\", \"img\": \"avatar_220.png\"}, {\"top\": 401, \"right\": 152, \"bottom\": 490, \"left\": 64, \"confidence\": 0.9920225143432617, \"label\": \"MASK\", \"img\": \"avatar_221.png\"}, {\"top\": 882, \"right\": 1913, \"bottom\": 1087, \"left\": 1685, \"confidence\": 0.9583107829093933, \"label\": \"NO MASK\", \"img\": \"avatar_222.png\"}, {\"top\": 358, \"right\": 1187, \"bottom\": 420, \"left\": 1139, \"confidence\": 0.9948556423187256, \"label\": \"NO MASK\", \"img\": \"avatar_223.png\"}, {\"top\": 123, \"right\": 828, \"bottom\": 176, \"left\": 784, \"confidence\": 0.6239719390869141, \"label\": \"NO MASK\", \"img\": \"avatar_224.png\"}, {\"top\": 203, \"right\": 771, \"bottom\": 259, \"left\": 722, \"confidence\": 0.677624523639679, \"label\": \"MASK\", \"img\": \"avatar_225.png\"}, {\"top\": 204, \"right\": 1026, \"bottom\": 270, \"left\": 974, \"confidence\": 0.9156541228294373, \"label\": \"NO MASK\", \"img\": \"avatar_226.png\"}, {\"top\": 145, \"right\": 1135, \"bottom\": 182, \"left\": 1108, \"confidence\": 0.717871904373169, \"label\": \"NO MASK\", \"img\": \"avatar_227.png\"}]}\r\n{\"frame\": 367, \"data\": [{\"top\": 406, \"right\": 1588, \"bottom\": 591, \"left\": 1419, \"confidence\": 0.9590811133384705, \"label\": \"MASK\", \"img\": \"avatar_228.png\"}, {\"top\": 137, \"right\": 1239, \"bottom\": 190, \"left\": 1195, \"confidence\": 0.9026763439178467, \"label\": \"NO MASK\", \"img\": \"avatar_229.png\"}, {\"top\": 401, \"right\": 152, \"bottom\": 490, \"left\": 64, \"confidence\": 0.9898130297660828, \"label\": \"MASK\", \"img\": \"avatar_230.png\"}, {\"top\": 883, \"right\": 1914, \"bottom\": 1087, \"left\": 1686, \"confidence\": 0.9558265209197998, \"label\": \"NO MASK\", \"img\": \"avatar_231.png\"}, {\"top\": 123, \"right\": 828, \"bottom\": 177, \"left\": 783, \"confidence\": 0.6724733114242554, \"label\": \"NO MASK\", \"img\": \"avatar_232.png\"}, {\"top\": 358, \"right\": 1187, \"bottom\": 420, \"left\": 1139, \"confidence\": 0.994384765625, \"label\": \"NO MASK\", \"img\": \"avatar_233.png\"}, {\"top\": 203, \"right\": 771, \"bottom\": 258, \"left\": 722, \"confidence\": 0.7402500510215759, \"label\": \"MASK\", \"img\": \"avatar_234.png\"}, {\"top\": 204, \"right\": 1026, \"bottom\": 270, \"left\": 974, \"confidence\": 0.9262152910232544, \"label\": \"NO MASK\", \"img\": \"avatar_235.png\"}]}\r\n{\"frame\": 368, \"data\": [{\"top\": 406, \"right\": 1587, \"bottom\": 591, \"left\": 1419, \"confidence\": 0.953015923500061, \"label\": \"MASK\", \"img\": \"avatar_236.png\"}, {\"top\": 137, \"right\": 1239, \"bottom\": 190, \"left\": 1195, \"confidence\": 0.8999149799346924, \"label\": \"NO MASK\", \"img\": \"avatar_237.png\"}, {\"top\": 401, \"right\": 152, \"bottom\": 490, \"left\": 64, \"confidence\": 0.9898083806037903, \"label\": \"MASK\", \"img\": \"avatar_238.png\"}, {\"top\": 882, \"right\": 1914, \"bottom\": 1087, \"left\": 1685, \"confidence\": 0.95787113904953, \"label\": \"NO MASK\", \"img\": \"avatar_239.png\"}, {\"top\": 358, \"right\": 1187, \"bottom\": 420, \"left\": 1139, \"confidence\": 0.9950568675994873, \"label\": \"NO MASK\", \"img\": \"avatar_240.png\"}, {\"top\": 123, \"right\": 828, \"bottom\": 176, \"left\": 783, \"confidence\": 0.6499022245407104, \"label\": \"NO MASK\", \"img\": \"avatar_241.png\"}, {\"top\": 203, \"right\": 771, \"bottom\": 259, \"left\": 722, \"confidence\": 0.7635190486907959, \"label\": \"MASK\", \"img\": \"avatar_242.png\"}, {\"top\": 204, \"right\": 1026, \"bottom\": 270, \"left\": 974, \"confidence\": 0.9214423894882202, \"label\": \"NO MASK\", \"img\": \"avatar_243.png\"}]}\r\n{\"frame\": 369, \"data\": [{\"top\": 407, \"right\": 1590, \"bottom\": 590, \"left\": 1425, \"confidence\": 0.9869070053100586, \"label\": \"MASK\", \"img\": \"avatar_244.png\"}, {\"top\": 136, \"right\": 1242, \"bottom\": 188, \"left\": 1199, \"confidence\": 0.9327781200408936, \"label\": \"NO MASK\", \"img\": \"avatar_245.png\"}, {\"top\": 400, \"right\": 153, \"bottom\": 485, \"left\": 70, \"confidence\": 0.9598106741905212, \"label\": \"MASK\", \"img\": \"avatar_246.png\"}, {\"top\": 122, \"right\": 831, \"bottom\": 176, \"left\": 786, \"confidence\": 0.6617794036865234, \"label\": \"NO MASK\", \"img\": \"avatar_247.png\"}, {\"top\": 201, \"right\": 772, \"bottom\": 258, \"left\": 723, \"confidence\": 0.7631978392601013, \"label\": \"MASK\", \"img\": \"avatar_248.png\"}, {\"top\": 358, \"right\": 1195, \"bottom\": 419, \"left\": 1147, \"confidence\": 0.9827330112457275, \"label\": \"NO MASK\", \"img\": \"avatar_249.png\"}, {\"top\": 881, \"right\": 1911, \"bottom\": 1180, \"left\": 1709, \"confidence\": 0.5016061067581177, \"label\": \"NO MASK\", \"img\": \"avatar_250.png\"}, {\"top\": 202, \"right\": 1028, \"bottom\": 259, \"left\": 979, \"confidence\": 0.8531720042228699, \"label\": \"NO MASK\", \"img\": \"avatar_251.png\"}]}\r\n{\"frame\": 370, \"data\": [{\"top\": 407, \"right\": 1590, \"bottom\": 590, \"left\": 1425, \"confidence\": 0.9878250956535339, \"label\": \"MASK\", \"img\": \"avatar_252.png\"}, {\"top\": 136, \"right\": 1242, \"bottom\": 188, \"left\": 1199, \"confidence\": 0.9290982484817505, \"label\": \"NO MASK\", \"img\": \"avatar_253.png\"}, {\"top\": 401, \"right\": 154, \"bottom\": 486, \"left\": 70, \"confidence\": 0.988031268119812, \"label\": \"MASK\", \"img\": \"avatar_254.png\"}, {\"top\": 122, \"right\": 831, \"bottom\": 175, \"left\": 786, \"confidence\": 0.6397961378097534, \"label\": \"NO MASK\", \"img\": \"avatar_255.png\"}, {\"top\": 201, \"right\": 772, \"bottom\": 258, \"left\": 723, \"confidence\": 0.7532286643981934, \"label\": \"MASK\", \"img\": \"avatar_256.png\"}, {\"top\": 879, \"right\": 1912, \"bottom\": 1179, \"left\": 1708, \"confidence\": 0.5271076560020447, \"label\": \"NO MASK\", \"img\": \"avatar_257.png\"}, {\"top\": 358, \"right\": 1195, \"bottom\": 419, \"left\": 1147, \"confidence\": 0.9862483143806458, \"label\": \"NO MASK\", \"img\": \"avatar_258.png\"}, {\"top\": 202, \"right\": 1028, \"bottom\": 260, \"left\": 979, \"confidence\": 0.8565409779548645, \"label\": \"NO MASK\", \"img\": \"avatar_259.png\"}]}\r\n{\"frame\": 371, \"data\": [{\"top\": 407, \"right\": 1590, \"bottom\": 590, \"left\": 1425, \"confidence\": 0.9882014393806458, \"label\": \"MASK\", \"img\": \"avatar_260.png\"}, {\"top\": 136, \"right\": 1242, \"bottom\": 188, \"left\": 1199, \"confidence\": 0.9468767046928406, \"label\": \"NO MASK\", \"img\": \"avatar_261.png\"}, {\"top\": 401, \"right\": 154, \"bottom\": 486, \"left\": 70, \"confidence\": 0.9902471303939819, \"label\": \"MASK\", \"img\": \"avatar_262.png\"}, {\"top\": 122, \"right\": 831, \"bottom\": 175, \"left\": 786, \"confidence\": 0.6707185506820679, \"label\": \"NO MASK\", \"img\": \"avatar_263.png\"}, {\"top\": 201, \"right\": 772, \"bottom\": 258, \"left\": 723, \"confidence\": 0.7501132488250732, \"label\": \"MASK\", \"img\": \"avatar_264.png\"}, {\"top\": 879, \"right\": 1911, \"bottom\": 1179, \"left\": 1708, \"confidence\": 0.5714389085769653, \"label\": \"NO MASK\", \"img\": \"avatar_265.png\"}, {\"top\": 358, \"right\": 1195, \"bottom\": 419, \"left\": 1148, \"confidence\": 0.9801415205001831, \"label\": \"NO MASK\", \"img\": \"avatar_266.png\"}, {\"top\": 202, \"right\": 1028, \"bottom\": 259, \"left\": 979, \"confidence\": 0.8965280652046204, \"label\": \"NO MASK\", \"img\": \"avatar_267.png\"}]}\r\n{\"frame\": 372, \"data\": [{\"top\": 407, \"right\": 1592, \"bottom\": 590, \"left\": 1426, \"confidence\": 0.9510422348976135, \"label\": \"MASK\", \"img\": \"avatar_268.png\"}, {\"top\": 135, \"right\": 1243, \"bottom\": 186, \"left\": 1201, \"confidence\": 0.9189513921737671, \"label\": \"NO MASK\", \"img\": \"avatar_269.png\"}, {\"top\": 401, \"right\": 155, \"bottom\": 487, \"left\": 75, \"confidence\": 0.9903027415275574, \"label\": \"MASK\", \"img\": \"avatar_270.png\"}, {\"top\": 121, \"right\": 833, \"bottom\": 176, \"left\": 789, \"confidence\": 0.6545704007148743, \"label\": \"NO MASK\", \"img\": \"avatar_271.png\"}, {\"top\": 200, \"right\": 774, \"bottom\": 257, \"left\": 725, \"confidence\": 0.7498610019683838, \"label\": \"MASK\", \"img\": \"avatar_272.png\"}, {\"top\": 879, \"right\": 1913, \"bottom\": 1170, \"left\": 1717, \"confidence\": 0.6197930574417114, \"label\": \"NO MASK\", \"img\": \"avatar_273.png\"}, {\"top\": 359, \"right\": 1198, \"bottom\": 419, \"left\": 1149, \"confidence\": 0.965852677822113, \"label\": \"NO MASK\", \"img\": \"avatar_274.png\"}, {\"top\": 200, \"right\": 1029, \"bottom\": 252, \"left\": 983, \"confidence\": 0.8875292539596558, \"label\": \"NO MASK\", \"img\": \"avatar_275.png\"}]}\r\n{\"frame\": 373, \"data\": [{\"top\": 407, \"right\": 1592, \"bottom\": 590, \"left\": 1425, \"confidence\": 0.9614428281784058, \"label\": \"MASK\", \"img\": \"avatar_276.png\"}, {\"top\": 135, \"right\": 1243, \"bottom\": 186, \"left\": 1201, \"confidence\": 0.9276768565177917, \"label\": \"NO MASK\", \"img\": \"avatar_277.png\"}, {\"top\": 401, \"right\": 155, \"bottom\": 487, \"left\": 75, \"confidence\": 0.9931163191795349, \"label\": \"MASK\", \"img\": \"avatar_278.png\"}, {\"top\": 121, \"right\": 833, \"bottom\": 176, \"left\": 789, \"confidence\": 0.6788877248764038, \"label\": \"NO MASK\", \"img\": \"avatar_279.png\"}, {\"top\": 200, \"right\": 774, \"bottom\": 257, \"left\": 725, \"confidence\": 0.7410381436347961, \"label\": \"MASK\", \"img\": \"avatar_280.png\"}, {\"top\": 878, \"right\": 1921, \"bottom\": 1081, \"left\": 1702, \"confidence\": 0.9737942218780518, \"label\": \"NO MASK\", \"img\": \"avatar_281.png\"}, {\"top\": 358, \"right\": 1198, \"bottom\": 419, \"left\": 1149, \"confidence\": 0.9694979190826416, \"label\": \"NO MASK\", \"img\": \"avatar_282.png\"}, {\"top\": 200, \"right\": 1029, \"bottom\": 253, \"left\": 983, \"confidence\": 0.8986945152282715, \"label\": \"NO MASK\", \"img\": \"avatar_283.png\"}]}\r\n{\"frame\": 374, \"data\": [{\"top\": 407, \"right\": 1592, \"bottom\": 590, \"left\": 1425, \"confidence\": 0.9669730067253113, \"label\": \"MASK\", \"img\": \"avatar_284.png\"}, {\"top\": 135, \"right\": 1243, \"bottom\": 186, \"left\": 1201, \"confidence\": 0.9259792566299438, \"label\": \"NO MASK\", \"img\": \"avatar_285.png\"}, {\"top\": 401, \"right\": 155, \"bottom\": 487, \"left\": 75, \"confidence\": 0.9951323866844177, \"label\": \"MASK\", \"img\": \"avatar_286.png\"}, {\"top\": 121, \"right\": 833, \"bottom\": 176, \"left\": 789, \"confidence\": 0.6778050065040588, \"label\": \"NO MASK\", \"img\": \"avatar_287.png\"}, {\"top\": 200, \"right\": 774, \"bottom\": 257, \"left\": 725, \"confidence\": 0.7546783685684204, \"label\": \"MASK\", \"img\": \"avatar_288.png\"}, {\"top\": 878, \"right\": 1920, \"bottom\": 1081, \"left\": 1702, \"confidence\": 0.9612632393836975, \"label\": \"NO MASK\", \"img\": \"avatar_289.png\"}, {\"top\": 358, \"right\": 1198, \"bottom\": 419, \"left\": 1148, \"confidence\": 0.9678477048873901, \"label\": \"NO MASK\", \"img\": \"avatar_290.png\"}, {\"top\": 200, \"right\": 1029, \"bottom\": 253, \"left\": 983, \"confidence\": 0.8970461487770081, \"label\": \"NO MASK\", \"img\": \"avatar_291.png\"}]}\r\n{\"frame\": 375, \"data\": [{\"top\": 407, \"right\": 1595, \"bottom\": 588, \"left\": 1429, \"confidence\": 0.9231461882591248, \"label\": \"MASK\", \"img\": \"avatar_292.png\"}, {\"top\": 134, \"right\": 1249, \"bottom\": 189, \"left\": 1206, \"confidence\": 0.8909190893173218, \"label\": \"NO MASK\", \"img\": \"avatar_293.png\"}, {\"top\": 400, \"right\": 161, \"bottom\": 485, \"left\": 82, \"confidence\": 0.9762109518051147, \"label\": \"MASK\", \"img\": \"avatar_294.png\"}, {\"top\": 121, \"right\": 838, \"bottom\": 175, \"left\": 794, \"confidence\": 0.7300719022750854, \"label\": \"NO MASK\", \"img\": \"avatar_295.png\"}, {\"top\": 889, \"right\": 1919, \"bottom\": 1078, \"left\": 1713, \"confidence\": 0.714560329914093, \"label\": \"NO MASK\", \"img\": \"avatar_296.png\"}, {\"top\": 357, \"right\": 1201, \"bottom\": 419, \"left\": 1151, \"confidence\": 0.9732637405395508, \"label\": \"NO MASK\", \"img\": \"avatar_297.png\"}, {\"top\": 200, \"right\": 777, \"bottom\": 257, \"left\": 728, \"confidence\": 0.6514412760734558, \"label\": \"MASK\", \"img\": \"avatar_298.png\"}, {\"top\": 202, \"right\": 1034, \"bottom\": 258, \"left\": 986, \"confidence\": 0.8285898566246033, \"label\": \"NO MASK\", \"img\": \"avatar_299.png\"}]}\r\n{\"frame\": 376, \"data\": [{\"top\": 407, \"right\": 1595, \"bottom\": 588, \"left\": 1428, \"confidence\": 0.931591808795929, \"label\": \"MASK\", \"img\": \"avatar_300.png\"}, {\"top\": 134, \"right\": 1249, \"bottom\": 188, \"left\": 1206, \"confidence\": 0.8711420893669128, \"label\": \"NO MASK\", \"img\": \"avatar_301.png\"}, {\"top\": 400, \"right\": 161, \"bottom\": 484, \"left\": 82, \"confidence\": 0.9804156422615051, \"label\": \"MASK\", \"img\": \"avatar_302.png\"}, {\"top\": 890, \"right\": 1919, \"bottom\": 1078, \"left\": 1714, \"confidence\": 0.7585670351982117, \"label\": \"NO MASK\", \"img\": \"avatar_303.png\"}, {\"top\": 121, \"right\": 838, \"bottom\": 174, \"left\": 794, \"confidence\": 0.7185913324356079, \"label\": \"NO MASK\", \"img\": \"avatar_304.png\"}, {\"top\": 357, \"right\": 1202, \"bottom\": 420, \"left\": 1152, \"confidence\": 0.9735649228096008, \"label\": \"NO MASK\", \"img\": \"avatar_305.png\"}, {\"top\": 200, \"right\": 777, \"bottom\": 257, \"left\": 728, \"confidence\": 0.6532777547836304, \"label\": \"MASK\", \"img\": \"avatar_306.png\"}, {\"top\": 202, \"right\": 1034, \"bottom\": 258, \"left\": 986, \"confidence\": 0.7952319383621216, \"label\": \"NO MASK\", \"img\": \"avatar_307.png\"}]}\r\n{\"frame\": 377, \"data\": [{\"top\": 407, \"right\": 1596, \"bottom\": 588, \"left\": 1429, \"confidence\": 0.928194522857666, \"label\": \"MASK\", \"img\": \"avatar_308.png\"}, {\"top\": 134, \"right\": 1249, \"bottom\": 188, \"left\": 1206, \"confidence\": 0.8813446164131165, \"label\": \"NO MASK\", \"img\": \"avatar_309.png\"}, {\"top\": 400, \"right\": 161, \"bottom\": 484, \"left\": 82, \"confidence\": 0.9814286231994629, \"label\": \"MASK\", \"img\": \"avatar_310.png\"}, {\"top\": 890, \"right\": 1919, \"bottom\": 1078, \"left\": 1713, \"confidence\": 0.730391800403595, \"label\": \"NO MASK\", \"img\": \"avatar_311.png\"}, {\"top\": 121, \"right\": 838, \"bottom\": 174, \"left\": 794, \"confidence\": 0.7124685645103455, \"label\": \"NO MASK\", \"img\": \"avatar_312.png\"}, {\"top\": 357, \"right\": 1201, \"bottom\": 419, \"left\": 1151, \"confidence\": 0.9683991074562073, \"label\": \"NO MASK\", \"img\": \"avatar_313.png\"}, {\"top\": 200, \"right\": 777, \"bottom\": 257, \"left\": 728, \"confidence\": 0.7053942680358887, \"label\": \"MASK\", \"img\": \"avatar_314.png\"}, {\"top\": 202, \"right\": 1034, \"bottom\": 258, \"left\": 986, \"confidence\": 0.7712276577949524, \"label\": \"NO MASK\", \"img\": \"avatar_315.png\"}]}\r\n{\"frame\": 378, \"data\": [{\"top\": 403, \"right\": 1608, \"bottom\": 591, \"left\": 1439, \"confidence\": 0.9731517434120178, \"label\": \"MASK\", \"img\": \"avatar_316.png\"}, {\"top\": 133, \"right\": 1255, \"bottom\": 184, \"left\": 1212, \"confidence\": 0.8407090306282043, \"label\": \"NO MASK\", \"img\": \"avatar_317.png\"}, {\"top\": 398, \"right\": 168, \"bottom\": 485, \"left\": 86, \"confidence\": 0.9857229590415955, \"label\": \"MASK\", \"img\": \"avatar_318.png\"}, {\"top\": 120, \"right\": 844, \"bottom\": 175, \"left\": 798, \"confidence\": 0.6868234872817993, \"label\": \"NO MASK\", \"img\": \"avatar_319.png\"}, {\"top\": 894, \"right\": 1912, \"bottom\": 1086, \"left\": 1765, \"confidence\": 0.9795411229133606, \"label\": \"NO MASK\", \"img\": \"avatar_320.png\"}, {\"top\": 199, \"right\": 786, \"bottom\": 254, \"left\": 737, \"confidence\": 0.778511106967926, \"label\": \"MASK\", \"img\": \"avatar_321.png\"}, {\"top\": 356, \"right\": 1203, \"bottom\": 417, \"left\": 1153, \"confidence\": 0.9919869899749756, \"label\": \"NO MASK\", \"img\": \"avatar_322.png\"}, {\"top\": 201, \"right\": 1039, \"bottom\": 263, \"left\": 988, \"confidence\": 0.7877511382102966, \"label\": \"NO MASK\", \"img\": \"avatar_323.png\"}]}\r\n{\"frame\": 379, \"data\": [{\"top\": 403, \"right\": 1608, \"bottom\": 591, \"left\": 1439, \"confidence\": 0.977640688419342, \"label\": \"MASK\", \"img\": \"avatar_324.png\"}, {\"top\": 133, \"right\": 1255, \"bottom\": 184, \"left\": 1212, \"confidence\": 0.8214764595031738, \"label\": \"NO MASK\", \"img\": \"avatar_325.png\"}, {\"top\": 397, \"right\": 168, \"bottom\": 485, \"left\": 86, \"confidence\": 0.986068844795227, \"label\": \"MASK\", \"img\": \"avatar_326.png\"}, {\"top\": 120, \"right\": 844, \"bottom\": 175, \"left\": 798, \"confidence\": 0.6271835565567017, \"label\": \"NO MASK\", \"img\": \"avatar_327.png\"}, {\"top\": 894, \"right\": 1912, \"bottom\": 1086, \"left\": 1764, \"confidence\": 0.9699982404708862, \"label\": \"NO MASK\", \"img\": \"avatar_328.png\"}, {\"top\": 355, \"right\": 1203, \"bottom\": 417, \"left\": 1153, \"confidence\": 0.9946927428245544, \"label\": \"NO MASK\", \"img\": \"avatar_329.png\"}, {\"top\": 199, \"right\": 786, \"bottom\": 254, \"left\": 737, \"confidence\": 0.8341957926750183, \"label\": \"MASK\", \"img\": \"avatar_330.png\"}, {\"top\": 201, \"right\": 1039, \"bottom\": 263, \"left\": 988, \"confidence\": 0.8628202676773071, \"label\": \"NO MASK\", \"img\": \"avatar_331.png\"}]}\r\n{\"frame\": 380, \"data\": [{\"top\": 403, \"right\": 1608, \"bottom\": 591, \"left\": 1439, \"confidence\": 0.9729830026626587, \"label\": \"MASK\", \"img\": \"avatar_332.png\"}, {\"top\": 133, \"right\": 1255, \"bottom\": 184, \"left\": 1212, \"confidence\": 0.843529224395752, \"label\": \"NO MASK\", \"img\": \"avatar_333.png\"}, {\"top\": 397, \"right\": 168, \"bottom\": 485, \"left\": 86, \"confidence\": 0.9888153672218323, \"label\": \"MASK\", \"img\": \"avatar_334.png\"}, {\"top\": 120, \"right\": 844, \"bottom\": 175, \"left\": 798, \"confidence\": 0.6474432945251465, \"label\": \"NO MASK\", \"img\": \"avatar_335.png\"}, {\"top\": 894, \"right\": 1912, \"bottom\": 1086, \"left\": 1764, \"confidence\": 0.9707130193710327, \"label\": \"NO MASK\", \"img\": \"avatar_336.png\"}, {\"top\": 355, \"right\": 1203, \"bottom\": 417, \"left\": 1152, \"confidence\": 0.9936994314193726, \"label\": \"NO MASK\", \"img\": \"avatar_337.png\"}, {\"top\": 199, \"right\": 786, \"bottom\": 254, \"left\": 737, \"confidence\": 0.8301119804382324, \"label\": \"MASK\", \"img\": \"avatar_338.png\"}, {\"top\": 201, \"right\": 1039, \"bottom\": 263, \"left\": 988, \"confidence\": 0.8269749283790588, \"label\": \"NO MASK\", \"img\": \"avatar_339.png\"}]}\r\n{\"frame\": 381, \"data\": [{\"top\": 401, \"right\": 1646, \"bottom\": 589, \"left\": 1474, \"confidence\": 0.9899078607559204, \"label\": \"MASK\", \"img\": \"avatar_340.png\"}, {\"top\": 128, \"right\": 1288, \"bottom\": 182, \"left\": 1243, \"confidence\": 0.9306778311729431, \"label\": \"NO MASK\", \"img\": \"avatar_341.png\"}, {\"top\": 116, \"right\": 875, \"bottom\": 169, \"left\": 830, \"confidence\": 0.7164577841758728, \"label\": \"NO MASK\", \"img\": \"avatar_342.png\"}, {\"top\": 352, \"right\": 1230, \"bottom\": 415, \"left\": 1177, \"confidence\": 0.985782265663147, \"label\": \"NO MASK\", \"img\": \"avatar_343.png\"}, {\"top\": 392, \"right\": 205, \"bottom\": 475, \"left\": 127, \"confidence\": 0.9887358546257019, \"label\": \"MASK\", \"img\": \"avatar_344.png\"}, {\"top\": 194, \"right\": 1070, \"bottom\": 259, \"left\": 1017, \"confidence\": 0.9123241305351257, \"label\": \"NO MASK\", \"img\": \"avatar_345.png\"}, {\"top\": 195, \"right\": 814, \"bottom\": 256, \"left\": 763, \"confidence\": 0.6771950125694275, \"label\": \"NO MASK\", \"img\": \"avatar_346.png\"}]}\r\n{\"frame\": 382, \"data\": [{\"top\": 128, \"right\": 1288, \"bottom\": 182, \"left\": 1243, \"confidence\": 0.9277163743972778, \"label\": \"NO MASK\", \"img\": \"avatar_347.png\"}, {\"top\": 401, \"right\": 1646, \"bottom\": 589, \"left\": 1474, \"confidence\": 0.988438069820404, \"label\": \"MASK\", \"img\": \"avatar_348.png\"}, {\"top\": 116, \"right\": 875, \"bottom\": 169, \"left\": 829, \"confidence\": 0.6622663140296936, \"label\": \"NO MASK\", \"img\": \"avatar_349.png\"}, {\"top\": 352, \"right\": 1229, \"bottom\": 414, \"left\": 1177, \"confidence\": 0.9793755412101746, \"label\": \"NO MASK\", \"img\": \"avatar_350.png\"}, {\"top\": 392, \"right\": 206, \"bottom\": 475, \"left\": 127, \"confidence\": 0.9865288734436035, \"label\": \"MASK\", \"img\": \"avatar_351.png\"}, {\"top\": 194, \"right\": 1070, \"bottom\": 258, \"left\": 1017, \"confidence\": 0.8766648769378662, \"label\": \"NO MASK\", \"img\": \"avatar_352.png\"}, {\"top\": 195, \"right\": 814, \"bottom\": 256, \"left\": 763, \"confidence\": 0.6930936574935913, \"label\": \"NO MASK\", \"img\": \"avatar_353.png\"}]}\r\n{\"frame\": 383, \"data\": [{\"top\": 128, \"right\": 1288, \"bottom\": 182, \"left\": 1243, \"confidence\": 0.9218971729278564, \"label\": \"NO MASK\", \"img\": \"avatar_354.png\"}, {\"top\": 401, \"right\": 1646, \"bottom\": 589, \"left\": 1475, \"confidence\": 0.985683023929596, \"label\": \"MASK\", \"img\": \"avatar_355.png\"}, {\"top\": 116, \"right\": 875, \"bottom\": 169, \"left\": 829, \"confidence\": 0.7039740085601807, \"label\": \"NO MASK\", \"img\": \"avatar_356.png\"}, {\"top\": 352, \"right\": 1229, \"bottom\": 414, \"left\": 1177, \"confidence\": 0.9827002882957458, \"label\": \"NO MASK\", \"img\": \"avatar_357.png\"}, {\"top\": 392, \"right\": 206, \"bottom\": 475, \"left\": 127, \"confidence\": 0.9842119812965393, \"label\": \"MASK\", \"img\": \"avatar_358.png\"}, {\"top\": 194, \"right\": 1070, \"bottom\": 259, \"left\": 1017, \"confidence\": 0.8762603998184204, \"label\": \"NO MASK\", \"img\": \"avatar_359.png\"}, {\"top\": 195, \"right\": 814, \"bottom\": 256, \"left\": 763, \"confidence\": 0.6925426125526428, \"label\": \"NO MASK\", \"img\": \"avatar_360.png\"}]}\r\n{\"frame\": 384, \"data\": [{\"top\": 401, \"right\": 1658, \"bottom\": 589, \"left\": 1483, \"confidence\": 0.9850649237632751, \"label\": \"MASK\", \"img\": \"avatar_361.png\"}, {\"top\": 129, \"right\": 1297, \"bottom\": 182, \"left\": 1254, \"confidence\": 0.841444194316864, \"label\": \"NO MASK\", \"img\": \"avatar_362.png\"}, {\"top\": 115, \"right\": 882, \"bottom\": 167, \"left\": 838, \"confidence\": 0.6721587777137756, \"label\": \"NO MASK\", \"img\": \"avatar_363.png\"}, {\"top\": 393, \"right\": 219, \"bottom\": 478, \"left\": 138, \"confidence\": 0.9861233234405518, \"label\": \"MASK\", \"img\": \"avatar_364.png\"}, {\"top\": 352, \"right\": 1244, \"bottom\": 413, \"left\": 1193, \"confidence\": 0.9782481789588928, \"label\": \"NO MASK\", \"img\": \"avatar_365.png\"}, {\"top\": 195, \"right\": 822, \"bottom\": 253, \"left\": 773, \"confidence\": 0.5573281645774841, \"label\": \"NO MASK\", \"img\": \"avatar_366.png\"}, {\"top\": 195, \"right\": 1079, \"bottom\": 248, \"left\": 1030, \"confidence\": 0.9233647584915161, \"label\": \"NO MASK\", \"img\": \"avatar_367.png\"}]}\r\n{\"frame\": 385, \"data\": [{\"top\": 401, \"right\": 1658, \"bottom\": 589, \"left\": 1483, \"confidence\": 0.9846301674842834, \"label\": \"MASK\", \"img\": \"avatar_368.png\"}, {\"top\": 129, \"right\": 1297, \"bottom\": 182, \"left\": 1254, \"confidence\": 0.8423606157302856, \"label\": \"NO MASK\", \"img\": \"avatar_369.png\"}, {\"top\": 115, \"right\": 882, \"bottom\": 167, \"left\": 838, \"confidence\": 0.6726318001747131, \"label\": \"NO MASK\", \"img\": \"avatar_370.png\"}, {\"top\": 392, \"right\": 219, \"bottom\": 478, \"left\": 137, \"confidence\": 0.9847367405891418, \"label\": \"MASK\", \"img\": \"avatar_371.png\"}, {\"top\": 352, \"right\": 1244, \"bottom\": 413, \"left\": 1193, \"confidence\": 0.9739900231361389, \"label\": \"NO MASK\", \"img\": \"avatar_372.png\"}, {\"top\": 195, \"right\": 822, \"bottom\": 253, \"left\": 773, \"confidence\": 0.5149422287940979, \"label\": \"NO MASK\", \"img\": \"avatar_373.png\"}, {\"top\": 195, \"right\": 1079, \"bottom\": 248, \"left\": 1030, \"confidence\": 0.9264219403266907, \"label\": \"NO MASK\", \"img\": \"avatar_374.png\"}]}\r\n{\"frame\": 386, \"data\": [{\"top\": 401, \"right\": 1658, \"bottom\": 589, \"left\": 1483, \"confidence\": 0.9844210147857666, \"label\": \"MASK\", \"img\": \"avatar_375.png\"}, {\"top\": 129, \"right\": 1297, \"bottom\": 182, \"left\": 1254, \"confidence\": 0.8370271921157837, \"label\": \"NO MASK\", \"img\": \"avatar_376.png\"}, {\"top\": 115, \"right\": 882, \"bottom\": 167, \"left\": 838, \"confidence\": 0.6660107374191284, \"label\": \"NO MASK\", \"img\": \"avatar_377.png\"}, {\"top\": 392, \"right\": 219, \"bottom\": 478, \"left\": 137, \"confidence\": 0.9845761060714722, \"label\": \"MASK\", \"img\": \"avatar_378.png\"}, {\"top\": 352, \"right\": 1244, \"bottom\": 413, \"left\": 1193, \"confidence\": 0.9760541915893555, \"label\": \"NO MASK\", \"img\": \"avatar_379.png\"}, {\"top\": 195, \"right\": 822, \"bottom\": 253, \"left\": 773, \"confidence\": 0.5160859823226929, \"label\": \"NO MASK\", \"img\": \"avatar_380.png\"}, {\"top\": 195, \"right\": 1079, \"bottom\": 248, \"left\": 1030, \"confidence\": 0.9231067299842834, \"label\": \"NO MASK\", \"img\": \"avatar_381.png\"}]}\r\n{\"frame\": 387, \"data\": [{\"top\": 125, \"right\": 1316, \"bottom\": 179, \"left\": 1272, \"confidence\": 0.9132769107818604, \"label\": \"NO MASK\", \"img\": \"avatar_382.png\"}, {\"top\": 400, \"right\": 1678, \"bottom\": 585, \"left\": 1509, \"confidence\": 0.9531798362731934, \"label\": \"MASK\", \"img\": \"avatar_383.png\"}, {\"top\": 113, \"right\": 899, \"bottom\": 165, \"left\": 855, \"confidence\": 0.6972672939300537, \"label\": \"NO MASK\", \"img\": \"avatar_384.png\"}, {\"top\": 387, \"right\": 238, \"bottom\": 475, \"left\": 159, \"confidence\": 0.9897061586380005, \"label\": \"MASK\", \"img\": \"avatar_385.png\"}, {\"top\": 349, \"right\": 1256, \"bottom\": 407, \"left\": 1208, \"confidence\": 0.9205836653709412, \"label\": \"NO MASK\", \"img\": \"avatar_386.png\"}, {\"top\": 193, \"right\": 841, \"bottom\": 254, \"left\": 790, \"confidence\": 0.7446568608283997, \"label\": \"NO MASK\", \"img\": \"avatar_387.png\"}, {\"top\": 194, \"right\": 1095, \"bottom\": 246, \"left\": 1047, \"confidence\": 0.7453272342681885, \"label\": \"NO MASK\", \"img\": \"avatar_388.png\"}]}\r\n{\"frame\": 388, \"data\": [{\"top\": 125, \"right\": 1316, \"bottom\": 179, \"left\": 1272, \"confidence\": 0.9047728776931763, \"label\": \"NO MASK\", \"img\": \"avatar_389.png\"}, {\"top\": 400, \"right\": 1679, \"bottom\": 585, \"left\": 1509, \"confidence\": 0.9426754713058472, \"label\": \"MASK\", \"img\": \"avatar_390.png\"}, {\"top\": 113, \"right\": 899, \"bottom\": 166, \"left\": 855, \"confidence\": 0.700537383556366, \"label\": \"NO MASK\", \"img\": \"avatar_391.png\"}, {\"top\": 388, \"right\": 238, \"bottom\": 474, \"left\": 159, \"confidence\": 0.9880473613739014, \"label\": \"MASK\", \"img\": \"avatar_392.png\"}, {\"top\": 349, \"right\": 1255, \"bottom\": 407, \"left\": 1207, \"confidence\": 0.926731526851654, \"label\": \"NO MASK\", \"img\": \"avatar_393.png\"}, {\"top\": 193, \"right\": 841, \"bottom\": 254, \"left\": 790, \"confidence\": 0.7814025282859802, \"label\": \"NO MASK\", \"img\": \"avatar_394.png\"}, {\"top\": 194, \"right\": 1095, \"bottom\": 246, \"left\": 1047, \"confidence\": 0.8086709976196289, \"label\": \"NO MASK\", \"img\": \"avatar_395.png\"}]}\r\n{\"frame\": 389, \"data\": [{\"top\": 125, \"right\": 1316, \"bottom\": 179, \"left\": 1272, \"confidence\": 0.9078701138496399, \"label\": \"NO MASK\", \"img\": \"avatar_396.png\"}, {\"top\": 400, \"right\": 1678, \"bottom\": 585, \"left\": 1509, \"confidence\": 0.9508084058761597, \"label\": \"MASK\", \"img\": \"avatar_397.png\"}, {\"top\": 113, \"right\": 899, \"bottom\": 166, \"left\": 855, \"confidence\": 0.7047000527381897, \"label\": \"NO MASK\", \"img\": \"avatar_398.png\"}, {\"top\": 387, \"right\": 238, \"bottom\": 474, \"left\": 159, \"confidence\": 0.9863155484199524, \"label\": \"MASK\", \"img\": \"avatar_399.png\"}, {\"top\": 349, \"right\": 1255, \"bottom\": 407, \"left\": 1207, \"confidence\": 0.918807327747345, \"label\": \"NO MASK\", \"img\": \"avatar_400.png\"}, {\"top\": 193, \"right\": 841, \"bottom\": 254, \"left\": 790, \"confidence\": 0.7821997404098511, \"label\": \"NO MASK\", \"img\": \"avatar_401.png\"}, {\"top\": 194, \"right\": 1095, \"bottom\": 246, \"left\": 1047, \"confidence\": 0.8089892864227295, \"label\": \"NO MASK\", \"img\": \"avatar_402.png\"}]}\r\n{\"frame\": 390, \"data\": [{\"top\": 125, \"right\": 1329, \"bottom\": 179, \"left\": 1284, \"confidence\": 0.9079946875572205, \"label\": \"NO MASK\", \"img\": \"avatar_403.png\"}, {\"top\": 398, \"right\": 1691, \"bottom\": 586, \"left\": 1518, \"confidence\": 0.9705212116241455, \"label\": \"MASK\", \"img\": \"avatar_404.png\"}, {\"top\": 113, \"right\": 911, \"bottom\": 165, \"left\": 867, \"confidence\": 0.7357028126716614, \"label\": \"NO MASK\", \"img\": \"avatar_405.png\"}, {\"top\": 348, \"right\": 1272, \"bottom\": 409, \"left\": 1221, \"confidence\": 0.9749959707260132, \"label\": \"NO MASK\", \"img\": \"avatar_406.png\"}, {\"top\": 388, \"right\": 252, \"bottom\": 474, \"left\": 175, \"confidence\": 0.9884571433067322, \"label\": \"MASK\", \"img\": \"avatar_407.png\"}, {\"top\": 193, \"right\": 1109, \"bottom\": 251, \"left\": 1059, \"confidence\": 0.7782014608383179, \"label\": \"NO MASK\", \"img\": \"avatar_408.png\"}, {\"top\": 194, \"right\": 851, \"bottom\": 254, \"left\": 802, \"confidence\": 0.8395113945007324, \"label\": \"NO MASK\", \"img\": \"avatar_409.png\"}]}\r\n{\"frame\": 391, \"data\": [{\"top\": 125, \"right\": 1329, \"bottom\": 179, \"left\": 1284, \"confidence\": 0.9013129472732544, \"label\": \"NO MASK\", \"img\": \"avatar_410.png\"}, {\"top\": 398, \"right\": 1691, \"bottom\": 587, \"left\": 1518, \"confidence\": 0.9648357629776001, \"label\": \"MASK\", \"img\": \"avatar_411.png\"}, {\"top\": 113, \"right\": 912, \"bottom\": 165, \"left\": 868, \"confidence\": 0.7077804207801819, \"label\": \"NO MASK\", \"img\": \"avatar_412.png\"}, {\"top\": 388, \"right\": 253, \"bottom\": 474, \"left\": 175, \"confidence\": 0.982187807559967, \"label\": \"MASK\", \"img\": \"avatar_413.png\"}, {\"top\": 349, \"right\": 1272, \"bottom\": 408, \"left\": 1222, \"confidence\": 0.9783027768135071, \"label\": \"NO MASK\", \"img\": \"avatar_414.png\"}, {\"top\": 193, \"right\": 1109, \"bottom\": 251, \"left\": 1059, \"confidence\": 0.7007278203964233, \"label\": \"NO MASK\", \"img\": \"avatar_415.png\"}, {\"top\": 194, \"right\": 851, \"bottom\": 253, \"left\": 802, \"confidence\": 0.8033522367477417, \"label\": \"NO MASK\", \"img\": \"avatar_416.png\"}]}\r\n{\"frame\": 392, \"data\": [{\"top\": 125, \"right\": 1329, \"bottom\": 179, \"left\": 1284, \"confidence\": 0.9088790416717529, \"label\": \"NO MASK\", \"img\": \"avatar_417.png\"}, {\"top\": 398, \"right\": 1691, \"bottom\": 587, \"left\": 1518, \"confidence\": 0.968788206577301, \"label\": \"MASK\", \"img\": \"avatar_418.png\"}, {\"top\": 113, \"right\": 912, \"bottom\": 165, \"left\": 868, \"confidence\": 0.6900100111961365, \"label\": \"NO MASK\", \"img\": \"avatar_419.png\"}, {\"top\": 388, \"right\": 253, \"bottom\": 474, \"left\": 175, \"confidence\": 0.9830301403999329, \"label\": \"MASK\", \"img\": \"avatar_420.png\"}, {\"top\": 349, \"right\": 1272, \"bottom\": 408, \"left\": 1222, \"confidence\": 0.9817423224449158, \"label\": \"NO MASK\", \"img\": \"avatar_421.png\"}, {\"top\": 193, \"right\": 1109, \"bottom\": 251, \"left\": 1059, \"confidence\": 0.7387745976448059, \"label\": \"NO MASK\", \"img\": \"avatar_422.png\"}, {\"top\": 194, \"right\": 851, \"bottom\": 253, \"left\": 802, \"confidence\": 0.8069084286689758, \"label\": \"NO MASK\", \"img\": \"avatar_423.png\"}]}\r\n{\"frame\": 393, \"data\": [{\"top\": 122, \"right\": 1347, \"bottom\": 178, \"left\": 1301, \"confidence\": 0.8947070837020874, \"label\": \"NO MASK\", \"img\": \"avatar_424.png\"}, {\"top\": 392, \"right\": 1710, \"bottom\": 587, \"left\": 1533, \"confidence\": 0.878405749797821, \"label\": \"MASK\", \"img\": \"avatar_425.png\"}, {\"top\": 385, \"right\": 273, \"bottom\": 471, \"left\": 196, \"confidence\": 0.9833111763000488, \"label\": \"MASK\", \"img\": \"avatar_426.png\"}, {\"top\": 112, \"right\": 929, \"bottom\": 164, \"left\": 884, \"confidence\": 0.7290900349617004, \"label\": \"NO MASK\", \"img\": \"avatar_427.png\"}, {\"top\": 346, \"right\": 1286, \"bottom\": 406, \"left\": 1236, \"confidence\": 0.9638417959213257, \"label\": \"NO MASK\", \"img\": \"avatar_428.png\"}, {\"top\": 191, \"right\": 868, \"bottom\": 246, \"left\": 821, \"confidence\": 0.8131864070892334, \"label\": \"MASK\", \"img\": \"avatar_429.png\"}, {\"top\": 190, \"right\": 1126, \"bottom\": 247, \"left\": 1077, \"confidence\": 0.8372811079025269, \"label\": \"NO MASK\", \"img\": \"avatar_430.png\"}]}\r\n{\"frame\": 394, \"data\": [{\"top\": 122, \"right\": 1347, \"bottom\": 178, \"left\": 1301, \"confidence\": 0.9149693250656128, \"label\": \"NO MASK\", \"img\": \"avatar_431.png\"}, {\"top\": 392, \"right\": 1710, \"bottom\": 587, \"left\": 1533, \"confidence\": 0.8895032405853271, \"label\": \"MASK\", \"img\": \"avatar_432.png\"}, {\"top\": 112, \"right\": 929, \"bottom\": 164, \"left\": 884, \"confidence\": 0.7009413838386536, \"label\": \"NO MASK\", \"img\": \"avatar_433.png\"}, {\"top\": 385, \"right\": 273, \"bottom\": 471, \"left\": 196, \"confidence\": 0.9776543974876404, \"label\": \"MASK\", \"img\": \"avatar_434.png\"}, {\"top\": 345, \"right\": 1286, \"bottom\": 406, \"left\": 1236, \"confidence\": 0.9605673551559448, \"label\": \"NO MASK\", \"img\": \"avatar_435.png\"}, {\"top\": 191, \"right\": 868, \"bottom\": 246, \"left\": 821, \"confidence\": 0.7654755711555481, \"label\": \"MASK\", \"img\": \"avatar_436.png\"}, {\"top\": 190, \"right\": 1126, \"bottom\": 247, \"left\": 1077, \"confidence\": 0.8030021786689758, \"label\": \"NO MASK\", \"img\": \"avatar_437.png\"}]}\r\n{\"frame\": 395, \"data\": [{\"top\": 122, \"right\": 1347, \"bottom\": 178, \"left\": 1301, \"confidence\": 0.8997719287872314, \"label\": \"NO MASK\", \"img\": \"avatar_438.png\"}, {\"top\": 392, \"right\": 1710, \"bottom\": 587, \"left\": 1533, \"confidence\": 0.8714940547943115, \"label\": \"MASK\", \"img\": \"avatar_439.png\"}, {\"top\": 112, \"right\": 929, \"bottom\": 164, \"left\": 884, \"confidence\": 0.6443206667900085, \"label\": \"NO MASK\", \"img\": \"avatar_440.png\"}, {\"top\": 385, \"right\": 273, \"bottom\": 470, \"left\": 193, \"confidence\": 0.9711812138557434, \"label\": \"MASK\", \"img\": \"avatar_441.png\"}, {\"top\": 345, \"right\": 1286, \"bottom\": 406, \"left\": 1236, \"confidence\": 0.9618082642555237, \"label\": \"NO MASK\", \"img\": \"avatar_442.png\"}, {\"top\": 191, \"right\": 868, \"bottom\": 246, \"left\": 821, \"confidence\": 0.7799538373947144, \"label\": \"MASK\", \"img\": \"avatar_443.png\"}, {\"top\": 190, \"right\": 1126, \"bottom\": 247, \"left\": 1077, \"confidence\": 0.7948232889175415, \"label\": \"NO MASK\", \"img\": \"avatar_444.png\"}]}\r\n{\"frame\": 396, \"data\": [{\"top\": 123, \"right\": 1354, \"bottom\": 177, \"left\": 1309, \"confidence\": 0.891412615776062, \"label\": \"NO MASK\", \"img\": \"avatar_445.png\"}, {\"top\": 397, \"right\": 1720, \"bottom\": 590, \"left\": 1543, \"confidence\": 0.9809048175811768, \"label\": \"MASK\", \"img\": \"avatar_446.png\"}, {\"top\": 112, \"right\": 938, \"bottom\": 167, \"left\": 891, \"confidence\": 0.7070960998535156, \"label\": \"NO MASK\", \"img\": \"avatar_447.png\"}, {\"top\": 384, \"right\": 285, \"bottom\": 472, \"left\": 206, \"confidence\": 0.9842812418937683, \"label\": \"MASK\", \"img\": \"avatar_448.png\"}, {\"top\": 348, \"right\": 1294, \"bottom\": 408, \"left\": 1243, \"confidence\": 0.9747308492660522, \"label\": \"NO MASK\", \"img\": \"avatar_449.png\"}, {\"top\": 193, \"right\": 875, \"bottom\": 250, \"left\": 826, \"confidence\": 0.6887863874435425, \"label\": \"NO MASK\", \"img\": \"avatar_450.png\"}, {\"top\": 191, \"right\": 1133, \"bottom\": 251, \"left\": 1083, \"confidence\": 0.8901488780975342, \"label\": \"NO MASK\", \"img\": \"avatar_451.png\"}]}\r\n{\"frame\": 397, \"data\": [{\"top\": 123, \"right\": 1354, \"bottom\": 177, \"left\": 1309, \"confidence\": 0.8718348145484924, \"label\": \"NO MASK\", \"img\": \"avatar_452.png\"}, {\"top\": 397, \"right\": 1720, \"bottom\": 590, \"left\": 1542, \"confidence\": 0.9776270389556885, \"label\": \"MASK\", \"img\": \"avatar_453.png\"}, {\"top\": 112, \"right\": 938, \"bottom\": 167, \"left\": 891, \"confidence\": 0.7161585688591003, \"label\": \"NO MASK\", \"img\": \"avatar_454.png\"}, {\"top\": 384, \"right\": 285, \"bottom\": 472, \"left\": 206, \"confidence\": 0.9849298596382141, \"label\": \"MASK\", \"img\": \"avatar_455.png\"}, {\"top\": 348, \"right\": 1294, \"bottom\": 408, \"left\": 1243, \"confidence\": 0.9773643612861633, \"label\": \"NO MASK\", \"img\": \"avatar_456.png\"}, {\"top\": 193, \"right\": 875, \"bottom\": 250, \"left\": 826, \"confidence\": 0.6423732042312622, \"label\": \"NO MASK\", \"img\": \"avatar_457.png\"}, {\"top\": 191, \"right\": 1133, \"bottom\": 252, \"left\": 1082, \"confidence\": 0.8516446948051453, \"label\": \"NO MASK\", \"img\": \"avatar_458.png\"}]}\r\n{\"frame\": 398, \"data\": [{\"top\": 123, \"right\": 1354, \"bottom\": 177, \"left\": 1309, \"confidence\": 0.8728653788566589, \"label\": \"NO MASK\", \"img\": \"avatar_459.png\"}, {\"top\": 396, \"right\": 1720, \"bottom\": 590, \"left\": 1543, \"confidence\": 0.977454662322998, \"label\": \"MASK\", \"img\": \"avatar_460.png\"}, {\"top\": 112, \"right\": 938, \"bottom\": 167, \"left\": 891, \"confidence\": 0.7187590003013611, \"label\": \"NO MASK\", \"img\": \"avatar_461.png\"}, {\"top\": 384, \"right\": 285, \"bottom\": 472, \"left\": 206, \"confidence\": 0.9820117950439453, \"label\": \"MASK\", \"img\": \"avatar_462.png\"}, {\"top\": 348, \"right\": 1295, \"bottom\": 408, \"left\": 1243, \"confidence\": 0.979749321937561, \"label\": \"NO MASK\", \"img\": \"avatar_463.png\"}, {\"top\": 193, \"right\": 875, \"bottom\": 250, \"left\": 826, \"confidence\": 0.660637378692627, \"label\": \"NO MASK\", \"img\": \"avatar_464.png\"}, {\"top\": 191, \"right\": 1133, \"bottom\": 252, \"left\": 1082, \"confidence\": 0.838035523891449, \"label\": \"NO MASK\", \"img\": \"avatar_465.png\"}]}\r\n{\"frame\": 399, \"data\": [{\"top\": 123, \"right\": 1364, \"bottom\": 178, \"left\": 1320, \"confidence\": 0.9031948447227478, \"label\": \"NO MASK\", \"img\": \"avatar_466.png\"}, {\"top\": 391, \"right\": 1729, \"bottom\": 592, \"left\": 1552, \"confidence\": 0.9757778644561768, \"label\": \"MASK\", \"img\": \"avatar_467.png\"}, {\"top\": 381, \"right\": 294, \"bottom\": 468, \"left\": 213, \"confidence\": 0.9695743322372437, \"label\": \"MASK\", \"img\": \"avatar_468.png\"}, {\"top\": 112, \"right\": 947, \"bottom\": 164, \"left\": 902, \"confidence\": 0.6494033336639404, \"label\": \"NO MASK\", \"img\": \"avatar_469.png\"}, {\"top\": 346, \"right\": 1304, \"bottom\": 405, \"left\": 1254, \"confidence\": 0.9755909442901611, \"label\": \"NO MASK\", \"img\": \"avatar_470.png\"}, {\"top\": 190, \"right\": 884, \"bottom\": 246, \"left\": 837, \"confidence\": 0.6990299224853516, \"label\": \"MASK\", \"img\": \"avatar_471.png\"}, {\"top\": 191, \"right\": 1144, \"bottom\": 248, \"left\": 1093, \"confidence\": 0.7427478432655334, \"label\": \"NO MASK\", \"img\": \"avatar_472.png\"}]}\r\n{\"frame\": 400, \"data\": [{\"top\": 123, \"right\": 1364, \"bottom\": 178, \"left\": 1320, \"confidence\": 0.9095210433006287, \"label\": \"NO MASK\", \"img\": \"avatar_473.png\"}, {\"top\": 391, \"right\": 1729, \"bottom\": 591, \"left\": 1552, \"confidence\": 0.9685962200164795, \"label\": \"MASK\", \"img\": \"avatar_474.png\"}, {\"top\": 112, \"right\": 947, \"bottom\": 164, \"left\": 902, \"confidence\": 0.7439855337142944, \"label\": \"NO MASK\", \"img\": \"avatar_475.png\"}, {\"top\": 381, \"right\": 295, \"bottom\": 468, \"left\": 213, \"confidence\": 0.9715938568115234, \"label\": \"MASK\", \"img\": \"avatar_476.png\"}, {\"top\": 346, \"right\": 1304, \"bottom\": 405, \"left\": 1254, \"confidence\": 0.9708576202392578, \"label\": \"NO MASK\", \"img\": \"avatar_477.png\"}, {\"top\": 190, \"right\": 884, \"bottom\": 245, \"left\": 837, \"confidence\": 0.7020103335380554, \"label\": \"MASK\", \"img\": \"avatar_478.png\"}, {\"top\": 191, \"right\": 1144, \"bottom\": 248, \"left\": 1093, \"confidence\": 0.8102899789810181, \"label\": \"NO MASK\", \"img\": \"avatar_479.png\"}]}\r\n{\"frame\": 401, \"data\": [{\"top\": 123, \"right\": 1364, \"bottom\": 178, \"left\": 1320, \"confidence\": 0.9089151620864868, \"label\": \"NO MASK\", \"img\": \"avatar_480.png\"}, {\"top\": 390, \"right\": 1729, \"bottom\": 591, \"left\": 1551, \"confidence\": 0.9576700925827026, \"label\": \"MASK\", \"img\": \"avatar_481.png\"}, {\"top\": 112, \"right\": 947, \"bottom\": 164, \"left\": 902, \"confidence\": 0.7261174321174622, \"label\": \"NO MASK\", \"img\": \"avatar_482.png\"}, {\"top\": 381, \"right\": 295, \"bottom\": 468, \"left\": 213, \"confidence\": 0.9761511087417603, \"label\": \"MASK\", \"img\": \"avatar_483.png\"}, {\"top\": 346, \"right\": 1304, \"bottom\": 405, \"left\": 1254, \"confidence\": 0.9695825576782227, \"label\": \"NO MASK\", \"img\": \"avatar_484.png\"}, {\"top\": 190, \"right\": 884, \"bottom\": 245, \"left\": 837, \"confidence\": 0.6925342082977295, \"label\": \"MASK\", \"img\": \"avatar_485.png\"}, {\"top\": 191, \"right\": 1144, \"bottom\": 248, \"left\": 1093, \"confidence\": 0.8051218390464783, \"label\": \"NO MASK\", \"img\": \"avatar_486.png\"}]}\r\n{\"frame\": 402, \"data\": [{\"top\": 122, \"right\": 1378, \"bottom\": 178, \"left\": 1333, \"confidence\": 0.8661624789237976, \"label\": \"NO MASK\", \"img\": \"avatar_487.png\"}, {\"top\": 394, \"right\": 1747, \"bottom\": 591, \"left\": 1569, \"confidence\": 0.9682086110115051, \"label\": \"MASK\", \"img\": \"avatar_488.png\"}, {\"top\": 379, \"right\": 308, \"bottom\": 465, \"left\": 227, \"confidence\": 0.9746747016906738, \"label\": \"MASK\", \"img\": \"avatar_489.png\"}, {\"top\": 111, \"right\": 958, \"bottom\": 165, \"left\": 913, \"confidence\": 0.7020314931869507, \"label\": \"NO MASK\", \"img\": \"avatar_490.png\"}, {\"top\": 346, \"right\": 1320, \"bottom\": 407, \"left\": 1268, \"confidence\": 0.9734311103820801, \"label\": \"NO MASK\", \"img\": \"avatar_491.png\"}, {\"top\": 192, \"right\": 896, \"bottom\": 245, \"left\": 850, \"confidence\": 0.7765675187110901, \"label\": \"MASK\", \"img\": \"avatar_492.png\"}, {\"top\": 189, \"right\": 1158, \"bottom\": 253, \"left\": 1105, \"confidence\": 0.9487478137016296, \"label\": \"NO MASK\", \"img\": \"avatar_493.png\"}]}\r\n{\"frame\": 403, \"data\": [{\"top\": 122, \"right\": 1378, \"bottom\": 178, \"left\": 1333, \"confidence\": 0.8486376404762268, \"label\": \"NO MASK\", \"img\": \"avatar_494.png\"}, {\"top\": 394, \"right\": 1747, \"bottom\": 591, \"left\": 1568, \"confidence\": 0.9516711235046387, \"label\": \"MASK\", \"img\": \"avatar_495.png\"}, {\"top\": 379, \"right\": 308, \"bottom\": 464, \"left\": 227, \"confidence\": 0.9778963327407837, \"label\": \"MASK\", \"img\": \"avatar_496.png\"}, {\"top\": 111, \"right\": 958, \"bottom\": 165, \"left\": 913, \"confidence\": 0.7111139893531799, \"label\": \"NO MASK\", \"img\": \"avatar_497.png\"}, {\"top\": 346, \"right\": 1320, \"bottom\": 407, \"left\": 1269, \"confidence\": 0.977554440498352, \"label\": \"NO MASK\", \"img\": \"avatar_498.png\"}, {\"top\": 192, \"right\": 896, \"bottom\": 245, \"left\": 850, \"confidence\": 0.7446478009223938, \"label\": \"MASK\", \"img\": \"avatar_499.png\"}, {\"top\": 189, \"right\": 1158, \"bottom\": 254, \"left\": 1105, \"confidence\": 0.921326756477356, \"label\": \"NO MASK\", \"img\": \"avatar_500.png\"}]}\r\n{\"frame\": 404, \"data\": [{\"top\": 122, \"right\": 1378, \"bottom\": 178, \"left\": 1333, \"confidence\": 0.8358257412910461, \"label\": \"NO MASK\", \"img\": \"avatar_501.png\"}, {\"top\": 394, \"right\": 1747, \"bottom\": 591, \"left\": 1568, \"confidence\": 0.966069221496582, \"label\": \"MASK\", \"img\": \"avatar_502.png\"}, {\"top\": 379, \"right\": 308, \"bottom\": 464, \"left\": 228, \"confidence\": 0.9784182906150818, \"label\": \"MASK\", \"img\": \"avatar_503.png\"}, {\"top\": 111, \"right\": 958, \"bottom\": 165, \"left\": 913, \"confidence\": 0.689312756061554, \"label\": \"NO MASK\", \"img\": \"avatar_504.png\"}, {\"top\": 346, \"right\": 1320, \"bottom\": 407, \"left\": 1269, \"confidence\": 0.9739555716514587, \"label\": \"NO MASK\", \"img\": \"avatar_505.png\"}, {\"top\": 192, \"right\": 896, \"bottom\": 245, \"left\": 850, \"confidence\": 0.7427295446395874, \"label\": \"MASK\", \"img\": \"avatar_506.png\"}, {\"top\": 189, \"right\": 1158, \"bottom\": 254, \"left\": 1105, \"confidence\": 0.8955485820770264, \"label\": \"NO MASK\", \"img\": \"avatar_507.png\"}]}\r\n{\"frame\": 405, \"data\": [{\"top\": 122, \"right\": 1406, \"bottom\": 177, \"left\": 1361, \"confidence\": 0.8455196022987366, \"label\": \"NO MASK\", \"img\": \"avatar_508.png\"}, {\"top\": 396, \"right\": 1784, \"bottom\": 591, \"left\": 1603, \"confidence\": 0.9376266598701477, \"label\": \"MASK\", \"img\": \"avatar_509.png\"}, {\"top\": 375, \"right\": 342, \"bottom\": 460, \"left\": 262, \"confidence\": 0.991531252861023, \"label\": \"MASK\", \"img\": \"avatar_510.png\"}, {\"top\": 111, \"right\": 986, \"bottom\": 165, \"left\": 939, \"confidence\": 0.6684638857841492, \"label\": \"NO MASK\", \"img\": \"avatar_511.png\"}, {\"top\": 347, \"right\": 1351, \"bottom\": 408, \"left\": 1299, \"confidence\": 0.986134946346283, \"label\": \"NO MASK\", \"img\": \"avatar_512.png\"}, {\"top\": 188, \"right\": 1181, \"bottom\": 254, \"left\": 1129, \"confidence\": 0.7930752038955688, \"label\": \"NO MASK\", \"img\": \"avatar_513.png\"}, {\"top\": 190, \"right\": 922, \"bottom\": 246, \"left\": 874, \"confidence\": 0.5452733635902405, \"label\": \"NO MASK\", \"img\": \"avatar_514.png\"}]}\r\n{\"frame\": 406, \"data\": [{\"top\": 122, \"right\": 1406, \"bottom\": 177, \"left\": 1361, \"confidence\": 0.8497644066810608, \"label\": \"NO MASK\", \"img\": \"avatar_515.png\"}, {\"top\": 396, \"right\": 1784, \"bottom\": 591, \"left\": 1603, \"confidence\": 0.9551568627357483, \"label\": \"MASK\", \"img\": \"avatar_516.png\"}, {\"top\": 375, \"right\": 342, \"bottom\": 460, \"left\": 262, \"confidence\": 0.991526186466217, \"label\": \"MASK\", \"img\": \"avatar_517.png\"}, {\"top\": 111, \"right\": 985, \"bottom\": 165, \"left\": 939, \"confidence\": 0.7088369727134705, \"label\": \"NO MASK\", \"img\": \"avatar_518.png\"}, {\"top\": 347, \"right\": 1351, \"bottom\": 408, \"left\": 1299, \"confidence\": 0.9835203289985657, \"label\": \"NO MASK\", \"img\": \"avatar_519.png\"}, {\"top\": 188, \"right\": 1182, \"bottom\": 254, \"left\": 1129, \"confidence\": 0.7753844261169434, \"label\": \"NO MASK\", \"img\": \"avatar_520.png\"}, {\"top\": 190, \"right\": 922, \"bottom\": 246, \"left\": 874, \"confidence\": 0.5885615944862366, \"label\": \"NO MASK\", \"img\": \"avatar_521.png\"}]}\r\n{\"frame\": 407, \"data\": [{\"top\": 122, \"right\": 1406, \"bottom\": 177, \"left\": 1361, \"confidence\": 0.8248026371002197, \"label\": \"NO MASK\", \"img\": \"avatar_522.png\"}, {\"top\": 396, \"right\": 1784, \"bottom\": 590, \"left\": 1604, \"confidence\": 0.9525700211524963, \"label\": \"MASK\", \"img\": \"avatar_523.png\"}, {\"top\": 375, \"right\": 341, \"bottom\": 460, \"left\": 262, \"confidence\": 0.9914469718933105, \"label\": \"MASK\", \"img\": \"avatar_524.png\"}, {\"top\": 111, \"right\": 985, \"bottom\": 165, \"left\": 939, \"confidence\": 0.7028478980064392, \"label\": \"NO MASK\", \"img\": \"avatar_525.png\"}, {\"top\": 347, \"right\": 1352, \"bottom\": 409, \"left\": 1299, \"confidence\": 0.9858728647232056, \"label\": \"NO MASK\", \"img\": \"avatar_526.png\"}, {\"top\": 188, \"right\": 1181, \"bottom\": 254, \"left\": 1129, \"confidence\": 0.7910599708557129, \"label\": \"NO MASK\", \"img\": \"avatar_527.png\"}, {\"top\": 190, \"right\": 922, \"bottom\": 246, \"left\": 874, \"confidence\": 0.6162378787994385, \"label\": \"NO MASK\", \"img\": \"avatar_528.png\"}]}\r\n{\"frame\": 408, \"data\": [{\"top\": 404, \"right\": 165, \"bottom\": 528, \"left\": 49, \"confidence\": 0.9562011957168579, \"label\": \"NO MASK\", \"img\": \"avatar_529.png\"}, {\"top\": 116, \"right\": 1522, \"bottom\": 172, \"left\": 1476, \"confidence\": 0.8356307744979858, \"label\": \"NO MASK\", \"img\": \"avatar_530.png\"}, {\"top\": 385, \"right\": 1917, \"bottom\": 600, \"left\": 1731, \"confidence\": 0.7393003106117249, \"label\": \"MASK\", \"img\": \"avatar_531.png\"}, {\"top\": 105, \"right\": 1091, \"bottom\": 160, \"left\": 1045, \"confidence\": 0.7985103130340576, \"label\": \"NO MASK\", \"img\": \"avatar_532.png\"}, {\"top\": 368, \"right\": 455, \"bottom\": 453, \"left\": 381, \"confidence\": 0.9811397194862366, \"label\": \"MASK\", \"img\": \"avatar_533.png\"}, {\"top\": 345, \"right\": 1461, \"bottom\": 407, \"left\": 1408, \"confidence\": 0.9650070071220398, \"label\": \"NO MASK\", \"img\": \"avatar_534.png\"}, {\"top\": 180, \"right\": 1292, \"bottom\": 247, \"left\": 1240, \"confidence\": 0.9517582654953003, \"label\": \"NO MASK\", \"img\": \"avatar_535.png\"}, {\"top\": 184, \"right\": 1026, \"bottom\": 239, \"left\": 979, \"confidence\": 0.7099887728691101, \"label\": \"MASK\", \"img\": \"avatar_536.png\"}]}\r\n{\"frame\": 409, \"data\": [{\"top\": 404, \"right\": 165, \"bottom\": 528, \"left\": 49, \"confidence\": 0.95057213306427, \"label\": \"NO MASK\", \"img\": \"avatar_537.png\"}, {\"top\": 116, \"right\": 1522, \"bottom\": 172, \"left\": 1476, \"confidence\": 0.8816402554512024, \"label\": \"NO MASK\", \"img\": \"avatar_538.png\"}, {\"top\": 385, \"right\": 1917, \"bottom\": 600, \"left\": 1732, \"confidence\": 0.7433512210845947, \"label\": \"MASK\", \"img\": \"avatar_539.png\"}, {\"top\": 368, \"right\": 455, \"bottom\": 453, \"left\": 381, \"confidence\": 0.9859845638275146, \"label\": \"MASK\", \"img\": \"avatar_540.png\"}, {\"top\": 105, \"right\": 1091, \"bottom\": 160, \"left\": 1045, \"confidence\": 0.8353757858276367, \"label\": \"NO MASK\", \"img\": \"avatar_541.png\"}, {\"top\": 345, \"right\": 1461, \"bottom\": 407, \"left\": 1409, \"confidence\": 0.9784420132637024, \"label\": \"NO MASK\", \"img\": \"avatar_542.png\"}, {\"top\": 180, \"right\": 1292, \"bottom\": 247, \"left\": 1240, \"confidence\": 0.9366545677185059, \"label\": \"NO MASK\", \"img\": \"avatar_543.png\"}, {\"top\": 184, \"right\": 1026, \"bottom\": 239, \"left\": 979, \"confidence\": 0.6911388635635376, \"label\": \"MASK\", \"img\": \"avatar_544.png\"}]}\r\n{\"frame\": 410, \"data\": [{\"top\": 404, \"right\": 165, \"bottom\": 528, \"left\": 49, \"confidence\": 0.9508666396141052, \"label\": \"NO MASK\", \"img\": \"avatar_545.png\"}, {\"top\": 116, \"right\": 1522, \"bottom\": 172, \"left\": 1476, \"confidence\": 0.8837236762046814, \"label\": \"NO MASK\", \"img\": \"avatar_546.png\"}, {\"top\": 385, \"right\": 1917, \"bottom\": 600, \"left\": 1731, \"confidence\": 0.79243004322052, \"label\": \"MASK\", \"img\": \"avatar_547.png\"}, {\"top\": 368, \"right\": 455, \"bottom\": 453, \"left\": 381, \"confidence\": 0.9887978434562683, \"label\": \"MASK\", \"img\": \"avatar_548.png\"}, {\"top\": 105, \"right\": 1091, \"bottom\": 160, \"left\": 1045, \"confidence\": 0.8080074191093445, \"label\": \"NO MASK\", \"img\": \"avatar_549.png\"}, {\"top\": 345, \"right\": 1461, \"bottom\": 407, \"left\": 1408, \"confidence\": 0.9682695269584656, \"label\": \"NO MASK\", \"img\": \"avatar_550.png\"}, {\"top\": 180, \"right\": 1292, \"bottom\": 247, \"left\": 1240, \"confidence\": 0.9384099841117859, \"label\": \"NO MASK\", \"img\": \"avatar_551.png\"}, {\"top\": 184, \"right\": 1026, \"bottom\": 239, \"left\": 979, \"confidence\": 0.6987637281417847, \"label\": \"MASK\", \"img\": \"avatar_552.png\"}]}\r\n{\"frame\": 411, \"data\": [{\"top\": 401, \"right\": 202, \"bottom\": 524, \"left\": 88, \"confidence\": 0.9707627892494202, \"label\": \"NO MASK\", \"img\": \"avatar_553.png\"}, {\"top\": 114, \"right\": 1555, \"bottom\": 170, \"left\": 1508, \"confidence\": 0.9149743318557739, \"label\": \"NO MASK\", \"img\": \"avatar_554.png\"}, {\"top\": 385, \"right\": 1922, \"bottom\": 603, \"left\": 1768, \"confidence\": 0.9278779625892639, \"label\": \"MASK\", \"img\": \"avatar_555.png\"}, {\"top\": 367, \"right\": 484, \"bottom\": 447, \"left\": 411, \"confidence\": 0.9470837712287903, \"label\": \"MASK\", \"img\": \"avatar_556.png\"}, {\"top\": 104, \"right\": 1117, \"bottom\": 159, \"left\": 1070, \"confidence\": 0.8244701027870178, \"label\": \"NO MASK\", \"img\": \"avatar_557.png\"}, {\"top\": 345, \"right\": 1488, \"bottom\": 407, \"left\": 1437, \"confidence\": 0.9752941131591797, \"label\": \"NO MASK\", \"img\": \"avatar_558.png\"}, {\"top\": 180, \"right\": 1322, \"bottom\": 241, \"left\": 1271, \"confidence\": 0.8826234936714172, \"label\": \"NO MASK\", \"img\": \"avatar_559.png\"}, {\"top\": 184, \"right\": 1054, \"bottom\": 244, \"left\": 1005, \"confidence\": 0.7070075273513794, \"label\": \"NO MASK\", \"img\": \"avatar_560.png\"}]}\r\n{\"frame\": 412, \"data\": [{\"top\": 401, \"right\": 202, \"bottom\": 524, \"left\": 88, \"confidence\": 0.9653183817863464, \"label\": \"NO MASK\", \"img\": \"avatar_561.png\"}, {\"top\": 114, \"right\": 1555, \"bottom\": 170, \"left\": 1508, \"confidence\": 0.9052829742431641, \"label\": \"NO MASK\", \"img\": \"avatar_562.png\"}, {\"top\": 385, \"right\": 1922, \"bottom\": 604, \"left\": 1768, \"confidence\": 0.8508009314537048, \"label\": \"MASK\", \"img\": \"avatar_563.png\"}, {\"top\": 367, \"right\": 484, \"bottom\": 447, \"left\": 412, \"confidence\": 0.9513599872589111, \"label\": \"MASK\", \"img\": \"avatar_564.png\"}, {\"top\": 105, \"right\": 1117, \"bottom\": 160, \"left\": 1070, \"confidence\": 0.7815881967544556, \"label\": \"NO MASK\", \"img\": \"avatar_565.png\"}, {\"top\": 346, \"right\": 1488, \"bottom\": 407, \"left\": 1437, \"confidence\": 0.9724583029747009, \"label\": \"NO MASK\", \"img\": \"avatar_566.png\"}, {\"top\": 180, \"right\": 1321, \"bottom\": 241, \"left\": 1271, \"confidence\": 0.852681040763855, \"label\": \"NO MASK\", \"img\": \"avatar_567.png\"}, {\"top\": 184, \"right\": 1054, \"bottom\": 244, \"left\": 1005, \"confidence\": 0.7543257474899292, \"label\": \"NO MASK\", \"img\": \"avatar_568.png\"}]}\r\n{\"frame\": 413, \"data\": [{\"top\": 401, \"right\": 202, \"bottom\": 524, \"left\": 88, \"confidence\": 0.9680837988853455, \"label\": \"NO MASK\", \"img\": \"avatar_569.png\"}, {\"top\": 114, \"right\": 1555, \"bottom\": 170, \"left\": 1508, \"confidence\": 0.896514356136322, \"label\": \"NO MASK\", \"img\": \"avatar_570.png\"}, {\"top\": 386, \"right\": 1922, \"bottom\": 603, \"left\": 1768, \"confidence\": 0.9101201891899109, \"label\": \"MASK\", \"img\": \"avatar_571.png\"}, {\"top\": 367, \"right\": 484, \"bottom\": 447, \"left\": 412, \"confidence\": 0.9558905959129333, \"label\": \"MASK\", \"img\": \"avatar_572.png\"}, {\"top\": 105, \"right\": 1117, \"bottom\": 159, \"left\": 1070, \"confidence\": 0.8240405321121216, \"label\": \"NO MASK\", \"img\": \"avatar_573.png\"}, {\"top\": 346, \"right\": 1488, \"bottom\": 407, \"left\": 1437, \"confidence\": 0.9612391591072083, \"label\": \"NO MASK\", \"img\": \"avatar_574.png\"}, {\"top\": 179, \"right\": 1321, \"bottom\": 240, \"left\": 1271, \"confidence\": 0.8386380672454834, \"label\": \"NO MASK\", \"img\": \"avatar_575.png\"}, {\"top\": 184, \"right\": 1054, \"bottom\": 244, \"left\": 1005, \"confidence\": 0.736542820930481, \"label\": \"NO MASK\", \"img\": \"avatar_576.png\"}]}\r\n{\"frame\": 414, \"data\": [{\"top\": 398, \"right\": 271, \"bottom\": 519, \"left\": 163, \"confidence\": 0.9541036486625671, \"label\": \"NO MASK\", \"img\": \"avatar_577.png\"}, {\"top\": 109, \"right\": 1624, \"bottom\": 167, \"left\": 1576, \"confidence\": 0.8695154190063477, \"label\": \"NO MASK\", \"img\": \"avatar_578.png\"}, {\"top\": 367, \"right\": 547, \"bottom\": 447, \"left\": 476, \"confidence\": 0.9316536784172058, \"label\": \"MASK\", \"img\": \"avatar_579.png\"}, {\"top\": 101, \"right\": 1178, \"bottom\": 158, \"left\": 1130, \"confidence\": 0.770634651184082, \"label\": \"NO MASK\", \"img\": \"avatar_580.png\"}, {\"top\": 346, \"right\": 1554, \"bottom\": 409, \"left\": 1501, \"confidence\": 0.9815444946289062, \"label\": \"NO MASK\", \"img\": \"avatar_581.png\"}, {\"top\": 180, \"right\": 1383, \"bottom\": 243, \"left\": 1333, \"confidence\": 0.9058277606964111, \"label\": \"NO MASK\", \"img\": \"avatar_582.png\"}, {\"top\": 183, \"right\": 1111, \"bottom\": 240, \"left\": 1062, \"confidence\": 0.6818397045135498, \"label\": \"NO MASK\", \"img\": \"avatar_583.png\"}]}\r\n{\"frame\": 415, \"data\": [{\"top\": 398, \"right\": 271, \"bottom\": 519, \"left\": 163, \"confidence\": 0.9552915692329407, \"label\": \"NO MASK\", \"img\": \"avatar_584.png\"}, {\"top\": 109, \"right\": 1624, \"bottom\": 167, \"left\": 1576, \"confidence\": 0.8740372061729431, \"label\": \"NO MASK\", \"img\": \"avatar_585.png\"}, {\"top\": 367, \"right\": 547, \"bottom\": 447, \"left\": 476, \"confidence\": 0.9336560964584351, \"label\": \"MASK\", \"img\": \"avatar_586.png\"}, {\"top\": 101, \"right\": 1178, \"bottom\": 158, \"left\": 1130, \"confidence\": 0.8028358817100525, \"label\": \"NO MASK\", \"img\": \"avatar_587.png\"}, {\"top\": 180, \"right\": 1383, \"bottom\": 242, \"left\": 1333, \"confidence\": 0.8902595639228821, \"label\": \"NO MASK\", \"img\": \"avatar_588.png\"}, {\"top\": 346, \"right\": 1555, \"bottom\": 410, \"left\": 1502, \"confidence\": 0.9773215651512146, \"label\": \"NO MASK\", \"img\": \"avatar_589.png\"}, {\"top\": 183, \"right\": 1111, \"bottom\": 240, \"left\": 1062, \"confidence\": 0.6786014437675476, \"label\": \"NO MASK\", \"img\": \"avatar_590.png\"}]}\r\n{\"frame\": 416, \"data\": [{\"top\": 398, \"right\": 271, \"bottom\": 519, \"left\": 163, \"confidence\": 0.9518705606460571, \"label\": \"NO MASK\", \"img\": \"avatar_591.png\"}, {\"top\": 109, \"right\": 1624, \"bottom\": 167, \"left\": 1576, \"confidence\": 0.8740458488464355, \"label\": \"NO MASK\", \"img\": \"avatar_592.png\"}, {\"top\": 367, \"right\": 547, \"bottom\": 446, \"left\": 476, \"confidence\": 0.9397469758987427, \"label\": \"MASK\", \"img\": \"avatar_593.png\"}, {\"top\": 101, \"right\": 1178, \"bottom\": 158, \"left\": 1130, \"confidence\": 0.7960944175720215, \"label\": \"NO MASK\", \"img\": \"avatar_594.png\"}, {\"top\": 180, \"right\": 1383, \"bottom\": 242, \"left\": 1333, \"confidence\": 0.9017690420150757, \"label\": \"NO MASK\", \"img\": \"avatar_595.png\"}, {\"top\": 344, \"right\": 1554, \"bottom\": 407, \"left\": 1502, \"confidence\": 0.9774779081344604, \"label\": \"NO MASK\", \"img\": \"avatar_596.png\"}, {\"top\": 183, \"right\": 1111, \"bottom\": 240, \"left\": 1062, \"confidence\": 0.670223593711853, \"label\": \"NO MASK\", \"img\": \"avatar_597.png\"}]}\r\n{\"frame\": 417, \"data\": [{\"top\": 397, \"right\": 306, \"bottom\": 517, \"left\": 198, \"confidence\": 0.9453441500663757, \"label\": \"NO MASK\", \"img\": \"avatar_598.png\"}, {\"top\": 105, \"right\": 1661, \"bottom\": 165, \"left\": 1612, \"confidence\": 0.9190042018890381, \"label\": \"NO MASK\", \"img\": \"avatar_599.png\"}, {\"top\": 367, \"right\": 580, \"bottom\": 446, \"left\": 510, \"confidence\": 0.9066035747528076, \"label\": \"MASK\", \"img\": \"avatar_600.png\"}, {\"top\": 99, \"right\": 1211, \"bottom\": 156, \"left\": 1163, \"confidence\": 0.7995537519454956, \"label\": \"NO MASK\", \"img\": \"avatar_601.png\"}, {\"top\": 343, \"right\": 1594, \"bottom\": 407, \"left\": 1539, \"confidence\": 0.9669426083564758, \"label\": \"NO MASK\", \"img\": \"avatar_602.png\"}, {\"top\": 181, \"right\": 1143, \"bottom\": 239, \"left\": 1094, \"confidence\": 0.5857702493667603, \"label\": \"NO MASK\", \"img\": \"avatar_603.png\"}, {\"top\": 179, \"right\": 1417, \"bottom\": 245, \"left\": 1364, \"confidence\": 0.8147519826889038, \"label\": \"NO MASK\", \"img\": \"avatar_604.png\"}]}\r\n{\"frame\": 418, \"data\": [{\"top\": 397, \"right\": 306, \"bottom\": 517, \"left\": 198, \"confidence\": 0.9509217143058777, \"label\": \"NO MASK\", \"img\": \"avatar_605.png\"}, {\"top\": 106, \"right\": 1661, \"bottom\": 165, \"left\": 1612, \"confidence\": 0.9222612380981445, \"label\": \"NO MASK\", \"img\": \"avatar_606.png\"}, {\"top\": 367, \"right\": 580, \"bottom\": 445, \"left\": 510, \"confidence\": 0.8813679218292236, \"label\": \"MASK\", \"img\": \"avatar_607.png\"}, {\"top\": 100, \"right\": 1211, \"bottom\": 156, \"left\": 1163, \"confidence\": 0.8093860149383545, \"label\": \"NO MASK\", \"img\": \"avatar_608.png\"}, {\"top\": 343, \"right\": 1594, \"bottom\": 407, \"left\": 1539, \"confidence\": 0.971861720085144, \"label\": \"NO MASK\", \"img\": \"avatar_609.png\"}, {\"top\": 181, \"right\": 1143, \"bottom\": 239, \"left\": 1094, \"confidence\": 0.639371931552887, \"label\": \"NO MASK\", \"img\": \"avatar_610.png\"}, {\"top\": 179, \"right\": 1417, \"bottom\": 245, \"left\": 1364, \"confidence\": 0.843882143497467, \"label\": \"NO MASK\", \"img\": \"avatar_611.png\"}]}\r\n{\"frame\": 419, \"data\": [{\"top\": 397, \"right\": 306, \"bottom\": 517, \"left\": 198, \"confidence\": 0.9466426968574524, \"label\": \"NO MASK\", \"img\": \"avatar_612.png\"}, {\"top\": 106, \"right\": 1661, \"bottom\": 165, \"left\": 1612, \"confidence\": 0.9166294932365417, \"label\": \"NO MASK\", \"img\": \"avatar_613.png\"}, {\"top\": 367, \"right\": 580, \"bottom\": 445, \"left\": 510, \"confidence\": 0.8858280181884766, \"label\": \"MASK\", \"img\": \"avatar_614.png\"}, {\"top\": 100, \"right\": 1211, \"bottom\": 156, \"left\": 1163, \"confidence\": 0.8112302422523499, \"label\": \"NO MASK\", \"img\": \"avatar_615.png\"}, {\"top\": 343, \"right\": 1594, \"bottom\": 407, \"left\": 1539, \"confidence\": 0.9702665209770203, \"label\": \"NO MASK\", \"img\": \"avatar_616.png\"}, {\"top\": 181, \"right\": 1143, \"bottom\": 239, \"left\": 1094, \"confidence\": 0.656441330909729, \"label\": \"NO MASK\", \"img\": \"avatar_617.png\"}, {\"top\": 179, \"right\": 1417, \"bottom\": 246, \"left\": 1364, \"confidence\": 0.7994418144226074, \"label\": \"NO MASK\", \"img\": \"avatar_618.png\"}]}\r\n{\"frame\": 420, \"data\": [{\"top\": 395, \"right\": 359, \"bottom\": 511, \"left\": 254, \"confidence\": 0.9686597585678101, \"label\": \"NO MASK\", \"img\": \"avatar_619.png\"}, {\"top\": 99, \"right\": 1724, \"bottom\": 156, \"left\": 1675, \"confidence\": 0.9492073655128479, \"label\": \"NO MASK\", \"img\": \"avatar_620.png\"}, {\"top\": 94, \"right\": 1263, \"bottom\": 149, \"left\": 1216, \"confidence\": 0.836658239364624, \"label\": \"NO MASK\", \"img\": \"avatar_621.png\"}, {\"top\": 363, \"right\": 633, \"bottom\": 446, \"left\": 563, \"confidence\": 0.9845432639122009, \"label\": \"MASK\", \"img\": \"avatar_622.png\"}, {\"top\": 339, \"right\": 1657, \"bottom\": 409, \"left\": 1599, \"confidence\": 0.9905096292495728, \"label\": \"NO MASK\", \"img\": \"avatar_623.png\"}, {\"top\": 178, \"right\": 1195, \"bottom\": 237, \"left\": 1144, \"confidence\": 0.5535334944725037, \"label\": \"NO MASK\", \"img\": \"avatar_624.png\"}, {\"top\": 171, \"right\": 1474, \"bottom\": 234, \"left\": 1424, \"confidence\": 0.850014328956604, \"label\": \"NO MASK\", \"img\": \"avatar_625.png\"}]}\r\n{\"frame\": 421, \"data\": [{\"top\": 395, \"right\": 359, \"bottom\": 511, \"left\": 254, \"confidence\": 0.9714942574501038, \"label\": \"NO MASK\", \"img\": \"avatar_626.png\"}, {\"top\": 98, \"right\": 1724, \"bottom\": 156, \"left\": 1675, \"confidence\": 0.9575749039649963, \"label\": \"NO MASK\", \"img\": \"avatar_627.png\"}, {\"top\": 95, \"right\": 1263, \"bottom\": 149, \"left\": 1216, \"confidence\": 0.8395588994026184, \"label\": \"NO MASK\", \"img\": \"avatar_628.png\"}, {\"top\": 363, \"right\": 633, \"bottom\": 445, \"left\": 563, \"confidence\": 0.9813909530639648, \"label\": \"MASK\", \"img\": \"avatar_629.png\"}, {\"top\": 339, \"right\": 1657, \"bottom\": 408, \"left\": 1598, \"confidence\": 0.9928164482116699, \"label\": \"NO MASK\", \"img\": \"avatar_630.png\"}, {\"top\": 178, \"right\": 1195, \"bottom\": 237, \"left\": 1144, \"confidence\": 0.6424935460090637, \"label\": \"NO MASK\", \"img\": \"avatar_631.png\"}, {\"top\": 172, \"right\": 1474, \"bottom\": 234, \"left\": 1424, \"confidence\": 0.8544991612434387, \"label\": \"NO MASK\", \"img\": \"avatar_632.png\"}]}\r\n{\"frame\": 422, \"data\": [{\"top\": 395, \"right\": 359, \"bottom\": 511, \"left\": 254, \"confidence\": 0.9681545495986938, \"label\": \"NO MASK\", \"img\": \"avatar_633.png\"}, {\"top\": 98, \"right\": 1724, \"bottom\": 156, \"left\": 1675, \"confidence\": 0.9479919075965881, \"label\": \"NO MASK\", \"img\": \"avatar_634.png\"}, {\"top\": 95, \"right\": 1263, \"bottom\": 149, \"left\": 1216, \"confidence\": 0.8108024001121521, \"label\": \"NO MASK\", \"img\": \"avatar_635.png\"}, {\"top\": 363, \"right\": 633, \"bottom\": 445, \"left\": 563, \"confidence\": 0.9857777953147888, \"label\": \"MASK\", \"img\": \"avatar_636.png\"}, {\"top\": 339, \"right\": 1657, \"bottom\": 408, \"left\": 1599, \"confidence\": 0.9915709495544434, \"label\": \"NO MASK\", \"img\": \"avatar_637.png\"}, {\"top\": 178, \"right\": 1195, \"bottom\": 237, \"left\": 1144, \"confidence\": 0.6016011238098145, \"label\": \"NO MASK\", \"img\": \"avatar_638.png\"}, {\"top\": 172, \"right\": 1474, \"bottom\": 233, \"left\": 1424, \"confidence\": 0.8488805890083313, \"label\": \"NO MASK\", \"img\": \"avatar_639.png\"}]}\r\n{\"frame\": 423, \"data\": [{\"top\": 394, \"right\": 409, \"bottom\": 509, \"left\": 306, \"confidence\": 0.9471419453620911, \"label\": \"NO MASK\", \"img\": \"avatar_640.png\"}, {\"top\": 91, \"right\": 1313, \"bottom\": 148, \"left\": 1267, \"confidence\": 0.8525257706642151, \"label\": \"NO MASK\", \"img\": \"avatar_641.png\"}, {\"top\": 93, \"right\": 1787, \"bottom\": 152, \"left\": 1737, \"confidence\": 0.7992926836013794, \"label\": \"NO MASK\", \"img\": \"avatar_642.png\"}, {\"top\": 337, \"right\": 1709, \"bottom\": 405, \"left\": 1653, \"confidence\": 0.9920211434364319, \"label\": \"NO MASK\", \"img\": \"avatar_643.png\"}, {\"top\": 363, \"right\": 683, \"bottom\": 445, \"left\": 613, \"confidence\": 0.9660452008247375, \"label\": \"MASK\", \"img\": \"avatar_644.png\"}, {\"top\": 176, \"right\": 1244, \"bottom\": 236, \"left\": 1192, \"confidence\": 0.5782293677330017, \"label\": \"NO MASK\", \"img\": \"avatar_645.png\"}, {\"top\": 165, \"right\": 1529, \"bottom\": 230, \"left\": 1478, \"confidence\": 0.8973181247711182, \"label\": \"NO MASK\", \"img\": \"avatar_646.png\"}]}\r\n{\"frame\": 424, \"data\": [{\"top\": 394, \"right\": 409, \"bottom\": 509, \"left\": 306, \"confidence\": 0.9522380828857422, \"label\": \"NO MASK\", \"img\": \"avatar_647.png\"}, {\"top\": 91, \"right\": 1313, \"bottom\": 148, \"left\": 1267, \"confidence\": 0.859657347202301, \"label\": \"NO MASK\", \"img\": \"avatar_648.png\"}, {\"top\": 94, \"right\": 1787, \"bottom\": 152, \"left\": 1737, \"confidence\": 0.8289201259613037, \"label\": \"NO MASK\", \"img\": \"avatar_649.png\"}, {\"top\": 338, \"right\": 1709, \"bottom\": 405, \"left\": 1653, \"confidence\": 0.9902387857437134, \"label\": \"NO MASK\", \"img\": \"avatar_650.png\"}, {\"top\": 363, \"right\": 683, \"bottom\": 445, \"left\": 613, \"confidence\": 0.9790681600570679, \"label\": \"MASK\", \"img\": \"avatar_651.png\"}, {\"top\": 176, \"right\": 1244, \"bottom\": 236, \"left\": 1192, \"confidence\": 0.522554337978363, \"label\": \"NO MASK\", \"img\": \"avatar_652.png\"}, {\"top\": 165, \"right\": 1529, \"bottom\": 228, \"left\": 1478, \"confidence\": 0.9012906551361084, \"label\": \"NO MASK\", \"img\": \"avatar_653.png\"}]}\r\n{\"frame\": 425, \"data\": [{\"top\": 394, \"right\": 409, \"bottom\": 509, \"left\": 306, \"confidence\": 0.9492194056510925, \"label\": \"NO MASK\", \"img\": \"avatar_654.png\"}, {\"top\": 91, \"right\": 1313, \"bottom\": 148, \"left\": 1267, \"confidence\": 0.8589548468589783, \"label\": \"NO MASK\", \"img\": \"avatar_655.png\"}, {\"top\": 94, \"right\": 1787, \"bottom\": 152, \"left\": 1737, \"confidence\": 0.8625308275222778, \"label\": \"NO MASK\", \"img\": \"avatar_656.png\"}, {\"top\": 338, \"right\": 1711, \"bottom\": 406, \"left\": 1654, \"confidence\": 0.9915155172348022, \"label\": \"NO MASK\", \"img\": \"avatar_657.png\"}, {\"top\": 363, \"right\": 683, \"bottom\": 445, \"left\": 613, \"confidence\": 0.9768235683441162, \"label\": \"MASK\", \"img\": \"avatar_658.png\"}, {\"top\": 176, \"right\": 1244, \"bottom\": 236, \"left\": 1192, \"confidence\": 0.5670894980430603, \"label\": \"NO MASK\", \"img\": \"avatar_659.png\"}, {\"top\": 165, \"right\": 1529, \"bottom\": 228, \"left\": 1478, \"confidence\": 0.9007678031921387, \"label\": \"NO MASK\", \"img\": \"avatar_660.png\"}]}\r\n{\"frame\": 426, \"data\": [{\"top\": 393, \"right\": 461, \"bottom\": 508, \"left\": 357, \"confidence\": 0.9323675632476807, \"label\": \"NO MASK\", \"img\": \"avatar_661.png\"}, {\"top\": 89, \"right\": 1364, \"bottom\": 148, \"left\": 1315, \"confidence\": 0.8303148746490479, \"label\": \"NO MASK\", \"img\": \"avatar_662.png\"}, {\"top\": 87, \"right\": 1852, \"bottom\": 149, \"left\": 1797, \"confidence\": 0.8699567317962646, \"label\": \"NO MASK\", \"img\": \"avatar_663.png\"}, {\"top\": 364, \"right\": 731, \"bottom\": 444, \"left\": 661, \"confidence\": 0.9675997495651245, \"label\": \"MASK\", \"img\": \"avatar_664.png\"}, {\"top\": 338, \"right\": 1782, \"bottom\": 411, \"left\": 1720, \"confidence\": 0.9443601965904236, \"label\": \"NO MASK\", \"img\": \"avatar_665.png\"}, {\"top\": 164, \"right\": 1582, \"bottom\": 233, \"left\": 1529, \"confidence\": 0.7926696538925171, \"label\": \"NO MASK\", \"img\": \"avatar_666.png\"}, {\"top\": 174, \"right\": 1293, \"bottom\": 231, \"left\": 1243, \"confidence\": 0.6264034509658813, \"label\": \"MASK\", \"img\": \"avatar_667.png\"}]}\r\n{\"frame\": 427, \"data\": [{\"top\": 393, \"right\": 461, \"bottom\": 508, \"left\": 357, \"confidence\": 0.9284216165542603, \"label\": \"NO MASK\", \"img\": \"avatar_668.png\"}, {\"top\": 90, \"right\": 1364, \"bottom\": 148, \"left\": 1315, \"confidence\": 0.8417739272117615, \"label\": \"NO MASK\", \"img\": \"avatar_669.png\"}, {\"top\": 88, \"right\": 1852, \"bottom\": 149, \"left\": 1797, \"confidence\": 0.916466474533081, \"label\": \"NO MASK\", \"img\": \"avatar_670.png\"}, {\"top\": 364, \"right\": 731, \"bottom\": 444, \"left\": 661, \"confidence\": 0.9604140520095825, \"label\": \"MASK\", \"img\": \"avatar_671.png\"}, {\"top\": 338, \"right\": 1781, \"bottom\": 411, \"left\": 1719, \"confidence\": 0.9428866505622864, \"label\": \"NO MASK\", \"img\": \"avatar_672.png\"}, {\"top\": 164, \"right\": 1582, \"bottom\": 233, \"left\": 1529, \"confidence\": 0.7796362638473511, \"label\": \"NO MASK\", \"img\": \"avatar_673.png\"}, {\"top\": 174, \"right\": 1293, \"bottom\": 231, \"left\": 1243, \"confidence\": 0.5135030746459961, \"label\": \"NO MASK\", \"img\": \"avatar_674.png\"}]}\r\n{\"frame\": 428, \"data\": [{\"top\": 393, \"right\": 461, \"bottom\": 508, \"left\": 357, \"confidence\": 0.9453369379043579, \"label\": \"NO MASK\", \"img\": \"avatar_675.png\"}, {\"top\": 89, \"right\": 1364, \"bottom\": 148, \"left\": 1315, \"confidence\": 0.7992644309997559, \"label\": \"NO MASK\", \"img\": \"avatar_676.png\"}, {\"top\": 88, \"right\": 1852, \"bottom\": 149, \"left\": 1797, \"confidence\": 0.9219338893890381, \"label\": \"NO MASK\", \"img\": \"avatar_677.png\"}, {\"top\": 364, \"right\": 731, \"bottom\": 444, \"left\": 661, \"confidence\": 0.9598100185394287, \"label\": \"MASK\", \"img\": \"avatar_678.png\"}, {\"top\": 338, \"right\": 1781, \"bottom\": 411, \"left\": 1720, \"confidence\": 0.9358147382736206, \"label\": \"NO MASK\", \"img\": \"avatar_679.png\"}, {\"top\": 164, \"right\": 1582, \"bottom\": 233, \"left\": 1529, \"confidence\": 0.755859375, \"label\": \"NO MASK\", \"img\": \"avatar_680.png\"}, {\"top\": 174, \"right\": 1293, \"bottom\": 231, \"left\": 1242, \"confidence\": 0.5217547416687012, \"label\": \"MASK\", \"img\": \"avatar_681.png\"}]}\r\n{\"frame\": 429, \"data\": [{\"top\": 392, \"right\": 479, \"bottom\": 506, \"left\": 375, \"confidence\": 0.9281215071678162, \"label\": \"NO MASK\", \"img\": \"avatar_682.png\"}, {\"top\": 363, \"right\": 747, \"bottom\": 445, \"left\": 678, \"confidence\": 0.9607238173484802, \"label\": \"MASK\", \"img\": \"avatar_683.png\"}, {\"top\": 337, \"right\": 1795, \"bottom\": 407, \"left\": 1735, \"confidence\": 0.9816533923149109, \"label\": \"NO MASK\", \"img\": \"avatar_684.png\"}, {\"top\": 89, \"right\": 1869, \"bottom\": 148, \"left\": 1816, \"confidence\": 0.9592791199684143, \"label\": \"NO MASK\", \"img\": \"avatar_685.png\"}, {\"top\": 89, \"right\": 1381, \"bottom\": 149, \"left\": 1330, \"confidence\": 0.8109582662582397, \"label\": \"NO MASK\", \"img\": \"avatar_686.png\"}, {\"top\": 172, \"right\": 1310, \"bottom\": 230, \"left\": 1259, \"confidence\": 0.7809818387031555, \"label\": \"MASK\", \"img\": \"avatar_687.png\"}, {\"top\": 162, \"right\": 1601, \"bottom\": 228, \"left\": 1550, \"confidence\": 0.7819467782974243, \"label\": \"NO MASK\", \"img\": \"avatar_688.png\"}]}\r\n{\"frame\": 430, \"data\": [{\"top\": 392, \"right\": 479, \"bottom\": 506, \"left\": 375, \"confidence\": 0.9134548902511597, \"label\": \"NO MASK\", \"img\": \"avatar_689.png\"}, {\"top\": 363, \"right\": 747, \"bottom\": 445, \"left\": 678, \"confidence\": 0.9603110551834106, \"label\": \"MASK\", \"img\": \"avatar_690.png\"}, {\"top\": 337, \"right\": 1795, \"bottom\": 407, \"left\": 1735, \"confidence\": 0.9876533150672913, \"label\": \"NO MASK\", \"img\": \"avatar_691.png\"}, {\"top\": 88, \"right\": 1381, \"bottom\": 148, \"left\": 1330, \"confidence\": 0.7428181767463684, \"label\": \"NO MASK\", \"img\": \"avatar_692.png\"}, {\"top\": 89, \"right\": 1869, \"bottom\": 149, \"left\": 1816, \"confidence\": 0.9759339690208435, \"label\": \"NO MASK\", \"img\": \"avatar_693.png\"}, {\"top\": 172, \"right\": 1310, \"bottom\": 230, \"left\": 1260, \"confidence\": 0.6687736511230469, \"label\": \"MASK\", \"img\": \"avatar_694.png\"}, {\"top\": 163, \"right\": 1601, \"bottom\": 228, \"left\": 1549, \"confidence\": 0.7657558917999268, \"label\": \"NO MASK\", \"img\": \"avatar_695.png\"}]}\r\n{\"frame\": 431, \"data\": [{\"top\": 392, \"right\": 479, \"bottom\": 506, \"left\": 375, \"confidence\": 0.9108703136444092, \"label\": \"NO MASK\", \"img\": \"avatar_696.png\"}, {\"top\": 363, \"right\": 747, \"bottom\": 445, \"left\": 678, \"confidence\": 0.9574418663978577, \"label\": \"MASK\", \"img\": \"avatar_697.png\"}, {\"top\": 337, \"right\": 1795, \"bottom\": 407, \"left\": 1735, \"confidence\": 0.9824281334877014, \"label\": \"NO MASK\", \"img\": \"avatar_698.png\"}, {\"top\": 88, \"right\": 1381, \"bottom\": 149, \"left\": 1330, \"confidence\": 0.7586736083030701, \"label\": \"NO MASK\", \"img\": \"avatar_699.png\"}, {\"top\": 89, \"right\": 1869, \"bottom\": 148, \"left\": 1816, \"confidence\": 0.9796481728553772, \"label\": \"NO MASK\", \"img\": \"avatar_700.png\"}, {\"top\": 172, \"right\": 1310, \"bottom\": 230, \"left\": 1260, \"confidence\": 0.6333188414573669, \"label\": \"MASK\", \"img\": \"avatar_701.png\"}, {\"top\": 163, \"right\": 1601, \"bottom\": 228, \"left\": 1549, \"confidence\": 0.7607681155204773, \"label\": \"NO MASK\", \"img\": \"avatar_702.png\"}]}\r\n{\"frame\": 432, \"data\": [{\"top\": 389, \"right\": 511, \"bottom\": 504, \"left\": 407, \"confidence\": 0.9064080715179443, \"label\": \"NO MASK\", \"img\": \"avatar_703.png\"}, {\"top\": 81, \"right\": 1918, \"bottom\": 147, \"left\": 1871, \"confidence\": 0.9819946885108948, \"label\": \"NO MASK\", \"img\": \"avatar_704.png\"}, {\"top\": 334, \"right\": 1841, \"bottom\": 408, \"left\": 1774, \"confidence\": 0.975739598274231, \"label\": \"NO MASK\", \"img\": \"avatar_705.png\"}, {\"top\": 360, \"right\": 779, \"bottom\": 440, \"left\": 709, \"confidence\": 0.9678950309753418, \"label\": \"MASK\", \"img\": \"avatar_706.png\"}, {\"top\": 85, \"right\": 1415, \"bottom\": 145, \"left\": 1366, \"confidence\": 0.7579574584960938, \"label\": \"NO MASK\", \"img\": \"avatar_707.png\"}, {\"top\": 161, \"right\": 1641, \"bottom\": 224, \"left\": 1588, \"confidence\": 0.6169140934944153, \"label\": \"NO MASK\", \"img\": \"avatar_708.png\"}, {\"top\": 168, \"right\": 1346, \"bottom\": 230, \"left\": 1294, \"confidence\": 0.5199798941612244, \"label\": \"MASK\", \"img\": \"avatar_709.png\"}]}\r\n{\"frame\": 433, \"data\": [{\"top\": 390, \"right\": 511, \"bottom\": 504, \"left\": 407, \"confidence\": 0.9031928777694702, \"label\": \"NO MASK\", \"img\": \"avatar_710.png\"}, {\"top\": 81, \"right\": 1918, \"bottom\": 146, \"left\": 1871, \"confidence\": 0.9717060327529907, \"label\": \"NO MASK\", \"img\": \"avatar_711.png\"}, {\"top\": 334, \"right\": 1841, \"bottom\": 409, \"left\": 1774, \"confidence\": 0.9876353144645691, \"label\": \"NO MASK\", \"img\": \"avatar_712.png\"}, {\"top\": 360, \"right\": 779, \"bottom\": 440, \"left\": 709, \"confidence\": 0.9662933349609375, \"label\": \"MASK\", \"img\": \"avatar_713.png\"}, {\"top\": 85, \"right\": 1415, \"bottom\": 145, \"left\": 1366, \"confidence\": 0.8160114288330078, \"label\": \"NO MASK\", \"img\": \"avatar_714.png\"}, {\"top\": 161, \"right\": 1641, \"bottom\": 224, \"left\": 1588, \"confidence\": 0.6112593412399292, \"label\": \"NO MASK\", \"img\": \"avatar_715.png\"}, {\"top\": 168, \"right\": 1346, \"bottom\": 230, \"left\": 1294, \"confidence\": 0.5425035953521729, \"label\": \"NO MASK\", \"img\": \"avatar_716.png\"}]}\r\n{\"frame\": 434, \"data\": [{\"top\": 390, \"right\": 511, \"bottom\": 504, \"left\": 407, \"confidence\": 0.9110963344573975, \"label\": \"NO MASK\", \"img\": \"avatar_717.png\"}, {\"top\": 82, \"right\": 1918, \"bottom\": 146, \"left\": 1871, \"confidence\": 0.9690842032432556, \"label\": \"NO MASK\", \"img\": \"avatar_718.png\"}, {\"top\": 335, \"right\": 1841, \"bottom\": 410, \"left\": 1774, \"confidence\": 0.9804069399833679, \"label\": \"NO MASK\", \"img\": \"avatar_719.png\"}, {\"top\": 360, \"right\": 779, \"bottom\": 440, \"left\": 709, \"confidence\": 0.9664139151573181, \"label\": \"MASK\", \"img\": \"avatar_720.png\"}, {\"top\": 85, \"right\": 1415, \"bottom\": 145, \"left\": 1366, \"confidence\": 0.8453410267829895, \"label\": \"NO MASK\", \"img\": \"avatar_721.png\"}, {\"top\": 161, \"right\": 1641, \"bottom\": 224, \"left\": 1588, \"confidence\": 0.5629878044128418, \"label\": \"NO MASK\", \"img\": \"avatar_722.png\"}, {\"top\": 169, \"right\": 1346, \"bottom\": 230, \"left\": 1294, \"confidence\": 0.5840457081794739, \"label\": \"NO MASK\", \"img\": \"avatar_723.png\"}]}\r\nTraceback (most recent call last):\r\n  File \"C:/Users/xiaomi/PycharmProjects/untitled8/FaceMaskDetection-master/mask_detection.py\", line 71, in <module>\r\n    cv2.imwrite(path, image, [int(cv2.IMWRITE_PNG_COMPRESSION), 9])\r\ncv2.error: OpenCV(4.2.0) C:\\projects\\opencv-python\\opencv\\modules\\imgcodecs\\src\\loadsave.cpp:715: error: (-215:Assertion failed) !_img.empty() in function 'cv::imwrite'\r\n\r\nOpenCV: FFMPEG: tag 0x30397076/'vp90' is not supported with codec id 167 and format 'mp4 / MP4 (MPEG-4 Part 14)'\r\nOpenCV: FFMPEG: fallback to use tag 0x39307076/'vp09'\r\n\r\n视频路径\r\n![image](https://user-images.githubusercontent.com/61311451/75668901-002ce680-5cb5-11ea-8278-2a61f05c9ae0.png)\r\n\r\n切换到打开摄像头检测则不会报错\r\n",
        "state": "closed",
        "user": "xd905",
        "closed_by": "xd905",
        "created_at": "2020-03-02T10:40:29+00:00",
        "updated_at": "2020-03-02T10:40:59+00:00",
        "closed_at": "2020-03-02T10:40:59+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 401,
        "title": "口罩检测有BUG，就是如果视频或者照片没有人脸的时候，直接崩溃了",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "lzcchl",
        "closed_by": "lzcchl",
        "created_at": "2020-03-01T03:27:22+00:00",
        "updated_at": "2020-03-02T03:39:54+00:00",
        "closed_at": "2020-03-02T03:39:54+00:00",
        "comments_count": [
            "lzcchl",
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 407,
        "title": "win10环境下 hub.Module(name=\"pyramidbox_lite_mobile_mask\") 加载预训练模型错误",
        "body": "1）PaddleHub1.5.3，PaddlePaddle1.7.0\r\n2）系统环境：win10 python3.6（3.7也不行）\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nwin10环境下 hub.Module(name=\"pyramidbox_lite_mobile_mask\") 加载预训练模型时出现 Error: Cannot open file C:\\Users\\xxxx\\.paddlehub\\modules\\pyramidbox_lite_mobile_mask\\model\\@HUB_pyramidbox_lite_mobile_mask@age_block1_3.b_0 for load op at (D:\\1.7.0\\paddle\\paddle/fluid/operators/load_op.h:38) [operator < load > error] \r\nD盘没有什么1.7.0，前面教程里面的两行确实有出现。。。新手求解答=。=（在AI studio里面就没有问题）",
        "state": "closed",
        "user": "MrRGRG",
        "closed_by": "haoyuying",
        "created_at": "2020-03-02T09:18:32+00:00",
        "updated_at": "2020-10-22T10:49:26+00:00",
        "closed_at": "2020-10-22T10:49:26+00:00",
        "comments_count": [
            "MrRGRG",
            "Steffy-zxf",
            "MrRGRG",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 408,
        "title": "pycharm里运行mask_detection.py检测视频，检测几帧就报错",
        "body": "pycharm里运行mask_detection.py报错\r\n报错日志\r\nC:\\Users\\xiaomi\\Anaconda3\\python.exe C:/Users/xiaomi/PycharmProjects/untitled8/FaceMaskDetection-master/mask_detection.py\r\n[2020-03-02 17:23:07,572] [    INFO] - Installing pyramidbox_lite_server_mask module-1.1.0\r\n[2020-03-02 17:23:07,587] [    INFO] - Module pyramidbox_lite_server_mask-1.1.0 already installed in C:\\Users\\xiaomi\\.paddlehub\\modules\\pyramidbox_lite_server_mask\r\n[2020-03-02 17:23:07,690] [    INFO] - Installing pyramidbox_lite_server module-1.1.0\r\n[2020-03-02 17:23:07,705] [    INFO] - Module pyramidbox_lite_server-1.1.0 already installed in C:\\Users\\xiaomi\\.paddlehub\\modules\\pyramidbox_lite_server\r\n[2020-03-02 17:23:08,004] [    INFO] - 133 pretrained paramaters loaded by PaddleHub\r\n[2020-03-02 17:23:08,145] [    INFO] - 143 pretrained paramaters loaded by PaddleHub\r\n{\"frame\": 0, \"data\": []}\r\n{\"frame\": 1, \"data\": []}\r\n{\"frame\": 2, \"data\": []}\r\n{\"frame\": 3, \"data\": []}\r\n{\"frame\": 4, \"data\": []}\r\n{\"frame\": 5, \"data\": []}\r\n{\"frame\": 6, \"data\": [{\"top\": 192, \"right\": 1578, \"bottom\": 314, \"left\": 1493, \"confidence\": 0.6598879098892212, \"label\": \"MASK\", \"img\": \"avatar_0.png\"}, {\"top\": 663, \"right\": 291, \"bottom\": 879, \"left\": 118, \"confidence\": 0.7154238224029541, \"label\": \"MASK\", \"img\": \"avatar_1.png\"}]}\r\n{\"frame\": 7, \"data\": [{\"top\": 192, \"right\": 1578, \"bottom\": 314, \"left\": 1493, \"confidence\": 0.6842906475067139, \"label\": \"MASK\", \"img\": \"avatar_2.png\"}, {\"top\": 663, \"right\": 292, \"bottom\": 879, \"left\": 117, \"confidence\": 0.6681514382362366, \"label\": \"MASK\", \"img\": \"avatar_3.png\"}]}\r\n{\"frame\": 8, \"data\": [{\"top\": 192, \"right\": 1578, \"bottom\": 314, \"left\": 1493, \"confidence\": 0.6816697716712952, \"label\": \"MASK\", \"img\": \"avatar_4.png\"}, {\"top\": 662, \"right\": 292, \"bottom\": 879, \"left\": 116, \"confidence\": 0.7174950838088989, \"label\": \"MASK\", \"img\": \"avatar_5.png\"}]}\r\n{\"frame\": 9, \"data\": [{\"top\": 668, \"right\": 283, \"bottom\": 874, \"left\": 123, \"confidence\": 0.7018092274665833, \"label\": \"MASK\", \"img\": \"avatar_6.png\"}]}\r\n{\"frame\": 10, \"data\": [{\"top\": 667, \"right\": 283, \"bottom\": 873, \"left\": 122, \"confidence\": 0.6414158344268799, \"label\": \"MASK\", \"img\": \"avatar_7.png\"}]}\r\n{\"frame\": 11, \"data\": [{\"top\": 667, \"right\": 283, \"bottom\": 873, \"left\": 122, \"confidence\": 0.647498607635498, \"label\": \"MASK\", \"img\": \"avatar_8.png\"}]}\r\n{\"frame\": 12, \"data\": [{\"top\": 24, \"right\": 454, \"bottom\": 278, \"left\": 194, \"confidence\": 0.8939634561538696, \"label\": \"NO MASK\", \"img\": \"avatar_9.png\"}, {\"top\": 661, \"right\": 282, \"bottom\": 860, \"left\": 119, \"confidence\": 0.6182034015655518, \"label\": \"NO MASK\", \"img\": \"avatar_10.png\"}]}\r\n{\"frame\": 13, \"data\": [{\"top\": 24, \"right\": 453, \"bottom\": 277, \"left\": 194, \"confidence\": 0.8626335859298706, \"label\": \"NO MASK\", \"img\": \"avatar_11.png\"}]}\r\n{\"frame\": 14, \"data\": [{\"top\": 24, \"right\": 453, \"bottom\": 278, \"left\": 194, \"confidence\": 0.8847233653068542, \"label\": \"NO MASK\", \"img\": \"avatar_12.png\"}, {\"top\": 662, \"right\": 282, \"bottom\": 861, \"left\": 118, \"confidence\": 0.6984359622001648, \"label\": \"NO MASK\", \"img\": \"avatar_13.png\"}]}\r\n{\"frame\": 15, \"data\": []}\r\n{\"frame\": 16, \"data\": []}\r\n{\"frame\": 17, \"data\": []}\r\n{\"frame\": 18, \"data\": [{\"top\": 373, \"right\": 1121, \"bottom\": 600, \"left\": 944, \"confidence\": 0.9615735411643982, \"label\": \"NO MASK\", \"img\": \"avatar_14.png\"}]}\r\n{\"frame\": 19, \"data\": [{\"top\": 373, \"right\": 1122, \"bottom\": 600, \"left\": 945, \"confidence\": 0.948296070098877, \"label\": \"NO MASK\", \"img\": \"avatar_15.png\"}]}\r\n{\"frame\": 20, \"data\": [{\"top\": 373, \"right\": 1122, \"bottom\": 599, \"left\": 945, \"confidence\": 0.9475864768028259, \"label\": \"NO MASK\", \"img\": \"avatar_16.png\"}]}\r\n{\"frame\": 21, \"data\": [{\"top\": 647, \"right\": 295, \"bottom\": 860, \"left\": 130, \"confidence\": 0.5770584940910339, \"label\": \"MASK\", \"img\": \"avatar_17.png\"}]}\r\n{\"frame\": 22, \"data\": [{\"top\": 649, \"right\": 295, \"bottom\": 858, \"left\": 131, \"confidence\": 0.5225788950920105, \"label\": \"MASK\", \"img\": \"avatar_18.png\"}]}\r\n{\"frame\": 23, \"data\": [{\"top\": 648, \"right\": 295, \"bottom\": 858, \"left\": 130, \"confidence\": 0.6316049695014954, \"label\": \"NO MASK\", \"img\": \"avatar_19.png\"}]}\r\n{\"frame\": 24, \"data\": [{\"top\": 381, \"right\": 1142, \"bottom\": 615, \"left\": 955, \"confidence\": 0.9240951538085938, \"label\": \"NO MASK\", \"img\": \"avatar_20.png\"}, {\"top\": 653, \"right\": 301, \"bottom\": 865, \"left\": 130, \"confidence\": 0.6490209698677063, \"label\": \"MASK\", \"img\": \"avatar_21.png\"}]}\r\n{\"frame\": 25, \"data\": [{\"top\": 380, \"right\": 1143, \"bottom\": 616, \"left\": 955, \"confidence\": 0.9495848417282104, \"label\": \"NO MASK\", \"img\": \"avatar_22.png\"}, {\"top\": 652, \"right\": 301, \"bottom\": 865, \"left\": 129, \"confidence\": 0.6303302049636841, \"label\": \"MASK\", \"img\": \"avatar_23.png\"}]}\r\n{\"frame\": 26, \"data\": [{\"top\": 381, \"right\": 1143, \"bottom\": 616, \"left\": 955, \"confidence\": 0.9434199333190918, \"label\": \"NO MASK\", \"img\": \"avatar_24.png\"}, {\"top\": 652, \"right\": 301, \"bottom\": 866, \"left\": 129, \"confidence\": 0.7217013239860535, \"label\": \"MASK\", \"img\": \"avatar_25.png\"}]}\r\n{\"frame\": 27, \"data\": []}\r\n{\"frame\": 28, \"data\": []}\r\n{\"frame\": 29, \"data\": []}\r\n{\"frame\": 30, \"data\": [{\"top\": 344, \"right\": 1417, \"bottom\": 602, \"left\": 1198, \"confidence\": 0.8223381638526917, \"label\": \"NO MASK\", \"img\": \"avatar_26.png\"}]}\r\n{\"frame\": 31, \"data\": [{\"top\": 344, \"right\": 1417, \"bottom\": 603, \"left\": 1198, \"confidence\": 0.8363244533538818, \"label\": \"NO MASK\", \"img\": \"avatar_27.png\"}]}\r\n{\"frame\": 32, \"data\": [{\"top\": 345, \"right\": 1417, \"bottom\": 603, \"left\": 1198, \"confidence\": 0.8238263726234436, \"label\": \"NO MASK\", \"img\": \"avatar_28.png\"}]}\r\n{\"frame\": 33, \"data\": []}\r\n{\"frame\": 34, \"data\": []}\r\n{\"frame\": 35, \"data\": []}\r\n{\"frame\": 36, \"data\": []}\r\n{\"frame\": 37, \"data\": []}\r\n{\"frame\": 38, \"data\": []}\r\n{\"frame\": 39, \"data\": []}\r\n{\"frame\": 40, \"data\": []}\r\n{\"frame\": 41, \"data\": []}\r\n{\"frame\": 42, \"data\": [{\"top\": 390, \"right\": 1144, \"bottom\": 626, \"left\": 959, \"confidence\": 0.8971235156059265, \"label\": \"NO MASK\", \"img\": \"avatar_29.png\"}]}\r\n{\"frame\": 43, \"data\": [{\"top\": 390, \"right\": 1144, \"bottom\": 626, \"left\": 959, \"confidence\": 0.9107908606529236, \"label\": \"NO MASK\", \"img\": \"avatar_30.png\"}]}\r\n{\"frame\": 44, \"data\": [{\"top\": 391, \"right\": 1144, \"bottom\": 626, \"left\": 959, \"confidence\": 0.9018292427062988, \"label\": \"NO MASK\", \"img\": \"avatar_31.png\"}]}\r\n{\"frame\": 45, \"data\": []}\r\n{\"frame\": 46, \"data\": []}\r\n{\"frame\": 47, \"data\": []}\r\n{\"frame\": 48, \"data\": []}\r\n{\"frame\": 49, \"data\": []}\r\n{\"frame\": 50, \"data\": []}\r\n{\"frame\": 51, \"data\": []}\r\n{\"frame\": 52, \"data\": []}\r\n{\"frame\": 53, \"data\": []}\r\n{\"frame\": 54, \"data\": []}\r\n{\"frame\": 55, \"data\": []}\r\n{\"frame\": 56, \"data\": []}\r\n{\"frame\": 57, \"data\": []}\r\n{\"frame\": 58, \"data\": []}\r\n{\"frame\": 59, \"data\": []}\r\n{\"frame\": 60, \"data\": []}\r\n{\"frame\": 61, \"data\": []}\r\n{\"frame\": 62, \"data\": []}\r\n{\"frame\": 63, \"data\": []}\r\n{\"frame\": 64, \"data\": []}\r\n{\"frame\": 65, \"data\": []}\r\n{\"frame\": 66, \"data\": []}\r\n{\"frame\": 67, \"data\": []}\r\n{\"frame\": 68, \"data\": []}\r\n{\"frame\": 69, \"data\": []}\r\n{\"frame\": 70, \"data\": []}\r\n{\"frame\": 71, \"data\": []}\r\n{\"frame\": 72, \"data\": []}\r\n{\"frame\": 73, \"data\": []}\r\n{\"frame\": 74, \"data\": []}\r\n{\"frame\": 75, \"data\": []}\r\n{\"frame\": 76, \"data\": []}\r\n{\"frame\": 77, \"data\": []}\r\n{\"frame\": 78, \"data\": []}\r\n{\"frame\": 79, \"data\": []}\r\n{\"frame\": 80, \"data\": []}\r\n{\"frame\": 81, \"data\": []}\r\n{\"frame\": 82, \"data\": []}\r\n{\"frame\": 83, \"data\": []}\r\n{\"frame\": 84, \"data\": []}\r\n{\"frame\": 85, \"data\": []}\r\n{\"frame\": 86, \"data\": []}\r\n{\"frame\": 87, \"data\": []}\r\n{\"frame\": 88, \"data\": []}\r\n{\"frame\": 89, \"data\": []}\r\n{\"frame\": 90, \"data\": []}\r\n{\"frame\": 91, \"data\": []}\r\n{\"frame\": 92, \"data\": []}\r\n{\"frame\": 93, \"data\": []}\r\n{\"frame\": 94, \"data\": []}\r\n{\"frame\": 95, \"data\": []}\r\n{\"frame\": 96, \"data\": []}\r\n{\"frame\": 97, \"data\": []}\r\n{\"frame\": 98, \"data\": []}\r\n{\"frame\": 99, \"data\": []}\r\n{\"frame\": 100, \"data\": []}\r\n{\"frame\": 101, \"data\": []}\r\n{\"frame\": 102, \"data\": []}\r\n{\"frame\": 103, \"data\": []}\r\n{\"frame\": 104, \"data\": []}\r\n{\"frame\": 105, \"data\": [{\"top\": 461, \"right\": 1145, \"bottom\": 665, \"left\": 986, \"confidence\": 0.9692726731300354, \"label\": \"NO MASK\", \"img\": \"avatar_32.png\"}]}\r\n{\"frame\": 106, \"data\": [{\"top\": 460, \"right\": 1146, \"bottom\": 665, \"left\": 987, \"confidence\": 0.9772320985794067, \"label\": \"NO MASK\", \"img\": \"avatar_33.png\"}]}\r\n{\"frame\": 107, \"data\": [{\"top\": 460, \"right\": 1146, \"bottom\": 665, \"left\": 987, \"confidence\": 0.9771429300308228, \"label\": \"NO MASK\", \"img\": \"avatar_34.png\"}]}\r\n{\"frame\": 108, \"data\": [{\"top\": 457, \"right\": 1150, \"bottom\": 670, \"left\": 986, \"confidence\": 0.9537975788116455, \"label\": \"NO MASK\", \"img\": \"avatar_35.png\"}]}\r\n{\"frame\": 109, \"data\": [{\"top\": 457, \"right\": 1151, \"bottom\": 670, \"left\": 986, \"confidence\": 0.9670658707618713, \"label\": \"NO MASK\", \"img\": \"avatar_36.png\"}]}\r\n{\"frame\": 110, \"data\": [{\"top\": 457, \"right\": 1151, \"bottom\": 670, \"left\": 986, \"confidence\": 0.973444938659668, \"label\": \"NO MASK\", \"img\": \"avatar_37.png\"}]}\r\n{\"frame\": 111, \"data\": []}\r\n{\"frame\": 112, \"data\": [{\"top\": 442, \"right\": 1183, \"bottom\": 626, \"left\": 1027, \"confidence\": 0.9340898394584656, \"label\": \"NO MASK\", \"img\": \"avatar_38.png\"}]}\r\n{\"frame\": 113, \"data\": [{\"top\": 442, \"right\": 1183, \"bottom\": 626, \"left\": 1026, \"confidence\": 0.9314777255058289, \"label\": \"NO MASK\", \"img\": \"avatar_39.png\"}]}\r\n{\"frame\": 114, \"data\": [{\"top\": 403, \"right\": 1219, \"bottom\": 639, \"left\": 1041, \"confidence\": 0.9844661951065063, \"label\": \"NO MASK\", \"img\": \"avatar_40.png\"}, {\"top\": 372, \"right\": 1491, \"bottom\": 632, \"left\": 1270, \"confidence\": 0.7973282337188721, \"label\": \"NO MASK\", \"img\": \"avatar_41.png\"}]}\r\n{\"frame\": 115, \"data\": [{\"top\": 401, \"right\": 1221, \"bottom\": 637, \"left\": 1042, \"confidence\": 0.9850747585296631, \"label\": \"NO MASK\", \"img\": \"avatar_42.png\"}, {\"top\": 373, \"right\": 1491, \"bottom\": 633, \"left\": 1270, \"confidence\": 0.8968647122383118, \"label\": \"NO MASK\", \"img\": \"avatar_43.png\"}]}\r\n{\"frame\": 116, \"data\": [{\"top\": 401, \"right\": 1221, \"bottom\": 636, \"left\": 1042, \"confidence\": 0.9866742491722107, \"label\": \"NO MASK\", \"img\": \"avatar_44.png\"}, {\"top\": 373, \"right\": 1491, \"bottom\": 633, \"left\": 1270, \"confidence\": 0.8675416111946106, \"label\": \"NO MASK\", \"img\": \"avatar_45.png\"}]}\r\n{\"frame\": 117, \"data\": []}\r\n{\"frame\": 118, \"data\": []}\r\n{\"frame\": 119, \"data\": []}\r\n{\"frame\": 120, \"data\": []}\r\n{\"frame\": 121, \"data\": []}\r\n{\"frame\": 122, \"data\": []}\r\n{\"frame\": 123, \"data\": []}\r\n{\"frame\": 124, \"data\": []}\r\n{\"frame\": 125, \"data\": []}\r\n{\"frame\": 126, \"data\": []}\r\n{\"frame\": 127, \"data\": []}\r\n{\"frame\": 128, \"data\": []}\r\n{\"frame\": 129, \"data\": []}\r\n{\"frame\": 130, \"data\": []}\r\n{\"frame\": 131, \"data\": []}\r\n{\"frame\": 132, \"data\": []}\r\n{\"frame\": 133, \"data\": []}\r\n{\"frame\": 134, \"data\": []}\r\n{\"frame\": 135, \"data\": []}\r\n{\"frame\": 136, \"data\": []}\r\n{\"frame\": 137, \"data\": []}\r\n{\"frame\": 138, \"data\": []}\r\n{\"frame\": 139, \"data\": []}\r\n{\"frame\": 140, \"data\": []}\r\n{\"frame\": 141, \"data\": []}\r\n{\"frame\": 142, \"data\": []}\r\n{\"frame\": 143, \"data\": []}\r\n{\"frame\": 144, \"data\": [{\"top\": 362, \"right\": 1190, \"bottom\": 585, \"left\": 1000, \"confidence\": 0.9654194712638855, \"label\": \"NO MASK\", \"img\": \"avatar_46.png\"}]}\r\n{\"frame\": 145, \"data\": [{\"top\": 361, \"right\": 1190, \"bottom\": 586, \"left\": 1000, \"confidence\": 0.9704778790473938, \"label\": \"NO MASK\", \"img\": \"avatar_47.png\"}]}\r\n{\"frame\": 146, \"data\": [{\"top\": 361, \"right\": 1190, \"bottom\": 585, \"left\": 1000, \"confidence\": 0.958350419998169, \"label\": \"NO MASK\", \"img\": \"avatar_48.png\"}]}\r\n{\"frame\": 147, \"data\": [{\"top\": 385, \"right\": 1170, \"bottom\": 594, \"left\": 996, \"confidence\": 0.9446123242378235, \"label\": \"NO MASK\", \"img\": \"avatar_49.png\"}]}\r\n{\"frame\": 148, \"data\": [{\"top\": 386, \"right\": 1170, \"bottom\": 593, \"left\": 996, \"confidence\": 0.947902500629425, \"label\": \"NO MASK\", \"img\": \"avatar_50.png\"}]}\r\n{\"frame\": 149, \"data\": [{\"top\": 385, \"right\": 1171, \"bottom\": 594, \"left\": 996, \"confidence\": 0.9570245146751404, \"label\": \"NO MASK\", \"img\": \"avatar_51.png\"}]}\r\n{\"frame\": 150, \"data\": []}\r\n{\"frame\": 151, \"data\": []}\r\n{\"frame\": 152, \"data\": []}\r\n{\"frame\": 153, \"data\": []}\r\n{\"frame\": 154, \"data\": []}\r\n{\"frame\": 155, \"data\": []}\r\n{\"frame\": 156, \"data\": [{\"top\": 352, \"right\": 1161, \"bottom\": 592, \"left\": 972, \"confidence\": 0.8932889699935913, \"label\": \"NO MASK\", \"img\": \"avatar_52.png\"}]}\r\n{\"frame\": 157, \"data\": [{\"top\": 354, \"right\": 1161, \"bottom\": 594, \"left\": 971, \"confidence\": 0.9028537273406982, \"label\": \"NO MASK\", \"img\": \"avatar_53.png\"}]}\r\n{\"frame\": 158, \"data\": [{\"top\": 355, \"right\": 1160, \"bottom\": 594, \"left\": 971, \"confidence\": 0.9031453132629395, \"label\": \"NO MASK\", \"img\": \"avatar_54.png\"}]}\r\n{\"frame\": 159, \"data\": []}\r\n{\"frame\": 160, \"data\": []}\r\n{\"frame\": 161, \"data\": []}\r\n{\"frame\": 162, \"data\": []}\r\n{\"frame\": 163, \"data\": []}\r\n{\"frame\": 164, \"data\": []}\r\n{\"frame\": 165, \"data\": [{\"top\": 395, \"right\": 1146, \"bottom\": 614, \"left\": 967, \"confidence\": 0.9561344385147095, \"label\": \"NO MASK\", \"img\": \"avatar_55.png\"}]}\r\n{\"frame\": 166, \"data\": [{\"top\": 395, \"right\": 1148, \"bottom\": 615, \"left\": 968, \"confidence\": 0.9356657862663269, \"label\": \"NO MASK\", \"img\": \"avatar_56.png\"}]}\r\n{\"frame\": 167, \"data\": [{\"top\": 395, \"right\": 1147, \"bottom\": 615, \"left\": 968, \"confidence\": 0.9427422285079956, \"label\": \"NO MASK\", \"img\": \"avatar_57.png\"}]}\r\n{\"frame\": 168, \"data\": []}\r\n{\"frame\": 169, \"data\": []}\r\n{\"frame\": 170, \"data\": []}\r\n{\"frame\": 171, \"data\": []}\r\n{\"frame\": 172, \"data\": []}\r\n{\"frame\": 173, \"data\": []}\r\n{\"frame\": 174, \"data\": [{\"top\": 641, \"right\": 1430, \"bottom\": 903, \"left\": 1173, \"confidence\": 0.750539243221283, \"label\": \"NO MASK\", \"img\": \"avatar_58.png\"}]}\r\n{\"frame\": 175, \"data\": [{\"top\": 641, \"right\": 1430, \"bottom\": 903, \"left\": 1173, \"confidence\": 0.7709321975708008, \"label\": \"NO MASK\", \"img\": \"avatar_59.png\"}]}\r\n{\"frame\": 176, \"data\": [{\"top\": 641, \"right\": 1430, \"bottom\": 903, \"left\": 1173, \"confidence\": 0.7364686727523804, \"label\": \"NO MASK\", \"img\": \"avatar_60.png\"}]}\r\n{\"frame\": 177, \"data\": []}\r\n{\"frame\": 178, \"data\": []}\r\n{\"frame\": 179, \"data\": []}\r\n{\"frame\": 180, \"data\": []}\r\n{\"frame\": 181, \"data\": []}\r\n{\"frame\": 182, \"data\": []}\r\n{\"frame\": 183, \"data\": []}\r\n{\"frame\": 184, \"data\": []}\r\n{\"frame\": 185, \"data\": []}\r\n{\"frame\": 186, \"data\": []}\r\n{\"frame\": 187, \"data\": []}\r\n{\"frame\": 188, \"data\": []}\r\n{\"frame\": 189, \"data\": []}\r\n{\"frame\": 190, \"data\": []}\r\n{\"frame\": 191, \"data\": []}\r\n{\"frame\": 192, \"data\": []}\r\n{\"frame\": 193, \"data\": []}\r\n{\"frame\": 194, \"data\": []}\r\n{\"frame\": 195, \"data\": []}\r\n{\"frame\": 196, \"data\": []}\r\n{\"frame\": 197, \"data\": []}\r\n{\"frame\": 198, \"data\": []}\r\n{\"frame\": 199, \"data\": []}\r\n{\"frame\": 200, \"data\": []}\r\n{\"frame\": 201, \"data\": []}\r\n{\"frame\": 202, \"data\": []}\r\n{\"frame\": 203, \"data\": []}\r\n{\"frame\": 204, \"data\": []}\r\n{\"frame\": 205, \"data\": []}\r\n{\"frame\": 206, \"data\": []}\r\n{\"frame\": 207, \"data\": []}\r\n{\"frame\": 208, \"data\": []}\r\n{\"frame\": 209, \"data\": []}\r\n{\"frame\": 210, \"data\": []}\r\n{\"frame\": 211, \"data\": []}\r\n{\"frame\": 212, \"data\": []}\r\n{\"frame\": 213, \"data\": [{\"top\": 613, \"right\": 1496, \"bottom\": 908, \"left\": 1212, \"confidence\": 0.6952748894691467, \"label\": \"NO MASK\", \"img\": \"avatar_61.png\"}]}\r\n{\"frame\": 214, \"data\": []}\r\n{\"frame\": 215, \"data\": []}\r\n{\"frame\": 216, \"data\": []}\r\n{\"frame\": 217, \"data\": []}\r\n{\"frame\": 218, \"data\": []}\r\n{\"frame\": 219, \"data\": []}\r\n{\"frame\": 220, \"data\": []}\r\n{\"frame\": 221, \"data\": []}\r\n{\"frame\": 222, \"data\": []}\r\n{\"frame\": 223, \"data\": []}\r\n{\"frame\": 224, \"data\": []}\r\n{\"frame\": 225, \"data\": []}\r\n{\"frame\": 226, \"data\": []}\r\n{\"frame\": 227, \"data\": []}\r\n{\"frame\": 228, \"data\": []}\r\n{\"frame\": 229, \"data\": []}\r\n{\"frame\": 230, \"data\": []}\r\n{\"frame\": 231, \"data\": []}\r\n{\"frame\": 232, \"data\": []}\r\n{\"frame\": 233, \"data\": []}\r\n{\"frame\": 234, \"data\": []}\r\n{\"frame\": 235, \"data\": []}\r\n{\"frame\": 236, \"data\": []}\r\n{\"frame\": 237, \"data\": []}\r\n{\"frame\": 238, \"data\": []}\r\n{\"frame\": 239, \"data\": []}\r\n{\"frame\": 240, \"data\": []}\r\n{\"frame\": 241, \"data\": []}\r\n{\"frame\": 242, \"data\": []}\r\n{\"frame\": 243, \"data\": []}\r\n{\"frame\": 244, \"data\": []}\r\n{\"frame\": 245, \"data\": []}\r\n{\"frame\": 246, \"data\": []}\r\n{\"frame\": 247, \"data\": []}\r\n{\"frame\": 248, \"data\": []}\r\n{\"frame\": 249, \"data\": []}\r\n{\"frame\": 250, \"data\": []}\r\n{\"frame\": 251, \"data\": []}\r\n{\"frame\": 252, \"data\": []}\r\n{\"frame\": 253, \"data\": []}\r\n{\"frame\": 254, \"data\": []}\r\n{\"frame\": 255, \"data\": []}\r\n{\"frame\": 256, \"data\": []}\r\n{\"frame\": 257, \"data\": []}\r\n{\"frame\": 258, \"data\": []}\r\n{\"frame\": 259, \"data\": []}\r\n{\"frame\": 260, \"data\": []}\r\n{\"frame\": 261, \"data\": []}\r\n{\"frame\": 262, \"data\": []}\r\n{\"frame\": 263, \"data\": []}\r\n{\"frame\": 264, \"data\": []}\r\n{\"frame\": 265, \"data\": []}\r\n{\"frame\": 266, \"data\": []}\r\n{\"frame\": 267, \"data\": [{\"top\": 334, \"right\": 1431, \"bottom\": 596, \"left\": 1216, \"confidence\": 0.8394776582717896, \"label\": \"NO MASK\", \"img\": \"avatar_62.png\"}]}\r\n{\"frame\": 268, \"data\": [{\"top\": 334, \"right\": 1430, \"bottom\": 596, \"left\": 1216, \"confidence\": 0.8174445629119873, \"label\": \"NO MASK\", \"img\": \"avatar_63.png\"}]}\r\n{\"frame\": 269, \"data\": [{\"top\": 334, \"right\": 1430, \"bottom\": 596, \"left\": 1216, \"confidence\": 0.8095839023590088, \"label\": \"NO MASK\", \"img\": \"avatar_64.png\"}]}\r\n{\"frame\": 270, \"data\": []}\r\n{\"frame\": 271, \"data\": []}\r\n{\"frame\": 272, \"data\": []}\r\n{\"frame\": 273, \"data\": []}\r\n{\"frame\": 274, \"data\": []}\r\n{\"frame\": 275, \"data\": []}\r\n{\"frame\": 276, \"data\": []}\r\n{\"frame\": 277, \"data\": []}\r\n{\"frame\": 278, \"data\": []}\r\n{\"frame\": 279, \"data\": []}\r\n{\"frame\": 280, \"data\": []}\r\n{\"frame\": 281, \"data\": []}\r\n{\"frame\": 282, \"data\": []}\r\n{\"frame\": 283, \"data\": []}\r\n{\"frame\": 284, \"data\": []}\r\n{\"frame\": 285, \"data\": []}\r\n{\"frame\": 286, \"data\": []}\r\n{\"frame\": 287, \"data\": []}\r\n{\"frame\": 288, \"data\": []}\r\n{\"frame\": 289, \"data\": []}\r\n{\"frame\": 290, \"data\": []}\r\n{\"frame\": 291, \"data\": []}\r\n{\"frame\": 292, \"data\": []}\r\n{\"frame\": 293, \"data\": []}\r\n{\"frame\": 294, \"data\": []}\r\n{\"frame\": 295, \"data\": []}\r\n{\"frame\": 296, \"data\": []}\r\n{\"frame\": 297, \"data\": []}\r\n{\"frame\": 298, \"data\": []}\r\n{\"frame\": 299, \"data\": []}\r\n{\"frame\": 300, \"data\": [{\"top\": 370, \"right\": 1468, \"bottom\": 626, \"left\": 1249, \"confidence\": 0.7929825782775879, \"label\": \"NO MASK\", \"img\": \"avatar_65.png\"}]}\r\n{\"frame\": 301, \"data\": [{\"top\": 370, \"right\": 1467, \"bottom\": 625, \"left\": 1250, \"confidence\": 0.8142149448394775, \"label\": \"NO MASK\", \"img\": \"avatar_66.png\"}]}\r\n{\"frame\": 302, \"data\": [{\"top\": 370, \"right\": 1467, \"bottom\": 625, \"left\": 1250, \"confidence\": 0.7565098404884338, \"label\": \"NO MASK\", \"img\": \"avatar_67.png\"}]}\r\n{\"frame\": 303, \"data\": [{\"top\": 425, \"right\": 1477, \"bottom\": 681, \"left\": 1252, \"confidence\": 0.7142595648765564, \"label\": \"NO MASK\", \"img\": \"avatar_68.png\"}]}\r\n{\"frame\": 304, \"data\": [{\"top\": 426, \"right\": 1477, \"bottom\": 681, \"left\": 1253, \"confidence\": 0.6984233260154724, \"label\": \"NO MASK\", \"img\": \"avatar_69.png\"}]}\r\n{\"frame\": 305, \"data\": [{\"top\": 425, \"right\": 1477, \"bottom\": 681, \"left\": 1253, \"confidence\": 0.7351128458976746, \"label\": \"NO MASK\", \"img\": \"avatar_70.png\"}]}\r\n{\"frame\": 306, \"data\": []}\r\n{\"frame\": 307, \"data\": []}\r\n{\"frame\": 308, \"data\": []}\r\n{\"frame\": 309, \"data\": []}\r\n{\"frame\": 310, \"data\": []}\r\n{\"frame\": 311, \"data\": []}\r\n{\"frame\": 312, \"data\": [{\"top\": 381, \"right\": 1477, \"bottom\": 644, \"left\": 1253, \"confidence\": 0.8062721490859985, \"label\": \"NO MASK\", \"img\": \"avatar_71.png\"}]}\r\n{\"frame\": 313, \"data\": [{\"top\": 378, \"right\": 1478, \"bottom\": 641, \"left\": 1253, \"confidence\": 0.7507846355438232, \"label\": \"NO MASK\", \"img\": \"avatar_72.png\"}]}\r\n{\"frame\": 314, \"data\": [{\"top\": 378, \"right\": 1478, \"bottom\": 642, \"left\": 1253, \"confidence\": 0.7885078191757202, \"label\": \"NO MASK\", \"img\": \"avatar_73.png\"}]}\r\n{\"frame\": 315, \"data\": [{\"top\": 398, \"right\": 1470, \"bottom\": 679, \"left\": 1240, \"confidence\": 0.8637266159057617, \"label\": \"NO MASK\", \"img\": \"avatar_74.png\"}]}\r\n{\"frame\": 316, \"data\": []}\r\n{\"frame\": 317, \"data\": []}\r\n{\"frame\": 318, \"data\": []}\r\n{\"frame\": 319, \"data\": []}\r\n{\"frame\": 320, \"data\": []}\r\n{\"frame\": 321, \"data\": []}\r\n{\"frame\": 322, \"data\": []}\r\n{\"frame\": 323, \"data\": []}\r\n{\"frame\": 324, \"data\": [{\"top\": 406, \"right\": 1145, \"bottom\": 623, \"left\": 976, \"confidence\": 0.9533182978630066, \"label\": \"NO MASK\", \"img\": \"avatar_75.png\"}]}\r\n{\"frame\": 325, \"data\": [{\"top\": 405, \"right\": 1146, \"bottom\": 624, \"left\": 976, \"confidence\": 0.9401156902313232, \"label\": \"NO MASK\", \"img\": \"avatar_76.png\"}]}\r\n{\"frame\": 326, \"data\": [{\"top\": 405, \"right\": 1146, \"bottom\": 624, \"left\": 976, \"confidence\": 0.9399397373199463, \"label\": \"NO MASK\", \"img\": \"avatar_77.png\"}]}\r\n{\"frame\": 327, \"data\": []}\r\n{\"frame\": 328, \"data\": []}\r\n{\"frame\": 329, \"data\": []}\r\n{\"frame\": 330, \"data\": []}\r\n{\"frame\": 331, \"data\": []}\r\n{\"frame\": 332, \"data\": []}\r\n{\"frame\": 333, \"data\": []}\r\n{\"frame\": 334, \"data\": []}\r\n{\"frame\": 335, \"data\": []}\r\n{\"frame\": 336, \"data\": []}\r\n{\"frame\": 337, \"data\": []}\r\n{\"frame\": 338, \"data\": []}\r\n{\"frame\": 339, \"data\": []}\r\n{\"frame\": 340, \"data\": []}\r\n{\"frame\": 341, \"data\": []}\r\n{\"frame\": 342, \"data\": []}\r\n{\"frame\": 343, \"data\": []}\r\n{\"frame\": 344, \"data\": []}\r\n{\"frame\": 345, \"data\": []}\r\n{\"frame\": 346, \"data\": []}\r\n{\"frame\": 347, \"data\": []}\r\n{\"frame\": 348, \"data\": [{\"top\": 409, \"right\": 1572, \"bottom\": 600, \"left\": 1408, \"confidence\": 0.9742064476013184, \"label\": \"MASK\", \"img\": \"avatar_78.png\"}, {\"top\": 143, \"right\": 1228, \"bottom\": 196, \"left\": 1185, \"confidence\": 0.8204056024551392, \"label\": \"NO MASK\", \"img\": \"avatar_79.png\"}, {\"top\": 410, \"right\": 138, \"bottom\": 494, \"left\": 54, \"confidence\": 0.9706747531890869, \"label\": \"MASK\", \"img\": \"avatar_80.png\"}, {\"top\": 129, \"right\": 820, \"bottom\": 180, \"left\": 776, \"confidence\": 0.5887508392333984, \"label\": \"NO MASK\", \"img\": \"avatar_81.png\"}, {\"top\": 363, \"right\": 1183, \"bottom\": 425, \"left\": 1133, \"confidence\": 0.9646240472793579, \"label\": \"NO MASK\", \"img\": \"avatar_82.png\"}, {\"top\": 882, \"right\": 1883, \"bottom\": 1087, \"left\": 1620, \"confidence\": 0.8028345704078674, \"label\": \"NO MASK\", \"img\": \"avatar_83.png\"}, {\"top\": 210, \"right\": 761, \"bottom\": 271, \"left\": 710, \"confidence\": 0.5342882871627808, \"label\": \"NO MASK\", \"img\": \"avatar_84.png\"}]}\r\n{\"frame\": 349, \"data\": [{\"top\": 409, \"right\": 1572, \"bottom\": 600, \"left\": 1408, \"confidence\": 0.9728236794471741, \"label\": \"MASK\", \"img\": \"avatar_85.png\"}, {\"top\": 143, \"right\": 1228, \"bottom\": 196, \"left\": 1185, \"confidence\": 0.7826567888259888, \"label\": \"NO MASK\", \"img\": \"avatar_86.png\"}, {\"top\": 410, \"right\": 138, \"bottom\": 494, \"left\": 54, \"confidence\": 0.9831851124763489, \"label\": \"MASK\", \"img\": \"avatar_87.png\"}, {\"top\": 129, \"right\": 820, \"bottom\": 180, \"left\": 776, \"confidence\": 0.5990903377532959, \"label\": \"NO MASK\", \"img\": \"avatar_88.png\"}, {\"top\": 363, \"right\": 1183, \"bottom\": 425, \"left\": 1133, \"confidence\": 0.9604998230934143, \"label\": \"NO MASK\", \"img\": \"avatar_89.png\"}, {\"top\": 882, \"right\": 1883, \"bottom\": 1087, \"left\": 1620, \"confidence\": 0.8265829086303711, \"label\": \"NO MASK\", \"img\": \"avatar_90.png\"}, {\"top\": 209, \"right\": 761, \"bottom\": 270, \"left\": 711, \"confidence\": 0.5100212693214417, \"label\": \"NO MASK\", \"img\": \"avatar_91.png\"}]}\r\n{\"frame\": 350, \"data\": [{\"top\": 409, \"right\": 1572, \"bottom\": 600, \"left\": 1408, \"confidence\": 0.9760392308235168, \"label\": \"MASK\", \"img\": \"avatar_92.png\"}, {\"top\": 143, \"right\": 1228, \"bottom\": 196, \"left\": 1185, \"confidence\": 0.7826567888259888, \"label\": \"NO MASK\", \"img\": \"avatar_93.png\"}, {\"top\": 410, \"right\": 138, \"bottom\": 494, \"left\": 54, \"confidence\": 0.983734130859375, \"label\": \"MASK\", \"img\": \"avatar_94.png\"}, {\"top\": 129, \"right\": 820, \"bottom\": 180, \"left\": 776, \"confidence\": 0.5990903377532959, \"label\": \"NO MASK\", \"img\": \"avatar_95.png\"}, {\"top\": 363, \"right\": 1183, \"bottom\": 425, \"left\": 1133, \"confidence\": 0.9604998230934143, \"label\": \"NO MASK\", \"img\": \"avatar_96.png\"}, {\"top\": 882, \"right\": 1883, \"bottom\": 1087, \"left\": 1620, \"confidence\": 0.8220293521881104, \"label\": \"NO MASK\", \"img\": \"avatar_97.png\"}, {\"top\": 209, \"right\": 761, \"bottom\": 270, \"left\": 711, \"confidence\": 0.5204818844795227, \"label\": \"NO MASK\", \"img\": \"avatar_98.png\"}]}\r\n{\"frame\": 351, \"data\": [{\"top\": 410, \"right\": 1573, \"bottom\": 598, \"left\": 1412, \"confidence\": 0.9715545773506165, \"label\": \"MASK\", \"img\": \"avatar_99.png\"}, {\"top\": 141, \"right\": 1232, \"bottom\": 195, \"left\": 1188, \"confidence\": 0.8498131036758423, \"label\": \"NO MASK\", \"img\": \"avatar_100.png\"}, {\"top\": 880, \"right\": 1907, \"bottom\": 1083, \"left\": 1639, \"confidence\": 0.7591742873191833, \"label\": \"NO MASK\", \"img\": \"avatar_101.png\"}, {\"top\": 362, \"right\": 1181, \"bottom\": 423, \"left\": 1132, \"confidence\": 0.9892619848251343, \"label\": \"NO MASK\", \"img\": \"avatar_102.png\"}, {\"top\": 206, \"right\": 761, \"bottom\": 262, \"left\": 714, \"confidence\": 0.5515631437301636, \"label\": \"NO MASK\", \"img\": \"avatar_103.png\"}, {\"top\": 127, \"right\": 823, \"bottom\": 180, \"left\": 778, \"confidence\": 0.6479871869087219, \"label\": \"NO MASK\", \"img\": \"avatar_104.png\"}, {\"top\": 407, \"right\": 138, \"bottom\": 485, \"left\": 61, \"confidence\": 0.9318193793296814, \"label\": \"MASK\", \"img\": \"avatar_105.png\"}]}\r\n{\"frame\": 352, \"data\": [{\"top\": 410, \"right\": 1573, \"bottom\": 598, \"left\": 1412, \"confidence\": 0.9761919975280762, \"label\": \"MASK\", \"img\": \"avatar_106.png\"}, {\"top\": 141, \"right\": 1232, \"bottom\": 195, \"left\": 1188, \"confidence\": 0.8421599864959717, \"label\": \"NO MASK\", \"img\": \"avatar_107.png\"}, {\"top\": 362, \"right\": 1177, \"bottom\": 423, \"left\": 1128, \"confidence\": 0.9907864928245544, \"label\": \"NO MASK\", \"img\": \"avatar_108.png\"}, {\"top\": 880, \"right\": 1907, \"bottom\": 1083, \"left\": 1638, \"confidence\": 0.8733366131782532, \"label\": \"NO MASK\", \"img\": \"avatar_109.png\"}, {\"top\": 206, \"right\": 761, \"bottom\": 262, \"left\": 714, \"confidence\": 0.509852409362793, \"label\": \"MASK\", \"img\": \"avatar_110.png\"}, {\"top\": 127, \"right\": 823, \"bottom\": 180, \"left\": 778, \"confidence\": 0.692879855632782, \"label\": \"NO MASK\", \"img\": \"avatar_111.png\"}]}\r\n{\"frame\": 353, \"data\": [{\"top\": 410, \"right\": 1573, \"bottom\": 598, \"left\": 1412, \"confidence\": 0.9742255210876465, \"label\": \"MASK\", \"img\": \"avatar_112.png\"}, {\"top\": 141, \"right\": 1232, \"bottom\": 195, \"left\": 1188, \"confidence\": 0.8496326804161072, \"label\": \"NO MASK\", \"img\": \"avatar_113.png\"}, {\"top\": 362, \"right\": 1181, \"bottom\": 422, \"left\": 1132, \"confidence\": 0.9905865788459778, \"label\": \"NO MASK\", \"img\": \"avatar_114.png\"}, {\"top\": 880, \"right\": 1908, \"bottom\": 1083, \"left\": 1638, \"confidence\": 0.8963602185249329, \"label\": \"NO MASK\", \"img\": \"avatar_115.png\"}, {\"top\": 206, \"right\": 761, \"bottom\": 262, \"left\": 714, \"confidence\": 0.5012816190719604, \"label\": \"NO MASK\", \"img\": \"avatar_116.png\"}, {\"top\": 127, \"right\": 823, \"bottom\": 180, \"left\": 778, \"confidence\": 0.6559144258499146, \"label\": \"NO MASK\", \"img\": \"avatar_117.png\"}]}\r\n{\"frame\": 354, \"data\": [{\"top\": 139, \"right\": 1233, \"bottom\": 194, \"left\": 1189, \"confidence\": 0.8932048082351685, \"label\": \"NO MASK\", \"img\": \"avatar_118.png\"}, {\"top\": 409, \"right\": 1575, \"bottom\": 597, \"left\": 1412, \"confidence\": 0.9701697826385498, \"label\": \"MASK\", \"img\": \"avatar_119.png\"}, {\"top\": 360, \"right\": 1181, \"bottom\": 423, \"left\": 1132, \"confidence\": 0.9906044602394104, \"label\": \"NO MASK\", \"img\": \"avatar_120.png\"}, {\"top\": 884, \"right\": 1915, \"bottom\": 1082, \"left\": 1650, \"confidence\": 0.960947573184967, \"label\": \"NO MASK\", \"img\": \"avatar_121.png\"}, {\"top\": 125, \"right\": 825, \"bottom\": 180, \"left\": 778, \"confidence\": 0.6892260313034058, \"label\": \"NO MASK\", \"img\": \"avatar_122.png\"}, {\"top\": 205, \"right\": 761, \"bottom\": 260, \"left\": 714, \"confidence\": 0.6243715286254883, \"label\": \"MASK\", \"img\": \"avatar_123.png\"}, {\"top\": 407, \"right\": 137, \"bottom\": 487, \"left\": 58, \"confidence\": 0.9493487477302551, \"label\": \"MASK\", \"img\": \"avatar_124.png\"}, {\"top\": 208, \"right\": 1020, \"bottom\": 274, \"left\": 968, \"confidence\": 0.9076815843582153, \"label\": \"NO MASK\", \"img\": \"avatar_125.png\"}]}\r\n{\"frame\": 355, \"data\": [{\"top\": 409, \"right\": 1575, \"bottom\": 597, \"left\": 1412, \"confidence\": 0.9782060384750366, \"label\": \"MASK\", \"img\": \"avatar_126.png\"}, {\"top\": 139, \"right\": 1233, \"bottom\": 194, \"left\": 1189, \"confidence\": 0.8965445756912231, \"label\": \"NO MASK\", \"img\": \"avatar_127.png\"}, {\"top\": 360, \"right\": 1181, \"bottom\": 423, \"left\": 1132, \"confidence\": 0.9908366203308105, \"label\": \"NO MASK\", \"img\": \"avatar_128.png\"}, {\"top\": 884, \"right\": 1914, \"bottom\": 1083, \"left\": 1651, \"confidence\": 0.9564012885093689, \"label\": \"NO MASK\", \"img\": \"avatar_129.png\"}, {\"top\": 125, \"right\": 825, \"bottom\": 180, \"left\": 778, \"confidence\": 0.7368630170822144, \"label\": \"NO MASK\", \"img\": \"avatar_130.png\"}, {\"top\": 205, \"right\": 761, \"bottom\": 260, \"left\": 714, \"confidence\": 0.6515437960624695, \"label\": \"MASK\", \"img\": \"avatar_131.png\"}, {\"top\": 407, \"right\": 137, \"bottom\": 487, \"left\": 58, \"confidence\": 0.9424285888671875, \"label\": \"MASK\", \"img\": \"avatar_132.png\"}, {\"top\": 208, \"right\": 1020, \"bottom\": 274, \"left\": 968, \"confidence\": 0.9014245271682739, \"label\": \"NO MASK\", \"img\": \"avatar_133.png\"}]}\r\n{\"frame\": 356, \"data\": [{\"top\": 409, \"right\": 1575, \"bottom\": 597, \"left\": 1412, \"confidence\": 0.9805841445922852, \"label\": \"MASK\", \"img\": \"avatar_134.png\"}, {\"top\": 139, \"right\": 1233, \"bottom\": 194, \"left\": 1189, \"confidence\": 0.8765249252319336, \"label\": \"NO MASK\", \"img\": \"avatar_135.png\"}, {\"top\": 360, \"right\": 1181, \"bottom\": 423, \"left\": 1132, \"confidence\": 0.9905056357383728, \"label\": \"NO MASK\", \"img\": \"avatar_136.png\"}, {\"top\": 884, \"right\": 1915, \"bottom\": 1083, \"left\": 1651, \"confidence\": 0.9506104588508606, \"label\": \"NO MASK\", \"img\": \"avatar_137.png\"}, {\"top\": 125, \"right\": 825, \"bottom\": 180, \"left\": 778, \"confidence\": 0.7349349856376648, \"label\": \"NO MASK\", \"img\": \"avatar_138.png\"}, {\"top\": 205, \"right\": 761, \"bottom\": 260, \"left\": 714, \"confidence\": 0.6571981906890869, \"label\": \"MASK\", \"img\": \"avatar_139.png\"}, {\"top\": 407, \"right\": 137, \"bottom\": 487, \"left\": 58, \"confidence\": 0.9415664672851562, \"label\": \"MASK\", \"img\": \"avatar_140.png\"}, {\"top\": 208, \"right\": 1020, \"bottom\": 274, \"left\": 968, \"confidence\": 0.8966464400291443, \"label\": \"NO MASK\", \"img\": \"avatar_141.png\"}]}\r\n{\"frame\": 357, \"data\": [{\"top\": 138, \"right\": 1236, \"bottom\": 193, \"left\": 1192, \"confidence\": 0.9069477319717407, \"label\": \"NO MASK\", \"img\": \"avatar_142.png\"}, {\"top\": 410, \"right\": 1578, \"bottom\": 594, \"left\": 1414, \"confidence\": 0.9674908518791199, \"label\": \"MASK\", \"img\": \"avatar_143.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 421, \"left\": 1133, \"confidence\": 0.9928997755050659, \"label\": \"NO MASK\", \"img\": \"avatar_144.png\"}, {\"top\": 888, \"right\": 1920, \"bottom\": 1084, \"left\": 1660, \"confidence\": 0.620953381061554, \"label\": \"NO MASK\", \"img\": \"avatar_145.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 183, \"left\": 778, \"confidence\": 0.6330659985542297, \"label\": \"NO MASK\", \"img\": \"avatar_146.png\"}, {\"top\": 406, \"right\": 144, \"bottom\": 486, \"left\": 65, \"confidence\": 0.9912619590759277, \"label\": \"MASK\", \"img\": \"avatar_147.png\"}, {\"top\": 206, \"right\": 763, \"bottom\": 262, \"left\": 715, \"confidence\": 0.718483567237854, \"label\": \"NO MASK\", \"img\": \"avatar_148.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.7413685917854309, \"label\": \"NO MASK\", \"img\": \"avatar_149.png\"}]}\r\n{\"frame\": 358, \"data\": [{\"top\": 138, \"right\": 1236, \"bottom\": 193, \"left\": 1192, \"confidence\": 0.9208123683929443, \"label\": \"NO MASK\", \"img\": \"avatar_150.png\"}, {\"top\": 409, \"right\": 1578, \"bottom\": 594, \"left\": 1414, \"confidence\": 0.9717126488685608, \"label\": \"MASK\", \"img\": \"avatar_151.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 421, \"left\": 1133, \"confidence\": 0.9923059344291687, \"label\": \"NO MASK\", \"img\": \"avatar_152.png\"}, {\"top\": 888, \"right\": 1921, \"bottom\": 1085, \"left\": 1660, \"confidence\": 0.6367984414100647, \"label\": \"NO MASK\", \"img\": \"avatar_153.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 183, \"left\": 778, \"confidence\": 0.6471171379089355, \"label\": \"NO MASK\", \"img\": \"avatar_154.png\"}, {\"top\": 406, \"right\": 144, \"bottom\": 487, \"left\": 65, \"confidence\": 0.9956401586532593, \"label\": \"MASK\", \"img\": \"avatar_155.png\"}, {\"top\": 206, \"right\": 763, \"bottom\": 262, \"left\": 715, \"confidence\": 0.7205913066864014, \"label\": \"NO MASK\", \"img\": \"avatar_156.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.7639577984809875, \"label\": \"NO MASK\", \"img\": \"avatar_157.png\"}]}\r\n{\"frame\": 359, \"data\": [{\"top\": 409, \"right\": 1578, \"bottom\": 594, \"left\": 1414, \"confidence\": 0.9648740291595459, \"label\": \"MASK\", \"img\": \"avatar_158.png\"}, {\"top\": 138, \"right\": 1236, \"bottom\": 193, \"left\": 1192, \"confidence\": 0.9252863526344299, \"label\": \"NO MASK\", \"img\": \"avatar_159.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 421, \"left\": 1133, \"confidence\": 0.9915322661399841, \"label\": \"NO MASK\", \"img\": \"avatar_160.png\"}, {\"top\": 888, \"right\": 1920, \"bottom\": 1085, \"left\": 1660, \"confidence\": 0.6958766579627991, \"label\": \"NO MASK\", \"img\": \"avatar_161.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 183, \"left\": 778, \"confidence\": 0.6745813488960266, \"label\": \"NO MASK\", \"img\": \"avatar_162.png\"}, {\"top\": 406, \"right\": 144, \"bottom\": 487, \"left\": 64, \"confidence\": 0.9958441853523254, \"label\": \"MASK\", \"img\": \"avatar_163.png\"}, {\"top\": 207, \"right\": 765, \"bottom\": 268, \"left\": 714, \"confidence\": 0.7462664842605591, \"label\": \"NO MASK\", \"img\": \"avatar_164.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.7703902721405029, \"label\": \"NO MASK\", \"img\": \"avatar_165.png\"}]}\r\n{\"frame\": 360, \"data\": [{\"top\": 408, \"right\": 1579, \"bottom\": 593, \"left\": 1415, \"confidence\": 0.9660901427268982, \"label\": \"MASK\", \"img\": \"avatar_166.png\"}, {\"top\": 138, \"right\": 1235, \"bottom\": 192, \"left\": 1192, \"confidence\": 0.9205747842788696, \"label\": \"NO MASK\", \"img\": \"avatar_167.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 422, \"left\": 1132, \"confidence\": 0.9928480386734009, \"label\": \"NO MASK\", \"img\": \"avatar_168.png\"}, {\"top\": 885, \"right\": 1927, \"bottom\": 1082, \"left\": 1668, \"confidence\": 0.8792014718055725, \"label\": \"NO MASK\", \"img\": \"avatar_169.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 183, \"left\": 778, \"confidence\": 0.6452524065971375, \"label\": \"NO MASK\", \"img\": \"avatar_170.png\"}, {\"top\": 405, \"right\": 143, \"bottom\": 483, \"left\": 66, \"confidence\": 0.9885623455047607, \"label\": \"MASK\", \"img\": \"avatar_171.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.5187568068504333, \"label\": \"NO MASK\", \"img\": \"avatar_172.png\"}, {\"top\": 205, \"right\": 763, \"bottom\": 262, \"left\": 714, \"confidence\": 0.6519532203674316, \"label\": \"NO MASK\", \"img\": \"avatar_173.png\"}]}\r\n{\"frame\": 361, \"data\": [{\"top\": 408, \"right\": 1579, \"bottom\": 593, \"left\": 1415, \"confidence\": 0.9646161794662476, \"label\": \"MASK\", \"img\": \"avatar_174.png\"}, {\"top\": 138, \"right\": 1236, \"bottom\": 192, \"left\": 1192, \"confidence\": 0.9211094975471497, \"label\": \"NO MASK\", \"img\": \"avatar_175.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 422, \"left\": 1132, \"confidence\": 0.9904943704605103, \"label\": \"NO MASK\", \"img\": \"avatar_176.png\"}, {\"top\": 884, \"right\": 1927, \"bottom\": 1083, \"left\": 1669, \"confidence\": 0.8836907148361206, \"label\": \"NO MASK\", \"img\": \"avatar_177.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 182, \"left\": 778, \"confidence\": 0.6657474040985107, \"label\": \"NO MASK\", \"img\": \"avatar_178.png\"}, {\"top\": 405, \"right\": 142, \"bottom\": 483, \"left\": 66, \"confidence\": 0.9869995713233948, \"label\": \"MASK\", \"img\": \"avatar_179.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.548892617225647, \"label\": \"NO MASK\", \"img\": \"avatar_180.png\"}, {\"top\": 205, \"right\": 763, \"bottom\": 262, \"left\": 714, \"confidence\": 0.6318560242652893, \"label\": \"NO MASK\", \"img\": \"avatar_181.png\"}, {\"top\": 147, \"right\": 1130, \"bottom\": 182, \"left\": 1103, \"confidence\": 0.8042590618133545, \"label\": \"NO MASK\", \"img\": \"avatar_182.png\"}]}\r\n{\"frame\": 362, \"data\": [{\"top\": 408, \"right\": 1579, \"bottom\": 593, \"left\": 1415, \"confidence\": 0.9652618169784546, \"label\": \"MASK\", \"img\": \"avatar_183.png\"}, {\"top\": 138, \"right\": 1236, \"bottom\": 192, \"left\": 1192, \"confidence\": 0.933979332447052, \"label\": \"NO MASK\", \"img\": \"avatar_184.png\"}, {\"top\": 360, \"right\": 1180, \"bottom\": 422, \"left\": 1132, \"confidence\": 0.9879913926124573, \"label\": \"NO MASK\", \"img\": \"avatar_185.png\"}, {\"top\": 884, \"right\": 1927, \"bottom\": 1083, \"left\": 1669, \"confidence\": 0.8683711886405945, \"label\": \"NO MASK\", \"img\": \"avatar_186.png\"}, {\"top\": 125, \"right\": 827, \"bottom\": 182, \"left\": 778, \"confidence\": 0.6719575524330139, \"label\": \"NO MASK\", \"img\": \"avatar_187.png\"}, {\"top\": 405, \"right\": 143, \"bottom\": 484, \"left\": 66, \"confidence\": 0.9843136072158813, \"label\": \"MASK\", \"img\": \"avatar_188.png\"}, {\"top\": 207, \"right\": 1024, \"bottom\": 279, \"left\": 969, \"confidence\": 0.5267874598503113, \"label\": \"NO MASK\", \"img\": \"avatar_189.png\"}, {\"top\": 205, \"right\": 763, \"bottom\": 262, \"left\": 714, \"confidence\": 0.6760652661323547, \"label\": \"NO MASK\", \"img\": \"avatar_190.png\"}, {\"top\": 147, \"right\": 1130, \"bottom\": 182, \"left\": 1103, \"confidence\": 0.8206595778465271, \"label\": \"NO MASK\", \"img\": \"avatar_191.png\"}]}\r\n{\"frame\": 363, \"data\": [{\"top\": 407, \"right\": 1585, \"bottom\": 590, \"left\": 1419, \"confidence\": 0.9704712629318237, \"label\": \"MASK\", \"img\": \"avatar_192.png\"}, {\"top\": 138, \"right\": 1238, \"bottom\": 191, \"left\": 1194, \"confidence\": 0.9184666872024536, \"label\": \"NO MASK\", \"img\": \"avatar_193.png\"}, {\"top\": 403, \"right\": 151, \"bottom\": 490, \"left\": 68, \"confidence\": 0.9918518662452698, \"label\": \"MASK\", \"img\": \"avatar_194.png\"}, {\"top\": 359, \"right\": 1183, \"bottom\": 420, \"left\": 1134, \"confidence\": 0.9922812581062317, \"label\": \"NO MASK\", \"img\": \"avatar_195.png\"}, {\"top\": 124, \"right\": 828, \"bottom\": 178, \"left\": 783, \"confidence\": 0.7018247246742249, \"label\": \"NO MASK\", \"img\": \"avatar_196.png\"}, {\"top\": 878, \"right\": 1913, \"bottom\": 1087, \"left\": 1681, \"confidence\": 0.9808447360992432, \"label\": \"NO MASK\", \"img\": \"avatar_197.png\"}, {\"top\": 206, \"right\": 1025, \"bottom\": 273, \"left\": 971, \"confidence\": 0.8722385168075562, \"label\": \"NO MASK\", \"img\": \"avatar_198.png\"}, {\"top\": 145, \"right\": 1134, \"bottom\": 182, \"left\": 1108, \"confidence\": 0.7142528295516968, \"label\": \"NO MASK\", \"img\": \"avatar_199.png\"}, {\"top\": 204, \"right\": 767, \"bottom\": 260, \"left\": 718, \"confidence\": 0.5216434597969055, \"label\": \"MASK\", \"img\": \"avatar_200.png\"}]}\r\n{\"frame\": 364, \"data\": [{\"top\": 407, \"right\": 1585, \"bottom\": 591, \"left\": 1418, \"confidence\": 0.9707546234130859, \"label\": \"MASK\", \"img\": \"avatar_201.png\"}, {\"top\": 138, \"right\": 1238, \"bottom\": 191, \"left\": 1194, \"confidence\": 0.9295082092285156, \"label\": \"NO MASK\", \"img\": \"avatar_202.png\"}, {\"top\": 403, \"right\": 152, \"bottom\": 490, \"left\": 69, \"confidence\": 0.9907666444778442, \"label\": \"MASK\", \"img\": \"avatar_203.png\"}, {\"top\": 359, \"right\": 1183, \"bottom\": 420, \"left\": 1134, \"confidence\": 0.9932449460029602, \"label\": \"NO MASK\", \"img\": \"avatar_204.png\"}, {\"top\": 879, \"right\": 1913, \"bottom\": 1086, \"left\": 1681, \"confidence\": 0.9793546199798584, \"label\": \"NO MASK\", \"img\": \"avatar_205.png\"}, {\"top\": 124, \"right\": 828, \"bottom\": 178, \"left\": 783, \"confidence\": 0.6857559084892273, \"label\": \"NO MASK\", \"img\": \"avatar_206.png\"}, {\"top\": 206, \"right\": 1025, \"bottom\": 272, \"left\": 971, \"confidence\": 0.8889843821525574, \"label\": \"NO MASK\", \"img\": \"avatar_207.png\"}, {\"top\": 145, \"right\": 1134, \"bottom\": 182, \"left\": 1108, \"confidence\": 0.7405169010162354, \"label\": \"NO MASK\", \"img\": \"avatar_208.png\"}, {\"top\": 204, \"right\": 767, \"bottom\": 260, \"left\": 718, \"confidence\": 0.667373538017273, \"label\": \"MASK\", \"img\": \"avatar_209.png\"}]}\r\n{\"frame\": 365, \"data\": [{\"top\": 407, \"right\": 1585, \"bottom\": 591, \"left\": 1418, \"confidence\": 0.9738821387290955, \"label\": \"MASK\", \"img\": \"avatar_210.png\"}, {\"top\": 138, \"right\": 1238, \"bottom\": 191, \"left\": 1194, \"confidence\": 0.9267988204956055, \"label\": \"NO MASK\", \"img\": \"avatar_211.png\"}, {\"top\": 403, \"right\": 152, \"bottom\": 490, \"left\": 69, \"confidence\": 0.9890732169151306, \"label\": \"MASK\", \"img\": \"avatar_212.png\"}, {\"top\": 359, \"right\": 1183, \"bottom\": 420, \"left\": 1135, \"confidence\": 0.9941155910491943, \"label\": \"NO MASK\", \"img\": \"avatar_213.png\"}, {\"top\": 879, \"right\": 1912, \"bottom\": 1086, \"left\": 1681, \"confidence\": 0.9845170378684998, \"label\": \"NO MASK\", \"img\": \"avatar_214.png\"}, {\"top\": 124, \"right\": 828, \"bottom\": 178, \"left\": 782, \"confidence\": 0.6823713183403015, \"label\": \"NO MASK\", \"img\": \"avatar_215.png\"}, {\"top\": 206, \"right\": 1025, \"bottom\": 272, \"left\": 971, \"confidence\": 0.8877511024475098, \"label\": \"NO MASK\", \"img\": \"avatar_216.png\"}, {\"top\": 145, \"right\": 1134, \"bottom\": 182, \"left\": 1107, \"confidence\": 0.7270761728286743, \"label\": \"NO MASK\", \"img\": \"avatar_217.png\"}, {\"top\": 204, \"right\": 767, \"bottom\": 260, \"left\": 719, \"confidence\": 0.669322669506073, \"label\": \"MASK\", \"img\": \"avatar_218.png\"}]}\r\n{\"frame\": 366, \"data\": [{\"top\": 406, \"right\": 1588, \"bottom\": 591, \"left\": 1420, \"confidence\": 0.9656765460968018, \"label\": \"MASK\", \"img\": \"avatar_219.png\"}, {\"top\": 137, \"right\": 1239, \"bottom\": 190, \"left\": 1195, \"confidence\": 0.8923057913780212, \"label\": \"NO MASK\", \"img\": \"avatar_220.png\"}, {\"top\": 401, \"right\": 152, \"bottom\": 490, \"left\": 64, \"confidence\": 0.9920225143432617, \"label\": \"MASK\", \"img\": \"avatar_221.png\"}, {\"top\": 882, \"right\": 1913, \"bottom\": 1087, \"left\": 1685, \"confidence\": 0.9583107829093933, \"label\": \"NO MASK\", \"img\": \"avatar_222.png\"}, {\"top\": 358, \"right\": 1187, \"bottom\": 420, \"left\": 1139, \"confidence\": 0.9948556423187256, \"label\": \"NO MASK\", \"img\": \"avatar_223.png\"}, {\"top\": 123, \"right\": 828, \"bottom\": 176, \"left\": 784, \"confidence\": 0.6239719390869141, \"label\": \"NO MASK\", \"img\": \"avatar_224.png\"}, {\"top\": 203, \"right\": 771, \"bottom\": 259, \"left\": 722, \"confidence\": 0.677624523639679, \"label\": \"MASK\", \"img\": \"avatar_225.png\"}, {\"top\": 204, \"right\": 1026, \"bottom\": 270, \"left\": 974, \"confidence\": 0.9156541228294373, \"label\": \"NO MASK\", \"img\": \"avatar_226.png\"}, {\"top\": 145, \"right\": 1135, \"bottom\": 182, \"left\": 1108, \"confidence\": 0.717871904373169, \"label\": \"NO MASK\", \"img\": \"avatar_227.png\"}]}\r\n{\"frame\": 367, \"data\": [{\"top\": 406, \"right\": 1588, \"bottom\": 591, \"left\": 1419, \"confidence\": 0.9590811133384705, \"label\": \"MASK\", \"img\": \"avatar_228.png\"}, {\"top\": 137, \"right\": 1239, \"bottom\": 190, \"left\": 1195, \"confidence\": 0.9026763439178467, \"label\": \"NO MASK\", \"img\": \"avatar_229.png\"}, {\"top\": 401, \"right\": 152, \"bottom\": 490, \"left\": 64, \"confidence\": 0.9898130297660828, \"label\": \"MASK\", \"img\": \"avatar_230.png\"}, {\"top\": 883, \"right\": 1914, \"bottom\": 1087, \"left\": 1686, \"confidence\": 0.9558265209197998, \"label\": \"NO MASK\", \"img\": \"avatar_231.png\"}, {\"top\": 123, \"right\": 828, \"bottom\": 177, \"left\": 783, \"confidence\": 0.6724733114242554, \"label\": \"NO MASK\", \"img\": \"avatar_232.png\"}, {\"top\": 358, \"right\": 1187, \"bottom\": 420, \"left\": 1139, \"confidence\": 0.994384765625, \"label\": \"NO MASK\", \"img\": \"avatar_233.png\"}, {\"top\": 203, \"right\": 771, \"bottom\": 258, \"left\": 722, \"confidence\": 0.7402500510215759, \"label\": \"MASK\", \"img\": \"avatar_234.png\"}, {\"top\": 204, \"right\": 1026, \"bottom\": 270, \"left\": 974, \"confidence\": 0.9262152910232544, \"label\": \"NO MASK\", \"img\": \"avatar_235.png\"}]}\r\n{\"frame\": 368, \"data\": [{\"top\": 406, \"right\": 1587, \"bottom\": 591, \"left\": 1419, \"confidence\": 0.953015923500061, \"label\": \"MASK\", \"img\": \"avatar_236.png\"}, {\"top\": 137, \"right\": 1239, \"bottom\": 190, \"left\": 1195, \"confidence\": 0.8999149799346924, \"label\": \"NO MASK\", \"img\": \"avatar_237.png\"}, {\"top\": 401, \"right\": 152, \"bottom\": 490, \"left\": 64, \"confidence\": 0.9898083806037903, \"label\": \"MASK\", \"img\": \"avatar_238.png\"}, {\"top\": 882, \"right\": 1914, \"bottom\": 1087, \"left\": 1685, \"confidence\": 0.95787113904953, \"label\": \"NO MASK\", \"img\": \"avatar_239.png\"}, {\"top\": 358, \"right\": 1187, \"bottom\": 420, \"left\": 1139, \"confidence\": 0.9950568675994873, \"label\": \"NO MASK\", \"img\": \"avatar_240.png\"}, {\"top\": 123, \"right\": 828, \"bottom\": 176, \"left\": 783, \"confidence\": 0.6499022245407104, \"label\": \"NO MASK\", \"img\": \"avatar_241.png\"}, {\"top\": 203, \"right\": 771, \"bottom\": 259, \"left\": 722, \"confidence\": 0.7635190486907959, \"label\": \"MASK\", \"img\": \"avatar_242.png\"}, {\"top\": 204, \"right\": 1026, \"bottom\": 270, \"left\": 974, \"confidence\": 0.9214423894882202, \"label\": \"NO MASK\", \"img\": \"avatar_243.png\"}]}\r\n{\"frame\": 369, \"data\": [{\"top\": 407, \"right\": 1590, \"bottom\": 590, \"left\": 1425, \"confidence\": 0.9869070053100586, \"label\": \"MASK\", \"img\": \"avatar_244.png\"}, {\"top\": 136, \"right\": 1242, \"bottom\": 188, \"left\": 1199, \"confidence\": 0.9327781200408936, \"label\": \"NO MASK\", \"img\": \"avatar_245.png\"}, {\"top\": 400, \"right\": 153, \"bottom\": 485, \"left\": 70, \"confidence\": 0.9598106741905212, \"label\": \"MASK\", \"img\": \"avatar_246.png\"}, {\"top\": 122, \"right\": 831, \"bottom\": 176, \"left\": 786, \"confidence\": 0.6617794036865234, \"label\": \"NO MASK\", \"img\": \"avatar_247.png\"}, {\"top\": 201, \"right\": 772, \"bottom\": 258, \"left\": 723, \"confidence\": 0.7631978392601013, \"label\": \"MASK\", \"img\": \"avatar_248.png\"}, {\"top\": 358, \"right\": 1195, \"bottom\": 419, \"left\": 1147, \"confidence\": 0.9827330112457275, \"label\": \"NO MASK\", \"img\": \"avatar_249.png\"}, {\"top\": 881, \"right\": 1911, \"bottom\": 1180, \"left\": 1709, \"confidence\": 0.5016061067581177, \"label\": \"NO MASK\", \"img\": \"avatar_250.png\"}, {\"top\": 202, \"right\": 1028, \"bottom\": 259, \"left\": 979, \"confidence\": 0.8531720042228699, \"label\": \"NO MASK\", \"img\": \"avatar_251.png\"}]}\r\n{\"frame\": 370, \"data\": [{\"top\": 407, \"right\": 1590, \"bottom\": 590, \"left\": 1425, \"confidence\": 0.9878250956535339, \"label\": \"MASK\", \"img\": \"avatar_252.png\"}, {\"top\": 136, \"right\": 1242, \"bottom\": 188, \"left\": 1199, \"confidence\": 0.9290982484817505, \"label\": \"NO MASK\", \"img\": \"avatar_253.png\"}, {\"top\": 401, \"right\": 154, \"bottom\": 486, \"left\": 70, \"confidence\": 0.988031268119812, \"label\": \"MASK\", \"img\": \"avatar_254.png\"}, {\"top\": 122, \"right\": 831, \"bottom\": 175, \"left\": 786, \"confidence\": 0.6397961378097534, \"label\": \"NO MASK\", \"img\": \"avatar_255.png\"}, {\"top\": 201, \"right\": 772, \"bottom\": 258, \"left\": 723, \"confidence\": 0.7532286643981934, \"label\": \"MASK\", \"img\": \"avatar_256.png\"}, {\"top\": 879, \"right\": 1912, \"bottom\": 1179, \"left\": 1708, \"confidence\": 0.5271076560020447, \"label\": \"NO MASK\", \"img\": \"avatar_257.png\"}, {\"top\": 358, \"right\": 1195, \"bottom\": 419, \"left\": 1147, \"confidence\": 0.9862483143806458, \"label\": \"NO MASK\", \"img\": \"avatar_258.png\"}, {\"top\": 202, \"right\": 1028, \"bottom\": 260, \"left\": 979, \"confidence\": 0.8565409779548645, \"label\": \"NO MASK\", \"img\": \"avatar_259.png\"}]}\r\n{\"frame\": 371, \"data\": [{\"top\": 407, \"right\": 1590, \"bottom\": 590, \"left\": 1425, \"confidence\": 0.9882014393806458, \"label\": \"MASK\", \"img\": \"avatar_260.png\"}, {\"top\": 136, \"right\": 1242, \"bottom\": 188, \"left\": 1199, \"confidence\": 0.9468767046928406, \"label\": \"NO MASK\", \"img\": \"avatar_261.png\"}, {\"top\": 401, \"right\": 154, \"bottom\": 486, \"left\": 70, \"confidence\": 0.9902471303939819, \"label\": \"MASK\", \"img\": \"avatar_262.png\"}, {\"top\": 122, \"right\": 831, \"bottom\": 175, \"left\": 786, \"confidence\": 0.6707185506820679, \"label\": \"NO MASK\", \"img\": \"avatar_263.png\"}, {\"top\": 201, \"right\": 772, \"bottom\": 258, \"left\": 723, \"confidence\": 0.7501132488250732, \"label\": \"MASK\", \"img\": \"avatar_264.png\"}, {\"top\": 879, \"right\": 1911, \"bottom\": 1179, \"left\": 1708, \"confidence\": 0.5714389085769653, \"label\": \"NO MASK\", \"img\": \"avatar_265.png\"}, {\"top\": 358, \"right\": 1195, \"bottom\": 419, \"left\": 1148, \"confidence\": 0.9801415205001831, \"label\": \"NO MASK\", \"img\": \"avatar_266.png\"}, {\"top\": 202, \"right\": 1028, \"bottom\": 259, \"left\": 979, \"confidence\": 0.8965280652046204, \"label\": \"NO MASK\", \"img\": \"avatar_267.png\"}]}\r\n{\"frame\": 372, \"data\": [{\"top\": 407, \"right\": 1592, \"bottom\": 590, \"left\": 1426, \"confidence\": 0.9510422348976135, \"label\": \"MASK\", \"img\": \"avatar_268.png\"}, {\"top\": 135, \"right\": 1243, \"bottom\": 186, \"left\": 1201, \"confidence\": 0.9189513921737671, \"label\": \"NO MASK\", \"img\": \"avatar_269.png\"}, {\"top\": 401, \"right\": 155, \"bottom\": 487, \"left\": 75, \"confidence\": 0.9903027415275574, \"label\": \"MASK\", \"img\": \"avatar_270.png\"}, {\"top\": 121, \"right\": 833, \"bottom\": 176, \"left\": 789, \"confidence\": 0.6545704007148743, \"label\": \"NO MASK\", \"img\": \"avatar_271.png\"}, {\"top\": 200, \"right\": 774, \"bottom\": 257, \"left\": 725, \"confidence\": 0.7498610019683838, \"label\": \"MASK\", \"img\": \"avatar_272.png\"}, {\"top\": 879, \"right\": 1913, \"bottom\": 1170, \"left\": 1717, \"confidence\": 0.6197930574417114, \"label\": \"NO MASK\", \"img\": \"avatar_273.png\"}, {\"top\": 359, \"right\": 1198, \"bottom\": 419, \"left\": 1149, \"confidence\": 0.965852677822113, \"label\": \"NO MASK\", \"img\": \"avatar_274.png\"}, {\"top\": 200, \"right\": 1029, \"bottom\": 252, \"left\": 983, \"confidence\": 0.8875292539596558, \"label\": \"NO MASK\", \"img\": \"avatar_275.png\"}]}\r\n{\"frame\": 373, \"data\": [{\"top\": 407, \"right\": 1592, \"bottom\": 590, \"left\": 1425, \"confidence\": 0.9614428281784058, \"label\": \"MASK\", \"img\": \"avatar_276.png\"}, {\"top\": 135, \"right\": 1243, \"bottom\": 186, \"left\": 1201, \"confidence\": 0.9276768565177917, \"label\": \"NO MASK\", \"img\": \"avatar_277.png\"}, {\"top\": 401, \"right\": 155, \"bottom\": 487, \"left\": 75, \"confidence\": 0.9931163191795349, \"label\": \"MASK\", \"img\": \"avatar_278.png\"}, {\"top\": 121, \"right\": 833, \"bottom\": 176, \"left\": 789, \"confidence\": 0.6788877248764038, \"label\": \"NO MASK\", \"img\": \"avatar_279.png\"}, {\"top\": 200, \"right\": 774, \"bottom\": 257, \"left\": 725, \"confidence\": 0.7410381436347961, \"label\": \"MASK\", \"img\": \"avatar_280.png\"}, {\"top\": 878, \"right\": 1921, \"bottom\": 1081, \"left\": 1702, \"confidence\": 0.9737942218780518, \"label\": \"NO MASK\", \"img\": \"avatar_281.png\"}, {\"top\": 358, \"right\": 1198, \"bottom\": 419, \"left\": 1149, \"confidence\": 0.9694979190826416, \"label\": \"NO MASK\", \"img\": \"avatar_282.png\"}, {\"top\": 200, \"right\": 1029, \"bottom\": 253, \"left\": 983, \"confidence\": 0.8986945152282715, \"label\": \"NO MASK\", \"img\": \"avatar_283.png\"}]}\r\n{\"frame\": 374, \"data\": [{\"top\": 407, \"right\": 1592, \"bottom\": 590, \"left\": 1425, \"confidence\": 0.9669730067253113, \"label\": \"MASK\", \"img\": \"avatar_284.png\"}, {\"top\": 135, \"right\": 1243, \"bottom\": 186, \"left\": 1201, \"confidence\": 0.9259792566299438, \"label\": \"NO MASK\", \"img\": \"avatar_285.png\"}, {\"top\": 401, \"right\": 155, \"bottom\": 487, \"left\": 75, \"confidence\": 0.9951323866844177, \"label\": \"MASK\", \"img\": \"avatar_286.png\"}, {\"top\": 121, \"right\": 833, \"bottom\": 176, \"left\": 789, \"confidence\": 0.6778050065040588, \"label\": \"NO MASK\", \"img\": \"avatar_287.png\"}, {\"top\": 200, \"right\": 774, \"bottom\": 257, \"left\": 725, \"confidence\": 0.7546783685684204, \"label\": \"MASK\", \"img\": \"avatar_288.png\"}, {\"top\": 878, \"right\": 1920, \"bottom\": 1081, \"left\": 1702, \"confidence\": 0.9612632393836975, \"label\": \"NO MASK\", \"img\": \"avatar_289.png\"}, {\"top\": 358, \"right\": 1198, \"bottom\": 419, \"left\": 1148, \"confidence\": 0.9678477048873901, \"label\": \"NO MASK\", \"img\": \"avatar_290.png\"}, {\"top\": 200, \"right\": 1029, \"bottom\": 253, \"left\": 983, \"confidence\": 0.8970461487770081, \"label\": \"NO MASK\", \"img\": \"avatar_291.png\"}]}\r\n{\"frame\": 375, \"data\": [{\"top\": 407, \"right\": 1595, \"bottom\": 588, \"left\": 1429, \"confidence\": 0.9231461882591248, \"label\": \"MASK\", \"img\": \"avatar_292.png\"}, {\"top\": 134, \"right\": 1249, \"bottom\": 189, \"left\": 1206, \"confidence\": 0.8909190893173218, \"label\": \"NO MASK\", \"img\": \"avatar_293.png\"}, {\"top\": 400, \"right\": 161, \"bottom\": 485, \"left\": 82, \"confidence\": 0.9762109518051147, \"label\": \"MASK\", \"img\": \"avatar_294.png\"}, {\"top\": 121, \"right\": 838, \"bottom\": 175, \"left\": 794, \"confidence\": 0.7300719022750854, \"label\": \"NO MASK\", \"img\": \"avatar_295.png\"}, {\"top\": 889, \"right\": 1919, \"bottom\": 1078, \"left\": 1713, \"confidence\": 0.714560329914093, \"label\": \"NO MASK\", \"img\": \"avatar_296.png\"}, {\"top\": 357, \"right\": 1201, \"bottom\": 419, \"left\": 1151, \"confidence\": 0.9732637405395508, \"label\": \"NO MASK\", \"img\": \"avatar_297.png\"}, {\"top\": 200, \"right\": 777, \"bottom\": 257, \"left\": 728, \"confidence\": 0.6514412760734558, \"label\": \"MASK\", \"img\": \"avatar_298.png\"}, {\"top\": 202, \"right\": 1034, \"bottom\": 258, \"left\": 986, \"confidence\": 0.8285898566246033, \"label\": \"NO MASK\", \"img\": \"avatar_299.png\"}]}\r\n{\"frame\": 376, \"data\": [{\"top\": 407, \"right\": 1595, \"bottom\": 588, \"left\": 1428, \"confidence\": 0.931591808795929, \"label\": \"MASK\", \"img\": \"avatar_300.png\"}, {\"top\": 134, \"right\": 1249, \"bottom\": 188, \"left\": 1206, \"confidence\": 0.8711420893669128, \"label\": \"NO MASK\", \"img\": \"avatar_301.png\"}, {\"top\": 400, \"right\": 161, \"bottom\": 484, \"left\": 82, \"confidence\": 0.9804156422615051, \"label\": \"MASK\", \"img\": \"avatar_302.png\"}, {\"top\": 890, \"right\": 1919, \"bottom\": 1078, \"left\": 1714, \"confidence\": 0.7585670351982117, \"label\": \"NO MASK\", \"img\": \"avatar_303.png\"}, {\"top\": 121, \"right\": 838, \"bottom\": 174, \"left\": 794, \"confidence\": 0.7185913324356079, \"label\": \"NO MASK\", \"img\": \"avatar_304.png\"}, {\"top\": 357, \"right\": 1202, \"bottom\": 420, \"left\": 1152, \"confidence\": 0.9735649228096008, \"label\": \"NO MASK\", \"img\": \"avatar_305.png\"}, {\"top\": 200, \"right\": 777, \"bottom\": 257, \"left\": 728, \"confidence\": 0.6532777547836304, \"label\": \"MASK\", \"img\": \"avatar_306.png\"}, {\"top\": 202, \"right\": 1034, \"bottom\": 258, \"left\": 986, \"confidence\": 0.7952319383621216, \"label\": \"NO MASK\", \"img\": \"avatar_307.png\"}]}\r\n{\"frame\": 377, \"data\": [{\"top\": 407, \"right\": 1596, \"bottom\": 588, \"left\": 1429, \"confidence\": 0.928194522857666, \"label\": \"MASK\", \"img\": \"avatar_308.png\"}, {\"top\": 134, \"right\": 1249, \"bottom\": 188, \"left\": 1206, \"confidence\": 0.8813446164131165, \"label\": \"NO MASK\", \"img\": \"avatar_309.png\"}, {\"top\": 400, \"right\": 161, \"bottom\": 484, \"left\": 82, \"confidence\": 0.9814286231994629, \"label\": \"MASK\", \"img\": \"avatar_310.png\"}, {\"top\": 890, \"right\": 1919, \"bottom\": 1078, \"left\": 1713, \"confidence\": 0.730391800403595, \"label\": \"NO MASK\", \"img\": \"avatar_311.png\"}, {\"top\": 121, \"right\": 838, \"bottom\": 174, \"left\": 794, \"confidence\": 0.7124685645103455, \"label\": \"NO MASK\", \"img\": \"avatar_312.png\"}, {\"top\": 357, \"right\": 1201, \"bottom\": 419, \"left\": 1151, \"confidence\": 0.9683991074562073, \"label\": \"NO MASK\", \"img\": \"avatar_313.png\"}, {\"top\": 200, \"right\": 777, \"bottom\": 257, \"left\": 728, \"confidence\": 0.7053942680358887, \"label\": \"MASK\", \"img\": \"avatar_314.png\"}, {\"top\": 202, \"right\": 1034, \"bottom\": 258, \"left\": 986, \"confidence\": 0.7712276577949524, \"label\": \"NO MASK\", \"img\": \"avatar_315.png\"}]}\r\n{\"frame\": 378, \"data\": [{\"top\": 403, \"right\": 1608, \"bottom\": 591, \"left\": 1439, \"confidence\": 0.9731517434120178, \"label\": \"MASK\", \"img\": \"avatar_316.png\"}, {\"top\": 133, \"right\": 1255, \"bottom\": 184, \"left\": 1212, \"confidence\": 0.8407090306282043, \"label\": \"NO MASK\", \"img\": \"avatar_317.png\"}, {\"top\": 398, \"right\": 168, \"bottom\": 485, \"left\": 86, \"confidence\": 0.9857229590415955, \"label\": \"MASK\", \"img\": \"avatar_318.png\"}, {\"top\": 120, \"right\": 844, \"bottom\": 175, \"left\": 798, \"confidence\": 0.6868234872817993, \"label\": \"NO MASK\", \"img\": \"avatar_319.png\"}, {\"top\": 894, \"right\": 1912, \"bottom\": 1086, \"left\": 1765, \"confidence\": 0.9795411229133606, \"label\": \"NO MASK\", \"img\": \"avatar_320.png\"}, {\"top\": 199, \"right\": 786, \"bottom\": 254, \"left\": 737, \"confidence\": 0.778511106967926, \"label\": \"MASK\", \"img\": \"avatar_321.png\"}, {\"top\": 356, \"right\": 1203, \"bottom\": 417, \"left\": 1153, \"confidence\": 0.9919869899749756, \"label\": \"NO MASK\", \"img\": \"avatar_322.png\"}, {\"top\": 201, \"right\": 1039, \"bottom\": 263, \"left\": 988, \"confidence\": 0.7877511382102966, \"label\": \"NO MASK\", \"img\": \"avatar_323.png\"}]}\r\n{\"frame\": 379, \"data\": [{\"top\": 403, \"right\": 1608, \"bottom\": 591, \"left\": 1439, \"confidence\": 0.977640688419342, \"label\": \"MASK\", \"img\": \"avatar_324.png\"}, {\"top\": 133, \"right\": 1255, \"bottom\": 184, \"left\": 1212, \"confidence\": 0.8214764595031738, \"label\": \"NO MASK\", \"img\": \"avatar_325.png\"}, {\"top\": 397, \"right\": 168, \"bottom\": 485, \"left\": 86, \"confidence\": 0.986068844795227, \"label\": \"MASK\", \"img\": \"avatar_326.png\"}, {\"top\": 120, \"right\": 844, \"bottom\": 175, \"left\": 798, \"confidence\": 0.6271835565567017, \"label\": \"NO MASK\", \"img\": \"avatar_327.png\"}, {\"top\": 894, \"right\": 1912, \"bottom\": 1086, \"left\": 1764, \"confidence\": 0.9699982404708862, \"label\": \"NO MASK\", \"img\": \"avatar_328.png\"}, {\"top\": 355, \"right\": 1203, \"bottom\": 417, \"left\": 1153, \"confidence\": 0.9946927428245544, \"label\": \"NO MASK\", \"img\": \"avatar_329.png\"}, {\"top\": 199, \"right\": 786, \"bottom\": 254, \"left\": 737, \"confidence\": 0.8341957926750183, \"label\": \"MASK\", \"img\": \"avatar_330.png\"}, {\"top\": 201, \"right\": 1039, \"bottom\": 263, \"left\": 988, \"confidence\": 0.8628202676773071, \"label\": \"NO MASK\", \"img\": \"avatar_331.png\"}]}\r\n{\"frame\": 380, \"data\": [{\"top\": 403, \"right\": 1608, \"bottom\": 591, \"left\": 1439, \"confidence\": 0.9729830026626587, \"label\": \"MASK\", \"img\": \"avatar_332.png\"}, {\"top\": 133, \"right\": 1255, \"bottom\": 184, \"left\": 1212, \"confidence\": 0.843529224395752, \"label\": \"NO MASK\", \"img\": \"avatar_333.png\"}, {\"top\": 397, \"right\": 168, \"bottom\": 485, \"left\": 86, \"confidence\": 0.9888153672218323, \"label\": \"MASK\", \"img\": \"avatar_334.png\"}, {\"top\": 120, \"right\": 844, \"bottom\": 175, \"left\": 798, \"confidence\": 0.6474432945251465, \"label\": \"NO MASK\", \"img\": \"avatar_335.png\"}, {\"top\": 894, \"right\": 1912, \"bottom\": 1086, \"left\": 1764, \"confidence\": 0.9707130193710327, \"label\": \"NO MASK\", \"img\": \"avatar_336.png\"}, {\"top\": 355, \"right\": 1203, \"bottom\": 417, \"left\": 1152, \"confidence\": 0.9936994314193726, \"label\": \"NO MASK\", \"img\": \"avatar_337.png\"}, {\"top\": 199, \"right\": 786, \"bottom\": 254, \"left\": 737, \"confidence\": 0.8301119804382324, \"label\": \"MASK\", \"img\": \"avatar_338.png\"}, {\"top\": 201, \"right\": 1039, \"bottom\": 263, \"left\": 988, \"confidence\": 0.8269749283790588, \"label\": \"NO MASK\", \"img\": \"avatar_339.png\"}]}\r\n{\"frame\": 381, \"data\": [{\"top\": 401, \"right\": 1646, \"bottom\": 589, \"left\": 1474, \"confidence\": 0.9899078607559204, \"label\": \"MASK\", \"img\": \"avatar_340.png\"}, {\"top\": 128, \"right\": 1288, \"bottom\": 182, \"left\": 1243, \"confidence\": 0.9306778311729431, \"label\": \"NO MASK\", \"img\": \"avatar_341.png\"}, {\"top\": 116, \"right\": 875, \"bottom\": 169, \"left\": 830, \"confidence\": 0.7164577841758728, \"label\": \"NO MASK\", \"img\": \"avatar_342.png\"}, {\"top\": 352, \"right\": 1230, \"bottom\": 415, \"left\": 1177, \"confidence\": 0.985782265663147, \"label\": \"NO MASK\", \"img\": \"avatar_343.png\"}, {\"top\": 392, \"right\": 205, \"bottom\": 475, \"left\": 127, \"confidence\": 0.9887358546257019, \"label\": \"MASK\", \"img\": \"avatar_344.png\"}, {\"top\": 194, \"right\": 1070, \"bottom\": 259, \"left\": 1017, \"confidence\": 0.9123241305351257, \"label\": \"NO MASK\", \"img\": \"avatar_345.png\"}, {\"top\": 195, \"right\": 814, \"bottom\": 256, \"left\": 763, \"confidence\": 0.6771950125694275, \"label\": \"NO MASK\", \"img\": \"avatar_346.png\"}]}\r\n{\"frame\": 382, \"data\": [{\"top\": 128, \"right\": 1288, \"bottom\": 182, \"left\": 1243, \"confidence\": 0.9277163743972778, \"label\": \"NO MASK\", \"img\": \"avatar_347.png\"}, {\"top\": 401, \"right\": 1646, \"bottom\": 589, \"left\": 1474, \"confidence\": 0.988438069820404, \"label\": \"MASK\", \"img\": \"avatar_348.png\"}, {\"top\": 116, \"right\": 875, \"bottom\": 169, \"left\": 829, \"confidence\": 0.6622663140296936, \"label\": \"NO MASK\", \"img\": \"avatar_349.png\"}, {\"top\": 352, \"right\": 1229, \"bottom\": 414, \"left\": 1177, \"confidence\": 0.9793755412101746, \"label\": \"NO MASK\", \"img\": \"avatar_350.png\"}, {\"top\": 392, \"right\": 206, \"bottom\": 475, \"left\": 127, \"confidence\": 0.9865288734436035, \"label\": \"MASK\", \"img\": \"avatar_351.png\"}, {\"top\": 194, \"right\": 1070, \"bottom\": 258, \"left\": 1017, \"confidence\": 0.8766648769378662, \"label\": \"NO MASK\", \"img\": \"avatar_352.png\"}, {\"top\": 195, \"right\": 814, \"bottom\": 256, \"left\": 763, \"confidence\": 0.6930936574935913, \"label\": \"NO MASK\", \"img\": \"avatar_353.png\"}]}\r\n{\"frame\": 383, \"data\": [{\"top\": 128, \"right\": 1288, \"bottom\": 182, \"left\": 1243, \"confidence\": 0.9218971729278564, \"label\": \"NO MASK\", \"img\": \"avatar_354.png\"}, {\"top\": 401, \"right\": 1646, \"bottom\": 589, \"left\": 1475, \"confidence\": 0.985683023929596, \"label\": \"MASK\", \"img\": \"avatar_355.png\"}, {\"top\": 116, \"right\": 875, \"bottom\": 169, \"left\": 829, \"confidence\": 0.7039740085601807, \"label\": \"NO MASK\", \"img\": \"avatar_356.png\"}, {\"top\": 352, \"right\": 1229, \"bottom\": 414, \"left\": 1177, \"confidence\": 0.9827002882957458, \"label\": \"NO MASK\", \"img\": \"avatar_357.png\"}, {\"top\": 392, \"right\": 206, \"bottom\": 475, \"left\": 127, \"confidence\": 0.9842119812965393, \"label\": \"MASK\", \"img\": \"avatar_358.png\"}, {\"top\": 194, \"right\": 1070, \"bottom\": 259, \"left\": 1017, \"confidence\": 0.8762603998184204, \"label\": \"NO MASK\", \"img\": \"avatar_359.png\"}, {\"top\": 195, \"right\": 814, \"bottom\": 256, \"left\": 763, \"confidence\": 0.6925426125526428, \"label\": \"NO MASK\", \"img\": \"avatar_360.png\"}]}\r\n{\"frame\": 384, \"data\": [{\"top\": 401, \"right\": 1658, \"bottom\": 589, \"left\": 1483, \"confidence\": 0.9850649237632751, \"label\": \"MASK\", \"img\": \"avatar_361.png\"}, {\"top\": 129, \"right\": 1297, \"bottom\": 182, \"left\": 1254, \"confidence\": 0.841444194316864, \"label\": \"NO MASK\", \"img\": \"avatar_362.png\"}, {\"top\": 115, \"right\": 882, \"bottom\": 167, \"left\": 838, \"confidence\": 0.6721587777137756, \"label\": \"NO MASK\", \"img\": \"avatar_363.png\"}, {\"top\": 393, \"right\": 219, \"bottom\": 478, \"left\": 138, \"confidence\": 0.9861233234405518, \"label\": \"MASK\", \"img\": \"avatar_364.png\"}, {\"top\": 352, \"right\": 1244, \"bottom\": 413, \"left\": 1193, \"confidence\": 0.9782481789588928, \"label\": \"NO MASK\", \"img\": \"avatar_365.png\"}, {\"top\": 195, \"right\": 822, \"bottom\": 253, \"left\": 773, \"confidence\": 0.5573281645774841, \"label\": \"NO MASK\", \"img\": \"avatar_366.png\"}, {\"top\": 195, \"right\": 1079, \"bottom\": 248, \"left\": 1030, \"confidence\": 0.9233647584915161, \"label\": \"NO MASK\", \"img\": \"avatar_367.png\"}]}\r\n{\"frame\": 385, \"data\": [{\"top\": 401, \"right\": 1658, \"bottom\": 589, \"left\": 1483, \"confidence\": 0.9846301674842834, \"label\": \"MASK\", \"img\": \"avatar_368.png\"}, {\"top\": 129, \"right\": 1297, \"bottom\": 182, \"left\": 1254, \"confidence\": 0.8423606157302856, \"label\": \"NO MASK\", \"img\": \"avatar_369.png\"}, {\"top\": 115, \"right\": 882, \"bottom\": 167, \"left\": 838, \"confidence\": 0.6726318001747131, \"label\": \"NO MASK\", \"img\": \"avatar_370.png\"}, {\"top\": 392, \"right\": 219, \"bottom\": 478, \"left\": 137, \"confidence\": 0.9847367405891418, \"label\": \"MASK\", \"img\": \"avatar_371.png\"}, {\"top\": 352, \"right\": 1244, \"bottom\": 413, \"left\": 1193, \"confidence\": 0.9739900231361389, \"label\": \"NO MASK\", \"img\": \"avatar_372.png\"}, {\"top\": 195, \"right\": 822, \"bottom\": 253, \"left\": 773, \"confidence\": 0.5149422287940979, \"label\": \"NO MASK\", \"img\": \"avatar_373.png\"}, {\"top\": 195, \"right\": 1079, \"bottom\": 248, \"left\": 1030, \"confidence\": 0.9264219403266907, \"label\": \"NO MASK\", \"img\": \"avatar_374.png\"}]}\r\n{\"frame\": 386, \"data\": [{\"top\": 401, \"right\": 1658, \"bottom\": 589, \"left\": 1483, \"confidence\": 0.9844210147857666, \"label\": \"MASK\", \"img\": \"avatar_375.png\"}, {\"top\": 129, \"right\": 1297, \"bottom\": 182, \"left\": 1254, \"confidence\": 0.8370271921157837, \"label\": \"NO MASK\", \"img\": \"avatar_376.png\"}, {\"top\": 115, \"right\": 882, \"bottom\": 167, \"left\": 838, \"confidence\": 0.6660107374191284, \"label\": \"NO MASK\", \"img\": \"avatar_377.png\"}, {\"top\": 392, \"right\": 219, \"bottom\": 478, \"left\": 137, \"confidence\": 0.9845761060714722, \"label\": \"MASK\", \"img\": \"avatar_378.png\"}, {\"top\": 352, \"right\": 1244, \"bottom\": 413, \"left\": 1193, \"confidence\": 0.9760541915893555, \"label\": \"NO MASK\", \"img\": \"avatar_379.png\"}, {\"top\": 195, \"right\": 822, \"bottom\": 253, \"left\": 773, \"confidence\": 0.5160859823226929, \"label\": \"NO MASK\", \"img\": \"avatar_380.png\"}, {\"top\": 195, \"right\": 1079, \"bottom\": 248, \"left\": 1030, \"confidence\": 0.9231067299842834, \"label\": \"NO MASK\", \"img\": \"avatar_381.png\"}]}\r\n{\"frame\": 387, \"data\": [{\"top\": 125, \"right\": 1316, \"bottom\": 179, \"left\": 1272, \"confidence\": 0.9132769107818604, \"label\": \"NO MASK\", \"img\": \"avatar_382.png\"}, {\"top\": 400, \"right\": 1678, \"bottom\": 585, \"left\": 1509, \"confidence\": 0.9531798362731934, \"label\": \"MASK\", \"img\": \"avatar_383.png\"}, {\"top\": 113, \"right\": 899, \"bottom\": 165, \"left\": 855, \"confidence\": 0.6972672939300537, \"label\": \"NO MASK\", \"img\": \"avatar_384.png\"}, {\"top\": 387, \"right\": 238, \"bottom\": 475, \"left\": 159, \"confidence\": 0.9897061586380005, \"label\": \"MASK\", \"img\": \"avatar_385.png\"}, {\"top\": 349, \"right\": 1256, \"bottom\": 407, \"left\": 1208, \"confidence\": 0.9205836653709412, \"label\": \"NO MASK\", \"img\": \"avatar_386.png\"}, {\"top\": 193, \"right\": 841, \"bottom\": 254, \"left\": 790, \"confidence\": 0.7446568608283997, \"label\": \"NO MASK\", \"img\": \"avatar_387.png\"}, {\"top\": 194, \"right\": 1095, \"bottom\": 246, \"left\": 1047, \"confidence\": 0.7453272342681885, \"label\": \"NO MASK\", \"img\": \"avatar_388.png\"}]}\r\n{\"frame\": 388, \"data\": [{\"top\": 125, \"right\": 1316, \"bottom\": 179, \"left\": 1272, \"confidence\": 0.9047728776931763, \"label\": \"NO MASK\", \"img\": \"avatar_389.png\"}, {\"top\": 400, \"right\": 1679, \"bottom\": 585, \"left\": 1509, \"confidence\": 0.9426754713058472, \"label\": \"MASK\", \"img\": \"avatar_390.png\"}, {\"top\": 113, \"right\": 899, \"bottom\": 166, \"left\": 855, \"confidence\": 0.700537383556366, \"label\": \"NO MASK\", \"img\": \"avatar_391.png\"}, {\"top\": 388, \"right\": 238, \"bottom\": 474, \"left\": 159, \"confidence\": 0.9880473613739014, \"label\": \"MASK\", \"img\": \"avatar_392.png\"}, {\"top\": 349, \"right\": 1255, \"bottom\": 407, \"left\": 1207, \"confidence\": 0.926731526851654, \"label\": \"NO MASK\", \"img\": \"avatar_393.png\"}, {\"top\": 193, \"right\": 841, \"bottom\": 254, \"left\": 790, \"confidence\": 0.7814025282859802, \"label\": \"NO MASK\", \"img\": \"avatar_394.png\"}, {\"top\": 194, \"right\": 1095, \"bottom\": 246, \"left\": 1047, \"confidence\": 0.8086709976196289, \"label\": \"NO MASK\", \"img\": \"avatar_395.png\"}]}\r\n{\"frame\": 389, \"data\": [{\"top\": 125, \"right\": 1316, \"bottom\": 179, \"left\": 1272, \"confidence\": 0.9078701138496399, \"label\": \"NO MASK\", \"img\": \"avatar_396.png\"}, {\"top\": 400, \"right\": 1678, \"bottom\": 585, \"left\": 1509, \"confidence\": 0.9508084058761597, \"label\": \"MASK\", \"img\": \"avatar_397.png\"}, {\"top\": 113, \"right\": 899, \"bottom\": 166, \"left\": 855, \"confidence\": 0.7047000527381897, \"label\": \"NO MASK\", \"img\": \"avatar_398.png\"}, {\"top\": 387, \"right\": 238, \"bottom\": 474, \"left\": 159, \"confidence\": 0.9863155484199524, \"label\": \"MASK\", \"img\": \"avatar_399.png\"}, {\"top\": 349, \"right\": 1255, \"bottom\": 407, \"left\": 1207, \"confidence\": 0.918807327747345, \"label\": \"NO MASK\", \"img\": \"avatar_400.png\"}, {\"top\": 193, \"right\": 841, \"bottom\": 254, \"left\": 790, \"confidence\": 0.7821997404098511, \"label\": \"NO MASK\", \"img\": \"avatar_401.png\"}, {\"top\": 194, \"right\": 1095, \"bottom\": 246, \"left\": 1047, \"confidence\": 0.8089892864227295, \"label\": \"NO MASK\", \"img\": \"avatar_402.png\"}]}\r\n{\"frame\": 390, \"data\": [{\"top\": 125, \"right\": 1329, \"bottom\": 179, \"left\": 1284, \"confidence\": 0.9079946875572205, \"label\": \"NO MASK\", \"img\": \"avatar_403.png\"}, {\"top\": 398, \"right\": 1691, \"bottom\": 586, \"left\": 1518, \"confidence\": 0.9705212116241455, \"label\": \"MASK\", \"img\": \"avatar_404.png\"}, {\"top\": 113, \"right\": 911, \"bottom\": 165, \"left\": 867, \"confidence\": 0.7357028126716614, \"label\": \"NO MASK\", \"img\": \"avatar_405.png\"}, {\"top\": 348, \"right\": 1272, \"bottom\": 409, \"left\": 1221, \"confidence\": 0.9749959707260132, \"label\": \"NO MASK\", \"img\": \"avatar_406.png\"}, {\"top\": 388, \"right\": 252, \"bottom\": 474, \"left\": 175, \"confidence\": 0.9884571433067322, \"label\": \"MASK\", \"img\": \"avatar_407.png\"}, {\"top\": 193, \"right\": 1109, \"bottom\": 251, \"left\": 1059, \"confidence\": 0.7782014608383179, \"label\": \"NO MASK\", \"img\": \"avatar_408.png\"}, {\"top\": 194, \"right\": 851, \"bottom\": 254, \"left\": 802, \"confidence\": 0.8395113945007324, \"label\": \"NO MASK\", \"img\": \"avatar_409.png\"}]}\r\n{\"frame\": 391, \"data\": [{\"top\": 125, \"right\": 1329, \"bottom\": 179, \"left\": 1284, \"confidence\": 0.9013129472732544, \"label\": \"NO MASK\", \"img\": \"avatar_410.png\"}, {\"top\": 398, \"right\": 1691, \"bottom\": 587, \"left\": 1518, \"confidence\": 0.9648357629776001, \"label\": \"MASK\", \"img\": \"avatar_411.png\"}, {\"top\": 113, \"right\": 912, \"bottom\": 165, \"left\": 868, \"confidence\": 0.7077804207801819, \"label\": \"NO MASK\", \"img\": \"avatar_412.png\"}, {\"top\": 388, \"right\": 253, \"bottom\": 474, \"left\": 175, \"confidence\": 0.982187807559967, \"label\": \"MASK\", \"img\": \"avatar_413.png\"}, {\"top\": 349, \"right\": 1272, \"bottom\": 408, \"left\": 1222, \"confidence\": 0.9783027768135071, \"label\": \"NO MASK\", \"img\": \"avatar_414.png\"}, {\"top\": 193, \"right\": 1109, \"bottom\": 251, \"left\": 1059, \"confidence\": 0.7007278203964233, \"label\": \"NO MASK\", \"img\": \"avatar_415.png\"}, {\"top\": 194, \"right\": 851, \"bottom\": 253, \"left\": 802, \"confidence\": 0.8033522367477417, \"label\": \"NO MASK\", \"img\": \"avatar_416.png\"}]}\r\n{\"frame\": 392, \"data\": [{\"top\": 125, \"right\": 1329, \"bottom\": 179, \"left\": 1284, \"confidence\": 0.9088790416717529, \"label\": \"NO MASK\", \"img\": \"avatar_417.png\"}, {\"top\": 398, \"right\": 1691, \"bottom\": 587, \"left\": 1518, \"confidence\": 0.968788206577301, \"label\": \"MASK\", \"img\": \"avatar_418.png\"}, {\"top\": 113, \"right\": 912, \"bottom\": 165, \"left\": 868, \"confidence\": 0.6900100111961365, \"label\": \"NO MASK\", \"img\": \"avatar_419.png\"}, {\"top\": 388, \"right\": 253, \"bottom\": 474, \"left\": 175, \"confidence\": 0.9830301403999329, \"label\": \"MASK\", \"img\": \"avatar_420.png\"}, {\"top\": 349, \"right\": 1272, \"bottom\": 408, \"left\": 1222, \"confidence\": 0.9817423224449158, \"label\": \"NO MASK\", \"img\": \"avatar_421.png\"}, {\"top\": 193, \"right\": 1109, \"bottom\": 251, \"left\": 1059, \"confidence\": 0.7387745976448059, \"label\": \"NO MASK\", \"img\": \"avatar_422.png\"}, {\"top\": 194, \"right\": 851, \"bottom\": 253, \"left\": 802, \"confidence\": 0.8069084286689758, \"label\": \"NO MASK\", \"img\": \"avatar_423.png\"}]}\r\n{\"frame\": 393, \"data\": [{\"top\": 122, \"right\": 1347, \"bottom\": 178, \"left\": 1301, \"confidence\": 0.8947070837020874, \"label\": \"NO MASK\", \"img\": \"avatar_424.png\"}, {\"top\": 392, \"right\": 1710, \"bottom\": 587, \"left\": 1533, \"confidence\": 0.878405749797821, \"label\": \"MASK\", \"img\": \"avatar_425.png\"}, {\"top\": 385, \"right\": 273, \"bottom\": 471, \"left\": 196, \"confidence\": 0.9833111763000488, \"label\": \"MASK\", \"img\": \"avatar_426.png\"}, {\"top\": 112, \"right\": 929, \"bottom\": 164, \"left\": 884, \"confidence\": 0.7290900349617004, \"label\": \"NO MASK\", \"img\": \"avatar_427.png\"}, {\"top\": 346, \"right\": 1286, \"bottom\": 406, \"left\": 1236, \"confidence\": 0.9638417959213257, \"label\": \"NO MASK\", \"img\": \"avatar_428.png\"}, {\"top\": 191, \"right\": 868, \"bottom\": 246, \"left\": 821, \"confidence\": 0.8131864070892334, \"label\": \"MASK\", \"img\": \"avatar_429.png\"}, {\"top\": 190, \"right\": 1126, \"bottom\": 247, \"left\": 1077, \"confidence\": 0.8372811079025269, \"label\": \"NO MASK\", \"img\": \"avatar_430.png\"}]}\r\n{\"frame\": 394, \"data\": [{\"top\": 122, \"right\": 1347, \"bottom\": 178, \"left\": 1301, \"confidence\": 0.9149693250656128, \"label\": \"NO MASK\", \"img\": \"avatar_431.png\"}, {\"top\": 392, \"right\": 1710, \"bottom\": 587, \"left\": 1533, \"confidence\": 0.8895032405853271, \"label\": \"MASK\", \"img\": \"avatar_432.png\"}, {\"top\": 112, \"right\": 929, \"bottom\": 164, \"left\": 884, \"confidence\": 0.7009413838386536, \"label\": \"NO MASK\", \"img\": \"avatar_433.png\"}, {\"top\": 385, \"right\": 273, \"bottom\": 471, \"left\": 196, \"confidence\": 0.9776543974876404, \"label\": \"MASK\", \"img\": \"avatar_434.png\"}, {\"top\": 345, \"right\": 1286, \"bottom\": 406, \"left\": 1236, \"confidence\": 0.9605673551559448, \"label\": \"NO MASK\", \"img\": \"avatar_435.png\"}, {\"top\": 191, \"right\": 868, \"bottom\": 246, \"left\": 821, \"confidence\": 0.7654755711555481, \"label\": \"MASK\", \"img\": \"avatar_436.png\"}, {\"top\": 190, \"right\": 1126, \"bottom\": 247, \"left\": 1077, \"confidence\": 0.8030021786689758, \"label\": \"NO MASK\", \"img\": \"avatar_437.png\"}]}\r\n{\"frame\": 395, \"data\": [{\"top\": 122, \"right\": 1347, \"bottom\": 178, \"left\": 1301, \"confidence\": 0.8997719287872314, \"label\": \"NO MASK\", \"img\": \"avatar_438.png\"}, {\"top\": 392, \"right\": 1710, \"bottom\": 587, \"left\": 1533, \"confidence\": 0.8714940547943115, \"label\": \"MASK\", \"img\": \"avatar_439.png\"}, {\"top\": 112, \"right\": 929, \"bottom\": 164, \"left\": 884, \"confidence\": 0.6443206667900085, \"label\": \"NO MASK\", \"img\": \"avatar_440.png\"}, {\"top\": 385, \"right\": 273, \"bottom\": 470, \"left\": 193, \"confidence\": 0.9711812138557434, \"label\": \"MASK\", \"img\": \"avatar_441.png\"}, {\"top\": 345, \"right\": 1286, \"bottom\": 406, \"left\": 1236, \"confidence\": 0.9618082642555237, \"label\": \"NO MASK\", \"img\": \"avatar_442.png\"}, {\"top\": 191, \"right\": 868, \"bottom\": 246, \"left\": 821, \"confidence\": 0.7799538373947144, \"label\": \"MASK\", \"img\": \"avatar_443.png\"}, {\"top\": 190, \"right\": 1126, \"bottom\": 247, \"left\": 1077, \"confidence\": 0.7948232889175415, \"label\": \"NO MASK\", \"img\": \"avatar_444.png\"}]}\r\n{\"frame\": 396, \"data\": [{\"top\": 123, \"right\": 1354, \"bottom\": 177, \"left\": 1309, \"confidence\": 0.891412615776062, \"label\": \"NO MASK\", \"img\": \"avatar_445.png\"}, {\"top\": 397, \"right\": 1720, \"bottom\": 590, \"left\": 1543, \"confidence\": 0.9809048175811768, \"label\": \"MASK\", \"img\": \"avatar_446.png\"}, {\"top\": 112, \"right\": 938, \"bottom\": 167, \"left\": 891, \"confidence\": 0.7070960998535156, \"label\": \"NO MASK\", \"img\": \"avatar_447.png\"}, {\"top\": 384, \"right\": 285, \"bottom\": 472, \"left\": 206, \"confidence\": 0.9842812418937683, \"label\": \"MASK\", \"img\": \"avatar_448.png\"}, {\"top\": 348, \"right\": 1294, \"bottom\": 408, \"left\": 1243, \"confidence\": 0.9747308492660522, \"label\": \"NO MASK\", \"img\": \"avatar_449.png\"}, {\"top\": 193, \"right\": 875, \"bottom\": 250, \"left\": 826, \"confidence\": 0.6887863874435425, \"label\": \"NO MASK\", \"img\": \"avatar_450.png\"}, {\"top\": 191, \"right\": 1133, \"bottom\": 251, \"left\": 1083, \"confidence\": 0.8901488780975342, \"label\": \"NO MASK\", \"img\": \"avatar_451.png\"}]}\r\n{\"frame\": 397, \"data\": [{\"top\": 123, \"right\": 1354, \"bottom\": 177, \"left\": 1309, \"confidence\": 0.8718348145484924, \"label\": \"NO MASK\", \"img\": \"avatar_452.png\"}, {\"top\": 397, \"right\": 1720, \"bottom\": 590, \"left\": 1542, \"confidence\": 0.9776270389556885, \"label\": \"MASK\", \"img\": \"avatar_453.png\"}, {\"top\": 112, \"right\": 938, \"bottom\": 167, \"left\": 891, \"confidence\": 0.7161585688591003, \"label\": \"NO MASK\", \"img\": \"avatar_454.png\"}, {\"top\": 384, \"right\": 285, \"bottom\": 472, \"left\": 206, \"confidence\": 0.9849298596382141, \"label\": \"MASK\", \"img\": \"avatar_455.png\"}, {\"top\": 348, \"right\": 1294, \"bottom\": 408, \"left\": 1243, \"confidence\": 0.9773643612861633, \"label\": \"NO MASK\", \"img\": \"avatar_456.png\"}, {\"top\": 193, \"right\": 875, \"bottom\": 250, \"left\": 826, \"confidence\": 0.6423732042312622, \"label\": \"NO MASK\", \"img\": \"avatar_457.png\"}, {\"top\": 191, \"right\": 1133, \"bottom\": 252, \"left\": 1082, \"confidence\": 0.8516446948051453, \"label\": \"NO MASK\", \"img\": \"avatar_458.png\"}]}\r\n{\"frame\": 398, \"data\": [{\"top\": 123, \"right\": 1354, \"bottom\": 177, \"left\": 1309, \"confidence\": 0.8728653788566589, \"label\": \"NO MASK\", \"img\": \"avatar_459.png\"}, {\"top\": 396, \"right\": 1720, \"bottom\": 590, \"left\": 1543, \"confidence\": 0.977454662322998, \"label\": \"MASK\", \"img\": \"avatar_460.png\"}, {\"top\": 112, \"right\": 938, \"bottom\": 167, \"left\": 891, \"confidence\": 0.7187590003013611, \"label\": \"NO MASK\", \"img\": \"avatar_461.png\"}, {\"top\": 384, \"right\": 285, \"bottom\": 472, \"left\": 206, \"confidence\": 0.9820117950439453, \"label\": \"MASK\", \"img\": \"avatar_462.png\"}, {\"top\": 348, \"right\": 1295, \"bottom\": 408, \"left\": 1243, \"confidence\": 0.979749321937561, \"label\": \"NO MASK\", \"img\": \"avatar_463.png\"}, {\"top\": 193, \"right\": 875, \"bottom\": 250, \"left\": 826, \"confidence\": 0.660637378692627, \"label\": \"NO MASK\", \"img\": \"avatar_464.png\"}, {\"top\": 191, \"right\": 1133, \"bottom\": 252, \"left\": 1082, \"confidence\": 0.838035523891449, \"label\": \"NO MASK\", \"img\": \"avatar_465.png\"}]}\r\n{\"frame\": 399, \"data\": [{\"top\": 123, \"right\": 1364, \"bottom\": 178, \"left\": 1320, \"confidence\": 0.9031948447227478, \"label\": \"NO MASK\", \"img\": \"avatar_466.png\"}, {\"top\": 391, \"right\": 1729, \"bottom\": 592, \"left\": 1552, \"confidence\": 0.9757778644561768, \"label\": \"MASK\", \"img\": \"avatar_467.png\"}, {\"top\": 381, \"right\": 294, \"bottom\": 468, \"left\": 213, \"confidence\": 0.9695743322372437, \"label\": \"MASK\", \"img\": \"avatar_468.png\"}, {\"top\": 112, \"right\": 947, \"bottom\": 164, \"left\": 902, \"confidence\": 0.6494033336639404, \"label\": \"NO MASK\", \"img\": \"avatar_469.png\"}, {\"top\": 346, \"right\": 1304, \"bottom\": 405, \"left\": 1254, \"confidence\": 0.9755909442901611, \"label\": \"NO MASK\", \"img\": \"avatar_470.png\"}, {\"top\": 190, \"right\": 884, \"bottom\": 246, \"left\": 837, \"confidence\": 0.6990299224853516, \"label\": \"MASK\", \"img\": \"avatar_471.png\"}, {\"top\": 191, \"right\": 1144, \"bottom\": 248, \"left\": 1093, \"confidence\": 0.7427478432655334, \"label\": \"NO MASK\", \"img\": \"avatar_472.png\"}]}\r\n{\"frame\": 400, \"data\": [{\"top\": 123, \"right\": 1364, \"bottom\": 178, \"left\": 1320, \"confidence\": 0.9095210433006287, \"label\": \"NO MASK\", \"img\": \"avatar_473.png\"}, {\"top\": 391, \"right\": 1729, \"bottom\": 591, \"left\": 1552, \"confidence\": 0.9685962200164795, \"label\": \"MASK\", \"img\": \"avatar_474.png\"}, {\"top\": 112, \"right\": 947, \"bottom\": 164, \"left\": 902, \"confidence\": 0.7439855337142944, \"label\": \"NO MASK\", \"img\": \"avatar_475.png\"}, {\"top\": 381, \"right\": 295, \"bottom\": 468, \"left\": 213, \"confidence\": 0.9715938568115234, \"label\": \"MASK\", \"img\": \"avatar_476.png\"}, {\"top\": 346, \"right\": 1304, \"bottom\": 405, \"left\": 1254, \"confidence\": 0.9708576202392578, \"label\": \"NO MASK\", \"img\": \"avatar_477.png\"}, {\"top\": 190, \"right\": 884, \"bottom\": 245, \"left\": 837, \"confidence\": 0.7020103335380554, \"label\": \"MASK\", \"img\": \"avatar_478.png\"}, {\"top\": 191, \"right\": 1144, \"bottom\": 248, \"left\": 1093, \"confidence\": 0.8102899789810181, \"label\": \"NO MASK\", \"img\": \"avatar_479.png\"}]}\r\n{\"frame\": 401, \"data\": [{\"top\": 123, \"right\": 1364, \"bottom\": 178, \"left\": 1320, \"confidence\": 0.9089151620864868, \"label\": \"NO MASK\", \"img\": \"avatar_480.png\"}, {\"top\": 390, \"right\": 1729, \"bottom\": 591, \"left\": 1551, \"confidence\": 0.9576700925827026, \"label\": \"MASK\", \"img\": \"avatar_481.png\"}, {\"top\": 112, \"right\": 947, \"bottom\": 164, \"left\": 902, \"confidence\": 0.7261174321174622, \"label\": \"NO MASK\", \"img\": \"avatar_482.png\"}, {\"top\": 381, \"right\": 295, \"bottom\": 468, \"left\": 213, \"confidence\": 0.9761511087417603, \"label\": \"MASK\", \"img\": \"avatar_483.png\"}, {\"top\": 346, \"right\": 1304, \"bottom\": 405, \"left\": 1254, \"confidence\": 0.9695825576782227, \"label\": \"NO MASK\", \"img\": \"avatar_484.png\"}, {\"top\": 190, \"right\": 884, \"bottom\": 245, \"left\": 837, \"confidence\": 0.6925342082977295, \"label\": \"MASK\", \"img\": \"avatar_485.png\"}, {\"top\": 191, \"right\": 1144, \"bottom\": 248, \"left\": 1093, \"confidence\": 0.8051218390464783, \"label\": \"NO MASK\", \"img\": \"avatar_486.png\"}]}\r\n{\"frame\": 402, \"data\": [{\"top\": 122, \"right\": 1378, \"bottom\": 178, \"left\": 1333, \"confidence\": 0.8661624789237976, \"label\": \"NO MASK\", \"img\": \"avatar_487.png\"}, {\"top\": 394, \"right\": 1747, \"bottom\": 591, \"left\": 1569, \"confidence\": 0.9682086110115051, \"label\": \"MASK\", \"img\": \"avatar_488.png\"}, {\"top\": 379, \"right\": 308, \"bottom\": 465, \"left\": 227, \"confidence\": 0.9746747016906738, \"label\": \"MASK\", \"img\": \"avatar_489.png\"}, {\"top\": 111, \"right\": 958, \"bottom\": 165, \"left\": 913, \"confidence\": 0.7020314931869507, \"label\": \"NO MASK\", \"img\": \"avatar_490.png\"}, {\"top\": 346, \"right\": 1320, \"bottom\": 407, \"left\": 1268, \"confidence\": 0.9734311103820801, \"label\": \"NO MASK\", \"img\": \"avatar_491.png\"}, {\"top\": 192, \"right\": 896, \"bottom\": 245, \"left\": 850, \"confidence\": 0.7765675187110901, \"label\": \"MASK\", \"img\": \"avatar_492.png\"}, {\"top\": 189, \"right\": 1158, \"bottom\": 253, \"left\": 1105, \"confidence\": 0.9487478137016296, \"label\": \"NO MASK\", \"img\": \"avatar_493.png\"}]}\r\n{\"frame\": 403, \"data\": [{\"top\": 122, \"right\": 1378, \"bottom\": 178, \"left\": 1333, \"confidence\": 0.8486376404762268, \"label\": \"NO MASK\", \"img\": \"avatar_494.png\"}, {\"top\": 394, \"right\": 1747, \"bottom\": 591, \"left\": 1568, \"confidence\": 0.9516711235046387, \"label\": \"MASK\", \"img\": \"avatar_495.png\"}, {\"top\": 379, \"right\": 308, \"bottom\": 464, \"left\": 227, \"confidence\": 0.9778963327407837, \"label\": \"MASK\", \"img\": \"avatar_496.png\"}, {\"top\": 111, \"right\": 958, \"bottom\": 165, \"left\": 913, \"confidence\": 0.7111139893531799, \"label\": \"NO MASK\", \"img\": \"avatar_497.png\"}, {\"top\": 346, \"right\": 1320, \"bottom\": 407, \"left\": 1269, \"confidence\": 0.977554440498352, \"label\": \"NO MASK\", \"img\": \"avatar_498.png\"}, {\"top\": 192, \"right\": 896, \"bottom\": 245, \"left\": 850, \"confidence\": 0.7446478009223938, \"label\": \"MASK\", \"img\": \"avatar_499.png\"}, {\"top\": 189, \"right\": 1158, \"bottom\": 254, \"left\": 1105, \"confidence\": 0.921326756477356, \"label\": \"NO MASK\", \"img\": \"avatar_500.png\"}]}\r\n{\"frame\": 404, \"data\": [{\"top\": 122, \"right\": 1378, \"bottom\": 178, \"left\": 1333, \"confidence\": 0.8358257412910461, \"label\": \"NO MASK\", \"img\": \"avatar_501.png\"}, {\"top\": 394, \"right\": 1747, \"bottom\": 591, \"left\": 1568, \"confidence\": 0.966069221496582, \"label\": \"MASK\", \"img\": \"avatar_502.png\"}, {\"top\": 379, \"right\": 308, \"bottom\": 464, \"left\": 228, \"confidence\": 0.9784182906150818, \"label\": \"MASK\", \"img\": \"avatar_503.png\"}, {\"top\": 111, \"right\": 958, \"bottom\": 165, \"left\": 913, \"confidence\": 0.689312756061554, \"label\": \"NO MASK\", \"img\": \"avatar_504.png\"}, {\"top\": 346, \"right\": 1320, \"bottom\": 407, \"left\": 1269, \"confidence\": 0.9739555716514587, \"label\": \"NO MASK\", \"img\": \"avatar_505.png\"}, {\"top\": 192, \"right\": 896, \"bottom\": 245, \"left\": 850, \"confidence\": 0.7427295446395874, \"label\": \"MASK\", \"img\": \"avatar_506.png\"}, {\"top\": 189, \"right\": 1158, \"bottom\": 254, \"left\": 1105, \"confidence\": 0.8955485820770264, \"label\": \"NO MASK\", \"img\": \"avatar_507.png\"}]}\r\n{\"frame\": 405, \"data\": [{\"top\": 122, \"right\": 1406, \"bottom\": 177, \"left\": 1361, \"confidence\": 0.8455196022987366, \"label\": \"NO MASK\", \"img\": \"avatar_508.png\"}, {\"top\": 396, \"right\": 1784, \"bottom\": 591, \"left\": 1603, \"confidence\": 0.9376266598701477, \"label\": \"MASK\", \"img\": \"avatar_509.png\"}, {\"top\": 375, \"right\": 342, \"bottom\": 460, \"left\": 262, \"confidence\": 0.991531252861023, \"label\": \"MASK\", \"img\": \"avatar_510.png\"}, {\"top\": 111, \"right\": 986, \"bottom\": 165, \"left\": 939, \"confidence\": 0.6684638857841492, \"label\": \"NO MASK\", \"img\": \"avatar_511.png\"}, {\"top\": 347, \"right\": 1351, \"bottom\": 408, \"left\": 1299, \"confidence\": 0.986134946346283, \"label\": \"NO MASK\", \"img\": \"avatar_512.png\"}, {\"top\": 188, \"right\": 1181, \"bottom\": 254, \"left\": 1129, \"confidence\": 0.7930752038955688, \"label\": \"NO MASK\", \"img\": \"avatar_513.png\"}, {\"top\": 190, \"right\": 922, \"bottom\": 246, \"left\": 874, \"confidence\": 0.5452733635902405, \"label\": \"NO MASK\", \"img\": \"avatar_514.png\"}]}\r\n{\"frame\": 406, \"data\": [{\"top\": 122, \"right\": 1406, \"bottom\": 177, \"left\": 1361, \"confidence\": 0.8497644066810608, \"label\": \"NO MASK\", \"img\": \"avatar_515.png\"}, {\"top\": 396, \"right\": 1784, \"bottom\": 591, \"left\": 1603, \"confidence\": 0.9551568627357483, \"label\": \"MASK\", \"img\": \"avatar_516.png\"}, {\"top\": 375, \"right\": 342, \"bottom\": 460, \"left\": 262, \"confidence\": 0.991526186466217, \"label\": \"MASK\", \"img\": \"avatar_517.png\"}, {\"top\": 111, \"right\": 985, \"bottom\": 165, \"left\": 939, \"confidence\": 0.7088369727134705, \"label\": \"NO MASK\", \"img\": \"avatar_518.png\"}, {\"top\": 347, \"right\": 1351, \"bottom\": 408, \"left\": 1299, \"confidence\": 0.9835203289985657, \"label\": \"NO MASK\", \"img\": \"avatar_519.png\"}, {\"top\": 188, \"right\": 1182, \"bottom\": 254, \"left\": 1129, \"confidence\": 0.7753844261169434, \"label\": \"NO MASK\", \"img\": \"avatar_520.png\"}, {\"top\": 190, \"right\": 922, \"bottom\": 246, \"left\": 874, \"confidence\": 0.5885615944862366, \"label\": \"NO MASK\", \"img\": \"avatar_521.png\"}]}\r\n{\"frame\": 407, \"data\": [{\"top\": 122, \"right\": 1406, \"bottom\": 177, \"left\": 1361, \"confidence\": 0.8248026371002197, \"label\": \"NO MASK\", \"img\": \"avatar_522.png\"}, {\"top\": 396, \"right\": 1784, \"bottom\": 590, \"left\": 1604, \"confidence\": 0.9525700211524963, \"label\": \"MASK\", \"img\": \"avatar_523.png\"}, {\"top\": 375, \"right\": 341, \"bottom\": 460, \"left\": 262, \"confidence\": 0.9914469718933105, \"label\": \"MASK\", \"img\": \"avatar_524.png\"}, {\"top\": 111, \"right\": 985, \"bottom\": 165, \"left\": 939, \"confidence\": 0.7028478980064392, \"label\": \"NO MASK\", \"img\": \"avatar_525.png\"}, {\"top\": 347, \"right\": 1352, \"bottom\": 409, \"left\": 1299, \"confidence\": 0.9858728647232056, \"label\": \"NO MASK\", \"img\": \"avatar_526.png\"}, {\"top\": 188, \"right\": 1181, \"bottom\": 254, \"left\": 1129, \"confidence\": 0.7910599708557129, \"label\": \"NO MASK\", \"img\": \"avatar_527.png\"}, {\"top\": 190, \"right\": 922, \"bottom\": 246, \"left\": 874, \"confidence\": 0.6162378787994385, \"label\": \"NO MASK\", \"img\": \"avatar_528.png\"}]}\r\n{\"frame\": 408, \"data\": [{\"top\": 404, \"right\": 165, \"bottom\": 528, \"left\": 49, \"confidence\": 0.9562011957168579, \"label\": \"NO MASK\", \"img\": \"avatar_529.png\"}, {\"top\": 116, \"right\": 1522, \"bottom\": 172, \"left\": 1476, \"confidence\": 0.8356307744979858, \"label\": \"NO MASK\", \"img\": \"avatar_530.png\"}, {\"top\": 385, \"right\": 1917, \"bottom\": 600, \"left\": 1731, \"confidence\": 0.7393003106117249, \"label\": \"MASK\", \"img\": \"avatar_531.png\"}, {\"top\": 105, \"right\": 1091, \"bottom\": 160, \"left\": 1045, \"confidence\": 0.7985103130340576, \"label\": \"NO MASK\", \"img\": \"avatar_532.png\"}, {\"top\": 368, \"right\": 455, \"bottom\": 453, \"left\": 381, \"confidence\": 0.9811397194862366, \"label\": \"MASK\", \"img\": \"avatar_533.png\"}, {\"top\": 345, \"right\": 1461, \"bottom\": 407, \"left\": 1408, \"confidence\": 0.9650070071220398, \"label\": \"NO MASK\", \"img\": \"avatar_534.png\"}, {\"top\": 180, \"right\": 1292, \"bottom\": 247, \"left\": 1240, \"confidence\": 0.9517582654953003, \"label\": \"NO MASK\", \"img\": \"avatar_535.png\"}, {\"top\": 184, \"right\": 1026, \"bottom\": 239, \"left\": 979, \"confidence\": 0.7099887728691101, \"label\": \"MASK\", \"img\": \"avatar_536.png\"}]}\r\n{\"frame\": 409, \"data\": [{\"top\": 404, \"right\": 165, \"bottom\": 528, \"left\": 49, \"confidence\": 0.95057213306427, \"label\": \"NO MASK\", \"img\": \"avatar_537.png\"}, {\"top\": 116, \"right\": 1522, \"bottom\": 172, \"left\": 1476, \"confidence\": 0.8816402554512024, \"label\": \"NO MASK\", \"img\": \"avatar_538.png\"}, {\"top\": 385, \"right\": 1917, \"bottom\": 600, \"left\": 1732, \"confidence\": 0.7433512210845947, \"label\": \"MASK\", \"img\": \"avatar_539.png\"}, {\"top\": 368, \"right\": 455, \"bottom\": 453, \"left\": 381, \"confidence\": 0.9859845638275146, \"label\": \"MASK\", \"img\": \"avatar_540.png\"}, {\"top\": 105, \"right\": 1091, \"bottom\": 160, \"left\": 1045, \"confidence\": 0.8353757858276367, \"label\": \"NO MASK\", \"img\": \"avatar_541.png\"}, {\"top\": 345, \"right\": 1461, \"bottom\": 407, \"left\": 1409, \"confidence\": 0.9784420132637024, \"label\": \"NO MASK\", \"img\": \"avatar_542.png\"}, {\"top\": 180, \"right\": 1292, \"bottom\": 247, \"left\": 1240, \"confidence\": 0.9366545677185059, \"label\": \"NO MASK\", \"img\": \"avatar_543.png\"}, {\"top\": 184, \"right\": 1026, \"bottom\": 239, \"left\": 979, \"confidence\": 0.6911388635635376, \"label\": \"MASK\", \"img\": \"avatar_544.png\"}]}\r\n{\"frame\": 410, \"data\": [{\"top\": 404, \"right\": 165, \"bottom\": 528, \"left\": 49, \"confidence\": 0.9508666396141052, \"label\": \"NO MASK\", \"img\": \"avatar_545.png\"}, {\"top\": 116, \"right\": 1522, \"bottom\": 172, \"left\": 1476, \"confidence\": 0.8837236762046814, \"label\": \"NO MASK\", \"img\": \"avatar_546.png\"}, {\"top\": 385, \"right\": 1917, \"bottom\": 600, \"left\": 1731, \"confidence\": 0.79243004322052, \"label\": \"MASK\", \"img\": \"avatar_547.png\"}, {\"top\": 368, \"right\": 455, \"bottom\": 453, \"left\": 381, \"confidence\": 0.9887978434562683, \"label\": \"MASK\", \"img\": \"avatar_548.png\"}, {\"top\": 105, \"right\": 1091, \"bottom\": 160, \"left\": 1045, \"confidence\": 0.8080074191093445, \"label\": \"NO MASK\", \"img\": \"avatar_549.png\"}, {\"top\": 345, \"right\": 1461, \"bottom\": 407, \"left\": 1408, \"confidence\": 0.9682695269584656, \"label\": \"NO MASK\", \"img\": \"avatar_550.png\"}, {\"top\": 180, \"right\": 1292, \"bottom\": 247, \"left\": 1240, \"confidence\": 0.9384099841117859, \"label\": \"NO MASK\", \"img\": \"avatar_551.png\"}, {\"top\": 184, \"right\": 1026, \"bottom\": 239, \"left\": 979, \"confidence\": 0.6987637281417847, \"label\": \"MASK\", \"img\": \"avatar_552.png\"}]}\r\n{\"frame\": 411, \"data\": [{\"top\": 401, \"right\": 202, \"bottom\": 524, \"left\": 88, \"confidence\": 0.9707627892494202, \"label\": \"NO MASK\", \"img\": \"avatar_553.png\"}, {\"top\": 114, \"right\": 1555, \"bottom\": 170, \"left\": 1508, \"confidence\": 0.9149743318557739, \"label\": \"NO MASK\", \"img\": \"avatar_554.png\"}, {\"top\": 385, \"right\": 1922, \"bottom\": 603, \"left\": 1768, \"confidence\": 0.9278779625892639, \"label\": \"MASK\", \"img\": \"avatar_555.png\"}, {\"top\": 367, \"right\": 484, \"bottom\": 447, \"left\": 411, \"confidence\": 0.9470837712287903, \"label\": \"MASK\", \"img\": \"avatar_556.png\"}, {\"top\": 104, \"right\": 1117, \"bottom\": 159, \"left\": 1070, \"confidence\": 0.8244701027870178, \"label\": \"NO MASK\", \"img\": \"avatar_557.png\"}, {\"top\": 345, \"right\": 1488, \"bottom\": 407, \"left\": 1437, \"confidence\": 0.9752941131591797, \"label\": \"NO MASK\", \"img\": \"avatar_558.png\"}, {\"top\": 180, \"right\": 1322, \"bottom\": 241, \"left\": 1271, \"confidence\": 0.8826234936714172, \"label\": \"NO MASK\", \"img\": \"avatar_559.png\"}, {\"top\": 184, \"right\": 1054, \"bottom\": 244, \"left\": 1005, \"confidence\": 0.7070075273513794, \"label\": \"NO MASK\", \"img\": \"avatar_560.png\"}]}\r\n{\"frame\": 412, \"data\": [{\"top\": 401, \"right\": 202, \"bottom\": 524, \"left\": 88, \"confidence\": 0.9653183817863464, \"label\": \"NO MASK\", \"img\": \"avatar_561.png\"}, {\"top\": 114, \"right\": 1555, \"bottom\": 170, \"left\": 1508, \"confidence\": 0.9052829742431641, \"label\": \"NO MASK\", \"img\": \"avatar_562.png\"}, {\"top\": 385, \"right\": 1922, \"bottom\": 604, \"left\": 1768, \"confidence\": 0.8508009314537048, \"label\": \"MASK\", \"img\": \"avatar_563.png\"}, {\"top\": 367, \"right\": 484, \"bottom\": 447, \"left\": 412, \"confidence\": 0.9513599872589111, \"label\": \"MASK\", \"img\": \"avatar_564.png\"}, {\"top\": 105, \"right\": 1117, \"bottom\": 160, \"left\": 1070, \"confidence\": 0.7815881967544556, \"label\": \"NO MASK\", \"img\": \"avatar_565.png\"}, {\"top\": 346, \"right\": 1488, \"bottom\": 407, \"left\": 1437, \"confidence\": 0.9724583029747009, \"label\": \"NO MASK\", \"img\": \"avatar_566.png\"}, {\"top\": 180, \"right\": 1321, \"bottom\": 241, \"left\": 1271, \"confidence\": 0.852681040763855, \"label\": \"NO MASK\", \"img\": \"avatar_567.png\"}, {\"top\": 184, \"right\": 1054, \"bottom\": 244, \"left\": 1005, \"confidence\": 0.7543257474899292, \"label\": \"NO MASK\", \"img\": \"avatar_568.png\"}]}\r\n{\"frame\": 413, \"data\": [{\"top\": 401, \"right\": 202, \"bottom\": 524, \"left\": 88, \"confidence\": 0.9680837988853455, \"label\": \"NO MASK\", \"img\": \"avatar_569.png\"}, {\"top\": 114, \"right\": 1555, \"bottom\": 170, \"left\": 1508, \"confidence\": 0.896514356136322, \"label\": \"NO MASK\", \"img\": \"avatar_570.png\"}, {\"top\": 386, \"right\": 1922, \"bottom\": 603, \"left\": 1768, \"confidence\": 0.9101201891899109, \"label\": \"MASK\", \"img\": \"avatar_571.png\"}, {\"top\": 367, \"right\": 484, \"bottom\": 447, \"left\": 412, \"confidence\": 0.9558905959129333, \"label\": \"MASK\", \"img\": \"avatar_572.png\"}, {\"top\": 105, \"right\": 1117, \"bottom\": 159, \"left\": 1070, \"confidence\": 0.8240405321121216, \"label\": \"NO MASK\", \"img\": \"avatar_573.png\"}, {\"top\": 346, \"right\": 1488, \"bottom\": 407, \"left\": 1437, \"confidence\": 0.9612391591072083, \"label\": \"NO MASK\", \"img\": \"avatar_574.png\"}, {\"top\": 179, \"right\": 1321, \"bottom\": 240, \"left\": 1271, \"confidence\": 0.8386380672454834, \"label\": \"NO MASK\", \"img\": \"avatar_575.png\"}, {\"top\": 184, \"right\": 1054, \"bottom\": 244, \"left\": 1005, \"confidence\": 0.736542820930481, \"label\": \"NO MASK\", \"img\": \"avatar_576.png\"}]}\r\n{\"frame\": 414, \"data\": [{\"top\": 398, \"right\": 271, \"bottom\": 519, \"left\": 163, \"confidence\": 0.9541036486625671, \"label\": \"NO MASK\", \"img\": \"avatar_577.png\"}, {\"top\": 109, \"right\": 1624, \"bottom\": 167, \"left\": 1576, \"confidence\": 0.8695154190063477, \"label\": \"NO MASK\", \"img\": \"avatar_578.png\"}, {\"top\": 367, \"right\": 547, \"bottom\": 447, \"left\": 476, \"confidence\": 0.9316536784172058, \"label\": \"MASK\", \"img\": \"avatar_579.png\"}, {\"top\": 101, \"right\": 1178, \"bottom\": 158, \"left\": 1130, \"confidence\": 0.770634651184082, \"label\": \"NO MASK\", \"img\": \"avatar_580.png\"}, {\"top\": 346, \"right\": 1554, \"bottom\": 409, \"left\": 1501, \"confidence\": 0.9815444946289062, \"label\": \"NO MASK\", \"img\": \"avatar_581.png\"}, {\"top\": 180, \"right\": 1383, \"bottom\": 243, \"left\": 1333, \"confidence\": 0.9058277606964111, \"label\": \"NO MASK\", \"img\": \"avatar_582.png\"}, {\"top\": 183, \"right\": 1111, \"bottom\": 240, \"left\": 1062, \"confidence\": 0.6818397045135498, \"label\": \"NO MASK\", \"img\": \"avatar_583.png\"}]}\r\n{\"frame\": 415, \"data\": [{\"top\": 398, \"right\": 271, \"bottom\": 519, \"left\": 163, \"confidence\": 0.9552915692329407, \"label\": \"NO MASK\", \"img\": \"avatar_584.png\"}, {\"top\": 109, \"right\": 1624, \"bottom\": 167, \"left\": 1576, \"confidence\": 0.8740372061729431, \"label\": \"NO MASK\", \"img\": \"avatar_585.png\"}, {\"top\": 367, \"right\": 547, \"bottom\": 447, \"left\": 476, \"confidence\": 0.9336560964584351, \"label\": \"MASK\", \"img\": \"avatar_586.png\"}, {\"top\": 101, \"right\": 1178, \"bottom\": 158, \"left\": 1130, \"confidence\": 0.8028358817100525, \"label\": \"NO MASK\", \"img\": \"avatar_587.png\"}, {\"top\": 180, \"right\": 1383, \"bottom\": 242, \"left\": 1333, \"confidence\": 0.8902595639228821, \"label\": \"NO MASK\", \"img\": \"avatar_588.png\"}, {\"top\": 346, \"right\": 1555, \"bottom\": 410, \"left\": 1502, \"confidence\": 0.9773215651512146, \"label\": \"NO MASK\", \"img\": \"avatar_589.png\"}, {\"top\": 183, \"right\": 1111, \"bottom\": 240, \"left\": 1062, \"confidence\": 0.6786014437675476, \"label\": \"NO MASK\", \"img\": \"avatar_590.png\"}]}\r\n{\"frame\": 416, \"data\": [{\"top\": 398, \"right\": 271, \"bottom\": 519, \"left\": 163, \"confidence\": 0.9518705606460571, \"label\": \"NO MASK\", \"img\": \"avatar_591.png\"}, {\"top\": 109, \"right\": 1624, \"bottom\": 167, \"left\": 1576, \"confidence\": 0.8740458488464355, \"label\": \"NO MASK\", \"img\": \"avatar_592.png\"}, {\"top\": 367, \"right\": 547, \"bottom\": 446, \"left\": 476, \"confidence\": 0.9397469758987427, \"label\": \"MASK\", \"img\": \"avatar_593.png\"}, {\"top\": 101, \"right\": 1178, \"bottom\": 158, \"left\": 1130, \"confidence\": 0.7960944175720215, \"label\": \"NO MASK\", \"img\": \"avatar_594.png\"}, {\"top\": 180, \"right\": 1383, \"bottom\": 242, \"left\": 1333, \"confidence\": 0.9017690420150757, \"label\": \"NO MASK\", \"img\": \"avatar_595.png\"}, {\"top\": 344, \"right\": 1554, \"bottom\": 407, \"left\": 1502, \"confidence\": 0.9774779081344604, \"label\": \"NO MASK\", \"img\": \"avatar_596.png\"}, {\"top\": 183, \"right\": 1111, \"bottom\": 240, \"left\": 1062, \"confidence\": 0.670223593711853, \"label\": \"NO MASK\", \"img\": \"avatar_597.png\"}]}\r\n{\"frame\": 417, \"data\": [{\"top\": 397, \"right\": 306, \"bottom\": 517, \"left\": 198, \"confidence\": 0.9453441500663757, \"label\": \"NO MASK\", \"img\": \"avatar_598.png\"}, {\"top\": 105, \"right\": 1661, \"bottom\": 165, \"left\": 1612, \"confidence\": 0.9190042018890381, \"label\": \"NO MASK\", \"img\": \"avatar_599.png\"}, {\"top\": 367, \"right\": 580, \"bottom\": 446, \"left\": 510, \"confidence\": 0.9066035747528076, \"label\": \"MASK\", \"img\": \"avatar_600.png\"}, {\"top\": 99, \"right\": 1211, \"bottom\": 156, \"left\": 1163, \"confidence\": 0.7995537519454956, \"label\": \"NO MASK\", \"img\": \"avatar_601.png\"}, {\"top\": 343, \"right\": 1594, \"bottom\": 407, \"left\": 1539, \"confidence\": 0.9669426083564758, \"label\": \"NO MASK\", \"img\": \"avatar_602.png\"}, {\"top\": 181, \"right\": 1143, \"bottom\": 239, \"left\": 1094, \"confidence\": 0.5857702493667603, \"label\": \"NO MASK\", \"img\": \"avatar_603.png\"}, {\"top\": 179, \"right\": 1417, \"bottom\": 245, \"left\": 1364, \"confidence\": 0.8147519826889038, \"label\": \"NO MASK\", \"img\": \"avatar_604.png\"}]}\r\n{\"frame\": 418, \"data\": [{\"top\": 397, \"right\": 306, \"bottom\": 517, \"left\": 198, \"confidence\": 0.9509217143058777, \"label\": \"NO MASK\", \"img\": \"avatar_605.png\"}, {\"top\": 106, \"right\": 1661, \"bottom\": 165, \"left\": 1612, \"confidence\": 0.9222612380981445, \"label\": \"NO MASK\", \"img\": \"avatar_606.png\"}, {\"top\": 367, \"right\": 580, \"bottom\": 445, \"left\": 510, \"confidence\": 0.8813679218292236, \"label\": \"MASK\", \"img\": \"avatar_607.png\"}, {\"top\": 100, \"right\": 1211, \"bottom\": 156, \"left\": 1163, \"confidence\": 0.8093860149383545, \"label\": \"NO MASK\", \"img\": \"avatar_608.png\"}, {\"top\": 343, \"right\": 1594, \"bottom\": 407, \"left\": 1539, \"confidence\": 0.971861720085144, \"label\": \"NO MASK\", \"img\": \"avatar_609.png\"}, {\"top\": 181, \"right\": 1143, \"bottom\": 239, \"left\": 1094, \"confidence\": 0.639371931552887, \"label\": \"NO MASK\", \"img\": \"avatar_610.png\"}, {\"top\": 179, \"right\": 1417, \"bottom\": 245, \"left\": 1364, \"confidence\": 0.843882143497467, \"label\": \"NO MASK\", \"img\": \"avatar_611.png\"}]}\r\n{\"frame\": 419, \"data\": [{\"top\": 397, \"right\": 306, \"bottom\": 517, \"left\": 198, \"confidence\": 0.9466426968574524, \"label\": \"NO MASK\", \"img\": \"avatar_612.png\"}, {\"top\": 106, \"right\": 1661, \"bottom\": 165, \"left\": 1612, \"confidence\": 0.9166294932365417, \"label\": \"NO MASK\", \"img\": \"avatar_613.png\"}, {\"top\": 367, \"right\": 580, \"bottom\": 445, \"left\": 510, \"confidence\": 0.8858280181884766, \"label\": \"MASK\", \"img\": \"avatar_614.png\"}, {\"top\": 100, \"right\": 1211, \"bottom\": 156, \"left\": 1163, \"confidence\": 0.8112302422523499, \"label\": \"NO MASK\", \"img\": \"avatar_615.png\"}, {\"top\": 343, \"right\": 1594, \"bottom\": 407, \"left\": 1539, \"confidence\": 0.9702665209770203, \"label\": \"NO MASK\", \"img\": \"avatar_616.png\"}, {\"top\": 181, \"right\": 1143, \"bottom\": 239, \"left\": 1094, \"confidence\": 0.656441330909729, \"label\": \"NO MASK\", \"img\": \"avatar_617.png\"}, {\"top\": 179, \"right\": 1417, \"bottom\": 246, \"left\": 1364, \"confidence\": 0.7994418144226074, \"label\": \"NO MASK\", \"img\": \"avatar_618.png\"}]}\r\n{\"frame\": 420, \"data\": [{\"top\": 395, \"right\": 359, \"bottom\": 511, \"left\": 254, \"confidence\": 0.9686597585678101, \"label\": \"NO MASK\", \"img\": \"avatar_619.png\"}, {\"top\": 99, \"right\": 1724, \"bottom\": 156, \"left\": 1675, \"confidence\": 0.9492073655128479, \"label\": \"NO MASK\", \"img\": \"avatar_620.png\"}, {\"top\": 94, \"right\": 1263, \"bottom\": 149, \"left\": 1216, \"confidence\": 0.836658239364624, \"label\": \"NO MASK\", \"img\": \"avatar_621.png\"}, {\"top\": 363, \"right\": 633, \"bottom\": 446, \"left\": 563, \"confidence\": 0.9845432639122009, \"label\": \"MASK\", \"img\": \"avatar_622.png\"}, {\"top\": 339, \"right\": 1657, \"bottom\": 409, \"left\": 1599, \"confidence\": 0.9905096292495728, \"label\": \"NO MASK\", \"img\": \"avatar_623.png\"}, {\"top\": 178, \"right\": 1195, \"bottom\": 237, \"left\": 1144, \"confidence\": 0.5535334944725037, \"label\": \"NO MASK\", \"img\": \"avatar_624.png\"}, {\"top\": 171, \"right\": 1474, \"bottom\": 234, \"left\": 1424, \"confidence\": 0.850014328956604, \"label\": \"NO MASK\", \"img\": \"avatar_625.png\"}]}\r\n{\"frame\": 421, \"data\": [{\"top\": 395, \"right\": 359, \"bottom\": 511, \"left\": 254, \"confidence\": 0.9714942574501038, \"label\": \"NO MASK\", \"img\": \"avatar_626.png\"}, {\"top\": 98, \"right\": 1724, \"bottom\": 156, \"left\": 1675, \"confidence\": 0.9575749039649963, \"label\": \"NO MASK\", \"img\": \"avatar_627.png\"}, {\"top\": 95, \"right\": 1263, \"bottom\": 149, \"left\": 1216, \"confidence\": 0.8395588994026184, \"label\": \"NO MASK\", \"img\": \"avatar_628.png\"}, {\"top\": 363, \"right\": 633, \"bottom\": 445, \"left\": 563, \"confidence\": 0.9813909530639648, \"label\": \"MASK\", \"img\": \"avatar_629.png\"}, {\"top\": 339, \"right\": 1657, \"bottom\": 408, \"left\": 1598, \"confidence\": 0.9928164482116699, \"label\": \"NO MASK\", \"img\": \"avatar_630.png\"}, {\"top\": 178, \"right\": 1195, \"bottom\": 237, \"left\": 1144, \"confidence\": 0.6424935460090637, \"label\": \"NO MASK\", \"img\": \"avatar_631.png\"}, {\"top\": 172, \"right\": 1474, \"bottom\": 234, \"left\": 1424, \"confidence\": 0.8544991612434387, \"label\": \"NO MASK\", \"img\": \"avatar_632.png\"}]}\r\n{\"frame\": 422, \"data\": [{\"top\": 395, \"right\": 359, \"bottom\": 511, \"left\": 254, \"confidence\": 0.9681545495986938, \"label\": \"NO MASK\", \"img\": \"avatar_633.png\"}, {\"top\": 98, \"right\": 1724, \"bottom\": 156, \"left\": 1675, \"confidence\": 0.9479919075965881, \"label\": \"NO MASK\", \"img\": \"avatar_634.png\"}, {\"top\": 95, \"right\": 1263, \"bottom\": 149, \"left\": 1216, \"confidence\": 0.8108024001121521, \"label\": \"NO MASK\", \"img\": \"avatar_635.png\"}, {\"top\": 363, \"right\": 633, \"bottom\": 445, \"left\": 563, \"confidence\": 0.9857777953147888, \"label\": \"MASK\", \"img\": \"avatar_636.png\"}, {\"top\": 339, \"right\": 1657, \"bottom\": 408, \"left\": 1599, \"confidence\": 0.9915709495544434, \"label\": \"NO MASK\", \"img\": \"avatar_637.png\"}, {\"top\": 178, \"right\": 1195, \"bottom\": 237, \"left\": 1144, \"confidence\": 0.6016011238098145, \"label\": \"NO MASK\", \"img\": \"avatar_638.png\"}, {\"top\": 172, \"right\": 1474, \"bottom\": 233, \"left\": 1424, \"confidence\": 0.8488805890083313, \"label\": \"NO MASK\", \"img\": \"avatar_639.png\"}]}\r\n{\"frame\": 423, \"data\": [{\"top\": 394, \"right\": 409, \"bottom\": 509, \"left\": 306, \"confidence\": 0.9471419453620911, \"label\": \"NO MASK\", \"img\": \"avatar_640.png\"}, {\"top\": 91, \"right\": 1313, \"bottom\": 148, \"left\": 1267, \"confidence\": 0.8525257706642151, \"label\": \"NO MASK\", \"img\": \"avatar_641.png\"}, {\"top\": 93, \"right\": 1787, \"bottom\": 152, \"left\": 1737, \"confidence\": 0.7992926836013794, \"label\": \"NO MASK\", \"img\": \"avatar_642.png\"}, {\"top\": 337, \"right\": 1709, \"bottom\": 405, \"left\": 1653, \"confidence\": 0.9920211434364319, \"label\": \"NO MASK\", \"img\": \"avatar_643.png\"}, {\"top\": 363, \"right\": 683, \"bottom\": 445, \"left\": 613, \"confidence\": 0.9660452008247375, \"label\": \"MASK\", \"img\": \"avatar_644.png\"}, {\"top\": 176, \"right\": 1244, \"bottom\": 236, \"left\": 1192, \"confidence\": 0.5782293677330017, \"label\": \"NO MASK\", \"img\": \"avatar_645.png\"}, {\"top\": 165, \"right\": 1529, \"bottom\": 230, \"left\": 1478, \"confidence\": 0.8973181247711182, \"label\": \"NO MASK\", \"img\": \"avatar_646.png\"}]}\r\n{\"frame\": 424, \"data\": [{\"top\": 394, \"right\": 409, \"bottom\": 509, \"left\": 306, \"confidence\": 0.9522380828857422, \"label\": \"NO MASK\", \"img\": \"avatar_647.png\"}, {\"top\": 91, \"right\": 1313, \"bottom\": 148, \"left\": 1267, \"confidence\": 0.859657347202301, \"label\": \"NO MASK\", \"img\": \"avatar_648.png\"}, {\"top\": 94, \"right\": 1787, \"bottom\": 152, \"left\": 1737, \"confidence\": 0.8289201259613037, \"label\": \"NO MASK\", \"img\": \"avatar_649.png\"}, {\"top\": 338, \"right\": 1709, \"bottom\": 405, \"left\": 1653, \"confidence\": 0.9902387857437134, \"label\": \"NO MASK\", \"img\": \"avatar_650.png\"}, {\"top\": 363, \"right\": 683, \"bottom\": 445, \"left\": 613, \"confidence\": 0.9790681600570679, \"label\": \"MASK\", \"img\": \"avatar_651.png\"}, {\"top\": 176, \"right\": 1244, \"bottom\": 236, \"left\": 1192, \"confidence\": 0.522554337978363, \"label\": \"NO MASK\", \"img\": \"avatar_652.png\"}, {\"top\": 165, \"right\": 1529, \"bottom\": 228, \"left\": 1478, \"confidence\": 0.9012906551361084, \"label\": \"NO MASK\", \"img\": \"avatar_653.png\"}]}\r\n{\"frame\": 425, \"data\": [{\"top\": 394, \"right\": 409, \"bottom\": 509, \"left\": 306, \"confidence\": 0.9492194056510925, \"label\": \"NO MASK\", \"img\": \"avatar_654.png\"}, {\"top\": 91, \"right\": 1313, \"bottom\": 148, \"left\": 1267, \"confidence\": 0.8589548468589783, \"label\": \"NO MASK\", \"img\": \"avatar_655.png\"}, {\"top\": 94, \"right\": 1787, \"bottom\": 152, \"left\": 1737, \"confidence\": 0.8625308275222778, \"label\": \"NO MASK\", \"img\": \"avatar_656.png\"}, {\"top\": 338, \"right\": 1711, \"bottom\": 406, \"left\": 1654, \"confidence\": 0.9915155172348022, \"label\": \"NO MASK\", \"img\": \"avatar_657.png\"}, {\"top\": 363, \"right\": 683, \"bottom\": 445, \"left\": 613, \"confidence\": 0.9768235683441162, \"label\": \"MASK\", \"img\": \"avatar_658.png\"}, {\"top\": 176, \"right\": 1244, \"bottom\": 236, \"left\": 1192, \"confidence\": 0.5670894980430603, \"label\": \"NO MASK\", \"img\": \"avatar_659.png\"}, {\"top\": 165, \"right\": 1529, \"bottom\": 228, \"left\": 1478, \"confidence\": 0.9007678031921387, \"label\": \"NO MASK\", \"img\": \"avatar_660.png\"}]}\r\n{\"frame\": 426, \"data\": [{\"top\": 393, \"right\": 461, \"bottom\": 508, \"left\": 357, \"confidence\": 0.9323675632476807, \"label\": \"NO MASK\", \"img\": \"avatar_661.png\"}, {\"top\": 89, \"right\": 1364, \"bottom\": 148, \"left\": 1315, \"confidence\": 0.8303148746490479, \"label\": \"NO MASK\", \"img\": \"avatar_662.png\"}, {\"top\": 87, \"right\": 1852, \"bottom\": 149, \"left\": 1797, \"confidence\": 0.8699567317962646, \"label\": \"NO MASK\", \"img\": \"avatar_663.png\"}, {\"top\": 364, \"right\": 731, \"bottom\": 444, \"left\": 661, \"confidence\": 0.9675997495651245, \"label\": \"MASK\", \"img\": \"avatar_664.png\"}, {\"top\": 338, \"right\": 1782, \"bottom\": 411, \"left\": 1720, \"confidence\": 0.9443601965904236, \"label\": \"NO MASK\", \"img\": \"avatar_665.png\"}, {\"top\": 164, \"right\": 1582, \"bottom\": 233, \"left\": 1529, \"confidence\": 0.7926696538925171, \"label\": \"NO MASK\", \"img\": \"avatar_666.png\"}, {\"top\": 174, \"right\": 1293, \"bottom\": 231, \"left\": 1243, \"confidence\": 0.6264034509658813, \"label\": \"MASK\", \"img\": \"avatar_667.png\"}]}\r\n{\"frame\": 427, \"data\": [{\"top\": 393, \"right\": 461, \"bottom\": 508, \"left\": 357, \"confidence\": 0.9284216165542603, \"label\": \"NO MASK\", \"img\": \"avatar_668.png\"}, {\"top\": 90, \"right\": 1364, \"bottom\": 148, \"left\": 1315, \"confidence\": 0.8417739272117615, \"label\": \"NO MASK\", \"img\": \"avatar_669.png\"}, {\"top\": 88, \"right\": 1852, \"bottom\": 149, \"left\": 1797, \"confidence\": 0.916466474533081, \"label\": \"NO MASK\", \"img\": \"avatar_670.png\"}, {\"top\": 364, \"right\": 731, \"bottom\": 444, \"left\": 661, \"confidence\": 0.9604140520095825, \"label\": \"MASK\", \"img\": \"avatar_671.png\"}, {\"top\": 338, \"right\": 1781, \"bottom\": 411, \"left\": 1719, \"confidence\": 0.9428866505622864, \"label\": \"NO MASK\", \"img\": \"avatar_672.png\"}, {\"top\": 164, \"right\": 1582, \"bottom\": 233, \"left\": 1529, \"confidence\": 0.7796362638473511, \"label\": \"NO MASK\", \"img\": \"avatar_673.png\"}, {\"top\": 174, \"right\": 1293, \"bottom\": 231, \"left\": 1243, \"confidence\": 0.5135030746459961, \"label\": \"NO MASK\", \"img\": \"avatar_674.png\"}]}\r\n{\"frame\": 428, \"data\": [{\"top\": 393, \"right\": 461, \"bottom\": 508, \"left\": 357, \"confidence\": 0.9453369379043579, \"label\": \"NO MASK\", \"img\": \"avatar_675.png\"}, {\"top\": 89, \"right\": 1364, \"bottom\": 148, \"left\": 1315, \"confidence\": 0.7992644309997559, \"label\": \"NO MASK\", \"img\": \"avatar_676.png\"}, {\"top\": 88, \"right\": 1852, \"bottom\": 149, \"left\": 1797, \"confidence\": 0.9219338893890381, \"label\": \"NO MASK\", \"img\": \"avatar_677.png\"}, {\"top\": 364, \"right\": 731, \"bottom\": 444, \"left\": 661, \"confidence\": 0.9598100185394287, \"label\": \"MASK\", \"img\": \"avatar_678.png\"}, {\"top\": 338, \"right\": 1781, \"bottom\": 411, \"left\": 1720, \"confidence\": 0.9358147382736206, \"label\": \"NO MASK\", \"img\": \"avatar_679.png\"}, {\"top\": 164, \"right\": 1582, \"bottom\": 233, \"left\": 1529, \"confidence\": 0.755859375, \"label\": \"NO MASK\", \"img\": \"avatar_680.png\"}, {\"top\": 174, \"right\": 1293, \"bottom\": 231, \"left\": 1242, \"confidence\": 0.5217547416687012, \"label\": \"MASK\", \"img\": \"avatar_681.png\"}]}\r\n{\"frame\": 429, \"data\": [{\"top\": 392, \"right\": 479, \"bottom\": 506, \"left\": 375, \"confidence\": 0.9281215071678162, \"label\": \"NO MASK\", \"img\": \"avatar_682.png\"}, {\"top\": 363, \"right\": 747, \"bottom\": 445, \"left\": 678, \"confidence\": 0.9607238173484802, \"label\": \"MASK\", \"img\": \"avatar_683.png\"}, {\"top\": 337, \"right\": 1795, \"bottom\": 407, \"left\": 1735, \"confidence\": 0.9816533923149109, \"label\": \"NO MASK\", \"img\": \"avatar_684.png\"}, {\"top\": 89, \"right\": 1869, \"bottom\": 148, \"left\": 1816, \"confidence\": 0.9592791199684143, \"label\": \"NO MASK\", \"img\": \"avatar_685.png\"}, {\"top\": 89, \"right\": 1381, \"bottom\": 149, \"left\": 1330, \"confidence\": 0.8109582662582397, \"label\": \"NO MASK\", \"img\": \"avatar_686.png\"}, {\"top\": 172, \"right\": 1310, \"bottom\": 230, \"left\": 1259, \"confidence\": 0.7809818387031555, \"label\": \"MASK\", \"img\": \"avatar_687.png\"}, {\"top\": 162, \"right\": 1601, \"bottom\": 228, \"left\": 1550, \"confidence\": 0.7819467782974243, \"label\": \"NO MASK\", \"img\": \"avatar_688.png\"}]}\r\n{\"frame\": 430, \"data\": [{\"top\": 392, \"right\": 479, \"bottom\": 506, \"left\": 375, \"confidence\": 0.9134548902511597, \"label\": \"NO MASK\", \"img\": \"avatar_689.png\"}, {\"top\": 363, \"right\": 747, \"bottom\": 445, \"left\": 678, \"confidence\": 0.9603110551834106, \"label\": \"MASK\", \"img\": \"avatar_690.png\"}, {\"top\": 337, \"right\": 1795, \"bottom\": 407, \"left\": 1735, \"confidence\": 0.9876533150672913, \"label\": \"NO MASK\", \"img\": \"avatar_691.png\"}, {\"top\": 88, \"right\": 1381, \"bottom\": 148, \"left\": 1330, \"confidence\": 0.7428181767463684, \"label\": \"NO MASK\", \"img\": \"avatar_692.png\"}, {\"top\": 89, \"right\": 1869, \"bottom\": 149, \"left\": 1816, \"confidence\": 0.9759339690208435, \"label\": \"NO MASK\", \"img\": \"avatar_693.png\"}, {\"top\": 172, \"right\": 1310, \"bottom\": 230, \"left\": 1260, \"confidence\": 0.6687736511230469, \"label\": \"MASK\", \"img\": \"avatar_694.png\"}, {\"top\": 163, \"right\": 1601, \"bottom\": 228, \"left\": 1549, \"confidence\": 0.7657558917999268, \"label\": \"NO MASK\", \"img\": \"avatar_695.png\"}]}\r\n{\"frame\": 431, \"data\": [{\"top\": 392, \"right\": 479, \"bottom\": 506, \"left\": 375, \"confidence\": 0.9108703136444092, \"label\": \"NO MASK\", \"img\": \"avatar_696.png\"}, {\"top\": 363, \"right\": 747, \"bottom\": 445, \"left\": 678, \"confidence\": 0.9574418663978577, \"label\": \"MASK\", \"img\": \"avatar_697.png\"}, {\"top\": 337, \"right\": 1795, \"bottom\": 407, \"left\": 1735, \"confidence\": 0.9824281334877014, \"label\": \"NO MASK\", \"img\": \"avatar_698.png\"}, {\"top\": 88, \"right\": 1381, \"bottom\": 149, \"left\": 1330, \"confidence\": 0.7586736083030701, \"label\": \"NO MASK\", \"img\": \"avatar_699.png\"}, {\"top\": 89, \"right\": 1869, \"bottom\": 148, \"left\": 1816, \"confidence\": 0.9796481728553772, \"label\": \"NO MASK\", \"img\": \"avatar_700.png\"}, {\"top\": 172, \"right\": 1310, \"bottom\": 230, \"left\": 1260, \"confidence\": 0.6333188414573669, \"label\": \"MASK\", \"img\": \"avatar_701.png\"}, {\"top\": 163, \"right\": 1601, \"bottom\": 228, \"left\": 1549, \"confidence\": 0.7607681155204773, \"label\": \"NO MASK\", \"img\": \"avatar_702.png\"}]}\r\n{\"frame\": 432, \"data\": [{\"top\": 389, \"right\": 511, \"bottom\": 504, \"left\": 407, \"confidence\": 0.9064080715179443, \"label\": \"NO MASK\", \"img\": \"avatar_703.png\"}, {\"top\": 81, \"right\": 1918, \"bottom\": 147, \"left\": 1871, \"confidence\": 0.9819946885108948, \"label\": \"NO MASK\", \"img\": \"avatar_704.png\"}, {\"top\": 334, \"right\": 1841, \"bottom\": 408, \"left\": 1774, \"confidence\": 0.975739598274231, \"label\": \"NO MASK\", \"img\": \"avatar_705.png\"}, {\"top\": 360, \"right\": 779, \"bottom\": 440, \"left\": 709, \"confidence\": 0.9678950309753418, \"label\": \"MASK\", \"img\": \"avatar_706.png\"}, {\"top\": 85, \"right\": 1415, \"bottom\": 145, \"left\": 1366, \"confidence\": 0.7579574584960938, \"label\": \"NO MASK\", \"img\": \"avatar_707.png\"}, {\"top\": 161, \"right\": 1641, \"bottom\": 224, \"left\": 1588, \"confidence\": 0.6169140934944153, \"label\": \"NO MASK\", \"img\": \"avatar_708.png\"}, {\"top\": 168, \"right\": 1346, \"bottom\": 230, \"left\": 1294, \"confidence\": 0.5199798941612244, \"label\": \"MASK\", \"img\": \"avatar_709.png\"}]}\r\n{\"frame\": 433, \"data\": [{\"top\": 390, \"right\": 511, \"bottom\": 504, \"left\": 407, \"confidence\": 0.9031928777694702, \"label\": \"NO MASK\", \"img\": \"avatar_710.png\"}, {\"top\": 81, \"right\": 1918, \"bottom\": 146, \"left\": 1871, \"confidence\": 0.9717060327529907, \"label\": \"NO MASK\", \"img\": \"avatar_711.png\"}, {\"top\": 334, \"right\": 1841, \"bottom\": 409, \"left\": 1774, \"confidence\": 0.9876353144645691, \"label\": \"NO MASK\", \"img\": \"avatar_712.png\"}, {\"top\": 360, \"right\": 779, \"bottom\": 440, \"left\": 709, \"confidence\": 0.9662933349609375, \"label\": \"MASK\", \"img\": \"avatar_713.png\"}, {\"top\": 85, \"right\": 1415, \"bottom\": 145, \"left\": 1366, \"confidence\": 0.8160114288330078, \"label\": \"NO MASK\", \"img\": \"avatar_714.png\"}, {\"top\": 161, \"right\": 1641, \"bottom\": 224, \"left\": 1588, \"confidence\": 0.6112593412399292, \"label\": \"NO MASK\", \"img\": \"avatar_715.png\"}, {\"top\": 168, \"right\": 1346, \"bottom\": 230, \"left\": 1294, \"confidence\": 0.5425035953521729, \"label\": \"NO MASK\", \"img\": \"avatar_716.png\"}]}\r\n{\"frame\": 434, \"data\": [{\"top\": 390, \"right\": 511, \"bottom\": 504, \"left\": 407, \"confidence\": 0.9110963344573975, \"label\": \"NO MASK\", \"img\": \"avatar_717.png\"}, {\"top\": 82, \"right\": 1918, \"bottom\": 146, \"left\": 1871, \"confidence\": 0.9690842032432556, \"label\": \"NO MASK\", \"img\": \"avatar_718.png\"}, {\"top\": 335, \"right\": 1841, \"bottom\": 410, \"left\": 1774, \"confidence\": 0.9804069399833679, \"label\": \"NO MASK\", \"img\": \"avatar_719.png\"}, {\"top\": 360, \"right\": 779, \"bottom\": 440, \"left\": 709, \"confidence\": 0.9664139151573181, \"label\": \"MASK\", \"img\": \"avatar_720.png\"}, {\"top\": 85, \"right\": 1415, \"bottom\": 145, \"left\": 1366, \"confidence\": 0.8453410267829895, \"label\": \"NO MASK\", \"img\": \"avatar_721.png\"}, {\"top\": 161, \"right\": 1641, \"bottom\": 224, \"left\": 1588, \"confidence\": 0.5629878044128418, \"label\": \"NO MASK\", \"img\": \"avatar_722.png\"}, {\"top\": 169, \"right\": 1346, \"bottom\": 230, \"left\": 1294, \"confidence\": 0.5840457081794739, \"label\": \"NO MASK\", \"img\": \"avatar_723.png\"}]}\r\nTraceback (most recent call last):\r\n  File \"C:/Users/xiaomi/PycharmProjects/untitled8/FaceMaskDetection-master/mask_detection.py\", line 71, in <module>\r\n    cv2.imwrite(path, image, [int(cv2.IMWRITE_PNG_COMPRESSION), 9])\r\ncv2.error: OpenCV(4.2.0) C:\\projects\\opencv-python\\opencv\\modules\\imgcodecs\\src\\loadsave.cpp:715: error: (-215:Assertion failed) !_img.empty() in function 'cv::imwrite'\r\n\r\nOpenCV: FFMPEG: tag 0x30397076/'vp90' is not supported with codec id 167 and format 'mp4 / MP4 (MPEG-4 Part 14)'\r\nOpenCV: FFMPEG: fallback to use tag 0x39307076/'vp09'\r\n\r\n视频路径\r\n![image](https://user-images.githubusercontent.com/61311451/75668901-002ce680-5cb5-11ea-8278-2a61f05c9ae0.png)\r\n\r\n切换到打开摄像头检测则不会报错\r\n",
        "state": "closed",
        "user": "xd905",
        "closed_by": "xd905",
        "created_at": "2020-03-02T10:39:56+00:00",
        "updated_at": "2020-03-05T02:15:17+00:00",
        "closed_at": "2020-03-05T02:15:17+00:00",
        "comments_count": [
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 410,
        "title": "window10 pycharm里运行mask_detection.py后rusults里的视频不能播放",
        "body": "window10 pycharm里运行mask_detection.py通过摄像头检测有无戴口罩后results里的视频不能播放，但是通过检测视频格式为.mp4的视频保存下来的results视频就可以正常播放\r\n，都是使用potplayer播放的。但是我视频检测几帧就无响应报错了。",
        "state": "closed",
        "user": "xd905",
        "closed_by": "haoyuying",
        "created_at": "2020-03-02T10:46:04+00:00",
        "updated_at": "2020-10-22T10:50:14+00:00",
        "closed_at": "2020-10-22T10:50:14+00:00",
        "comments_count": [
            "Channingss",
            "xd905",
            "Channingss",
            "xd905",
            "xd905",
            "Channingss",
            "xd905",
            "xd905",
            "yingxingdechibang",
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 412,
        "title": "预测时出现 RuntimeError: mklml.dll not found.",
        "body": "1）PaddleHub1.5.3，PaddlePaddle1.7.0\r\n2）系统环境：win10 python3.6\r\n预测时出现\r\nRuntimeError: mklml.dll not found.\r\nW0302 22:05:15.831698 13188 operator.cc:181] conv2d raises an exception class std::runtime_error, mklml.dll not found.\r\n不知是否与tensorflow有关，不过我试过不同版本，均无法使用",
        "state": "closed",
        "user": "MrRGRG",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-02T14:16:49+00:00",
        "updated_at": "2022-10-16T03:44:02+00:00",
        "closed_at": "2020-04-20T12:04:42+00:00",
        "comments_count": [
            "MrRGRG",
            "Steffy-zxf",
            "jiluojiluo"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 415,
        "title": "cls_tasks.predcit数据格式？",
        "body": "请问我有几千行文本，储存在Excel里面，pd.read_csv读取之后，传到这个方程里面去报错The length of input_text is out of handling, which must be 1 or 2!\r\n我后来看了一下demo，发现里面data是一个嵌套list。请问一定要转换成嵌套list吗？\r\n",
        "state": "closed",
        "user": "Yufei-Z",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-03T17:13:38+00:00",
        "updated_at": "2020-06-01T11:57:51+00:00",
        "closed_at": "2020-06-01T11:57:51+00:00",
        "comments_count": [
            "kinghuin",
            "Yufei-Z",
            "kinghuin",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 414,
        "title": "请问文本分类有multi class classificaiton吗？",
        "body": "现在貌似只能分成正面、负面，但很多时候至少还需要一个中性吧？",
        "state": "closed",
        "user": "Yufei-Z",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-03T16:07:16+00:00",
        "updated_at": "2020-06-01T11:58:27+00:00",
        "closed_at": "2020-06-01T11:58:27+00:00",
        "comments_count": [
            "kinghuin",
            "Yufei-Z",
            "kinghuin",
            "Yufei-Z",
            "Yufei-Z",
            "Yufei-Z",
            "kinghuin",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 416,
        "title": "识别多帧之后报错 HUB_pyramidbox_lite_mobile",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如\r\npaddlehub            1.5.2     \r\npaddlepaddle         1.6.3     \r\n2）系统环境：centos7请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：\r\n如为报错，请给出复现环境、复现步骤\r\n复现环境，python调用摄像头不断读帧，将图像进行图像检测face_detection\r\ninput_dict={\"data\":[frame]}\r\n错误追踪：\r\nvar @HUB_pyramidbox_lite_mobile@image not in this blockNone\r\nTraceback (most recent call last):\r\n  File \"/root/oeworkspace/kouzhao/kzvideo5.py\", line 155, in startpushstream\r\n    results = module.face_detection(data=input_dict)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 537, in __call__\r\n    reader, feeder = _get_reader_and_feeder(data_format, data, place)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 510, in _get_reader_and_feeder\r\n    feeder = fluid.DataFeeder(feed_list=feed_name_list, place=place)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddle/fluid/data_feeder.py\", line 262, in __init__\r\n    each_var = program.block(0).var(each_var)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2263, in var\r\n    raise ValueError(\"var %s not in this block\" % name)\r\nValueError: var @HUB_pyramidbox_lite_mobile_mask@image not in this block\r\n",
        "state": "closed",
        "user": "oeandn",
        "closed_by": "haoyuying",
        "created_at": "2020-03-05T03:02:04+00:00",
        "updated_at": "2020-11-13T10:19:21+00:00",
        "closed_at": "2020-10-27T01:56:35+00:00",
        "comments_count": [
            "nepeplwu",
            "taingload",
            "taingload",
            "nepeplwu",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 419,
        "title": "在finetune_and_eval结束后，如何获取验证集和测试集Top1等各项指标",
        "body": "【期望特性】 应用paddehub，在finetune_and_eval结束后，期望能通过task.property的方式获取验证集和测试集Top1，top5准确率，和F1值等各项指标。\r\n\r\n【场景】：场景1. 如写论文需要相关指标，场景2. 训练完后想知道在验证集上和测试集上的各项指标，用来比较各种方法和参数的优劣。目前的API缺点是只在屏幕输出训练集，验证集和测试集的acc，不显示其他指标。而且，如果本地计算机关机后重启，或者关闭浏览器后再次进入Aistudio，屏幕上的训练结果也不会再出现。完全搞不清训练进度。\r\n\r\n【目前情况】 目前仅可通过task.best_score可获取验证集最好准确率。功能非常有限。应用task._calculate_metrics(run_states)可获得acc和F1（不清楚是哪个数据集的指标），但无法分别获得各验证集和测试集的指标。\r\n\r\n【建议方案】增加task.val_output和task.test_outpu属性，通过这两个属性返回对应数据集合的TOP1,TOP5,F1等指标。\r\n\r\n",
        "state": "closed",
        "user": "mrhan36",
        "closed_by": "mrhan36",
        "created_at": "2020-03-05T15:20:49+00:00",
        "updated_at": "2020-03-22T10:44:01+00:00",
        "closed_at": "2020-03-22T10:44:01+00:00",
        "comments_count": [
            "kinghuin",
            "mrhan36",
            "mrhan36",
            "kinghuin",
            "mrhan36",
            "kinghuin",
            "mrhan36"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 420,
        "title": "关于finetune后输出结果的困惑",
        "body": "对以下代码存在疑问：\r\n在fintune and eval后，通过以下代码获取训练集，验证集和测试集的指标，但发现以下三段代码输出结果一样，请帮忙解答一下，谢谢！\r\n\r\n**第一段：**\r\nwith task.phase_guard(\"train\"):  #train:训练   val, test:评估  \r\n    print(task.best_score)\r\n    task.metrics_choices=[\"acc\",\"f1\",\"matthews\"]\r\n    eval_avg_score, eval_avg_loss, eval_run_speed = task._calculate_metrics(run_states)\r\n\r\n**第2段：**\r\nwith task.phase_guard(\"val\"):  #train:训练   val, test:评估  \r\n    print(task.best_score)\r\n    task.metrics_choices=[\"acc\",\"f1\",\"matthews\"]\r\n    eval_avg_score, eval_avg_loss, eval_run_speed = task._calculate_metrics(run_states)\r\n\r\n**第3段：**\r\nwith task.phase_guard(\"test\"):  #train:训练   val, test:评估  \r\n    print(task.best_score)\r\n    task.metrics_choices=[\"acc\",\"f1\",\"matthews\"]\r\n    eval_avg_score, eval_avg_loss, eval_run_speed = task._calculate_metrics(run_states)\r\n\r\n非常感谢！",
        "state": "closed",
        "user": "mrhan36",
        "closed_by": "mrhan36",
        "created_at": "2020-03-05T15:33:31+00:00",
        "updated_at": "2020-03-09T14:23:09+00:00",
        "closed_at": "2020-03-09T14:23:09+00:00",
        "comments_count": [
            "Steffy-zxf",
            "mrhan36"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 423,
        "title": "加载上一次的训练模型时出错",
        "body": "第一次训练时没有问题，第二次训练时用了一样的checkpoint_dir，希望继续上次的训练过程，但出现如下错误。希望告知如何处理。谢谢！\r\n\r\n![image](https://user-images.githubusercontent.com/13238342/76072029-34184c80-5fd2-11ea-86b2-708d27489c3b.png)\r\n\r\n以下是版本信息和config的代码。\r\n\r\nPaddle 版本\r\npaddlehub==1.5.3\r\npaddlepaddle-gpu==1.7.0.post107\r\ntb-paddle==0.4.0\r\n\r\n系统 Ubuntu, Python 3.6\r\nCUDA Version: 10.2\r\n\r\nconfig = hub.RunConfig(\r\n    use_cuda=True,\r\n    use_data_parallel=False,\r\n    use_pyreader=False,\r\n    enable_memory_optim=False,\r\n    checkpoint_dir='checkpoint', //与上次训练一样，想重新继续上次的训练过程\r\n    num_epoch=10,\r\n    batch_size=32,\r\n    log_interval=10,\r\n    eval_interval=100,\r\n    strategy=strategy)\r\n\r\n欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "MiniMinyi",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-06T09:45:39+00:00",
        "updated_at": "2020-04-20T12:09:50+00:00",
        "closed_at": "2020-04-20T12:09:50+00:00",
        "comments_count": [
            "Steffy-zxf",
            "MiniMinyi",
            "MiniMinyi",
            "Steffy-zxf",
            "MiniMinyi",
            "Steffy-zxf",
            "Steffy-zxf",
            "MillionaireChen",
            "MillionaireChen",
            "Steffy-zxf",
            "MillionaireChen",
            "Steffy-zxf"
        ],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 425,
        "title": "PaddleHub 口罩检测编译与运行出错。 Ubuntu18.04 C++CPU server预模型",
        "body": "- 版本、环境信息\r\n1）PaddleHub1.5和develop都试过；PaddlePaddle最新安装的，不知道版本。基本都是最新安装的，按照说明的版本，如opencv3.4.6\r\n2）系统环境：Ubuntu18.04\r\nbug可复现。\r\n(3)\r\nlinux_build.sh:\r\n![09428QKQM9M@PE$0%6)Z36H](https://user-images.githubusercontent.com/52989381/76135657-0da2f180-6064-11ea-966f-8cc5574503e9.png)\r\n(4)\r\nUbuntu18.04，编译错误：LoadModel 怎么不认SetModel，mask_detector.cc与paddle_inference_api.h没对上，修改两边使用后编译过。 \r\n![Y2{A)OBNPE(OC{%0{4XK{%X](https://user-images.githubusercontent.com/52989381/76135671-28756600-6064-11ea-8444-5c3ddfe3feda.png)\r\n\r\n改paddle_inference_api.h如下\r\n  // Set model with a directory.\r\n  void SetModel(const std::string& model_dir) { model_dir_ = model_dir; }\r\n  // Set model with two specific pathes for program and parameters.--比上我修改此处\r\n  void SetModel(const std::string& prog_file_path,\r\n                const std::string& params_file_path){\r\n                prog_file_ = prog_file_path ;\r\n                params_file_ = params_file_path ;\r\n        }\r\n或者改mask_detector.cc\r\n /*config.SetModel(model_dir + \"/__model__\", model_dir + \"/__params__\");//用这个改头文件试过，/编译能过，但均运行有错*/\r\n  config.SetModel(model_dir ); //改这样用过，也能过，但运行也有错\r\n------------------------------------------------------------------------------------------------------\r\n运行出错，（顺便一提，结果不是readme的main，是在build目录下mask_detector)\r\n![6B_IHYLG`UX~V2HRHX8(M2W](https://user-images.githubusercontent.com/52989381/76135709-899d3980-6064-11ea-98d1-75a0020b9369.png)\r\n\r\n连发现少几个库，只截了一个图，libiomp5.so，libmklml_intel.so，libmkldnn.so.0 拷进/usr/lib去掉了错误。\r\n![_$7PIRX`VBJ6H LBEH_KAFK](https://user-images.githubusercontent.com/52989381/76135579-134c0780-6063-11ea-9e33-547e790f6951.png)\r\n\r\n但是最后还是有错：\r\n![6%DT2 572@S5Z~@LW0CX~}H](https://user-images.githubusercontent.com/52989381/76135580-13e49e00-6063-11ea-9322-1e90f7fe2837.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "fanxinkeji",
        "closed_by": "fanxinkeji",
        "created_at": "2020-03-07T03:06:16+00:00",
        "updated_at": "2020-03-10T01:52:15+00:00",
        "closed_at": "2020-03-10T01:51:58+00:00",
        "comments_count": [
            "Channingss",
            "fanxinkeji",
            "Channingss",
            "fanxinkeji",
            "Channingss",
            "sjtubinlong",
            "fanxinkeji",
            "fanxinkeji"
        ],
        "labels": [
            "deployment"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 428,
        "title": "模型训练",
        "body": "能否在基础上训练模型？比如通过自己训练的模型改变词法分析的结果",
        "state": "closed",
        "user": "Liaid",
        "closed_by": "Liaid",
        "created_at": "2020-03-09T08:46:32+00:00",
        "updated_at": "2020-03-10T02:37:43+00:00",
        "closed_at": "2020-03-10T02:37:42+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf",
            "Liaid",
            "Steffy-zxf",
            "Liaid"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 429,
        "title": "口罩识别多线程运行报错",
        "body": "版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如\r\npaddlehub 1.5.2\r\npaddlepaddle 1.6.3\r\n2）系统环境：centos7请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n复现信息：\r\n如为报错，请给出复现环境、复现步骤\r\n复现环境，python调用摄像头不断读帧，将图像进行图像检测face_detection\r\ninput_dict={\"data\":[frame]}\r\n错误追踪：\r\nvar @HUB_pyramidbox_lite_mobile@image not in this blockNone\r\nTraceback (most recent call last):\r\nFile \"/root/oeworkspace/kouzhao/kzvideo5.py\", line 155, in startpushstream\r\nresults = module.face_detection(data=input_dict)\r\nFile \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 537, in call\r\nreader, feeder = _get_reader_and_feeder(data_format, data, place)\r\nFile \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 510, in _get_reader_and_feeder\r\nfeeder = fluid.DataFeeder(feed_list=feed_name_list, place=place)\r\nFile \"/usr/local/python3/lib/python3.7/site-packages/paddle/fluid/data_feeder.py\", line 262, in init\r\neach_var = program.block(0).var(each_var)\r\nFile \"/usr/local/python3/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2263, in var\r\nraise ValueError(\"var %s not in this block\" % name)\r\nValueError: var @HUB_pyramidbox_lite_mobile_mask@image not in this block",
        "state": "closed",
        "user": "taingload",
        "closed_by": "haoyuying",
        "created_at": "2020-03-09T08:54:02+00:00",
        "updated_at": "2020-10-22T10:51:32+00:00",
        "closed_at": "2020-10-22T10:51:32+00:00",
        "comments_count": [
            "nepeplwu",
            "taingload",
            "nepeplwu",
            "taingload",
            "taingload",
            "nepeplwu",
            "MimeZoe0628",
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 431,
        "title": "关于图像分类里的预测presict.py",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n\r\n我在运行最后predict.py后，只对测试图片进行了分类，可是我想要得到每一个图片对应的那类的概率是多少，请问我需要在代码中进行怎样的修改呢，希望说的具体一些，谢谢",
        "state": "closed",
        "user": "chaogehah",
        "closed_by": "haoyuying",
        "created_at": "2020-03-09T13:02:18+00:00",
        "updated_at": "2020-10-22T10:51:50+00:00",
        "closed_at": "2020-10-22T10:51:50+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 432,
        "title": "针对客流密集，环境复杂的场景，希望能参与finetune，才是解决问题的王道",
        "body": "应用场景：农贸市场，实时监测未佩戴口罩人群，实时预警。\r\n问题现状：农贸市场客流密集，同时商品品种众多，我们需要全方位、多角落实时监测未佩戴口罩人群，监测半个月以来，目前效果没有达不到预警。经常把手，苹果，土豆等商品当作人脸监测出来，而且错误率还偏高，同时侧脸误报率也偏高，戴了口罩识别出未戴口罩，我们按官网建议对 （版本：1.1.0）\r\n face_detection(data=input_dict, shrink=1,use_multi_scale=True)  调参，其中对shrink，use_multi_scale 做了多次尝试调参，都有没有达到预期效果，目前很苦恼，很被动.,....\r\n建议：希望 pyramidbox_lite_server_mask 和  pyramidbox_lite_mobile_mask 模型支持finetune,让我们也一起参与训练完善模型，如此，才能解决实际中面临的各种场景问题。\r\n\r\n望采纳， 谢谢！ ",
        "state": "closed",
        "user": "DavidFangx",
        "closed_by": "haoyuying",
        "created_at": "2020-03-09T15:29:31+00:00",
        "updated_at": "2020-10-22T10:53:29+00:00",
        "closed_at": "2020-10-22T10:53:29+00:00",
        "comments_count": [
            "adaxiadaxi"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 434,
        "title": "hub serving 设置 use_gpu=true 时报错",
        "body": "1）PaddleHub和PaddlePaddle版本：\r\npaddlehub            1.5.4 \r\npaddlepaddle-gpu     1.7.0.post107\r\n\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n拉取docker镜像\r\nFROM hub.baidubce.com/paddlepaddle/paddle:1.7.0-gpu-cuda10.0-cudnn7\r\n使用镜像里的python3.6\r\n\r\n3）复现信息：如为报错，请给出复现环境、复现步骤\r\n已设置CUDA_VISIBLE_DEVICES=0\r\n已跑通demo，使用如下语句时，速度明显比cpu变快，gpu调用成功。module.lexical_analysis(data=inputs, use_gpu=True, batch_size=64)\r\n\r\n尝试使用 hub serving 提供gpu服务。\r\n开启服务：hub serving start --config config.json\r\n\r\nconfig.json里设置\"use_gpu\": false 时，可以正常运行\r\n设置\"use_gpu\": true 时报错如下：\r\n```\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<char const*>(char const*&&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int)\r\n2   paddle::platform::SetDeviceId(int)\r\n3   paddle::memory::allocation::CUDAAllocator::AllocateImpl(unsigned long)\r\n4   paddle::memory::allocation::AlignedAllocator::AllocateImpl(unsigned long)\r\n5   paddle::memory::allocation::AutoGrowthBestFitAllocator::AllocateImpl(unsigned long)\r\n6   paddle::memory::allocation::RetryAllocator::AllocateImpl(unsigned long)\r\n7   paddle::memory::allocation::AllocatorFacade::Alloc(paddle::platform::Place const&, unsigned long)\r\n8   paddle::memory::allocation::AllocatorFacade::AllocShared(paddle::platform::Place const&, unsigned long)\r\n9   paddle::memory::AllocShared(paddle::platform::Place const&, unsigned long)\r\n10  paddle::framework::Tensor::mutable_data(paddle::platform::Place const&, paddle::framework::proto::VarType_Type, unsigned long)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: cudaSetDevice failed in paddle::platform::SetDeviced, error code : 3, Please see detail in https://docs.nvidia.com/cuda/cuda-runtime-api/group__CUDART__TYPES.html#group__CUDART__TYPES_1g3f51e3575c2178246db0a94a430e0038: initialization error at (/paddle/paddle/fluid/platform/gpu_info.cc:240)\r\n\r\n```",
        "state": "closed",
        "user": "waywaywayw",
        "closed_by": "haoyuying",
        "created_at": "2020-03-10T07:28:59+00:00",
        "updated_at": "2021-11-12T07:47:49+00:00",
        "closed_at": "2020-10-22T10:52:28+00:00",
        "comments_count": [
            "ShenYuhan",
            "waywaywayw",
            "ShenYuhan",
            "waywaywayw",
            "ShenYuhan",
            "chensir112211"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 438,
        "title": "hub serving 离线部署",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n版本、环境信息如下：\r\n1、PaddleHub1.5.3 PaddlePaddle1.7.0\r\n2、Linux系统，python3.6\r\n你好，请问hub serving支持离线部署吗，口罩检测模型已经下载到本地/root/.paddlehub/modules/pyramidbox_lite_server_mask，但启动时报错\r\n![image](https://user-images.githubusercontent.com/16828608/76375496-ef4d3680-6380-11ea-8824-74e8f54cd058.png)\r\n\r\n",
        "state": "closed",
        "user": "YasinZhao",
        "closed_by": "YasinZhao",
        "created_at": "2020-03-11T02:14:22+00:00",
        "updated_at": "2020-03-12T05:45:30+00:00",
        "closed_at": "2020-03-12T05:45:30+00:00",
        "comments_count": [
            "ShenYuhan",
            "YasinZhao",
            "YasinZhao",
            "ShenYuhan",
            "YasinZhao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 439,
        "title": "关于用户自定义词典",
        "body": "用户自定义词典中，是否可以增加除现有词性以外的词性？如果有怎么添加新词性标签？\r\n",
        "state": "closed",
        "user": "Liaid",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-11T03:03:29+00:00",
        "updated_at": "2020-04-20T12:07:13+00:00",
        "closed_at": "2020-04-20T12:07:13+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 446,
        "title": "Mac安装paddlehub之后，无法使用命令行工具",
        "body": "-bash: hub: command not found",
        "state": "closed",
        "user": "pepeshen",
        "closed_by": "haoyuying",
        "created_at": "2020-03-16T07:28:53+00:00",
        "updated_at": "2020-10-22T12:00:52+00:00",
        "closed_at": "2020-10-22T12:00:52+00:00",
        "comments_count": [
            "Steffy-zxf",
            "MrNullPoint",
            "Steffy-zxf",
            "ZhaoUncle",
            "livingbody",
            "ZhaoUncle"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 444,
        "title": "关于自己训练（非官方的预训练模型）的模型部署问题",
        "body": "数据集是自定义的，训练出来的模型是否可以通过paddlehub serving进行发布？\r\n",
        "state": "closed",
        "user": "ClassmateXiaoyu",
        "closed_by": "ClassmateXiaoyu",
        "created_at": "2020-03-15T07:11:10+00:00",
        "updated_at": "2020-03-19T06:43:16+00:00",
        "closed_at": "2020-03-19T06:43:16+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ClassmateXiaoyu",
            "Steffy-zxf",
            "ClassmateXiaoyu",
            "Steffy-zxf",
            "ClassmateXiaoyu",
            "Steffy-zxf",
            "ClassmateXiaoyu",
            "DeIn221",
            "Steffy-zxf",
            "DeIn221"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 448,
        "title": "使用config.json启动hub serving方式报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.5.4，PaddlePaddle1.5.2\r\n2）系统环境：Windows10，python3.6.4\r\n\r\n- 复现信息：\r\n使用`hub serving start -c config.json`\r\n- 报错信息：\r\n```\r\nTraceback (most recent call last):\r\n  File \"d:\\python36\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"d:\\python36\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\Python36\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\python36\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"d:\\python36\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"d:\\python36\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 432, in execute\r\n    self.start_serving()\r\n  File \"d:\\python36\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 357, in start_serving\r\n    ServingCommand.start_single_app_with_file(configs)\r\nTypeError: start_single_app_with_file() missing 1 required positional argument: 'configs'\r\n```\r\n- config.json内容\r\n```\r\n{  \r\n  \"modules_info\": [  \r\n    {  \r\n       \"module\": \"ernie_tiny\",\r\n       \"version\": \"1.0.0\",\r\n       \"batch_size\": \"1\"\r\n    }\r\n  ],  \r\n  \"port\": 8866,\r\n  \"use_gpu\": false,  \r\n  \"use_multiprocess\": false\r\n}\r\n```\r\n",
        "state": "closed",
        "user": "DeIn221",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-16T15:21:07+00:00",
        "updated_at": "2020-04-20T12:06:44+00:00",
        "closed_at": "2020-04-20T12:06:44+00:00",
        "comments_count": [
            "Steffy-zxf",
            "DeIn221",
            "Steffy-zxf",
            "DeIn221",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 449,
        "title": "动态图如何实现?",
        "body": "请问下如何在动态图里添加预训练模型参数",
        "state": "closed",
        "user": "Quan-zzx",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-17T04:56:12+00:00",
        "updated_at": "2020-04-20T12:10:05+00:00",
        "closed_at": "2020-04-20T12:10:05+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 452,
        "title": "hub serving API接口支持直接base64编码的图片入参吗",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n\r\n你好，目前我利用hub serving 能力部署了贵司开源的pyramidbox_lite_server模型，入参的是图片路径，我想请问hub serving API接口能否支持前端传输过来的以base64编码的图片直接入参，如果可以我需要修改hub serving 中哪些部分，还不太懂flask，希望能给予帮助，谢谢~",
        "state": "closed",
        "user": "YasinZhao",
        "closed_by": "YasinZhao",
        "created_at": "2020-03-17T08:48:45+00:00",
        "updated_at": "2020-03-19T01:56:48+00:00",
        "closed_at": "2020-03-19T01:56:48+00:00",
        "comments_count": [
            "ShenYuhan",
            "YasinZhao",
            "ShenYuhan",
            "YasinZhao",
            "ShenYuhan",
            "YasinZhao",
            "YasinZhao",
            "YasinZhao",
            "ShenYuhan",
            "YasinZhao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 454,
        "title": "你好，请问一下文件中有一个依赖项paddle为啥装不了",
        "body": "报错信息：\r\nERROR: Command errored out with exit status 1:\r\n     command: /Library/Frameworks/Python.framework/Versions/3.7/bin/python3.7 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/7w/kjg08r3d0xl45_z9vk7_8gr40000gn/T/pip-install-sazg3s7j/paddle/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/7w/kjg08r3d0xl45_z9vk7_8gr40000gn/T/pip-install-sazg3s7j/paddle/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /private/var/folders/7w/kjg08r3d0xl45_z9vk7_8gr40000gn/T/pip-install-sazg3s7j/paddle/pip-egg-info\r\n         cwd: /private/var/folders/7w/kjg08r3d0xl45_z9vk7_8gr40000gn/T/pip-install-sazg3s7j/paddle/\r\n    Complete output (7 lines):\r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/private/var/folders/7w/kjg08r3d0xl45_z9vk7_8gr40000gn/T/pip-install-sazg3s7j/paddle/setup.py\", line 3, in <module>\r\n        import paddle\r\n      File \"/private/var/folders/7w/kjg08r3d0xl45_z9vk7_8gr40000gn/T/pip-install-sazg3s7j/paddle/paddle/__init__.py\", line 5, in <module>\r\n        import common, dual, tight, data, prox\r\n    ModuleNotFoundError: No module named 'common'\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.",
        "state": "closed",
        "user": "buaaRec",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-18T11:20:25+00:00",
        "updated_at": "2020-04-25T09:16:42+00:00",
        "closed_at": "2020-04-20T12:11:21+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf",
            "buaaRec"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 456,
        "title": "@moduleinfo()报错",
        "body": "版本、环境信息如下：\r\n1、paddlehub1.6.0，paddlepaddle1.7.1\r\n2、Windows7 64位，Python3.7.4\r\n\r\npaddlehub1.6.0是通过git clone、git checkout出分支release/v1.6安装的。在按照demo示例操作@moduleinfo()时报错SyntaxError: unexpected EOF while parsing\r\n",
        "state": "closed",
        "user": "ClassmateXiaoyu",
        "closed_by": "ClassmateXiaoyu",
        "created_at": "2020-03-19T06:59:26+00:00",
        "updated_at": "2020-03-20T07:15:44+00:00",
        "closed_at": "2020-03-20T07:15:44+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ClassmateXiaoyu",
            "Steffy-zxf",
            "ClassmateXiaoyu",
            "Steffy-zxf",
            "ClassmateXiaoyu",
            "Steffy-zxf",
            "ClassmateXiaoyu",
            "Steffy-zxf",
            "ClassmateXiaoyu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 455,
        "title": "paddlepaddle和paddlehub都是最新版。在跑ace2p的人体解析时，处理大规模数据时内存会一直增加到爆炸，初步判断是在postprocess有问题。不知道你们遇到过没有。",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "leoxxxxxD",
        "closed_by": "haoyuying",
        "created_at": "2020-03-19T03:18:10+00:00",
        "updated_at": "2020-11-13T10:19:03+00:00",
        "closed_at": "2020-10-27T01:56:35+00:00",
        "comments_count": [
            "leoxxxxxD",
            "leoxxxxxD",
            "linshuliang",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 458,
        "title": "请问paddlehub的ERNIE是否支持finetune多个任务",
        "body": "如题。\r\n例如先将ERNIE用于finetune NER任务，再用于finetune句子分类任务。\r\n如果可以，应该怎么做的，谢谢！",
        "state": "closed",
        "user": "MiniMinyi",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-20T01:29:50+00:00",
        "updated_at": "2020-04-20T12:10:22+00:00",
        "closed_at": "2020-04-20T12:10:22+00:00",
        "comments_count": [
            "Steffy-zxf",
            "MiniMinyi",
            "Steffy-zxf",
            "131250208",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 459,
        "title": "服务化部署了人像分割服务之后偶尔会出现500 Internal Server Error 请协助解决",
        "body": "paddlepaddle1.7.1  paddleHub 1.5.4\r\nCentOS7 python3.7.3\r\n\r\n通过 `hub serving start -m deeplabv3p_xception65_humanseg` 命令启动服务之后，有些图片不知道为什么会分割失败，提示500 Internal server error\r\n![image](https://user-images.githubusercontent.com/42615458/77130426-e2bc9280-6a92-11ea-87dd-c1bb5f7c9048.png)\r\n![image](https://user-images.githubusercontent.com/42615458/77130433-ea7c3700-6a92-11ea-8800-eb95bb925572.png)\r\n![image](https://user-images.githubusercontent.com/42615458/77130436-f0721800-6a92-11ea-8d09-7690aa75373b.png)\r\n![image](https://user-images.githubusercontent.com/42615458/77130440-f5cf6280-6a92-11ea-88ae-6a13064959bf.png)\r\n\r\n",
        "state": "closed",
        "user": "lesterhnu",
        "closed_by": "haoyuying",
        "created_at": "2020-03-20T02:10:29+00:00",
        "updated_at": "2020-10-22T12:02:20+00:00",
        "closed_at": "2020-10-22T12:02:20+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 462,
        "title": "你好，我安装的PaddlePaddle1.7.1和PaddleHub1.5.4，win10系统，python3.6，导入paddlehub就直接报错了，想请求帮助解决下问题。",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n下面是错误信息：\r\n File \"D:/FaceMask Detection/detect.py\", line 8, in <module>\r\n    import paddlehub\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\site-packages\\paddlehub\\__init__.py\", line 25, in <module>\r\n    from . import module\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\site-packages\\paddlehub\\module\\__init__.py\", line 16, in <module>\r\n    from . import module\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\site-packages\\paddlehub\\module\\module.py\", line 33, in <module>\r\n    from paddlehub.common import utils\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\site-packages\\paddlehub\\common\\__init__.py\", line 16, in <module>\r\n    from . import utils\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\site-packages\\paddlehub\\common\\utils.py\", line 33, in <module>\r\n    from paddlehub.common.logger import logger\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 155, in <module>\r\n    logger = Logger()\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 67, in __init__\r\n    level = json.load(fp).get(\"log_level\", \"DEBUG\")\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\json\\__init__.py\", line 299, in load\r\n    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\json\\__init__.py\", line 354, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\json\\decoder.py\", line 339, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddlepaddle1.7.1\\lib\\json\\decoder.py\", line 357, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)",
        "state": "closed",
        "user": "AIman6",
        "closed_by": "haoyuying",
        "created_at": "2020-03-21T02:17:26+00:00",
        "updated_at": "2020-11-13T10:18:45+00:00",
        "closed_at": "2020-10-27T01:57:11+00:00",
        "comments_count": [
            "takumijash",
            "AIman6",
            "ShenYuhan",
            "AIman6",
            "tiesanguaixia",
            "784228565",
            "Gs-Zhang",
            "Gs-Zhang",
            "tiesanguaixia",
            "AIman6",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 463,
        "title": "NLP任务自定义数据集内文本数据问题",
        "body": "[NLP类任务如何自定义数据](https://github.com/PaddlePaddle/PaddleHub/wiki/PaddleHub适配自定义数据完成FineTune)\r\n按照要求导入后发现始终报Index Error的错误，经过检查发现由于BaseNLPDataset._read_file中使用csv.reader读取lines，导致文本项中不能包含字符'\\n'。\r\n或许在Wiki里面明确指出来比较好？防止（像我这样的）新手踩坑。",
        "state": "closed",
        "user": "ColinDowney",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-21T09:08:42+00:00",
        "updated_at": "2020-06-09T01:53:03+00:00",
        "closed_at": "2020-04-20T12:10:36+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ColinDowney",
            "Steffy-zxf",
            "ColinDowney",
            "Steffy-zxf",
            "Steffy-zxf",
            "60999",
            "cheeryoung79",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 467,
        "title": "PaddlePaddle 1.6.2 PaddleHub最新 ai studio上使用paddlehub的ernie运行分类任务，f1值的评价指标比acc高出很多，f1值评价指标实现是否有问题",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "washuwashu",
        "closed_by": "washuwashu",
        "created_at": "2020-03-22T14:53:27+00:00",
        "updated_at": "2020-03-22T16:03:07+00:00",
        "closed_at": "2020-03-22T16:03:07+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 466,
        "title": "关于paddlehub上面的finetune功能",
        "body": "paddlepaddle版本是AIstudio上面的1.6，paddlehub升级为1.6，但是dataset选择的hub里的 “dogcat\", 运行task.finrtune_and_eval()时，总是会报如下错误，数据类型错误。\r\n`[2020-03-22 12:48:45,434] [    INFO] - Strategy with slanted triangle learning rate, L2 regularization, \r\n[2020-03-22 12:48:45,477] [    INFO] - Try loading checkpoint from cv_finetune_turtorial_demo/ckpt.meta\r\n[2020-03-22 12:48:45,478] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-03-22 12:48:45,513] [    INFO] - PaddleHub finetune start\r\n---------------------------------------------------------------------------EnforceNotMet                             Traceback (most recent call last)<ipython-input-20-f71a9b4c5ff9> in <module>\r\n----> 1 run_states = task.finetune()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n    882                 while self.current_epoch <= self.config.num_epoch:\r\n    883                     self.config.strategy.step()\r\n--> 884                     run_states = self._run(do_eval=do_eval)\r\n    885                     self.env.current_epoch += 1\r\n    886 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n   1075                     feed=batch,\r\n   1076                     fetch_list=self.fetch_list,\r\n-> 1077                     return_numpy=self.return_numpy)\r\n   1078                 if not self.return_numpy:\r\n   1079                     fetch_result = [np.array(x) for x in fetch_result]\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    778                 use_program_cache=use_program_cache)\r\n    779         except Exception as e:\r\n--> 780             if not isinstance(e, core.EOFException):\r\n    781                 warnings.warn(\r\n    782                     \"The following exception is not an EOF exception.\")\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py in reraise(tp, value, tb)\r\n    691             if value.__traceback__ is not tb:\r\n    692                 raise value.with_traceback(tb)\r\n--> 693             raise value\r\n    694         finally:\r\n    695             value = None\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    773                 fetch_list=fetch_list,\r\n    774                 feed_var_name=feed_var_name,\r\n--> 775                 fetch_var_name=fetch_var_name,\r\n    776                 scope=scope,\r\n    777                 return_numpy=return_numpy,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run_impl(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    832 \r\n    833         program._compile(scope, self.place)\r\n--> 834         if program._is_inference:\r\n    835             return self._run_inference(program._executor, feed)\r\n    836         else:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run_parallel(self, program, scope, feed, fetch_list, fetch_var_name, return_numpy)\r\n    672                     res_dict[feed_name] = tensor\r\n    673                 res.append(res_dict)\r\n--> 674             exe.feed_tensors_into_local_scopes(res)\r\n    675 \r\n    676         fetch_var_names = list(map(_to_name_str, fetch_list))\r\nEnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<char const*>(char const*&&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int)\r\n2   long const* paddle::framework::Tensor::data<long>() const\r\n3   paddle::operators::AccuracyOpCUDAKernel<float>::Compute(paddle::framework::ExecutionContext const&) const\r\n4   std::_Function_handler<void (paddle::framework::ExecutionContext const&), paddle::framework::OpKernelRegistrarFunctor<paddle::platform::CUDAPlace, false, 0ul, paddle::operators::AccuracyOpCUDAKernel<float>, paddle::operators::AccuracyOpCUDAKernel<double>, paddle::operators::AccuracyOpCUDAKernel<paddle::platform::float16> >::operator()(char const*, char const*, int) const::{lambda(paddle::framework::ExecutionContext const&)#1}>::_M_invoke(std::_Any_data const&, paddle::framework::ExecutionContext const&)\r\n5   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&, paddle::framework::RuntimeContext*) const\r\n6   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n7   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, paddle::platform::Place const&)\r\n8   paddle::framework::details::ComputationOpHandle::RunImpl()\r\n9   paddle::framework::details::FastThreadedSSAGraphExecutor::RunOpSync(paddle::framework::details::OpHandleBase*)\r\n10  paddle::framework::details::FastThreadedSSAGraphExecutor::RunOp(paddle::framework::details::OpHandleBase*, std::shared_ptr<paddle::framework::BlockingQueue<unsigned long> > const&, unsigned long*)\r\n11  std::_Function_handler<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> (), std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<void>, std::__future_base::_Result_base::_Deleter>, void> >::_M_invoke(std::_Any_data const&)\r\n12  std::__future_base::_State_base::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>&, bool&)\r\n13  ThreadPool::ThreadPool(unsigned long)::{lambda()#1}::operator()() const\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2488, in append_op\r\n    attrs = kwargs.get(\"attrs\", {})\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/metric_op.py\", line 103, in accuracy\r\n    if total is None:\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py\", line 86, in _add_metrics\r\n    acc = fluid.layers.accuracy(input=self.outputs[0], label=self.labels[0])\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 405, in _build_env\r\n    self.env.metrics = self._add_metrics()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 507, in main_program\r\n    self._build_env()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 832, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 366, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 878, in finetune\r\n    self.init_if_necessary()\r\n  File \"<ipython-input-20-f71a9b4c5ff9>\", line 1, in <module>\r\n    run_states = task.finetune()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3265, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3183, in run_ast_nodes\r\n    if (yield from self.run_code(code, result)):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3018, in run_cell_async\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/async_helpers.py\", line 67, in _pseudo_sync_runner\r\n    coro.send(None)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2843, in _run_cell\r\n    return runner(coro)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2817, in run_cell\r\n    raw_cell, store_history, silent, shell_futures)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/zmqshell.py\", line 536, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/ipkernel.py\", line 294, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 534, in execute_request\r\n    user_expressions, allow_stdin,\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 267, in dispatch_shell\r\n    yield gen.maybe_future(handler(stream, idents, msg))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 357, in process_one\r\n    yield gen.maybe_future(dispatch(*args))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1147, in run\r\n    yielded = self.gen.send(value)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1233, in inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/stack_context.py\", line 300, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/ioloop.py\", line 758, in _run_callback\r\n    ret = callback()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/events.py\", line 88, in _run\r\n    self._context.run(self._callback, *self._args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 1771, in _run_once\r\n    handle._run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 534, in run_forever\r\n    self._run_once()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/platform/asyncio.py\", line 132, in start\r\n    self.asyncio_loop.run_forever()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelapp.py\", line 505, in start\r\n    self.io_loop.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/traitlets/config/application.py\", line 664, in launch_instance\r\n    app.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel_launcher.py\", line 16, in <module>\r\n    app.launch_new_instance()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Tensor holds the wrong type, it holds float, but desires to be int64_t at (/paddle/paddle/fluid/framework/tensor_impl.h:30)\r\n  [operator < accuracy > error]`",
        "state": "closed",
        "user": "Gs-Zhang",
        "closed_by": "haoyuying",
        "created_at": "2020-03-22T04:51:25+00:00",
        "updated_at": "2020-10-22T12:02:58+00:00",
        "closed_at": "2020-10-22T12:02:58+00:00",
        "comments_count": [
            "Gs-Zhang",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 473,
        "title": "你好，请问这个问题该怎么解决？ValueError: The target variable must have an associated operator that generates it.",
        "body": "请问这个问题该怎么解决？ValueError: The target variable must have an associated operator that generates it.\r\n\r\nTraceback (most recent call last):\r\n  File \"reading_comprehension.py\", line 461, in <module>\r\n    reading_comprehension_task.finetune_and_eval()\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 863, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 884, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1097, in _run\r\n    self._eval_interval_event()\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 630, in hook_function\r\n    func(*args)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 782, in _default_eval_interval_event\r\n    self.eval(phase=\"dev\")\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 922, in eval\r\n    self._eval_end_event(run_states)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 630, in hook_function\r\n    func(*args)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 753, in _default_eval_end_event\r\n    self.save_inference_model(dirname=model_saved_dir)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 860, in save_inference_model\r\n    params_filename=params_filename)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/io.py\", line 1218, in save_inference_model\r\n    feeded_var_names=feeded_var_names, targets=target_vars)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/framework.py\", line 4122, in _prune_with_input\r\n    \"The target variable must have an \"\r\nValueError: The target variable must have an associated operator that generates it.",
        "state": "closed",
        "user": "SDUwn",
        "closed_by": "SDUwn",
        "created_at": "2020-03-24T00:47:49+00:00",
        "updated_at": "2020-04-03T04:08:48+00:00",
        "closed_at": "2020-04-03T04:08:48+00:00",
        "comments_count": [
            "Steffy-zxf",
            "SDUwn",
            "kinghuin",
            "SDUwn",
            "kinghuin",
            "SDUwn",
            "kinghuin",
            "ZYsayoulala",
            "kinghuin",
            "ZYsayoulala",
            "SDUwn"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 471,
        "title": "在ai studio上进行自定义数据的SQUAD型阅读理解，报错Exception: the train file: train.json only has one column but it is not a predict file，请问怎么改",
        "body": "[2020-03-23 11:24:54,689] [    INFO] - Installing bert_chinese_L-12_H-768_A-12 module\r\n[2020-03-23 11:24:54,693] [    INFO] - Module bert_chinese_L-12_H-768_A-12 already installed in /home/aistudio/.paddlehub/modules/bert_chinese_L_12_H_768_A_12\r\n[2020-03-23 11:24:58,420] [    INFO] - Load pretraining parameters from /home/aistudio/.paddlehub/modules/bert_chinese_L_12_H_768_A_12/assets/params.\r\nTraceback (most recent call last):\r\n  File \"reading_comprehension.py\", line 122, in <module>\r\n    dataset = DemoDataset()\r\n  File \"reading_comprehension.py\", line 88, in __init__\r\n    train_file=\"train.json\",\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/base_nlp_dataset.py\", line 51, in __init__\r\n    predict_file_with_header=predict_file_with_header)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/dataset.py\", line 94, in __init__\r\n    self._load_train_examples()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/dataset.py\", line 150, in _load_train_examples\r\n    self.train_examples = self._read_file(self.train_path, phase=\"train\")\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/base_nlp_dataset.py\", line 68, in _read_file\r\n    % (phase, input_file))\r\nException: the train file: train.json only has one column but it is not a predict file",
        "state": "closed",
        "user": "SDUwn",
        "closed_by": "SDUwn",
        "created_at": "2020-03-23T03:41:43+00:00",
        "updated_at": "2020-03-24T00:32:12+00:00",
        "closed_at": "2020-03-24T00:32:12+00:00",
        "comments_count": [
            "Steffy-zxf",
            "SDUwn",
            "Steffy-zxf",
            "SDUwn",
            "SDUwn"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 476,
        "title": "paddlehub的bert的sequence_output后如何加入lstm??",
        "body": "这是我想要实现的代码：\r\n\r\n```\r\n`import paddlehub as hub\r\nmax_seq_len=128\r\n# dataset = MyDataset()\r\nmodule = hub.Module(name=\"bert_chinese_L-12_H-768_A-12\")\r\ninputs, outputs, program = module.context(\r\ntrainable=True, max_seq_len=max_seq_len)\r\nprint(outputs)\r\n# Use \"pooled_output\" for classification tasks on an entire sentence.\r\npooled_output = outputs[\"pooled_output\"]\r\nseq_output=outputs['sequence_output']\r\nprint(seq_output)\r\nhidden_units=[128]\r\ncls_feats = fluid.layers.dropout(\r\n            x=seq_output,\r\n            dropout_prob=0,\r\n            dropout_implementation=\"upscale_in_train\")\r\nprint(cls_feats)\r\nif hidden_units is not None:\r\n    for n_hidden in hidden_units:\r\n        # cls_feats = fluid.layers.fc(\r\n        #     input=cls_feats, size=n_hidden, act=None)\r\n        # print(cls_feats)\r\n        cls_feats = fluid.layers.fc(input=cls_feats, size=n_hidden,\r\n                    act=None, bias_attr=None)\r\n        print(cls_feats)\r\n        lstm_h, c = fluid.layers.dynamic_lstm(\r\n            input=cls_feats, size=n_hidden, is_reverse=False)\r\n        print(lstm_h)\r\n        # # 最大池化\r\n        lstm_max = fluid.layers.sequence_pool(input=lstm_h, pool_type='max')\r\n        print(lstm_max)\r\n        # # 激活函数\r\n        cls_feats = fluid.layers.tanh(lstm_max)\r\n        print(cls_feats)\r\n\r\nlogits = fluid.layers.fc(\r\n    input=cls_feats,\r\n    size=3,\r\n    param_attr=fluid.ParamAttr(\r\n        name=\"cls_out_w\",\r\n        initializer=fluid.initializer.TruncatedNormal(scale=0.02)),\r\n    bias_attr=fluid.ParamAttr(\r\n        name=\"cls_out_b\", initializer=fluid.initializer.Constant(0.)),\r\n    act=\"softmax\")\r\n\r\nret_infers = fluid.layers.reshape(\r\n    x=fluid.layers.argmax(logits, axis=1), shape=[-1, 1])\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Size of target LoD should be greater than 1.\r\n  [Hint: Expected level0.size() > 1UL, but received level0.size():1 <= 1UL:1.] at (/paddle/paddle/fluid/operators/lod_reset_op.h:60)\r\n  [operator < lod_reset > error]\r\n```",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "wxl1351641822",
        "created_at": "2020-03-25T06:30:30+00:00",
        "updated_at": "2020-09-25T10:40:59+00:00",
        "closed_at": "2020-03-29T12:18:26+00:00",
        "comments_count": [
            "wxl1351641822",
            "Steffy-zxf",
            "wxl1351641822",
            "wxl1351641822",
            "Steffy-zxf",
            "wxl1351641822",
            "Masterkmp"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 477,
        "title": "finetune 之后如何再次调用之前训练好的模型？同时finetune 之后想获取embedding应该怎么调用？有相关API文档吗？",
        "body": "finetune 之后如何再次调用之前训练好的模型？同时finetune 之后想获取embedding应该怎么调用？有相关API文档吗？",
        "state": "closed",
        "user": "Pacrky",
        "closed_by": "Pacrky",
        "created_at": "2020-03-25T08:21:03+00:00",
        "updated_at": "2020-10-09T07:39:06+00:00",
        "closed_at": "2020-03-26T02:21:33+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ChenMiya"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 478,
        "title": "在MacOS下训练出错，但在AI STUDIO正常，日志详见下图",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.6.1，PaddlePaddle1.7.1\r\n2）系统环境：系统类型：MacOS/，python版本：Python 3.7.2\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n[2020-03-25 21:08:52,561] [    INFO] - Installing mobilenet_v2_imagenet module\r\n[2020-03-25 21:08:53,152] [    INFO] - Module mobilenet_v2_imagenet already installed in /Users/handy/.paddlehub/modules/mobilenet_v2_imagenet\r\n[2020-03-25 21:08:53,660] [    INFO] - 267 pretrained paramaters loaded by PaddleHub\r\n[2020-03-25 21:08:53,661] [    INFO] - Dataset label map = {'roses': 0, 'daisy': 1}\r\n[2020-03-25 21:08:53,661] [    INFO] - Checkpoint dir: ckpt_model\r\n[2020-03-25 21:09:00,721] [    INFO] - Strategy with slanted triangle learning rate, L2 regularization, \r\n/Users/handy/.virtualenvs/PaddleApp/lib/python3.7/site-packages/paddle/fluid/executor.py:804: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\n[2020-03-25 21:09:00,763] [    INFO] - Try loading checkpoint from ckpt_model/ckpt.meta\r\n[2020-03-25 21:09:00,763] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-03-25 21:09:00,810] [    INFO] - PaddleHub finetune start\r\nI0325 21:09:01.170374 272072128 parallel_executor.cc:440] The Program will be executed on CPU using ParallelExecutor, 2 cards are used, so 2 programs are executed in parallel.\r\nW0325 21:09:01.280500 272072128 fuse_all_reduce_op_pass.cc:74] Find all_reduce operators: 161. To make the speed faster, some all_reduce ops are fused during training, after fusion, the number of all_reduce ops is 161.\r\nI0325 21:09:01.301883 272072128 build_strategy.cc:365] SeqOnlyAllReduceOps:0, num_trainers:1\r\nI0325 21:09:01.572834 272072128 parallel_executor.cc:307] Inplace strategy is enabled, when build_strategy.enable_inplace = True\r\nI0325 21:09:01.647723 272072128 parallel_executor.cc:375] Garbage collection strategy is enabled, when FLAGS_eager_delete_tensor_gb = 0\r\n[2020-03-25 21:09:05,624] [    INFO] - Evaluation on dev dataset start\r\nTraceback (most recent call last):\r\n  File \"classify_task.py\", line 27, in <module>\r\n    run_states = paddle_wrap.task.finetune_and_eval()\r\n  File \"/Users/handy/.virtualenvs/PaddleApp/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 864, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/Users/handy/.virtualenvs/PaddleApp/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 893, in finetune\r\n    self.eval(phase=\"dev\")\r\n  File \"/Users/handy/.virtualenvs/PaddleApp/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 923, in eval\r\n    self._eval_end_event(run_states)\r\n  File \"/Users/handy/.virtualenvs/PaddleApp/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 631, in hook_function\r\n    func(*args)\r\n  File \"/Users/handy/.virtualenvs/PaddleApp/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 719, in _default_eval_end_event\r\n    eval_scores, eval_loss, run_speed = self._calculate_metrics(run_states)\r\n  File \"/Users/handy/.virtualenvs/PaddleApp/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py\", line 115, in _calculate_metrics\r\n    run_time_used = time.time() - run_states[0].run_time_begin\r\nIndexError: list index out of range\r\nlibc++abi.dylib: terminating with uncaught exception of type paddle::platform::EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > paddle::platform::GetTraceBackString<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, char const*, int)\r\n1   paddle::framework::RWLock::RDLock()\r\n2   paddle::framework::Scope::HasKid(paddle::framework::Scope const*) const\r\n3   paddle::framework::ParallelExecutorPrivate::~ParallelExecutorPrivate()\r\n4   paddle::framework::ParallelExecutor::~ParallelExecutor()\r\n5   pybind11::class_<paddle::framework::ParallelExecutor>::dealloc(pybind11::detail::value_and_holder&)\r\n6   pybind11::detail::clear_instance(_object*)\r\n7   pybind11_object_dealloc\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: acquire read lock failed\r\n  [Hint: Expected pthread_rwlock_rdlock(&lock_) == 0, but received pthread_rwlock_rdlock(&lock_):22 != 0:0.] at (/home/teamcity/work/ef54dc8a5b211854/paddle/fluid/framework/rw_lock.h:36)\r\n\r\nW0325 21:09:06.206892 272072128 init.cc:209] Warning: PaddlePaddle catches a failure signal, it may not work properly\r\nW0325 21:09:06.206903 272072128 init.cc:211] You could check whether you killed PaddlePaddle thread/process accidentally or report the case to PaddlePaddle\r\nW0325 21:09:06.206907 272072128 init.cc:214] The detail failure signal is:\r\n\r\nW0325 21:09:06.206910 272072128 init.cc:217] *** Aborted at 1585141746 (unix time) try \"date -d @1585141746\" if you are using GNU date ***\r\nW0325 21:09:06.207233 272072128 init.cc:217] PC: @                0x0 (unknown)\r\nW0325 21:09:06.209056 272072128 init.cc:217] *** SIGABRT (@0x7fff682af7fa) received by PID 9529 (TID 0x110377dc0) stack trace: ***\r\nW0325 21:09:06.209656 272072128 init.cc:217]     @     0x7fff6836142d _sigtramp\r\n",
        "state": "closed",
        "user": "cvdnn",
        "closed_by": "haoyuying",
        "created_at": "2020-03-25T13:34:54+00:00",
        "updated_at": "2020-10-22T12:03:37+00:00",
        "closed_at": "2020-10-22T12:03:37+00:00",
        "comments_count": [
            "Steffy-zxf",
            "cvdnn",
            "cvdnn",
            "cvdnn",
            "cvdnn",
            "cvdnn",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 479,
        "title": "长文本分词出现[CRITICAL] WORKER TIMEOUT",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddlePaddle1.6.2\r\n2）系统环境：linux python3.7.2\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n使用lac模块，超长长文本分词\r\n[root@localhost paddlehub]# hub serving start --config  lac_server.json \r\nlac == 1.1.0\r\n[2020-03-25 10:22:56 -0400] [18772] [INFO] Starting gunicorn 20.0.4\r\n[2020-03-25 10:22:56 -0400] [18772] [INFO] Listening at: http://0.0.0.0:8091 (18772)\r\n[2020-03-25 10:22:56 -0400] [18772] [INFO] Using worker: sync\r\n[2020-03-25 10:22:56 -0400] [18801] [INFO] Booting worker with pid: 18801\r\n[2020-03-25 10:22:56 -0400] [18803] [INFO] Booting worker with pid: 18803\r\n[2020-03-25 10:22:56 -0400] [18805] [INFO] Booting worker with pid: 18805\r\n[2020-03-25 10:23:54 -0400] [18772] [CRITICAL] WORKER TIMEOUT (pid:18803)\r\n[2020-03-25 10:23:55 -0400] [18808] [INFO] Booting worker with pid: 18808\r\n\r\n请问在哪里延长timeout避免 报错\r\n",
        "state": "closed",
        "user": "uuleaf",
        "closed_by": "uuleaf",
        "created_at": "2020-03-25T14:42:17+00:00",
        "updated_at": "2020-03-26T12:43:18+00:00",
        "closed_at": "2020-03-26T12:43:18+00:00",
        "comments_count": [
            "ShenYuhan",
            "uuleaf",
            "ShenYuhan",
            "uuleaf",
            "uuleaf",
            "ShenYuhan",
            "uuleaf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 481,
        "title": "使用预训练模型ERNIE时，加入额外的特征训练，保存模型检查点时报错，说变量不在block中",
        "body": "使用ERNIE预训练模型做文本分类，需要额外加入自己的特征，目前已经继承扩展了自己的Reader、Task、Dataset，可以正常开启训练，但是在训练保存检查点时报错。\r\n\r\n**具体步骤**\r\n\r\n1.在输入变量列表中加入了自己的特征，已经对应扩展了dataset、reader\r\n\r\n```python\r\nfeed_list = [\r\n    inputs[\"input_ids\"].name,\r\n    inputs[\"position_ids\"].name,\r\n    inputs[\"segment_ids\"].name,\r\n    inputs[\"input_mask\"].name,\r\n    \"concept_ids\"\r\n]\r\n```\r\n\r\n2.自定义了Task的组网事件\r\n\r\n```python\r\ndef _build_net(self):\r\n    ...\r\n    concept_ids = fluid.data(name='concept_ids', \r\n                             shape=[-1, self.max_concept_sequence_len, 1],\r\n                             dtype='int64')\r\n    ...\r\n```\r\n\r\n3.开启微调\r\n\r\n```python\r\nrun_states = cls_task.finetune()\r\n```\r\n\r\n4.控制台输入\r\n\r\n```\r\n[2020-03-26 22:57:38,500] [    INFO] - PaddleHub finetune start\r\n[2020-03-26 22:57:38,925] [    INFO] - Saving model checkpoint to ernie_tity_single_intent_cls\\step_1\r\n2020-03-26 22:57:39,450-WARNING: paddle.fluid.layers.py_reader() may be deprecated in the near future. Please use paddle.fluid.io.DataLoader.from_generator() instead.\r\nTraceback (most recent call last):\r\n  File \"D:\\dev\\Anaconda\\envs\\paddle\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 3331, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-2-18576bfe9166>\", line 1, in <module>\r\n    runfile('D:/dev/projects/local/python/research/user-intent-classification/models/conco_ernie/single_intent/single_intent_conco_ernie_tiny.py', wdir='D:/dev/projects/local/python/research/user-intent-classification/models/conco_ernie/single_intent')\r\n  File \"D:\\Application\\PyCharm 2019.3.2\\plugins\\python\\helpers\\pydev\\_pydev_bundle\\pydev_umd.py\", line 197, in runfile\r\n    pydev_imports.execfile(filename, global_vars, local_vars)  # execute the script\r\n  File \"D:\\Application\\PyCharm 2019.3.2\\plugins\\python\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"D:/dev/projects/local/python/research/user-intent-classification/models/conco_ernie/single_intent/single_intent_conco_ernie_tiny.py\", line 118, in <module>\r\n    run_states = cls_task.finetune()\r\n  File \"D:\\dev\\Anaconda\\envs\\paddle\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 784, in finetune\r\n    self.save_checkpoint()\r\n  File \"D:\\dev\\Anaconda\\envs\\paddle\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 719, in save_checkpoint\r\n    self.save_inference_model(dirname=model_saved_dir)\r\n  File \"D:\\dev\\Anaconda\\envs\\paddle\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 760, in save_inference_model\r\n    params_filename=params_filename)\r\n  File \"D:\\dev\\Anaconda\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\io.py\", line 1189, in save_inference_model\r\n    prepend_feed_ops(main_program, feeded_var_names)\r\n  File \"D:\\dev\\Anaconda\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\io.py\", line 988, in prepend_feed_ops\r\n    out = global_block.var(name)\r\n  File \"D:\\dev\\Anaconda\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2263, in var\r\n    raise ValueError(\"var %s not in this block\" % name)\r\nValueError: var concept_ids not in this block\r\n```\r\n\r\n经过跟踪发现是`framework.py`的`prepend_feed_ops`函数中去获取全局block的变量，发现`concept_ids`不存在，是不是在`build_net`事件中使用`fluid.data`定义的数据不在全局变量中呢？那么我该在哪里定义？",
        "state": "closed",
        "user": "MiloHang",
        "closed_by": "MiloHang",
        "created_at": "2020-03-26T15:08:08+00:00",
        "updated_at": "2020-03-26T19:57:28+00:00",
        "closed_at": "2020-03-26T19:57:28+00:00",
        "comments_count": [
            "MiloHang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 482,
        "title": "win10 运行quickstart 案例报错 ImportError: DLL load failed: 找不到指定的程序。",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.6.1，PaddlePaddle1.7.0\r\n2）系统环境：win10，python版本 3.7.4\r\n- 复现信息：\r\ncmd 输入：\r\n$ hub run lac --input_text \"今天是个好日子\"\r\n[{'word': ['今天', '是', '个', '好日子'], 'tag': ['TIME', 'v', 'q', 'n']}]\r\n报错提示：\r\n`Traceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"c:\\programdata\\anaconda3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\ProgramData\\Anaconda3\\Scripts\\hub.exe\\__main__.py\", line 5, in <module>\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\__init__.py\", line 25, in <module>\r\n    from . import module\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\module\\__init__.py\", line 16, in <module>\r\n    from . import module\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 29, in <module>\r\n    import paddle.fluid as fluid\r\n  File \"C:\\Users\\Admin\\AppData\\Roaming\\Python\\Python37\\site-packages\\paddle\\fluid\\__init__.py\", line 57, in <module>\r\n    from . import contrib\r\n  File \"C:\\Users\\Admin\\AppData\\Roaming\\Python\\Python37\\site-packages\\paddle\\fluid\\contrib\\__init__.py\", line 27, in <module>\r\n    from . import slim\r\n  File \"C:\\Users\\Admin\\AppData\\Roaming\\Python\\Python37\\site-packages\\paddle\\fluid\\contrib\\slim\\__init__.py\", line 15, in <module>\r\n    from .core import *\r\n  File \"C:\\Users\\Admin\\AppData\\Roaming\\Python\\Python37\\site-packages\\paddle\\fluid\\contrib\\slim\\core\\__init__.py\", line 15, in <module>\r\n    from . import config\r\n  File \"C:\\Users\\Admin\\AppData\\Roaming\\Python\\Python37\\site-packages\\paddle\\fluid\\contrib\\slim\\core\\config.py\", line 19, in <module>\r\n    from ..prune import *\r\n  File \"C:\\Users\\Admin\\AppData\\Roaming\\Python\\Python37\\site-packages\\paddle\\fluid\\contrib\\slim\\prune\\__init__.py\", line 17, in <module>\r\n    from . import prune_strategy\r\n  File \"C:\\Users\\Admin\\AppData\\Roaming\\Python\\Python37\\site-packages\\paddle\\fluid\\contrib\\slim\\prune\\prune_strategy.py\", line 22, in <module>\r\n    from scipy.optimize import leastsq\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\scipy\\optimize\\__init__.py\", line 391, in <module>\r\n    from ._minimize import *\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\scipy\\optimize\\_minimize.py\", line 30, in <module>\r\n    from ._trustregion_constr import _minimize_trustregion_constr\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\scipy\\optimize\\_trustregion_constr\\__init__.py\", line 4, in <module>\r\n    from .minimize_trustregion_constr import _minimize_trustregion_constr\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\scipy\\optimize\\_trustregion_constr\\minimize_trustregion_constr.py\", line 4, in <module>\r\n    from scipy.sparse.linalg import LinearOperator\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\scipy\\sparse\\linalg\\__init__.py\", line 116, in <module>\r\n    from .eigen import *\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\scipy\\sparse\\linalg\\eigen\\__init__.py\", line 11, in <module>\r\n    from .arpack import *\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\scipy\\sparse\\linalg\\eigen\\arpack\\__init__.py\", line 22, in <module>\r\n    from .arpack import *\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\scipy\\sparse\\linalg\\eigen\\arpack\\arpack.py\", line 45, in <module>\r\n    from . import _arpack\r\nImportError: DLL load failed: 找不到指定的程序。`\r\n![图片](https://user-images.githubusercontent.com/52186737/77719159-91c31600-701f-11ea-9198-32f50e3ca565.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "liuzengzhen1",
        "closed_by": "liuzengzhen1",
        "created_at": "2020-03-27T03:39:21+00:00",
        "updated_at": "2020-03-27T09:29:56+00:00",
        "closed_at": "2020-03-27T09:29:56+00:00",
        "comments_count": [
            "Steffy-zxf",
            "liuzengzhen1"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 483,
        "title": "win10 在线lac分词服务demo 验证报错",
        "body": "\r\n-版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.6.1，PaddlePaddle1.7.0\r\n2）系统环境：win10，python版本 3.7.4\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n     参考文档：Demo——部署一个在线lac分词服务步骤，最后客户端python调用报错，提示如下，我点开链接跟我粘的代码一样啊\r\n`# coding: utf8\r\nimport requests\r\nimport json\r\n\r\nif __name__ == \"__main__\":\r\n    # 指定用于用于预测的文本并生成字典{\"text\": [text_1, text_2, ... ]}\r\n    text_list = [\"今天是个好日子\", \"天气预报说今天要下雨\"]\r\n    text = {\"text\": text_list}\r\n    # 指定预测方法为lac并发送post请求\r\n    url = \"http://127.0.0.1:8866/predict/text/lac\"\r\n    r = requests.post(url=url, data=text)\r\n\r\n    # 打印预测结果\r\n    print(json.dumps(r.json(), indent=4, ensure_ascii=False))`\r\n`\r\n提示如下\r\n{\r\n    \"msg\": \"This usage is out of date, please use 'application/json' as content-type to post to /predict/lac. See 'https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.6/docs/tutorial/serving.md' for more details.\",\r\n    \"results\": \"\",\r\n    \"status\": \"-1\"\r\n}`\r\n![图片](https://user-images.githubusercontent.com/52186737/77744914-56433e80-7055-11ea-90b6-1e489bd0af87.png)\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "liuzengzhen1",
        "closed_by": "haoyuying",
        "created_at": "2020-03-27T10:06:01+00:00",
        "updated_at": "2020-11-13T10:15:07+00:00",
        "closed_at": "2020-11-13T04:09:01+00:00",
        "comments_count": [
            "ShenYuhan",
            "liuzengzhen1",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 484,
        "title": "ImportError: cannot import name 'HubDataset' from 'paddlehub.dataset'",
        "body": "你好，我直接在Ai.studio上notebook环境使用，版本均未改动\r\n当我from paddlehub.dataset import HubDataset\r\n直接报错：ImportError: cannot import name 'HubDataset' from 'paddlehub.dataset' (/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/__init__.py)\r\n请问这是什么原因导致的呢？\r\n",
        "state": "closed",
        "user": "MINORHDMI",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-30T02:16:51+00:00",
        "updated_at": "2020-04-20T12:05:46+00:00",
        "closed_at": "2020-04-20T12:05:46+00:00",
        "comments_count": [
            "Steffy-zxf",
            "MINORHDMI",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 485,
        "title": "bert service demo请求错误",
        "body": "service 是用的notebooks cpu基础版本： \r\nservice启动命令：hub serving start bert_service -m ernie_tiny --p 8866\r\n而且虽然指定了port但是端口也没变过来。\r\n然后用demo clinet请求 得到如下这个错误信息\r\nstatus_code = int(response_list[0].split(':')[1])\r\n",
        "state": "closed",
        "user": "luoluo001",
        "closed_by": "haoyuying",
        "created_at": "2020-03-30T06:43:11+00:00",
        "updated_at": "2020-11-13T10:16:23+00:00",
        "closed_at": "2020-11-13T04:08:42+00:00",
        "comments_count": [
            "ShenYuhan",
            "luoluo001",
            "luoluo001",
            "luoluo001",
            "ShenYuhan",
            "luoluo001",
            "luoluo001",
            "MRXLT",
            "luoluo001",
            "ultimatedaotu",
            "ChenMiya",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 486,
        "title": "ernie_v2_eng_large模型文档错误",
        "body": "1）PaddleHub和PaddlePaddle版本：paddlehub==1.6.1，paddlepaddle==1.7.1\r\n2）系统环境：docker镜像 nvidia/cuda:9.0-cudnn7-runtime-centos7，Python 2.7.5\r\n\r\n根据[ernie_v2_eng_large模型文档](https://www.paddlepaddle.org.cn/hubdetail?name=ernie_v2_eng_large&en_category=SemanticModel)跑示例代码，报错如下：\r\n```shell\r\n[root@1cab43374dfd ~]# cat test.py\r\nimport paddlehub as hub\r\n\r\n# Load ernie pretrained model\r\nmodule = hub.Module(name=\"ernie_v2_eng_large\")\r\ninputs, outputs, program = module.context(trainable=True, max_seq_len=128)\r\n\r\n# Must feed all the following tensor of ernie's module need\r\ninput_ids = inputs[\"input_ids\"]\r\nposition_ids = inputs[\"position_ids\"]\r\nsegment_ids = inputs[\"segment_ids\"]\r\ninput_mask = inputs[\"input_mask\"]\r\n# task_ids is not necessary during finetuning\r\ntask_ids = inputs[\"task_ids\"]\r\n\r\n[root@1cab43374dfd ~]# python test.py\r\n[2020-03-30 13:06:57,414] [    INFO] - Installing ernie_v2_eng_large module\r\n[2020-03-30 13:06:57,453] [    INFO] - Module ernie_v2_eng_large already installed in /root/.paddlehub/modules/ernie_v2_eng_large\r\n[2020-03-30 13:07:09,317] [    INFO] - Load pretraining parameters from /root/.paddlehub/modules/ernie_v2_eng_large/assets/params.\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 13, in <module>\r\n    task_ids = inputs[\"task_ids\"]\r\nKeyError: 'task_ids'\r\n```\r\n",
        "state": "closed",
        "user": "barrierye",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-30T13:10:18+00:00",
        "updated_at": "2020-04-20T12:07:59+00:00",
        "closed_at": "2020-04-20T12:07:58+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 487,
        "title": "运行demo\\image_classification\\img_classifier.py时报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n\r\n你好，我在win10 64位系统中运行img_classifier.py时，会出现\r\nInvalidArgumentError: Tensor holds the wrong type, it holds int, but desires to be int64_t.\r\n我的paddle版本是1.7.1 paddlehub版本为1.6.0\r\npython版本为3.7.7\r\n我在网上搜索了相关信息，发现paddle的官方csdn文档中提到过可能因为系统的默认数据类型不同，导致windows中会出现错误，那个文档中是这样回答的：\r\n\r\n【该问题很有可能是paddle.fluid.layers.data定义的输入类型不正确，Fluid中需要注意的是对于float而言，float32是主要实数类型，而对int而言，int64是主要标签类型。在使用时，最好对应上。】\r\n\r\n但我不知道如何在这个例子中进行修改，能够帮忙解决，谢谢！",
        "state": "closed",
        "user": "gaooolianggg",
        "closed_by": "haoyuying",
        "created_at": "2020-03-31T02:13:03+00:00",
        "updated_at": "2020-11-13T10:14:15+00:00",
        "closed_at": "2020-11-13T04:09:46+00:00",
        "comments_count": [
            "kinghuin",
            "gaooolianggg",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 488,
        "title": "Aistudio调用Paddlehub的deeplabv3p_xception65_humanseg报错",
        "body": "请问我在aistudio上调用deeplabv3p_xception65_humanseg，为啥提示这个错误\r\n![image](https://user-images.githubusercontent.com/11519247/77999450-45e8d780-7365-11ea-9eee-300cec944ef8.png)\r\n",
        "state": "closed",
        "user": "newdimitri",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-03-31T07:36:08+00:00",
        "updated_at": "2020-04-20T12:07:46+00:00",
        "closed_at": "2020-04-20T12:07:45+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 489,
        "title": "请问文本分类中的dropout做了预测处理吗？？",
        "body": "就是那个再训练时用dropout，而预测时，不是跟训练一样直接舍弃一部分，候是所有的都用，只在过dropout的时候乘概率——这个处理，我想问一下文本分类的那个task里是否已经做了？我貌似没有看到……",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "wxl1351641822",
        "created_at": "2020-03-31T16:38:02+00:00",
        "updated_at": "2020-04-01T11:13:32+00:00",
        "closed_at": "2020-04-01T11:13:32+00:00",
        "comments_count": [
            "Steffy-zxf",
            "wxl1351641822",
            "Steffy-zxf",
            "wxl1351641822",
            "Steffy-zxf",
            "wxl1351641822",
            "Steffy-zxf",
            "wxl1351641822"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 490,
        "title": "deeplabv3p_xception65_humanseg并不能有效的识别一些东西",
        "body": "- 版本、环境信息\r\n1）PaddleHub1.6.1，PaddlePaddle1.7.1\r\n2）系统环境：Windows10 python3.6.8\r\ndeeplabv3p_xception65_humanseg并不能有效的识别深色背景中的深色西装（特朗普演讲照片只能抓个头）、美少女的发饰、画面边缘的白色衣服、白色长袖正面的大范围图案、眼球转到一边去的人、人物手上的东西 等\r\n\r\n请扩大数据集，继续训练，谢谢",
        "state": "closed",
        "user": "SPRCSY",
        "closed_by": "WYB27",
        "created_at": "2020-04-03T05:50:26+00:00",
        "updated_at": "2025-06-30T07:24:27+00:00",
        "closed_at": "2025-06-30T07:24:27+00:00",
        "comments_count": [
            "Steffy-zxf",
            "SPRCSY",
            "SPRCSY"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 491,
        "title": "OSError: [Errno 9] Bad file descriptor",
        "body": "1）PaddleHub和PaddlePaddle版本：`PaddleHub1.6.1`，`PaddlePaddle1.7.1`\r\n2）系统环境：ubuntu18.04, python3.7.3\r\n\r\n出现方式：初次配置，先后pip安装了PaddlePaddle和PaddleHub。然后，命令行输入 `hub`，报出以下错误。hub 其他命令依旧。\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"${ANACONDA_HOME}/bin/hub\", line 6, in <module>\r\n    from paddlehub.commands.hub import main\r\n  File \"${ANACONDA_HOME}/lib/python3.7/site-packages/paddlehub/commands/__init__.py\", line 26, in <module>\r\n    from . import config\r\n  File \"${ANACONDA_HOME}/lib/python3.7/site-packages/paddlehub/commands/config.py\", line 30, in <module>\r\n    HubServer()\r\n  File \"${ANACONDA_HOME}/lib/python3.7/site-packages/paddlehub/common/decorator_utils.py\", line 24, in synced_func\r\n    return func(*args, **kwargs)\r\n  File \"${ANACONDA_HOME}/lib/python3.7/site-packages/paddlehub/common/decorator_utils.py\", line 35, in _get_instance\r\n    _instance[cls] = cls(*args, **kwargs)\r\n  File \"${ANACONDA_HOME}/lib/python3.7/site-packages/paddlehub/common/hub_server.py\", line 59, in __init__\r\n    lock.flock(fp_lock, lock.LOCK_EX)\r\n  File \"${ANACONDA_HOME}/lib/python3.7/site-packages/paddlehub/common/lock.py\", line 38, in flock\r\n    self.lock.flock(fp, cmd)\r\nOSError: [Errno 9] Bad file descriptor\r\n\r\n（${ANACONDA_HOME}为anaconda的主目录）",
        "state": "closed",
        "user": "cheerser",
        "closed_by": "haoyuying",
        "created_at": "2020-04-03T06:22:44+00:00",
        "updated_at": "2021-02-25T03:06:37+00:00",
        "closed_at": "2020-11-13T04:07:54+00:00",
        "comments_count": [
            "ShenYuhan",
            "cheerser",
            "ShenYuhan",
            "haoyuying",
            "Vickzhang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 493,
        "title": "Paddlehub进行finetune时出现Best模型保存错误",
        "body": "## 版本\r\n1.6.0\r\n## 环境\r\nAI Studio 高级版\r\nPython版本 python3.7\r\n框架版本 PaddlePaddle 1.7.0\r\n##  执行代码\r\n### 代码来自官方demo\r\nmodule = hub.Module(name=\"bert_uncased_L-12_H-768_A-12\")\r\ninputs, outputs, program = module.context(trainable=True, max_seq_len=256)\r\ndataset = hub.dataset.SQUAD(version_2_with_negative=False)\r\nreader = hub.reader.ReadingComprehensionReader(\r\n    dataset=dataset,\r\n    vocab_path=module.get_vocab_path(),\r\n    max_seq_len=256,\r\n    doc_stride=128,\r\n    max_query_length=64)\r\n\r\nseq_output = outputs[\"sequence_output\"]\r\n\r\nfeed_list = [\r\n    inputs[\"input_ids\"].name,\r\n    inputs[\"position_ids\"].name,\r\n    inputs[\"segment_ids\"].name,\r\n    inputs[\"input_mask\"].name,\r\n]\r\n\r\nstrategy = hub.AdamWeightDecayStrategy(\r\n    weight_decay=0.01,\r\n    learning_rate=0.00001,\r\n    warmup_proportion=0.1)\r\n\r\nconfig = hub.RunConfig(\r\n    eval_interval=100,\r\n    log_interval=20,\r\n    num_epoch=5,\r\n    batch_size=32,\r\n    checkpoint_dir=\"test_dir\",\r\n    strategy=strategy)\r\n\r\nreading_comprehension_task = hub.ReadingComprehensionTask(\r\n    data_reader=reader,\r\n    feature=seq_output,\r\n    feed_list=feed_list,\r\n    config=config,\r\n    sub_task=\"squad\",\r\n)\r\n\r\nreading_comprehension_task.finetune_and_eval()\r\n\r\n## 报错信息：\r\n[2020-04-03 15:36:44,364] [   TRAIN] - step 400 / 15168: loss=4.22770 [step/sec: 1.75]\r\n[2020-04-03 15:36:44,365] [    INFO] - Evaluation on dev dataset start\r\nshare_vars_from is set, scope is ignored.\r\n[2020-04-03 15:39:01,824] [    EVAL] - [dev dataset evaluation result] loss=4.13981 exact_match=7.82403 f1=15.55682 [step/sec: 5.86]\r\n[2020-04-03 15:39:01,825] [    EVAL] - best model saved to test_dir/best_model [best exact_match=7.82403]\r\n---------------------------------------------------------------------------ValueError                                Traceback (most recent call last)<ipython-input-14-5e87385ca310> in <module>\r\n     50 \r\n     51 # Finetune by PaddleHub's API\r\n---> 52 reading_comprehension_task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n    861 \r\n    862     def finetune_and_eval(self):\r\n--> 863         return self.finetune(do_eval=True)\r\n    864 \r\n    865     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n    882                 while self.current_epoch <= self.config.num_epoch:\r\n    883                     self.config.strategy.step()\r\n--> 884                     run_states = self._run(do_eval=do_eval)\r\n    885                     self.env.current_epoch += 1\r\n    886 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n   1095 \r\n   1096                     if do_eval and self.current_step % self.config.eval_interval == 0:\r\n-> 1097                         self._eval_interval_event()\r\n   1098 \r\n   1099                 self._run_step_event(step_run_state)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in hook_function(self, *args)\r\n    628             for name, func in self._hooks[hook_type].items():\r\n    629                 if inspect.ismethod(func):\r\n--> 630                     func(*args)\r\n    631                 else:\r\n    632                     partial(func, self)(*args)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _default_eval_interval_event(self)\r\n    780 \r\n    781     def _default_eval_interval_event(self):\r\n--> 782         self.eval(phase=\"dev\")\r\n    783 \r\n    784     def _default_run_step_event(self, run_state):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in eval(self, phase, load_best_model)\r\n    920             self._eval_start_event()\r\n    921             run_states = self._run()\r\n--> 922             self._eval_end_event(run_states)\r\n    923             return run_states\r\n    924 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in hook_function(self, *args)\r\n    628             for name, func in self._hooks[hook_type].items():\r\n    629                 if inspect.ismethod(func):\r\n--> 630                     func(*args)\r\n    631                 else:\r\n    632                     partial(func, self)(*args)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _default_eval_end_event(self, run_states)\r\n    751             logger.eval(\"best model saved to %s [best %s=%.5f]\" %\r\n    752                         (model_saved_dir, main_metric, main_value))\r\n--> 753             self.save_inference_model(dirname=model_saved_dir)\r\n    754 \r\n    755     def _default_log_interval_event(self, run_states):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in save_inference_model(self, dirname, model_filename, params_filename)\r\n    858                 main_program=self.main_program,\r\n    859                 model_filename=model_filename,\r\n--> 860                 params_filename=params_filename)\r\n    861 \r\n    862     def finetune_and_eval(self):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/io.py in save_inference_model(dirname, feeded_var_names, target_vars, executor, main_program, model_filename, params_filename, export_for_deployment, program_only)\r\n   1216 \r\n   1217         main_program = main_program._prune_with_input(\r\n-> 1218             feeded_var_names=feeded_var_names, targets=target_vars)\r\n   1219         main_program = main_program._inference_optimize(prune_read_op=True)\r\n   1220         fetch_var_names = [v.name for v in target_vars]\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py in _prune_with_input(self, feeded_var_names, targets)\r\n   4120                     if t is None:\r\n   4121                         raise ValueError(\r\n-> 4122                             \"The target variable must have an \"\r\n   4123                             \"associated operator that generates it.\")\r\n   4124                 else:\r\nValueError: The target variable must have an associated operator that generates it.\r\n\r\n",
        "state": "closed",
        "user": "x286202",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-03T07:50:05+00:00",
        "updated_at": "2020-06-01T12:07:16+00:00",
        "closed_at": "2020-06-01T12:07:16+00:00",
        "comments_count": [
            "Steffy-zxf",
            "x286202",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 496,
        "title": "请问paddlehub如何升级到最新版",
        "body": "",
        "state": "closed",
        "user": "mcl-stone",
        "closed_by": "mcl-stone",
        "created_at": "2020-04-04T03:35:51+00:00",
        "updated_at": "2020-04-04T04:23:19+00:00",
        "closed_at": "2020-04-04T04:22:11+00:00",
        "comments_count": [
            "mcl-stone",
            "Steffy-zxf",
            "mcl-stone"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 495,
        "title": "使用config.json启动hub serving方式报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "mcl-stone",
        "closed_by": "mcl-stone",
        "created_at": "2020-04-03T09:57:19+00:00",
        "updated_at": "2020-04-05T09:33:44+00:00",
        "closed_at": "2020-04-05T09:33:43+00:00",
        "comments_count": [
            "mcl-stone",
            "mcl-stone",
            "mcl-stone",
            "mcl-stone",
            "mcl-stone",
            "ShenYuhan",
            "mcl-stone",
            "ShenYuhan",
            "mcl-stone",
            "mcl-stone",
            "mcl-stone",
            "mcl-stone"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 497,
        "title": "您好，文本分类推理的写法能否优化。",
        "body": "鉴于目前，那边的平台只能一条一条的载入文本预测，，，所以推理速度慢的想哭。\r\n我觉得是我的写法存在漏洞。\r\n想问问有没有什么优化措施，请不吝赐教。\r\n```\r\n    def predict(self, title, text):\r\n        '''\r\n        模型预测返回结果\r\n        :param input: 评估传入样例 {\"title\": \"心率为72bpm是正常的吗\", \"text\": \"最近不知道怎么回事总是感觉心脏不舒服...\"}\r\n        :return: 模型预测成功中户 {\"label\": \"心血管科\"}\r\n        '''\r\n        text_line = title+text\r\n        predict_data = [[ text_line ]]\r\n        run_states = self.cls_task.predict(data=predict_data)\r\n        results = [run_state.run_results for run_state in run_states]                    \r\n        pred = self.label_list[np.argmax(results[0][0][0])]\r\n        return {'label': pred}\r\n```\r\n",
        "state": "closed",
        "user": "alwaysbetter1314",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-04T05:05:19+00:00",
        "updated_at": "2020-04-20T12:12:54+00:00",
        "closed_at": "2020-04-20T12:12:53+00:00",
        "comments_count": [
            "Steffy-zxf",
            "alwaysbetter1314",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 498,
        "title": "demo/maskdetection保存视频失败",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub1.6.1，PaddlePaddle1.7.0\r\n2）系统环境：ubuntu18.04，python版本 3.7.6\r\n按照教程运行后，图像和视频都保存下来，图片正常，但是视频打不开\r\n报错： 此文件不包含可以播放的流\r\n是保存格式问题，还是额外需要安装其他的环境依赖问题？\r\n\r\n",
        "state": "closed",
        "user": "xiaomujiang",
        "closed_by": "xiaomujiang",
        "created_at": "2020-04-05T05:35:36+00:00",
        "updated_at": "2020-04-06T13:07:16+00:00",
        "closed_at": "2020-04-06T13:07:16+00:00",
        "comments_count": [
            "xiaomujiang",
            "xiaomujiang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 499,
        "title": "是否有anaconda的安装方式实现对paddlehub的安装",
        "body": "是否有anaconda的安装方式实现对paddlehub的安装？",
        "state": "closed",
        "user": "Hsoms",
        "closed_by": "Hsoms",
        "created_at": "2020-04-05T07:49:08+00:00",
        "updated_at": "2020-04-06T07:42:59+00:00",
        "closed_at": "2020-04-06T07:42:59+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 500,
        "title": "[Window]InvalidArgumentError: Tensor holds the wrong type, it holds int, but desires to be int64_t.",
        "body": "Paddle 1.7.1  PaddleHub 1.6.1 window操作系统\r\n按照[PaddleHub进行图像分类](https://aistudio.baidu.com/aistudio/projectdetail/375473?pV=65216)例子在本地尝试时，运行到Step5、Fine-tune时报错：\r\n\r\n> ----------------------\r\n>Error Message Summary:\r\n>----------------------\r\n>InvalidArgumentError: Tensor holds the wrong type, it holds int, but desires to be int64_t.\r\n>  [Hint: Expected valid == true, but received valid:0 != true:1.] at (D:\\1.7.1\\paddle\\paddle/fluid/framework/tensor_impl.h:33)\r\n  [operator < cross_entropy2 > error]",
        "state": "closed",
        "user": "liuchang0523",
        "closed_by": "liuchang0523",
        "created_at": "2020-04-05T10:57:42+00:00",
        "updated_at": "2021-06-19T08:47:04+00:00",
        "closed_at": "2020-04-07T02:29:03+00:00",
        "comments_count": [
            "Steffy-zxf",
            "liuchang0523",
            "wk-mike",
            "wk-mike",
            "wkxu",
            "wk-mike"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 501,
        "title": "Request Hub-Server unsuccessfully.",
        "body": "错误提示\r\n[2020-04-05 19:47:03,574] [   ERROR] - Request Hub-Server unsuccessfully, please check your network.\r\nTraceback (most recent call last):\r\n  File \"D:/MyCode/BaiduAI/Cutout/cutout.py\", line 25, in <module>\r\n    module = hub.Module(name=\"deeplabv3p_xception65_humanseg\")\r\n  File \"D:\\MySoftwares\\Miniconda3.4.5.12\\envs\\py37_ai\\lib\\site-packages\\paddlehub\\module\\module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"D:\\MySoftwares\\Miniconda3.4.5.12\\envs\\py37_ai\\lib\\site-packages\\paddlehub\\module\\module.py\", line 173, in init_with_name\r\n    raise RuntimeError(tips)\r\nRuntimeError: Request Hub-Server unsuccessfully, please check your network.\r\n\r\n我该怎么检查我的network，怎么设置我的network, 还是有什么配置文件配错了。\r\n以下是我的 conf/config.json:\r\n{\r\n\"server_url\": [\r\n\"http://paddlepaddle.org.cn/paddlehub\"\r\n],\r\n\"resource_storage_server_url\": \"https://bj.bcebos.com/paddlehub-data/\",\r\n\"debug\": false,\r\n\"log_level\": \"DEBUG\"\r\n}",
        "state": "closed",
        "user": "Thankyouforit",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-05T11:50:26+00:00",
        "updated_at": "2020-04-20T12:13:28+00:00",
        "closed_at": "2020-04-20T12:13:28+00:00",
        "comments_count": [
            "ShenYuhan",
            "Thankyouforit",
            "ShenYuhan",
            "Thankyouforit",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 502,
        "title": "paddlehub做图像迁移的时候遇到错误",
        "body": "平台：AiStudio\r\n框架：paddle 1.7 paddlehub 1.6.1\r\n项目：图片十分类迁移学习\r\n模型：resnet_v2_50_imagenet\r\n**在用paddlehub做图像分类迁移学习的时候，自定义dataset，构建reader时运行显示：**\r\n[    INFO] - Dataset is None or it has not any labels, label map = {}\r\n**在Finetune的时候，报错：**\r\nAttributeError: 'MyDataSet' object has no attribute 'dev_examples'\r\n**详细错误**：1 #开始Finetune\r\n----> 2 task.finetune_and_eval()\r\n      3 print('over')\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n    862 \r\n    863     def finetune_and_eval(self):\r\n--> 864         return self.finetune(do_eval=True)\r\n    865 \r\n    866     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n    887 \r\n    888                 # Final evaluation\r\n--> 889                 if self._base_data_reader.get_dev_examples() != []:\r\n    890                     # Warning: DO NOT use self.eval(phase=\"dev\", load_best_model=True) during training.\r\n    891                     # It will cause trainer unable to continue training from checkpoint after eval.\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/base_reader.py in get_dev_examples(self)\r\n     26 \r\n     27     def get_dev_examples(self):\r\n---> 28         return self.dataset.get_dev_examples()\r\n     29 \r\n     30     def get_test_examples(self):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/base_cv_dataset.py in get_dev_examples(self)\r\n    157 \r\n    158     def get_dev_examples(self):\r\n--> 159         return self.dev_examples\r\n    160 \r\n    161     def get_test_examples(self):\r\nAttributeError: 'MyDataSet' object has no attribute 'dev_examples'\r\n\r\n**自定义文件格式：**\r\n**train_list.txt:**\r\n0/IMG_1118.JPG 0\r\n0/IMG_1128.JPG 0\r\n0/IMG_1138.JPG 0\r\n0/IMG_1148.JPG 0\r\n0/IMG_1158.JPG 0\r\n......\r\n**test_list.txt:**\r\n0/IMG_5746.JPG 0\r\n0/IMG_5756.JPG 0\r\n0/IMG_5766.JPG 0\r\n0/IMG_5776.JPG 0\r\n0/IMG_5786.JPG 0\r\n......\r\n**validata.txt:**\r\n0/IMG_4896.JPG 0\r\n0/IMG_4906.JPG 0\r\n0/IMG_4916.JPG 0\r\n0/IMG_4926.JPG 0\r\n0/IMG_4936.JPG 0\r\n......\r\n**label_list.txt:**\r\nzero\r\none\r\ntwo\r\nthree\r\nfore\r\nfive\r\nsix\r\nseven\r\neight\r\nnigh\r\n\r\n文件中的空格是用python写入的，f.write(' ')，试过写入f.write('\\t')，f.write('\\000')，都不起作用，找不到问题所在\r\n\r\n",
        "state": "closed",
        "user": "youkai-dbc",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-05T13:46:03+00:00",
        "updated_at": "2020-04-20T12:15:53+00:00",
        "closed_at": "2020-04-20T12:15:53+00:00",
        "comments_count": [
            "kinghuin",
            "youkai-dbc",
            "kinghuin",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 503,
        "title": "stylepro_artistic API内存不足",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\nPaddleHub1.6.1，paddlepaddle-gpu     1.7.1.post97   \r\n2）系统环境：\r\n\r\naistudio平台GPU环境\r\n\r\nstylepro_artistic 使用GPU出错,在转换多张照片之后.\r\n\r\n代码:\r\n`def stylepro_artistic(fore_image_path,paddlehub_out_path): \r\n# 1.指定待预测图片路径，遍历循环抠图 保存到 paddlehub_out_path\r\n    g = os.walk(fore_image_path)\r\n    for path,dir_list,file_list in g: \r\n        file_list = natsorted(file_list)\r\n        for file_name in file_list:\r\n            #取出一个前景文件\r\n            front_pic = os.path.join(path, file_name)\r\n            # print (front_pic)\r\n            # 2.加载预训练模型\r\n            module = paddlehub.Module(name=\"stylepro_artistic\")\r\n            input_dict = {\"content\": front_pic,\"styles\":[\"/home/aistudio/work/Picasso_pic.jpg\"]}\r\n            #print (input_dict)\r\n            #GPU开启下面一行,如果用下面一行，必须安装paddlepaddle-gpu\r\n            results = module.style_transfer(paths=[input_dict],use_gpu = True,visualization=True,output_dir=paddlehub_out_path)\r\n            #以下还可以优化吗\r\n            #for result in results: \r\n            #print(result)\r\nstylepro_artistic(front_path,HUMANSEG_SPACE)\r\n`\r\n![TIM截图20200405232521](https://user-images.githubusercontent.com/18821732/78502871-e12ee200-7795-11ea-8680-830b617f09b1.png)\r\n",
        "state": "closed",
        "user": "60999",
        "closed_by": "WYB27",
        "created_at": "2020-04-05T15:37:37+00:00",
        "updated_at": "2025-06-30T07:24:25+00:00",
        "closed_at": "2025-06-30T07:24:25+00:00",
        "comments_count": [
            "nepeplwu",
            "60999",
            "nepeplwu",
            "60999",
            "InternetMaster1",
            "Steffy-zxf",
            "InternetMaster1",
            "InternetMaster1"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 504,
        "title": "finetune完成后，怎么导入训练好的参数？",
        "body": "finetune结束后，参数是保存到checkpoint文件夹了吗？下次用的时候怎么导入？\r\n\r\n",
        "state": "closed",
        "user": "sunw71",
        "closed_by": "haoyuying",
        "created_at": "2020-04-06T13:31:46+00:00",
        "updated_at": "2020-11-13T10:16:47+00:00",
        "closed_at": "2020-11-13T04:08:10+00:00",
        "comments_count": [
            "kinghuin",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 505,
        "title": "本地win10安装paddlehub不管用",
        "body": "```\r\nD:\\ruanjian\\Miniconda3\\envs\\paddle_env\\python.exe F:/比赛/情感分析数据集/code/bert_seq_lstm.py\r\nTraceback (most recent call last):\r\n  File \"F:/比赛/情感分析数据集/code/bert_seq_lstm.py\", line 21, in <module>\r\n    import paddlehub as hub\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\__init__.py\", line 25, in <module>\r\n    from . import module\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\__init__.py\", line 16, in <module>\r\n    from . import module\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\module.py\", line 31, in <module>\r\n    from paddlehub.common import utils\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\common\\__init__.py\", line 16, in <module>\r\n    from . import utils\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\common\\utils.py\", line 33, in <module>\r\n    from paddlehub.common.logger import logger\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 155, in <module>\r\n    logger = Logger()\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 67, in __init__\r\n    level = json.load(fp).get(\"log_level\", \"DEBUG\")\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\json\\__init__.py\", line 296, in load\r\n    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\json\\__init__.py\", line 348, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\json\\decoder.py\", line 337, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"D:\\ruanjian\\Miniconda3\\envs\\paddle_env\\lib\\json\\decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\r\n```\r\n请问这个是什么情况？",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "wxl1351641822",
        "created_at": "2020-04-08T16:09:34+00:00",
        "updated_at": "2020-04-11T14:20:57+00:00",
        "closed_at": "2020-04-11T14:20:57+00:00",
        "comments_count": [
            "nepeplwu",
            "wxl1351641822",
            "wxl1351641822",
            "Steffy-zxf",
            "wxl1351641822",
            "Steffy-zxf",
            "wxl1351641822"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 506,
        "title": "词法分析问题",
        "body": "词法分析只有lac?有没有可以直接调用的ernie?",
        "state": "closed",
        "user": "zgd716",
        "closed_by": "zgd716",
        "created_at": "2020-04-09T06:13:21+00:00",
        "updated_at": "2020-04-09T06:22:55+00:00",
        "closed_at": "2020-04-09T06:22:42+00:00",
        "comments_count": [
            "zgd716"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 507,
        "title": "Senta-Bilstm fine-tune后predict报错LACClassifyReader does not support predictor, please close accelerate_mode",
        "body": "版本、环境信息\r\n1）PaddleHub：1.6.1  PaddlePaddle：1.7.1\r\n2）系统环境：AI STUDIO高级版\r\n\r\n问题描述：\r\nSenta-Bilstm fine-tune后predict报错：\r\nLACClassifyReader does not support predictor, please close accelerate_mode\r\n\r\n项目地址：\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/311069\r\n",
        "state": "closed",
        "user": "yocen",
        "closed_by": "haoyuying",
        "created_at": "2020-04-09T08:32:42+00:00",
        "updated_at": "2020-10-22T12:08:19+00:00",
        "closed_at": "2020-10-22T12:08:19+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 508,
        "title": "hub 预测每次都下载",
        "body": "hub run yolov3_darknet53_coco2017 --input_path \"/PATH/TO/IMAGE\"\r\n使用hub时每次执行都重复下载，有下载一次不再下载的参数吗？\r\nDownloading yolov3_darknet53_coco2017\r\n[==================================================] 100.00%\r\nUncompress /home/mcl/.paddlehub/tmp/tmpvb26tsku/yolov3_darknet53_coco2017\r\n[==================================================] 100.00%\r\nSuccessfully installed yolov3_darknet53_coco2017-1.0.0\r\n",
        "state": "closed",
        "user": "mcl-stone",
        "closed_by": "haoyuying",
        "created_at": "2020-04-09T09:44:11+00:00",
        "updated_at": "2020-10-22T12:04:16+00:00",
        "closed_at": "2020-10-22T12:04:16+00:00",
        "comments_count": [
            "ShenYuhan",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 509,
        "title": "加载finetune好的senta-bilstm模型跑预测，第一次preditct正常，第二次preditct报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.6.1，PaddlePaddle1.7.1\r\n2）系统环境：AI STUDIO高级版\r\n- 复现信息：\r\n加载finetune好的senta-bilstm模型跑task.predict，首次运行task.predict正常，紧接着更改预测数据再跑task.predict，会报错，必须重启notebook重新加载模型才能再跑预测。\r\n项目地址：https://aistudio.baidu.com/aistudio/projectdetail/311069\r\n错误信息：\r\n---------------------------------------------------------------------------ValueError                                Traceback (most recent call last)<ipython-input-4-7d1f4e42a9ac> in <module>\r\n      6 run_states = cls_task.predict(\r\n      7     data=data,\r\n----> 8     accelerate_mode=False)\r\n      9 \r\n     10 results = [run_state.run_results for run_state in run_states]\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in predict(self, data, load_best_model, return_result, accelerate_mode)\r\n   1014                 self.init_if_necessary()\r\n   1015             if not self.accelerate_mode:\r\n-> 1016                 run_states = self._run()\r\n   1017             else:\r\n   1018                 if not self._predictor:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n   1072             period_run_states = []\r\n   1073 \r\n-> 1074             for run_step, batch in enumerate(data_reader(), start=1):\r\n   1075                 step_run_state = RunState(len(self.fetch_list))\r\n   1076                 step_run_state.run_step = 1\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/data_feeder.py in __reader_creator__()\r\n    494                     item.append(batch)\r\n    495                     if len(item) == num:\r\n--> 496                         yield list(self.feed_parallel(item, num))\r\n    497                         item = []\r\n    498                 if not drop_last and len(item) != 0:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/data_feeder.py in feed_parallel(self, iterable, num_places)\r\n    407         for p, batch in six.moves.zip(places, iterable):\r\n    408             self.place = p\r\n--> 409             yield self.feed(batch)\r\n    410         self.place = place\r\n    411 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/data_feeder.py in feed(self, iterable)\r\n    328         for each_name, each_converter in six.moves.zip(self.feed_names,\r\n    329                                                        converter):\r\n--> 330             ret_dict[each_name] = each_converter.done()\r\n    331         return ret_dict\r\n    332 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/data_feeder.py in done(self)\r\n    137 \r\n    138     def done(self):\r\n--> 139         arr = numpy.array(self.data, dtype=self.dtype)\r\n    140         if self.shape:\r\n    141             if len(arr.shape) != len(self.shape):\r\nValueError: invalid literal for int() with base 10: '酒'",
        "state": "closed",
        "user": "yocen",
        "closed_by": "haoyuying",
        "created_at": "2020-04-10T03:51:14+00:00",
        "updated_at": "2021-04-14T12:46:16+00:00",
        "closed_at": "2021-04-14T12:46:15+00:00",
        "comments_count": [
            "kinghuin",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 511,
        "title": "please use 'application/json' as content-type to post to /predict/senta_lstm",
        "body": "\r\ntext_list = [\"我不爱吃甜食\", \"我喜欢躺在床上看电影\"]\r\ntext = {\"text\": text_list}\r\nurl = \"http://192.168.126.186:8866/predict/text/senta_lstm\"\r\nr = requests.post(url=url, data=text)\r\n\r\n运行返回please use 'application/json' as content-type to post to /predict/senta_lstm，是什么原因 代码和Demo一样",
        "state": "closed",
        "user": "mango941231",
        "closed_by": "haoyuying",
        "created_at": "2020-04-10T07:34:03+00:00",
        "updated_at": "2021-04-14T12:45:58+00:00",
        "closed_at": "2021-04-14T12:45:58+00:00",
        "comments_count": [
            "ShenYuhan",
            "mango941231",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 513,
        "title": "训练得到的结果可以可视化吗？",
        "body": "训练得到的参数文件夹里面有个visualization文件夹，里面的文件是用来可视化的吗？怎么用？谢谢\r\n",
        "state": "closed",
        "user": "sunw71",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-10T11:33:47+00:00",
        "updated_at": "2020-06-01T12:04:30+00:00",
        "closed_at": "2020-06-01T12:04:30+00:00",
        "comments_count": [
            "nepeplwu",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 514,
        "title": "hub命令行无法使用",
        "body": "使用hub 命令行时一直卡着不动，请问一下这个怎么解决呢\r\n如使用hub help时：\r\nversions/3.6.5/lib/python3.6/site-packages/sklearn/externals/joblib/_multiprocessing_helpers.py:28: UserWarning: This platform lacks a functioning sem_open implementation, therefore, the required synchronization primitives needed will not function, see issue 3770..  joblib will operate in serial mode\r\n  warnings.warn('%s.  joblib will operate in serial mode' % (e,))",
        "state": "closed",
        "user": "Mryangkaitong",
        "closed_by": "haoyuying",
        "created_at": "2020-04-10T14:15:56+00:00",
        "updated_at": "2020-11-13T10:10:08+00:00",
        "closed_at": "2020-11-13T04:15:18+00:00",
        "comments_count": [
            "nepeplwu",
            "Mryangkaitong",
            "nepeplwu",
            "Mryangkaitong",
            "nepeplwu",
            "Mryangkaitong",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 512,
        "title": "文本分类 或者分词不能同时调用",
        "body": "\r\n\r\n1. PaddleHub 1.5.4   PaddlePaddle 1.7.1post107 \r\n2. linux   python 3.69 \r\n\r\n\r\n使用python  flask 框架编写服务 \r\n 文本分类服务 ,  分词\r\n  在一定的时间内多个线程 多台机器只调用 文本分类 或者分词 不会报错\r\n \r\n但是如果多个线程 有不同的线程调用文本分类 或者分类 就是两个接口都会调用 就会报错 服务还会直接挂掉\r\n\r\n此错误会导致服务直接挂掉\r\nW0410 17:05:46.529703 22852 init.cc:209] Warning: PaddlePaddle catches a failure signal, it may not work properly\r\nW0410 17:05:46.529724 22852 init.cc:211] You could check whether you killed PaddlePaddle thread/process accidentally or report the case to PaddlePaddle\r\nW0410 17:05:46.529728 22852 init.cc:214] The detail failure signal is:\r\n\r\nW0410 17:05:46.529732 22852 init.cc:217] *** Aborted at 1586509546 (unix time) try \"date -d @1586509546\" if you are using GNU date ***\r\nW0410 17:05:46.532021 22852 init.cc:217] PC: @                0x0 (unknown)\r\nW0410 17:05:46.532105 22852 init.cc:217] *** SIGSEGV (@0x9) received by PID 22469 (TID 0x7f29df7fe700) from PID 9; stack trace: ***\r\nW0410 17:05:46.534162 22852 init.cc:217]     @     0x7f2c44f2a5f0 (unknown)\r\nW0410 17:05:46.536512 22852 init.cc:217]     @     0x7f2bf1bc2fef std::_Sp_counted_base<>::_M_release()\r\nW0410 17:05:46.538888 22852 init.cc:217]     @     0x7f2bf1bc48bc std::vector<>::operator=()\r\nW0410 17:05:46.542672 22852 init.cc:217]     @     0x7f2bf412036d paddle::operators::FetchOp::RunImpl()\r\nW0410 17:05:46.545567 22852 init.cc:217]     @     0x7f2bf4827ed0 paddle::framework::OperatorBase::Run()\r\nW0410 17:05:46.549872 22852 init.cc:217]     @     0x7f2bf1f266c6 paddle::framework::Executor::RunPreparedContext()\r\nW0410 17:05:46.552654 22852 init.cc:217]     @     0x7f2bf1f29d8b paddle::framework::Executor::Run()\r\nW0410 17:05:46.553498 22852 init.cc:217]     @     0x7f2bf1babf8e _ZZN8pybind1112cpp_function10initializeIZN6paddle6pybindL22pybind11_init_core_avxERNS_6moduleEEUlRNS2_9framework8ExecutorERKNS6_11ProgramDescEPNS6_5ScopeEibbRKSt6vectorISsSaISsEEE108_vIS8_SB_SD_ibbSI_EINS_4nameENS_9is_methodENS_7siblingEEEEvOT_PFT0_DpT1_EDpRKT2_ENUlRNS_6detail13function_callEE1_4_FUNES10_\r\nW0410 17:05:46.555279 22852 init.cc:217]     @     0x7f2bf1c00461 pybind11::cpp_function::dispatcher()\r\nW0410 17:05:46.555611 22852 init.cc:217]     @     0x55d258db1c54 _PyCFunction_FastCallDict\r\nW0410 17:05:46.555817 22852 init.cc:217]     @     0x55d258e39c0e call_function\r\nW0410 17:05:46.556154 22852 init.cc:217]     @     0x55d258e5c75a _PyEval_EvalFrameDefault\r\nW0410 17:05:46.556355 22852 init.cc:217]     @     0x55d258e32e66 _PyEval_EvalCodeWithName\r\nW0410 17:05:46.556551 22852 init.cc:217]     @     0x55d258e33ed6 fast_function\r\nW0410 17:05:46.556752 22852 init.cc:217]     @     0x55d258e39b95 call_function\r\nW0410 17:05:46.557062 22852 init.cc:217]     @     0x55d258e5d51c _PyEval_EvalFrameDefault\r\nW0410 17:05:46.557279 22852 init.cc:217]     @     0x55d258e32e66 _PyEval_EvalCodeWithName\r\nW0410 17:05:46.557477 22852 init.cc:217]     @     0x55d258e33ed6 fast_function\r\nW0410 17:05:46.557678 22852 init.cc:217]     @     0x55d258e39b95 call_function\r\nW0410 17:05:46.557986 22852 init.cc:217]     @     0x55d258e5d51c _PyEval_EvalFrameDefault\r\nW0410 17:05:46.558207 22852 init.cc:217]     @     0x55d258e32e66 _PyEval_EvalCodeWithName\r\nW0410 17:05:46.558408 22852 init.cc:217]     @     0x55d258e33ed6 fast_function\r\nW0410 17:05:46.558609 22852 init.cc:217]     @     0x55d258e39b95 call_function\r\nW0410 17:05:46.558917 22852 init.cc:217]     @     0x55d258e5d51c _PyEval_EvalFrameDefault\r\nW0410 17:05:46.559137 22852 init.cc:217]     @     0x55d258e32e66 _PyEval_EvalCodeWithName\r\nW0410 17:05:46.559337 22852 init.cc:217]     @     0x55d258e33ed6 fast_function\r\nW0410 17:05:46.559538 22852 init.cc:217]     @     0x55d258e39b95 call_function\r\nW0410 17:05:46.559847 22852 init.cc:217]     @     0x55d258e5d51c _PyEval_EvalFrameDefault\r\nW0410 17:05:46.560042 22852 init.cc:217]     @     0x55d258e32e66 _PyEval_EvalCodeWithName\r\nW0410 17:05:46.560253 22852 init.cc:217]     @     0x55d258e33e73 fast_function\r\nW0410 17:05:46.560456 22852 init.cc:217]     @     0x55d258e39b95 call_function\r\nW0410 17:05:46.560765 22852 init.cc:217]     @     0x55d258e5c75a _PyEval_EvalFrameDefault\r\n^Cbash: 行 1: 22469 段错误               (吐核)env \"JETBRAINS_REMOTE_RUN\"=\"1\" \"LIBRARY_ROOTS\"=\"C:/Users/Administrator/.PyCharm2018.3/system/remote_sources/1956375958/732364776;C:/Users/Administrator/.PyCharm2018.3/system/remote_sources/1956375958/-1465301300;C:/Users/Administrator/.PyCharm2018.3/system/python_stubs/1956375958;F:/开发软件/PyCharm 2018.3.5/helpers/python-skeletons;F:/开发软件/PyCharm 2018.3.5/helpers/typeshed/stdlib/3;F:/开发软件/PyCharm 2018.3.5/helpers/typeshed/stdlib/2and3;F:/开发软件/PyCharm 2018.3.5/helpers/typeshed/third_party/3;F:/开发软件/PyCharm 2018.3.5/helpers/typeshed/third_party/2and3\" \"PYDEVD_LOAD_VALUES_ASYNC\"=\"True\" \"PYTHONPATH\"=\"/home/ssh-project/pwlp-judged:/root/.pycharm_helpers/pycharm_matplotlib_backend:/root/.pycharm_helpers/third_party/thriftpy:/root/.pycharm_helpers/pydev:C:/Users/Administrator/.PyCharm2018.3/system/cythonExtensions:/home/ssh-project/pwlp-judged\" \"PYTHONIOENCODING\"=\"UTF-8\" \"PYTHONDONTWRITEBYTECODE\"=\"1\" \"IPYTHONENABLE\"=\"True\" \"PYCHARM_MATPLOTLIB_PORT\"=\"51810\" \"PYCHARM_HOSTED\"=\"1\" \"PYTHONUNBUFFERED\"=\"1\" \"IDE_PROJECT_ROOTS\"=\"/home/ssh-project/pwlp-judged\" '/home/anaconda3/envs/cail/bin/python3.6' '-u' '/root/.pycharm_helpers/pydev/pydevd.py' '--multiproc' '--qt-support=auto' '--client' '0.0.0.0' '--port' '42281' '--file' '/home/ssh-project/pwlp-judged/setup.py'\r\n\r\n此错误导致程序不能正常调用\r\n\r\n\r\n  File \"/home/anaconda3/envs/cail/lib/python3.6/site-packages/flask/app.py\", line 1949, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/anaconda3/envs/cail/lib/python3.6/site-packages/flask/app.py\", line 1935, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/ssh-project/pwlp-judged/controller/paddle_nlp_controller.py\", line 71, in initCustomIdfCorpus\r\n    utils.init_custom_idf_corpus(document_list,allowPOS=('ns', 'n', 'vn', 'v', 'a'))\r\n  File \"/home/ssh-project/pwlp-judged/paddlenlp/utils/utils.py\", line 67, in init_custom_idf_corpus\r\n    default_tfidf.init_custom_idf_corpus(sentence_list,allowPOS)\r\n  File \"/home/ssh-project/pwlp-judged/paddlenlp/extractkeyword/tfidf.py\", line 162, in init_custom_idf_corpus\r\n    words = self.seg_sentence(allowPOS, sentence)\r\n  File \"/home/ssh-project/pwlp-judged/paddlenlp/extractkeyword/tfidf.py\", line 122, in seg_sentence\r\n    wt = self.tokenizer.lexical_analysis(sentence)\r\n  File \"/home/ssh-project/pwlp-judged/paddlenlp/utils/utils.py\", line 32, in lexical_analysis\r\n    return lac.lexical_analysis(data={'text': document}, user_dict=None)\r\n  File \"/home/anaconda3/envs/cail/lib/python3.6/site-packages/paddlehub/module/module.py\", line 543, in __call__\r\n    return_numpy=False)\r\n  File \"/home/anaconda3/envs/cail/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 783, in run\r\n    six.reraise(*sys.exc_info())\r\n  File \"/home/anaconda3/envs/cail/lib/python3.6/site-packages/six.py\", line 696, in reraise\r\n    raise value\r\n  File \"/home/anaconda3/envs/cail/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 778, in run\r\n    use_program_cache=use_program_cache)\r\n  File \"/home/anaconda3/envs/cail/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 831, in _run_impl\r\n    use_program_cache=use_program_cache)\r\n  File \"/home/anaconda3/envs/cail/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 905, in _run_program\r\n    fetch_var_name)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<std::string const&>(std::string const&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2   paddle::operators::LookupTableKernel<float>::Compute(paddle::framework::ExecutionContext const&) const\r\n3   std::_Function_handler<void (paddle::framework::ExecutionContext const&), paddle::framework::OpKernelRegistrarFunctor<paddle::platform::CPUPlace, false, 0ul, paddle::operators::LookupTableKernel<float>, paddle::operators::LookupTableKernel<double>, paddle::operators::LookupTableKernel<signed char> >::operator()(char const*, char const*, int) const::{lambda(paddle::framework::ExecutionContext const&)#1}>::_M_invoke(std::_Any_data const&, paddle::framework::ExecutionContext const&)\r\n4   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&, paddle::framework::RuntimeContext*) const\r\n5   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n6   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, paddle::platform::Place const&)\r\n7   paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool)\r\n8   paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::vector<std::string, std::allocator<std::string> > const&, bool, bool)\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Variable value (input) of OP(fluid.layers.embedding) expected >= 0 and < 20941, but got 4575161256734962900. Please check input value.\r\n  [Hint: Expected ids[i] < row_number, but received ids[i]:4575161256734962900 >= row_number:20941.] at (/paddle/paddle/fluid/operators/lookup_table_op.h:94)\r\n  [operator < lookup_table > error]\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "1205469665",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-10T09:27:43+00:00",
        "updated_at": "2020-06-01T12:06:51+00:00",
        "closed_at": "2020-06-01T12:06:51+00:00",
        "comments_count": [
            "nepeplwu",
            "1205469665",
            "1205469665",
            "1205469665",
            "1205469665",
            "nepeplwu",
            "1205469665",
            "nepeplwu",
            "1205469665",
            "ShenYuhan",
            "1205469665",
            "1205469665",
            "nepeplwu",
            "1205469665",
            "nepeplwu",
            "1205469665",
            "nepeplwu",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 516,
        "title": "CPU_NUM设置",
        "body": "CPU跑程序，出现需要优化的警告，需要在程序哪里设置一下吗？\r\n```\r\n!!! The CPU_NUM is not specified, you should set CPU_NUM in the environment variable list.\r\nCPU_NUM indicates that how many CPUPlace are used in the current task.\r\nAnd if this parameter are set as N (equal to the number of physical CPU core) the program may be faster.\r\n\r\nexport CPU_NUM=8 # for example, set CPU_NUM as number of physical CPU core which is 8.\r\n\r\n!!! The default number of CPU_NUM=1.\r\n```\r\n",
        "state": "closed",
        "user": "sunyanhust",
        "closed_by": "sunyanhust",
        "created_at": "2020-04-12T02:08:41+00:00",
        "updated_at": "2022-08-17T01:56:34+00:00",
        "closed_at": "2020-07-06T08:13:11+00:00",
        "comments_count": [
            "kinghuin",
            "athulvingt",
            "liandanjia",
            "liandanjia",
            "sportzhang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 515,
        "title": "您好，我想问一下，paddlehub的一键模型部署，可以支持自己进行迁移学习得到的结果吗？还是只能支持官方所提供的那些模型",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "gaooolianggg",
        "closed_by": "haoyuying",
        "created_at": "2020-04-10T14:29:25+00:00",
        "updated_at": "2021-04-14T12:45:45+00:00",
        "closed_at": "2021-04-14T12:45:45+00:00",
        "comments_count": [
            "nepeplwu",
            "bulubulu689",
            "bulubulu689",
            "bulubulu689",
            "bulubulu689",
            "nepeplwu",
            "ChaunceyBai98",
            "ChaunceyBai98",
            "ChaunceyBai98",
            "nepeplwu",
            "ChaunceyBai98",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 518,
        "title": "自定义 多分类数据集",
        "body": "为什么样例数据的label是 list\r\n但是根据要求自定义构建的数据集，label类型是str，导致程序报错\r\n",
        "state": "closed",
        "user": "guowhite",
        "closed_by": "haoyuying",
        "created_at": "2020-04-14T02:13:09+00:00",
        "updated_at": "2021-04-14T12:45:32+00:00",
        "closed_at": "2021-04-14T12:45:32+00:00",
        "comments_count": [
            "Steffy-zxf",
            "guowhite",
            "Steffy-zxf",
            "guowhite",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 520,
        "title": "迁移学习 自定义数据集",
        "body": "用 Ernie进行中文情感分析时，自定义数据集，总是报错\r\n\r\nIndexError: list index out of range\r\n\r\n想问一下处理中文最大长度是多少？\r\n我自己试了一下把text_b列的数据长度筛选为110才可以不报错",
        "state": "closed",
        "user": "thirteen-ypj",
        "closed_by": "haoyuying",
        "created_at": "2020-04-15T02:27:28+00:00",
        "updated_at": "2021-04-14T12:45:21+00:00",
        "closed_at": "2021-04-14T12:45:21+00:00",
        "comments_count": [
            "kinghuin",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 517,
        "title": "PaddleHub >= 1.6.0版本会出现重复下载【yolov3_darknet53_coco2017】模型",
        "body": "PaddleHub >= 1.6.0版本会出现重复下载【yolov3_darknet53_coco2017】模型，即无法获悉【yolov3_darknet53_coco2017】模型是否已安装，其他模型则正常。",
        "state": "closed",
        "user": "670133189",
        "closed_by": "haoyuying",
        "created_at": "2020-04-13T16:40:56+00:00",
        "updated_at": "2020-10-22T12:05:26+00:00",
        "closed_at": "2020-10-22T12:05:26+00:00",
        "comments_count": [
            "Steffy-zxf",
            "670133189",
            "ZeyuChen",
            "670133189",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 521,
        "title": "hub serving 多进程使用",
        "body": "PaddleHub1.6.1，PaddlePaddle1.7.1\r\nLinux，python 3.6.8\r\n\r\nhub serving start --use_multiprocess **--workers 4** -m senta_cnn \r\nhub serving start --use_multiprocess **--workers 1** -m senta_cnn \r\n\r\n我用这2种方式启动服务， 并发处理能力没有任何变化， 请问是我用法的问题？ ",
        "state": "closed",
        "user": "zhnglicho",
        "closed_by": "zhnglicho",
        "created_at": "2020-04-15T02:32:38+00:00",
        "updated_at": "2020-04-16T01:27:00+00:00",
        "closed_at": "2020-04-16T01:27:00+00:00",
        "comments_count": [
            "ShenYuhan",
            "zhnglicho",
            "zhnglicho",
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 523,
        "title": "hub调用crmc保存时报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.6.1，PaddlePaddle1.7.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\nubuntu18.04, python 3.7.4 (conda)\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n在 paddle1.7.2中调用 crmc报错,在paddle1.6.2正常. 详细信息已在QQ上沟通,还望帮忙解决,感谢.\r\n![Selection_081](https://user-images.githubusercontent.com/53250648/79450144-17325880-8017-11ea-9970-a37cdef3c1f7.jpg)\r\n",
        "state": "closed",
        "user": "binwang672012",
        "closed_by": "haoyuying",
        "created_at": "2020-04-16T11:20:19+00:00",
        "updated_at": "2020-10-22T11:53:40+00:00",
        "closed_at": "2020-10-22T11:53:40+00:00",
        "comments_count": [
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 522,
        "title": "使用vs2017无法通过编译，请问这是什么原因？",
        "body": "export_model.py已经下载好了模型，fluid_inference_install_dir 也下载了，在vs2017中加载demo文件mask_detector进行编译时lib库加载不了。opencv使用的是4.2，没有使用CUDA版本，编译产生 如下错误： 请问这是哪里没有设置对吗？\r\n\r\n![image](https://user-images.githubusercontent.com/6022847/79304760-a27ef180-7f24-11ea-9876-24a8a1f6e3a7.png)\r\n\r\n1>mask_detector.obj : error LNK2001: 无法解析的外部符号 \"class std::unique_ptr<class paddle::PaddlePredictor,struct std::default_delete<class paddle::PaddlePredictor> > __cdecl paddle::CreatePaddlePredictor<struct paddle::AnalysisConfig>(struct paddle::AnalysisConfig const &)\" (??$CreatePaddlePredictor@UAnalysisConfig@paddle@@@paddle@@YA?AV?$unique_ptr@VPaddlePredictor@paddle@@U?$default_delete@VPaddlePredictor@paddle@@@std@@@std@@AEBUAnalysisConfig@0@@Z)\r\n1>mask_detector.obj : error LNK2001: 无法解析的外部符号 \"public: class std::vector<int,class std::allocator<int> > __cdecl paddle::ZeroCopyTensor::shape(void)const \" (?shape@ZeroCopyTensor@paddle@@QEBA?AV?$vector@HV?$allocator@H@std@@@std@@XZ)\r\n1>mask_detector.obj : error LNK2001: 无法解析的外部符号 \"public: void __cdecl paddle::ZeroCopyTensor::copy_to_cpu<float>(float *)\" (??$copy_to_cpu@M@ZeroCopyTensor@paddle@@QEAAXPEAM@Z)\r\n1>mask_detector.obj : error LNK2001: 无法解析的外部符号 \"public: void __cdecl paddle::ZeroCopyTensor::copy_from_cpu<float>(float const *)\" (??$copy_from_cpu@M@ZeroCopyTensor@paddle@@QEAAXPEBM@Z)\r\n1>mask_detector.obj : error LNK2001: 无法解析的外部符号 \"public: void __cdecl paddle::ZeroCopyTensor::Reshape(class std::vector<int,class std::allocator<int> > const &)\" (?Reshape@ZeroCopyTensor@paddle@@QEAAXAEBV?$vector@HV?$allocator@H@std@@@std@@@Z)\r\n1>mask_detector.obj : error LNK2001: 无法解析的外部符号 \"public: void __cdecl paddle::AnalysisConfig::EnableMemoryOptim(void)\" (?EnableMemoryOptim@AnalysisConfig@paddle@@QEAAXXZ)\r\n1>mask_detector.obj : error LNK2001: 无法解析的外部符号 \"public: void __cdecl paddle::AnalysisConfig::DisableGpu(void)\" (?DisableGpu@AnalysisConfig@paddle@@QEAAXXZ)\r\n1>mask_detector.obj : error LNK2001: 无法解析的外部符号 \"public: void __cdecl paddle::AnalysisConfig::EnableUseGpu(unsigned __int64,int)\" (?EnableUseGpu@AnalysisConfig@paddle@@QEAAX_KH@Z)\r\n1>mask_detector.obj : error LNK2001: 无法解析的外部符号 \"public: void __cdecl paddle::AnalysisConfig::SetModel(class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> > const &,class std::basic_string<char,struct std::char_traits<char>,class std::allocator<char> > const &)\" (?SetModel@AnalysisConfig@paddle@@QEAAXAEBV?$basic_string@DU?$char_traits@D@std@@V?$allocator@D@2@@std@@0@Z)\r\n1>D:\\project\\MaskDetector\\x64\\Release\\MaskDetector.exe : fatal error LNK1120: 9 个无法解析的外部命令",
        "state": "closed",
        "user": "tyjsnz",
        "closed_by": "haoyuying",
        "created_at": "2020-04-15T06:23:46+00:00",
        "updated_at": "2021-04-14T12:45:11+00:00",
        "closed_at": "2021-04-14T12:45:11+00:00",
        "comments_count": [
            "sjtubinlong",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 524,
        "title": "humanseg.segmentation(data={\"image\": files13},output_dir=\"./out/\")  输出是否可以直接为图像数据",
        "body": "\r\n路径输出 是否可以灵活，可以输出，\r\n可以直接和CV2 利用\r\n，比如直接输出一个IMG，\r\nCV2 ，直接可以读取，不需要保存在文件里，保存用户自己处理\r\n\r\n",
        "state": "closed",
        "user": "anthonyyuan",
        "closed_by": "anthonyyuan",
        "created_at": "2020-04-17T03:24:04+00:00",
        "updated_at": "2020-04-17T12:37:35+00:00",
        "closed_at": "2020-04-17T12:37:35+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 525,
        "title": "如何手动下载模型？",
        "body": "你好，我想要在无法连接外网的机器上进行训练，请问如何预先下载好需要使用的模型，然后进行调用呢, 是否使用pub.Module(directory=..)即可？\r\n",
        "state": "closed",
        "user": "peixin-lin",
        "closed_by": "peixin-lin",
        "created_at": "2020-04-17T07:03:57+00:00",
        "updated_at": "2021-12-03T02:10:00+00:00",
        "closed_at": "2020-04-20T01:18:12+00:00",
        "comments_count": [
            "kinghuin",
            "Steffy-zxf",
            "applepieiris"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 526,
        "title": "TextClassifierTask能否加载指定checkpoint呢？",
        "body": "cls_task = hub.TextClassifierTask(\r\n        data_reader=reader,\r\n        feature=pooled_output,\r\n        feed_list=feed_list,\r\n        num_classes=dataset.num_labels,\r\n        config=config,\r\n        metrics_choices=[\"f1\"])\r\nhub.TextClassifierTask看了下日志，加载的是best文件夹的那个chkt，怎样加载指定的？看了源码，几个参数都不是支持这个的",
        "state": "closed",
        "user": "astronstar",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-17T11:52:06+00:00",
        "updated_at": "2020-12-02T06:26:33+00:00",
        "closed_at": "2020-12-02T06:26:33+00:00",
        "comments_count": [
            "Steffy-zxf",
            "astronstar",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 527,
        "title": "Error KeyError: 6  for set strategy to ULMFiTStrategy",
        "body": "CUDA_VISIBLE_DEVICES=1  python img_classifier-ULMFiTStrategy.py \r\n[2020-04-17 22:26:24,264] [    INFO] - Installing efficientnetb7_imagenet module\r\n[2020-04-17 22:26:24,408] [    INFO] - Module efficientnetb7_imagenet already installed in /home/sam.yi/.paddlehub/modules/efficientnetb7_imagenet\r\n[2020-04-17 22:26:26,045] [    INFO] - 1037 pretrained paramaters loaded by PaddleHub\r\n[2020-04-17 22:26:26,180] [    INFO] - Dataset label map = {'normal': 0, 'recaptured': 1}\r\n[2020-04-17 22:26:26,180] [    INFO] - Checkpoint dir: cv_finetune_turtorial_demo_ULMFiTStrategy\r\nTraceback (most recent call last):\r\n  File \"img_classifier-ULMFiTStrategy.py\", line 118, in <module>\r\n    finetune(args)\r\n  File \"img_classifier-ULMFiTStrategy.py\", line 108, in finetune\r\n    task.finetune_and_eval()\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 864, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 879, in finetune\r\n    self.init_if_necessary()\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 367, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 833, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 508, in main_program\r\n    self._build_env()\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 425, in _build_env\r\n    self.device_count)\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/finetune/strategy.py\", line 477, in execute\r\n    self.depth_params_dict = get_depth_parameter(self.main_program)\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/finetune/strategy.py\", line 112, in get_depth_parameter\r\n    updated_depth_params_dict[depth].append(\r\nKeyError: 6\r\n\r\n\r\nset strategy to ULMFiTStrategy\r\n\r\n    strategy_ULMFiTStrategy = hub.ULMFiTStrategy(\r\n    learning_rate=1e-4,\r\n    optimizer_name=\"adam\",\r\n    cut_fraction=0.1,\r\n        ratio=32,\r\n        dis_blocks=3,\r\n        factor=2.6,\r\n        frz_blocks=3)\r\n\r\nconfig = hub.RunConfig(\r\n        use_data_parallel=args.use_data_parallel,\r\n        use_cuda=args.use_gpu,\r\n        num_epoch=args.num_epoch,\r\n        batch_size=args.batch_size,\r\n        checkpoint_dir=args.checkpoint_dir,\r\n        strategy=strategy_ULMFiTStrategy)\r\n\r\nset --modul to efficientnetb7",
        "state": "closed",
        "user": "yisampi",
        "closed_by": "nepeplwu",
        "created_at": "2020-04-17T14:29:25+00:00",
        "updated_at": "2020-10-15T04:38:49+00:00",
        "closed_at": "2020-10-15T04:24:30+00:00",
        "comments_count": [
            "kinghuin",
            "yisampi",
            "yisampi",
            "kinghuin",
            "yisampi",
            "yisampi",
            "yisampi",
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 528,
        "title": "在本地运行口罩识别demo时出现错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.61，PaddlePaddle-gpu1.7.1\r\n2）系统环境：请您描述系统类型，Windows10，python3.6.8\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n报错信息：\r\n[2020-04-18 17:05:34,287] [    INFO] - Installing pyramidbox_lite_server_mask module-1.2.0\r\n[2020-04-18 17:05:34,309] [    INFO] - Module pyramidbox_lite_server_mask-1.2.0 already installed in C:\\Users\\pomelo\\.paddlehub\\modules\\pyramidbox_lite_server_mask\r\n[2020-04-18 17:05:34,438] [    INFO] - Installing pyramidbox_lite_server module\r\n[2020-04-18 17:05:34,453] [    INFO] - Module pyramidbox_lite_server already installed in C:\\Users\\pomelo\\.paddlehub\\modules\\pyramidbox_lite_server\r\n{'image': ['D:/code/mask_dataset/image_mask/0023.jpg']}\r\n[2020-04-18 17:05:34,684] [    INFO] - 133 pretrained paramaters loaded by PaddleHub\r\n[2020-04-18 17:05:34,729] [    INFO] - 143 pretrained paramaters loaded by PaddleHub\r\nTraceback (most recent call last):\r\n  File \"D:/code/demo2.py\", line 22, in <module>\r\n    results = module.face_detection(data=input_dict, use_multi_scale=True, shrink=0.6,)\r\n  File \"E:\\python3.6.8\\lib\\site-packages\\paddlehub\\module\\module.py\", line 558, in __call__\r\n    sign_name=sign_name, data_dict=data)\r\n  File \"C:\\Users\\pomelo\\.paddlehub\\modules\\pyramidbox_lite_server_mask\\python\\cf911a04badc2b77bcb61d0819cb814d.py\", line 220, in preprocess\r\n    _results = self.face_detector.face_detection(data=data_dict, visualization=False, use_gpu=use_gpu, batch_size=batch_size, shrink=scale)\r\n  File \"E:\\python3.6.8\\lib\\site-packages\\paddlehub\\module\\module.py\", line 558, in __call__\r\n    sign_name=sign_name, data_dict=data)\r\n  File \"C:\\Users\\pomelo\\.paddlehub\\modules\\pyramidbox_lite_server\\python\\86a38616afd048f03c7e50c42700a511.py\", line 100, in preprocess\r\n    data, height, width = process_image(orig_image, shrink)\r\n  File \"C:\\Users\\pomelo\\.paddlehub\\modules\\pyramidbox_lite_server\\python\\86a38616afd048f03c7e50c42700a511.py\", line 73, in process_image\r\n    image = Image.fromarray(orig_image[:,:,::-1])\r\nTypeError: 'NoneType' object is not subscriptable",
        "state": "closed",
        "user": "pomeloyou",
        "closed_by": "haoyuying",
        "created_at": "2020-04-18T09:35:34+00:00",
        "updated_at": "2020-11-13T10:10:56+00:00",
        "closed_at": "2020-11-13T04:14:42+00:00",
        "comments_count": [
            "nepeplwu",
            "pomeloyou",
            "nepeplwu",
            "pomeloyou",
            "nepeplwu",
            "pomeloyou",
            "nepeplwu",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 529,
        "title": "请问文本二分类的那个模型固定seed了吗？",
        "body": "我看他代码里写的seed=0？这是固定了吗？？请问paddle有全局固定seed的那种工具吗？",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "wxl1351641822",
        "created_at": "2020-04-19T08:47:56+00:00",
        "updated_at": "2020-04-22T09:29:59+00:00",
        "closed_at": "2020-04-22T09:29:59+00:00",
        "comments_count": [
            "Steffy-zxf",
            "wxl1351641822",
            "Steffy-zxf",
            "wxl1351641822"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 530,
        "title": "有没有更加简便加载模型的方法",
        "body": "可以使用 `task.load_parameters` 加载 best_model，\r\n\r\n但是构建 `task` 实例过于繁琐，只是预测任务的话，会加载很多不必要的参数，有没有更加简便的方法？\r\n\r\n```python\r\nimport paddlehub as hub\r\n\r\nfrom paddlehub.dataset.base_nlp_dataset import BaseNLPDataset\r\n\r\nclass TrafficNews(BaseNLPDataset):\r\n    def __init__(self):\r\n        # 数据集存放位置\r\n        self.dataset_dir = \"/home/traffic_news/dataset\"\r\n        super(TrafficNews, self).__init__(\r\n            base_path=self.dataset_dir,\r\n            train_file=\"train.tsv\",\r\n            dev_file=\"valid.tsv\",\r\n            test_file=\"test.tsv\",\r\n            train_file_with_header=True,\r\n            dev_file_with_header=True,\r\n            test_file_with_header=True,\r\n            # 数据集类别集合\r\n            label_list=['1','2','3','4']\r\n        )\r\ndataset = TrafficNews()\r\n\r\nmodule = hub.Module(name='chinese-electra-base')\r\n\r\nreader = hub.reader.ClassifyReader(\r\n    dataset=dataset,\r\n    vocab_path=module.get_vocab_path(),\r\n    sp_model_path=module.get_spm_path(),\r\n    word_dict_path=module.get_word_dict_path(),\r\n    max_seq_len=128\r\n)\r\n\r\ninputs, outputs, program = module.context(trainable=True, max_seq_len=128)\r\n\r\n# Use \"pooled_output\" for classification tasks on an entire sentence.\r\npooled_output = outputs[\"pooled_output\"]\r\n\r\nfeed_list = [\r\n    inputs[\"input_ids\"].name,\r\n    inputs[\"position_ids\"].name,\r\n    inputs[\"segment_ids\"].name,\r\n    inputs[\"input_mask\"].name,\r\n]\r\n\r\nstrategy = hub.AdamWeightDecayStrategy(\r\n    weight_decay=0.01,\r\n    warmup_proportion=0.1,\r\n    learning_rate=1e-4\r\n)\r\n\r\nconfig = hub.RunConfig(\r\n    use_cuda=False,\r\n    num_epoch=10,\r\n    checkpoint_dir=\"hub_electra\",\r\n    batch_size=16,\r\n    eval_interval=50,\r\n    strategy=strategy\r\n)\r\n\r\ntask = hub.TextClassifierTask(\r\n        data_reader=reader,\r\n        feature=pooled_output,\r\n        feed_list=feed_list,\r\n        num_classes=dataset.num_labels,\r\n        config=config\r\n)\r\n\r\ntask.load_parameters('hub_electra/best_model/')\r\n```",
        "state": "closed",
        "user": "kosuke-zhang",
        "closed_by": "kosuke-zhang",
        "created_at": "2020-04-19T15:10:42+00:00",
        "updated_at": "2020-04-20T04:15:15+00:00",
        "closed_at": "2020-04-20T04:15:15+00:00",
        "comments_count": [
            "Steffy-zxf",
            "kosuke-zhang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 533,
        "title": "hub serving服务，某些照片报500错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n版本、环境信息：\r\n1）paddlepaddle_gpu=1.7.0  paddlehub=1.5.4\r\n2）系统环境：Linux，服务器部署模型服务python3.6，win10调用服务的脚本python3.7\r\n老师你好，我使用贵司开源的paddlehub serving功能部署了pyramidbox_lite_server服务，然后在调用服务时，遇到有4张图片，无论是curl命令，还是python脚本都出现500错误，具体见下图：\r\n\r\nC:\\Users\\zhaoyi-036\\Desktop\\cv\\多人脸检测\\imgs>curl -X POST -F \"image=@FL_DB_FL202003310858058150aLdh4.jpg\" http://10.182.107.219:8866/predict/image/pyramidbox_lite_server\r\n<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 3.2 Final//EN\">\r\n<title>500 Internal Server Error</title>\r\n<h1>Internal Server Error</h1>\r\n<p>The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.</p>\r\n\r\n想请问老师，为什么会报500错误，按理应该是200，但无返回结果这样子的吗？此外，这4张图片，在win10系统上进行另存操作后，再调用服务又可以通过了，也没搞清楚是为什么，还请老师能帮忙看下，给予解答。\r\n\r\n\r\n",
        "state": "closed",
        "user": "YasinZhao",
        "closed_by": "YasinZhao",
        "created_at": "2020-04-22T03:55:38+00:00",
        "updated_at": "2020-04-22T08:24:02+00:00",
        "closed_at": "2020-04-22T08:24:01+00:00",
        "comments_count": [
            "nepeplwu",
            "YasinZhao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 534,
        "title": "RuntimeError: Can't find module retake_efficientnetb7_finetuned, please check your spelling.",
        "body": "Fine-tune保存的模型安装后，无法找到该模型\r\n\r\n保存模型\r\n$ hub install finetuned_model_to_module                                        \r\n!!! The CPU_NUM is not specified, you should set CPU_NUM in the environment variable list.\r\nCPU_NUM indicates that how many CPUPlace are used in the current task.\r\nAnd if this parameter are set as N (equal to the number of physical CPU core) the program may be faster.\r\n\r\nexport CPU_NUM=28 # for example, set CPU_NUM as number of physical CPU core which is 28.\r\n\r\n!!! The default number of CPU_NUM=1.\r\nModule retake_efficientnetb7_finetuned-1.0.0 already installed in /home/sam.yi/.paddlehub/modules/retake_efficientnetb7_finetuned\r\n(reverse-i-search)`star': hub serving ^Cart \r\n\r\n该模型已经保存\r\nls /home/sam.yi/.paddlehub/modules/retake_efficientnetb7_finetuned -ld\r\ndrwxrwxr-x 4 sam.yi sam.yi 130 Apr 22 10:49 /home/sam.yi/.paddlehub/modules/retake_efficientnetb7_finetuned\r\n\r\nhub serving该模型时 找不到retake_efficientnetb7_finetuned\r\n$ hub serving start -m retake_efficientnetb7_finetuned\r\nTraceback (most recent call last):\r\n  File \"/optanaconda3/envs/paddlepaddle/bin/hub\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 426, in execute\r\n    self.start_serving()\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 373, in start_serving\r\n    self.start_single_app_with_args()\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 288, in start_single_app_with_args\r\n    self.preinstall_modules()\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 207, in preinstall_modules\r\n    m = hub.Module(**init_args)\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/home/sam.yi/.local/lib/python3.7/site-packages/paddlehub/module/module.py\", line 173, in init_with_name\r\n    raise RuntimeError(tips)\r\nRuntimeError: Can't find module retake_efficientnetb7_finetuned, please check your spelling.\r\n\r\npaddlehub                          1.6.1       \r\npaddlepaddle-gpu                   1.7.1.post97",
        "state": "closed",
        "user": "yisampi",
        "closed_by": "haoyuying",
        "created_at": "2020-04-22T06:05:55+00:00",
        "updated_at": "2021-04-14T12:44:58+00:00",
        "closed_at": "2021-04-14T12:44:57+00:00",
        "comments_count": [
            "nepeplwu",
            "yisampi",
            "nepeplwu",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 536,
        "title": "请问是否有layer transfer的方法？",
        "body": "![image](https://user-images.githubusercontent.com/42665925/79965800-11c58a00-84bf-11ea-9f82-7decdf1f328c.png)\r\n就是只加载部分预训练参数，而其他预训练参数随机初始化？\r\n请问有实现这个的方法吗？在网络搭建完成，预训练参数加载前或者能否重新初始化bert部分的预训练参数？",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "wxl1351641822",
        "created_at": "2020-04-22T09:33:15+00:00",
        "updated_at": "2020-05-27T11:40:08+00:00",
        "closed_at": "2020-05-27T11:40:08+00:00",
        "comments_count": [
            "wxl1351641822",
            "kinghuin",
            "wxl1351641822",
            "wxl1351641822",
            "wxl1351641822",
            "kinghuin",
            "wxl1351641822"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 537,
        "title": "在预测时获取并保存隐藏层的特征",
        "body": "我参考[这篇教程](https://github.com/PaddlePaddle/PaddleHub/wiki/PaddleHub%E6%96%87%E6%9C%AC%E5%88%86%E7%B1%BB%E8%BF%81%E7%A7%BB%E6%95%99%E7%A8%8B)成功finetune了一个任务，请问如何在predict的时候读取并保存隐藏层的输出（比如文中的句子粒度特征pooled_output）呢？",
        "state": "closed",
        "user": "CSU-NXY",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-22T15:37:43+00:00",
        "updated_at": "2020-06-01T12:06:17+00:00",
        "closed_at": "2020-06-01T12:06:17+00:00",
        "comments_count": [
            "Steffy-zxf",
            "CSU-NXY",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 535,
        "title": "Paddle Paddle训练求解",
        "body": "strategy = hub.AdamWeightDecayStrategy(\r\n        warmup_proportion=args.warmup_proportion,\r\n        weight_decay=args.weight_decay,\r\n        learning_rate=args.learning_rate)\r\n\r\n    # Setup runing config for PaddleHub Finetune API\r\n    config = hub.RunConfig(\r\n            eval_interval=args.eval_step,\r\n            save_ckpt_interval=args.model_save_step,\r\n            use_data_parallel=args.use_data_parallel,\r\n            use_cuda=args.use_gpu,\r\n            num_epoch=args.num_epoch,\r\n            batch_size=args.batch_size,\r\n            checkpoint_dir=args.checkpoint_dir,\r\n            strategy=strategy)\r\n\r\n    # Define a sequence labeling finetune task by PaddleHub's API\r\n    # If add crf, the network use crf as decoder\r\n    seq_label_task = hub.SequenceLabelTask(\r\n        data_reader=reader,\r\n        feature=sequence_output,\r\n        feed_list=feed_list,\r\n        max_seq_len=args.max_seq_len,\r\n        num_classes=dataset.num_labels,\r\n        config=config,\r\n        add_crf=args.add_crf)\r\n以上是使用BERT+CRF进行序列标注任务，后续调用finetune_and_eval进行训练。想问一下能否自己单独设置CRF的学习率，让它与BERT不相同，目前没找到实现的方法\r\n",
        "state": "closed",
        "user": "zhu143xin",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-22T07:01:45+00:00",
        "updated_at": "2020-06-01T11:59:12+00:00",
        "closed_at": "2020-06-01T11:59:12+00:00",
        "comments_count": [
            "kinghuin",
            "zhu143xin",
            "kinghuin",
            "kinghuin",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 538,
        "title": "将paddledetection训练得到的best_model转换成paddlehub需要的module",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "GodMmmm",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-23T05:26:09+00:00",
        "updated_at": "2020-06-01T12:03:21+00:00",
        "closed_at": "2020-06-01T12:03:21+00:00",
        "comments_count": [
            "GodMmmm",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 539,
        "title": "hub yolov3_darknet53_coco2017 模型，能解析opencv 视频帧 ?",
        "body": "hub yolov3_darknet53_coco2017 模型 分析图片是可以的：\r\n           file_list = [config.handleImagePath + imageName]\r\n            input_dict = {\"image\": file_list}\r\n            results = AI_Module.object_detection(data=input_dict)\r\n\r\n**目前有个需求，需要实时解析视频码流，测试多了当frame为 opencv视频帧，传入作为参数，报错了。**\r\n\r\n  input_dict = {\"image\": [frame]}  # frame 为视频帧 \r\n  results = AI_Module.object_detection(data=input_dict)\r\n\r\n报这个错误： \r\nassert os.path.isfile(path), \"The {} isn't a valid file path.\".format(path) \r\n\r\n谢谢\r\n\r\n\r\n",
        "state": "closed",
        "user": "DavidFangx",
        "closed_by": "haoyuying",
        "created_at": "2020-04-23T05:39:51+00:00",
        "updated_at": "2020-10-22T12:06:36+00:00",
        "closed_at": "2020-10-22T12:06:36+00:00",
        "comments_count": [
            "Steffy-zxf",
            "DavidFangx",
            "linshuliang",
            "DavidFangx",
            "DavidFangx"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 540,
        "title": "微调roberta模型问题",
        "body": "在paddlepaddle1.6.2下\r\nmodule = hub.Module(name=\"roberta_wwm_ext_chinese_L-24_H-1024_A-16\")\r\n微调时总是自动重启页面环境，无法微调。\r\n",
        "state": "closed",
        "user": "Antlerkeke",
        "closed_by": "Antlerkeke",
        "created_at": "2020-04-23T23:00:09+00:00",
        "updated_at": "2020-04-29T03:48:01+00:00",
        "closed_at": "2020-04-29T03:48:01+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Antlerkeke",
            "Steffy-zxf",
            "Antlerkeke",
            "Steffy-zxf",
            "Antlerkeke"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 541,
        "title": "（已经升级到paddlehub1.6.1）win10 导入paddlehub失败",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\n`PaddleHub1.6.1，PaddlePaddle1.7.1`\r\n2）系统环境：请您描述系统类型，\r\n`Windows，Python 3.7.7+vscode+conda`\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n导入hub\r\n ```\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"ultra_light_fast_generic_face_detector_1mb_640\")\r\n```\r\n\r\n报错\r\n\r\n```\r\n(paddle) C:\\Users\\28681\\Desktop\\vscode-python>D:/776/envs/paddle/python.exe c:/Users/28681/Desktop/vscode-python/百度/baidu.py\r\nTraceback (most recent call last):\r\n  File \"c:/Users/28681/Desktop/vscode-python/百度/baidu.py\", line 1, in <module>\r\n    import paddlehub as hub\r\n  File \"D:\\776\\envs\\paddle\\lib\\site-packages\\paddlehub\\__init__.py\", line 25, in <module>\r\n    from . import module\r\n  File \"D:\\776\\envs\\paddle\\lib\\site-packages\\paddlehub\\module\\__init__.py\", line 16, in <module>\r\n    from . import module\r\n  File \"D:\\776\\envs\\paddle\\lib\\site-packages\\paddlehub\\module\\module.py\", line 31, in <module>\r\n    from paddlehub.common import utils\r\n  File \"D:\\776\\envs\\paddle\\lib\\site-packages\\paddlehub\\common\\__init__.py\", line 16, in <module>\r\n    from . import utils\r\n  File \"D:\\776\\envs\\paddle\\lib\\site-packages\\paddlehub\\common\\utils.py\", line 33, in <module>\r\n    from paddlehub.common.logger import logger\r\n  File \"D:\\776\\envs\\paddle\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 155, in <module>\r\n    logger = Logger()\r\n  File \"D:\\776\\envs\\paddle\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 67, in __init__\r\n    level = json.load(fp).get(\"log_level\", \"DEBUG\")\r\n  File \"D:\\776\\envs\\paddle\\lib\\json\\__init__.py\", line 296, in load\r\n    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)\r\n  File \"D:\\776\\envs\\paddle\\lib\\json\\__init__.py\", line 348, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"D:\\776\\envs\\paddle\\lib\\json\\decoder.py\", line 337, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"D:\\776\\envs\\paddle\\lib\\json\\decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\r\n```",
        "state": "closed",
        "user": "daniao2017",
        "closed_by": "daniao2017",
        "created_at": "2020-04-24T02:14:57+00:00",
        "updated_at": "2020-04-24T02:29:25+00:00",
        "closed_at": "2020-04-24T02:29:25+00:00",
        "comments_count": [
            "daniao2017",
            "ShenYuhan",
            "daniao2017",
            "ShenYuhan",
            "daniao2017"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 542,
        "title": " PaddlePaddle catches a failure signal, it may not work properly",
        "body": "```\r\nW0424 13:45:47.819998   615 init.cc:209] Warning: PaddlePaddle catches a failure signal, it may not work properly\r\nW0424 13:45:47.820066   615 init.cc:211] You could check whether you killed PaddlePaddle thread/process accidentally or report the case to PaddlePaddle\r\nW0424 13:45:47.820072   615 init.cc:214] The detail failure signal is:\r\n\r\nW0424 13:45:47.820080   615 init.cc:217] *** Aborted at 1587707147 (unix time) try \"date -d @1587707147\" if you are using GNU date ***\r\nW0424 13:45:47.822696   615 init.cc:217] PC: @                0x0 (unknown)\r\nW0424 13:45:47.823067   615 init.cc:217] *** SIGSEGV (@0x1170) received by PID 554 (TID 0x7fce1a481700) from PID 4464; stack trace: ***\r\nW0424 13:45:47.825078   615 init.cc:217]     @     0x7fce4e4ac390 (unknown)\r\nW0424 13:45:47.825249   615 init.cc:217]     @     0x7fcddd2391ff (unknown)\r\nW0424 13:45:47.825388   615 init.cc:217]     @     0x7fcddd3968a4 (unknown)\r\nW0424 13:45:47.825546   615 init.cc:217]     @     0x7fcddd32f578 (unknown)\r\nW0424 13:45:47.827371   615 init.cc:217]     @     0x7fce4e4a26ba start_thread\r\nW0424 13:45:47.829238   615 init.cc:217]     @     0x7fce4e1d841d clone\r\nW0424 13:45:47.831087   615 init.cc:217]     @                0x0 (unknown)\r\nSegmentation fault (core dumped)\r\n```\r\n代码与昨天没有任何变化，昨天一切正常，今天打开机子就报这个错误。这是什么情况？",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "WYB27",
        "created_at": "2020-04-24T05:52:29+00:00",
        "updated_at": "2025-06-30T07:24:23+00:00",
        "closed_at": "2025-06-30T07:24:23+00:00",
        "comments_count": [
            "Steffy-zxf",
            "wxl1351641822",
            "Steffy-zxf",
            "silvercherry",
            "Steffy-zxf",
            "silvercherry",
            "silvercherry",
            "Zwette"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 545,
        "title": "paddlehub中squad阅读理解模型的任务迁移",
        "body": "paddlehub中squad阅读理解模型官方默认的结果评估方法是什么？如果想改为ROUGE-L评价答案正确性，该怎样做？有具体的操作文档说明吗？",
        "state": "closed",
        "user": "SDUwn",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-24T14:32:01+00:00",
        "updated_at": "2020-12-02T06:26:18+00:00",
        "closed_at": "2020-12-02T06:26:18+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 546,
        "title": "Error: Getting 'tensor_desc' is not supported by the type of var _generated_var_0. ",
        "body": "自定义组网函数时报错，train时没有问题，eval时报错，请问为什么？\r\n\r\nself.unique_ids = fluid.layers.data(\r\n    name=\"unique_ids\", shape=[-1, 1], lod_level=0, dtype=\"int64\")\r\n_ = fluid.layers.assign(self.unique_ids)\r\n\r\nfwd_cell = layers.GRUCell(hidden_size=1024)\r\nfwd_output, _ = layers.rnn(cell=fwd_cell,inputs=self.feature,time_major=False,is_reverse=False)\r\nbwd_cell = layers.GRUCell(hidden_size=1024)\r\nbwd_output, _ = layers.rnn(cell=bwd_cell,inputs=self.feature,time_major=False,is_reverse=True)\r\n\r\nlogits = fluid.layers.fc(\r\n    input=layers.concat(input=[fwd_output, bwd_output, self.feature], axis=2),\r\n    size=2,\r\n    num_flatten_dims=2,\r\n    param_attr=fluid.ParamAttr(\r\n        name=\"cls_seq_label_out_w\",\r\n        initializer=fluid.initializer.TruncatedNormal(scale=0.02)),\r\n    bias_attr=fluid.ParamAttr(\r\n        name=\"cls_seq_label_out_b\",\r\n        initializer=fluid.initializer.Constant(0.)))\r\n\r\nlogits = fluid.layers.transpose(x=logits, perm=[2, 0, 1])\r\nstart_logits, end_logits = fluid.layers.unstack(x=logits, axis=0)\r\n\r\nbatch_ones = fluid.layers.fill_constant_batch_size_like(\r\n    input=start_logits, dtype='int64', shape=[1], value=1)\r\nnum_seqs = fluid.layers.reduce_sum(input=batch_ones)\r\n\r\nreturn [start_logits, end_logits, num_seqs]\r\n",
        "state": "closed",
        "user": "AkiraZC",
        "closed_by": "haoyuying",
        "created_at": "2020-04-25T04:32:20+00:00",
        "updated_at": "2021-04-14T12:44:13+00:00",
        "closed_at": "2021-04-14T12:44:13+00:00",
        "comments_count": [
            "Steffy-zxf",
            "AkiraZC",
            "AkiraZC",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 548,
        "title": "`CUDA_VISIBLE_DEVICES` 没有设置 | 没有属性 `gpu_predictor`",
        "body": "在`AIstudio`运行demo“PaddleHub人脸检测示例”：\r\n[https://aistudio.baidu.com/aistudio/projectdetail/215962](https://aistudio.baidu.com/aistudio/projectdetail/215962)\r\n\r\n将`module.face_detection`中的`use_gpu`设置为`True`\r\n报错，说环境变量没有正确设置:\r\n```\r\nRuntimeError: Attempt to use GPU for prediction, but environment variable CUDA_VISIBLE_DEVICES was not set correctly.\r\n```\r\n\r\n我尝试设置环境变量：\r\n```\r\n%set_env CUDA_VISIBLE_DEVICES=0\r\n```\r\n再次执行：`module.face_detection`\r\n\r\n再次报错：\r\n```\r\nAttributeError: 'FaceDetector640' object has no attribute 'gpu_predictor'\r\n```\r\n这是环境的问题还是paddlehub的问题？\r\n\r\n麻烦帮忙看一下",
        "state": "closed",
        "user": "DrRyanHuang",
        "closed_by": "nepeplwu",
        "created_at": "2020-04-26T03:28:37+00:00",
        "updated_at": "2020-04-28T07:13:54+00:00",
        "closed_at": "2020-04-28T07:13:54+00:00",
        "comments_count": [
            "nepeplwu",
            "DrRyanHuang",
            "nepeplwu",
            "DrRyanHuang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 547,
        "title": "如何获取迁移学习后的模型？",
        "body": "1.基于resnet_v2_50_imagenet，进行猫狗分类后，如何保存这个模型？\r\n",
        "state": "closed",
        "user": "guchuanhang",
        "closed_by": "haoyuying",
        "created_at": "2020-04-25T09:51:10+00:00",
        "updated_at": "2020-10-22T12:07:07+00:00",
        "closed_at": "2020-10-22T12:07:07+00:00",
        "comments_count": [
            "daniao2017",
            "Steffy-zxf",
            "guchuanhang",
            "guchuanhang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 552,
        "title": "paddlehub不能通过__version__来查看版本吗？",
        "body": "为了做版本兼容，需要查看paddlehub的版本号，paddlehub不能通过__version__来查看版本吗？\r\n手动`pip list`有点儿麻烦...",
        "state": "closed",
        "user": "DrRyanHuang",
        "closed_by": "DrRyanHuang",
        "created_at": "2020-04-26T12:28:59+00:00",
        "updated_at": "2020-04-26T12:43:06+00:00",
        "closed_at": "2020-04-26T12:43:06+00:00",
        "comments_count": [
            "nepeplwu",
            "DrRyanHuang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 556,
        "title": "PaddleHub使用自定义英文序列标注数据集进行finetune_and_eval时报读取错误",
        "body": "- 版本、环境信息\r\n\r\nPaddleHub 1.5.0，\r\npaddlepaddle-gpu 1.7.1.post97\r\n是在AiStudio上运行的。\r\n- 数据集格式：\r\n\r\n第一行是：\"text_a\\tlabel\\n\"\r\n第二行开始：每个单词之间以空格隔开，然后是“\\t”，后面接每个单词对应的标签，以空格隔开，序列标签采用“BIESO”\r\n在生成数据集的时候已经检查过每句的单词数与对应的标签数目相同。\r\n- 代码\r\n\r\n完全模仿MSRA数据集的代码，且已经测试过基于MSRA数据集的序列标注，没有问题。\r\n代码如下：\r\n```\r\nimport os\r\nimport codecs\r\nimport csv\r\n\r\nimport paddlehub as hub\r\nfrom paddlehub.dataset import InputExample\r\nfrom paddlehub.dataset.base_nlp_dataset import BaseNLPDataset\r\n\r\nclass MyDS(BaseNLPDataset):\r\n    def __init__(self):\r\n        super(SciIE, self).__init__(\r\n            base_path=\"/home/aistudio/work/data/material\",\r\n            train_file=\"train.txt\",\r\n            dev_file=\"dev.txt\",\r\n            test_file=\"test.txt\",\r\n            label_file=None,\r\n            label_list=[\r\n                \"B\", \"I\", \"E\", \"S\", \"O\"\r\n            ],\r\n        )\r\n\r\n    def _read_file(self, input_file, phase=None):\r\n        \"\"\"Reads a tab separated value file.\"\"\"\r\n        with codecs.open(input_file, \"r\", encoding=\"UTF-8\") as f:\r\n            reader = csv.reader(f, delimiter=\"\\t\", quotechar=None)\r\n            examples = []\r\n            seq_id = 0\r\n            header = next(reader)  # skip header\r\n            for line in reader:\r\n                example = InputExample(\r\n                    guid=seq_id, label=line[1], text_a=line[0])\r\n                seq_id += 1\r\n                examples.append(example)\r\n            return examples\r\n\r\nmodule = hub.Module(name=\"ernie_v2_eng_base\")\r\ninputs, outputs, program = module.context(trainable=True, max_seq_len=128)\r\n\r\ndataset = MyDS()\r\nreader = hub.reader.SequenceLabelReader(\r\n    dataset=dataset,\r\n    vocab_path=module.get_vocab_path(),\r\n    max_seq_len=128\r\n)\r\n\r\nstrategy = hub.AdamWeightDecayStrategy(\r\n    learning_rate=5e-5,\r\n    weight_decay=0.01,\r\n    warmup_proportion=0.0,\r\n    lr_scheduler=\"linear_decay\",\r\n)\r\nconfig = hub.RunConfig(use_cuda=True, num_epoch=3, batch_size=32, strategy=strategy)\r\n\r\nsequence_output = outputs[\"sequence_output\"]\r\n\r\n# feed_list的Tensor顺序不可以调整\r\nfeed_list = [\r\n    inputs[\"input_ids\"].name, inputs[\"position_ids\"].name,\r\n    inputs[\"segment_ids\"].name, inputs[\"input_mask\"].name\r\n]\r\nseq_label_task = hub.SequenceLabelTask(\r\n    data_reader=reader,\r\n    feature=sequence_output,\r\n    feed_list=feed_list,\r\n    max_seq_len=128,\r\n    num_classes=dataset.num_labels,\r\n    config=config,\r\n    add_crf=False\r\n)\r\nseq_label_task.finetune_and_eval()\r\n```\r\n- 报错\r\n\r\n2020-04-28 01:16:59,329-WARNING: paddle.fluid.layers.py_reader() may be deprecated in the near future. Please use paddle.fluid.io.DataLoader.from_generator() instead.\r\n[2020-04-28 01:16:59,615] [    INFO] - Strategy with scheduler: {'warmup': 0.0, 'linear_decay': {'start_point': 0.0, 'end_learning_rate': 0}, 'noam_decay': False, 'discriminative': {'blocks': 0, 'factor': 2.6}, 'gradual_unfreeze': 0, 'slanted_triangle': {'cut_fraction': 0.0, 'ratio': 32}}, regularization: {'L2': 0.0, 'L2SP': 0.0, 'weight_decay': 0.01} and clip: {'GlobalNorm': 1.0, 'Norm': 0.0}\r\n[2020-04-28 01:18:05,671] [    INFO] - Try loading checkpoint from ckpt_20200428011654/ckpt.meta\r\n[2020-04-28 01:18:05,672] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-04-28 01:18:05,779] [    INFO] - PaddleHub finetune start\r\n2020-04-28 01:18:05,784-WARNING: Your decorated reader has raised an exception!\r\nException in thread Thread-5:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 491, in __provider_thread__\r\n    six.reraise(*sys.exc_info())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py\", line 693, in reraise\r\n    raise value\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 472, in __provider_thread__\r\n    for tensors in func():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 523, in __tensor_provider__\r\n    for slots in paddle_reader():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/data_feeder.py\", line 488, in __reader_creator__\r\n    for item in reader():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/nlp_reader.py\", line 257, in wrapper\r\n    examples, batch_size, phase=phase):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/nlp_reader.py\", line 187, in _prepare_batch_data\r\n    self.tokenizer, phase)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/nlp_reader.py\", line 463, in _convert_example_to_record\r\n    for label in labels] + [no_entity_id]\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/nlp_reader.py\", line 463, in <listcomp>\r\n    for label in labels] + [no_entity_id]\r\nKeyError: 'O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O O'\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py:782: UserWarning: The following exception is not an EOF exception.\r\n  \"The following exception is not an EOF exception.\")\r\n---------------------------------------------------------------------------EnforceNotMet                             Traceback (most recent call last)<ipython-input-7-d9ee4d712f5b> in <module>\r\n     17 )\r\n     18 \r\n---> 19 seq_label_task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n    761 \r\n    762     def finetune_and_eval(self):\r\n--> 763         return self.finetune(do_eval=True)\r\n    764 \r\n    765     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n    773                 while self.current_epoch <= self.config.num_epoch:\r\n    774                     self.config.strategy.step()\r\n--> 775                     run_states = self._run(do_eval=do_eval)\r\n    776                     self.env.current_epoch += 1\r\n    777 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n    826         with fluid.program_guard(self.main_program, self.startup_program):\r\n    827             if self.config.use_pyreader:\r\n--> 828                 return self._run_with_py_reader(do_eval=do_eval)\r\n    829             return self._run_with_data_feeder(do_eval=do_eval)\r\n    830 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run_with_py_reader(self, do_eval)\r\n    904                         fetch_result = self.exe.run(\r\n    905                             self.main_program_to_be_run,\r\n--> 906                             fetch_list=self.fetch_list)\r\n    907                     else:\r\n    908                         fetch_result = self.exe.run(\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    781                 warnings.warn(\r\n    782                     \"The following exception is not an EOF exception.\")\r\n--> 783             six.reraise(*sys.exc_info())\r\n    784 \r\n    785     def _run_impl(self, program, feed, fetch_list, feed_var_name,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py in reraise(tp, value, tb)\r\n    691             if value.__traceback__ is not tb:\r\n    692                 raise value.with_traceback(tb)\r\n--> 693             raise value\r\n    694         finally:\r\n    695             value = None\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    776                 scope=scope,\r\n    777                 return_numpy=return_numpy,\r\n--> 778                 use_program_cache=use_program_cache)\r\n    779         except Exception as e:\r\n    780             if not isinstance(e, core.EOFException):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run_impl(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n    841                 fetch_list=fetch_list,\r\n    842                 fetch_var_name=fetch_var_name,\r\n--> 843                 return_numpy=return_numpy)\r\n    844 \r\n    845     def _run_program(self, program, feed, fetch_list, feed_var_name,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run_parallel(self, program, scope, feed, fetch_list, fetch_var_name, return_numpy)\r\n    675 \r\n    676         fetch_var_names = list(map(_to_name_str, fetch_list))\r\n--> 677         tensors = exe.run(fetch_var_names)._move_to_list()\r\n    678         return as_numpy(tensors) if return_numpy else tensors\r\n    679 \r\nEnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<std::string const&>(std::string const&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2   paddle::operators::reader::BlockingQueue<std::vector<paddle::framework::LoDTensor, std::allocator<paddle::framework::LoDTensor> > >::Receive(std::vector<paddle::framework::LoDTensor, std::allocator<paddle::framework::LoDTensor> >*)\r\n3   paddle::operators::reader::PyReader::ReadNext(std::vector<paddle::framework::LoDTensor, std::allocator<paddle::framework::LoDTensor> >*)\r\n4   paddle::framework::ReaderHolder::ReadNext(std::vector<paddle::framework::LoDTensor, std::allocator<paddle::framework::LoDTensor> >*)\r\n5   paddle::operators::ReadOp::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n6   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, paddle::platform::Place const&)\r\n7   paddle::framework::details::ComputationOpHandle::RunImpl()\r\n8   paddle::framework::details::FastThreadedSSAGraphExecutor::RunOpSync(paddle::framework::details::OpHandleBase*)\r\n9   paddle::framework::details::FastThreadedSSAGraphExecutor::RunOp(paddle::framework::details::OpHandleBase*, std::shared_ptr<paddle::framework::BlockingQueue<unsigned long> > const&, unsigned long*)\r\n10  std::_Function_handler<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> (), std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<void>, std::__future_base::_Result_base::_Deleter>, void> >::_M_invoke(std::_Any_data const&)\r\n11  std::__future_base::_State_base::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>&, bool&)\r\n12  ThreadPool::ThreadPool(unsigned long)::{lambda()#1}::operator()() const\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2525, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/io.py\", line 889, in read_file\r\n    type='read', inputs={'Reader': [reader]}, outputs={'Out': out})\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 352, in _build_env\r\n    py_vars = fluid.layers.read_file(self.env.py_reader)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 474, in main_program\r\n    self._build_env()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 732, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 297, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 769, in finetune\r\n    self.init_if_necessary()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 763, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"<ipython-input-7-d9ee4d712f5b>\", line 19, in <module>\r\n    seq_label_task.finetune_and_eval()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3265, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3189, in run_ast_nodes\r\n    if (yield from self.run_code(code, result)):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3018, in run_cell_async\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/async_helpers.py\", line 67, in _pseudo_sync_runner\r\n    coro.send(None)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2843, in _run_cell\r\n    return runner(coro)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2817, in run_cell\r\n    raw_cell, store_history, silent, shell_futures)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/zmqshell.py\", line 536, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/ipkernel.py\", line 294, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 534, in execute_request\r\n    user_expressions, allow_stdin,\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 267, in dispatch_shell\r\n    yield gen.maybe_future(handler(stream, idents, msg))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 357, in process_one\r\n    yield gen.maybe_future(dispatch(*args))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1147, in run\r\n    yielded = self.gen.send(value)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1233, in inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/stack_context.py\", line 300, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/ioloop.py\", line 758, in _run_callback\r\n    ret = callback()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/events.py\", line 88, in _run\r\n    self._context.run(self._callback, *self._args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 1771, in _run_once\r\n    handle._run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 534, in run_forever\r\n    self._run_once()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/platform/asyncio.py\", line 132, in start\r\n    self.asyncio_loop.run_forever()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelapp.py\", line 505, in start\r\n    self.io_loop.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/traitlets/config/application.py\", line 664, in launch_instance\r\n    app.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel_launcher.py\", line 16, in <module>\r\n    app.launch_new_instance()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Blocking queue is killed because the data reader raises an exception\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] at (/paddle/paddle/fluid/operators/reader/blocking_queue.h:141)\r\n  [operator < read > error]\r\n",
        "state": "closed",
        "user": "yaweisun",
        "closed_by": "yaweisun",
        "created_at": "2020-04-27T17:40:56+00:00",
        "updated_at": "2020-04-27T18:03:18+00:00",
        "closed_at": "2020-04-27T18:03:18+00:00",
        "comments_count": [
            "yaweisun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 557,
        "title": "目标检测迁移任务",
        "body": "想用SSD_Mobilenet在自定义的数据上做迁移学习，请问目前有可用的目标检测的迁移任务接口吗？\r\n如果自己添加的话，需要在源码内部添加/修改哪些部分的内容？需要自己添加的内容在paddle其他项目有没有可参考的代码？\r\n",
        "state": "closed",
        "user": "MimeZoe0628",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-04-28T00:18:19+00:00",
        "updated_at": "2020-06-01T11:56:41+00:00",
        "closed_at": "2020-06-01T11:56:41+00:00",
        "comments_count": [
            "nepeplwu",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 558,
        "title": "运行finetune_and_eval()报错",
        "body": "在AIstudio中fork项目，PaddlePaddle 1.7.0，原本项目显示：\r\nrun_states = task.finetune_and_eval()\r\n[2020-03-24 21:09:35,320] [    INFO] - Strategy with scheduler: {'warmup': 0.0, 'linear_decay': {'start_point': 1.0, 'end_learning_rate': 0.0}, 'noam_decay': False, 'discriminative': {'blocks': 0, 'factor': 2.6}, 'gradual_unfreeze': 0, 'slanted_triangle': {'cut_fraction': 0.0, 'ratio': 32}}, regularization: {'L2': 0.001, 'L2SP': 0.0, 'weight_decay': 0.0} and clip: {'GlobalNorm': 0.0, 'Norm': 0.0}\r\n[2020-03-24 21:09:42,049] [    INFO] - Try loading checkpoint from cv_finetune_turtorial_demo/ckpt.meta\r\n[2020-03-24 21:09:42,050] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-03-24 21:09:42,105] [    INFO] - PaddleHub finetune start\r\n[2020-03-24 21:09:44,825] [   TRAIN] - step 10 / 563: loss=0.26938 acc=0.91250 [step/sec: 3.69]\r\n[2020-03-24 21:09:47,168] [   TRAIN] - step 20 / 563: loss=0.06502 acc=0.97500 [step/sec: 4.27]\r\n[2020-03-24 21:09:49,544] [   TRAIN] - step 30 / 563: loss=0.15980 acc=0.95000 [step/sec: 4.21]\r\n[2020-03-24 21:09:51,972] [   TRAIN] - step 40 / 563: loss=0.06811 acc=0.98125 [step/sec: 4.12]\r\n[2020-03-24 21:09:54,439] [   TRAIN] - step 50 / 563: loss=0.10210 acc=0.95000 [step/sec: 4.06]\r\n[2020-03-24 21:09:54,440] [    INFO] - Evaluation on dev dataset start\r\n2020-03-24 21:09:54,892-WARNING: paddle.fluid.layers.py_reader() may be deprecated in the near future. Please use paddle.fluid.io.DataLoader.from_generator() instead.\r\nshare_vars_from is set, scope is ignored.\r\n[2020-03-24 21:10:13,792] [    EVAL] - [dev dataset evaluation result] loss=0.05826 acc=0.98214 [step/sec: 3.74]\r\n[2020-03-24 21:10:13,793] [    EVAL] - best model saved to cv_finetune_turtorial_demo/best_model [best acc=0.98214]\r\n\r\n自己fork后运行则显示：\r\n\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: The number of LearningRate shall not be 0, but received 0. Maybe the Input variable LearningRate has not been initialized. You may need to confirm if you put exe.run(startup_program) after optimizer.minimize function.\r\n  [Hint: Expected framework::product(lr_dims) != 0, but received framework::product(lr_dims):0 == 0:0.] at (/paddle/paddle/fluid/operators/optimizers/adam_op.cc:77)\r\n  [operator < adam > error]\r\n\r\n原配置策略：\r\n\r\nconfig = hub.RunConfig(\r\n    use_cuda=True,                              #是否使用GPU训练，默认为False；\r\n    num_epoch=1,                                #Fine-tune的轮数；\r\n    checkpoint_dir=\"cv_finetune_turtorial_demo\",#模型checkpoint保存路径, 若用户没有指定，程序会自动生成；\r\n    batch_size=32,                              #训练的批大小，如果使用GPU，请根据实际情况调整batch_size；\r\n    eval_interval=50,                           #模型评估的间隔，默认每100个step评估一次验证集；\r\n    strategy=hub.finetune.strategy.DefaultFinetuneStrategy())  #Fine-tune优化策略；\r\n\r\n调整后的配置策略如下：\r\nconfig = hub.RunConfig(\r\n    use_cuda=True,                              #是否使用GPU训练，默认为False；\r\n    num_epoch=10,                                #Fine-tune的轮数；\r\n    checkpoint_dir=\"cv_finetune_turtorial_demo\",#模型checkpoint保存路径, 若用户没有指定，程序会自动生成；\r\n    batch_size=128,                              #训练的批大小，如果使用GPU，请根据实际情况调整batch_size；\r\n    eval_interval=50,                           #模型评估的间隔，默认每100个step评估一次验证集；\r\n    strategy=hub.finetune.strategy.DefaultFinetuneStrategy())  #Fine-tune优化策略；\r\n",
        "state": "closed",
        "user": "ENGWayne",
        "closed_by": "haoyuying",
        "created_at": "2020-04-29T02:35:30+00:00",
        "updated_at": "2020-10-22T12:07:42+00:00",
        "closed_at": "2020-10-22T12:07:42+00:00",
        "comments_count": [
            "ENGWayne",
            "Steffy-zxf",
            "ENGWayne",
            "Steffy-zxf",
            "ENGWayne",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 559,
        "title": "multi_label_classification增量训练",
        "body": "请问下  multi_label_classification增量训练 ernie可以实现吗？已经训练好模型了，需要新增数据继续训练，需要如何修改配置",
        "state": "closed",
        "user": "guowhite",
        "closed_by": "WYB27",
        "created_at": "2020-04-29T03:04:35+00:00",
        "updated_at": "2025-06-30T07:24:21+00:00",
        "closed_at": "2025-06-30T07:24:21+00:00",
        "comments_count": [
            "Steffy-zxf",
            "guowhite",
            "Steffy-zxf",
            "guowhite",
            "x330930520",
            "Steffy-zxf",
            "BossRobin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 560,
        "title": "NLP类任务自定义数据",
        "body": "from paddlehub.dataset.base_nlp_dataset import BaseNLPDataset\r\n\r\nModuleNotFoundError: No module named 'paddlehub.dataset.base_nlp_dataset'",
        "state": "closed",
        "user": "bazhe666",
        "closed_by": "haoyuying",
        "created_at": "2020-04-29T08:14:59+00:00",
        "updated_at": "2021-04-14T12:43:30+00:00",
        "closed_at": "2021-04-14T12:43:29+00:00",
        "comments_count": [
            "Steffy-zxf",
            "wannabe-X",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 561,
        "title": "Fail to open accelerate mode paddle < 1.6.2.",
        "body": "在aistudio上,用算力卡\r\n用puddlehub的文本分类task,cls_task_.predict(data)但显示却不支持预测加速模式\r\naistudio上paddlepaddle是1.6.2啊\r\n",
        "state": "closed",
        "user": "linyu0219",
        "closed_by": "haoyuying",
        "created_at": "2020-04-29T10:26:38+00:00",
        "updated_at": "2021-04-14T12:43:20+00:00",
        "closed_at": "2021-04-14T12:43:20+00:00",
        "comments_count": [
            "kinghuin",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 563,
        "title": "为何本机实验口罩检测，系统提示找不到Module",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\npaddlehub                          1.6.0\r\npaddlepaddle                       1.7.2\r\n2）系统环境：请您描述系统类型，例如Windows10，python版本 Python 3.7.4\r\n3）遇到的问题: 在本机实验(Jupyter note界面)口罩检测功能时，提示找不到Module\r\n代码:\r\nimport paddlehub as hub\r\nimport cv2\r\n\r\n#hub.Module?\r\n\r\nmodule = hub.Module(name=\"pyramidbox_lite_mobile_mask\")\r\n\r\ntest_img_path = \"test.jpeg\"\r\n\r\n# set input dict\r\ninput_dict = {\"data\": [cv2.imread(test_img_path)]}\r\nresults = module.face_detection(data=input_dict)\r\nprint(results)\r\n\r\n报错提示:\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-3-bb865ad5b851> in <module>\r\n      4 #hub.Module?\r\n      5 \r\n----> 6 module = hub.Module(name=\"pyramidbox_lite_mobile_mask\")\r\n      7 \r\n      8 test_img_path = \"test.jpeg\"\r\n\r\nAttributeError: module 'paddlehub' has no attribute 'Module'\r\n",
        "state": "closed",
        "user": "lee83214",
        "closed_by": "haoyuying",
        "created_at": "2020-04-30T02:15:39+00:00",
        "updated_at": "2020-11-13T10:11:28+00:00",
        "closed_at": "2020-11-13T04:14:16+00:00",
        "comments_count": [
            "Steffy-zxf",
            "lee83214",
            "Steffy-zxf",
            "lee83214",
            "Steffy-zxf",
            "lee83214",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 565,
        "title": "PaddleHub 阅读理解",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "childe-wuhen",
        "closed_by": "childe-wuhen",
        "created_at": "2020-05-02T07:30:35+00:00",
        "updated_at": "2020-05-02T07:45:44+00:00",
        "closed_at": "2020-05-02T07:45:44+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 564,
        "title": "如何获取预测结果的置信度",
        "body": "现在使用task.predict(data=data, return_result=True)方法智能回去一个值，如果不准确就100%不准了，\r\n想要获取置信度前三的结果，如何处理?",
        "state": "closed",
        "user": "heyimabu",
        "closed_by": "heyimabu",
        "created_at": "2020-05-02T02:50:50+00:00",
        "updated_at": "2020-05-03T07:35:28+00:00",
        "closed_at": "2020-05-03T07:35:04+00:00",
        "comments_count": [
            "Steffy-zxf",
            "heyimabu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 566,
        "title": "PaddleHub 阅读理解",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.7.2post97，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n 执行PaddleHub 阅读理解demo代码时，在Step2，max_seq_len=384，出现报错：TypeError: __init__() got an unexpected keyword argument 'max_seq_length'。在去掉这个参数后，执行又出现：Dataset is None or it has not any labels, label map = {}",
        "state": "closed",
        "user": "childe-wuhen",
        "closed_by": "haoyuying",
        "created_at": "2020-05-02T07:44:31+00:00",
        "updated_at": "2020-11-13T10:11:09+00:00",
        "closed_at": "2020-11-13T04:14:17+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 567,
        "title": "autofinetune可以断点重启吗",
        "body": "它跑了4个round之后挂了……orz，可以断点重启吗",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "wxl1351641822",
        "created_at": "2020-05-05T04:22:32+00:00",
        "updated_at": "2020-05-27T11:39:53+00:00",
        "closed_at": "2020-05-27T11:39:53+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 568,
        "title": "MultiLabelClassifierTask在_build_net中插入gru层之后报错",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddlehub-1.6.1 paddlepaddle-gpu-1.7.1.post97\r\n2）系统环境：AIStudio，python版本2.7\r\n\r\n代码：\r\n```\r\nclass MultiLabelClassifyReaderSP(hub.reader.MultiLabelClassifyReader):\r\n    def _pad_batch_records(self, batch_records, phase=None):\r\n        batch_token_ids = [record.token_ids for record in batch_records]\r\n        batch_text_type_ids = [record.text_type_ids for record in batch_records]\r\n        batch_position_ids = [record.position_ids for record in batch_records]\r\n\r\n        # padding\r\n        padded_token_ids, input_mask, batch_seq_lens = pad_batch_data(\r\n            batch_token_ids,\r\n            pad_idx=self.pad_id,\r\n            max_seq_len=self.max_seq_len,\r\n            return_input_mask=True,\r\n            return_seq_lens=True)\r\n        padded_text_type_ids = pad_batch_data(\r\n            batch_text_type_ids,\r\n            max_seq_len=self.max_seq_len,\r\n            pad_idx=self.pad_id)\r\n        padded_position_ids = pad_batch_data(\r\n            batch_position_ids,\r\n            max_seq_len=self.max_seq_len,\r\n            pad_idx=self.pad_id)\r\n\r\n        if phase != \"predict\":\r\n            batch_labels_ids = [record.label_id for record in batch_records]\r\n            num_label = len(self.dataset.get_labels())\r\n            batch_labels = np.array(batch_labels_ids).astype(\"int64\").reshape(\r\n                [-1, num_label])\r\n\r\n            return_list = [\r\n                padded_token_ids, padded_position_ids, padded_text_type_ids,\r\n                input_mask, batch_labels, batch_seq_lens\r\n            ]\r\n\r\n            if self.use_task_id:\r\n                padded_task_ids = np.ones_like(\r\n                    padded_token_ids, dtype=\"int64\") * self.task_id\r\n                return_list = [\r\n                    padded_token_ids, padded_position_ids, padded_text_type_ids,\r\n                    input_mask, padded_task_ids, batch_labels, batch_seq_lens\r\n                ]\r\n        else:\r\n            return_list = [\r\n                padded_token_ids, padded_position_ids, padded_text_type_ids,\r\n                input_mask, batch_seq_lens\r\n            ]\r\n\r\n            if self.use_task_id:\r\n                padded_task_ids = np.ones_like(\r\n                    padded_token_ids, dtype=\"int64\") * self.task_id\r\n                return_list = [\r\n                    padded_token_ids, padded_position_ids, padded_text_type_ids,\r\n                    input_mask, padded_task_ids, batch_seq_lens\r\n                ]\r\n        return return_list\r\n\r\nclass MultiLabelClassifierTaskSP(hub.MultiLabelClassifierTask):\r\n    def __init__(self,\r\n                 feature,\r\n                 num_classes,\r\n                 feed_list,\r\n                 data_reader,\r\n                 startup_program=None,\r\n                 config=None,\r\n                 hidden_units=None,\r\n                 metrics_choices=\"default\"):\r\n        super(MultiLabelClassifierTaskSP, self).__init__(\r\n            data_reader=data_reader,\r\n            feature=feature,\r\n            num_classes=num_classes,\r\n            feed_list=feed_list,\r\n            startup_program=startup_program,\r\n            config=config,\r\n            hidden_units=hidden_units,\r\n            metrics_choices=metrics_choices)\r\n    @property\r\n    def feed_list(self):\r\n        print(\"myFeedlist\")\r\n        feed_list = [varname for varname in self._base_feed_list]\r\n        if self.is_train_phase or self.is_test_phase:\r\n            feed_list += [self.labels[0].name, self.seq_len.name]\r\n        else:\r\n            feed_list += [self.seq_len.name]\r\n        return feed_list\r\n    \r\n    def _add_loss(self):\r\n\r\n        label_split = fluid.layers.split(\r\n            self.labels[0], self.num_classes, dim=-1)\r\n        #print(\"ls\",label_split)\r\n        total_loss = fluid.layers.fill_constant(\r\n            shape=[1], value=0.0, dtype='float64')\r\n        print(\"outputs\",len(self.outputs),self.outputs[0])\r\n        #ttp=fluid.layers.Print(self.outputs, message=\"The content of input layer:\")  \r\n        for index, probs in enumerate(self.outputs):\r\n            ce_loss = fluid.layers.cross_entropy(\r\n                input=probs, label=label_split[index])\r\n            total_loss += fluid.layers.reduce_sum(ce_loss)\r\n        loss = fluid.layers.mean(x=total_loss)\r\n        return loss\r\n\r\n    def _add_metrics(self):\r\n        #labels = fluid.layers.sequence_unpad(self.labels[0],\r\n                                                 #self.seq_len_used)\r\n        #print(self.labels[0])\r\n        label_split = fluid.layers.split(\r\n            self.labels[0], self.num_classes, dim=-1)\r\n        # metrics change to auc of every class\r\n        eval_list = []\r\n        for index, probs in enumerate(self.outputs):\r\n            current_auc, _, _ = fluid.layers.auc(\r\n                input=probs, label=label_split[index])\r\n            eval_list.append(current_auc)\r\n        return eval_list\r\n        \r\n    def _build_net(self):\r\n        self.seq_len = fluid.layers.data(\r\n            name=\"seq_len\", shape=[1], dtype='int64')\r\n        \r\n        if version_compare(paddle.__version__, \"1.6\"):\r\n            self.seq_len_used = fluid.layers.squeeze(self.seq_len, axes=[1])\r\n        else:\r\n            self.seq_len_used = self.seq_len\r\n        #seq_len = fluid.layers.assign(self.seq_len)\r\n        \r\n        #tsqprint=fluid.layers.Print(self.seq_len, message=\"The content of input layer:\")  \r\n        \r\n        unpad_enc_out = fluid.layers.sequence_unpad(\r\n            self.feature, length=self.seq_len_used)\r\n        cls_feats = fluid.layers.dropout(\r\n            x=unpad_enc_out,\r\n            dropout_prob=0.1,\r\n            dropout_implementation=\"upscale_in_train\")\r\n            \r\n        tprint=fluid.layers.Print(cls_feats, message=\"The content of input layer:\")    \r\n        grnn_hidden_dim=128\r\n        bigru_num = 2\r\n        init_bound = 0.1\r\n            \r\n        def _bigru_layer(input_feature):\r\n            \"\"\"define the bidirectional gru layer\r\n            \"\"\"\r\n            pre_gru = fluid.layers.fc(\r\n                input=input_feature,\r\n                size=grnn_hidden_dim * 3,\r\n                param_attr=fluid.ParamAttr(\r\n                    initializer=fluid.initializer.Uniform(\r\n                        low=-init_bound, high=init_bound),\r\n                    regularizer=fluid.regularizer.L2DecayRegularizer(\r\n                        regularization_coeff=1e-4)))\r\n            gru = fluid.layers.dynamic_gru(\r\n                input=pre_gru,\r\n                size=grnn_hidden_dim,\r\n                param_attr=fluid.ParamAttr(\r\n                    initializer=fluid.initializer.Uniform(\r\n                        low=-init_bound, high=init_bound),\r\n                    regularizer=fluid.regularizer.L2DecayRegularizer(\r\n                        regularization_coeff=1e-4)))\r\n            pre_gru_r = fluid.layers.fc(\r\n                input=input_feature,\r\n                size=grnn_hidden_dim * 3,\r\n                param_attr=fluid.ParamAttr(\r\n                    initializer=fluid.initializer.Uniform(\r\n                        low=-init_bound, high=init_bound),\r\n                    regularizer=fluid.regularizer.L2DecayRegularizer(\r\n                        regularization_coeff=1e-4)))\r\n            #print(\"pre_gru_r\",pre_gru_r)\r\n            gru_r = fluid.layers.dynamic_gru(\r\n                input=pre_gru_r,\r\n                size=grnn_hidden_dim,\r\n                is_reverse=True,\r\n                param_attr=fluid.ParamAttr(\r\n                    initializer=fluid.initializer.Uniform(\r\n                        low=-init_bound, high=init_bound),\r\n                    regularizer=fluid.regularizer.L2DecayRegularizer(\r\n                        regularization_coeff=1e-4)))\r\n            bi_merge = fluid.layers.concat(input=[gru, gru_r], axis=1)\r\n            return bi_merge\r\n            \r\n\r\n        input_feature=cls_feats\r\n        #print(\"input_feature\",input_feature)\r\n        for i in range(bigru_num):\r\n            bigru_output = _bigru_layer(input_feature)\r\n            input_feature = bigru_output\r\n            \r\n        cls_feats=bigru_output\r\n\r\n        if self.hidden_units is not None:\r\n            for n_hidden in self.hidden_units:\r\n                cls_feats = fluid.layers.fc(\r\n                    input=cls_feats, size=n_hidden, act=\"relu\")\r\n\r\n        probs = []\r\n        print(\"numclss:\",self.num_classes)\r\n        for i in range(self.num_classes):\r\n            probs.append(\r\n                fluid.layers.fc(\r\n                    input=cls_feats,\r\n                    size=2,\r\n                    param_attr=fluid.ParamAttr(\r\n                        name=\"cls_out_w_%d\" % i,\r\n                        initializer=fluid.initializer.TruncatedNormal(\r\n                            scale=0.02)),\r\n                    bias_attr=fluid.ParamAttr(\r\n                        name=\"cls_out_b_%d\" % i,\r\n                        initializer=fluid.initializer.Constant(0.)),\r\n                    act=\"softmax\"))\r\n\r\n        return probs\r\n\r\n```\r\n\r\n错误信息\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/framework.py\", line 2525, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/layers/loss.py\", line 277, in cross_entropy2\r\n    attrs=attrs)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/layers/loss.py\", line 239, in cross_entropy\r\n    return cross_entropy2(input, label, ignore_index)\r\n  File \"triggercl_gru.py\", line 241, in _add_loss\r\n    input=probs, label=label_split[index])\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 405, in _build_env\r\n    self.env.loss = self._add_loss()\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 508, in main_program\r\n    self._build_env()\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 833, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 367, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 879, in finetune\r\n    self.init_if_necessary()\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 864, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"triggercl_gru.py\", line 484, in <module>\r\n    multi_label_cls_task.finetune_and_eval()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: ShapeError: Input(X) and Input(Label) shall have the same shape except the last dimension. But received: the shape of Input(X) is [742, 2],the shape of Input(Label) is [12, 1].\r\n  [Hint: Expected framework::slice_ddim(x_dims, 0, rank - 1) == framework::slice_ddim(label_dims, 0, rank - 1), but received framework::slice_ddim(x_dims, 0, rank - 1):742 != framework::slice_ddim(label_dims, 0, rank - 1):12.] at (/paddle/paddle/fluid/operators/cross_entropy_op.cc:51)\r\n  [operator < cross_entropy2 > error]",
        "state": "closed",
        "user": "onewaymyway",
        "closed_by": "haoyuying",
        "created_at": "2020-05-06T04:22:00+00:00",
        "updated_at": "2020-11-13T10:12:08+00:00",
        "closed_at": "2020-11-13T04:12:11+00:00",
        "comments_count": [
            "Steffy-zxf",
            "onewaymyway",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 571,
        "title": "用Ernie做序列标注任务，如何加入自定义的特征呢？",
        "body": "目前在用paddlehub提供的接口做序列标注，使用的预训练模型是“ernie_v2_eng_base”，在数据预处理的时候人工采集了一些特征，放在数据文件的“text_b”字段，之前的特征只有0和1两个值，直接在Reader类中将其赋值给“text_type_ids”，发现效果还可以。但是现在采集的特征有-1到10这些可能值，采用同样的方法就不行了。想问一下有没有比较正规的方法解决这一问题？\r\n\r\n目前报错如下所示：\r\n\r\n> [2020-05-06 22:21:03,427] [    INFO] - Installing ernie_v2_eng_base module\r\n> [2020-05-06 22:21:03,457] [    INFO] - Module ernie_v2_eng_base already installed in /home/aistudio/.paddlehub/modules/ernie_v2_eng_base\r\n> [2020-05-06 22:21:04,137] [    INFO] - Set maximum sequence length of input tensor to 512\r\n> [2020-05-06 22:21:04,141] [    INFO] - The shape of input tensor[input_ids] set to [-1, 512, 1]\r\n> [2020-05-06 22:21:04,142] [    INFO] - The shape of input tensor[position_ids] set to [-1, 512, 1]\r\n> [2020-05-06 22:21:04,142] [    INFO] - The shape of input tensor[segment_ids] set to [-1, 512, 1]\r\n> [2020-05-06 22:21:04,143] [    INFO] - The shape of input tensor[input_mask] set to [-1, 512, 1]\r\n> [2020-05-06 22:21:04,143] [    INFO] - The shape of input tensor[task_ids] set to [-1, 512, 1]\r\n> [2020-05-06 22:21:04,144] [    INFO] - 199 pretrained paramaters loaded by PaddleHub\r\n> [2020-05-06 22:21:04,160] [    INFO] - Dataset label map = {'B': 0, 'I': 1, 'E': 2, 'S': 3, 'O': 4}\r\n> [2020-05-06 22:21:04,202] [    INFO] - Checkpoint dir: work/model/ernie_material_data_tfidf_True\r\n> 2020-05-06 22:21:06,857-WARNING: paddle.fluid.layers.py_reader() may be deprecated in the near future. Please use paddle.fluid.io.DataLoader.from_generator() instead.\r\n> [2020-05-06 22:21:07,134] [    INFO] - Strategy with scheduler: {'warmup': 0.0, 'linear_decay': {'start_point': 0.0, 'end_learning_rate': 0}, 'noam_decay': False, 'discriminative': {'blocks': 0, 'factor': 2.6}, 'gradual_unfreeze': 0, 'slanted_triangle': {'cut_fraction': 0.0, 'ratio': 32}}, regularization: {'L2': 0.0, 'L2SP': 0.0, 'weight_decay': 0.01} and clip: {'GlobalNorm': 1.0, 'Norm': 0.0}\r\n> [2020-05-06 22:22:06,467] [    INFO] - Try loading checkpoint from work/model/ernie_material_data_tfidf_True/ckpt.meta\r\n> [2020-05-06 22:22:06,469] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n> [2020-05-06 22:22:06,549] [    INFO] - PaddleHub finetune start\r\n> /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py:782: UserWarning: The following exception is not an EOF exception.\r\n>   \"The following exception is not an EOF exception.\")\r\n> ---------------------------------------------------------------------------EnforceNotMet                             Traceback (most recent call last)<ipython-input-5-172e8a5b5767> in <module>\r\n> ----> 1 my_task = my_code(data_type=\"material\", sent_type=\"data_tfidf\", max_seq_len=512, with_content_feature=True)\r\n> <ipython-input-4-e2f69921fb8f> in my_code(data_type, sent_type, max_seq_len, with_content_feature, num_epoch)\r\n>      59     )\r\n>      60 \r\n> ---> 61     seq_label_task.finetune_and_eval()\r\n>      62     return seq_label_task\r\n> /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n>     761 \r\n>     762     def finetune_and_eval(self):\r\n> --> 763         return self.finetune(do_eval=True)\r\n>     764 \r\n>     765     def finetune(self, do_eval=False):\r\n> /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n>     773                 while self.current_epoch <= self.config.num_epoch:\r\n>     774                     self.config.strategy.step()\r\n> --> 775                     run_states = self._run(do_eval=do_eval)\r\n>     776                     self.env.current_epoch += 1\r\n>     777 \r\n> /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n>     826         with fluid.program_guard(self.main_program, self.startup_program):\r\n>     827             if self.config.use_pyreader:\r\n> --> 828                 return self._run_with_py_reader(do_eval=do_eval)\r\n>     829             return self._run_with_data_feeder(do_eval=do_eval)\r\n>     830 \r\n> /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run_with_py_reader(self, do_eval)\r\n>     909                             self.main_program_to_be_run,\r\n>     910                             fetch_list=self.fetch_list,\r\n> --> 911                             return_numpy=False)\r\n>     912                         fetch_result = [np.array(x) for x in fetch_result]\r\n>     913 \r\n> /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n>     781                 warnings.warn(\r\n>     782                     \"The following exception is not an EOF exception.\")\r\n> --> 783             six.reraise(*sys.exc_info())\r\n>     784 \r\n>     785     def _run_impl(self, program, feed, fetch_list, feed_var_name,\r\n> /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py in reraise(tp, value, tb)\r\n>     691             if value.__traceback__ is not tb:\r\n>     692                 raise value.with_traceback(tb)\r\n> --> 693             raise value\r\n>     694         finally:\r\n>     695             value = None\r\n> /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n>     776                 scope=scope,\r\n>     777                 return_numpy=return_numpy,\r\n> --> 778                 use_program_cache=use_program_cache)\r\n>     779         except Exception as e:\r\n>     780             if not isinstance(e, core.EOFException):\r\n> /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run_impl(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache)\r\n>     841                 fetch_list=fetch_list,\r\n>     842                 fetch_var_name=fetch_var_name,\r\n> --> 843                 return_numpy=return_numpy)\r\n>     844 \r\n>     845     def _run_program(self, program, feed, fetch_list, feed_var_name,\r\n> /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run_parallel(self, program, scope, feed, fetch_list, fetch_var_name, return_numpy)\r\n>     675 \r\n>     676         fetch_var_names = list(map(_to_name_str, fetch_list))\r\n> --> 677         tensors = exe.run(fetch_var_names)._move_to_list()\r\n>     678         return as_numpy(tensors) if return_numpy else tensors\r\n>     679 \r\n> EnforceNotMet: \r\n> \r\n> --------------------------------------------\r\n> C++ Call Stacks (More useful to developers):\r\n> --------------------------------------------\r\n> 0   std::string paddle::platform::GetTraceBackString<char const*>(char const*&&, char const*, int)\r\n> 1   paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int)\r\n> 2   paddle::platform::CUDADeviceContext::Wait() const\r\n> 3   paddle::framework::details::ScopeBufferedMonitor::Apply(std::function<void ()> const&, bool)\r\n> 4   paddle::framework::details::ScopeBufferedSSAGraphExecutor::Run(std::vector<std::string, std::allocator<std::string> > const&)\r\n> 5   paddle::framework::ParallelExecutor::Run(std::vector<std::string, std::allocator<std::string> > const&)\r\n> \r\n> ----------------------\r\n> Error Message Summary:\r\n> ----------------------\r\n> FatalError: cudaStreamSynchronize raises error: unspecified launch failure, errono: 4: unspecified launch failure at (/paddle/paddle/fluid/platform/device_context.cc:331)",
        "state": "closed",
        "user": "yaweisun",
        "closed_by": "yaweisun",
        "created_at": "2020-05-06T14:49:22+00:00",
        "updated_at": "2020-05-07T14:26:07+00:00",
        "closed_at": "2020-05-07T14:26:07+00:00",
        "comments_count": [
            "Steffy-zxf",
            "yaweisun",
            "Steffy-zxf",
            "yaweisun",
            "Steffy-zxf",
            "yaweisun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 572,
        "title": "paddlehub无法启动bert service的服务端",
        "body": "1）paddlehub1.6.2，paddlepaddle1.7.2，paddle-gpu-serving0.8.2\r\n2）Linux系统，python3.6.6\r\n- 复现信息：paddlehub无法启动bert service的服务端\r\n- 命令行：hub serving start bert_service -m ernie -p 8866\r\n- 报错信息：未报错，但是不显示Server[baidu::paddle_serving::predictor::bert_service::BertServiceImpl] is serving on port=8866.\r\n- 报错信息：\r\n32           0x16f29e7p baidu::paddle_serving::predictor::ReloadableInferEngine::proc_initialize_impl(baidu::paddle_serving::configure::EngineDesc const&, bool) + 311\r\n33           0x16f88a0p baidu::paddle_serving::predictor::ReloadableInferEngine::proc_initialize(baidu::paddle_serving::configure::EngineDesc const&, bool) + 32\r\n34           0x1707b8ep baidu::paddle_serving::predictor::CloneDBReloadableInferEngine<baidu::paddle_serving::fluid_cpu::FluidCpuAnalysisDirCore>::proc_initialize(baidu::paddle_serving::configure::EngineDesc const&, bool) + 110\r\n35           0x3c6bea2p baidu::paddle_serving::predictor::VersionedInferEngine::proc_initialize(baidu::paddle_serving::configure::EngineDesc const&, bool) + 338\r\n36           0x3c6cf49p baidu::paddle_serving::predictor::InferManager::proc_initialize(char const*, char const*) + 521\r\n37           0x3c69ca0p baidu::paddle_serving::predictor::Resource::initialize(std::string const&, std::string const&) + 256\r\n38           0x1649392p main + 482\r\n39      0x7fbfc4fe2505p __libc_start_main + 245\r\n40           0x1670c01p\r\n\r\n",
        "state": "closed",
        "user": "remarkableJ",
        "closed_by": "remarkableJ",
        "created_at": "2020-05-07T01:01:15+00:00",
        "updated_at": "2020-05-15T00:47:40+00:00",
        "closed_at": "2020-05-15T00:47:40+00:00",
        "comments_count": [
            "MRXLT",
            "remarkableJ",
            "MRXLT",
            "remarkableJ",
            "remarkableJ",
            "MRXLT",
            "remarkableJ"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 573,
        "title": "hub serving start --modules pose_resnet50_mpii",
        "body": "hub serving start --modules pose_resnet50_mpii \r\n启动关键点检测后，预测时报错误\r\n![7D8_RS8U7B0} 46X(R3(2}I](https://user-images.githubusercontent.com/62418900/81274904-84b82e80-9083-11ea-92a4-5a99b056e55d.png)\r\n\r\n",
        "state": "closed",
        "user": "mcl-stone",
        "closed_by": "mcl-stone",
        "created_at": "2020-05-07T08:55:18+00:00",
        "updated_at": "2020-05-09T05:21:21+00:00",
        "closed_at": "2020-05-09T05:21:21+00:00",
        "comments_count": [
            "mcl-stone",
            "ShenYuhan",
            "mcl-stone",
            "mcl-stone",
            "ShenYuhan",
            "ShenYuhan",
            "mcl-stone",
            "mcl-stone",
            "ShenYuhan",
            "mcl-stone"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 574,
        "title": "服务器部署后，可代码调用但端口访问有界面无法运行",
        "body": "在AI Studio上跟着教程实现PaddleHub口罩检测项目 [项目地址](https://aistudio.baidu.com/aistudio/projectdetail/456915)\r\n执行到服务器部署步骤，在本地运行那行命令后，有warning“WARNING: This is a development server. Do not use it in a production deployment.”之后在客户端代码调用成功，尝试打开0.0.0.0:8866接口，接口有界面，但是运行报错“Connection error:undefined”，具体截图在项目地址也可查看。",
        "state": "closed",
        "user": "shinichiye17",
        "closed_by": "haoyuying",
        "created_at": "2020-05-07T10:28:19+00:00",
        "updated_at": "2021-04-14T12:43:10+00:00",
        "closed_at": "2021-04-14T12:43:09+00:00",
        "comments_count": [
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 575,
        "title": "RunConfig里设置的batch_size的大小，怎么计算需要多少内存",
        "body": "RunConfig里设置的batch_size这个参数有什么作用，batch_size的大小，怎么计算需要多少内存",
        "state": "closed",
        "user": "baolicai",
        "closed_by": "haoyuying",
        "created_at": "2020-05-08T06:43:44+00:00",
        "updated_at": "2020-11-13T10:12:28+00:00",
        "closed_at": "2020-11-13T04:11:50+00:00",
        "comments_count": [
            "MrChengmo",
            "Steffy-zxf",
            "baolicai",
            "baolicai",
            "Steffy-zxf",
            "baolicai",
            "Steffy-zxf",
            "baolicai",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 578,
        "title": "本地用windows训练好的模型放到Linux机器上，预测结果不一致",
        "body": "我在本地训练好的模型放到 Linux机器上，预测的结果和我在本地的不一样，一模一样的代码，感觉放到 Linux机器上预测的结果不管什么输入 就只有一种结果",
        "state": "closed",
        "user": "baolicai",
        "closed_by": "haoyuying",
        "created_at": "2020-05-09T03:25:58+00:00",
        "updated_at": "2020-11-13T10:11:49+00:00",
        "closed_at": "2020-11-13T04:13:56+00:00",
        "comments_count": [
            "Steffy-zxf",
            "baolicai",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 579,
        "title": "(D:\\1.7.2\\paddle\\paddle\\fluid\\inference\\api\\analysis_predictor.cc:664)",
        "body": "PaddlePaddle1.6.2\r\nWindows10/MacOS/，\r\npython3.7\r\n\r\n使用pip安装好paddlehub后， 运行检测代码成功。但是运行人脸关键点识别的时候报如下错误，\r\n我觉得不应该是用户名是中文的原因吧。\r\n    self.cpu_predictor = create_paddle_predictor(cpu_config)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\nWindows not support stack backtrace yet.\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Cannot open file C:\\Users\\我的电脑\\.paddlehub\\modules\\ultra_light_fast_generic_face_detector_1mb_320\\ultra_light_fast_generic_face_detector_1mb_320/__model__ at (D:\\1.7.2\\paddle\\paddle\\fluid\\inference\\api\\analysis_predictor.cc:664)\r\n\r\n",
        "state": "closed",
        "user": "zxzxde",
        "closed_by": "haoyuying",
        "created_at": "2020-05-10T05:41:36+00:00",
        "updated_at": "2020-11-13T10:13:09+00:00",
        "closed_at": "2020-11-13T04:11:25+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Tears1997",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 580,
        "title": "paddlehub使用ernie2.0-en，修改网络结构后微调时自动重启",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.6.0，PaddlePaddle1.7.1\r\n2）系统环境：AiStudio的GPU环境\r\n\r\n- 复现信息：\r\n做序列标注任务，feed_list如下：\r\n```\r\nfeed_list = [\r\n    inputs[\"input_ids\"].name, inputs[\"position_ids\"].name,\r\n    inputs[\"segment_ids\"].name, inputs[\"input_mask\"].name,\r\n    \"freq_ids\"\r\n]\r\n```\r\nDataset和Reader都做了相应修改，\r\n网络的结构的修改如下：\r\n```\r\nclass SciIETask(SequenceLabelTask):\r\n    def _build_net(self):\r\n        freq_ids = fluid.data(\r\n            name='freq_ids', shape=[-1, self.max_seq_len], dtype='int64'\r\n        )\r\n        freq_embedding = fluid.embedding(input=freq_ids, size=[11, 5])\r\n        feature_concat = fluid.layers.concat([self.feature, freq_embedding], axis=-1)\r\n    ......\r\n```\r\n然后用feature_concat代替self.feature传入下层网络。\r\n\r\n- 出现的问题：\r\n运行`seq_label_task.finetune()`后自动重启。",
        "state": "closed",
        "user": "yaweisun",
        "closed_by": "WYB27",
        "created_at": "2020-05-10T10:42:25+00:00",
        "updated_at": "2025-06-30T07:24:19+00:00",
        "closed_at": "2025-06-30T07:24:19+00:00",
        "comments_count": [
            "Steffy-zxf",
            "yaweisun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 581,
        "title": "换行符导致错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\nPaddleHub1.6.2，PaddlePaddle1.7.2\r\n2）系统环境：请您描述系统类型，\r\naistudio \r\n\r\n代码：\r\nimport pandas as pd\r\n\r\ndf = pd.read_csv('/home/aistudio/data/train.csv',dtype=str,verbose =True,skip_blank_lines=True ,sep=',',delim_whitespace =False,nrows=10)\r\nprint(df)\r\nout=pd.DataFrame(data=df)\r\nout.to_csv('/home/aistudio/data/train.tsv',sep='\\t',index=False,encoding= 'utf-8')\r\n\r\ndf = pd.read_csv('/home/aistudio/data/train.tsv',dtype=str,verbose =True,skip_blank_lines=True ,sep='\\t',delim_whitespace =False,nrows=10)\r\nprint(df)\r\n生成的结果见附件。\r\n代码输出：\r\n`Tokenization took: 0.05 ms\r\nType conversion took: 0.17 ms\r\nParser memory cleanup took: 0.00 ms\r\n                                                text label\r\n0  I just read a VERY Very similar story as mine ...     6\r\n1  on or about XXXX/XXXX/2015 a tree fell on our ...     1\r\n2  I have had a Macy 's credit card since XX/XX/X...     2\r\n3  Please see my Complaint # XXXX of XXXX XXXX. T...     2\r\n4  On XXXX/XXXX/2015 I visited the XXXX XXXX stor...     4\r\n5  We originally took out a mortgage loan in XXXX...     1\r\n6  Thru a company called XXXX XXXX XXXX, they neg...     3\r\n7  On XXXX/XXXX/2015, Experian sent me an email a...     4\r\n8  I have been dealing with Bank of America for a...     1\r\n9  Currently we have a mortgage with a mortgage c...     1\r\nTokenization took: 0.06 ms\r\nType conversion took: 0.16 ms\r\nParser memory cleanup took: 0.00 ms\r\n                                                text label\r\n0  I just read a VERY Very similar story as mine ...     6\r\n1  on or about XXXX/XXXX/2015 a tree fell on our ...     1\r\n2  I have had a Macy 's credit card since XX/XX/X...     2\r\n3  Please see my Complaint # XXXX of XXXX XXXX. T...     2\r\n4  On XXXX/XXXX/2015 I visited the XXXX XXXX stor...     4\r\n5  We originally took out a mortgage loan in XXXX...     1\r\n6  Thru a company called XXXX XXXX XXXX, they neg...     3\r\n7  On XXXX/XXXX/2015, Experian sent me an email a...     4\r\n8  I have been dealing with Bank of America for a...     1\r\n9  Currently we have a mortgage with a mortgage c...     1`\r\n\r\n可见读入读出是没有问题的。\r\n继续执行：\r\n`import pandas as pd\r\nfrom paddlehub.dataset.base_nlp_dataset import BaseNLPDataset\r\nclass ThuNews(BaseNLPDataset):\r\n    def __init__(self):\r\n        # 数据集存放位置\r\n        self.dataset_dir = \"/home/aistudio/data/\"\r\n        super(ThuNews, self).__init__(\r\n            base_path=self.dataset_dir,\r\n            train_file=\"train.tsv\",\r\n            dev_file=\"train.tsv\",\r\n            test_file=\"train.tsv\",\r\n            train_file_with_header=True,\r\n            dev_file_with_header=True,\r\n            test_file_with_header=True,\r\n            predict_file_with_header=True)\r\n            # 数据集类别集合\r\n            # label_list=['体育', '科技', '社会', '娱乐', '股票', '房产', '教育', '时政', '财经', '星座', '游戏', '家居', '彩票', '时尚'])\r\n\r\ndataset = ThuNews()\r\nfor e in dataset.get_train_examples()[:3]:\r\n    print(\"{}\\t{}\\t{}\".format(e.guid, e.text_a, e.label))\r\n#   ├─train.tsv 训练集\r\n#   ├─dev.tsv 验证集\r\n#   ├─test.tsv 测试集\r\n\r\n# 预测数据存放在predict.tsv文件，文件格式和train.tsv类似。去掉label一列即可。`\r\n输出错误部分：\r\n\r\n`---------------------------------------------------------------------------IndexError                                Traceback (most recent call last)<ipython-input-7-9f5158d6e063> in <module>\r\n     17             # label_list=['体育', '科技', '社会', '娱乐', '股票', '房产', '教育', '时政', '财经', '星座', '游戏', '家居', '彩票', '时尚'])\r\n     18 \r\n---> 19 dataset = ThuNews()\r\n     20 for e in dataset.get_train_examples()[:3]:\r\n     21     print(\"{}\\t{}\\t{}\".format(e.guid, e.text_a, e.label))\r\n<ipython-input-7-9f5158d6e063> in __init__(self)\r\n     13             dev_file_with_header=True,\r\n     14             test_file_with_header=True,\r\n---> 15             predict_file_with_header=True)\r\n     16             # 数据集类别集合\r\n     17             # label_list=['体育', '科技', '社会', '娱乐', '股票', '房产', '教育', '时政', '财经', '星座', '游戏', '家居', '彩票', '时尚'])\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/base_nlp_dataset.py in __init__(self, base_path, train_file, dev_file, test_file, predict_file, label_file, label_list, train_file_with_header, dev_file_with_header, test_file_with_header, predict_file_with_header)\r\n     49             dev_file_with_header=dev_file_with_header,\r\n     50             test_file_with_header=test_file_with_header,\r\n---> 51             predict_file_with_header=predict_file_with_header)\r\n     52 \r\n     53     def _read_file(self, input_file, phase=None):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/dataset.py in __init__(self, base_path, train_file, dev_file, test_file, predict_file, label_file, label_list, train_file_with_header, dev_file_with_header, test_file_with_header, predict_file_with_header)\r\n     92 \r\n     93         if train_file:\r\n---> 94             self._load_train_examples()\r\n     95         if dev_file:\r\n     96             self._load_dev_examples()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/dataset.py in _load_train_examples(self)\r\n    148     def _load_train_examples(self):\r\n    149         self.train_path = os.path.join(self.base_path, self.train_file)\r\n--> 150         self.train_examples = self._read_file(self.train_path, phase=\"train\")\r\n    151 \r\n    152     def _load_dev_examples(self):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/base_nlp_dataset.py in _read_file(self, input_file, phase)\r\n     69                     elif ncol == 2:\r\n     70                         example = InputExample(\r\n---> 71                             guid=i, text_a=line[0], label=line[1])\r\n     72                     elif ncol == 3:\r\n     73                         example = InputExample(\r\nIndexError: list index out of range`\r\n\r\n附件\r\n[train.tsv.zip](https://github.com/PaddlePaddle/PaddleHub/files/4605791/train.tsv.zip)\r\n\r\n猜测是在每行的text列，长文本中，有换行符和\". \"(点后有空格)出现，被程序识别为每行的换行符，实际上text列使用了双引号\"“，双引号中换行符不应被是为换行标志。\r\n手动删除双引号\"\"中文本内容中的 换行符后，读取正常。\r\n[train.tsv.txt](https://github.com/PaddlePaddle/PaddleHub/files/4605820/train.tsv.txt)\r\n",
        "state": "closed",
        "user": "60999",
        "closed_by": "haoyuying",
        "created_at": "2020-05-10T14:35:14+00:00",
        "updated_at": "2020-11-13T10:13:58+00:00",
        "closed_at": "2020-11-13T04:10:48+00:00",
        "comments_count": [
            "Steffy-zxf",
            "60999",
            "Steffy-zxf",
            "60999",
            "cheeryoung79",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 583,
        "title": "预训练模型在自己数据上继续进行预训练任务",
        "body": "hi，paddlehub 支持预训练模型在自己数据上继续进行预训练任务么？是否有相关demo可参考？\r\n",
        "state": "closed",
        "user": "cbqin",
        "closed_by": "haoyuying",
        "created_at": "2020-05-11T04:06:43+00:00",
        "updated_at": "2021-04-14T12:54:52+00:00",
        "closed_at": "2021-04-14T12:54:52+00:00",
        "comments_count": [
            "Steffy-zxf",
            "cbqin",
            "ghost",
            "Steffy-zxf",
            "ghost",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 584,
        "title": "Module yolov3_darknet53_venus is not executable",
        "body": "Module yolov3_darknet53_venus is not executable \r\n\r\npaddlepaddle = 1.6.2\r\n\r\npaddlehub = 1.6.0",
        "state": "closed",
        "user": "mingzhanliao",
        "closed_by": "haoyuying",
        "created_at": "2020-05-11T09:22:41+00:00",
        "updated_at": "2021-04-14T12:54:39+00:00",
        "closed_at": "2021-04-14T12:54:39+00:00",
        "comments_count": [
            "Steffy-zxf",
            "mingzhanliao",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 586,
        "title": "我的训练集图片是灰色的，训练时如何设置通道",
        "body": "input_shape = (1,100,100)\r\n类似这种参数在hub里如何设置？\r\n",
        "state": "closed",
        "user": "gekie",
        "closed_by": "haoyuying",
        "created_at": "2020-05-12T06:50:40+00:00",
        "updated_at": "2021-04-14T12:54:24+00:00",
        "closed_at": "2021-04-14T12:54:24+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 589,
        "title": "发现bug",
        "body": "https://github.com/PaddlePaddle/PaddleHub/tree/release/v1.6/demo/senta_module_sample\r\n\r\n完整代码\r\nmodule.py\r\n\r\nprocessor.py\r\n\r\n其中：processor.py\r\n链接错误。\r\n",
        "state": "closed",
        "user": "60999",
        "closed_by": "60999",
        "created_at": "2020-05-12T19:22:58+00:00",
        "updated_at": "2020-05-13T05:58:36+00:00",
        "closed_at": "2020-05-13T05:58:36+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 590,
        "title": "发现bug",
        "body": "https://github.com/PaddlePaddle/PaddleHub/blob/7224a9cefd6e7c25d98e18e4d77084191dcc8ae0/demo/README.md\r\n\"\r\n检索式问答任务 \r\n该样例展示了PaddleHub如何将ERNIE和BERT作为预训练模型在NLPCC-DBQA等数据集上完成检索式问答任务的FineTune和预测。\r\n\"\r\n检索式问答任务  链接失效。其他链接 也有失效情况，显示404页面。",
        "state": "closed",
        "user": "60999",
        "closed_by": "60999",
        "created_at": "2020-05-12T19:47:43+00:00",
        "updated_at": "2020-05-13T05:59:15+00:00",
        "closed_at": "2020-05-13T05:59:15+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 591,
        "title": "对paddlehub中strategy.py中的几个问题",
        "body": "注：以下问题均为在paddlehub中实施迁移学习，进行图像分类时遇到的问题，主要是针对strategy.py的理解上的困惑，谢谢！\r\n\r\n**#问题1：以下scheduler部分，代码的功能是设置对末3层（块）进行finetune，这样理解对吗？\r\n#问题2：如果设置scheduler[gradual_unfreeze][blocks]=0，则不会实施多层finetune，discriminative也会无效，这样理解对吗？\r\n#问题3：如果设置scheduler[gradual_unfreeze][blocks]=3,但scheduler[disciminative][blocks]=0，则会对末3层进行finetune，但discriminative无效（各层学习率相同），这样理解对吗？**\r\nscheduler = {\r\n  \"discriminative\": {\r\n    \"blocks\": 3,\r\n    \"factor\": 2.6\r\n  },\r\n\r\n \"gradual_unfreeze\": {\r\n                \"blocks\":3,\r\n                \"params_layer\": None,\r\n            } \r\n}\r\n\r\n**#问题4：以下两行代码希望设置L2正则化，请问应该设置regularization[L2]=1e-3，还是应该设置regularization[weight_decay]=1e-3 ?**\r\nregularization = {\"L2\": 1e-3}  \r\nregularization = {\"weight_decay\": 1e-3}  \r\n\r\n**#问题5：如果不设置clip参数，默认各层均不会有batchnorm，这样理解对吗？\r\n#问题6：设置clip后，会对每层normalize还是只对unfreezing层进行normalize？\r\n#问题7：是不是globalnorm更适合用于迁移学习，norm适合非迁移学习？**\r\nclip = {\"GlobalNorm\": 1.0}\r\nstrategy = hub.CombinedStrategy(\r\n    optimizer_name=\"adam\", # \"sgd\",\"Adagrad\",\"adamax\",\"decayedadagrad\",\"ftrl\",\"larsmomentum\",\"momentum\",\"decayedadagrad\",\"rmsprop\"\r\n    learning_rate=1e-4,\r\n    scheduler = scheduler,\r\n    regularization = regularization,\r\n    clip = clip\r\n)\r\n\r\nconfig = hub.RunConfig(\r\n    log_interval=10,\r\n    use_cuda=True,\r\n    num_epoch=30,\r\n    checkpoint_dir=ckpt_dirckpt_dir,  \r\n    batch_size=32,\r\n    eval_interval=50,\r\n    strategy=strategy \r\n    )\r\n\r\n问题比较多，麻烦您了，谢谢！\r\n\r\n参考资料：\r\nhttps://github.com/PaddlePaddle/PaddleHub/wiki/PaddleHub-API:-Strategy\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/a2cda1381ace47a8053280bc8f9dda043e25bd27/paddlehub/finetune/strategy.py",
        "state": "closed",
        "user": "mrhan36",
        "closed_by": "mrhan36",
        "created_at": "2020-05-12T23:18:22+00:00",
        "updated_at": "2020-05-15T12:51:34+00:00",
        "closed_at": "2020-05-15T12:51:34+00:00",
        "comments_count": [
            "kinghuin",
            "mrhan36",
            "kinghuin",
            "mrhan36",
            "kinghuin",
            "mrhan36"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 592,
        "title": "paddlehub使用human_pose_estimation_resnet50_mpii模型，为什么最多只能检测出1个人体的骨骼点",
        "body": "- 版本、环境信息\r\n1）PaddleHub1.6.2，paddlepaddle-gpu       1.7.2.post107\r\n2）系统环境：Windows，python3.7\r\n- 问题\r\npaddlehub使用human_pose_estimation_resnet50_mpii模型，1张图片中最多只能检测出1套骨骼点，这是什么原因呢？",
        "state": "closed",
        "user": "ShanksYI",
        "closed_by": "haoyuying",
        "created_at": "2020-05-13T08:48:59+00:00",
        "updated_at": "2021-04-14T12:54:11+00:00",
        "closed_at": "2021-04-14T12:54:11+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 593,
        "title": "对于视频类自定义数据集的格式问题",
        "body": "您好，我在看PADDLEHUB自定义数据的时候，发现教程里只写了图片类如何自定义数据，没写视频类数据如何自定义数据：\r\n\r\n├─data: 数据目录\r\n  ├─train_list.txt：训练集数据列表\r\n  ├─test_list.txt：测试集数据列表\r\n  ├─validate_list.txt：验证集数据列表\r\n  ├─label_list.txt：标签列表\r\n  └─……\r\n\r\n训练/验证/测试集的数据列表文件的格式如下\r\n图片1路径 图片1标签\r\n图片2路径 图片2标签\r\n...\r\n\r\n请问我在做视频分类FINETUNE任务的时候，只需要将图片路径换成视频路径就可以了吗？\r\n就是把”图片1路径 图片1标签 “换成 ”视频1路径 视频1标签“  就可以了吗？\r\n\r\n\r\n另外，视频类的dataloader应该选什么呢？是选CVREADER吗？ \r\n",
        "state": "closed",
        "user": "Derek-Kun",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-05-13T08:50:30+00:00",
        "updated_at": "2020-12-02T06:26:59+00:00",
        "closed_at": "2020-12-02T06:26:59+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Derek-Kun",
            "Steffy-zxf",
            "Derek-Kun",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 595,
        "title": "进入eval模式报错，train可以",
        "body": "https://aistudio.baidu.com/aistudio/projectdetail/305654?_=1589344524774&qq-pf-to=pcqq.temporaryc2c\r\n项目地址\r\n![image](https://user-images.githubusercontent.com/58216756/81883473-e61e5700-95c7-11ea-8096-cb484837f5dc.png)\r\n![image](https://user-images.githubusercontent.com/58216756/81883535-09e19d00-95c8-11ea-8bc6-9e93e8d7babd.png)\r\n![image](https://user-images.githubusercontent.com/58216756/81883561-1d8d0380-95c8-11ea-9c29-1f11fddb1de3.png)\r\n事件抽取的paddlehub的baseline，项目不改可以跑，输出层做了一点改动，跑不了了\r\n这个项目，把eval_step 弄小一点，一下就跑错了\r\n![ET4$I2{CL1FXGR27J{0T%GX](https://user-images.githubusercontent.com/58216756/81883688-7197e800-95c8-11ea-8e53-42f17be988d4.png)\r\n\r\n",
        "state": "closed",
        "user": "zhengzihe",
        "closed_by": "haoyuying",
        "created_at": "2020-05-14T01:51:55+00:00",
        "updated_at": "2021-04-14T12:54:00+00:00",
        "closed_at": "2021-04-14T12:53:59+00:00",
        "comments_count": [
            "Steffy-zxf",
            "zhengzihe",
            "Steffy-zxf",
            "zhengzihe",
            "Steffy-zxf",
            "zhengzihe",
            "zhengzihe",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 598,
        "title": "gradual_unfreeze相关问题",
        "body": "今天设置gradual_unfreeze时遇到一个调试错误，我对照strategy.py逐行检查，错误提示很明确，就是没搞清怎么改，请您指导一下，谢谢！\r\n\r\n环境：aistudio平台，paddlehub版本：1.5.2 ，经测试，使用1.6.0版本也出现这个问题\r\n\r\n源代码如下：\r\nscheduler = {\r\n\"gradual_unfreeze\": {\r\n\"blocks\": 3\r\n}\r\n}\r\n\r\nstrategy = hub.CombinedStrategy(\r\noptimizer_name=\"adam\",\r\nlearning_rate=1e-4, # 正交试验参数1\r\nscheduler = scheduler\r\n)\r\nconfig = hub.RunConfig(\r\nlog_interval=10,\r\nuse_cuda=True,\r\nnum_epoch=30,\r\ncheckpoint_dir=ckpt_dirckpt_dir,\r\nbatch_size=32,\r\neval_interval=50,\r\nstrategy=strategy\r\n)\r\n\r\n错误提示如下：\r\n---------------------------------------------------------------------------ValueError Traceback (most recent call last) in\r\n43 optimizer_name=\"adam\",\r\n44 learning_rate=1e-4, # 正交试验参数1\r\n---> 45 scheduler = scheduler\r\n46 )\r\n47 config = hub.RunConfig(\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/strategy.py in init(self, optimizer_name, learning_rate, scheduler, regularization, clip)\r\n229 # check legality and assign\r\n230 for name in scheduler:\r\n--> 231 self.check_assign(self.scheduler, name, scheduler[name])\r\n232 for name in regularization:\r\n233 self.check_assign(self.regularization, name, regularization[name])\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/strategy.py in check_assign(self, dictionary, key, value)\r\n256 else:\r\n257 raise ValueError(\"The type of parameter %s should be %s\" %\r\n--> 258 (key, type(dictionary[key])))\r\n259\r\n260 def add_scheduler(self, name=\"warmup\", value=0, **values):\r\nValueError: The type of parameter gradual_unfreeze should be <class 'int'>\r\n\r\n谢谢！",
        "state": "closed",
        "user": "mrhan36",
        "closed_by": "mrhan36",
        "created_at": "2020-05-14T14:57:24+00:00",
        "updated_at": "2020-05-16T22:36:23+00:00",
        "closed_at": "2020-05-16T22:36:23+00:00",
        "comments_count": [
            "kinghuin",
            "mrhan36"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 596,
        "title": "paddlehub 一键部署  TypeError: 'dict' object is not callable",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.6.2，PaddlePaddle1.7.2\r\n2）系统环境：系统类型win10，python版本3.6\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n不同的模型提交之后都会报同样的错误\r\nC:\\Users\\Administrator>hub serving start -m lac\r\nWarning: Windows cannot use multiprocess working mode, PaddleHub Serving will switch to single process mode\r\nlac == 2.1.1\r\n2020-05-14 10:58:34,038-INFO:  * Running on http://0.0.0.0:8866/ (Press CTRL+C to quit)\r\n2020-05-14 10:59:31,856-INFO: 127.0.0.1 - - [14/May/2020 10:59:31] \"\u001b[37mGET / HTTP/1.1\u001b[0m\" 200 -\r\nException on /get/modules [POST]\r\nTraceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\flask\\app.py\", line 1982, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\flask\\app.py\", line 1615, in full_dispatch_request\r\n    return self.finalize_request(rv)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\flask\\app.py\", line 1630, in finalize_request\r\n    response = self.make_response(rv)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\flask\\app.py\", line 1740, in make_response\r\n    rv = self.response_class.force_type(rv, request.environ)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\werkzeug\\wrappers\\base_response.py\", line 269, in force_type\r\n    response = BaseResponse(*_run_wsgi_app(response, environ))\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\werkzeug\\wrappers\\base_response.py\", line 26, in _run_wsgi_app\r\n    return _run_wsgi_app(*args)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\werkzeug\\test.py\", line 1096, in run_wsgi_app\r\n    app_rv = app(environ, start_response)\r\nTypeError: 'dict' object is not callable\r\n\r\n",
        "state": "closed",
        "user": "HaiLcoder",
        "closed_by": "haoyuying",
        "created_at": "2020-05-14T03:14:24+00:00",
        "updated_at": "2021-04-14T12:53:47+00:00",
        "closed_at": "2021-04-14T12:53:46+00:00",
        "comments_count": [
            "ShenYuhan",
            "HaiLcoder",
            "HaiLcoder",
            "ShenYuhan",
            "HaiLcoder",
            "ShenYuhan",
            "HaiLcoder",
            "HaiLcoder",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 599,
        "title": "自定义Finetune模型完成训练后无法使用一键部署 ",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n\r\npaddlepaddle == 1.7.2\r\npaddlehub == 1.6.2\r\n\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nWindows 10 专业版 版本号1909 操作系统版本18363.836\r\n-复现信息\r\n使用命令\r\nhub install trash_module 安装自己训练的finetune模型\r\n已显示Module trash_finetuned-1.0.0 already installed in C:\\Users\\TF\\.paddlehub\\modules\\trash_finetuned\r\n\r\n现在希望使用命令hub serving start -m trash_finetuned 启动预测服务\r\n报错RuntimeError: Can't find module trash_finetuned, please check your spelling.",
        "state": "closed",
        "user": "Suphx",
        "closed_by": "haoyuying",
        "created_at": "2020-05-15T03:42:34+00:00",
        "updated_at": "2021-04-14T12:53:34+00:00",
        "closed_at": "2021-04-14T12:53:34+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 603,
        "title": "PaddleHub/hub_module/modules/image/semantic_segmentation/deeplabv3p_xception65_humanseg内存溢出问题",
        "body": "环境:截止2020年5月17日\r\n模块:paddlehub人像分割模块\r\nPaddleHub/hub_module/modules/image/semantic_segmentation/deeplabv3p_xception65_humanseg\r\n错误现象:数据量很大的情况下内存溢出\r\n错误原因分析:该模块进行分割时，能够设置batch size ，使用少量多次的办法处理图像，但是返回值是一次性返回所有数据，包括处理后的图像numpy二进制数据，这个量特别大，所以很容易就内存溢出了。\r\n代码看了，问题就在那。\r\n![mmexport1589652217272](https://user-images.githubusercontent.com/8059137/82127141-f3179200-97e3-11ea-8919-79e3c1982501.jpg)\r\n![mmexport1589650377401](https://user-images.githubusercontent.com/8059137/82127159-180c0500-97e4-11ea-8350-cc6a8ebcb5cb.jpg)\r\n\r\n",
        "state": "closed",
        "user": "livingbody",
        "closed_by": "WYB27",
        "created_at": "2020-05-16T18:15:21+00:00",
        "updated_at": "2025-06-30T07:24:17+00:00",
        "closed_at": "2025-06-30T07:24:17+00:00",
        "comments_count": [
            "Steffy-zxf",
            "livingbody",
            "livingbody",
            "Steffy-zxf",
            "livingbody",
            "livingbody",
            "sunjunling666"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 602,
        "title": "关于使用PaddlePaddle使用的咨询",
        "body": "### 问题1 预训练模型的使用\r\n> https://www.paddlepaddle.org.cn/hubdetail?name=chinese-roberta-wwm-ext-large&en_category=SemanticModel\r\n\r\n> 我现在有一个可以生成token_id, segment_id, mask_id, label的generator对象, 我该怎么样喂数据给下面这个预训练模型？\r\n```\r\nimport paddlehub as hub\r\n\r\n# Load $ hub install chinese-roberta-wwm-ext-large pretrained model\r\nmodule = hub.Module(name=\"chinese-roberta-wwm-ext-large\")\r\ninputs, outputs, program = module.context(trainable=True, max_seq_len=128)\r\n```\r\n### 问题2 \r\n```\r\n    model_name = \"chinese-roberta-wwm-ext-large\"\r\n    module = hub.Module(name=model_name)\r\n    inputs, outputs, program = module.context(\r\n        trainable=True, max_seq_len=args.max_seq_len)\r\n\r\n    # 加载数据并通过SequenceLabelReader读取数据\r\n    dataset = EEDataset(args.data_dir, schema_labels, model=args.do_model)\r\n    reader = hub.reader.SequenceLabelReader(\r\n        dataset=dataset,\r\n        vocab_path=module.get_vocab_path(),\r\n        max_seq_len=args.max_seq_len,\r\n        sp_model_path=module.get_spm_path(),\r\n        word_dict_path=module.get_word_dict_path())\r\n```\r\n> 如何重写hub.reader.SequenceLabelReader？代码中处理text为token_id, segment_id, mask_id的方式，不是我所希望的。\r\n\r\n> 一直找不到相关api。\r\n\r\n> 感谢大佬！",
        "state": "closed",
        "user": "ARDUJS",
        "closed_by": "haoyuying",
        "created_at": "2020-05-15T07:42:54+00:00",
        "updated_at": "2021-04-14T12:53:19+00:00",
        "closed_at": "2021-04-14T12:53:19+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ARDUJS",
            "ARDUJS",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 604,
        "title": "tokenize[SEP] 有问题",
        "body": "- 输入\r\n`print(reader.tokenizer.tokenize(\"[SEP]\"))`\r\n- 输出\r\n`[u'\\u2581[', u'\\u2581sep', u'\\u2581]']`\r\n这个是有问题把！！",
        "state": "closed",
        "user": "ARDUJS",
        "closed_by": "haoyuying",
        "created_at": "2020-05-17T11:57:09+00:00",
        "updated_at": "2021-04-14T12:52:19+00:00",
        "closed_at": "2021-04-14T12:52:19+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 605,
        "title": "UnboundLocalError: local variable 'results' referenced before assignment",
        "body": "Linux\r\n\r\nhub serving start --modules pyramidbox_lite_server_mask --port 9292 --use_gpu --use_multiproces\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/harshit/miniconda3/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/home/harshit/miniconda3/lib/python3.7/site-packages/flask/app.py\", line 1952, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/home/harshit/miniconda3/lib/python3.7/site-packages/flask/app.py\", line 1821, in handle_user_exception\r\n    reraise(exc_type, exc_value, tb)\r\n  File \"/home/harshit/miniconda3/lib/python3.7/site-packages/flask/_compat.py\", line 39, in reraise\r\n    raise value\r\n  File \"/home/harshit/miniconda3/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/home/harshit/miniconda3/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/home/harshit/miniconda3/lib/python3.7/site-packages/paddlehub/serving/app_single.py\", line 420, in predict_image\r\n    results = predict_func(module_info, file_name_list, req_id, extra_info)\r\n  File \"/home/harshit/miniconda3/lib/python3.7/site-packages/paddlehub/serving/app_single.py\", line 233, in predict_mask\r\n    results_pack = results\r\nUnboundLocalError: local variable 'results' referenced before assignment\r\n2020-05-18 02:07:45,345-INFO: 127.0.0.1 - - [18/May/2020 02:07:45] \"POST /predict/image/pyramidbox_lite_server_mask HTTP/1.1\" 500 -\r\n\r\n```\r\n\r\nservice gives 500 response \r\npaddlepaddle-gpu-1.8.0.post107",
        "state": "closed",
        "user": "linux-devil",
        "closed_by": "linux-devil",
        "created_at": "2020-05-17T20:46:22+00:00",
        "updated_at": "2020-05-18T12:32:39+00:00",
        "closed_at": "2020-05-18T12:32:39+00:00",
        "comments_count": [
            "ShenYuhan",
            "linux-devil",
            "linux-devil",
            "linux-devil",
            "ShenYuhan",
            "linux-devil"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 606,
        "title": "paddlehub中 gradual unfreezing问题",
        "body": "## 版本、环境信息\r\n1）PaddleHub1.6.2，PaddlePaddle1.7.0\r\n2）系统环境：Aistudio\r\n3）使用的迁移训练模型：se_resnext101_32x4d_imagenet\r\n\r\n## 问题复现\r\npaddlehub迁移学习时无法 gradual unfreezing，finetune_and_eval过程提示：[ WARNING] - The max op-depth in the network is 335. That results in that can't use the gradual unfreeze finetune strategy.\r\n\r\n## 项目在aistudio链接  （注：使用版本2）：\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/476739 \r\n\r\n## 问题\r\n请问 gradual unfreezing只适用于特定预训练模型吗？还是我代码有误，谢谢！\r\n\r\n###  谢谢！",
        "state": "closed",
        "user": "mrhan36",
        "closed_by": "mrhan36",
        "created_at": "2020-05-17T23:24:07+00:00",
        "updated_at": "2020-05-19T09:25:09+00:00",
        "closed_at": "2020-05-19T09:25:09+00:00",
        "comments_count": [
            "kinghuin",
            "mrhan36",
            "kinghuin",
            "mrhan36",
            "mrhan36"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 609,
        "title": "口罩检测模型报错",
        "body": "paddlepaddle-gpu       1.7.0.post107 \r\npaddlehub：1.6.2\r\npyramidbox_lite_mobile_mask:1.3.0\r\npaddleslim             1.0.1 \r\n\r\n-----------------------------------------------------------------------------------------------------\r\nimport paddlehub as hub\r\nimport cv2\r\n\r\nmask_detector = hub.Module(name=\"pyramidbox_lite_mobile_mask\")\r\nprint(mask_detector.version)\r\nimg = cv2.imread('/home/edu/Desktop/1.jpg')\r\nprint(img.shape)\r\nresult = mask_detector.face_detection(images=[img],data=None)\r\n\r\n------------------------------------------------------------------------------------------------------\r\n[2020-05-18 11:35:10,849] [    INFO] - Installing pyramidbox_lite_mobile_mask module\r\n[2020-05-18 11:35:10,913] [    INFO] - Module pyramidbox_lite_mobile_mask already installed in /home/edu/.paddlehub/modules/pyramidbox_lite_mobile_mask\r\n[2020-05-18 11:35:10,913] [    INFO] - Installing pyramidbox_lite_mobile module\r\n[2020-05-18 11:35:10,917] [    INFO] - Module pyramidbox_lite_mobile already installed in /home/edu/.paddlehub/modules/pyramidbox_lite_mobile\r\n1.3.0\r\n(667, 500, 3)\r\nTraceback (most recent call last):\r\n  File \"/home/edu/PycharmProjects/paddledemo/zengqi.py\", line 300, in <module>\r\n    result = mask_detector.face_detection(images=[img],data=None)\r\n  File \"/home/edu/.paddlehub/modules/pyramidbox_lite_mobile_mask/module.py\", line 127, in face_detection\r\n    images, paths, use_gpu, use_multi_scale):\r\n  File \"/home/edu/.paddlehub/modules/pyramidbox_lite_mobile_mask/data_feed.py\", line 202, in reader\r\n    confs_threshold=confs_threshold)\r\nTypeError: __call__() missing 1 required positional argument: 'data'\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n口罩模型起不来，请帮忙看下问题\r\n\r\n",
        "state": "closed",
        "user": "zengqi0730",
        "closed_by": "haoyuying",
        "created_at": "2020-05-18T03:54:23+00:00",
        "updated_at": "2021-04-14T12:51:43+00:00",
        "closed_at": "2021-04-14T12:51:43+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 608,
        "title": "请问如何将ernie保存成到inference_model并在AIstudio部署",
        "body": "finetune是按照github上教程走的，只是修改了自己的数据集，没有改网络结构啥的。save_inference_model的文档我也看了，主要是不知道feeded_var_names, target_vars这两个参数ernie下应该写啥。PS：做的文本分类",
        "state": "closed",
        "user": "ChaunceyBai98",
        "closed_by": "haoyuying",
        "created_at": "2020-05-18T02:22:03+00:00",
        "updated_at": "2021-04-14T12:51:56+00:00",
        "closed_at": "2021-04-14T12:51:56+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ChaunceyBai98",
            "Steffy-zxf",
            "ChaunceyBai98",
            "Steffy-zxf",
            "ChaunceyBai98",
            "wuzixin",
            "ChaunceyBai98",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 607,
        "title": "想请教下一些关于恢复训练的问题",
        "body": "#### 恢复训练的问题\r\n\r\n> 你好，我想请教下，这个错误大概由于什么原因构成的\r\n\r\n/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/executor.py:782: UserWarning: The following exception is not an EOF exception.\r\n  \"The following exception is not an EOF exception.\")\r\nTraceback (most recent call last):\r\n  File \"sequence_label_role.py\", line 199, in <module>\r\n    main()\r\n  File \"sequence_label_role.py\", line 164, in main\r\n    seq_label_task.finetune_and_eval()\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 863, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 884, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1077, in _run\r\n    return_numpy=self.return_numpy)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/executor.py\", line 783, in run\r\n    six.reraise(*sys.exc_info())\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/executor.py\", line 778, in run\r\n    use_program_cache=use_program_cache)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/executor.py\", line 831, in _run_impl\r\n    use_program_cache=use_program_cache)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/executor.py\", line 905, in _run_program\r\n    fetch_var_name)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<std::string const&>(std::string const&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2   paddle::framework::OperatorWithKernel::ParseInputDataType(paddle::framework::ExecutionContext const&, std::string const&, paddle::framework::proto::VarType_Type*) const\r\n3   paddle::framework::OperatorWithKernel::IndicateDataType(paddle::framework::ExecutionContext const&) const\r\n4   paddle::framework::OperatorWithKernel::GetExpectedKernelType(paddle::framework::ExecutionContext const&) const\r\n5   paddle::operators::IncrementOp::GetExpectedKernelType(paddle::framework::ExecutionContext const&) const\r\n6   paddle::framework::OperatorWithKernel::ChooseKernel(paddle::framework::RuntimeContext const&, paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n7   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&, paddle::framework::RuntimeContext*) const\r\n8   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n9   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, paddle::platform::Place const&)\r\n10  paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool)\r\n11  paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::vector<std::string, std::allocator<std::string> > const&, bool, bool)\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/framework.py\", line 2594, in _prepend_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/layers/nn.py\", line 5472, in autoincreased_step_counter\r\n    attrs={'step': float(step)})\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddle/fluid/layers/learning_rate_scheduler.py\", line 48, in _decay_step_counter\r\n    counter_name='@LR_DECAY_COUNTER@', begin=begin, step=1)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/strategy.py\", line 336, in scheduler_handler\r\n    global_step = lr_scheduler._decay_step_counter()\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/strategy.py\", line 483, in execute\r\n    scheduled_lr = self.scheduler_handler(max_train_steps)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 424, in _build_env\r\n    self.device_count)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 507, in main_program\r\n    self._build_env()\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 832, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 366, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 878, in finetune\r\n    self.init_if_necessary()\r\n  File \"/opt/conda/envs/python27-paddle120-env/lib/python2.7/site-packages/paddlehub/finetune/task/base_task.py\", line 863, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"sequence_label_role.py\", line 164, in main\r\n    seq_label_task.finetune_and_eval()\r\n  File \"sequence_label_role.py\", line 199, in <module>\r\n",
        "state": "closed",
        "user": "ARDUJS",
        "closed_by": "haoyuying",
        "created_at": "2020-05-17T23:31:34+00:00",
        "updated_at": "2021-04-14T12:52:09+00:00",
        "closed_at": "2021-04-14T12:52:09+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ARDUJS",
            "Steffy-zxf",
            "ARDUJS",
            "ARDUJS",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 610,
        "title": "hub serving start pyramidbox_lite_server_mask",
        "body": "hub version 1.6.2\r\nUbuntu\r\n\r\nFollowed steps in serving section of : https://www.paddlepaddle.org.cn/hubdetail?name=pyramidbox_lite_server_mask&en_category=ObjectDetection\r\n\r\n```\r\n    data = {'images':[cv2_to_base64(cv2.imread(file_name))]}\r\n    headers = {\"Content-type\": \"application/json\"}\r\n    url = \"http://127.0.0.1:8866/predict/pyramidbox_lite_server_mask\"\r\n    r = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n    print(r.json())\r\n```\r\ngives output : \r\n```\r\n{'msg': 'Please check data format!', 'results': '', 'status': '-1'}\r\n```\r\n",
        "state": "closed",
        "user": "linux-devil",
        "closed_by": "linux-devil",
        "created_at": "2020-05-18T05:15:43+00:00",
        "updated_at": "2020-06-07T19:02:09+00:00",
        "closed_at": "2020-06-07T19:02:09+00:00",
        "comments_count": [
            "linux-devil",
            "ShenYuhan",
            "linux-devil",
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 614,
        "title": "在Aistudio中基于paddlehub调优问题",
        "body": "您好，在Aistudio中基于paddlehub1.6进行优化调参，存在以下困惑，请您帮忙解答，谢谢！\r\n\r\n## 问题1\r\n如果代码如下：\r\ninput_dict, output_dict, program = module.context(trainable=False)\r\n\r\n那是不是意味着除了softmax层，其他层都是无法finetune的，是不是就意味着以下代码就无效了？\r\n\"discriminative\": {\r\n\"blocks\": 3,\r\n\"factor\": 2.6\r\n},\r\n\"gradual_unfreeze\":\r\n{\r\n\"blocks\": 3\r\n}\r\n\r\n##  问题2：\r\n如果gradual_unfreeze的blocks=3，那么 \"discriminative\"的blocks取值是不是必须也是3，discriminitive_blocks的取值必须和gradual_unfreeze的blocks数值一致吗？是否允许以下情况，一个设置为3，一个设置为5？\r\n\r\n\"discriminative\": {\r\n\"blocks\": 5,\r\n\"factor\": 2.6\r\n},\r\n\"gradual_unfreeze\":\r\n{\r\n\"blocks\": 3\r\n}\r\n\r\n##  问题3：\r\n在Aistudio环境中，是否可使用paddlehub进行多卡并行训练？我使用以下代码进行多卡训练，似乎无效。\r\n%set_env CUDA_VISIBLE_DEVICES=4\r\n!export CUDA_VISIBLE_DEVICES=4\r\nconfig = hub.RunConfig(\r\nlog_interval=10,\r\nuse_cuda=True,\r\nnum_epoch=20,\r\nbatch_size=32,\r\neval_interval=50,\r\nuse_data_parallel=True\r\n)\r\n\r\n##  问题4：\r\n感觉slanted_triangle和wramup思路一致，在参数设置时，二者可以同时设置吗（如下代码），感觉这样设置冲突了，是否二选一即可？\r\nscheduler = {\r\n\"warmup\": 0.1,\r\n\"linear_decay\": {\r\n\"start_point\": 0.1,\r\n\"end_learning_rate\": 0.0\r\n},\r\n\"slanted_triangle\": {\r\n\"cut_fraction\": 0.1,\r\n\"ratio\": 32\r\n}\r\n\r\n## 谢谢！",
        "state": "closed",
        "user": "mrhan36",
        "closed_by": "mrhan36",
        "created_at": "2020-05-19T09:24:41+00:00",
        "updated_at": "2020-05-19T10:43:45+00:00",
        "closed_at": "2020-05-19T10:43:45+00:00",
        "comments_count": [
            "kinghuin",
            "mrhan36"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 612,
        "title": "自定义2分类数据，使用ernie_tiny进行finetune_and_eval，predict出来的结果都是一样的0",
        "body": "class MyDataset(BaseNLPDataset):\r\n    \"\"\"DemoDataset\"\"\"\r\n    def __init__(self):\r\n        # 数据集存放位置\r\n        self.dataset_dir = \"./data_all\"\r\n        super(MyDataset, self).__init__(\r\n            base_path=self.dataset_dir,\r\n            train_file=\"train.txt\",\r\n            dev_file=\"test.txt\",\r\n            test_file=\"valid.txt\",\r\n            train_file_with_header=False,\r\n            dev_file_with_header=False,\r\n            test_file_with_header=False,\r\n            \r\n            # 数据集类别集合\r\n            label_list=[\"0\", \"1\"])\r\n\r\ndataset = MyDataset()\r\nfor e in dataset.get_train_examples()[0]:\r\n    print(\"{}\\t{}\\t{}\".format(e.guid, e.text_a, e.label))\r\n\r\nprint结果：\r\n0\t家里老催 我也不知道为什么就是没遇到真心爱我的男人 不知道在这里能不能遇到 只限重庆的35岁以下\t1\r\n\r\n\r\n//加载模型\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"ernie_tiny\",)\r\n//构建Reader\r\nreader = hub.reader.ClassifyReader(\r\n    dataset=dataset,\r\n    vocab_path=module.get_vocab_path(),\r\n    sp_model_path=module.get_spm_path(),\r\n    word_dict_path=module.get_word_dict_path(),\r\n    max_seq_len=128)\r\n// finetune策略\r\nstrategy = hub.AdamWeightDecayStrategy(\r\n    weight_decay=0.01,\r\n    warmup_proportion=0.1,\r\n    learning_rate=5e-5)\r\n//运行配置\r\nconfig = hub.RunConfig(\r\n    use_cuda=False,\r\n    num_epoch=1,\r\n    checkpoint_dir=\"model_all2\",\r\n    batch_size=32,\r\n    eval_interval=100,\r\n    strategy=strategy)\r\n%env CPU_NUM=15\r\n//Finetune Task\r\ninputs, outputs, program = module.context(trainable=True, max_seq_len=128)\r\npooled_output = outputs[\"pooled_output\"]\r\n\r\nfeed_list = [\r\n    inputs[\"input_ids\"].name,\r\n    inputs[\"position_ids\"].name,\r\n    inputs[\"segment_ids\"].name,\r\n    inputs[\"input_mask\"].name,\r\n]\r\n\r\ncls_task = hub.TextClassifierTask(\r\n        data_reader=reader,\r\n        feature=pooled_output,\r\n        feed_list=feed_list,\r\n        num_classes=dataset.num_labels,\r\n        config=config,\r\n        metrics_choices=[\"f1\"])\r\n\r\n# finetune\r\nrun_states = cls_task.finetune_and_eval()\r\n\r\nfinetune log如下：\r\n[2020-05-19 10:06:04,717] [    INFO] - Strategy with warmup, linear decay, slanted triangle learning rate, weight decay regularization, \r\n/usr/local/Python-3.6.8/lib/python3.6/site-packages/paddle/fluid/executor.py:811: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\n[2020-05-19 10:06:04,748] [    INFO] - Try loading checkpoint from model_all2/ckpt.meta\r\n[2020-05-19 10:06:04,750] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-05-19 10:06:04,936] [    INFO] - PaddleHub finetune start\r\n[2020-05-19 10:16:39,083] [   TRAIN] - step 10 / 43: loss=0.40500 f1=0.08569 [step/sec: 0.02]\r\n[2020-05-19 10:33:39,614] [   TRAIN] - step 20 / 43: loss=0.21602 f1=0.00000 [step/sec: 0.01]\r\n[2020-05-19 10:48:13,086] [   TRAIN] - step 30 / 43: loss=0.17749 f1=0.00000 [step/sec: 0.01]\r\n[2020-05-19 11:05:39,188] [   TRAIN] - step 40 / 43: loss=0.19343 f1=0.00000 [step/sec: 0.01]\r\n[2020-05-19 11:10:57,969] [    INFO] - Evaluation on dev dataset start\r\nshare_vars_from is set, scope is ignored.\r\n[2020-05-19 11:11:53,923] [    EVAL] - [dev dataset evaluation result] loss=0.30112 f1=0.00000 [step/sec: 0.14]\r\n[2020-05-19 11:11:53,924] [    EVAL] - best model saved to model_all2/best_model [best f1=0.00000]\r\n[2020-05-19 11:11:54,419] [    INFO] - Load the best model from model_all2/best_model\r\n[2020-05-19 11:11:55,060] [    INFO] - Evaluation on test dataset start\r\n[2020-05-19 11:13:04,649] [    EVAL] - [test dataset evaluation result] loss=0.11348 f1=0.00000 [step/sec: 0.14]\r\n[2020-05-19 11:13:04,651] [    INFO] - Saving model checkpoint to model_all2/step_43\r\n[2020-05-19 11:13:05,930] [    INFO] - PaddleHub finetune finished.\r\n\r\ndata = [['失恋!心情不好'],\r\n ['从新接受新的工作，挑战下自己'],\r\n ['今天是周末'],]\r\nrun_states = cls_task.predict(data=data, return_result= True,accelerate_mode=True)\r\n\r\nrun_states : [0,0,0]",
        "state": "closed",
        "user": "weiwei1005",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-05-19T03:33:11+00:00",
        "updated_at": "2020-06-01T11:59:50+00:00",
        "closed_at": "2020-06-01T11:59:50+00:00",
        "comments_count": [
            "Steffy-zxf",
            "weiwei1005",
            "Steffy-zxf",
            "weiwei1005",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 615,
        "title": "请问那个模型可以解决序列预测的问题",
        "body": "遇到的需求是这样的  \r\n需要根据设备前面7天的报警信息去预测后面一天的报警情况？\r\n有没有相关案例推荐？\r\n\r\n",
        "state": "closed",
        "user": "jaffe-fly",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-05-19T10:24:44+00:00",
        "updated_at": "2020-06-01T11:58:54+00:00",
        "closed_at": "2020-06-01T11:58:54+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 616,
        "title": "Can't find module ernie",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub 1.1.1和PaddlePaddle 1.3.1\r\n2）系统环境：请您描述系统类型，例如Linux，python版本2.7.14\r\nCan't find module ernie with version 1.2.0\r\n无法正常安装",
        "state": "closed",
        "user": "githubsora",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-05-20T07:55:51+00:00",
        "updated_at": "2020-06-01T11:59:26+00:00",
        "closed_at": "2020-06-01T11:59:26+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 617,
        "title": "AssertionError: Not compiled with CUDA",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\nPaddleHub1.5.4，PaddlePaddle1.7.1\r\n2）系统环境：\r\nLinux(centos-7)，python-3.7\r\n\r\n报错信息如下：\r\n▽\r\n  1 [2020-05-21 20:35:47,983] [    INFO] - Installing resnext50_32x4d_imagenet module\r\n  2 [2020-05-21 20:35:48,001] [    INFO] - Module resnext50_32x4d_imagenet already installed in /home/luban/.paddlehub/modules/resnext50_32x4d_imagenet\r\n  3 [2020-05-21 20:35:48,332] [    INFO] - 267 pretrained paramaters loaded by PaddleHub\r\n  4 [2020-05-21 20:35:48,518] [    INFO] - Dataset label map = {'1': 0, '2': 1, '3': 2, '4': 3, '5': 4, '6': 5, '7': 6, '8': 7, '9': 8}\r\n  5 [2020-05-21 20:35:48,519] [    INFO] - Checkpoint dir: ckpt_20200521203548\r\n  6 Traceback (most recent call last):\r\n  7   File \"img_cls.py\", line 147, in <module>\r\n  8     finetune(args)\r\n  9   File \"img_cls.py\", line 113, in finetune\r\n 10     config=config)\r\n 11   File \"/home/luban/anaconda3/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py\", line 49, in __init__\r\n 12     metrics_choices=metrics_choices)\r\n 13   File \"/home/luban/anaconda3/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 242, in __init__\r\n 14     self.place = self.places[0]\r\n 15   File \"/home/luban/anaconda3/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 416, in places\r\n 16     _places = fluid.framework.cuda_places()\r\n 17   File \"/home/luban/anaconda3/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 314, in cuda_places\r\n 18     \"Not compiled with CUDA\"\r\n 19 AssertionError: Not compiled with CUDA",
        "state": "closed",
        "user": "yuzehui1996",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-05-21T12:50:56+00:00",
        "updated_at": "2020-06-01T12:04:50+00:00",
        "closed_at": "2020-06-01T12:04:50+00:00",
        "comments_count": [
            "Steffy-zxf",
            "yuzehui1996",
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 620,
        "title": "strategy应用momentum优化时报错",
        "body": "## 环境设置\r\n环境：aistudio\r\npython版本：3.7\r\npaddlehub版本：1.7.0\r\n\r\n## 项目位置：\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/492913\r\n\r\n## 问题：运行到以下代码处报错：\r\nstrategy = hub.CombinedStrategy(\r\n    optimizer_name=\"momentum\", \r\n    learning_rate=0.0001\r\n)\r\nconfig = hub.RunConfig(\r\n    log_interval=10,\r\n    use_cuda=True,\r\n    num_epoch=5,\r\n    checkpoint_dir=ckpt_dirckpt_dir,  \r\n    batch_size=32,\r\n    eval_interval=50,\r\n    strategy=strategy,\r\n    )\r\n\r\n报错内容如下：\r\n---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)<ipython-input-7-222108b5f3b3> in <module>\r\n      7 strategy = hub.CombinedStrategy(\r\n      8     optimizer_name=\"momentum\",\r\n----> 9     learning_rate=0.0001\r\n     10 )\r\n     11 config = hub.RunConfig(\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/strategy.py in __init__(self, optimizer_name, learning_rate, scheduler, regularization, clip)\r\n    189                  clip=None):\r\n    190         super(CombinedStrategy, self).__init__(\r\n--> 191             optimizer_name=optimizer_name, learning_rate=learning_rate)\r\n    192 \r\n    193         # init set\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/strategy.py in __init__(self, learning_rate, optimizer_name)\r\n    157         elif self._optimizer_name.lower() == \"momentum\":\r\n    158             self.optimizer = fluid.optimizer.Momentum(\r\n--> 159                 learning_rate=self.learning_rate)\r\n    160         elif self._optimizer_name.lower() == \"decayedadagrad\":\r\n    161             self.optimizer = fluid.optimizer.DecayedAdagrad(\r\nTypeError: __init__() missing 1 required positional argument: 'momentum'\r\n\r\n\r\n## 谢谢！",
        "state": "closed",
        "user": "mrhan36",
        "closed_by": "mrhan36",
        "created_at": "2020-05-22T09:59:43+00:00",
        "updated_at": "2020-05-25T06:15:35+00:00",
        "closed_at": "2020-05-25T06:15:35+00:00",
        "comments_count": [
            "Steffy-zxf",
            "mrhan36",
            "mrhan36",
            "Steffy-zxf",
            "mrhan36"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 618,
        "title": "pyramidbox_lite_server、pyramidbox_face_detect，两个modules的服务预测时间为什么相差这么大",
        "body": "老师你好，我在研究贵司提供的人脸检测模型服务时，对比了下pyramidbox_lite_server、pyramidbox_face_detect，两个modules的服务预测时间：\r\npyramidbox_lite_server：CPU预测，时间10ms左右\r\npyramidbox_face_detect：P100 GPU预测，时间8s左右\r\n请问，为什么预测时间相差这么多，有什么可优化的措施建议吗，谢谢~\r\n",
        "state": "closed",
        "user": "YasinZhao",
        "closed_by": "YasinZhao",
        "created_at": "2020-05-22T02:31:58+00:00",
        "updated_at": "2020-05-22T05:23:58+00:00",
        "closed_at": "2020-05-22T05:23:58+00:00",
        "comments_count": [
            "Steffy-zxf",
            "YasinZhao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 621,
        "title": "pyramidbox_lite_server_mask模型报错",
        "body": "PaddleHub1.7.0，\r\nwindow \r\npycharm中运行pyramidbox_lite_server_mask示例代码报错了\r\nimport paddlehub as hub\r\nimport cv2\r\n\r\nmask_detector = hub.Module(name=\"pyramidbox_lite_server_mask\", version='1.3.0')\r\n\r\n# result = mask_detector.face_detection(images=[cv2.imread('/PATH/TO/IMAGE')])\r\n# or\r\nresult = mask_detector.face_detection(paths=['image/mask/5.jpg'])\r\n\r\nTypeError: __call__() missing 1 required positional argument: 'data'\r\n\r\npaths是我的图片地址  是这个出问题了吗",
        "state": "closed",
        "user": "sherklock",
        "closed_by": "WYB27",
        "created_at": "2020-05-23T09:35:17+00:00",
        "updated_at": "2025-06-30T07:24:16+00:00",
        "closed_at": "2025-06-30T07:24:15+00:00",
        "comments_count": [
            "Steffy-zxf",
            "sherklock",
            "Steffy-zxf",
            "sherklock",
            "sherklock",
            "Steffy-zxf",
            "sherklock",
            "Steffy-zxf",
            "sherklock"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 623,
        "title": "IOError: [Errno 2] No such file or directory: '/home/xxx/.paddlehub/modules/pyramidbox_lite_mobile_mask'",
        "body": "1）PaddleHub1.5.0，PaddlePaddle1.8\r\n2）Ubuntu16.04，Python2.7\r\n\r\n问题：学习PaddleHub口罩检测项目过程中，pyramidbox mask模型安装出错，其它如lac，YOLOv3可以正常安装\r\ntar@NUC7i3BNK:~$hub run pyramidbox_lite_mobile_mask --input_path test_mask_detection.jpg\r\nInstall Module pyramidbox_lite_mobile_mask\r\nDownloading pyramidbox_lite_mobile_mask\r\n[==================================================] 100.00%\r\nUncompress /home/xxx/.paddlehub/tmp/tmpqGvucz/pyramidbox_lite_mobile_mask\r\n[==================================================] 100.00%\r\nTraceback (most recent call last):\r\n  File \"/home/mustar/.local/bin/hub\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/mustar/.local/lib/python2.7/site-packages/paddlehub/commands/hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"/home/xxx/.local/lib/python2.7/site-packages/paddlehub/commands/hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/home/xxx/.local/lib/python2.7/site-packages/paddlehub/commands/run.py\", line 232, in execute\r\n    self.module = self.find_module(module_name)\r\n  File \"/home/xxx/.local/lib/python2.7/site-packages/paddlehub/commands/run.py\", line 66, in find_module\r\n    module_name, extra=extra)\r\n  File \"/home/xxx/.local/lib/python2.7/site-packages/paddlehub/module/manager.py\", line 201, in install_module\r\n    shutil.move(module_dir, save_path)\r\n  File \"/usr/lib/python2.7/shutil.py\", line 302, in move\r\n    copy2(src, real_dst)\r\n  File \"/usr/lib/python2.7/shutil.py\", line 130, in copy2\r\n    copyfile(src, dst)\r\n  File \"/usr/lib/python2.7/shutil.py\", line 82, in copyfile\r\n    with open(src, 'rb') as fsrc:\r\nIOError: [Errno 2] No such file or directory: '/home/xxx/.paddlehub/modules/pyramidbox_lite_mobile_mask'\r\n",
        "state": "closed",
        "user": "wgwang314",
        "closed_by": "wgwang314",
        "created_at": "2020-05-25T04:53:51+00:00",
        "updated_at": "2020-05-25T07:11:14+00:00",
        "closed_at": "2020-05-25T07:11:14+00:00",
        "comments_count": [
            "Steffy-zxf",
            "wgwang314"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 624,
        "title": "ernie 命名实体如何保存模型，如何部署",
        "body": "![image](https://user-images.githubusercontent.com/22019016/82797224-5fac2400-9ea9-11ea-9317-83806ed6d59d.png)\r\n",
        "state": "closed",
        "user": "wuzixin",
        "closed_by": "haoyuying",
        "created_at": "2020-05-25T09:01:33+00:00",
        "updated_at": "2021-04-14T12:50:09+00:00",
        "closed_at": "2021-04-14T12:50:09+00:00",
        "comments_count": [
            "Steffy-zxf",
            "wuzixin",
            "wuzixin",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 622,
        "title": "This usage is out of date, please use 'application/json' as content-type",
        "body": "\r\n## 环境\r\n- PaddleHub1.7.0\r\n- PaddlePaddle1.7.2\r\n- 系统环境：Windows\r\n- python版本3.7\r\n##  复现信息：\r\n执行命令hub serving start -m ace2p，启动http服务，访问网页，选择图片，点击start没反应，f12查看请求回应信息为：\r\n{\"msg\":{\"Warnning\":\"This usage is out of date, please use 'application/json' as content-type to post to /predict/ace2p. See 'https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.6/docs/tutorial/serving.md' for more details.\"}}",
        "state": "closed",
        "user": "huoshen8211",
        "closed_by": "WYB27",
        "created_at": "2020-05-23T21:55:33+00:00",
        "updated_at": "2025-06-30T07:24:14+00:00",
        "closed_at": "2025-06-30T07:24:13+00:00",
        "comments_count": [
            "Steffy-zxf",
            "huoshen8211",
            "huoshen8211",
            "ShenYuhan",
            "huoshen8211",
            "ShenYuhan",
            "huoshen8211"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 625,
        "title": "chinese_ocr_db_rcnn 运行错误",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.7.0，PaddlePaddle1.8.1\r\n2）系统环境：\r\nDocker version 19.03.8, 基础镜像Ubuntu 18.04, Python 3.6.9\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n运行命令\r\nhub run chinese_ocr_db_rcnn --input_path /program/img/02.png\r\n报错为\r\n2020-05-25 17:00:42,138-INFO: generated new fontManager\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/hub\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.6/dist-packages/paddlehub/commands/hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"/usr/local/lib/python3.6/dist-packages/paddlehub/commands/hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/usr/local/lib/python3.6/dist-packages/paddlehub/commands/run.py\", line 242, in execute\r\n    results = self.module.run_func(argv[1:])\r\n  File \"/usr/local/lib/python3.6/dist-packages/paddlehub/module/module.py\", line 59, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/root/.paddlehub/modules/chinese_ocr_db_rcnn/module.py\", line 374, in run_cmd\r\n    results = self.recognize_texts(\r\n  File \"/usr/local/lib/python3.6/dist-packages/paddle/fluid/dygraph/layers.py\", line 533, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'ChineseOCRDBRCNN' object has no attribute 'recognize_texts'",
        "state": "closed",
        "user": "liweigu",
        "closed_by": "liweigu",
        "created_at": "2020-05-25T09:02:47+00:00",
        "updated_at": "2020-05-29T03:41:33+00:00",
        "closed_at": "2020-05-25T13:03:59+00:00",
        "comments_count": [
            "liweigu",
            "Steffy-zxf",
            "liweigu",
            "liweigu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 628,
        "title": "视频检测",
        "body": "有没有什么办法可以检测视频中人物是否佩带口罩？\r\n",
        "state": "closed",
        "user": "sherklock",
        "closed_by": "haoyuying",
        "created_at": "2020-05-26T10:30:50+00:00",
        "updated_at": "2021-04-14T12:49:59+00:00",
        "closed_at": "2021-04-14T12:49:59+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 630,
        "title": "paddlehub模型不能运行",
        "body": "问题：安装hub yolov3_darknet53_pedestrian 和yolov3_darknet53_vehicles 模型都不能正常运行\r\n本机环境： win10  64位  显卡 GTX1660 Ti   PaddleHub1.7.0，PaddlePaddle1.8  GPU 版本 \r\n\r\n错误提示：\r\n\r\nPS F:\\aiCode\\paddlehubCode\\vehicles> python ./vehicles.py\r\nTraceback (most recent call last):\r\n  File \"./vehicles.py\", line 4, in <module>\r\n    vehicles_detector = hub.Module(name=yolov3_darknet53_vehicles)\r\nNameError: name 'yolov3_darknet53_vehicles' is not defined\r\nPS F:\\aiCode\\paddlehubCode\\vehicles> hub install yolov3_darknet53_vehicles\r\nModule yolov3_darknet53_vehicles already installed in C:\\Users\\Acer\\.paddlehub\\modules\\yolov3_darknet53_vehicles\r\nPS F:\\aiCode\\paddlehubCode\\vehicles> hub run yolov3_darknet53_vehicles --input_path \"F://1201.jpg\"\r\nTraceback (most recent call last):\r\n  File \"d:\\programdata\\anaconda3\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"d:\\programdata\\anaconda3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\ProgramData\\Anaconda3\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\run.py\", line 242, in execute\r\n    results = self.module.run_func(argv[1:])\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 59, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\Acer\\.paddlehub\\modules\\yolov3_darknet53_vehicles\\module.py\", line 283, in run_cmd\r\n    results = self.face_detection(\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 533, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'YOLOv3DarkNet53Vehicles' object has no attribute 'face_detection'\r\nPS F:\\aiCode\\paddlehubCode\\vehicles> hub install yolov3_darknet53_pedestrian==1.0.0\r\nDownloading yolov3_darknet53_pedestrian\r\n[==================================================] 100.00%\r\nUncompress C:\\Users\\Acer\\.paddlehub\\tmp\\tmpyqe38e6v\\yolov3_darknet53_pedestrian\r\n[==================================================] 100.00%\r\nSuccessfully installed yolov3_darknet53_pedestrian-1.0.0\r\nPS F:\\aiCode\\paddlehubCode\\vehicles> hub run yolov3_darknet53_pedestrian --input_path \"F://1201.jpg\"\r\nTraceback (most recent call last):\r\n  File \"d:\\programdata\\anaconda3\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"d:\\programdata\\anaconda3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\ProgramData\\Anaconda3\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\run.py\", line 242, in execute\r\n    results = self.module.run_func(argv[1:])\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 59, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\Acer\\.paddlehub\\modules\\yolov3_darknet53_pedestrian\\module.py\", line 283, in run_cmd\r\n    results = self.face_detection(\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 533, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'YOLOv3DarkNet53Pedestrian' object has no attribute 'face_detection'\r\nPS F:\\aiCode\\paddlehubCode\\vehicles>\r\n\r\n",
        "state": "closed",
        "user": "xianbinzhang",
        "closed_by": "xianbinzhang",
        "created_at": "2020-05-26T14:38:17+00:00",
        "updated_at": "2020-06-03T09:23:38+00:00",
        "closed_at": "2020-06-03T09:22:48+00:00",
        "comments_count": [
            "Steffy-zxf",
            "xianbinzhang",
            "Steffy-zxf",
            "xianbinzhang",
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 631,
        "title": "关于组合优化策略的一个问题",
        "body": "## 【训练环境】\r\n环境：aistudio\r\npython版本：3.7\r\npaddlehub版本：1.7.0\r\n模型：se_resnext101_32x4d_imagenet\r\n任务：通过迁移学习，训练最佳预测模型\r\n\r\n## 【我的问题】\r\n问题1：\r\n为进行模型调优，得到最优预测模型，计划对以下8个参数在不同取值组合下做正交实验，观察各组合准确率。**我的困惑是，以下各优化器（SGD,ADAM等）和其他7个参数之间，以及1-7各参数之间是否可以任意组合，是否存在在理论上不适合组合的地方。**\r\n\r\n问题2：\r\n以下各参数取值是在小样本数据上实施单因素预实验（将其他参数设置为None或paddlehub默认值）后筛选确定的acc较高的代表性的参数值。**请问依您的经验，以下参数取值是否有明显不合理的地方**。该实验数据要写在英文论文中，是核心实验部分，文中会提到paddlepaddle和Aistudio平台，所以希望能严谨呈现，为避免犯低级错误，所以来此处寻求帮助，谢谢！\r\n\r\n由于数据量较大，各组合确定后，下一步实验会耗费大量计算资源和时间（单卡训练需要20天完成实验），所以请专家给把把关，谢谢！\r\n\r\n1. 【Batch_size】：16，32，64\r\n2. 【学习率（learning_rate）】：0.001，0.0001，0.00005\r\n3. 【权重衰减（weight_decay）】：0.0001，0.0005，0.001\r\n4. 【gradual_unfreeze】：3，5，7\r\n5. 【slanted_triangle-cut_fraction】：0.05，0.1，0.2\r\n6. 【Discrimitive-blocks】：2，3，5\r\n7. 【Clip】：1，2，3\r\n8. 【优化器（optimizer）】：sgd，adam，adagrad，adamax，decayedadagrad，rmsprop \r\n\r\n## 谢谢！\r\n",
        "state": "closed",
        "user": "mrhan36",
        "closed_by": "mrhan36",
        "created_at": "2020-05-26T16:02:32+00:00",
        "updated_at": "2020-05-28T13:38:17+00:00",
        "closed_at": "2020-05-28T13:38:17+00:00",
        "comments_count": [
            "kinghuin",
            "mrhan36",
            "kinghuin",
            "mrhan36",
            "kinghuin",
            "mrhan36"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 632,
        "title": " Module face_landmark_localization，实现川剧变脸时换成别的图片识别不出来",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "lzb-James",
        "closed_by": "haoyuying",
        "created_at": "2020-05-27T01:35:13+00:00",
        "updated_at": "2021-04-14T12:49:49+00:00",
        "closed_at": "2021-04-14T12:49:49+00:00",
        "comments_count": [
            "lzb-James",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 634,
        "title": "TypeError: __init__() missing 1 required positional argument: 'name_scope'",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.7.0，PaddlePaddle\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nTraceback (most recent call last):\r\n  File \"/home/anthony/.local/bin/hub\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/home/anthony/.local/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"/home/anthony/.local/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/home/anthony/.local/lib/python3.7/site-packages/paddlehub/commands/run.py\", line 232, in execute\r\n    self.module = self.find_module(module_name)\r\n  File \"/home/anthony/.local/lib/python3.7/site-packages/paddlehub/commands/run.py\", line 71, in find_module\r\n    return hub.Module(directory=module_dir[0])\r\n  File \"/home/anthony/.local/lib/python3.7/site-packages/paddlehub/module/module.py\", line 104, in __new__\r\n    module = cls.init_with_directory(directory=directory, **kwargs)\r\n  File \"/home/anthony/.local/lib/python3.7/site-packages/paddlehub/module/module.py\", line 200, in init_with_directory\r\n    user_module = _item(directory=directory, **kwargs)\r\n  File \"/home/anthony/.local/lib/python3.7/site-packages/paddlehub/module/module.py\", line 138, in __init__\r\n    super(Module, self).__init__()\r\nTypeError: __init__() missing 1 required positional argument: 'name_scope'\r\n\r\n",
        "state": "closed",
        "user": "anthonyyuan",
        "closed_by": "haoyuying",
        "created_at": "2020-05-27T04:26:18+00:00",
        "updated_at": "2021-04-14T12:49:38+00:00",
        "closed_at": "2021-04-14T12:49:37+00:00",
        "comments_count": [
            "nepeplwu",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 635,
        "title": "如何导出及导入模型？",
        "body": "没有看到如何将训练好的模型导出的办法，也没看到该如何直接导入自己训练好的模型。",
        "state": "closed",
        "user": "T-baby",
        "closed_by": "haoyuying",
        "created_at": "2020-05-27T08:04:54+00:00",
        "updated_at": "2023-02-20T06:48:24+00:00",
        "closed_at": "2021-04-14T12:49:26+00:00",
        "comments_count": [
            "Steffy-zxf",
            "T-baby",
            "Steffy-zxf",
            "haoyuying",
            "JzHuangJian",
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 637,
        "title": "在Linux终端执行hub，返回错误OSError: [Errno 9] Bad file descriptor",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub1.7.0，PaddlePaddle1.8.1\r\n2）系统环境：Linux系统，python3.7\r\n![image](https://user-images.githubusercontent.com/66046485/83091162-281dc180-a0cd-11ea-8b58-f3187da0c944.png)\r\n\r\n\r\n在终端输入hub，返回以下内容\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/hub\", line 5, in <module>\r\n    from paddlehub.commands.hub import main\r\n  File \"/usr/local/lib/python3.7/site-packages/paddlehub/commands/__init__.py\", line 26, in <module>\r\n    from . import config\r\n  File \"/usr/local/lib/python3.7/site-packages/paddlehub/commands/config.py\", line 30, in <module>\r\n    HubServer()\r\n  File \"/usr/local/lib/python3.7/site-packages/paddlehub/common/decorator_utils.py\", line 24, in synced_func\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/paddlehub/common/decorator_utils.py\", line 35, in _get_instance\r\n    _instance[cls] = cls(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/paddlehub/common/hub_server.py\", line 60, in __init__\r\n    lock.flock(fp_lock, lock.LOCK_EX)\r\n  File \"/usr/local/lib/python3.7/site-packages/paddlehub/common/lock.py\", line 38, in flock\r\n    self.lock.flock(fp, cmd)\r\nOSError: [Errno 9] Bad file descriptor\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "dpln2020",
        "closed_by": "WYB27",
        "created_at": "2020-05-28T02:23:13+00:00",
        "updated_at": "2025-06-30T07:24:12+00:00",
        "closed_at": "2025-06-30T07:24:12+00:00",
        "comments_count": [
            "ShenYuhan",
            "dpln2020",
            "ShenYuhan",
            "dpln2020",
            "KevinNuNu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 638,
        "title": "paddlehub目标检测迁移学习有相关的教程和demo吗？",
        "body": "我翻了很久都没找到hub上目标检测进行迁移学习的，请问一下是否有相关的教程和样例。",
        "state": "closed",
        "user": "whjdark",
        "closed_by": "whjdark",
        "created_at": "2020-05-28T02:23:32+00:00",
        "updated_at": "2020-05-28T06:13:14+00:00",
        "closed_at": "2020-05-28T06:13:14+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 639,
        "title": "Senta 情感分析 Fine-tune",
        "body": "paddlehub==1.6.2\r\npaddlepaddle==1.8.0\r\n\r\n我按照\r\nhttps://github.com/PaddlePaddle/PaddleHub/tree/release/v1.7/demo/senta\r\n步骤做，但是到\r\nconfig = hub.RunConfig(\r\n    use_cuda=False,\r\n    use_pyreader=False,\r\n    use_data_parallel=False,\r\n    num_epoch=3,\r\n    batch_size=32,\r\n    strategy=hub.AdamWeightDecayStrategy())\r\n\r\n后报错\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 6, in <module>\r\n  File \"D:\\Anaconda3\\envs\\sentiment\\lib\\site-packages\\paddlehub\\finetune\\task\\classifier_task.py\", line 179, in __init__\r\n    metrics_choices=metrics_choices)\r\n  File \"D:\\Anaconda3\\envs\\sentiment\\lib\\site-packages\\paddlehub\\finetune\\task\\classifier_task.py\", line 49, in __init__\r\n    metrics_choices=metrics_choices)\r\n  File \"D:\\Anaconda3\\envs\\sentiment\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 299, in __init__\r\n    main_program, for_test=False)\r\n  File \"D:\\Anaconda3\\envs\\sentiment\\lib\\site-packages\\paddlehub\\common\\paddle_helper.py\", line 274, in clone_program\r\n    dest_program.global_block())\r\n  File \"D:\\Anaconda3\\envs\\sentiment\\lib\\site-packages\\paddlehub\\common\\paddle_helper.py\", line 147, in _copy_vars_and_ops_in_blocks\r\n    var_info = copy.deepcopy(get_variable_info(var))\r\n  File \"D:\\Anaconda3\\envs\\sentiment\\lib\\site-packages\\paddlehub\\common\\paddle_helper.py\", line 65, in get_variable_info\r\n    var_info['gradient_clip_attr'] = var.gradient_clip_attr\r\nAttributeError: 'Parameter' object has no attribute 'gradient_clip_attr'\r\n",
        "state": "closed",
        "user": "lynette2020",
        "closed_by": "haoyuying",
        "created_at": "2020-05-28T04:21:16+00:00",
        "updated_at": "2021-04-14T12:48:51+00:00",
        "closed_at": "2021-04-14T12:48:51+00:00",
        "comments_count": [
            "lynette2020",
            "Steffy-zxf",
            "lynette2020",
            "lynette2020",
            "Steffy-zxf",
            "lynette2020",
            "Steffy-zxf",
            "lynette2020",
            "lynette2020",
            "Steffy-zxf",
            "lynette2020",
            "lynette2020",
            "lynette2020",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 641,
        "title": "有关paddlehub的autodl的问题，loss 和acc是一样的？？？",
        "body": "为什么我用autodl的时候，跑出来的loss和acc是一样的值？同样的代码我放在aistudio上面，完全没问题，acc和loss是不一样的，acc大，loss就小很多，请问能否帮忙解决，我是昨天下的最新的paddlepaddle和paddlehub\r\n`[2020-05-27 23:57:20,855] [   TRAIN] - step 3320 / 3429: loss=0.95312 acc=0.95312 [step/sec: 3.04]\r\n[2020-05-27 23:57:24,215] [   TRAIN] - step 3330 / 3429: loss=0.96875 acc=0.96875 [step/sec: 3.04]\r\n[2020-05-27 23:57:27,576] [   TRAIN] - step 3340 / 3429: loss=0.97188 acc=0.97188 [step/sec: 3.04]\r\n[2020-05-27 23:57:31,104] [   TRAIN] - step 3350 / 3429: loss=0.98958 acc=0.98958 [step/sec: 3.00]\r\n[2020-05-27 23:57:34,466] [   TRAIN] - step 3360 / 3429: loss=0.96250 acc=0.96250 [step/sec: 3.04]\r\n[2020-05-27 23:57:37,835] [   TRAIN] - step 3370 / 3429: loss=0.97500 acc=0.97500 [step/sec: 3.03]\r\n[2020-05-27 23:57:41,198] [   TRAIN] - step 3380 / 3429: loss=0.97813 acc=0.97813 [step/sec: 3.04]\r\n[2020-05-27 23:57:44,691] [   TRAIN] - step 3390 / 3429: loss=0.96875 acc=0.96875 [step/sec: 3.25]\r\n[2020-05-27 23:57:48,049] [   TRAIN] - step 3400 / 3429: loss=0.97813 acc=0.97813 [step/sec: 3.04]\r\n[2020-05-27 23:57:51,471] [   TRAIN] - step 3410 / 3429: loss=0.97188 acc=0.97188 [step/sec: 2.99]\r\n`\r\n\r\n\r\n`==> round0/log-0.info <==\r\n[2020-05-27 14:17:51,179] [    EVAL] - best model saved to ckpt_20200527140507/best_model [best acc=0.31413]\r\n[2020-05-27 14:17:52,471] [    INFO] - Load the best model from ckpt_20200527140507/best_model\r\n[2020-05-27 14:17:52,758] [    INFO] - Evaluation on test dataset start\r\n[2020-05-27 14:17:56,026] [    EVAL] - [test dataset evaluation result] loss=0.39270 acc=0.39270 [step/sec: 5.92]\r\n[2020-05-27 14:17:56,027] [    INFO] - Saving model checkpoint to ckpt_20200527140507/step_4100\r\n[2020-05-27 14:17:57,099] [    INFO] - PaddleHub finetune finished.\r\n[2020-05-27 14:17:57,100] [    INFO] - Try loading checkpoint from ckpt_20200527140507/ckpt.meta\r\n[2020-05-27 14:17:57,397] [    INFO] - PaddleHub model checkpoint loaded. current_epoch=51, global_step=4100, best_score=0.31413\r\n[2020-05-27 14:17:57,398] [    INFO] - Evaluation on dev dataset start\r\n[2020-05-27 14:18:00,638] [    EVAL] - [dev dataset evaluation result] loss=0.31413 acc=0.31413 [step/sec: 5.97]\r\n\r\n==> round0/log-10.info <==\r\n[2020-05-27 18:05:31,993] [    EVAL] - best model saved to ckpt_20200527172834/best_model [best acc=0.83658]\r\n[2020-05-27 18:05:33,126] [    INFO] - Load the best model from ckpt_20200527172834/best_model\r\n[2020-05-27 18:05:33,401] [    INFO] - Evaluation on test dataset start\r\n[2020-05-27 18:05:36,953] [    EVAL] - [test dataset evaluation result] loss=0.88527 acc=0.88527 [step/sec: 2.60]\r\n[2020-05-27 18:05:36,954] [    INFO] - Saving model checkpoint to ckpt_20200527172834/step_5075\r\n[2020-05-27 18:05:37,949] [    INFO] - PaddleHub finetune finished.\r\n[2020-05-27 18:05:37,949] [    INFO] - Try loading checkpoint from ckpt_20200527172834/ckpt.meta\r\n[2020-05-27 18:05:38,226] [    INFO] - PaddleHub model checkpoint loaded. current_epoch=146, global_step=5075, best_score=0.83658\r\n[2020-05-27 18:05:38,226] [    INFO] - Evaluation on dev dataset start\r\n[2020-05-27 18:05:41,438] [    EVAL] - [dev dataset evaluation result] loss=0.83658 acc=0.83658 [step/sec: 2.90]\r\n`",
        "state": "closed",
        "user": "LilyCaiZL",
        "closed_by": "haoyuying",
        "created_at": "2020-05-28T05:26:02+00:00",
        "updated_at": "2021-04-14T12:48:37+00:00",
        "closed_at": "2021-04-14T12:48:36+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 640,
        "title": "利用videotag_tsn_lstm模型进行train的几点疑惑",
        "body": "你好，我注意到视频分类videotag_tsn_lstm模型里有train_utils.py文件，里面有一个方法叫：\r\ndef  train_with_dataloader(exe, train_prog, compiled_train_prog, train_dataloader, \\\r\n                        train_fetch_list, train_metrics, epochs = 10, \\\r\n                        log_interval = 0, valid_interval = 0, save_dir = './', \\\r\n                        save_model_name = 'model', fix_random_seed = False, \\\r\n                        compiled_test_prog = None, test_dataloader = None, \\\r\n                        test_fetch_list = None, test_metrics = None, \\\r\n                        is_profiler = None, profiler_path = None):\r\n这是否意味着该模型可以像paddlepaddle提供的其他视频分类模型那样在自建数据集上进行训练？如果可以的话，应该怎样自建数据集？ train_with_dataloader里的各个参数分别代表什么意思，我是否可以直接用准备好格式的数据集和train_with_dataloader方法，然后再修改一下分类的配置文件，直接开始训练？",
        "state": "closed",
        "user": "Derek-Kun",
        "closed_by": "Derek-Kun",
        "created_at": "2020-05-28T05:07:12+00:00",
        "updated_at": "2020-07-01T07:02:05+00:00",
        "closed_at": "2020-07-01T07:02:05+00:00",
        "comments_count": [
            "huangjun12",
            "Derek-Kun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 642,
        "title": "chinese_ocr_db_crnn 模型 shapely 加载报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\nPaddleHub1.7.0，PaddlePaddle1.8.1\r\n2）系统环境：windows\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nimport paddlehub as hub\r\nocr = hub.Module(name=\"chinese_ocr_db_crnn\") #加载预训练模型\r\n\r\nresults = ocr.recognize_text(paths=[r'D:\\myfile\\PythonTest\\OCR_test.jpg'], visualization=True)\r\nprint(result)\r\n\r\n里面会用到依赖shapely\r\n通过pip install shapely 之后，安装shapely 1.7成功\r\n\r\n但是调试报错\r\n![log](https://user-images.githubusercontent.com/23690325/83118045-6c768500-a100-11ea-912c-62b293d67cba.JPG)\r\n\r\n\r\n",
        "state": "closed",
        "user": "D-DanielYang",
        "closed_by": "D-DanielYang",
        "created_at": "2020-05-28T08:30:03+00:00",
        "updated_at": "2020-11-02T07:41:12+00:00",
        "closed_at": "2020-05-28T08:32:31+00:00",
        "comments_count": [
            "D-DanielYang",
            "YuNaruto"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 644,
        "title": "文字识别【chinese_ocr_db_crnn】报错：'str' object has no attribute 'shape'",
        "body": "_报错内容：_【**'str' object has no attribute 'shape'**】\r\n\r\n_版本、环境信息：_\r\nchinese_ocr_db_crnn-1.0.0\r\npaddlehub-1.7.1\r\npaddlepaddle-1.8.1\r\nMacOS-10.14.6\r\npython-3.7.4\r\n\r\n_官方代码：_\r\n【1】启动PaddleHub Serving：\r\n`hub serving start -m chinese_ocr_db_crnn`\r\n\r\n【2】发送预测请求：\r\n```\r\nimport requests\r\nimport json\r\nimport cv2\r\nimport base64\r\n\r\ndef cv2_to_base64(image):\r\n    data = cv2.imencode('.jpg', image)[1]\r\n    return base64.b64encode(data.tostring()).decode('utf8')\r\n\r\n# 发送HTTP请求\r\ndata = {'images':[cv2_to_base64(cv2.imread(\"/PATH/TO/IMAGE\"))]}\r\nheaders = {\"Content-type\": \"application/json\"}\r\nurl = \"http://127.0.0.1:8866/predict/chinese_ocr_db_crnn\"\r\nr = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n\r\n# 打印预测结果\r\nprint(r.json()[\"results\"])\r\n```",
        "state": "closed",
        "user": "670133189",
        "closed_by": "haoyuying",
        "created_at": "2020-05-28T11:08:41+00:00",
        "updated_at": "2021-04-14T12:48:26+00:00",
        "closed_at": "2021-04-14T12:48:26+00:00",
        "comments_count": [
            "Steffy-zxf",
            "670133189",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 648,
        "title": "你好在运用百度口罩检测模型的时候，报错",
        "body": "RuntimeError: pyramidbox_lite_server_mask does not support dynamic graph mode yet.\r\n报错是这个错误，但是我两个python文件处理方式是一样的，都是通过rtsp流读取视频流，获得一张图片格式为numpy数组放入列表中，然后送入模型检测，一个demo没问题，另外一个会报上面的错误\r\n\r\n            img_rd = stack.pop()        # Get camera video stream\r\n            print('图片属性',type(img_rd))\r\n            kk = cv2.waitKey(1)\r\n            img_list.append(img_rd)\r\n            print(img_list,'列表图片长度',len(img_list))\r\n            faces = []\r\n            result = mask_detector(img_list)# Use paddle face detector\r\n\r\n图片属性 <class 'numpy.ndarray'> 我不明白为什么 麻烦了",
        "state": "closed",
        "user": "yousong1992",
        "closed_by": "nepeplwu",
        "created_at": "2020-05-29T03:34:45+00:00",
        "updated_at": "2020-06-12T02:31:46+00:00",
        "closed_at": "2020-06-12T02:31:46+00:00",
        "comments_count": [
            "yousong1992",
            "nepeplwu",
            "yousong1992"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 647,
        "title": "PaddleHub Serving GPU推理失败 ",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nPaddlePaddle 1.7.1  paddlehub==1.6.0   ubuntu\r\nexport CUDA_VISIBLE_DEVICES=0\r\n启动hub serving start -m yolov3_darknet53_coco2017\r\nyolov3_darknet53_coco2017 == 1.1.1\r\n * Serving Flask app \"paddlehub.serving.app_single\" (lazy loading)\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n2020-05-29 11:26:16,604-INFO:  * Running on http://0.0.0.0:8866/ (Press CTRL+C to quit)\r\n\r\n\r\n执行预测\r\nimport requests\r\nimport json\r\nimport cv2\r\nimport base64\r\n\r\n\r\ndef cv2_to_base64(image):\r\n    data = cv2.imencode('.jpg', image)[1]\r\n    return base64.b64encode(data.tostring()).decode('utf8')\r\n\r\n\r\n# 发送HTTP请求\r\ndata = {'images':[cv2_to_base64(cv2.imread(\"1.jpg\"))]}\r\nheaders = {\"Content-type\": \"application/json\"}\r\nurl = \"http://127.0.0.1:8866/predict/yolov3_darknet53_coco2017\"\r\nr = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n\r\n# 打印预测结果\r\nprint(r.json()[\"results\"])\r\n\r\n\r\n显示2秒多， 没有启动GPU推理， 请问还需要怎么设置？ \r\n\r\n",
        "state": "closed",
        "user": "xiaomujiang",
        "closed_by": "xiaomujiang",
        "created_at": "2020-05-29T03:27:32+00:00",
        "updated_at": "2020-06-05T03:51:19+00:00",
        "closed_at": "2020-06-05T03:51:19+00:00",
        "comments_count": [
            "ShenYuhan",
            "xiaomujiang",
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 649,
        "title": "【必重现】CPU_NUM > 1 时训练发生异常",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.7.0，PaddlePaddle1.8.1\r\n2）系统环境：CentOS Linux release 7.8.2003 (Core)，python版本：Python 3.6.8\r\n- 复现信息：\r\n![异常堆栈信息](http://comn.cvdnn.com/paddle/paddle_error.png)",
        "state": "closed",
        "user": "cvdnn",
        "closed_by": "haoyuying",
        "created_at": "2020-05-29T04:30:23+00:00",
        "updated_at": "2021-04-14T12:48:17+00:00",
        "closed_at": "2021-04-14T12:48:17+00:00",
        "comments_count": [
            "kinghuin",
            "kinghuin",
            "cvdnn",
            "kinghuin",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 650,
        "title": "hub文字识别返回空结果",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.7.1，PaddlePaddle1.8.1\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\nUbuntu 18.04，Python3\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n根据 https://github.com/PaddlePaddle/PaddleHub/tree/release/v1.7/hub_module/modules/image/text_recognition/chinese_ocr_db_crnn#第二步发送预测请求\r\n修改服务地址和图片路径，调用服务不能得到分析结果，返回{\"msg\":\"Please check data format!\",\"results\":\"\",\"status\":\"-1\"}。\r\n经沟通发现：这个模型还不支持处理base64，也还使用不了serving。\r\n需要更新模型解决。\r\n",
        "state": "closed",
        "user": "liweigu",
        "closed_by": "liweigu",
        "created_at": "2020-05-29T06:28:05+00:00",
        "updated_at": "2020-06-28T07:25:08+00:00",
        "closed_at": "2020-06-01T10:56:52+00:00",
        "comments_count": [
            "Steffy-zxf",
            "liweigu",
            "liweigu",
            "Steffy-zxf",
            "liweigu",
            "liweigu",
            "dyning",
            "liweigu",
            "Steffy-zxf",
            "liweigu",
            "WJinhai",
            "liweigu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 651,
        "title": "序列标注默认教程沙盒部署自定义数据转换",
        "body": "用序列标注默认教程跑了一个模型，沙盒部署的时候自定义转换数据总是不对，这一块有没有一个例子可以参考呢\r\n",
        "state": "closed",
        "user": "wuzixin",
        "closed_by": "haoyuying",
        "created_at": "2020-05-29T07:17:39+00:00",
        "updated_at": "2021-04-14T12:56:57+00:00",
        "closed_at": "2021-04-14T12:56:57+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 652,
        "title": "paddlehub调用GPU报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\npaddlehub1.7.1 paddlepaddle-gpu 1.8.1post107，\r\nwin10 python3.6\r\n报错信息为：\r\n  File \"C:/project/Dlib_face_recognition_from_camera-master/re_get_face.py\", line 103, in process\r\n    result = mask_detector.face_detection(img_list,use_gpu=True)\r\n  File \"C:\\Users\\dltbj\\.paddlehub\\modules\\pyramidbox_lite_server_mask\\module.py\", line 127, in face_detection\r\n    images, paths, use_gpu, use_multi_scale):\r\n  File \"C:\\Users\\dltbj\\.paddlehub\\modules\\pyramidbox_lite_server_mask\\data_feed.py\", line 202, in reader\r\n    confs_threshold=confs_threshold)\r\n  File \"C:\\Users\\dltbj\\.paddlehub\\modules\\pyramidbox_lite_server\\module.py\", line 106, in face_detection\r\n    ]) if use_gpu else self.cpu_predictor.run([image_tensor])\r\n  File \"C:\\Users\\dltbj\\AppData\\Local\\Programs\\Python\\Python36\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 533, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'PyramidBoxLiteServer' object has no attribute 'gpu_predictor'\r\n不明白为什么，我另一个代码用了同样的调用方式，是可以使用GPU的说明环境应该没有问题。\r\n报错代码为:\r\n        cam_url = 'rtsp://admin:12345@192.168.1.64:554/h264/ch1/main/av_stream'\r\n        cap = cv2.VideoCapture(cam_url)\r\n        while True:\r\n            img_list = []\r\n            flag, img_rd = cap.read()# Get camera video stream\r\n            img_list.append(img_rd)\r\n            kk = cv2.waitKey(1)\r\n            result = mask_detector.face_detection(img_list,use_gpu=True)\r\n            faces = []",
        "state": "closed",
        "user": "yousong1992",
        "closed_by": "yousong1992",
        "created_at": "2020-05-29T09:53:54+00:00",
        "updated_at": "2021-03-22T08:58:04+00:00",
        "closed_at": "2020-06-01T03:07:42+00:00",
        "comments_count": [
            "Steffy-zxf",
            "yousong1992",
            "Steffy-zxf",
            "yousong1992",
            "yousong1992",
            "yousong1992",
            "Steffy-zxf",
            "yousong1992",
            "Steffy-zxf",
            "yousong1992"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 653,
        "title": "paddlehub迁移训练模型mobilenet_v2_imagenet进行图像分类，迁移学习模型后，进行预测时出错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.6.2，PaddlePaddle-gpu 1.7.2.post107\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\nwin10 python 3.7\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n用paddlehub迁移学习模型mobilenet_v2_imagenet后，进行预测时报错\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"mobilenet_v2_imagenet\")\r\ndataset = hub.dataset.DogCat()\r\ndata_reader = hub.reader.ImageClassificationReader(\r\n    image_width=module.get_expected_image_width(),\r\n    image_height=module.get_expected_image_height(),\r\n    images_mean=module.get_pretrained_images_mean(),\r\n    images_std=module.get_pretrained_images_std(),\r\n    dataset=dataset)\r\nconfig = hub.RunConfig(\r\n    use_cuda=True,\r\n    num_epoch=1,\r\n    checkpoint_dir=\"cv_finetune_turtorial_demo\",\r\n    batch_size=32,\r\n    eval_interval=50,\r\n    strategy=hub.finetune.strategy.DefaultFinetuneStrategy())\r\ninput_dict, output_dict, program = module.context(trainable=True)\r\n\r\nimg = input_dict[\"image\"]\r\n\r\nfeature_map = output_dict[\"feature_map\"]\r\n\r\nfeed_list = [img.name]\r\n\r\ntask = hub.ImageClassifierTask(\r\n    data_reader=data_reader,\r\n    feed_list=feed_list,\r\n    feature=feature_map,\r\n    num_classes=dataset.num_labels,\r\n    config=config)\r\nrun_states = task.finetune_and_eval()\r\n\r\nimport os\r\nimport numpy as np\r\nimport paddle.fluid as fluid\r\nimport paddlehub as hub\r\nmodule_map = {\r\n    \"resnet50\": \"resnet_v2_50_imagenet\",\r\n    \"resnet101\": \"resnet_v2_101_imagenet\",\r\n    \"resnet152\": \"resnet_v2_152_imagenet\",\r\n    \"mobilenet\": \"mobilenet_v2_imagenet\",\r\n    \"nasnet\": \"nasnet_imagenet\",\r\n    \"pnasnet\": \"pnasnet_imagenet\"\r\n}\r\n\r\nmodule_name = module_map[\"mobilenet\"]\r\nmodule = hub.Module(name = module_name)\r\ninput_dict, output_dict, program = module.context(trainable=False)\r\nimg = input_dict[\"image\"]\r\nfeature_map = output_dict[\"feature_map\"]\r\nfeed_list = [img.name]\r\ndata_reader = hub.reader.ImageClassificationReader(\r\n    image_width=module.get_expected_image_width(),\r\n    image_height=module.get_expected_image_height(),\r\n    images_mean=module.get_pretrained_images_mean(),\r\n    images_std=module.get_pretrained_images_std(),\r\n    dataset=None)\r\n\r\ndataset = hub.dataset.DogCat()\r\ntask = hub.ImageClassifierTask(\r\n    data_reader=data_reader,\r\n    feed_list=feed_list,\r\n    feature=feature_map, \r\n    num_classes=dataset.num_labels)\r\n\r\ndata = [\r\n    \"test_img_dog.jpg\",\r\n    \"test_img_cat.jpg\"\r\n]\r\n\r\npredict_reader = data_reader.data_generator(\r\n    phase=\"predict\", batch_size=1, data=data)\r\n\r\nlabel_dict = dataset.label_dict()\r\n\r\nwith fluid.program_guard(task.inference_program()):\r\n    place = fluid.CPUPlace()\r\n    exe = fluid.Executor(place)\r\n    pretrained_model_dir = os.path.join(\"cv_finetune_turtorial_demo\", \"best_model\")\r\n    fluid.io.load_persistables(exe, pretrained_model_dir)\r\n    feeder = fluid.DataFeeder(feed_list=feed_list, place=place)\r\n    for index, batch in enumerate(predict_reader()):\r\n        result, = exe.run(\r\n            feed=feeder.feed(batch), fetch_list=[task.variable('probs')])\r\n        predict_result = np.argsort(result[0])[::-1][0]\r\n        print(\"input %i is %s, and the predict result is %s\" %\r\n            (index+1, data[index], label_dict[predict_result]))\r\n\r\n[2020-05-30 13:43:16,238] [    INFO] - Installing mobilenet_v2_imagenet module\r\n[2020-05-30 13:43:16,636] [    INFO] - Module mobilenet_v2_imagenet already installed in C:\\Users\\jacbs\\.paddlehub\\modules\\mobilenet_v2_imagenet\r\n[2020-05-30 13:43:17,277] [    INFO] - 267 pretrained paramaters loaded by PaddleHub\r\n[2020-05-30 13:43:17,280] [    INFO] - Dataset is None or it has not any labels, label map = {}\r\n[2020-05-30 13:43:17,282] [    INFO] - Dataset C:\\Users\\jacbs\\.paddlehub\\dataset\\dog-cat already cached.\r\n[2020-05-30 13:43:17,643] [    INFO] - Checkpoint dir: ckpt_20200530134317\r\n---------------------------------------------------------------------------\r\nAttributeError                            Traceback (most recent call last)\r\n<ipython-input-8-871e89931fff> in <module>\r\n     47 \r\n     48 # Step 4: load pretrained parameters\r\n---> 49 with fluid.program_guard(task.inference_program()):\r\n     50     place = fluid.CPUPlace()\r\n     51     exe = fluid.Executor(place)\r\n\r\nAttributeError: 'ClassifierTask' object has no attribute 'inference_program'",
        "state": "closed",
        "user": "jacbson",
        "closed_by": "haoyuying",
        "created_at": "2020-05-30T05:34:59+00:00",
        "updated_at": "2021-04-14T12:56:38+00:00",
        "closed_at": "2021-04-14T12:56:38+00:00",
        "comments_count": [
            "Steffy-zxf",
            "jacbson",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 654,
        "title": "paddlehub 样例程序报错",
        "body": "在AI studio中执行 [rbtl3](https://www.paddlepaddle.org.cn/hubdetail?name=rbtl3&en_category=SemanticModel)的示例代码后报错\r\n```python\r\nimport paddlehub as hub\r\n\r\n# Load $ hub install rbtl3 pretrained model\r\nmodule = hub.Module(name=\"rbtl3\")\r\ninputs, outputs, program = module.context(trainable=True, max_seq_len=128)\r\n\r\n# Must feed all the tensor of rbtl3's module need\r\ninput_ids = inputs[\"input_ids\"]\r\nposition_ids = inputs[\"position_ids\"]\r\nsegment_ids = inputs[\"segment_ids\"]\r\ninput_mask = inputs[\"input_mask\"]\r\n\r\n# Use \"pooled_output\" for sentence-level output.\r\npooled_output = outputs[\"pooled_output\"]\r\n\r\n# Use \"sequence_output\" for token-level output.\r\nsequence_output = outputs[\"sequence_output\"]\r\n\r\n# Use \"get_embedding\" to get embedding result.\r\nembedding_result = module.get_embedding(texts=[[\"Sample1_text_a\"],[\"Sample2_text_a\",\"Sample2_text_b\"]], use_gpu=True)\r\n\r\n# Use \"get_params_layer\" to get params layer and used to ULMFiTStrategy.\r\nparams_layer = module.get_params_layer()\r\nstrategy = hub.finetune.strategy.ULMFiTStrategy(params_layer=params_layer)\r\n```\r\n\r\n提示不存在属性  'Parameter' object has no attribute 'gradient_clip_attr'\r\n```\r\n---------------------------------------------------------------------------AttributeError                            Traceback (most recent call last)<ipython-input-18-8e630ad859b4> in <module>\r\n     16 \r\n     17 # Use \"get_embedding\" to get embedding result.\r\n---> 18 embedding_result = module.get_embedding(texts=[[\"Sample1_text_a\"],[\"Sample2_text_a\",\"Sample2_text_b\"]], use_gpu=True)\r\n     19 \r\n     20 # Use \"get_params_layer\" to get params layer and used to ULMFiTStrategy.\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/nlp_module.py in get_embedding(self, texts, use_gpu, batch_size)\r\n    406             param.trainable = trainable\r\n    407             match = re.match(r'.*layer_(\\d+).*', param.name)\r\n--> 408             if match:\r\n    409                 # layer num begins from 0\r\n    410                 layer = match.group(1)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/nlp_module.py in __init__(self, pooled_feature, seq_feature, feed_list, data_reader, config)\r\n    223             main_program=main_program,\r\n    224             data_reader=data_reader,\r\n--> 225             feed_list=feed_list,\r\n    226             config=config,\r\n    227             metrics_choices=[])\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in __init__(self, feed_list, data_reader, main_program, startup_program, config, metrics_choices)\r\n    296 \r\n    297         else:\r\n--> 298             self._base_main_program = clone_program(\r\n    299                 main_program, for_test=False)\r\n    300         if startup_program is None:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in clone_program(origin_program, for_test)\r\n    272 \r\n    273 def clone_program(origin_program, for_test=False):\r\n--> 274     dest_program = fluid.Program()\r\n    275     _copy_vars_and_ops_in_blocks(origin_program.global_block(),\r\n    276                                  dest_program.global_block())\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in _copy_vars_and_ops_in_blocks(from_block, to_block)\r\n    145 \r\n    146 def _copy_vars_and_ops_in_blocks(from_block, to_block):\r\n--> 147     for var in from_block.vars:\r\n    148         var = from_block.var(var)\r\n    149         var_info = copy.deepcopy(get_variable_info(var))\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in get_variable_info(var)\r\n     63         var_info['trainable'] = var.trainable\r\n     64         var_info['optimize_attr'] = var.optimize_attr\r\n---> 65         var_info['regularizer'] = var.regularizer\r\n     66         if not version_compare(paddle.__version__, '1.8'):\r\n     67             var_info['gradient_clip_attr'] = var.gradient_clip_attr\r\nAttributeError: 'Parameter' object has no attribute 'gradient_clip_attr'\r\n```\r\n\r\n使用的paddle hub 版本包括 1.6.2 , 1.7.0， 均会出现该问题\r\n------\r\n\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：1.6.2 , 1.7.0\r\n2）系统环境：AI studio",
        "state": "closed",
        "user": "smart022",
        "closed_by": "smart022",
        "created_at": "2020-05-30T09:03:00+00:00",
        "updated_at": "2020-05-30T10:55:21+00:00",
        "closed_at": "2020-05-30T09:34:22+00:00",
        "comments_count": [
            "smart022",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 655,
        "title": "pycharm打包python报错",
        "body": "AttributeError: type object 'Path' has no attribute 'home'\r\n49010 INFO:   Matplotlib backend \"template\": ignored\r\n    Traceback (most recent call last):\r\n  File \"<string>\", line 12, in <module>\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\matplotlib\\backends\\__init__.py\", line 8, in <module>\r\n    from matplotlib.backend_bases import _Backend\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\matplotlib\\backend_bases.py\", line 49, in <module>\r\n    from matplotlib import (\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\matplotlib\\textpath.py\", line 8, in <module>\r\n    from matplotlib import cbook, dviread, font_manager, rcParams\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\matplotlib\\font_manager.py\", line 103, in <module>\r\n    os.path.join(str(Path.home()), r'AppData\\Local\\Microsoft\\Windows\\Fonts'),\r\nAttributeError: type object 'Path' has no attribute 'home'\r\n49010 INFO: Loading module hook \"hook-matplotlib.py\"...\r\n49330 INFO: Loading module hook \"hook-nltk.py\"...\r\nUnable to find \"C:\\Users\\lenovo\\nltk_data\" when adding binary and data files.",
        "state": "closed",
        "user": "sherklock",
        "closed_by": "WYB27",
        "created_at": "2020-05-31T10:00:29+00:00",
        "updated_at": "2025-06-30T07:24:10+00:00",
        "closed_at": "2025-06-30T07:24:10+00:00",
        "comments_count": [
            "Steffy-zxf",
            "dengmingD"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 656,
        "title": "load_checkpoint之后直接save_inference_model出错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.7.1，paddlepaddle-gpu-1.8.1.post107.\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本:python3.6\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n```\r\n96     cls_task.load_checkpoint()\r\n 97     cls_task.save_inference_model(\"cls_fintune_0\")\r\n 98\r\n 99     # Finetune and evaluate by PaddleHub's API\r\n100     # will finish training, evaluation, testing, save model automatically\r\n101     cls_task.finetune_and_eval()\r\n102     cls_task.save_inference_model(\"cls_fintune_1\")\r\n```\r\n\r\n错误：\r\n```\r\nTraceback (most recent call last):\r\n  File \"text_classifier.py\", line 97, in <module>\r\n    cls_task.save_inference_model(\"cls_fintune_0\")\r\n  File \"/usr/local/lib/python3.6/site-packages/paddlehub/finetune/task/base_task.py\", line 865, in save_inference_model\r\n    params_filename=params_filename)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/io.py\", line 1270, in save_inference_model\r\n    save_persistables(executor, save_dirname, main_program, params_filename)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/io.py\", line 647, in save_persistables\r\n    filename=filename)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/io.py\", line 301, in save_vars\r\n    filename=filename)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/io.py\", line 356, in save_vars\r\n    executor.run(save_program)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 1071, in run\r\n    six.reraise(*sys.exc_info())\r\n  File \"/usr/local/lib/python3.6/site-packages/six.py\", line 703, in reraise\r\n    raise value\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 1066, in run\r\n    return_merged=return_merged)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 1154, in _run_impl\r\n    use_program_cache=use_program_cache)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/executor.py\", line 1229, in _run_program\r\n    fetch_var_name)\r\npaddle.fluid.core_avx.EnforceNotMet:\r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<std::string const&>(std::string const&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2   paddle::framework::OperatorWithKernel::ParseInputDataType(paddle::framework::ExecutionContext const&, std::string const&, paddle::framework::proto::VarType_Type*) const\r\n3   paddle::framework::OperatorWithKernel::IndicateVarDataType(paddle::framework::ExecutionContext const&, std::string const&) const\r\n4   paddle::operators::SaveOp::GetExpectedKernelType(paddle::framework::ExecutionContext const&) const\r\n5   paddle::framework::OperatorWithKernel::ChooseKernel(paddle::framework::RuntimeContext const&, paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n6   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&, paddle::framework::RuntimeContext*) const\r\n7   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n8   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, paddle::platform::Place const&)\r\n9   paddle::framework::Executor::RunPartialPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, long, long, bool, bool, bool)\r\n10  paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool)\r\n11  paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::vector<std::string, std::allocator<std::string> > const&, bool, bool)\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/io.py\", line 327, in save_vars\r\n    attrs={'file_path': os.path.normpath(save_file_path)})\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/io.py\", line 301, in save_vars\r\n    filename=filename)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/io.py\", line 647, in save_persistables\r\n    filename=filename)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/io.py\", line 1270, in save_inference_model\r\n    save_persistables(executor, save_dirname, main_program, params_filename)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddlehub/finetune/task/base_task.py\", line 865, in save_inference_model\r\n    params_filename=params_filename)\r\n  File \"text_classifier.py\", line 97, in <module>\r\n    cls_task.save_inference_model(\"cls_fintune_0\")\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: The Tensor in the save Op's Input Variable X(cls_out_w) is not initialized.\r\n  [Hint: Expected t->IsInitialized() == true, but received t->IsInitialized():0 != true:1.] at (/paddle/paddle/fluid/framework/operator.cc:1289)\r\n  [operator < save > error]\r\n```\r\n",
        "state": "closed",
        "user": "gongweibao",
        "closed_by": "gongweibao",
        "created_at": "2020-06-02T03:19:18+00:00",
        "updated_at": "2020-06-02T04:43:36+00:00",
        "closed_at": "2020-06-02T04:43:36+00:00",
        "comments_count": [
            "Steffy-zxf",
            "gongweibao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 657,
        "title": "pyramidbox_lite_mobile_mask 1.3.0文档有误",
        "body": "PaddleHub 1.7.0\r\npyramidbox_lite_mobile_mask 1.3.0\r\n\r\n用的是AI Studio在线环境\r\n\r\n文档中face_detection函数并没有data这个参数，只有images参数，要求传入[BGR]格式的图片。但在实际使用中，我对照着别的教程做，用了data这个参数，也可以执行，而且函数的返回值格式也与文档中描述的不同。可能是文档写错了，或者是module只升级了版本号而并没有更新具体代码。\r\n\r\n具体示例见以下链接：\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/521073\r\n（在第三步，[In13]）",
        "state": "closed",
        "user": "FruitTea2015",
        "closed_by": "haoyuying",
        "created_at": "2020-06-02T07:08:57+00:00",
        "updated_at": "2021-04-14T12:56:02+00:00",
        "closed_at": "2021-04-14T12:56:02+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 658,
        "title": "最新paddlepaddle以及paddlehub下下载模型报错",
        "body": "RuntimeError: The version of PaddlePaddle(1.8.1) or PaddleHub(1.7.1) can not match module, please upgrade your PaddlePaddle or PaddleHub according to the form below.\r\n+--------------------------------+----------+------------------+------------------+\r\n|          ResourceName          | Version  |   PaddlePaddle   |    PaddleHub     |\r\n+--------------------------------+----------+------------------+------------------+\r\n|bert_wwm_chinese_L-12_H-768_A-  |  1.1.0   |     >=1.6.2      |     >=1.6.0      |\r\n|12                              |          |                  |                  |\r\n+--------------------------------+----------+------------------+------------------+\r\n|bert_wwm_chinese_L-12_H-768_A-  |  1.0.0   |     >=1.5.0      |        -         |\r\n|12                              |          |                  |                  |\r\n+--------------------------------+----------+------------------+------------------+",
        "state": "closed",
        "user": "muximus3",
        "closed_by": "WYB27",
        "created_at": "2020-06-02T07:20:38+00:00",
        "updated_at": "2025-06-30T07:24:08+00:00",
        "closed_at": "2025-06-30T07:24:08+00:00",
        "comments_count": [
            "Steffy-zxf",
            "sunjunling666"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 660,
        "title": "肺炎 CT 模型可否finetune",
        "body": "想请问针对分割类型的模型paddlehub是否有finetune的支持，查找了文档只发现了分类和nlp方面finetune的文档，并没有发现分割方向的。",
        "state": "closed",
        "user": "linhandev",
        "closed_by": "linhandev",
        "created_at": "2020-06-02T09:19:58+00:00",
        "updated_at": "2020-06-02T11:47:57+00:00",
        "closed_at": "2020-06-02T11:26:37+00:00",
        "comments_count": [
            "Steffy-zxf",
            "linhandev",
            "Steffy-zxf",
            "linhandev"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 661,
        "title": "建议增加一个依存句法分析的模型",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n\r\n- 您想要增加什么新特性？\r\n希望增加一个依存句法分析的模块\r\n\r\n- 什么样的场景下需要该特性？\r\n自然语言处理任务里面如果有依存句法分析模型就可以做很多以前不好实现的功能，比如和图神经网络相结合\r\n\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n不能\r\n\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n只是增加一个新的模型，类似于现在的lac模型\r\n\r\n- 如果可以的话，简要描述下您的解决方案\r\n训练一个效果不错的依存句法分析模型放进去就可以了，很多NLP处理的库都有这功能，比如LTP",
        "state": "closed",
        "user": "onewaymyway",
        "closed_by": "WYB27",
        "created_at": "2020-06-02T11:44:48+00:00",
        "updated_at": "2025-06-30T07:24:06+00:00",
        "closed_at": "2025-06-30T07:24:06+00:00",
        "comments_count": [
            "D-DanielYang",
            "onewaymyway",
            "ShadowTeamCN",
            "zhangmianhongni"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 662,
        "title": "在运行hub.TextClassifierTask函数时报错",
        "body": "- 版本、环境信息\r\n1）PaddleHub1.7.0，PaddlePaddle1.8.0\r\n2）系统环境：AI Studio notebook\r\n- 复现信息：\r\n代码：\r\ncls_task = hub.TextClassifierTask(\r\n    data_reader=reader,\r\n    feature=pooled_output,\r\n    feed_list=feed_list,\r\n    num_classes=dataset.num_labels,\r\n    config=config,\r\n    metrics_choices=[\"f1\"]\r\n)\r\n报错：\r\n---------------------------------------------------------------------------AttributeError                            Traceback (most recent call last)<ipython-input-51-cce299f4d79b> in <module>\r\n      5     num_classes=dataset.num_labels,\r\n      6     config=config,\r\n----> 7     metrics_choices=[\"f1\"]\r\n      8 )\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py in __init__(self, feature, num_classes, feed_list, data_reader, startup_program, config, hidden_units, metrics_choices)\r\n    178                  hidden_units=None,\r\n    179                  metrics_choices=\"default\"):\r\n--> 180         \"\"\"\r\n    181         Args:\r\n    182             num_classes: total labels of the text classification task.\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py in __init__(self, feature, num_classes, feed_list, data_reader, startup_program, config, hidden_units, metrics_choices)\r\n     47         main_program = feature.block.program\r\n     48         super(ClassifierTask, self).__init__(\r\n---> 49             data_reader=data_reader,\r\n     50             main_program=main_program,\r\n     51             feed_list=feed_list,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in __init__(self, feed_list, data_reader, main_program, startup_program, config, metrics_choices)\r\n    296 \r\n    297         else:\r\n--> 298             self._base_main_program = clone_program(\r\n    299                 main_program, for_test=False)\r\n    300         if startup_program is None:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in clone_program(origin_program, for_test)\r\n    272 \r\n    273 def clone_program(origin_program, for_test=False):\r\n--> 274     dest_program = fluid.Program()\r\n    275     _copy_vars_and_ops_in_blocks(origin_program.global_block(),\r\n    276                                  dest_program.global_block())\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in _copy_vars_and_ops_in_blocks(from_block, to_block)\r\n    145 \r\n    146 def _copy_vars_and_ops_in_blocks(from_block, to_block):\r\n--> 147     for var in from_block.vars:\r\n    148         var = from_block.var(var)\r\n    149         var_info = copy.deepcopy(get_variable_info(var))\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in get_variable_info(var)\r\n     63         var_info['trainable'] = var.trainable\r\n     64         var_info['optimize_attr'] = var.optimize_attr\r\n---> 65         var_info['regularizer'] = var.regularizer\r\n     66         if not version_compare(paddle.__version__, '1.8'):\r\n     67             var_info['gradient_clip_attr'] = var.gradient_clip_attr\r\nAttributeError: 'Parameter' object has no attribute 'gradient_clip_attr'\r\n\r\n\r\n",
        "state": "closed",
        "user": "Cai-Yao",
        "closed_by": "Cai-Yao",
        "created_at": "2020-06-03T06:58:11+00:00",
        "updated_at": "2020-08-27T10:00:19+00:00",
        "closed_at": "2020-06-03T08:32:48+00:00",
        "comments_count": [
            "Fitz-Fitz",
            "Steffy-zxf",
            "Fitz-Fitz"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 665,
        "title": "图片base64编码支持明码格式",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n需要图片base64编码支持明码格式。\r\n\r\n- 什么样的场景下需要该特性？\r\npython客户端访问paddle服务进行图片文字识别，示例代码对图片进行base64编码的方法是\r\ndef cv2_to_base64(image):\r\n    data = cv2.imencode('.jpg', image)[1]\r\n    return base64.b64encode(data.tostring()).decode('utf8')\r\n其中data是一维数字数组，data.tostring()应该是python array的tostring方法，或numpy的PyArray_ToString方法，它的实现比较复杂，难以用Java复写。\r\n\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n由于不能用Java复写该tostring方法，就无法实现java客户端调用paddlehub服务实现图片文字识别。\r\n\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n需要修改图片文字识别服务，支持明码的图片编码格式。\r\n\r\n- 如果可以的话，简要描述下您的解决方案\r\n方案1，定义一种开放的明码的图片编码格式，便于用其他语言实现。\r\n方案2，提供python的data.tostring()的实现说明。\r\n",
        "state": "closed",
        "user": "liweigu",
        "closed_by": "liweigu",
        "created_at": "2020-06-04T01:35:47+00:00",
        "updated_at": "2021-05-06T05:21:45+00:00",
        "closed_at": "2020-06-05T02:41:14+00:00",
        "comments_count": [
            "ShenYuhan",
            "liweigu",
            "ShenYuhan",
            "liweigu",
            "ShenYuhan",
            "liweigu",
            "xu-feiran"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 667,
        "title": "Hub serving一键部署后应用lac预测接口使用自定义字典报错",
        "body": "1）PaddleHub 1.7.1， PaddlePaddle 1.8.1\r\n2）Linux 16.04，  Python3.6.0\r\n\r\n1、使用示例代码执行报错（1.6、1.7分支代码一致）\r\n示例地址：https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.7/demo/serving/module_serving/lexical_analysis_lac/lac_with_dict_serving_demo.py\r\n![image](https://user-images.githubusercontent.com/16412208/83712703-ec4ca400-a658-11ea-8751-1b40d28b91f0.png)\r\n\r\n2、根据提示修改请求为post json\r\n代码：\r\n`#coding: utf8\r\nimport requests\r\nimport json\r\n\r\nif __name__ == \"__main__\":\r\n    # 指定用于预测的文本并生成字典{\"text\": [text_1, text_2, ... ]}\r\n    text_list = [\"今天是个好日子\", \"天气预报说今天要下雨\"]\r\n    text = {\"texts\": text_list}\r\n    # 指定自定义词典{\"user_dict\": dict.txt}\r\n    file = {\"user_dict\": open(\"dict.txt\", \"rb\")}\r\n    # 指定预测方法为lac并发送post请求\r\n    url = \"http://127.0.0.1:8866/predict/text/lac\"\r\n    headers = {\"Content-Type\": \"application/json\"}\r\n    r = requests.post(url=url, headers=headers, files=file, data=json.dumps(text))\r\n\r\n    # 打印预测结果\r\n    print(json.dumps(r.json(), indent=4, ensure_ascii=False))\r\n`\r\n报错如下：\r\n![image](https://user-images.githubusercontent.com/16412208/83712852-451c3c80-a659-11ea-8508-ef8839643221.png)\r\n\r\n**请问：\r\n1、lac预测接口是否支持同时传json和自定义字典文件？该如何解决？\r\n2、hub serving一键部署指定自定义字典后启动，支持动态刷新字典么，如果放在接口里面传递字典文件，对大小是否有限制及对预测效率有无影响**\r\n\r\n谢谢！\r\n\r\nnote:hub serving通过配置文件指定字典启动，可以正常使用\r\n\r\n",
        "state": "closed",
        "user": "wangxingMachine",
        "closed_by": "haoyuying",
        "created_at": "2020-06-04T03:56:16+00:00",
        "updated_at": "2021-04-14T12:41:16+00:00",
        "closed_at": "2021-04-14T12:41:16+00:00",
        "comments_count": [
            "Steffy-zxf",
            "wangxingMachine",
            "Steffy-zxf",
            "wangxingMachine",
            "ShenYuhan",
            "wangxingMachine",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 668,
        "title": "hub的模型可以离线安装吗？",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n\r\n使用object_detector = hub.Module(name=\"yolov3_darknet53_coco2017\")进行预测\r\n网络不好，下载模型时间太长太慢， 有什么地址可以 \r\n（1）离线下载\r\n（2）然后进行安装吗？\r\n\r\n\r\n",
        "state": "closed",
        "user": "xiaomujiang",
        "closed_by": "xiaomujiang",
        "created_at": "2020-06-04T04:59:30+00:00",
        "updated_at": "2021-12-03T02:25:38+00:00",
        "closed_at": "2020-06-05T03:51:08+00:00",
        "comments_count": [
            "Steffy-zxf",
            "applepieiris"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 670,
        "title": "可以基于飞桨的人脸口罩模型训练自己的模型？",
        "body": "需求：飞桨的人脸口罩模型应用效果很好。但偏重于识别我们日常佩戴的口罩，有的些口罩是透明类型的，如我们去熟食店或卤菜店或食堂，要求工作人员佩戴透明口罩，若没有佩戴需要预警。我们希望能基于飞桨的人脸口罩模型训练自己的模型，请提供帮助，谢谢！\r\n[https://detail.tmall.com/item.htm?spm=a220m.1000858.1000725.144.23a3603dY1ihCn&id=562234066040&skuId=4240902433288&user_id=2049340132&cat_id=2&is_b=1&rn=f4b0c5545a57a909585bb58925b9c7ac](url)\r\n\r\n\r\n如何制作数据集？  先标注人脸，再标注透明口罩？\r\n",
        "state": "closed",
        "user": "DavidFangx",
        "closed_by": "haoyuying",
        "created_at": "2020-06-04T07:29:13+00:00",
        "updated_at": "2021-04-14T12:40:39+00:00",
        "closed_at": "2021-04-14T12:40:39+00:00",
        "comments_count": [
            "nepeplwu",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 669,
        "title": "在远程服务器上下载模型出错",
        "body": "一直在报下面的错误，反复重试。\r\n```shell\r\n2020-06-04 14:44:40:Downloading simnet_bow\r\n2020-06-04 14:44:40:\u001b[32m[2020-06-04 06:44:40,579] [    INFO] - Installing lac module\u001b[0m\r\n2020-06-04 14:44:40:\u001b[32m[2020-06-04 06:44:40,804] [    INFO] - Module lac already installed in /root/.paddlehub/modules/lac\u001b[0m\r\n2020-06-04 14:44:40:\u001b[32m[2020-06-04 06:44:40,886] [    INFO] - Installing senta_lstm module\u001b[0m\r\n2020-06-04 14:44:40:\u001b[32m[2020-06-04 06:44:40,906] [    INFO] - Module senta_lstm already installed in /root/.paddlehub/modules/senta_lstm\u001b[0m\r\n2020-06-04 14:44:43:\u001b[33m[2020-06-04 06:44:43,319] [ WARNING] - Parameter module_dir is deprecated, please use directory to specify the path\u001b[0m\r\n2020-06-04 14:44:58:[2020-06-04 06:44:58 +0000] [1] [CRITICAL] WORKER TIMEOUT (pid:366)\r\n2020-06-04 14:44:58:W0604 06:44:58.582417   366 init.cc:216] Warning: PaddlePaddle catches a failure signal, it may not work properly\r\n2020-06-04 14:44:58:W0604 06:44:58.582458   366 init.cc:218] You could check whether you killed PaddlePaddle thread/process accidentally or report the case to PaddlePaddle\r\n2020-06-04 14:44:58:W0604 06:44:58.582463   366 init.cc:221] The detail failure signal is:\r\n2020-06-04 14:44:58:\r\n2020-06-04 14:44:58:W0604 06:44:58.582470   366 init.cc:224] *** Aborted at 1591253098 (unix time) try \"date -d @1591253098\" if you are using GNU date ***\r\n2020-06-04 14:44:58:W0604 06:44:58.585214   366 init.cc:224] PC: @                0x0 (unknown)\r\n2020-06-04 14:44:58:W0604 06:44:58.585638   366 init.cc:224] *** SIGABRT (@0x1) received by PID 366 (TID 0x7f0b13e72740) from PID 1; stack trace: ***\r\n2020-06-04 14:44:58:W0604 06:44:58.587889   366 init.cc:224]     @     0x7f0b138a4f20 (unknown)\r\n2020-06-04 14:44:58:W0604 06:44:58.589993   366 init.cc:224]     @     0x7f0b13987bb7 epoll_wait\r\n2020-06-04 14:44:58:W0604 06:44:58.591854   366 init.cc:224]     @     0x7f0b1028653b epoll_poll\r\n2020-06-04 14:44:58:W0604 06:44:58.593888   366 init.cc:224]     @     0x7f0b1028f9c2 ev_run\r\n2020-06-04 14:44:58:W0604 06:44:58.595888   366 init.cc:224]     @     0x7f0b10290672 __pyx_pw_6gevent_5libev_8corecext_4loop_15run\r\n2020-06-04 14:44:58:W0604 06:44:58.596060   366 init.cc:224]     @           0x4d6194 _PyMethodDescr_FastCallKeywords\r\n```\r\n\r\n- 版本、环境信息\r\n1）PaddleHub1.7.0，PaddlePaddle1.8.0\r\n2）Ubuntu\r\n",
        "state": "closed",
        "user": "T-baby",
        "closed_by": "haoyuying",
        "created_at": "2020-06-04T07:05:08+00:00",
        "updated_at": "2021-04-14T12:40:54+00:00",
        "closed_at": "2021-04-14T12:40:54+00:00",
        "comments_count": [
            "T-baby",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 671,
        "title": "paddlehub ernie和senta_bilstm在Linux下卡死",
        "body": "环境信息：\r\n\r\nCentOS Linux release 7.3.1611 (Core)\r\nPython3.7\r\npaddlehub                          1.6.2              \r\npaddlepaddle-gpu                   1.7.2.post107      \r\n\r\n\r\n在linux下运行ernie的senta_bilstm，我在主程序最后有一个print完成，当print完成后，程序会继续运行等很久才结束，手动ctrl c就会出现一个exception：\r\n\r\n`Exception ignored in: <module 'threading' from '/home/anaconda3/lib/python3.7/threading.py'>\r\nTraceback (most recent call last):\r\n  File \"/home/anaconda3/lib/python3.7/threading.py\", line 1307, in _shutdown\r\n    lock.acquire()\r\nKeyboardInterrupt`\r\n\r\n在windows下则不会，window主程序print完成后会立即退出\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "x330930520",
        "closed_by": "WYB27",
        "created_at": "2020-06-05T05:49:17+00:00",
        "updated_at": "2025-06-30T07:24:04+00:00",
        "closed_at": "2025-06-30T07:24:04+00:00",
        "comments_count": [
            "Steffy-zxf",
            "x330930520",
            "ginward"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 672,
        "title": "aistudio 运行paddlehub出现段错误，本地无问题",
        "body": "aistudio上出现段错误，但是在本地cpu跑着没有问题。aistudio不管cpu、gpu都出现段错误？\r\n```\r\nW0606 15:33:23.554445  1204 init.cc:206] *** Aborted at 1591428803 (unix time) try \"date -d @1591428803\" if you are using GNU date ***\r\nW0606 15:33:23.556983  1204 init.cc:206] PC: @                0x0 (unknown)\r\nW0606 15:33:23.557222  1204 init.cc:206] *** SIGSEGV (@0x28) received by PID 1204 (TID 0x7fe62fae0700) from PID 40; stack trace: ***\r\nW0606 15:33:23.558465  1204 init.cc:206]     @     0x7fe62f6c7390 (unknown)\r\nW0606 15:33:23.562947  1204 init.cc:206]     @     0x7fe5c4178da0 (unknown)\r\nW0606 15:33:23.564642  1204 init.cc:206]     @     0x7fe5c4189b43 paddle::framework::CompileTimeInferShapeContext::ShareDim()\r\nW0606 15:33:23.566020  1204 init.cc:206]     @     0x7fe5c4bd8250 paddle::operators::ActivationOpGrad::InferShape()\r\nW0606 15:33:23.567206  1204 init.cc:206]     @     0x7fe5c417f6d2 paddle::framework::OpDesc::InferShape()\r\nW0606 15:33:23.568099  1204 init.cc:206]     @     0x7fe5c40a72cc _ZZN8pybind1112cpp_function10initializeIZNS0_C1IvN6paddle9framework6OpDescEIRKNS4_9BlockDescEEINS_4nameENS_9is_methodENS_7siblingEEEEMT0_KFT_DpT1_EDpRKT2_EUlPKS5_S8_E_vISN_S8_EIS9_SA_SB_EEEvOSD_PFSC_SF_ESL_ENUlRNS_6detail13function_callEE1_4_FUNESU_\r\nW0606 15:33:23.568950  1204 init.cc:206]     @     0x7fe5c401f761 pybind11::cpp_function::dispatcher()\r\nW0606 15:33:23.569207  1204 init.cc:206]     @     0x560772c9d744 _PyMethodDef_RawFastCallKeywords\r\nW0606 15:33:23.569422  1204 init.cc:206]     @     0x560772c9d861 _PyCFunction_FastCallKeywords\r\nW0606 15:33:23.569630  1204 init.cc:206]     @     0x560772d096e8 _PyEval_EvalFrameDefault\r\nW0606 15:33:23.569808  1204 init.cc:206]     @     0x560772c9cccb _PyFunction_FastCallKeywords\r\nW0606 15:33:23.570024  1204 init.cc:206]     @     0x560772d04806 _PyEval_EvalFrameDefault\r\nW0606 15:33:23.570215  1204 init.cc:206]     @     0x560772c4d539 _PyEval_EvalCodeWithName\r\nW0606 15:33:23.570390  1204 init.cc:206]     @     0x560772c9cef5 _PyFunction_FastCallKeywords\r\nW0606 15:33:23.570600  1204 init.cc:206]     @     0x560772d04806 _PyEval_EvalFrameDefault\r\nW0606 15:33:23.570787  1204 init.cc:206]     @     0x560772c4d539 _PyEval_EvalCodeWithName\r\nW0606 15:33:23.570961  1204 init.cc:206]     @     0x560772c9cf57 _PyFunction_FastCallKeywords\r\nW0606 15:33:23.571163  1204 init.cc:206]     @     0x560772d058cc _PyEval_EvalFrameDefault\r\nW0606 15:33:23.571350  1204 init.cc:206]     @     0x560772c4d539 _PyEval_EvalCodeWithName\r\nW0606 15:33:23.571545  1204 init.cc:206]     @     0x560772c4e635 _PyFunction_FastCallDict\r\nW0606 15:33:23.571748  1204 init.cc:206]     @     0x560772d06232 _PyEval_EvalFrameDefault\r\nW0606 15:33:23.571934  1204 init.cc:206]     @     0x560772c4d81a _PyEval_EvalCodeWithName\r\nW0606 15:33:23.572120  1204 init.cc:206]     @     0x560772c4e635 _PyFunction_FastCallDict\r\nW0606 15:33:23.572320  1204 init.cc:206]     @     0x560772d06232 _PyEval_EvalFrameDefault\r\nW0606 15:33:23.572510  1204 init.cc:206]     @     0x560772c4d81a _PyEval_EvalCodeWithName\r\nW0606 15:33:23.572682  1204 init.cc:206]     @     0x560772c9cf57 _PyFunction_FastCallKeywords\r\nW0606 15:33:23.572881  1204 init.cc:206]     @     0x560772d04806 _PyEval_EvalFrameDefault\r\nW0606 15:33:23.573065  1204 init.cc:206]     @     0x560772c4d539 _PyEval_EvalCodeWithName\r\nW0606 15:33:23.573236  1204 init.cc:206]     @     0x560772c9cef5 _PyFunction_FastCallKeywords\r\nW0606 15:33:23.573441  1204 init.cc:206]     @     0x560772d04a93 _PyEval_EvalFrameDefault\r\nW0606 15:33:23.573616  1204 init.cc:206]     @     0x560772c9cccb _PyFunction_FastCallKeywords\r\nW0606 15:33:23.573815  1204 init.cc:206]     @     0x560772d04a93 _PyEval_EvalFrameDefault\r\nSegmentation fault (core dumped)\r\n```\r\n",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "haoyuying",
        "created_at": "2020-06-06T07:35:59+00:00",
        "updated_at": "2021-04-14T12:40:02+00:00",
        "closed_at": "2021-04-14T12:40:02+00:00",
        "comments_count": [
            "nepeplwu",
            "wxl1351641822",
            "nepeplwu",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 676,
        "title": "请问能否将参数以numpy方式获取或者保存下来？",
        "body": "我想要获取paddlehub的bert参数的numpy格式，请问是否有办法？",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "wxl1351641822",
        "created_at": "2020-06-07T16:42:08+00:00",
        "updated_at": "2020-06-07T16:49:18+00:00",
        "closed_at": "2020-06-07T16:49:18+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 675,
        "title": "能否提供一个客户端请求新版模型的方式的image版本？",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nPython版本\r\npython3.7\r\n框架版本\r\nPaddlePaddle 1.7.1\r\n根据[例子](https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.7/docs/tutorial/serving.md)写了以下版本：\r\n```\r\nimport requests\r\nimport json\r\nfrom base64 import b64encode\r\nENCODING = 'utf-8'\r\ndef imagetojson(imagepath):\r\n    with open(imagepath,'rb') as f:\r\n        byte_content = f.read()\r\n        base64_bytes = b64encode(byte_content)\r\n        base64_string = base64_bytes.decode(ENCODING)\r\n        return base64_string\r\n\r\nfiles = [(\"image\", imagetojson(item)) for item in [input_path]]\r\nurl = \"http://127.0.0.1:8866/predict/image/ace2p\"\r\nheaders = {\"Content-Type\": \"application/json\"}\r\ndata = {\"image\":imagetojson(input_path),\"id\":1}\r\nr = requests.post(url=url, headers=headers,data=json.dumps(data))\r\n```\r\n结果还是说\r\n```{\"msg\":{\"Warnning\":\"This usage is out of date, please use \\'application/json\\' as content-type to post to /predict/ace2p. See \\'https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.6/docs/tutorial/serving.md\\' for more details.\"},\"results\":\"\",\"status\":\"-1\"}\\n'```\r\n\r\n请问能否给一个demo，或者更新一下库中的相关demo，现有的都是旧版本的，不能用了\r\n",
        "state": "closed",
        "user": "cqzhao",
        "closed_by": "haoyuying",
        "created_at": "2020-06-07T12:02:52+00:00",
        "updated_at": "2021-04-14T12:39:50+00:00",
        "closed_at": "2021-04-14T12:39:50+00:00",
        "comments_count": [
            "cqzhao",
            "ShenYuhan",
            "cqzhao",
            "ShenYuhan",
            "cqzhao",
            "ShenYuhan",
            "cqzhao",
            "ShenYuhan",
            "cqzhao",
            "ShenYuhan",
            "cqzhao",
            "cqzhao",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 678,
        "title": "运行口罩识别时候出现bug",
        "body": "在运行官方给的口罩识别demo时，运行到最后一步，出现文件未找到错误：\r\nFileNotFoundError: [Errno 2] No such file or directory: 'detection_result/test_mask_detection.jpg'\r\n对官网给的demo一点都没有修改，在notebook中出现这个错误，请问如何解决？\r\n\r\n",
        "state": "closed",
        "user": "hanqikai",
        "closed_by": "haoyuying",
        "created_at": "2020-06-08T15:16:04+00:00",
        "updated_at": "2021-04-14T12:39:38+00:00",
        "closed_at": "2021-04-14T12:39:38+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 679,
        "title": "ernie增量断点训练",
        "body": "你好 已经迁移学习Fine-tune训练好了模型， 现在有新的数据需要做增量断点训练， 我之前训练的epoch是10， 然后增量数据接着训练把epoch调到比10大就会报错 请问这个该怎么解决呢\r\n\r\n\r\n![15](https://user-images.githubusercontent.com/9064969/84111576-d58fbe00-aa59-11ea-9534-242dac0e37df.png)\r\n",
        "state": "closed",
        "user": "x330930520",
        "closed_by": "haoyuying",
        "created_at": "2020-06-09T06:02:36+00:00",
        "updated_at": "2021-04-14T12:39:06+00:00",
        "closed_at": "2021-04-14T12:39:06+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 681,
        "title": "paddlehub 目标检测，输入数组报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\npaddlehub              1.6.2\r\npaddlepaddle-gpu       1.8.1.post107\r\n使用results = object_detector.object_detection(images=[cv2.imread('./dog')],use_gpu=True)\r\n进行预测\r\ndog文件夹下只有4张图片，提示报错如下\r\nTraceback (most recent call last):\r\n  File \"main_mutil.py\", line 19, in <module>\r\n    results = object_detector.object_detection(images=[cv2.imread('./dog')],use_gpu=True)\r\n  File \"/root/.paddlehub/modules/yolov3_darknet53_coco2017/module.py\", line 199, in object_detection\r\n    for iter_id, feed_data in enumerate(batch_reader()):\r\n  File \"/root/anaconda3/envs/dog/lib/python3.7/site-packages/paddle/batch.py\", line 58, in batch_reader\r\n    for instance in r:\r\n  File \"/root/.paddlehub/modules/yolov3_darknet53_coco2017/data_feed.py\", line 39, in reader\r\n    im_shape = im.shape\r\nAttributeError: 'NoneType' object has no attribute 'shape'\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "xiaomujiang",
        "closed_by": "haoyuying",
        "created_at": "2020-06-10T02:22:11+00:00",
        "updated_at": "2021-04-14T12:38:45+00:00",
        "closed_at": "2021-04-14T12:38:45+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 683,
        "title": "paddlehub进行检测，为什么每次第一帧检测时间都很长",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\npaddlehub              1.6.2\r\npaddlepaddle-gpu       1.8.1.post10\r\n\r\n启动hub对图像预测的时候，发现每次第一次的预测都会时间很长，后面就很快，\r\n我做了一个测试，对同一张图进行10次的预测， 结果如下\r\ndec is 11.1651451587677\r\ndec is 0.9181404113769531\r\ndec is 0.15127277374267578\r\ndec is 0.1371166706085205\r\ndec is 0.1367952823638916\r\ndec is 0.1357100009918213\r\ndec is 0.12549448013305664\r\ndec is 0.29573535919189453\r\ndec is 0.29613327980041504\r\ndec is 0.28490161895751953\r\ndec is 0.15406084060668945\r\ndec is 0.1517481803894043\r\n-----------------------------\r\ndec is 10.995591163635254\r\ndec is 0.9476826190948486\r\ndec is 0.15262794494628906\r\ndec is 0.14814209938049316\r\ndec is 0.1429147720336914\r\ndec is 0.13404297828674316\r\ndec is 0.13592171669006348\r\ndec is 0.13328957557678223\r\ndec is 0.12551116943359375\r\ndec is 0.12455463409423828\r\n这个是什么原因？\r\n\r\n",
        "state": "closed",
        "user": "xiaomujiang",
        "closed_by": "haoyuying",
        "created_at": "2020-06-10T02:30:52+00:00",
        "updated_at": "2021-04-14T12:37:48+00:00",
        "closed_at": "2021-04-14T12:37:48+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 684,
        "title": "paddlehub使 用语义预训练模型ERNIE  fine-tune后无法预测",
        "body": "paddlepaddle -version：1.8.1\r\npaddlehub -version :1.7.1\r\n\r\n我按照https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.6/demo/text_classification/predict.py操作，设置了自定义数据集和模型保存路径，进行fine-tune，在预测时候报错：\r\n一下是预测代码：\r\n```python\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"ernie\")\r\n\r\npath = 'D://project//test//textPaddle//testdata'\r\n\r\nfrom paddlehub.dataset.base_nlp_dataset import BaseNLPDataset\r\n\r\nclass ThuTastData(BaseNLPDataset):\r\n    def __init__(self):\r\n        # 数据集存放位置\r\n        self.dataset_dir = path\r\n        super(ThuTastData, self).__init__(\r\n            base_path=self.dataset_dir,\r\n            train_file=\"train.txt\",\r\n            dev_file=\"valid.txt\",\r\n            test_file=\"test.txt\",\r\n            train_file_with_header=True,\r\n            dev_file_with_header=True,\r\n            test_file_with_header=True,\r\n            # 数据集类别集合\r\n            label_list=[\"5\", \"2\", \"4\", \"3\", \"1\"])\r\n\r\ndataset = ThuTastData()\r\n\r\n# for e in dataset.get_train_examples()[:3]:\r\n#     print(\"{}\\t{}\\t{}\".format(e.guid, e.text_a, e.label))\r\n\r\nreader = hub.reader.ClassifyReader(\r\n    dataset=dataset,\r\n    vocab_path=module.get_vocab_path(),\r\n    sp_model_path=module.get_spm_path(),\r\n    word_dict_path=module.get_word_dict_path(),\r\n    max_seq_len=128)\r\n\r\nstrategy = hub.AdamWeightDecayStrategy(\r\n    weight_decay=0.01,\r\n    warmup_proportion=0.1,\r\n    learning_rate=5e-5)\r\n\r\nconfig = hub.RunConfig(\r\n    log_interval=3,\r\n    save_ckpt_interval=10,\r\n    checkpoint_dir='./modle.ckpt',\r\n    num_epoch=20,\r\n    use_cuda=False,\r\n    batch_size=32,\r\n    eval_interval=50,\r\n    strategy=strategy)\r\n\r\ninputs, outputs, program = module.context(\r\n    trainable=True, max_seq_len=128)\r\n\r\n# Use \"pooled_output\" for classification tasks on an entire sentence.\r\npooled_output = outputs[\"pooled_output\"]\r\n\r\nfeed_list = [\r\n    inputs[\"input_ids\"].name,\r\n    inputs[\"position_ids\"].name,\r\n    inputs[\"segment_ids\"].name,\r\n    inputs[\"input_mask\"].name,\r\n]\r\n\r\ncls_task = hub.TextClassifierTask(\r\n        data_reader=reader,\r\n        feature=pooled_output,\r\n        feed_list=feed_list,\r\n        num_classes=dataset.num_labels,\r\n        config=config,\r\n\r\n        metrics_choices=[\"acc\"])\r\n# run_states = cls_task.finetune_and_eval()\r\ndata = [[\"环境不好??太乱了??东西又贵又不好吃\"], [\"交通方便；环境很好；服务态度很好 房间较小\"],\r\n            [\"19天硬盘就罢工了~~~算上运来的一周都没用上15天~~~可就是不能换了~~~唉~~~~你说这算什么事呀~~~\"]]\r\nprint(cls_task.predict(data=data, return_result=True))\r\n```\r\n\r\n一下是报错日志：\r\n```bash\r\n!!! The default number of CPU_NUM=1.\r\n[2020-06-10 15:10:17,401] [    INFO] - PaddleHub predict start\r\n[2020-06-10 15:10:17,401] [    INFO] - Load the best model from ./modle.ckpt\\best_model\r\nC:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddle\\fluid\\executor.py:1093: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\n[2020-06-10 15:10:18,218] [    INFO] - Try loading checkpoint from ./modle.ckpt\\ckpt.meta\r\n[2020-06-10 15:10:19,297] [    INFO] - PaddleHub model checkpoint loaded. current_epoch=1, global_step=10, best_score=-999.00000\r\nTraceback (most recent call last):\r\n  File \"D:/project/test/textPaddle/testPaddleFinetune.py\", line 77, in <module>\r\n    print(cls_task.predict(data=data, return_result=True))\r\n  File \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 1011, in predict\r\n    self.init_if_load_best_model()\r\n  File \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 382, in init_if_load_best_model\r\n    self.init_if_necessary()\r\n  File \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 367, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 837, in load_checkpoint\r\n    self.max_train_steps = self.env.current_step + self.max_train_steps / self.config.num_epoch * (\r\nAttributeError: 'TextClassifierTask' object has no attribute 'max_train_steps'\r\n```",
        "state": "closed",
        "user": "zhuyingjun-zyj",
        "closed_by": "haoyuying",
        "created_at": "2020-06-10T07:40:55+00:00",
        "updated_at": "2021-04-14T12:37:37+00:00",
        "closed_at": "2021-04-14T12:37:37+00:00",
        "comments_count": [
            "kinghuin",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 685,
        "title": "installed paddlehub via pip: now cannot import paddle.fluid",
        "body": "Hi, I am not sure I am posting this issue in the right place, however, the problem I am having is the following:\r\nI have installed PaddlePaddle from source, and then cloned the paddle model repo.\r\nHappily tested VGG, did some stuff with VisualDL to test it, happily run sentiment_classification using run.sh script under PaddleNL/sentiment_calssification\r\nOnce I tried to run ernie for sentiment classification however, using ./run_ernie.sh train it complained that \"import paddlehub\" could not be done as module was absent.\r\nSo I have installed it, `pip install paddlehub --user`, and after that I cannot import paddle.fluid anymore. Anytime I try I get the following error message:\r\n`  File \"/nfs/pdx/home/azanetti/.local/lib/python2.7/site-packages/nltk/probability.py\", line 333\r\n    print(\"%*s\" % (width, samples[i]), end=\" \")\r\n                                          ^\r\nSyntaxError: invalid syntax`\r\nI thought it was something connected to missing `from __future_ import print_function` or alike but these imports are already in the code. Could you please let me know? thanks!",
        "state": "closed",
        "user": "andreazanetti",
        "closed_by": "andreazanetti",
        "created_at": "2020-06-10T07:48:46+00:00",
        "updated_at": "2020-07-07T13:10:05+00:00",
        "closed_at": "2020-07-07T13:10:05+00:00",
        "comments_count": [
            "Steffy-zxf",
            "andreazanetti",
            "Steffy-zxf",
            "andreazanetti"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 682,
        "title": "hub  Out of memory in a simple programm!!",
        "body": "- 版本、环境信息\r\n1）hub.__version__'1.7.1'\r\n2）paddle.__version__'1.7.2'\r\n3）ubuntu16.04\r\n4)  cuda10\r\n5）paddle.fluid.install_check.run_check()\r\nRunning Verify Paddle Program ... \r\nW0610 10:19:19.803442  8827 device_context.cc:237] Please NOTE: device: 0, CUDA Capability: 75, Driver API Version: 10.1, Runtime API Version: 9.0\r\nW0610 10:19:19.805452  8827 device_context.cc:245] device: 0, cuDNN Version: 7.6.\r\nYour Paddle works well on SINGLE GPU or CPU.\r\nI0610 10:19:20.703788  8827 parallel_executor.cc:440] The Program will be executed on CUDA using ParallelExecutor, 1 cards are used, so 1 programs are executed in parallel.\r\nI0610 10:19:20.704022  8827 build_strategy.cc:365] SeqOnlyAllReduceOps:0, num_trainers:1\r\nI0610 10:19:20.704203  8827 parallel_executor.cc:307] Inplace strategy is enabled, when build_strategy.enable_inplace = True\r\nI0610 10:19:20.704339  8827 parallel_executor.cc:375] Garbage collection strategy is enabled, when FLAGS_eager_delete_tensor_gb = 0\r\nYour Paddle works well on MUTIPLE GPU or CPU.\r\nYour Paddle is installed successfully! Let's start deep Learning with Paddle now\r\n---------------------------------------------------------------------------------------------------------\r\n- 我的显存有6G，如果您的显存很大，请多放图片，会看到 显存一直增长 不回收\r\n- 代码很简单，如下：\r\n首先 export CUDA_VISIBLE_DEVICES=0\r\nimport os\r\nimport paddlehub as hub\r\nocr = hub.Module(name=\"chinese_ocr_db_crnn_server\")\r\nimg_l=os.listdir('./static/images/')  # 本目录有20张带文字的图片，如果您显存大，请多放\r\nfor img in img_l:\r\n    _ = ocr.recognize_text(paths=['./static/images/'+img], use_gpu=True)\r\n-----------------------------------------------------------------------------------------------------------\r\n报错如下：\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nResourceExhaustedError: \r\n\r\nOut of memory error on GPU 0. Cannot allocate 29.883057MB memory on GPU 0, available memory is only 22.750000MB.\r\n\r\nPlease check whether there is any other process using GPU 0.\r\n1. If yes, please stop them, or start PaddlePaddle on another GPU.\r\n2. If no, please decrease the batch size of your model. \r\n\r\n at (/paddle/paddle/fluid/memory/allocation/cuda_allocator.cc:69)\r\n",
        "state": "closed",
        "user": "LeeYongchao",
        "closed_by": "WYB27",
        "created_at": "2020-06-10T02:27:23+00:00",
        "updated_at": "2025-06-30T07:24:02+00:00",
        "closed_at": "2025-06-30T07:24:02+00:00",
        "comments_count": [
            "Steffy-zxf",
            "LeeYongchao",
            "Bingjiajia",
            "moruifang0508",
            "Steffy-zxf",
            "LeeYongchao",
            "Steffy-zxf",
            "LeeYongchao",
            "Steffy-zxf",
            "LeeYongchao",
            "moruifang0508",
            "y455471846b",
            "Steffy-zxf",
            "Steffy-zxf",
            "LeeYongchao",
            "LeeYongchao",
            "Steffy-zxf",
            "FD-Liekkas",
            "Steffy-zxf",
            "w-Bro",
            "milkliker",
            "cuiyong127",
            "liweigu",
            "cuiyong127",
            "liweigu",
            "YAwei666",
            "BurrowsWang",
            "shch1210",
            "zhuangyuyang",
            "cuiyuan605",
            "Yinmm",
            "xealml",
            "soxunyi",
            "Jsooooooo",
            "Jsooooooo",
            "suntao2015005848",
            "Steffy-zxf",
            "Jsooooooo",
            "startfromzero0",
            "y455471846b",
            "GavinYang5",
            "GavinYang5",
            "sixyang",
            "y455471846b",
            "langzigaoi",
            "y455471846b",
            "xlg-go",
            "y455471846b",
            "aixuedegege",
            "y455471846b",
            "Jsooooooo",
            "Jsooooooo",
            "langzigaoi",
            "Alwin4Zhang",
            "cmathx",
            "y455471846b"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 686,
        "title": "RuntimeError: resnet50_vd_10w does not support dynamic graph mode yet.",
        "body": "I tried the demo:\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/release/v1.7/demo/image_classification/img_classifier_dygraph.py\r\n\r\nBut the result and Error as following:\r\n```\r\nE:\\Python\\Python37-64\\python.exe \"E:/Python/Pycharm/my work/AI_study/Learning_from_Github/04 paddlepaddle-learn/03 Paddle_hub/PaddleHub-release-v1.7/demo/image_classification/img_classifier_dygraph.py\"\r\n[2020-06-10 22:40:34,848] [    INFO] - Installing resnet50_vd_10w module\r\n[2020-06-10 22:40:34,868] [    INFO] - Module resnet50_vd_10w already installed in C:\\Users\\admin\\.paddlehub\\modules\\resnet50_vd_10w\r\n[2020-06-10 22:40:34,871] [    INFO] - Dataset C:\\Users\\admin\\.paddlehub\\dataset\\flower_photos already cached.\r\n[2020-06-10 22:40:36,859] [    INFO] - Dataset label map = {'roses': 0, 'tulips': 1, 'daisy': 2, 'sunflowers': 3, 'dandelion': 4}\r\nTraceback (most recent call last):\r\n  File \"E:/Python/Pycharm/my work/AI_study/Learning_from_Github/04 paddlepaddle-learn/03 Paddle_hub/PaddleHub-release-v1.7/demo/image_classification/img_classifier_dygraph.py\", line 89, in <module>\r\n    finetune(args)\r\n  File \"E:/Python/Pycharm/my work/AI_study/Learning_from_Github/04 paddlepaddle-learn/03 Paddle_hub/PaddleHub-release-v1.7/demo/image_classification/img_classifier_dygraph.py\", line 66, in finetune\r\n    pred = resnet(imgs)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 461, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"E:/Python/Pycharm/my work/AI_study/Learning_from_Github/04 paddlepaddle-learn/03 Paddle_hub/PaddleHub-release-v1.7/demo/image_classification/img_classifier_dygraph.py\", line 29, in forward\r\n    feature_map = self.backbone(imgs)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 461, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddlehub\\module\\module.py\", line 254, in forward\r\n    self.name))\r\nRuntimeError: resnet50_vd_10w does not support dynamic graph mode yet.\r\nW0610 22:40:34.892999  3416 device_context.cc:252] Please NOTE: device: 0, CUDA Capability: 50, Driver API Version: 11.0, Runtime API Version: 10.0\r\nW0610 22:40:34.904000  3416 device_context.cc:260] device: 0, cuDNN Version: 7.6.\r\n\r\nProcess finished with exit code 1\r\n```\r\nI just cannot believe that \"RuntimeError: resnet50_vd_10w does not support dynamic graph mode yet.\"\r\nWould you please take a look at it and help me?\r\nAppreciate it.",
        "state": "closed",
        "user": "zachary-zheng",
        "closed_by": "zachary-zheng",
        "created_at": "2020-06-10T14:41:39+00:00",
        "updated_at": "2020-06-15T14:20:45+00:00",
        "closed_at": "2020-06-15T14:20:45+00:00",
        "comments_count": [
            "Steffy-zxf",
            "zachary-zheng",
            "zachary-zheng",
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 688,
        "title": "可以将hub上面的OCR模型和口罩识别模型同时部署在摄像头上面吗？请问有demo吗",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "lzb-James",
        "closed_by": "haoyuying",
        "created_at": "2020-06-11T11:05:23+00:00",
        "updated_at": "2021-04-14T12:36:57+00:00",
        "closed_at": "2021-04-14T12:36:57+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 687,
        "title": "在做Fine-tune保存的模型转化为一个PaddleHub Module时报了错",
        "body": "使用fine-tune后的RENIE模型做文本分类后，将其转化为Paddle Hub Module时报错了\r\n具体错误信息：\r\n```bash\r\n[2020-06-11 16:48:50,307] [    INFO] - Load the best model from D:\\project\\test\\textPaddle\\finetuned_model_to_module\\modle.ckpt\\best_model\r\nC:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddle\\fluid\\executor.py:1093: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\n[2020-06-11 16:49:00,985] [    INFO] - PaddleHub predict finished.\r\nTraceback (most recent call last):\r\n  File \"D:/project/test/textPaddle/finetuned_model_to_module/module.py\", line 91, in <module>\r\n    predictions = ernie_tiny.predict(data=data)\r\n  File \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddlehub\\module\\module.py\", line 72, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"D:\\project\\test\\textPaddle\\finetuned_model_to_module\\module.py\", line 82, in predict\r\n    accelerate_mode=accelerate_mode)\r\n  File \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 1024, in predict\r\n    return self._postprocessing(run_states)\r\n  File \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddlehub\\finetune\\task\\classifier_task.py\", line 156, in _postprocessing\r\n    results += [id2label[sample_infer] for sample_infer in batch_infer]\r\n  File \"C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddlehub\\finetune\\task\\classifier_task.py\", line 156, in <listcomp>\r\n    results += [id2label[sample_infer] for sample_infer in batch_infer]\r\nKeyError: 1\r\n```",
        "state": "closed",
        "user": "zhuyingjun-zyj",
        "closed_by": "haoyuying",
        "created_at": "2020-06-11T08:51:39+00:00",
        "updated_at": "2021-04-14T12:37:21+00:00",
        "closed_at": "2021-04-14T12:37:20+00:00",
        "comments_count": [
            "kinghuin",
            "zhuyingjun-zyj",
            "kinghuin",
            "zhuyingjun-zyj",
            "Steffy-zxf",
            "zhuyingjun-zyj",
            "Steffy-zxf",
            "zhuyingjun-zyj",
            "D-DanielYang",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 689,
        "title": "转化为一个PaddleHub Module时遇到问题",
        "body": "\r\n![image](https://user-images.githubusercontent.com/62418900/84457795-225fd880-ac96-11ea-82ac-0d0af884e64f.png)\r\n![image](https://user-images.githubusercontent.com/62418900/84457848-43c0c480-ac96-11ea-9ea8-c5bd974f5104.png)\r\n根据老师提供的思路，我把自己训练的模型转化成hub可以部署的module，按照模板编写，可以直接预测图片，上图1，可以install成功，但serving start时报cannot be use for predicting，求帮助\r\n",
        "state": "closed",
        "user": "mcl-stone",
        "closed_by": "mcl-stone",
        "created_at": "2020-06-12T02:22:09+00:00",
        "updated_at": "2020-06-12T03:20:27+00:00",
        "closed_at": "2020-06-12T03:20:27+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 693,
        "title": "模型部署中模型预加载错误",
        "body": "> 模型代码\r\n\r\n# -*- coding:utf-8 -*-\r\n# Copyright (c) 2019 PaddlePaddle Authors. All Rights Reserved.\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the \"License\");\r\n# you may not use this file except in compliance with the License.\r\n# You may obtain a copy of the License at\r\n#\r\n#     http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an \"AS IS\" BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\"\"\"Finetuning on classification task \"\"\"\r\nfrom __future__ import absolute_import\r\nfrom __future__ import division\r\nfrom __future__ import print_function\r\n\r\nimport os\r\n\r\nimport numpy as np\r\nfrom paddlehub.common.logger import logger\r\nfrom paddlehub.module.module import moduleinfo, serving\r\nimport paddlehub as hub\r\n\r\n\r\n@moduleinfo(\r\n    name=\"ERNIEFinetuned\",\r\n    version=\"1.0.0\",\r\n    summary=\"ERNIE tiny which was fine-tuned on the chnsenticorp dataset.\",\r\n    author=\"anonymous\",\r\n    author_email=\"\",\r\n    type=\"nlp/semantic_model\")\r\nclass ERNIEFinetuned(hub.Module):\r\n    def _initialize(self,\r\n                    ckpt_dir=\"ckpt_ner\",\r\n                    num_class=3,\r\n                    max_seq_len=128,\r\n                    use_gpu=False,\r\n                    batch_size=16):\r\n        self.ckpt_dir = os.path.join(self.directory, ckpt_dir)\r\n        self.num_class = num_class\r\n        self.MAX_SEQ_LEN = max_seq_len\r\n\r\n        self.params_path = os.path.join(self.ckpt_dir, 'best_model')\r\n\r\n        # Load Paddlehub ERNIE Tiny pretrained model\r\n        self.module = hub.Module(name='ernie')\r\n        inputs, outputs, program = self.module.context(max_seq_len=128)\r\n\r\n        # Download dataset and use accuracy as metrics\r\n        # Choose dataset: GLUE/XNLI/ChinesesGLUE/NLPCC-DBQA/LCQMC\r\n        # metric should be acc, f1 or matthews\r\n        # For ernie_tiny, it use sub-word to tokenize chinese sentence\r\n        # If not ernie tiny, sp_model_path and word_dict_path should be set None\r\n        reader = hub.reader.SequenceLabelReader(\r\n            vocab_path=self.module.get_vocab_path(),\r\n            max_seq_len=128)\r\n\r\n        # Construct transfer learning network\r\n        # Use \"pooled_output\" for classification tasks on an entire sentence.\r\n        # Use \"sequence_output\" for token-level output.\r\n        sequence_output = outputs[\"sequence_output\"]\r\n\r\n        # Setup feed list for data feeder\r\n        # Must feed all the tensor of module need\r\n        feed_list = [\r\n            inputs[\"input_ids\"].name,\r\n            inputs[\"position_ids\"].name,\r\n            inputs[\"segment_ids\"].name,\r\n            inputs[\"input_mask\"].name,\r\n        ]\r\n        strategy = hub.AdamWeightDecayStrategy(\r\n            weight_decay=0.01,\r\n            warmup_proportion=0.1,\r\n            learning_rate=5e-5)\r\n        # Setup runing config for PaddleHub Finetune API\r\n        config = hub.RunConfig(\r\n            use_cuda=False,\r\n            num_epoch=1,\r\n            checkpoint_dir=self.ckpt_dir,\r\n            batch_size=16,\r\n            eval_interval=50,\r\n            strategy=strategy)\r\n\r\n        # Define a classfication finetune task by PaddleHub's API\r\n        self.cls_task = hub.SequenceLabelTask(\r\n            data_reader=reader,\r\n            feature=sequence_output,\r\n            feed_list=feed_list,\r\n            add_crf=True,\r\n            max_seq_len=128,\r\n            num_classes=3,\r\n            config=config)\r\n\r\n\r\n    def predict(self, data, return_result=False, accelerate_mode=True):\r\n        \"\"\"\r\n        Get prediction results\r\n        \"\"\"\r\n        run_states = self.cls_task.predict(\r\n            data=data,\r\n            return_result = return_result,\r\n            accelerate_mode = accelerate_mode)\r\n        print(run_states)\r\n        return result1\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    ernie_tiny = ERNIEFinetuned(\r\n        ckpt_dir=\"./ckpt_ner\", num_class=3)\r\n    # Data to be prdicted\r\n    data=[]\r\n    result = '梅小二主治医师查房记录'\r\n    data.append([\"\\002\".join(result)])\r\n    print(data)\r\n    predictions = ernie_tiny.predict(data=data)\r\n    print(predictions)\r\n错误代码：\r\n![1592271505(1)](https://user-images.githubusercontent.com/35450896/84722229-30269e00-afb5-11ea-9e2c-7103e411f642.png)\r\n\r\n",
        "state": "closed",
        "user": "Malestudents",
        "closed_by": "Malestudents",
        "created_at": "2020-06-16T01:38:57+00:00",
        "updated_at": "2020-06-16T01:42:50+00:00",
        "closed_at": "2020-06-16T01:42:50+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 691,
        "title": "loss和acc一样",
        "body": "[2020-06-14 14:55:28,992] [   TRAIN] - step 2510 / 2586: loss=1.00000 acc=1.00000 [step/sec: 0.69]\r\n[2020-06-14 14:55:43,693] [   TRAIN] - step 2520 / 2586: loss=1.00000 acc=1.00000 [step/sec: 0.68]\r\n[2020-06-14 14:55:58,453] [   TRAIN] - step 2530 / 2586: loss=1.00000 acc=1.00000 [step/sec: 0.68]\r\n[2020-06-14 14:56:13,115] [   TRAIN] - step 2540 / 2586: loss=1.00000 acc=1.00000 [step/sec: 0.68]\r\n[2020-06-14 14:56:27,865] [   TRAIN] - step 2550 / 2586: loss=1.00000 acc=1.00000 [step/sec: 0.68]\r\n[2020-06-14 14:56:42,407] [   TRAIN] - step 2560 / 2586: loss=1.00000 acc=1.00000 [step/sec: 0.69]\r\n[2020-06-14 14:57:23,233] [   TRAIN] - step 2570 / 2586: loss=1.00000 acc=1.00000 [step/sec: 0.24]\r\n[2020-06-14 14:58:06,801] [   TRAIN] - step 2580 / 2586: loss=1.00000 acc=1.00000 [step/sec: 0.25]\r\n[2020-06-14 14:58:49,600] [   TRAIN] - step 2590 / 2586: loss=1.00000 acc=1.00000 [step/sec: 0.25]\r\n[2020-06-14 14:59:28,417] [   TRAIN] - step 2600 / 2586: loss=1.00000 acc=1.00000 [step/sec: 0.28]",
        "state": "closed",
        "user": "yisampi",
        "closed_by": "yisampi",
        "created_at": "2020-06-14T08:03:02+00:00",
        "updated_at": "2020-06-15T02:35:58+00:00",
        "closed_at": "2020-06-15T02:35:58+00:00",
        "comments_count": [
            "yisampi",
            "Steffy-zxf",
            "yisampi"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 692,
        "title": "Fine-tune保存的模型如何转化为一个PaddleHub Module",
        "body": "有没有基于图片分类的例子\r\n转化后的Module使用hub serving部署后参数如何转化？\r\n怎么实现自带网页的调用，需要实现什么接口么？\r\n",
        "state": "closed",
        "user": "Payne-Zhu",
        "closed_by": "Payne-Zhu",
        "created_at": "2020-06-15T06:57:26+00:00",
        "updated_at": "2020-06-16T01:24:12+00:00",
        "closed_at": "2020-06-16T01:24:12+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 694,
        "title": "模型部署中模型预加载错误 ",
        "body": "```\r\nfrom __future__ import absolute_import\r\nfrom __future__ import division\r\nfrom __future__ import print_function\r\n\r\nimport os\r\n\r\nimport numpy as np\r\nfrom paddlehub.common.logger import logger\r\nfrom paddlehub.module.module import moduleinfo, serving\r\nimport paddlehub as hub\r\n\r\n\r\n@moduleinfo(\r\n    name=\"ERNIEFinetuned\",\r\n    version=\"1.0.0\",\r\n    summary=\"ERNIE tiny which was fine-tuned on the chnsenticorp dataset.\",\r\n    author=\"anonymous\",\r\n    author_email=\"\",\r\n    type=\"nlp/semantic_model\")\r\nclass ERNIEFinetuned(hub.Module):\r\n    def _initialize(self,\r\n                    ckpt_dir=\"ckpt_ner\",\r\n                    num_class=3,\r\n                    max_seq_len=128,\r\n                    use_gpu=False,\r\n                    batch_size=16):\r\n        self.ckpt_dir = os.path.join(self.directory, ckpt_dir)\r\n        self.num_class = num_class\r\n        self.MAX_SEQ_LEN = max_seq_len\r\n\r\n        self.params_path = os.path.join(self.ckpt_dir, 'best_model')\r\n\r\n        # Load Paddlehub ERNIE Tiny pretrained model\r\n        self.module = hub.Module(name='ernie')\r\n        inputs, outputs, program = self.module.context(max_seq_len=128)\r\n\r\n        # Download dataset and use accuracy as metrics\r\n        # Choose dataset: GLUE/XNLI/ChinesesGLUE/NLPCC-DBQA/LCQMC\r\n        # metric should be acc, f1 or matthews\r\n        # For ernie_tiny, it use sub-word to tokenize chinese sentence\r\n        # If not ernie tiny, sp_model_path and word_dict_path should be set None\r\n        reader = hub.reader.SequenceLabelReader(\r\n            vocab_path=self.module.get_vocab_path(),\r\n            max_seq_len=128)\r\n\r\n        # Construct transfer learning network\r\n        # Use \"pooled_output\" for classification tasks on an entire sentence.\r\n        # Use \"sequence_output\" for token-level output.\r\n        sequence_output = outputs[\"sequence_output\"]\r\n\r\n        # Setup feed list for data feeder\r\n        # Must feed all the tensor of module need\r\n        feed_list = [\r\n            inputs[\"input_ids\"].name,\r\n            inputs[\"position_ids\"].name,\r\n            inputs[\"segment_ids\"].name,\r\n            inputs[\"input_mask\"].name,\r\n        ]\r\n        strategy = hub.AdamWeightDecayStrategy(\r\n            weight_decay=0.01,\r\n            warmup_proportion=0.1,\r\n            learning_rate=5e-5)\r\n        # Setup runing config for PaddleHub Finetune API\r\n        config = hub.RunConfig(\r\n            use_cuda=False,\r\n            num_epoch=1,\r\n            checkpoint_dir=self.ckpt_dir,\r\n            batch_size=16,\r\n            eval_interval=50,\r\n            strategy=strategy)\r\n\r\n        # Define a classfication finetune task by PaddleHub's API\r\n        self.cls_task = hub.SequenceLabelTask(\r\n            data_reader=reader,\r\n            feature=sequence_output,\r\n            feed_list=feed_list,\r\n            add_crf=True,\r\n            max_seq_len=128,\r\n            num_classes=3,\r\n            config=config)\r\n\r\n\r\n    def predict(self, data, return_result=False, accelerate_mode=True):\r\n        \"\"\"\r\n        Get prediction results\r\n        \"\"\"\r\n        run_states = self.cls_task.predict(\r\n            data=data,\r\n            return_result = return_result,\r\n            accelerate_mode = accelerate_mode)\r\n        print(run_states)\r\n        return result1\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    ernie_tiny = ERNIEFinetuned(\r\n        ckpt_dir=\"./ckpt_ner\", num_class=3)\r\n    # Data to be prdicted\r\n    data=[]\r\n    result = '梅小二主治医师查房记录'\r\n    data.append([\"\\002\".join(result)])\r\n    print(data)\r\n    predictions = ernie_tiny.predict(data=data)\r\n    print(predictions)\r\n```\r\n错误示例：\r\n![1592271505(1)](https://user-images.githubusercontent.com/35450896/84722475-ec806400-afb5-11ea-950e-37ee5f93b11a.png)\r\n\r\n",
        "state": "closed",
        "user": "Malestudents",
        "closed_by": "Malestudents",
        "created_at": "2020-06-16T01:44:11+00:00",
        "updated_at": "2020-06-17T08:26:38+00:00",
        "closed_at": "2020-06-17T08:26:15+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Malestudents",
            "Steffy-zxf",
            "Malestudents",
            "Malestudents",
            "Steffy-zxf",
            "Malestudents",
            "Malestudents",
            "Steffy-zxf",
            "Malestudents",
            "Steffy-zxf",
            "Malestudents"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 695,
        "title": "新转化的PaddleHubModule使用serving部署后图片参数如何传递？",
        "body": "使用resnet_v2_50_imagenet迁移学习后新产生的模型按照下列方式转化为PaddleHubModule；\r\n再使用hub install 安装到本机后新模型xxx_test使用hub serving start -m xxx_test部署可以成功；\r\n调用这个服务参数要怎么写？使用示例中的方法会出错；返回需要使用json数据(arnning: \"This usage is out of date, please use 'application/json' as content-type to post to )，但是使用json的话图片如何转换传递呢？\r\n如何实现原版的 resnet_v2_50_imagenet 通过 http://localhost:8866/predict/image/resnet_v2_50_imagenet \r\n传递Post参数image: data:image/jpeg;base64,... 就能直接返回的方式呢？\r\n\r\n`import os\r\nimport numpy as np\r\nimport paddlehub as hub\r\nfrom paddlehub.module.module import moduleinfo, serving\r\n\r\n@moduleinfo(\r\n    name=\"xxx_test\",\r\n    version=\"1.0.0\",\r\n    summary=\"ERNIE tiny which was fine-tuned on the chnsenticorp dataset.\",\r\n    author=\"payne\",\r\n    author_email=\"payne@qq.com\",\r\n    type=\"cv/xxx_model\",\r\n)\r\nclass RestNetFinetuned(hub.Module):\r\n    def _initialize(self,\r\n                    ckpt_dir=\"xxx_model\",\r\n                    num_class=4,\r\n                    max_seq_len=128,\r\n                    use_gpu=False,\r\n                    batch_size=4):\r\n        self.ckpt_dir = os.path.join(self.directory, ckpt_dir)\r\n\r\n        self.module = hub.Module(name=\"resnet_v2_50_imagenet\")\r\n        inputs, outputs, program = self.module.context(trainable=True)\r\n\r\n        self.vocab_path = self.module.get_vocab_path()\r\n\r\n        reader = hub.reader.ImageClassificationReader(\r\n            image_width=self.module.get_expected_image_width(),\r\n            image_height=self.module.get_expected_image_height(),\r\n            images_mean=self.module.get_pretrained_images_mean(),\r\n            images_std=self.module.get_pretrained_images_std(),\r\n        )\r\n\r\n        pooled_output = outputs[\"feature_map\"]\r\n\r\n        feed_list = [inputs[\"image\"].name]\r\n\r\n        config = hub.RunConfig(\r\n            use_data_parallel=False,\r\n            use_cuda=use_gpu,\r\n            batch_size=batch_size,\r\n            checkpoint_dir=self.ckpt_dir,\r\n            strategy=hub.finetune.strategy.DefaultFinetuneStrategy())\r\n\r\n        self.cls_task = hub.ImageClassifierTask(\r\n            data_reader=reader,\r\n            feature=pooled_output,\r\n            feed_list=feed_list,\r\n            num_classes=4,\r\n            config=config)\r\n\r\n    @serving\r\n    def predict(self, data, return_result=False, accelerate_mode=True):\r\n        run_states = self.cls_task.predict(data=data)\r\n        # return run_states\r\n        results = [run_state.run_results for run_state in run_states]\r\n        prediction = []\r\n        for batch_result in results:\r\n            # get predict index\r\n            batch_result = np.argmax(batch_result, axis=2)[0]\r\n            batch_result = batch_result.tolist()\r\n            prediction += batch_result\r\n        return prediction\r\n        \r\n\r\nif __name__ == \"__main__\":\r\n    dm_4_npc = RestNetFinetuned(ckpt_dir=\"dm_4_npc\")\r\n    data = [\"data/1.png\",\"data/4.png\",\"data/2.png\",\"data/3.png\"]\r\n    run_states = dm_4_npc.predict(data=data)\r\n    print(run_states)`\r\n\r\n",
        "state": "closed",
        "user": "Payne-Zhu",
        "closed_by": "haoyuying",
        "created_at": "2020-06-16T02:33:38+00:00",
        "updated_at": "2021-04-14T12:36:46+00:00",
        "closed_at": "2021-04-14T12:36:46+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Payne-Zhu",
            "Steffy-zxf",
            "FourierX9",
            "codeWang-J",
            "FourierX9",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 696,
        "title": "建议增加一个多输入的NLP任务的Demo",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n增加一个多输入的Demo\r\n- 什么样的场景下需要该特性？\r\n比如在做有些NLP任务的时候会有多个输入的需求，比如CCKS 2020: 面向中文短文本的实体链指任务这个任务的Baseline里面就涉及到多输入的问题(PairWise模式的排序需要输入两个内容分别进行Embeding然后打分，最后比较)，在试图把baseline改成用PaddleHub版本的时候发现没有类似这种多输入的Demo\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n在没有Demo的情况下很难自己折腾出一个能运行的Task出来。比如如何让多输入用的预训练模型共享参数或者 不共享参数，怎么保证多个预训练模型context中的program是同一个\r\n\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "onewaymyway",
        "closed_by": "haoyuying",
        "created_at": "2020-06-16T08:25:31+00:00",
        "updated_at": "2021-04-14T12:36:28+00:00",
        "closed_at": "2021-04-14T12:36:27+00:00",
        "comments_count": [
            "nepeplwu",
            "onewaymyway",
            "nepeplwu",
            "onewaymyway",
            "onewaymyway",
            "nepeplwu",
            "onewaymyway",
            "haoyuying"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 699,
        "title": "在使用1.81版本 ubuntu16.04下安装没有问题 训练的时候显示这样",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "silvercherry",
        "closed_by": "WYB27",
        "created_at": "2020-06-17T00:51:36+00:00",
        "updated_at": "2025-06-30T07:24:00+00:00",
        "closed_at": "2025-06-30T07:24:00+00:00",
        "comments_count": [
            "silvercherry",
            "silvercherry",
            "Steffy-zxf",
            "silvercherry",
            "silvercherry",
            "Steffy-zxf",
            "silvercherry",
            "Steffy-zxf",
            "silvercherry"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 701,
        "title": "OSError: image file is truncated (74 bytes not processed)",
        "body": "训练的时候报错：OSError: image file is truncated \r\n\r\n环境：\r\n$ pip list|grep paddle\r\npaddlehub          1.7.0              \r\npaddlepaddle-gpu   1.8.0.post107\r\n\r\n2020-06-17 15:00:39,715-WARNING: Your reader has raised an exception!\r\nException in thread Thread-2:\r\nTraceback (most recent call last):\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/reader.py\", line 1156, in __thread_main__\r\n    six.reraise(*sys.exc_info())\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/six.py\", line 703, in reraise\r\n    raise value\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/reader.py\", line 1136, in __thread_main__\r\n    for tensors in self._tensor_reader():\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/reader/cv_reader.py\", line 166, in _data_reader\r\n    image = preprocess(image_path)\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/reader/cv_reader.py\", line 117, in preprocess\r\n    self.image_height)\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/io/augmentation.py\", line 109, in image_resize\r\n    return img.resize((width, height), interpolation_method)\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/PIL/Image.py\", line 1886, in resize\r\n    self.load()\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/PIL/ImageFile.py\", line 247, in load\r\n    \"(%d bytes not processed)\" % len(b)\r\nOSError: image file is truncated (74 bytes not processed)\r\n\r\nTraceback (most recent call last):\r\n  File \"img_classifier-efficientnetb7-AdamWeight.py\", line 111, in <module>\r\n    finetune(args)\r\n  File \"img_classifier-efficientnetb7-AdamWeight.py\", line 101, in finetune\r\n    task.finetune_and_eval()\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 868, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 889, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1073, in _run\r\n    for run_step, batch in enumerate(data_reader(), start=1):\r\n  File \"/data/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/reader.py\", line 1102, in __next__\r\n    return self._reader.read_next()\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<std::string const&>(std::string const&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2   paddle::operators::reader::BlockingQueue<std::vector<paddle::framework::LoDTensor, std::allocator<paddle::framework::LoDTensor> > >::Receive(std::vector<paddle::framework::LoDTensor, std::allocator<paddle::framework::LoDTensor> >*)\r\n3   paddle::operators::reader::PyReader::ReadNext(std::vector<paddle::framework::LoDTensor, std::allocator<paddle::framework::LoDTensor> >*)\r\n4   std::_Function_handler<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> (), std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<unsigned long>, std::__future_base::_Result_base::_Deleter>, unsigned long> >::_M_invoke(std::_Any_data const&)\r\n5   std::__future_base::_State_base::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>&, bool&)\r\n6   ThreadPool::ThreadPool(unsigned long)::{lambda()#1}::operator()() const\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Blocking queue is killed because the data reader raises an exception\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] at (/paddle/paddle/fluid/operators/reader/blocking_queue.h:141)",
        "state": "closed",
        "user": "yisampi",
        "closed_by": "haoyuying",
        "created_at": "2020-06-17T07:13:56+00:00",
        "updated_at": "2021-04-14T12:35:22+00:00",
        "closed_at": "2021-04-14T12:35:22+00:00",
        "comments_count": [
            "Steffy-zxf",
            "yisampi",
            "yisampi",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 703,
        "title": "使用口罩检测模型弹出提示警告",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n你好 ，我用的paddle-gpu1.8.2 paddlehub 1.7.1 win10 python3.6\r\n再运行咱们口罩检测模型时，提示警告信息为:\r\n2020-06-18 13:49:04,414-INFO: Instantiated empty configuration.\r\nHDFS initialization failed, please check if .hdfscli，cfg exists.\r\n但是 模型可以正常使用，我想问这个提示信息是因为我缺少了什么东西吗？\r\n",
        "state": "closed",
        "user": "yousong1992",
        "closed_by": "haoyuying",
        "created_at": "2020-06-18T05:54:28+00:00",
        "updated_at": "2021-04-14T12:34:49+00:00",
        "closed_at": "2021-04-14T12:34:48+00:00",
        "comments_count": [
            "ShenYuhan",
            "yousong1992",
            "ShenYuhan",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 705,
        "title": "hub.Module(name=“ernie”) 时报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.7.0，PaddlePaddle1.8.2.post97\r\n2）系统环境：Aistudio\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=“ernie”)\r\n\r\n2020-06-19 17:46:24,960-INFO: Instantiated empty configuration.\r\nHDFS initialization failed, please check if .hdfscli，cfg exists.（第一处错误）\r\nDownloading ernie\r\n[==================================================] 100.00%\r\nUncompress /home/aistudio/.paddlehub/tmp/tmpigvf1p5d/ernie\r\n[==================================================] 100.00%\r\nSuccessfully installed ernie-1.2.0\r\n[2020-06-19 17:46:50,215] [ INFO] - Installing ernie module\r\n[2020-06-19 17:46:50,217] [ INFO] - Module ernie already installed in /home/aistudio/.paddlehub/modules/ernie\r\n---------------------------------------------------------------------------TypeError Traceback (most recent call last) in \r\n2 import paddlehub as hub\r\n3 get_ipython().system(‘hub install ernie’)\r\n----> 4 module = hub.Module(name=“ernie”)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in new(cls, name, directory, module_dir, version, **kwargs)\r\n100 if name:\r\n101 module = cls.init_with_name(\r\n–> 102 name=name, version=version, **kwargs)\r\n103 elif directory:\r\n104 module = cls.init_with_directory(directory=directory, **kwargs)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, **kwargs)\r\n137\r\n–> 138 super(Module, self).init()\r\n139 _run_func_name = self._get_func_name(self.class,\r\n140 _module_runnable_func)\r\nTypeError: init() missing 1 required positional argument: ‘name_scope’（第二处错误）\r\n\r\n我完整运行了作者的代码 为什么会出现这种错误啊",
        "state": "closed",
        "user": "bill0507",
        "closed_by": "bill0507",
        "created_at": "2020-06-19T11:39:11+00:00",
        "updated_at": "2020-06-22T02:30:21+00:00",
        "closed_at": "2020-06-21T12:58:44+00:00",
        "comments_count": [
            "Steffy-zxf",
            "bill0507",
            "bill0507",
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 704,
        "title": "deeplabv3p_xception65_humanseg的segmentation方法返回值不正确",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub1.7.1，PaddlePaddle1.8.1，deeplabv3p_xception65_humanseg1.1.0\r\n\r\n2）系统环境：Windows10 64位，python3.6.5\r\n- 复现信息：\r\n按照文档，segmentation（）方法的返回值包含分割结果，其中data应该是Alpha通道数据，取值为0-255 (0为全透明，255为不透明)，但是实际返回的数据里面有负数，类型是float32\r\n",
        "state": "closed",
        "user": "bobyanglin",
        "closed_by": "nepeplwu",
        "created_at": "2020-06-19T09:29:01+00:00",
        "updated_at": "2020-06-23T06:59:43+00:00",
        "closed_at": "2020-06-23T02:25:36+00:00",
        "comments_count": [
            "bobyanglin",
            "bobyanglin",
            "Steffy-zxf"
        ],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 706,
        "title": "UnavailableError: Cannot open cv_finetune_EfficientnetB0_2020-6-19-1\\step_365\\@HUB_efficientnetb0_imagenet@_blocks.0._bn1_offset_beta1_pow_acc_0 to save variables.",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.7.1，Paddle1.8.1\r\n2）系统环境：Windows，python版本3.7.7\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n你好，\r\n我根据如下link(https://github.com/PaddlePaddle/PaddleHub/tree/release/v1.7/demo/image_classification)的README.MD\r\n进行如下代码，出现如下报错。\r\n我尝试了解决方案（1）在下面代码基础上修改使用module = hub.Module(name=\"resnet_v2_50_imagenet\")， 没有报错。\r\n（2）在下面代码基础上将放置该脚本文件（finetuning.py）的文件夹名称由Fine_tuning_efficientnetb0改为Fine_tuning, 没有报错。\r\n因此我很迷惑，下面代码报错的原因是什么？\r\n烦劳解答，谢谢。\r\ncode:\r\n```\r\n#coding:utf-8\r\nimport paddlehub as hub\r\nimport numpy as np\r\n\r\n#加载预训练模型\r\n# module = hub.Module(name=\"resnet_v2_50_imagenet\")\r\nmodule = hub.Module(name=\"efficientnetb0_imagenet\")\r\ninputs, outputs, program = module.context(trainable=True)\r\n#下载数据集并使用ImageClassificationReader读取数据\r\ndataset = hub.dataset.Flowers()\r\ndata_reader = hub.reader.ImageClassificationReader(\r\n    image_width=module.get_expected_image_width(),\r\n    image_height=module.get_expected_image_height(),\r\n    images_mean=module.get_pretrained_images_mean(),\r\n    images_std=module.get_pretrained_images_std(),\r\n    dataset=dataset)\r\n#选择优化策略和运行配置\r\nstrategy = hub.DefaultFinetuneStrategy(\r\n    learning_rate=1e-4,\r\n    optimizer_name=\"adam\",\r\n    regularization_coeff=1e-3)\r\n\r\nconfig = hub.RunConfig(use_cuda=True, checkpoint_dir=\"cv_finetune_EfficientnetB0_2020-6-19-1\", use_data_parallel=True, num_epoch=1, batch_size=8, strategy=strategy)\r\n#构建网络并创建分类迁移任务进行Fine-tune\r\nfeature_map = outputs[\"feature_map\"]\r\nfeed_list = [inputs[\"image\"].name]\r\n\r\ntask = hub.ImageClassifierTask(\r\n    data_reader=data_reader,\r\n    feed_list=feed_list,\r\n    feature=feature_map,\r\n    num_classes=dataset.num_labels,\r\n    config=config)\r\n\r\ntask.finetune_and_eval()\r\ndata = [r\"C:\\Users\\admin\\.paddlehub\\dataset\\flower_photos\\daisy\\525271784_013ddccd1b_m.jpg\"] \r\ntask.predict(data=data, return_result=True)  \r\nprint(task.predict(data=data, return_result=True))\r\n```\r\n\r\n\r\nRunning error as following:\r\n```\r\nE:\\Python\\Python37-64\\python.exe \"E:/Python/Pycharm/my work/AI_study/Learning_from_Github/04 paddlepaddle-learn/03 Paddle_hub/peach_class/my_finegtuning/Fine_tuning_efficientnetb0/finetuning.py\"\r\n[2020-06-20 09:33:31,950] [    INFO] - Installing efficientnetb0_imagenet module\r\n[2020-06-20 09:33:32,011] [    INFO] - Module efficientnetb0_imagenet already installed in C:\\Users\\admin\\.paddlehub\\modules\\efficientnetb0_imagenet\r\n[2020-06-20 09:33:32,586] [    INFO] - 311 pretrained paramaters loaded by PaddleHub\r\n[2020-06-20 09:33:32,587] [    INFO] - Dataset C:\\Users\\admin\\.paddlehub\\dataset\\flower_photos already cached.\r\n[2020-06-20 09:33:32,612] [    INFO] - Dataset label map = {'roses': 0, 'tulips': 1, 'daisy': 2, 'sunflowers': 3, 'dandelion': 4}\r\n[2020-06-20 09:33:32,612] [    INFO] - Checkpoint dir: cv_finetune_EfficientnetB0_2020-6-19-1\r\n[2020-06-20 09:33:37,947] [    INFO] - Strategy with slanted triangle learning rate, L2 regularization, \r\nE:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\executor.py:1093: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\n[2020-06-20 09:33:39,553] [    INFO] - Try loading checkpoint from cv_finetune_EfficientnetB0_2020-6-19-1\\ckpt.meta\r\n[2020-06-20 09:33:39,554] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-06-20 09:33:39,693] [    INFO] - PaddleHub finetune start\r\n[2020-06-20 09:33:43,610] [   TRAIN] - step 10 / 364: loss=0.27500 acc=0.27500 [step/sec: 2.70]\r\n[2020-06-20 09:33:46,474] [   TRAIN] - step 20 / 364: loss=0.43750 acc=0.43750 [step/sec: 3.49]\r\n[2020-06-20 09:33:49,364] [   TRAIN] - step 30 / 364: loss=0.57500 acc=0.57500 [step/sec: 3.46]\r\n[2020-06-20 09:33:52,333] [   TRAIN] - step 40 / 364: loss=0.67500 acc=0.67500 [step/sec: 3.37]\r\n[2020-06-20 09:33:55,201] [   TRAIN] - step 50 / 364: loss=0.67500 acc=0.67500 [step/sec: 3.49]\r\n[2020-06-20 09:33:58,057] [   TRAIN] - step 60 / 364: loss=0.75000 acc=0.75000 [step/sec: 3.50]\r\n[2020-06-20 09:34:00,934] [   TRAIN] - step 70 / 364: loss=0.76250 acc=0.76250 [step/sec: 3.48]\r\n[2020-06-20 09:34:03,913] [   TRAIN] - step 80 / 364: loss=0.76250 acc=0.76250 [step/sec: 3.36]\r\n[2020-06-20 09:34:06,765] [   TRAIN] - step 90 / 364: loss=0.72500 acc=0.72500 [step/sec: 3.51]\r\n[2020-06-20 09:34:09,681] [   TRAIN] - step 100 / 364: loss=0.78750 acc=0.78750 [step/sec: 3.43]\r\n[2020-06-20 09:34:09,681] [    INFO] - Evaluation on dev dataset start\r\nshare_vars_from is set, scope is ignored.\r\n[2020-06-20 09:34:14,278] [    EVAL] - [dev dataset evaluation result] loss=0.84859 acc=0.84859 [step/sec: 12.69]\r\n[2020-06-20 09:34:14,278] [    EVAL] - best model saved to cv_finetune_EfficientnetB0_2020-6-19-1\\best_model [best acc=0.84859]\r\n[2020-06-20 09:34:18,592] [   TRAIN] - step 110 / 364: loss=0.76250 acc=0.76250 [step/sec: 3.48]\r\n[2020-06-20 09:34:21,455] [   TRAIN] - step 120 / 364: loss=0.75000 acc=0.75000 [step/sec: 3.49]\r\n[2020-06-20 09:34:24,333] [   TRAIN] - step 130 / 364: loss=0.90000 acc=0.90000 [step/sec: 3.48]\r\n[2020-06-20 09:34:27,203] [   TRAIN] - step 140 / 364: loss=0.80000 acc=0.80000 [step/sec: 3.48]\r\n[2020-06-20 09:34:30,085] [   TRAIN] - step 150 / 364: loss=0.88750 acc=0.88750 [step/sec: 3.47]\r\n[2020-06-20 09:34:32,956] [   TRAIN] - step 160 / 364: loss=0.73750 acc=0.73750 [step/sec: 3.48]\r\n[2020-06-20 09:34:35,829] [   TRAIN] - step 170 / 364: loss=0.73750 acc=0.73750 [step/sec: 3.48]\r\n[2020-06-20 09:34:38,713] [   TRAIN] - step 180 / 364: loss=0.90000 acc=0.90000 [step/sec: 3.47]\r\n[2020-06-20 09:34:41,580] [   TRAIN] - step 190 / 364: loss=0.83750 acc=0.83750 [step/sec: 3.49]\r\n[2020-06-20 09:34:44,452] [   TRAIN] - step 200 / 364: loss=0.80000 acc=0.80000 [step/sec: 3.48]\r\n[2020-06-20 09:34:44,452] [    INFO] - Evaluation on dev dataset start\r\n[2020-06-20 09:34:48,141] [    EVAL] - [dev dataset evaluation result] loss=0.89807 acc=0.89807 [step/sec: 13.16]\r\n[2020-06-20 09:34:48,141] [    EVAL] - best model saved to cv_finetune_EfficientnetB0_2020-6-19-1\\best_model [best acc=0.89807]\r\n[2020-06-20 09:34:51,665] [   TRAIN] - step 210 / 364: loss=0.82500 acc=0.82500 [step/sec: 3.50]\r\n[2020-06-20 09:34:54,527] [   TRAIN] - step 220 / 364: loss=0.90000 acc=0.90000 [step/sec: 3.49]\r\n[2020-06-20 09:34:57,395] [   TRAIN] - step 230 / 364: loss=0.78750 acc=0.78750 [step/sec: 3.49]\r\n[2020-06-20 09:35:00,277] [   TRAIN] - step 240 / 364: loss=0.80000 acc=0.80000 [step/sec: 3.47]\r\n[2020-06-20 09:35:03,154] [   TRAIN] - step 250 / 364: loss=0.85000 acc=0.85000 [step/sec: 3.48]\r\n[2020-06-20 09:35:06,016] [   TRAIN] - step 260 / 364: loss=0.85000 acc=0.85000 [step/sec: 3.49]\r\n[2020-06-20 09:35:08,880] [   TRAIN] - step 270 / 364: loss=0.87500 acc=0.87500 [step/sec: 3.49]\r\n[2020-06-20 09:35:11,767] [   TRAIN] - step 280 / 364: loss=0.88750 acc=0.88750 [step/sec: 3.47]\r\n[2020-06-20 09:35:14,631] [   TRAIN] - step 290 / 364: loss=0.81250 acc=0.81250 [step/sec: 3.49]\r\n[2020-06-20 09:35:17,484] [   TRAIN] - step 300 / 364: loss=0.87500 acc=0.87500 [step/sec: 3.51]\r\n[2020-06-20 09:35:17,484] [    INFO] - Evaluation on dev dataset start\r\n[2020-06-20 09:35:21,191] [    EVAL] - [dev dataset evaluation result] loss=0.93229 acc=0.93229 [step/sec: 13.09]\r\n[2020-06-20 09:35:21,191] [    EVAL] - best model saved to cv_finetune_EfficientnetB0_2020-6-19-1\\best_model [best acc=0.93229]\r\n[2020-06-20 09:35:24,724] [   TRAIN] - step 310 / 364: loss=0.83750 acc=0.83750 [step/sec: 3.49]\r\n[2020-06-20 09:35:27,577] [   TRAIN] - step 320 / 364: loss=0.81250 acc=0.81250 [step/sec: 3.51]\r\n[2020-06-20 09:35:30,458] [   TRAIN] - step 330 / 364: loss=0.93750 acc=0.93750 [step/sec: 3.47]\r\n[2020-06-20 09:35:33,320] [   TRAIN] - step 340 / 364: loss=0.86250 acc=0.86250 [step/sec: 3.49]\r\n[2020-06-20 09:35:36,195] [   TRAIN] - step 350 / 364: loss=0.86250 acc=0.86250 [step/sec: 3.48]\r\n[2020-06-20 09:35:39,043] [   TRAIN] - step 360 / 364: loss=0.87500 acc=0.87500 [step/sec: 3.51]\r\n[2020-06-20 09:35:40,383] [    INFO] - Evaluation on dev dataset start\r\n[2020-06-20 09:35:44,070] [    EVAL] - [dev dataset evaluation result] loss=0.92708 acc=0.92708 [step/sec: 13.17]\r\n[2020-06-20 09:35:44,071] [    INFO] - Load the best model from cv_finetune_EfficientnetB0_2020-6-19-1\\best_model\r\n[2020-06-20 09:35:44,443] [    INFO] - Evaluation on test dataset start\r\n[2020-06-20 09:35:48,072] [    EVAL] - [test dataset evaluation result] loss=0.92021 acc=0.92021 [step/sec: 13.14]\r\n[2020-06-20 09:35:48,072] [    INFO] - Saving model checkpoint to cv_finetune_EfficientnetB0_2020-6-19-1\\step_365\r\nE:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\executor.py:1070: UserWarning: The following exception is not an EOF exception.\r\n  \"The following exception is not an EOF exception.\")\r\nTraceback (most recent call last):\r\n  File \"E:/Python/Pycharm/my work/AI_study/Learning_from_Github/04 paddlepaddle-learn/03 Paddle_hub/peach_class/my_finegtuning/Fine_tuning_efficientnetb0/finetuning.py\", line 35, in <module>\r\n    task.finetune_and_eval()\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 868, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 901, in finetune\r\n    self.save_checkpoint()\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 821, in save_checkpoint\r\n    self.exe, dirname=model_saved_dir, main_program=self.main_program)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\io.py\", line 647, in save_persistables\r\n    filename=filename)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\io.py\", line 301, in save_vars\r\n    filename=filename)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\io.py\", line 356, in save_vars\r\n    executor.run(save_program)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1071, in run\r\n    six.reraise(*sys.exc_info())\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\six.py\", line 703, in reraise\r\n    raise value\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1066, in run\r\n    return_merged=return_merged)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1154, in _run_impl\r\n    use_program_cache=use_program_cache)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1229, in _run_program\r\n    fetch_var_name)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\nWindows not support stack backtrace yet.\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\io.py\", line 327, in save_vars\r\n    attrs={'file_path': os.path.normpath(save_file_path)})\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\io.py\", line 301, in save_vars\r\n    filename=filename)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddle\\fluid\\io.py\", line 647, in save_persistables\r\n    filename=filename)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 821, in save_checkpoint\r\n    self.exe, dirname=model_saved_dir, main_program=self.main_program)\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 901, in finetune\r\n    self.save_checkpoint()\r\n  File \"E:\\Python\\Python37-64\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 868, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"E:/Python/Pycharm/my work/AI_study/Learning_from_Github/04 paddlepaddle-learn/03 Paddle_hub/peach_class/my_finegtuning/Fine_tuning_efficientnetb0/finetuning.py\", line 35, in <module>\r\n    task.finetune_and_eval()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nUnavailableError: Cannot open cv_finetune_EfficientnetB0_2020-6-19-1\\step_365\\@HUB_efficientnetb0_imagenet@_blocks.0._bn1_offset_beta1_pow_acc_0 to save variables.\r\n  [Hint: Expected static_cast<bool>(fout) == true, but received static_cast<bool>(fout):0 != true:1.] at (D:/1.8.1/paddle\\paddle/fluid/operators/save_op.h:85)\r\n  [operator < save > error]\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "zachary-zheng",
        "closed_by": "zachary-zheng",
        "created_at": "2020-06-20T03:02:43+00:00",
        "updated_at": "2020-06-27T02:57:05+00:00",
        "closed_at": "2020-06-27T02:57:05+00:00",
        "comments_count": [
            "Steffy-zxf",
            "zachary-zheng"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 707,
        "title": "deeplabv3p_xception65_humanseg实现抠图",
        "body": "2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\npaddleHub版本是1.7.1\r\npaddlepaddle-GPU版本是1.8.1.post97\r\n系统：Ubuntu16.04  python3.6\r\n![11](https://user-images.githubusercontent.com/67177248/85190306-ba3e7180-b2e9-11ea-9cc3-3128781465d0.jpg)\r\n File \"/home/hutao/paddleone/livingbody-AutoCutout-5517359f03aad59c97f784bf06ef343d086173de/AutoCutout/upload_pictures.py\", line 43, in upload\r\n    convert(basepath, upload_path)\r\n  File \"/home/hutao/paddleone/livingbody-AutoCutout-5517359f03aad59c97f784bf06ef343d086173de/AutoCutout/upload_pictures.py\", line 56, in convert\r\n    results = eval(r.json()[\"results\"])\r\nFile \"<string>\", line 0\r\n    \r\n    ^\r\nSyntaxError: unexpected EOF while parsing\r\n",
        "state": "closed",
        "user": "zandls",
        "closed_by": "haoyuying",
        "created_at": "2020-06-20T03:31:44+00:00",
        "updated_at": "2021-04-14T12:34:35+00:00",
        "closed_at": "2021-04-14T12:34:35+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 708,
        "title": "有关于paddlehub的autodl方面的问题",
        "body": "你好，有关超参数自动调节的问题，因为我正在研究这个，开库看了之后，发现hazero用的明明是cmaes，但是在官网的配图是高斯分布贝叶斯优化算法，然后在pshe2里面的配图是cmaes的图，请问这个文档是否有误，还是我的理解有问题，图并没有问题，我非常着急，望解答谢谢！\r\n![image](https://user-images.githubusercontent.com/40067956/85215266-adcd1e00-b3a8-11ea-9ffe-9a9e089c3459.png)\r\n![image](https://user-images.githubusercontent.com/40067956/85215267-b160a500-b3a8-11ea-9a8e-1d4866c5c2ec.png)\r\n",
        "state": "closed",
        "user": "LilyCaiZL",
        "closed_by": "haoyuying",
        "created_at": "2020-06-21T02:21:33+00:00",
        "updated_at": "2021-04-14T12:34:19+00:00",
        "closed_at": "2021-04-14T12:34:19+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 709,
        "title": "使用paddle出现Segmentation fault (core dumped)",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\npaddle ：1.8.2\r\n系统版本：linux，python3.7\r\n\r\n代码尝试：\r\nresults = lac.lexical_analysis(texts=_batch, use_gpu=True, batch_size=32, return_tag=True)\r\n其中：\r\n_batch = 一个列表的迭代器，使用for循环不断产生_batch\r\n有没有可能是文本太长的关系？\r\n一个_batch的长度是32，每个项的字符串长度长达21w\r\n报错信息：\r\n2020-06-21 14:11:39,398-INFO: Instantiated empty configuration.\r\nHDFS initialization failed, please check if .hdfscli，cfg exists.\r\n[2020-06-21 14:11:39,766] [    INFO] - Installing lac module\r\n[2020-06-21 14:11:39,926] [    INFO] - Module lac already installed in /home/lzk/.paddlehub/modules/lac\r\nSegmentation fault (core dumped)\r\n",
        "state": "closed",
        "user": "linzhk",
        "closed_by": "haoyuying",
        "created_at": "2020-06-21T06:20:49+00:00",
        "updated_at": "2021-04-14T12:34:07+00:00",
        "closed_at": "2021-04-14T12:34:07+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 710,
        "title": "希望提供一下利用PaddleHub Serving进行个性化开发demo的代码",
        "body": "\r\n**Step3：利用PaddleHub Serving进行个性化开发**\r\n使用PaddleHub Serving进行模型服务部署后，可以利用得到的接口进行开发，如对外提供web服务，或接入到应用程序中，以降低客户端预测压力，提高性能，下面展示了一个web页面demo:\r\n具体见链接：https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.6/docs/tutorial/serving.md，中的Step-3\r\n需求：\r\n（1）希望提供一下这个demo的代码，我想知道模型是如何处理web端传来的参数如：如何处理选择分类的参数、如何处理选择模型的参数，如何接受上传的图片（或nlp任务的样本）等等。\r\n\r\n（2）还希望增加一个nlp方向的类似这样的demo\r\n\r\n\r\n",
        "state": "closed",
        "user": "zhuyingjun-zyj",
        "closed_by": "haoyuying",
        "created_at": "2020-06-22T02:26:07+00:00",
        "updated_at": "2023-08-11T04:10:37+00:00",
        "closed_at": "2021-04-14T12:33:56+00:00",
        "comments_count": [
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 712,
        "title": "需要提供一下在线部署PaddleHub服务时，通过WSGI方式部署的demo或者文档",
        "body": "在部署在线PaddleHub服务时，直接执行 hub serving start -m  XXXXXX，系统提示Flask app用于开发环境，生产系统请用WSGI替代，需要提供一下通过WSGI方式部署PaddleHub服务的demo或者文档。\r\n\r\n谢谢\r\n\r\n![20200622171920](https://user-images.githubusercontent.com/67145610/85271055-d50d1380-b4ac-11ea-8f61-ddb08ef69565.png)\r\n",
        "state": "closed",
        "user": "bobyanglin",
        "closed_by": "haoyuying",
        "created_at": "2020-06-22T09:19:51+00:00",
        "updated_at": "2021-04-14T12:33:46+00:00",
        "closed_at": "2021-04-14T12:33:45+00:00",
        "comments_count": [
            "D-DanielYang",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 719,
        "title": "预测时报错",
        "body": "发错地了",
        "state": "closed",
        "user": "mcl-stone",
        "closed_by": "mcl-stone",
        "created_at": "2020-06-24T07:57:45+00:00",
        "updated_at": "2020-06-24T08:16:07+00:00",
        "closed_at": "2020-06-24T08:15:48+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 716,
        "title": "human_pose_estimation_resnet50_mpii",
        "body": "请问这句话输出的这个地址我能获得吗，怎么获得可以指教一下吗，或者哪个keypoint_detection这个函数是公开的吗\r\n![TIM图片20200623142021](https://user-images.githubusercontent.com/67177248/85368167-558b4d00-b55d-11ea-9588-cf79582d1b0c.jpg)\r\n\r\n![TIM图片20200623142030](https://user-images.githubusercontent.com/67177248/85368205-6936b380-b55d-11ea-9cce-4cb561579bc6.jpg)\r\n",
        "state": "closed",
        "user": "zandls",
        "closed_by": "haoyuying",
        "created_at": "2020-06-23T06:25:43+00:00",
        "updated_at": "2021-04-14T12:33:28+00:00",
        "closed_at": "2021-04-14T12:33:28+00:00",
        "comments_count": [
            "nepeplwu",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 718,
        "title": " hub serving 服务异常出错退出",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub1.7.1，PaddlePaddle1.8.2，deeplabv3p_xception65_humanseg模型版本：1.1.1\r\n2）系统环境：Centos7，python3.6.8\r\n- 复现信息：部署在线服务后，反复调用，hub服务异常退出，具体操作如下：\r\n\r\n启动服务：hub serving start --config cpuconfig.json\r\n能够看到系统进程：\r\n![ps_info](https://user-images.githubusercontent.com/67145610/85498568-8ed1c480-b612-11ea-9780-a9c77fc127f9.png)\r\n\r\n反复调用接口，向 http://127.0.0.1:8866/predict/deeplabv3p_xception65_humanseg 提交图片，有时候成功，有时候出错，出错返回信息：\r\n{\"msg\": \"Please check data format!\", \"results\": \"\", \"status\": \"-1\"}\r\n\r\n出错后使用相同的图片又正常返回了，在多次失败后hub服务异常退出，错误信息：\r\n[nohup.txt](https://github.com/PaddlePaddle/PaddleHub/files/4823138/nohup.txt)\r\n\r\n启动服务时的配置文件：\r\n[cpuconfig.json.txt](https://github.com/PaddlePaddle/PaddleHub/files/4823144/cpuconfig.json.txt)\r\n",
        "state": "closed",
        "user": "bobyanglin",
        "closed_by": "haoyuying",
        "created_at": "2020-06-24T06:45:29+00:00",
        "updated_at": "2021-04-14T12:33:04+00:00",
        "closed_at": "2021-04-14T12:33:04+00:00",
        "comments_count": [
            "ShenYuhan",
            "bobyanglin",
            "ShenYuhan",
            "bobyanglin",
            "ShenYuhan",
            "bobyanglin",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 717,
        "title": "使用Paddle hub fine-tune Ernie时如何获取训练时的log信息",
        "body": "问题：在fine-tune时如何获取log信息如：\r\n\r\n[2020-06-23 18:33:20,547] [   TRAIN] - step 21 / 1752: loss=1.57232 acc=0.28125 [step/sec: 0.02]\r\n[2020-06-23 18:35:38,595] [   TRAIN] - step 24 / 1752: loss=1.61973 acc=0.19792 [step/sec: 0.02]\r\n以上这些参数（step，loss，acc等）信息由ernie内部封装好的，但在fine-tune时如何获取？",
        "state": "closed",
        "user": "zhuyingjun-zyj",
        "closed_by": "haoyuying",
        "created_at": "2020-06-23T10:38:32+00:00",
        "updated_at": "2021-04-14T12:33:17+00:00",
        "closed_at": "2021-04-14T12:33:17+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 721,
        "title": "使用PaddleHub提供的ERNIE进行序列标注如何在AIstudio正确进行在线部署",
        "body": "\r\n![image](https://user-images.githubusercontent.com/52694143/85938988-80eaaf00-b944-11ea-865a-f8ca1fb1037c.png)\r\n这块应该如何书写，看很多Issue都没有解决\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "TWwWT1",
        "closed_by": "haoyuying",
        "created_at": "2020-06-28T05:38:02+00:00",
        "updated_at": "2021-04-14T12:32:34+00:00",
        "closed_at": "2021-04-14T12:32:33+00:00",
        "comments_count": [
            "songdi3",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 722,
        "title": "PaddleHubOcr   chinese_ocr_db_crnn_mobile预测一张图片需要时间很久，有什么办法解决吗？result=ocr.recognize_text(images=[cv2.imread('/PATH/TO/IMAGE')], text_thresh=0.5) 这行代码的执行时间需要很久",
        "body": "每次运行的时候都有这两行，能否放在程序启动的时候，这样不需要每次运行都去加载模型\r\n[2020-06-28 15:27:07,018] [ INFO] - Installing chinese_text_detection_db_server module\r\n[2020-06-28 15:27:07,019] [ INFO] - Module chinese_text_detection_db_server already installed in /home/image/.paddlehub/modules/chinese_text_detection_db_server",
        "state": "closed",
        "user": "WJinhai",
        "closed_by": "haoyuying",
        "created_at": "2020-06-28T07:09:54+00:00",
        "updated_at": "2021-04-14T12:31:39+00:00",
        "closed_at": "2021-04-14T12:31:39+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 723,
        "title": "paddlehub human_pose_estimation_resnet50_mpii模型关键点识别不准确",
        "body": "\r\n- 版本信息\r\nPaddlePaddle 1.8.2 \r\nPaddleHub 1.7.1\r\n\r\n- 系统环境\r\nubuntu 18.04\r\n\r\n- 问题描述\r\n\r\n```\r\n    frame = cv2.imread(\"/home/beta/datasets/coco/coco/images/train2017/000000001146.jpg\")\r\n    results = module.keypoint_detection(images=[frame])\r\n    data = results[0]['data']\r\n    print(data)\r\n\r\n    for k in data.keys() :\r\n        cv2.circle(frame, tuple(data[k]), 1, (0,0,255), 4)\r\n        print(k, data[k])\r\n\r\n    # show video\r\n    cv2.imshow(\"cheating_detection\", frame)\r\n``` \r\n使用coco的数据集和其他图片测试多次，描点位置不正确，这是什么原因呢？\r\n\r\n",
        "state": "closed",
        "user": "iotctech",
        "closed_by": "iotctech",
        "created_at": "2020-06-28T09:44:33+00:00",
        "updated_at": "2020-07-03T07:16:24+00:00",
        "closed_at": "2020-07-03T07:16:24+00:00",
        "comments_count": [
            "nepeplwu",
            "iotctech",
            "nepeplwu",
            "iotctech",
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 725,
        "title": "请问paddlehub中squad数据集的机器阅读理解使用的是哪种模型？",
        "body": "请问paddlehub的机器阅读理解模型使用的是诸如BIDAF，r-net等的哪种经典模型还是自创的新模型呢？",
        "state": "closed",
        "user": "SDUwn",
        "closed_by": "haoyuying",
        "created_at": "2020-06-30T04:06:07+00:00",
        "updated_at": "2021-04-14T12:31:25+00:00",
        "closed_at": "2021-04-14T12:31:24+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 724,
        "title": "想问问时间序列进行设备损坏的提前预警怎么处理",
        "body": "你好，请问一下我想问个时间序列的问题，有多台设备的m个连续属性值，每台设备在开始使用的时刻是正常的，然后渐渐的会损坏，也就是m个属性值变化，然后突然就没有接下来的数据了，或者说接下来的数据已经没有意义了，同时会给一个标签，说明损坏的原因（可以是损坏与否的二分类或者具体属于哪种的多分类），如果想对于未来一台设备，每天会有新产生的数据，来提前s天预测s天后会不会损坏或者损坏的原因，这个怎么做呀，不同设备损坏时间不一样，但是一定会在比如说一年内损坏",
        "state": "closed",
        "user": "mmmahhhhe",
        "closed_by": "mmmahhhhe",
        "created_at": "2020-06-29T04:20:32+00:00",
        "updated_at": "2020-06-30T01:46:41+00:00",
        "closed_at": "2020-06-30T01:46:41+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 726,
        "title": "deeplabv3p_xception65_humanseg预测时丢失图片语义细节",
        "body": "感谢PaddleHub提供deeplabv3p_xception65_humanseg模型, 我再使用时发现deeplabv3p_xception65_humanseg模型对一些人物手持物品类图片进行预测时会丢失手持物品。\r\n\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub 1.7.1 PaddlePaddle 1.8.2\r\n2）系统环境：Linux Ubuntu ，python 3.7\r\n原图:\r\n![175314](https://user-images.githubusercontent.com/8232737/86190194-57b16500-bb76-11ea-8178-e7f7afa0c5a4.png)\r\n\r\n预测结果:\r\n![175314](https://user-images.githubusercontent.com/8232737/86190317-9fd08780-bb76-11ea-81e0-12de8fb089d3.png)\r\n\r\n我想确认:\r\n\r\n1. 是否是我使用错误导致，如果是，请告之可能的原因。 \r\n2. 是否是原数据集没有包括手持物品类图片导致。 如果是的话，我是否可以使用自有数据集进行训练\r\n",
        "state": "closed",
        "user": "andy-zhangtao",
        "closed_by": "andy-zhangtao",
        "created_at": "2020-07-01T00:43:34+00:00",
        "updated_at": "2021-01-14T05:37:33+00:00",
        "closed_at": "2020-07-01T03:54:34+00:00",
        "comments_count": [
            "Steffy-zxf",
            "andy-zhangtao",
            "juzuo"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 728,
        "title": "文本分类如何设置seed保持每次结果都一样呢？",
        "body": "看了这个教程https://aistudio.baidu.com/aistudio/projectdetail/147006\r\n发现每次运行结果都不一样\r\n请问什么地方可以加random.seed吗？\r\n我按照[PaddlePaddle/PaddleHub#529](https://github.com/PaddlePaddle/PaddleHub/issues/529)里添加program.random_seed = 1并没有作用\r\n",
        "state": "closed",
        "user": "zechenli03",
        "closed_by": "WYB27",
        "created_at": "2020-07-01T06:54:33+00:00",
        "updated_at": "2025-06-30T07:23:58+00:00",
        "closed_at": "2025-06-30T07:23:58+00:00",
        "comments_count": [
            "kinghuin",
            "kinghuin",
            "zechenli03",
            "wxl1351641822"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 729,
        "title": "请问有能部署在Windows 32位系统上的解决办法吗",
        "body": "希望能把训练好的模型部署在较低版本的windows环境上\r\n",
        "state": "closed",
        "user": "JserWF",
        "closed_by": "haoyuying",
        "created_at": "2020-07-01T09:20:08+00:00",
        "updated_at": "2021-04-14T12:30:46+00:00",
        "closed_at": "2021-04-14T12:30:46+00:00",
        "comments_count": [
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 730,
        "title": "export CUDA_VISIBLE_DEVICES=\"0\" && hub serving start pyramidbox_face_detection --use_gpu 调用gpu失败",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n如题，ubuntu系统下使用命令`export CUDA_VISIBLE_DEVICES=\"0\" && hub serving start pyramidbox_face_detection --use_gpu`启动服务，请求的时候gpu完全没有使用。但是如果启用ocr服务的话`export CUDA_VISIBLE_DEVICES=\"0\" && hub serving start chinese_ocr_db_crnn_server --use_gpu`，gpu可以正常使用。\r\n另外，我尝试了在代码中使用gpu，既`face_detector.face_detection(images=[cv2.imread('/PATH/TO/IMAGE')], use_gpu=True)`，这样也是可以正常调用gpu的\r\n\r\n我的环境：\r\nubuntu16.04\r\npython 3.7.3\r\npaddlehub 1.7.1\r\npaddlepaddle-gpu 1.8.1.post107",
        "state": "closed",
        "user": "NextGuido",
        "closed_by": "NextGuido",
        "created_at": "2020-07-03T05:42:25+00:00",
        "updated_at": "2020-07-03T08:33:30+00:00",
        "closed_at": "2020-07-03T08:33:30+00:00",
        "comments_count": [
            "ShenYuhan",
            "NextGuido",
            "NextGuido"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 734,
        "title": "senta-bilstm在进行迁移训练时报错",
        "body": "您好，请教下，我本来是想按自己的数据集迁移训练模型，但是运行以下代码后总是报错，是因为hub的安装路径和Anaconda的安装路径不同导致的吗？求解~\r\n\r\n\r\npaddlehub1.7.1\r\n系统：windows python 3.6.1\r\n运行代码：\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"senta_bilstm\")\r\ninputs, outputs, program = module.context(trainable=True)\r\nfrom paddlehub.dataset.base_nlp_dataset import BaseNLPDataset\r\n\r\nclass DemoDataset(BaseNLPDataset):\r\n    def __init__(self):\r\n        # 数据集存放位置\r\n        self.dataset_dir = \"C:/Users/ccb/data/\"\r\n        super(DemoDataset, self).__init__(\r\n            base_path=self.dataset_dir,\r\n            train_file=\"train.tsv\",\r\n            dev_file=\"dev.tsv\",\r\n            test_file=\"test.tsv\",\r\n            # 如果还有预测数据（不需要文本类别label），可以放在predict.tsv\r\n            #predict_file=\"predict.tsv\",\r\n            train_file_with_header=True,\r\n            dev_file_with_header=True,\r\n            test_file_with_header=True,\r\n            #predict_file_with_header=True,\r\n            # 数据集类别集合\r\n            label_list=[\"0\", \"1\"])\r\ndataset = DemoDataset()\r\nreader = hub.reader.LACClassifyReader(\r\n    dataset=dataset,\r\n    vocab_path=module.get_vocab_path())\r\nstrategy = hub.AdamWeightDecayStrategy(\r\n    learning_rate=1e-5,\r\n    weight_decay=0.01,\r\n    warmup_proportion=0.1,\r\n    lr_scheduler=\"linear_decay\",\r\n)\r\n\r\nconfig = hub.RunConfig(use_cuda=False, num_epoch=3, batch_size=8, strategy=strategy)\r\nsent_feature = outputs[\"sentence_feature\"]\r\n\r\nfeed_list = [inputs[\"words\"].name]\r\n\r\ncls_task = hub.TextClassifierTask(\r\n    data_reader=reader,\r\n    feature=sent_feature,\r\n    feed_list=feed_list,\r\n    num_classes=dataset.num_labels,\r\n    config=config)\r\nrun_states = cls_task.finetune_and_eval()\r\n\r\n运行后报错信息：\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: The Tensor in the scale Op's Input Variable X(@HUB_senta_bilstm@fc_12.w_0) is not initialized.\r\n  [Hint: Expected t->IsInitialized() == true, but received t->IsInitialized():0 != true:1.] at (D:\\1.8.1\\paddle\\paddle\\fluid\\framework\\operator.cc:1289)\r\n  [operator < scale > error]\r\n",
        "state": "closed",
        "user": "BledCao",
        "closed_by": "haoyuying",
        "created_at": "2020-07-04T05:46:50+00:00",
        "updated_at": "2022-08-21T08:46:41+00:00",
        "closed_at": "2021-04-14T12:30:24+00:00",
        "comments_count": [
            "BledCao",
            "Steffy-zxf",
            "BledCao",
            "Steffy-zxf",
            "BledCao",
            "Steffy-zxf",
            "haoyuying",
            "liqingyang665"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 731,
        "title": "CentOS7.6  中  Fine-tune保存的模型转化为一个PaddleHub Module报错",
        "body": "输入命令：hub install /home/EmotionalAnalysis\r\n（ /home/esoonProject/EmotionalAnalysis为路径）\r\n\r\n报错：\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3/bin/hub\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/install.py\", line 54, in execute\r\n    module_dir=argv[0], extra=extra)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 197, in install_module\r\n    module_name = hub.Module(directory=module_dir).name\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 104, in __new__\r\n    module = cls.init_with_directory(directory=directory, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 199, in init_with_directory\r\n    user_module = _item(directory=directory, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 145, in __init__\r\n    self._initialize(**kwargs)\r\n  File \"/home/esoonProject/EmotionalAnalysis/module.py\", line 92, in _initialize\r\n    metrics_choices=metrics_choices)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py\", line 179, in __init__\r\n    metrics_choices=metrics_choices)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py\", line 49, in __init__\r\n    metrics_choices=metrics_choices)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 299, in __init__\r\n    main_program, for_test=False)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py\", line 274, in clone_program\r\n    dest_program.global_block())\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py\", line 147, in _copy_vars_and_ops_in_blocks\r\n    var_info = copy.deepcopy(get_variable_info(var))\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py\", line 65, in get_variable_info\r\n    var_info['gradient_clip_attr'] = var.gradient_clip_attr\r\nAttributeError: 'Parameter' object has no attribute 'gradient_clip_attr'\r\n，希望老师帮忙解答一下\r\n",
        "state": "closed",
        "user": "zhuyingjun-zyj",
        "closed_by": "haoyuying",
        "created_at": "2020-07-03T08:27:03+00:00",
        "updated_at": "2021-04-14T12:30:37+00:00",
        "closed_at": "2021-04-14T12:30:37+00:00",
        "comments_count": [
            "Steffy-zxf",
            "zhuyingjun-zyj",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 751,
        "title": "在cmd.exe",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "zm960204",
        "closed_by": "zm960204",
        "created_at": "2020-07-15T08:44:24+00:00",
        "updated_at": "2020-07-15T08:45:06+00:00",
        "closed_at": "2020-07-15T08:45:06+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 738,
        "title": "利用paddleHub serving进行多进程部署时，如何修改默认的gunicorn的配置",
        "body": "现在gunicorn中的work_class为sync模式，想更换为gevent模式，修改gunicorn对应的配置文件，但一直不生效，用的还是sync模式\r\nimport multiprocessing\r\nfrom gevent import monkey\r\nmonkey.patch_all()\r\nbind = '0.0.0.0:8888'\r\nbacklog = 2048\r\nworkers = multiprocessing.cpu_count() * 2 + 1\r\nthreads = 1\r\nworker_class = 'gevent'\r\nworker_connections = 1000\r\ntimeout = 500\r\nkeepalive = 40\r\ndaemon = True\r\nloglevel = 'info'\r\nerrorlog = '-'\r\naccesslog = '-'",
        "state": "closed",
        "user": "AugusXing",
        "closed_by": "WYB27",
        "created_at": "2020-07-08T07:44:37+00:00",
        "updated_at": "2025-06-30T07:23:56+00:00",
        "closed_at": "2025-06-30T07:23:56+00:00",
        "comments_count": [
            "ShenYuhan",
            "AugusXing",
            "ShenYuhan",
            "AugusXing",
            "AugusXing",
            "caiiiac"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 737,
        "title": "paddlehub口罩检测模型使用报错 ",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\npaddlehub1.7.1 paddlepaddle-gpu 1.8.2\r\nlinux18.04  2080显卡4块，然后cuda cudnn nccl已经正确安装，在跑paddlepaddle-gpu的测试代码时，提示信息如下：\r\n>>> import paddle.fluid\r\n>>> paddle.fluid.install_check.run_check()\r\nRunning Verify Fluid Program ... \r\nW0706 20:39:04.760099  5235 device_context.cc:252] Please NOTE: device: 0, CUDA Capability: 75, Driver API Version: 10.2, Runtime API Version: 10.0\r\nW0706 20:39:04.841992  5235 device_context.cc:260] device: 0, cuDNN Version: 7.6.\r\nYour Paddle Fluid works well on SINGLE GPU or CPU.\r\nW0706 20:39:15.426373  5235 fuse_all_reduce_op_pass.cc:74] Find all_reduce operators: 2. To make the speed faster, some all_reduce ops are fused during training, after fusion, the number of all_reduce ops is 1.\r\nYour Paddle Fluid works well on MUTIPLE GPU or CPU.\r\nYour Paddle Fluid is installed successfully! Let's start deep Learning with Paddle Fluid now\r\n可是在运行口罩检测模型时，设置环境变量如下：\r\nos.environ['CUDA_VISIBLE_DEVICES'] = '0'或者os.environ['CUDA_VISIBLE_DEVICES'] = '0，1，2，3'\r\n运行均会报错：\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nExternalError:  Cuda error(3), initialization error.\r\n  [Advise: The API call failed because the CUDA driver and runtime could not be initialized. ] at (/paddle/paddle/fluid/platform/gpu_info.cc:183)\r\n求帮助！",
        "state": "closed",
        "user": "yousong1992",
        "closed_by": "yousong1992",
        "created_at": "2020-07-06T13:01:53+00:00",
        "updated_at": "2020-07-07T02:25:37+00:00",
        "closed_at": "2020-07-07T02:25:37+00:00",
        "comments_count": [
            "Steffy-zxf",
            "yousong1992"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 739,
        "title": "安装完hub后使用hub命令提示不是内部命令。",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n1。PaddleHub1.7.1，PaddlePaddle1.8\r\n2.系统环境：Windows，anaconda，python版本3.6.9\r\n\r\n问题1：安装完hub后使用hub命令提示不是内部命令。\r\n问题2：PaddleHub抠图比赛教程中，results = module.segmentation(images=test_img)，没有看到抠图的结果在哪？",
        "state": "closed",
        "user": "upenggod",
        "closed_by": "upenggod",
        "created_at": "2020-07-08T15:30:43+00:00",
        "updated_at": "2020-07-10T02:56:22+00:00",
        "closed_at": "2020-07-10T02:56:22+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 740,
        "title": "paddlecla模型和paddlehub的模型可以互相转换吗？",
        "body": "能使用自己的paddlecla模型来进行paddlehub分类迁移学习吗？其他paddle模型和paddlehub模型有转换方式吗？",
        "state": "closed",
        "user": "AnniWan",
        "closed_by": "AnniWan",
        "created_at": "2020-07-09T01:10:12+00:00",
        "updated_at": "2020-07-13T01:01:32+00:00",
        "closed_at": "2020-07-13T01:01:32+00:00",
        "comments_count": [
            "Steffy-zxf",
            "AnniWan",
            "Steffy-zxf",
            "AnniWan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 747,
        "title": "请问我在ernie的框架下面使用roberta的权重，应该要怎么操作？",
        "body": "因为要复现一个模型，需要用到roberta_large的权重",
        "state": "closed",
        "user": "Maybewuss",
        "closed_by": "haoyuying",
        "created_at": "2020-07-13T04:04:06+00:00",
        "updated_at": "2021-04-14T12:29:40+00:00",
        "closed_at": "2021-04-14T12:29:40+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Maybewuss",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 752,
        "title": "控制台cmd.exe无法识别padddlehub的hub命令，怎么才能部署啊",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "zm960204",
        "closed_by": "haoyuying",
        "created_at": "2020-07-15T08:46:07+00:00",
        "updated_at": "2021-04-14T12:29:22+00:00",
        "closed_at": "2021-04-14T12:29:22+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 755,
        "title": "ubuntu运行yolo报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nubuntu18 \r\npaddlehub              1.6.2\r\npaddlepaddle-gpu       1.8.1.post107\r\npython 3.7.7\r\nnvidia-smi\r\nWed Jul 15 20:17:13 2020       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 440.82       Driver Version: 440.82       CUDA Version: 10.2     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  Quadro RTX 4000     Off  | 00000000:5E:00.0  On |                  N/A |\r\n| 30%   56C    P0    31W / 125W |    344MiB /  7982MiB |      5%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|    0      4691      C   /usr/lib/libreoffice/program/soffice.bin      97MiB |\r\n|    0      7011      G   /usr/lib/xorg/Xorg                            14MiB |\r\n|    0      7371      G   /usr/lib/xorg/Xorg                           219MiB |\r\n+-----------------------------------------------------------------------------+\r\n使用Module yolov3_darknet53_coco2017 already installed in /root/.paddlehub/modules/yolov3_darknet53_coco2017\r\n模型进行预测的时候报错\r\n错误如下：\r\nTraceback (most recent call last):\r\n  File \"ai_dog.py\", line 498, in computer_sigle\r\n    results = object_detector.object_detection(images=[frame_start],use_gpu=True)\r\n  File \"/root/.paddlehub/modules/yolov3_darknet53_coco2017/module.py\", line 205, in object_detection\r\n    [image_tensor, im_size_tensor])\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<char const*>(char const*&&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int)\r\n2   paddle::platform::dynload::EnforceCUDNNLoaded(char const*)\r\n3   paddle::platform::CUDADeviceContext::CUDADeviceContext(paddle::platform::CUDAPlace)\r\n4   std::_Function_handler<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > (), std::reference_wrapper<std::_Bind_simple<paddle::platform::EmplaceDeviceContext<paddle::platform::CUDADeviceContext, paddle::platform::CUDAPlace>(std::map<paddle::platform::Place, std::shared_future<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > >, std::less<paddle::platform::Place>, std::allocator<std::pair<paddle::platform::Place const, std::shared_future<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > > > > >*, paddle::platform::Place)::{lambda()#1} ()> > >::_M_invoke(std::_Any_data const&)\r\n5   std::_Function_handler<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> (), std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > >, std::__future_base::_Result_base::_Deleter>, std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > > >::_M_invoke(std::_Any_data const&)\r\n6   std::__future_base::_State_base::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>&, bool&)\r\n7   std::__future_base::_Deferred_state<std::_Bind_simple<paddle::platform::EmplaceDeviceContext<paddle::platform::CUDADeviceContext, paddle::platform::CUDAPlace>(std::map<paddle::platform::Place, std::shared_future<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > >, std::less<paddle::platform::Place>, std::allocator<std::pair<paddle::platform::Place const, std::shared_future<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > > > > >*, paddle::platform::Place)::{lambda()#1} ()>, std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > >::_M_run_deferred()\r\n8   paddle::platform::DeviceContextPool::Get(paddle::platform::Place const&)\r\n9   paddle::PaddleTensorToLoDTensor(paddle::PaddleTensor const&, paddle::framework::LoDTensor*, paddle::platform::Place const&)\r\n10  paddle::AnalysisPredictor::SetFeed(std::vector<paddle::PaddleTensor, std::allocator<paddle::PaddleTensor> > const&, paddle::framework::Scope*)\r\n11  paddle::AnalysisPredictor::Run(std::vector<paddle::PaddleTensor, std::allocator<paddle::PaddleTensor> > const&, std::vector<paddle::PaddleTensor, std::allocator<paddle::PaddleTensor> >*, int)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Cannot load cudnn shared library. Cannot invoke method cudnnGetVersion at (/paddle/paddle/fluid/platform/dynload/cudnn.cc:63)\r\n\r\ntraceback.print_exc():\r\n\r\n\r\n",
        "state": "closed",
        "user": "xiaomujiang",
        "closed_by": "xiaomujiang",
        "created_at": "2020-07-15T12:27:24+00:00",
        "updated_at": "2020-07-22T09:19:04+00:00",
        "closed_at": "2020-07-22T09:19:04+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 760,
        "title": "服务器部署成功无法POST",
        "body": "服务器端 ：\r\nUbuntu 16.04.1 \r\npaddlepaddle == 1.8.3\r\npaddlehub == 1.7.1 \r\npython == 3.6\r\n\r\n客户端 ：\r\nwindows10\r\npython == 3.6\r\n我用paddlehub 在服务器上的成功部署了 senta_gru 模型（port 设为服务器登陆端口）\r\n\r\n![image](https://user-images.githubusercontent.com/52694143/87846753-ce838780-c904-11ea-9daf-f1341eab7653.png)\r\n\r\n但本地端设为无法在POST的时候\r\n\r\n![image](https://user-images.githubusercontent.com/52694143/87846774-f4a92780-c904-11ea-9df0-e4f22b7b5170.png)\r\n\r\n更换默认端口 8866\r\n\r\n![image](https://user-images.githubusercontent.com/52694143/87847156-57e88900-c908-11ea-8935-20f9a0b200cf.png)\r\n\r\n客户端代码\r\n\r\nimport requests\r\nimport json\r\n\r\ntext = [\"这家餐厅很好吃\", \"这部电影真的很差劲\"]\r\n\r\n# 设置运行配置\r\n# 对应本地预测senta_gru.sentiment_classify(texts=text, batch_size=1, use_gpu=True)\r\ndata = {\"texts\": text, \"batch_size\": 1, \"use_gpu\":False}\r\n\r\n# 指定预测方法为senta_gru并发送post请求，content-type类型应指定json方式\r\n# HOST_IP为服务器IP\r\nurl = \"http://bob.geeekvr.com:8866/predict/senta_gru\"\r\nheaders = {\"Content-Type\": \"application/json\"} \r\nr = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n\r\n# 打印预测结果\r\nprint(json.dumps(r.json(), indent=4, ensure_ascii=False))\r\n\r\n",
        "state": "closed",
        "user": "TWwWT1",
        "closed_by": "haoyuying",
        "created_at": "2020-07-18T07:07:57+00:00",
        "updated_at": "2021-04-14T12:29:11+00:00",
        "closed_at": "2021-04-14T12:29:11+00:00",
        "comments_count": [
            "TWwWT1",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 764,
        "title": "服务端命令行启用报错",
        "body": "版本环境信息：\r\npaddleHub 1.7.1\r\npaddlepaddle-gpu 1.8.2\r\nwin10\r\npython3.7\r\n\r\n报错信息：\r\n(paddle) C:\\Users\\DD\\Pictures> hub run chinese_ocr_db_crnn_server --input_path \"test.png\"\r\nTraceback (most recent call last):\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\DD\\.conda\\envs\\paddle\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\site-packages\\paddlehub\\commands\\hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\site-packages\\paddlehub\\commands\\run.py\", line 242, in execute\r\n    results = self.module.run_func(argv[1:])\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\site-packages\\paddlehub\\module\\module.py\", line 59, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\DD\\.paddlehub\\modules\\chinese_ocr_db_crnn_server\\module.py\", line 392, in run_cmd\r\n    visualization=args.visualization)\r\n  File \"C:\\Users\\DD\\.paddlehub\\modules\\chinese_ocr_db_crnn_server\\module.py\", line 195, in recognize_text\r\n    images=predicted_data, use_gpu=self.use_gpu, box_thresh=box_thresh)\r\n  File \"C:\\Users\\DD\\.paddlehub\\modules\\chinese_text_detection_db_server\\module.py\", line 168, in detect_text\r\n    from chinese_text_detection_db_server.processor import DBPreProcess, DBPostProcess, draw_boxes, get_image_ext\r\n  File \"C:\\Users\\DD\\.paddlehub\\modules\\chinese_text_detection_db_server\\processor.py\", line 9, in <module>\r\n    from shapely.geometry import Polygon\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\site-packages\\shapely\\geometry\\__init__.py\", line 4, in <module>\r\n    from .base import CAP_STYLE, JOIN_STYLE\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\site-packages\\shapely\\geometry\\base.py\", line 18, in <module>\r\n    from shapely.coords import CoordinateSequence\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\site-packages\\shapely\\coords.py\", line 8, in <module>\r\n    from shapely.geos import lgeos\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\site-packages\\shapely\\geos.py\", line 145, in <module>\r\n    _lgeos = CDLL(os.path.join(sys.prefix, 'Library', 'bin', 'geos_c.dll'))\r\n  File \"c:\\users\\dd\\.conda\\envs\\paddle\\lib\\ctypes\\__init__.py\", line 364, in __init__\r\n    self._handle = _dlopen(self._name, mode)\r\nOSError: [WinError 126] 找不到指定的模块。\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "Li-rr",
        "closed_by": "Li-rr",
        "created_at": "2020-07-21T00:35:38+00:00",
        "updated_at": "2020-07-24T04:47:41+00:00",
        "closed_at": "2020-07-24T04:47:41+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Li-rr"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 765,
        "title": "paddlehub serving 如何部署后台服务",
        "body": "使用paddlehub serving 部署后，关闭连接，服务就停止了，如何部署后台服务？",
        "state": "closed",
        "user": "zhuyingjun-zyj",
        "closed_by": "haoyuying",
        "created_at": "2020-07-21T02:26:30+00:00",
        "updated_at": "2021-04-14T12:28:52+00:00",
        "closed_at": "2021-04-14T12:28:52+00:00",
        "comments_count": [
            "ShenYuhan",
            "BobDu",
            "ShenYuhan",
            "BobDu",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 761,
        "title": "无法从服务端正确获取返回json",
        "body": "服务器端：\r\nCentOS 8.1.1911\r\npython ==3.6.8\r\npaddleHub ==1.7.1\r\npaddlepaddle ==1.8.3\r\n\r\n客户端：\r\nWindows10\r\npython==3.7.6\r\n\r\n我用paddlehub 在服务器上的成功部署了pyramidbox_lite_server_mask 口罩识别模型\r\n![1](https://user-images.githubusercontent.com/32789489/87899134-d0735500-ca82-11ea-8391-f65877dcb786.png)\r\n在客户端尝试获取json的时候\r\n![2](https://user-images.githubusercontent.com/32789489/87899216-129c9680-ca83-11ea-9abd-08989d2c23f7.png)\r\n更改访问方式后（增加了headers）\r\n![3](https://user-images.githubusercontent.com/32789489/87899260-3bbd2700-ca83-11ea-805f-555a8f2a858a.png)\r\n仍然无法正常获取返回数据。\r\n这是上级目录，代码目录为MaskDetect\r\n![4](https://user-images.githubusercontent.com/32789489/87899369-8ccd1b00-ca83-11ea-9b39-a7e8d04b9fdc.png)\r\n![5](https://user-images.githubusercontent.com/32789489/87899376-9191cf00-ca83-11ea-90fe-66b15c248c1b.png)\r\n尝试访问后服务器的显示\r\n![6](https://user-images.githubusercontent.com/32789489/87899415-b25a2480-ca83-11ea-83eb-fac67548be05.png)\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "Darkside-king",
        "closed_by": "nepeplwu",
        "created_at": "2020-07-20T04:24:29+00:00",
        "updated_at": "2020-07-24T02:56:41+00:00",
        "closed_at": "2020-07-24T02:56:41+00:00",
        "comments_count": [
            "ShenYuhan",
            "Darkside-king"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 766,
        "title": "图像分类的预训练模型不支持传入top参数",
        "body": "![QQ图片20200721105446](https://user-images.githubusercontent.com/8606965/88007493-ada77600-cb40-11ea-98b9-c8b7c2b3917b.png)\r\n\r\n直接使用预训练模型的话，这个classification方法不支持传入top参数，例如需要返回top5的预测结果和置信度\r\n\r\n同时如果使用hub serving来部署这个预训练模型的话，http接口也是不支持top参数的，最好classification方法和serving的接口都增加一个top参数",
        "state": "closed",
        "user": "zhangmianhongni",
        "closed_by": "haoyuying",
        "created_at": "2020-07-21T02:56:27+00:00",
        "updated_at": "2021-04-14T12:28:35+00:00",
        "closed_at": "2021-04-14T12:28:35+00:00",
        "comments_count": [
            "nepeplwu",
            "zhangmianhongni",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 772,
        "title": "图像分类",
        "body": "您好 尊敬的技术员：\r\n      目前我还没有能获取到图像的特征向量的接口用于计算余玄相似读",
        "state": "closed",
        "user": "j2538318409",
        "closed_by": "haoyuying",
        "created_at": "2020-07-22T06:36:31+00:00",
        "updated_at": "2021-04-14T12:28:21+00:00",
        "closed_at": "2021-04-14T12:28:20+00:00",
        "comments_count": [
            "Steffy-zxf",
            "j2538318409",
            "j2538318409",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 776,
        "title": "finetune后的模型进行predict时候，需要重新实例task，num_classes参数还需要传入dataset？",
        "body": "finetune后的模型进行predict时候，需要重新实例task，num_classes参数还需要传入finetune时候的dataset吗？模型保存的时候不是已经保存了相关的label吗？\r\n\r\n`task = hub.ImageClassifierTask(\r\n                data_reader=reader,\r\n                feature=feature_map,\r\n                feed_list=feed_list,\r\n                num_classes=dataset.num_labels,\r\n                metrics_choices=metrics_choices,\r\n                config=self.config)`",
        "state": "closed",
        "user": "zhangmianhongni",
        "closed_by": "haoyuying",
        "created_at": "2020-07-24T03:55:01+00:00",
        "updated_at": "2021-04-14T12:28:01+00:00",
        "closed_at": "2021-04-14T12:28:01+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 780,
        "title": "建议TextClassifierTask的network增加bilstm+attention的net选项",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n建议TextClassifierTask的network增加bilstm+attention的net选项\r\n- 什么样的场景下需要该特性？\r\nbilstm+attention效果应该比单纯的bilstm好\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n对于新手来说用paddle实现attention有难度，目前网上也几乎搜不到可用的现成代码\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n增加bilstm+attention的net选项\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "onewaymyway",
        "closed_by": "haoyuying",
        "created_at": "2020-07-27T08:58:07+00:00",
        "updated_at": "2021-04-14T12:27:49+00:00",
        "closed_at": "2021-04-14T12:27:49+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 785,
        "title": "能否增加一个基于chinese_ocr_db_crnn 的finetune demo",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n\r\n我想基于chinese_ocr_db_crnn  进行finetune, 没找到比较相近的的demo，是否可提供一个类似的demo?",
        "state": "closed",
        "user": "Sunny-wong",
        "closed_by": "Sunny-wong",
        "created_at": "2020-07-29T08:04:23+00:00",
        "updated_at": "2020-08-17T02:36:50+00:00",
        "closed_at": "2020-08-17T01:48:27+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 781,
        "title": "使用use_gpu=True比use_gpu=False慢",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddlehub 1.7.1，paddlepaddle-gpu 1.8.1.post107\r\n2）系统环境：CentOS7, python 3.7.6, GPU: RTX 2080\r\n\r\n测试pyramidbox_lite_server_mask模型的face_detection API时发现使用use_gpu=True比use_gpu=False慢：以下为单张图片使用face_detection时time.perf_count()的耗时：\r\n\r\n`use_gpu=True`\r\n\r\n> time cost: 4.844235592056066\r\n> time cost: 1.454470616299659\r\n> time cost: 1.3260896857827902\r\n> time cost: 1.425043759867549\r\n> time cost: 1.4381717252545059\r\n> time cost: 1.3000757340341806\r\n> time cost: 1.3987517324276268\r\n> time cost: 1.4077853970229626\r\n> time cost: 1.2869801730848849\r\n> done, time cost: 15.88195555889979\r\n\r\n`use_gpu=False`\r\n\r\n> time cost: 2.0452515189535916\r\n> time cost: 1.7653371165506542\r\n> time cost: 1.388544927816838\r\n> time cost: 1.5212951567955315\r\n> time cost: 1.4754767650738358\r\n> time cost: 1.4352801940403879\r\n> time cost: 1.3712380463257432\r\n> time cost: 1.4844537246972322\r\n> time cost: 1.3216509399935603\r\n> done, time cost: 13.819137034006417\r\n\r\n\r\n使用的模型及版本号：\r\n\r\n> !hub install pyramidbox_lite_server_mask==1.0.0\r\n> !hub install pyramidbox_lite_server==1.1.0\r\n\r\n\r\n\r\n请问这是为什么呢，如何能够更加快速地推理？\r\n",
        "state": "closed",
        "user": "nihuizhidao",
        "closed_by": "nihuizhidao",
        "created_at": "2020-07-28T04:46:57+00:00",
        "updated_at": "2021-06-15T03:40:20+00:00",
        "closed_at": "2020-08-19T14:00:02+00:00",
        "comments_count": [
            "Steffy-zxf",
            "T-baby",
            "nihuizhidao",
            "Steffy-zxf",
            "T-baby",
            "Karenlyw"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 786,
        "title": "请问能不能给一个 自定义迁移任务 的例子。",
        "body": "不知道如何在hub里面进行自定义组网。",
        "state": "closed",
        "user": "wu8320175",
        "closed_by": "haoyuying",
        "created_at": "2020-07-29T08:31:21+00:00",
        "updated_at": "2021-04-14T12:27:33+00:00",
        "closed_at": "2021-04-14T12:27:33+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 788,
        "title": "使用Bert进行迁移学习报错",
        "body": "项目地址在这：https://aistudio.baidu.com/aistudio/projectdetail/661198\r\n为啥会提示少一个梯度裁剪参数？\r\nAttributeError: 'Parameter' object has no attribute 'gradient_clip_attr'\r\n\r\n![image](https://user-images.githubusercontent.com/24267883/88780378-7fb7d680-d1bd-11ea-91d1-21fbe3e6fa02.png)\r\n",
        "state": "closed",
        "user": "wu8320175",
        "closed_by": "haoyuying",
        "created_at": "2020-07-29T09:05:57+00:00",
        "updated_at": "2021-04-14T12:27:12+00:00",
        "closed_at": "2021-04-14T12:27:12+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 787,
        "title": "服务出现假死现象",
        "body": "Paddlehub 1.7 Linux  官方docker 环境 python 3.5.2 \r\n部署的chinese_ocr_db_crnn_mobile 模型，偶尔出现假死现象\r\nkill port 也无法杀掉进程 不对外提供服务，最近发现的一次是在其他服务进行重新部署 有可能打断了正在执行的操作类似于客户端断开连接 ",
        "state": "closed",
        "user": "bikerr",
        "closed_by": "haoyuying",
        "created_at": "2020-07-29T09:03:22+00:00",
        "updated_at": "2023-09-25T07:37:02+00:00",
        "closed_at": "2021-04-14T12:27:23+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ShenYuhan",
            "bikerr",
            "ShenYuhan",
            "haoyuying",
            "736048546"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 789,
        "title": "senta_bilstm 在fine-tune的时候报错",
        "body": "**版本信息：**\r\npaddle.__version__ \r\n'1.8.3'\r\npaddlehub.__version__ \r\n'1.8.0'\r\nwin10\r\n\r\n**在运行PaddleHub/demo/senta/senta_finetune.py时报错**\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: The Tensor in the squeeze2 Op's Input Variable X(seq_len) is not initialized.\r\n  [Hint: Expected t->IsInitialized() == true, but received t->IsInitialized():0 != true:1.] at (D:\\1.8.3\\paddle\\paddle\\fluid\\framework\\operator.cc:1289)\r\n  [operator < squeeze2 > error]\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n**完整报错信息如下：**\r\nE:\\gl\\sf\\envs\\python36\\python.exe E:/Ss_working/Python_workSpace/fastNPLtest/check_pkg.py\r\n[2020-07-31 15:42:20,413] [    INFO] - Installing senta_bilstm module\r\n[2020-07-31 15:42:20,495] [    INFO] - Module senta_bilstm already installed in C:\\Users\\Administrator\\.paddlehub\\modules\\senta_bilstm\r\n[2020-07-31 15:42:23,655] [    INFO] - Dataset C:\\Users\\Administrator\\.paddlehub\\dataset\\chnsenticorp already cached.\r\n[2020-07-31 15:42:23,792] [    INFO] - Dataset label map = {'0': 0, '1': 1}\r\n[2020-07-31 15:42:23,792] [    INFO] - Installing lac module\r\n[2020-07-31 15:42:23,794] [    INFO] - Module lac already installed in C:\\Users\\Administrator\\.paddlehub\\modules\\lac\r\n[2020-07-31 15:42:26,467] [ WARNING] - The parameter use_pyreader has been dropped! PaddleHub over v1.8.0 will use pyreader by default.\r\n[2020-07-31 15:42:26,467] [    INFO] - Checkpoint dir: ckpt_20200731154226\r\n!!! The CPU_NUM is not specified, you should set CPU_NUM in the environment variable list.\r\nCPU_NUM indicates that how many CPUPlace are used in the current task.\r\nAnd if this parameter are set as N (equal to the number of physical CPU core) the program may be faster.\r\n\r\nexport CPU_NUM=8 # for example, set CPU_NUM as number of physical CPU core which is 8.\r\n\r\n!!! The default number of CPU_NUM=1.\r\n[2020-07-31 15:42:26,546] [    INFO] - processing train data now... this may take a few minutes\r\nE:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddle\\fluid\\clip.py:779: UserWarning: Caution! 'set_gradient_clip' is not recommended and may be deprecated in future! We recommend a new strategy: set 'grad_clip' when initializing the 'optimizer'. This method can reduce the mistakes, please refer to documention of 'optimizer'.\r\n  warnings.warn(\"Caution! 'set_gradient_clip' is not recommended \"\r\n[2020-07-31 15:43:01,224] [    INFO] - Strategy with warmup, linear decay, slanted triangle learning rate, weight decay regularization, \r\nE:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddle\\fluid\\executor.py:1093: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\n[2020-07-31 15:43:01,225] [    INFO] - Try loading checkpoint from ckpt_20200731154226\\ckpt.meta\r\n[2020-07-31 15:43:01,225] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-07-31 15:43:01,570] [    INFO] - PaddleHub finetune start\r\nE:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddle\\fluid\\executor.py:1070: UserWarning: The following exception is not an EOF exception.\r\n  \"The following exception is not an EOF exception.\")\r\nTraceback (most recent call last):\r\n  File \"E:/Ss_working/Python_workSpace/fastNPLtest/check_pkg.py\", line 52, in <module>\r\n    cls_task.finetune_and_eval()\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 945, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 966, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 1212, in _run\r\n    return_numpy=self.return_numpy)\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1071, in run\r\n    six.reraise(*sys.exc_info())\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\six.py\", line 703, in reraise\r\n    raise value\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1066, in run\r\n    return_merged=return_merged)\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1154, in _run_impl\r\n    use_program_cache=use_program_cache)\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1229, in _run_program\r\n    fetch_var_name)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\nWindows not support stack backtrace yet.\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\common\\paddle_helper.py\", line 191, in _copy_vars_and_ops_in_blocks\r\n    to_block.append_op(**op_info)\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\common\\paddle_helper.py\", line 299, in clone_program\r\n    dest_program.global_block())\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 413, in _build_env\r\n    self._base_main_program, for_test=False)\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 545, in main_program\r\n    self._build_env()\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 911, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 384, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 960, in finetune\r\n    self.init_if_necessary()\r\n  File \"E:\\gl\\sf\\envs\\python36\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 945, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"E:/Ss_working/Python_workSpace/fastNPLtest/check_pkg.py\", line 52, in <module>\r\n    cls_task.finetune_and_eval()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: The Tensor in the squeeze2 Op's Input Variable X(seq_len) is not initialized.\r\n  [Hint: Expected t->IsInitialized() == true, but received t->IsInitialized():0 != true:1.] at (D:\\1.8.3\\paddle\\paddle\\fluid\\framework\\operator.cc:1289)\r\n  [operator < squeeze2 > error]\r\n\r\nProcess finished with exit code 1\r\n\r\n**此外**\r\nsenta_finetune.py中将feed_list = [inputs[\"words\"].name]改动为feed_list = [inputs[\"text\"].name]\r\n不然报错\r\nTraceback (most recent call last):\r\n  File \"E:/Ss_working/Python_workSpace/fastNPLtest/check_pkg.py\", line 30, in <module>\r\n    feed_list = [inputs[\"words\"].name]\r\nKeyError: 'words'\r\n",
        "state": "closed",
        "user": "wjmzjx",
        "closed_by": "WYB27",
        "created_at": "2020-07-31T07:54:57+00:00",
        "updated_at": "2025-06-30T07:23:54+00:00",
        "closed_at": "2025-06-30T07:23:54+00:00",
        "comments_count": [
            "Steffy-zxf",
            "wjmzjx",
            "Steffy-zxf",
            "wjmzjx",
            "Steffy-zxf",
            "KoalaLiu",
            "KoalaLiu"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 790,
        "title": "paddlehub serving部署后通过client访问，提示Incorrect padding",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddlehub 1.8.0    paddlepaddle-gpu  1.8.2.post107\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\nNAME=\"Ubuntu\"\r\nVERSION=\"19.10 (Eoan Ermine)\"\r\nPython 3.6.10 :: Anaconda, Inc.\r\n\r\n- 问题描述\r\n1) 通过paddleX训练图像分类模型water_recog\r\n2) 通过hub convert命令将模型转换为hubserving模型\r\nhub convert --model_dir ./inference_model/ --module_name water_recog --module_version 1.0 --output_dir hubserving_model\r\n3) 通过hub install命令安装转化好的模型\r\nhub install ./hubserving_model/water_recog.tar.gz\r\n4) 通过hub serving命令启动服务\r\nhub serving start -m water_recog --port 5006 ***以上4部执行过程正确没有任何错误提示。\r\n5) 通过client代码访问服务，python serving_client.py -i test2.jpg -p 5006 -n water_recog.\r\n结果服务端提示:Incorrect padding,\r\n\r\n######服务端错误信息如下:\r\n```bash\r\nsuixf@suixf-MS-7B61 ~/p/P0006-T0007_export_model> hub serving start -m water_recog --port 5006                                              (venvpy36) \r\nwater_recog == 1.0\r\n * Serving Flask app \"paddlehub.serving.app_single\" (lazy loading)\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n2020-07-31 19:00:14,292-INFO:  * Running on http://0.0.0.0:5006/ (Press CTRL+C to quit)\r\n2020-07-31 19:02:46  -  Incorrect padding\r\n2020-07-31 19:02:46,886-INFO: 127.0.0.1 - - [31/Jul/2020 19:02:46] \"POST /predict/water_recog HTTP/1.1\" 200 -\r\n2020-07-31 19:05:33  -  Incorrect padding\r\n2020-07-31 19:05:33,303-INFO: 127.0.0.1 - - [31/Jul/2020 19:05:33] \"POST /predict/water_recog HTTP/1.1\" 200 -\r\n```\r\n\r\n######client代码如下:\r\n```python\r\nimport requests\r\nimport json\r\nimport cv2\r\nimport base64\r\nimport json\r\nimport argparse\r\nimport glob\r\n\r\ndef cv2_to_base64(image):\r\n    data = cv2.imencode('.jpg', image)[1]\r\n    return base64.b64encode(data.tostring()).decode('utf8')\r\nif __name__ == '__main__':\r\n    ap = argparse.ArgumentParser()\r\n    ap.add_argument(\"-i\", \"--image_path\", required=True,\r\n                    help=\"path to input image\")\r\n    ap.add_argument(\"-p\", \"--port\", required=True,\r\n                    help=\"serving port\")\r\n    ap.add_argument(\"-n\", \"--module_name\", required=True,\r\n                    help=\"module_name\")\r\n          \r\n    args = vars(ap.parse_args())\r\n    data_path = args['image_path']\r\n    serving_port = args['port']\r\n    module_name = args['module_name']\r\n    \r\n    // 获取图片的base64编码格式\r\n    img1 = cv2_to_base64(cv2.imread(data_path))\r\n    data = {'images': img1}\r\n    // 指定content-type\r\n    headers = {\"Content-type\": \"application/json\"}\r\n    // 发送HTTP请求\r\n    url = \"http://127.0.0.1:\"+serving_port+\"/predict/\"+module_name\r\n    r = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n\r\n    // 打印预测结果\r\n    print(r.json()[\"results\"])\r\n```\r\n[serving_client.txt](https://github.com/PaddlePaddle/PaddleHub/files/5006726/serving_client.txt)\r\n\r\n\r\n",
        "state": "closed",
        "user": "suixf0415",
        "closed_by": "haoyuying",
        "created_at": "2020-07-31T11:20:45+00:00",
        "updated_at": "2021-04-14T12:26:04+00:00",
        "closed_at": "2021-04-14T12:26:04+00:00",
        "comments_count": [
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 792,
        "title": "部署到服务端的摄像头实时口罩预测报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，\r\nPaddleHub1.7.1，PaddlePaddle1.8.3\r\n2）系统环境：请您描述系统类型，\r\nWindows，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n**目的**：利用一键部署的功能，对摄像头截取的帧直接用post请求r = requests.post(url=url, headers=headers,data=json.dumps(datas))进行预测返回预测结果\r\n具体代码如下（接下来的代码只是对关闭摄像头窗口时候的最后一帧进行预测，不是实时的，只是为了测试能不能对帧预测）\r\ncapture = cv2.VideoCapture(1,cv2.CAP_DSHOW) # 打开摄像头对帧进行读取\r\n#cv2.CAP_DSHOW参数防止关闭摄像头窗口时出现warning。只不过1才是是默认摄像头\r\nwhile(1):\r\n    ret, frame = capture.read() # frame即视频的一帧数据\r\n    if ret == False:\r\n        break\r\n    cv2.imshow('Mask Detection', frame)\r\n    if cv2.waitKey(1) & 0xFF == ord('q'):\r\n        break\r\ncapture.release()\r\ncv2.destroyAllWindows()\r\n#接下来对帧进行预测\r\nheaders = {\"Content-type\": \"applicaion/json\"}\r\ndatas={'images':[cv2_to_base64(frame)]}\r\nurl = \"http://127.0.0.1:8866/predict/pyramidbox_lite_server_mask\"\r\nr = requests.post(url=url, headers=headers,data=json.dumps(datas))\r\nresults=r.json()[\"results\"] #[\"results\"]只是对字典的索引，把检测结果索引出来！！！\r\nprint(results)\r\nprint(json.dumps(r.json(),indent=4,ensure_ascii=False))\r\n\r\n**报错**  \r\n打印出的results为空\r\nprint(json.dumps(r.json(),indent=4,ensure_ascii=False))打印结果如下\r\n{\r\n    \"msg\": \"This usage is out of date, please use 'application/json' as content-type to post to /predict/pyramidbox_lite_server_mask. See 'https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.6/docs/tutorial/serving.md' for more details.\",\r\n    \"results\": \"\",\r\n    \"status\": \"-1\"\r\n}\r\n\r\n而当我把视频帧保存为jpg图片，在对这个图片用和上面同样的方法预测时候一切都是正常的，代码基本不变，下面贴上代码）\r\ncapture = cv2.VideoCapture(1,cv2.CAP_DSHOW) # 打开摄像头对帧进行读取\r\n#cv2.CAP_DSHOW参数防止关闭摄像头窗口时出现warning。只不过1才是是默认摄像头\r\nwhile(1):\r\n    ret, frame = capture.read() # frame即视频的一帧数据\r\n    if ret == False:\r\n        break\r\n    cv2.imshow('Mask Detection', frame)\r\n    if cv2.waitKey(1) & 0xFF == ord('q'):\r\n        break\r\ncapture.release()\r\ncv2.destroyAllWindows()\r\ncv2.imwrite(\"people.png\",frame) #保存帧图片\r\nimgs = cv2.imread(test_img_path[1]) \r\ndatas = {'images':[cv2_to_base64(imgs)]} \r\nheaders = {\"Content-type\": \"application/json\"}\r\nurl = \"http://127.0.0.1:8866/predict/pyramidbox_lite_server_mask\"\r\nr = requests.post(url=url, headers=headers, data=json.dumps(datas))\r\nresults=r.json()[\"results\"] #[\"results\"]只是对字典的索引，把检测结果索引出来！！！\r\nprint(results)\r\nprint(json.dumps(r.json(),indent=4,ensure_ascii=False))\r\n\r\n**打印结果**（正常的结果）\r\n[{'data': [{'bottom': 450, 'confidence': 0.9915214776992798, 'label': 'NO MASK', 'left': 264, 'right': 424, 'top': 244}], 'path': 'ndarray_time=1596258579876741.0'}]\r\n\r\n{\r\n    \"msg\": \"\",\r\n    \"results\": [\r\n        {\r\n            \"data\": [\r\n                {\r\n                    \"bottom\": 438,\r\n                    \"confidence\": 0.9628458023071289,\r\n                    \"label\": \"NO MASK\",\r\n                    \"left\": 255,\r\n                    \"right\": 418,\r\n                    \"top\": 240\r\n                }\r\n            ],\r\n            \"path\": \"ndarray_time=1596258558673255.0\"\r\n        }\r\n    ],\r\n    \"status\": \"0\"\r\n}\r\n\r\n为何同样是视频帧，为何对帧直接进行预测就会出错，而保存帧为图片时再预测就不会出错。那我如果需要利用部署服务器实时口罩检测的话，我还需要把每一帧都保存下来么。求大佬指点一下谢啦！\r\n\r\n好像解答区也有实时监测的demo，可是那个是本地预测的，不是利用部署到服务器端进行预测的。\r\n我是想最后放到树莓派来进行口罩预测（上述还是在windows下运行的），或许大佬还有其他方法吗，不用部署服务器的方式也能在树莓派上预测~ 麻烦提供下思路谢谢~\r\n\r\n\r\n",
        "state": "closed",
        "user": "Linus-Voss",
        "closed_by": "haoyuying",
        "created_at": "2020-08-01T05:19:53+00:00",
        "updated_at": "2021-04-14T12:20:23+00:00",
        "closed_at": "2021-04-14T12:20:23+00:00",
        "comments_count": [
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 793,
        "title": "口罩预测模型如何在树莓派上运行（python）",
        "body": "请问通过paddle lite，将口罩检测模型部署到树莓派4b有python的demo吗，网上找到了c++的但是没有Python的呢，请问可不可以提供一下呀",
        "state": "closed",
        "user": "Linus-Voss",
        "closed_by": "haoyuying",
        "created_at": "2020-08-01T06:21:35+00:00",
        "updated_at": "2021-04-14T12:20:11+00:00",
        "closed_at": "2021-04-14T12:20:10+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ZeyuChen",
            "haoyuying"
        ],
        "labels": [
            "deployment"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 794,
        "title": "请求添加albert模型？",
        "body": ".",
        "state": "closed",
        "user": "ghost",
        "closed_by": null,
        "created_at": "2020-08-01T14:30:24+00:00",
        "updated_at": "2020-10-06T14:34:44+00:00",
        "closed_at": "2020-10-06T14:34:44+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ghost"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 795,
        "title": "当metrics_choices=[\"f1\"]时报错。",
        "body": "paddle and paddlehub are v1.8.\r\n\r\nTraceback (most recent call last):\r\n  File \"train.py\", line 70, in <module>\r\n    cls_task.finetune_and_eval()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 945, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 966, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1224, in _run\r\n    self._log_interval_event(period_run_states)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 708, in hook_function\r\n    func(*args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 851, in _default_log_interval_event\r\n    step=self._envs['train'].current_step)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/visualdl/writer/writer.py\", line 135, in add_scalar\r\n    scalar(tag=tag, value=value, step=step, walltime=walltime))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/visualdl/component/base_component.py\", line 33, in scalar\r\n    value = float(value)\r\nTypeError: float() argument must be a string or a number, not 'tuple'",
        "state": "closed",
        "user": "ghost",
        "closed_by": "nepeplwu",
        "created_at": "2020-08-01T16:00:45+00:00",
        "updated_at": "2020-08-03T06:13:47+00:00",
        "closed_at": "2020-08-03T06:13:47+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ghost",
            "Steffy-zxf",
            "ghost",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 796,
        "title": "jetson nano 上无法使用Paddlehub,是否可以提供编译安装。或者如何让Paddlehub可以在jetson nano 上跑起来呢？谢谢！",
        "body": "pip install paddlehub\r\nDefaulting to user installation because normal site-packages is not writeable\r\nLooking in indexes: https://pypi.tuna.tsinghua.edu.cn/simple\r\nCollecting paddlehub\r\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/a4/f2/b8f125d3ba75550572b612e90dff89ee928003ed7fb689025e21d61f2fde/paddlehub-1.8.0-py3-none-any.whl (336 kB)\r\n     |████████████████████████████████| 336 kB 4.1 MB/s \r\nCollecting yapf==0.26.0\r\n  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/f7/b6/266774a11dc81539dcf3b5117cd7a3c1c2b11a47853940b7f0803cf389b2/yapf-0.26.0-py2.py3-none-any.whl (176 kB)\r\nRequirement already satisfied: nltk in /home/zzjno/.local/lib/python3.6/site-packages (from paddlehub) (3.5)\r\nRequirement already satisfied: colorlog in /home/zzjno/.local/lib/python3.6/site-packages (from paddlehub) (4.2.1)\r\nRequirement already satisfied: pandas; python_version >= \"3\" in /home/zzjno/.local/lib/python3.6/site-packages (from paddlehub) (1.1.0)\r\nWARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError(\"HTTPSConnectionPool(host='pypi.tuna.tsinghua.edu.cn', port=443): Read timed out. (read timeout=15)\",)': /simple/gunicorn/\r\nCollecting gunicorn>=19.10.0; sys_platform != \"win32\"\r\n  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/69/ca/926f7cd3a2014b16870086b2d0fdc84a9e49473c68a8dff8b57f7c156f43/gunicorn-20.0.4-py2.py3-none-any.whl (77 kB)\r\nCollecting cma>=2.7.0\r\n  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/36/c0/0a1c41f7cad0a51e07991cf86423d0e6651d035f1fe7dcff48e8858848f2/cma-3.0.3-py2.py3-none-any.whl (230 kB)\r\nCollecting visualdl>=2.0.0b\r\n  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/9f/51/9b6d7b7a91f517172f3bb38c04d0412c0b3048657eb77720026dd2376e57/visualdl-2.0.0b8-py3-none-any.whl (3.0 MB)\r\nCollecting flake8\r\n  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/6c/20/6326a9a0c6f0527612bae748c4c03df5cd69cf06dfb2cf59d85c6e165a6a/flake8-3.8.3-py2.py3-none-any.whl (72 kB)\r\nCollecting pre-commit\r\n  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/04/f0/84f3ac2978fa32096585a8ad3c695e7555a28e60e71064d8648f1adb2f92/pre_commit-2.6.0-py2.py3-none-any.whl (171 kB)\r\nCollecting flask>=1.1.0\r\n  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/f2/28/2a03252dfb9ebf377f40fba6a7841b47083260bf8bd8e737b0c6952df83f/Flask-1.1.2-py2.py3-none-any.whl (94 kB)\r\nCollecting sentencepiece\r\n  Using cached https://pypi.tuna.tsinghua.edu.cn/packages/18/f3/2f9006ce3bd44dd4a198dfee37eb5f5bdddcf5f5880c35812c646a92cfa3/sentencepiece-0.1.92.tar.gz (497 kB)\r\nRequirement already satisfied: six>=1.10.0 in /usr/lib/python3/dist-packages (from paddlehub) (1.11.0)\r\nRequirement already satisfied: protobuf>=3.6.0 in /home/zzjno/.local/lib/python3.6/site-packages (from paddlehub) (3.12.4)\r\nRequirement already satisfied: tqdm in /home/zzjno/.local/lib/python3.6/site-packages (from paddlehub) (4.48.0)\r\nRequirement already satisfied: joblib in /home/zzjno/.local/lib/python3.6/site-packages (from nltk->paddlehub) (0.16.0)\r\nRequirement already satisfied: click in /home/zzjno/.local/lib/python3.6/site-packages (from nltk->paddlehub) (7.1.2)\r\nRequirement already satisfied: regex in /home/zzjno/.local/lib/python3.6/site-packages (from nltk->paddlehub) (2020.7.14)\r\nRequirement already satisfied: pytz>=2017.2 in /usr/lib/python3/dist-packages (from pandas; python_version >= \"3\"->paddlehub) (2018.3)\r\nRequirement already satisfied: python-dateutil>=2.7.3 in /home/zzjno/.local/lib/python3.6/site-packages (from pandas; python_version >= \"3\"->paddlehub) (2.8.1)\r\nRequirement already satisfied: numpy>=1.15.4 in /home/zzjno/.local/lib/python3.6/site-packages (from pandas; python_version >= \"3\"->paddlehub) (1.19.1)\r\nRequirement already satisfied: setuptools>=3.0 in /usr/lib/python3/dist-packages (from gunicorn>=19.10.0; sys_platform != \"win32\"->paddlehub) (39.0.1)\r\nRequirement already satisfied: Pillow>=7.0.0 in /home/zzjno/.local/lib/python3.6/site-packages (from visualdl>=2.0.0b->paddlehub) (7.2.0)\r\nCollecting Flask-Babel>=1.0.0\r\n  Downloading https://pypi.tuna.tsinghua.edu.cn/packages/76/a4/0115c7c520125853037fc1d6b3da132a526949640e27a699a13e05ec7593/Flask_Babel-1.0.0-py3-none-any.whl (9.5 kB)\r\nERROR: Could not find a version that satisfies the requirement opencv-python (from visualdl>=2.0.0b->paddlehub) (from versions: none)\r\nERROR: No matching distribution found for opencv-python (from visualdl>=2.0.0b->paddlehub)\r\n",
        "state": "closed",
        "user": "zhihonglujon",
        "closed_by": "haoyuying",
        "created_at": "2020-08-02T09:33:52+00:00",
        "updated_at": "2021-04-14T12:19:55+00:00",
        "closed_at": "2021-04-14T12:19:55+00:00",
        "comments_count": [
            "Steffy-zxf",
            "zhihonglujon",
            "zhihonglujon",
            "Steffy-zxf",
            "zhihonglujon",
            "Steffy-zxf",
            "zhihonglujon",
            "zhihonglujon",
            "nepeplwu",
            "nepeplwu",
            "zhihonglujon",
            "ZeyuChen",
            "zhihonglujon",
            "Steffy-zxf",
            "zhihonglujon",
            "Steffy-zxf",
            "zhihonglujon",
            "zhihonglujon",
            "Steffy-zxf",
            "zhihonglujon",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "deployment"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 797,
        "title": "paddlehub多标签分类报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\npaddlehub多标签分类在aistudio上运行报错：\r\n源码地址：https://github.com/PaddlePaddle/PaddleHub/tree/release/v1.1.0/demo/multi-label-classification\r\n运行到这一段：\r\n`cls_task = hub.MultiLabelClassifierTask(\r\n    data_reader=reader,\r\n    feature=pooled_output,\r\n    feed_list=feed_list,\r\n    num_classes=dataset.num_labels,\r\n    config=config)`\r\n\r\n报错信息：\r\nt)<ipython-input-7-b12addb38010> in <module>\r\n     15     feed_list=feed_list,\r\n     16     num_classes=dataset.num_labels,\r\n---> 17     config=config)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py in __init__(self, feature, num_classes, feed_list, data_reader, startup_program, config, hidden_units, metrics_choices)\r\n    229             config=config,\r\n    230             hidden_units=hidden_units,\r\n--> 231             metrics_choices=metrics_choices)\r\n    232         self.class_name = list(data_reader.label_map.keys())\r\n    233 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py in __init__(self, feature, num_classes, feed_list, data_reader, startup_program, config, hidden_units, metrics_choices)\r\n     47             startup_program=startup_program,\r\n     48             config=config,\r\n---> 49             metrics_choices=metrics_choices)\r\n     50 \r\n     51         self.feature = feature\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in __init__(self, feed_list, data_reader, main_program, startup_program, config, metrics_choices)\r\n    296         else:\r\n    297             self._base_main_program = clone_program(\r\n--> 298                 main_program, for_test=False)\r\n    299         if startup_program is None:\r\n    300             self._base_startup_program = clone_program(\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in clone_program(origin_program, for_test)\r\n    272     dest_program = fluid.Program()\r\n    273     _copy_vars_and_ops_in_blocks(origin_program.global_block(),\r\n--> 274                                  dest_program.global_block())\r\n    275     dest_program = dest_program.clone(for_test=for_test)\r\n    276     if not for_test:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in _copy_vars_and_ops_in_blocks(from_block, to_block)\r\n    145     for var in from_block.vars:\r\n    146         var = from_block.var(var)\r\n--> 147         var_info = copy.deepcopy(get_variable_info(var))\r\n    148         if isinstance(var, fluid.framework.Parameter):\r\n    149             to_block.create_parameter(**var_info)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in get_variable_info(var)\r\n     63         var_info['optimize_attr'] = var.optimize_attr\r\n     64         var_info['regularizer'] = var.regularizer\r\n---> 65         var_info['gradient_clip_attr'] = var.gradient_clip_attr\r\n     66         var_info['do_model_average'] = var.do_model_average\r\n     67     else:\r\nAttributeError: 'Parameter' object has no attribute 'gradient_clip_attr'",
        "state": "closed",
        "user": "good18",
        "closed_by": "haoyuying",
        "created_at": "2020-08-02T19:07:12+00:00",
        "updated_at": "2021-04-14T12:19:35+00:00",
        "closed_at": "2021-04-14T12:19:35+00:00",
        "comments_count": [
            "Steffy-zxf",
            "good18",
            "Steffy-zxf",
            "good18",
            "Steffy-zxf",
            "good18",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 800,
        "title": "服务端部署成功，客户端请求出错（树莓派）",
        "body": "服务器端 ：\r\nwindows10\r\n\r\n客户端 ：\r\n树莓派4b\r\n32bit\r\narmv7\r\n\r\n我在windows10上成功部署了\r\n![image](https://user-images.githubusercontent.com/59388845/89178800-06efba80-d5c1-11ea-8632-4b6c95674321.png)\r\n然后我在windows10上，在.py文件中通过客户端请求的方式，得到预测结果（一切正常，客户端请求也正常，返回结果也正常）\r\n# datas = {'images':[cv2_to_base64(frame)],\"visualization\":True,\"output_dir\":\"result\"} \r\n# headers = {\"Content-type\": \"application/json\"}\r\n# url = \"http://127.0.0.1:8866/predict/pyramidbox_lite_server_mask\"\r\n# r = requests.post(url=url, headers=headers, data=json.dumps(datas))\r\n但是，当我把同样的.py文件在树莓派上跑的时候，却返回这样的错误\r\nConnectionError: HTTPConnectionPool(host='127.0.0.1', port=8866): Max retries exceeded with url: /predict/pyramidbox_lite_server_mask (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0xa038a4f0>: Failed to establish a new connection: [Errno 111] Connection refused',))\r\n树莓派连上网了，和windows连的是同一个wifi。\r\n\r\n请问这是什么原因呢\r\n",
        "state": "closed",
        "user": "Linus-Voss",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-08-03T11:45:15+00:00",
        "updated_at": "2020-08-06T07:23:52+00:00",
        "closed_at": "2020-08-06T07:23:52+00:00",
        "comments_count": [
            "ShenYuhan",
            "Linus-Voss",
            "Linus-Voss",
            "Steffy-zxf"
        ],
        "labels": [
            "help wanted",
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 801,
        "title": "RuntimeWarning: invalid value encountered in true_divide",
        "body": "![image](https://user-images.githubusercontent.com/57654726/89264221-28a27d80-d665-11ea-9bdf-912771f45d7d.png)\r\n部分图片遇到这问题，导致消耗大量内存和时间，",
        "state": "closed",
        "user": "xialei2821212670",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-08-04T07:15:04+00:00",
        "updated_at": "2020-08-18T09:06:43+00:00",
        "closed_at": "2020-08-18T09:06:43+00:00",
        "comments_count": [
            "Steffy-zxf",
            "xialei2821212670",
            "Steffy-zxf",
            "xialei2821212670",
            "Steffy-zxf"
        ],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 803,
        "title": "GPU使用报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n\r\n> paddlehub                          1.7.1              \r\n> paddlepaddle-gpu                   1.8.1.post107  \r\n> CentOS7, cuda 10.0, pyramidbox_lite_server=1.2.0\r\n\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n> Process Process-3:\r\n> Traceback (most recent call last):\r\n>   File \"/home/scc/anaconda3/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\r\n>     self.run()\r\n>   File \"/home/scc/anaconda3/lib/python3.7/multiprocessing/process.py\", line 99, in run\r\n>     self._target(*self._args, **self._kwargs)\r\n>   File \"/home/scc/Projects/AIDetectionProjects/facenet/get_infer_result_facenet.py\", line 127, in infer_process\r\n>     face_detector = hub.Module(name=\"pyramidbox_lite_server\")\r\n>   File \"/home/scc/anaconda3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n>     name=name, version=version, **kwargs)\r\n>   File \"/home/scc/anaconda3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n>     return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n>   File \"/home/scc/anaconda3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 200, in init_with_directory\r\n>     user_module = _item(directory=directory, **kwargs)\r\n>   File \"/home/scc/anaconda3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 146, in __init__\r\n>     self._initialize(**kwargs)\r\n>   File \"/home/scc/.paddlehub/modules/pyramidbox_lite_server/module.py\", line 30, in _initialize\r\n>     self._set_config()\r\n>   File \"/home/scc/.paddlehub/modules/pyramidbox_lite_server/module.py\", line 53, in _set_config\r\n>     self.gpu_predictor = create_paddle_predictor(gpu_config)\r\n> paddle.fluid.core_avx.EnforceNotMet: \r\n> \r\n> --------------------------------------------\r\n> C++ Call Stacks (More useful to developers):\r\n> --------------------------------------------\r\n> 0   std::string paddle::platform::GetTraceBackString<char const*>(char const*&&, char const*, int)\r\n> 1   paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int)\r\n> 2   paddle::platform::SetDeviceId(int)\r\n> 3   paddle::AnalysisConfig::fraction_of_gpu_memory_for_pool() const\r\n> 4   std::unique_ptr<paddle::PaddlePredictor, std::default_delete<paddle::PaddlePredictor> > paddle::CreatePaddlePredictor<paddle::AnalysisConfig, (paddle::PaddleEngineKind)2>(paddle::AnalysisConfig const&)\r\n> 5   std::unique_ptr<paddle::PaddlePredictor, std::default_delete<paddle::PaddlePredictor> > paddle::CreatePaddlePredictor<paddle::AnalysisConfig>(paddle::AnalysisConfig const&)\r\n> \r\n> ----------------------\r\n> Error Message Summary:\r\n> ----------------------\r\n> ExternalError:  Cuda error(3), initialization error.\r\n>   [Advise: The API call failed because the CUDA driver and runtime could not be initialized. ] at (/paddle/paddle/fluid/platform/gpu_info.cc:212)\r\n> \r\n> Process Process-2:\r\n> Traceback (most recent call last):\r\n>   File \"/home/scc/anaconda3/lib/python3.7/multiprocessing/managers.py\", line 811, in _callmethod\r\n>     conn = self._tls.connection\r\n> AttributeError: 'ForkAwareLocal' object has no attribute 'connection'\r\n> \r\n> During handling of the above exception, another exception occurred:\r\n> \r\n> Traceback (most recent call last):\r\n>   File \"/home/scc/anaconda3/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\r\n>     self.run()\r\n>   File \"/home/scc/anaconda3/lib/python3.7/multiprocessing/process.py\", line 99, in run\r\n>     self._target(*self._args, **self._kwargs)\r\n>   File \"/home/scc/Projects/AIDetectionProjects/facenet/get_infer_result_facenet.py\", line 115, in buffering_process\r\n>     stack.append(img[y_start: y_end, x_start: x_end])\r\n>   File \"<string>\", line 2, in append\r\n>   File \"/home/scc/anaconda3/lib/python3.7/multiprocessing/managers.py\", line 815, in _callmethod\r\n>     self._connect()\r\n>   File \"/home/scc/anaconda3/lib/python3.7/multiprocessing/managers.py\", line 802, in _connect\r\n>     conn = self._Client(self._token.address, authkey=self._authkey)\r\n>   File \"/home/scc/anaconda3/lib/python3.7/multiprocessing/connection.py\", line 492, in Client\r\n>     c = SocketClient(address)\r\n>   File \"/home/scc/anaconda3/lib/python3.7/multiprocessing/connection.py\", line 619, in SocketClient\r\n>     s.connect(address)\r\n> FileNotFoundError: [Errno 2] No such file or directory\r\n\r\n\r\n我使用的是多线程，paddlehub的调用和创建都在同一个线程里，另外，同一个线程里我还调用了一个TF的模型，也是使用GPU，但是我看了\r\n\r\n> .paddlehub/modules/pyramidbox_lite_server/module.py\r\n\r\n种指定GPU只用1000M，所以我的GPU内存应该还是够的，不知道这个错误是什么原因导致的？\r\n\r\n有点着急，谢谢！",
        "state": "closed",
        "user": "nihuizhidao",
        "closed_by": "nihuizhidao",
        "created_at": "2020-08-04T10:44:20+00:00",
        "updated_at": "2021-03-31T01:51:05+00:00",
        "closed_at": "2020-08-04T14:01:37+00:00",
        "comments_count": [
            "nihuizhidao",
            "Steffy-zxf",
            "nihuizhidao",
            "Steffy-zxf"
        ],
        "labels": [
            "deployment"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 807,
        "title": "增加多分类F1 Score等评估指标",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n\r\n在做图像多分类任务的时候，能否增加F1 score的评估指标？\r\n间接满足需要写ImageClassifierTask 的继承类，重写_add_metrics()方法，但是没看到paddle有计算多分类任务F1score的实现。\r\n",
        "state": "closed",
        "user": "haixiao990",
        "closed_by": "haixiao990",
        "created_at": "2020-08-06T02:22:13+00:00",
        "updated_at": "2020-08-07T03:21:26+00:00",
        "closed_at": "2020-08-06T08:31:24+00:00",
        "comments_count": [
            "haixiao990",
            "haoyuying",
            "haixiao990",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 809,
        "title": "GPU训练模型，在GPU服务器上预测的结果与在本地不带GPU预测的结果相差较大",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\npaddlepaddle:1.7.0\r\npaddlehub:1.6.2\r\nernie:训练时未指定版本，但服务器是本地考上去的，所以确定两边用的是同一版本\r\n\r\n代码是一致的",
        "state": "closed",
        "user": "Sherry666666",
        "closed_by": "haoyuying",
        "created_at": "2020-08-06T07:52:26+00:00",
        "updated_at": "2021-04-14T12:18:49+00:00",
        "closed_at": "2021-04-14T12:18:49+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 812,
        "title": "口罩预测模型如何判断是否检测到人脸",
        "body": "请问口罩预测模型，如果是将模型部署到服务器上，通过客户端请求的方式获取检测结果，\r\n那么如何能获得人脸的检测结果呢（即是否检测到人脸），好像官网的教程只提供了是否佩戴口罩的检测，不知道人脸检测在客户端是如何调用的呢。（口罩检测模型里面应该有包含人脸检测模型吧，请问接口是啥呀）",
        "state": "closed",
        "user": "Linus-Voss",
        "closed_by": "haoyuying",
        "created_at": "2020-08-07T13:11:50+00:00",
        "updated_at": "2021-04-14T12:18:16+00:00",
        "closed_at": "2021-04-14T12:18:16+00:00",
        "comments_count": [
            "Linus-Voss",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 810,
        "title": "自定义分类迁移任务中的loss和类别权重",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n\r\n做分类任务时因为样本不均衡问题，想要选择不同的 loss，自定义类别权重或者样本权重，不知道有没有好的方式实现。\r\n\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n\r\n现在好像只能通过继承ClassifierTask，自组网实现。\r\n\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n\r\n后续希望可以通过参数配置的方式实现一些常用Loss的选择。\r\n\r\n\r\n",
        "state": "closed",
        "user": "haixiao990",
        "closed_by": "haoyuying",
        "created_at": "2020-08-07T04:26:01+00:00",
        "updated_at": "2021-04-14T12:18:34+00:00",
        "closed_at": "2021-04-14T12:18:34+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haixiao990",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 813,
        "title": "安装paddlehub报错",
        "body": "- PaddlePaddle = 1.7.2 python 3.7.5\r\n- 系统环境：\r\n![sys](https://user-images.githubusercontent.com/20811685/89727789-6edb5080-da5a-11ea-8434-407788b99a2e.png)\r\n- 报错：\r\n![debug](https://user-images.githubusercontent.com/20811685/89727783-671bac00-da5a-11ea-99d8-6d0267a73187.png)\r\n",
        "state": "closed",
        "user": "ARDUJS",
        "closed_by": "haoyuying",
        "created_at": "2020-08-09T08:09:43+00:00",
        "updated_at": "2022-08-02T09:04:20+00:00",
        "closed_at": "2021-04-14T12:17:56+00:00",
        "comments_count": [
            "kinghuin",
            "kinghuin",
            "malamasn",
            "haoyuying",
            "sinisarudan"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 816,
        "title": "关于模型一键部署服务",
        "body": "我想知道PaddleHub Serving 一键部署服务现在支持部署 **开发者使用PaddleHub Fine-tune API得到的模型**了吗？\r\n",
        "state": "closed",
        "user": "iceriver97",
        "closed_by": "iceriver97",
        "created_at": "2020-08-12T06:40:31+00:00",
        "updated_at": "2020-09-07T00:32:20+00:00",
        "closed_at": "2020-09-07T00:32:20+00:00",
        "comments_count": [
            "iceriver97",
            "iceriver97",
            "Steffy-zxf",
            "iceriver97",
            "iceriver97",
            "iceriver97",
            "Steffy-zxf",
            "iceriver97",
            "Steffy-zxf",
            "iceriver97",
            "Steffy-zxf",
            "iceriver97",
            "ShenYuhan"
        ],
        "labels": [
            "finetuned model serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 818,
        "title": "word2vec_skipgram",
        "body": "\r\n![image](https://user-images.githubusercontent.com/57654726/90028875-ca247180-dcec-11ea-9dce-1ce68fdd1256.png)\r\n这边是传啥\r\n",
        "state": "closed",
        "user": "xialei2821212670",
        "closed_by": "WYB27",
        "created_at": "2020-08-12T14:40:36+00:00",
        "updated_at": "2025-06-30T07:23:52+00:00",
        "closed_at": "2025-06-30T07:23:52+00:00",
        "comments_count": [
            "Steffy-zxf",
            "xialei2821212670",
            "Steffy-zxf",
            "xialei2821212670",
            "Steffy-zxf",
            "xialei2821212670",
            "Steffy-zxf",
            "T-baby",
            "T-baby",
            "Steffy-zxf",
            "T-baby",
            "T-baby",
            "T-baby",
            "Steffy-zxf",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "Steffy-zxf",
            "748572179"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 820,
        "title": "hub一直报需要设置header为application/json. postmax也提交也报错",
        "body": "启动后首先尝试使用java访问API\r\n`HttpRequest httpRequest = HttpRequest.post(url).form(prams).contentType(\"application/json\");\r\n        HttpResponse httpResponse = httpRequest.execute();`\r\n提示 ：{\"msg\":\"This usage is out of date, please use 'application/json' as content-type to post to /predict/senta_lstm. See 'https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.6/docs/tutorial/serving.md' for more details.\",\"results\":\"\",\"status\":\"-1\"}\r\n已经确认把content-type设置成application/json，参数from表单提交跟body体提交都已经尝试，还是不行。\r\n然后使用postman进行提交，还是同样的提示错误",
        "state": "closed",
        "user": "Simba9980",
        "closed_by": "Simba9980",
        "created_at": "2020-08-14T08:35:05+00:00",
        "updated_at": "2021-01-12T15:38:51+00:00",
        "closed_at": "2020-08-14T09:20:30+00:00",
        "comments_count": [
            "Simba9980",
            "ChenMiya",
            "yangy996",
            "jusk9527"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 823,
        "title": "能否在日志输出上显示epoch的轮次？",
        "body": "现有日志输出：\r\n[2020-08-16 12:50:06,106] [   TRAIN] - step 10 / 231: loss=0.82945 f1=0.37425 [step/sec: 4.88]\r\n[2020-08-16 12:50:08,067] [   TRAIN] - step 20 / 231: loss=0.51294 f1=0.04651 [step/sec: 5.10]\r\n能否在日志输出上显示epoch的轮次？步数有时不太直观。\r\n另外怎么控制显示一次日志输出的步数，现在好像是每10步？",
        "state": "closed",
        "user": "ghost",
        "closed_by": null,
        "created_at": "2020-08-16T04:59:49+00:00",
        "updated_at": "2020-08-17T14:02:56+00:00",
        "closed_at": "2020-08-17T14:02:56+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ghost",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 822,
        "title": "PaddleHub 能启动但不能下载模型是什么意思？",
        "body": "没法下载安装模型\r\nD:\\Programs\\PaddleOCR>hub install chinese_ocr_db_crnn_mobile\r\nCan't find module chinese_ocr_db_crnn_mobile, please check your spelling.\r\n\r\n但下面这个识图可以装成功~\r\nhub install deploy\\hubserving\\ocr_system\\\r\n\r\n是哪里的问题？",
        "state": "closed",
        "user": "nn3126",
        "closed_by": "nn3126",
        "created_at": "2020-08-14T14:42:25+00:00",
        "updated_at": "2020-08-17T09:14:55+00:00",
        "closed_at": "2020-08-17T09:14:55+00:00",
        "comments_count": [
            "Steffy-zxf",
            "nn3126"
        ],
        "labels": [
            "deployment"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 825,
        "title": " PaddleCheckError",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n在Aistudio上面，paddlehub版本为1.6 然后安装的1.6.2   paddle版本为1.6\r\n使用paadlehub的resnet_v2_50_imagenet模型进行finetune 做二分类任务，图片类型是bmp格式的。\r\n前面步骤都没有问题，最后在执行run_states = task.finetune_and_eval()的时候报PaddleCheckError\r\n报错如下：\r\n\r\nPaddleCheckError: Tensor holds the wrong type, it holds float, but desires to be int64_t at [/paddle/paddle/fluid/framework/tensor_impl.h:30] [operator < cross_entropy2 > error]\r\n\r\n但是并不知道在哪里更改类型",
        "state": "closed",
        "user": "yinyiyu",
        "closed_by": "haoyuying",
        "created_at": "2020-08-18T05:48:50+00:00",
        "updated_at": "2021-04-14T12:16:53+00:00",
        "closed_at": "2021-04-14T12:16:53+00:00",
        "comments_count": [
            "Steffy-zxf",
            "yinyiyu",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 826,
        "title": "下载hub模型失败",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，\r\npaddlepaddle=1.8.1\r\npaddlehub=1.8.1\r\n例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nlinux ubuntu18\r\n python=3.6\r\n\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"ernie\")\r\n安装的时候无法下载模型\r\n module = hub.Module(name=\"ernie\")\r\n  File \"/home/liujiefei/tensorflow20/tf20/local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/home/liujiefei/tensorflow20/tf20/local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 174, in init_with_name\r\n    raise RuntimeError(tips)\r\nRuntimeError: Request Hub-Server unsuccessfully, please check your network.\r\n \r\n![1597733239(1)](https://user-images.githubusercontent.com/13331671/90479787-cddb4c80-e161-11ea-8948-cc907f6aba19.jpg)\r\n",
        "state": "closed",
        "user": "ares5221",
        "closed_by": "haoyuying",
        "created_at": "2020-08-18T06:48:19+00:00",
        "updated_at": "2021-04-14T12:16:39+00:00",
        "closed_at": "2021-04-14T12:16:39+00:00",
        "comments_count": [
            "Steffy-zxf",
            "ares5221",
            "ShenYuhan",
            "ares5221",
            "ShenYuhan",
            "ares5221",
            "ShenYuhan",
            "ares5221",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 828,
        "title": "paddlehub pip安装成功，但是paddlehub依赖的paddle却没有进行自动安装，requirements.txt缺paddle啊",
        "body": "D:\\anaconda3\\Scripts>pip install --upgrade paddlehub\r\nRequirement already up-to-date: paddlehub in d:\\anaconda3\\lib\\site-packages (1.8.1)\r\nRequirement already satisfied, skipping upgrade: flake8 in d:\\anaconda3\\lib\\site-packages (from paddlehub) (3.8.3)\r\nRequirement already satisfied, skipping upgrade: yapf==0.26.0 in d:\\anaconda3\\lib\\site-packages (from paddlehub) (0.26.0)\r\nRequirement already satisfied, skipping upgrade: sentencepiece in d:\\anaconda3\\lib\\site-packages (from paddlehub) (0.1.91)\r\nRequirement already satisfied, skipping upgrade: pre-commit in d:\\anaconda3\\lib\\site-packages (from paddlehub) (2.6.0)\r\nRequirement already satisfied, skipping upgrade: colorlog in d:\\anaconda3\\lib\\site-packages (from paddlehub) (4.2.1)\r\nRequirement already satisfied, skipping upgrade: nltk in d:\\anaconda3\\lib\\site-packages (from paddlehub) (3.4)\r\nRequirement already satisfied, skipping upgrade: six>=1.10.0 in d:\\anaconda3\\lib\\site-packages (from paddlehub) (1.12.0)\r\nRequirement already satisfied, skipping upgrade: pandas; python_version >= \"3\" in d:\\anaconda3\\lib\\site-packages (from paddlehub) (0.24.2)\r\nRequirement already satisfied, skipping upgrade: visualdl>=2.0.0b in d:\\anaconda3\\lib\\site-packages (from paddlehub) (2.0.0)\r\nRequirement already satisfied, skipping upgrade: flask>=1.1.0 in d:\\anaconda3\\lib\\site-packages (from paddlehub) (1.1.2)\r\nRequirement already satisfied, skipping upgrade: tqdm in d:\\anaconda3\\lib\\site-packages (from paddlehub) (4.31.1)\r\nRequirement already satisfied, skipping upgrade: protobuf>=3.6.0 in d:\\anaconda3\\lib\\site-packages (from paddlehub) (3.8.0)\r\nRequirement already satisfied, skipping upgrade: cma>=2.7.0 in d:\\anaconda3\\lib\\site-packages (from paddlehub) (3.0.3)\r\nRequirement already satisfied, skipping upgrade: pyflakes<2.3.0,>=2.2.0 in d:\\anaconda3\\lib\\site-packages (from flake8->paddlehub) (2.2.0)\r\nRequirement already satisfied, skipping upgrade: importlib-metadata; python_version < \"3.8\" in d:\\anaconda3\\lib\\site-packages (from flake8->paddlehub) (1.7.0)\r\nRequirement already satisfied, skipping upgrade: pycodestyle<2.7.0,>=2.6.0a1 in d:\\anaconda3\\lib\\site-packages (from flake8->paddlehub) (2.6.0)\r\nRequirement already satisfied, skipping upgrade: mccabe<0.7.0,>=0.6.0 in d:\\anaconda3\\lib\\site-packages (from flake8->paddlehub) (0.6.1)\r\nRequirement already satisfied, skipping upgrade: pyyaml>=5.1 in d:\\anaconda3\\lib\\site-packages (from pre-commit->paddlehub) (5.1)\r\nRequirement already satisfied, skipping upgrade: nodeenv>=0.11.1 in d:\\anaconda3\\lib\\site-packages (from pre-commit->paddlehub) (1.4.0)\r\nRequirement already satisfied, skipping upgrade: cfgv>=2.0.0 in d:\\anaconda3\\lib\\site-packages (from pre-commit->paddlehub) (3.2.0)\r\nRequirement already satisfied, skipping upgrade: toml in d:\\anaconda3\\lib\\site-packages (from pre-commit->paddlehub) (0.10.1)\r\nRequirement already satisfied, skipping upgrade: identify>=1.0.0 in d:\\anaconda3\\lib\\site-packages (from pre-commit->paddlehub) (1.4.28)\r\nRequirement already satisfied, skipping upgrade: virtualenv>=20.0.8 in d:\\anaconda3\\lib\\site-packages (from pre-commit->paddlehub) (20.0.27)\r\nRequirement already satisfied, skipping upgrade: colorama; sys_platform == \"win32\" in d:\\anaconda3\\lib\\site-packages (from colorlog->paddlehub) (0.4.1)\r\nRequirement already satisfied, skipping upgrade: singledispatch in d:\\anaconda3\\lib\\site-packages (from nltk->paddlehub) (3.4.0.3)\r\nRequirement already satisfied, skipping upgrade: python-dateutil>=2.5.0 in d:\\anaconda3\\lib\\site-packages (from pandas; python_version >= \"3\"->paddlehub) (2.8.0)\r\nRequirement already satisfied, skipping upgrade: pytz>=2011k in d:\\anaconda3\\lib\\site-packages (from pandas; python_version >= \"3\"->paddlehub) (2018.9)\r\nRequirement already satisfied, skipping upgrade: numpy>=1.12.0 in d:\\anaconda3\\lib\\site-packages (from pandas; python_version >= \"3\"->paddlehub) (1.16.2)\r\nRequirement already satisfied, skipping upgrade: requests in d:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0b->paddlehub) (2.21.0)\r\nRequirement already satisfied, skipping upgrade: opencv-python in d:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0b->paddlehub) (3.4.2.16)\r\nRequirement already satisfied, skipping upgrade: Pillow>=7.0.0 in d:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0b->paddlehub) (7.2.0)\r\nRequirement already satisfied, skipping upgrade: Flask-Babel>=1.0.0 in d:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0b->paddlehub) (1.0.0)\r\nRequirement already satisfied, skipping upgrade: Werkzeug>=0.15 in d:\\anaconda3\\lib\\site-packages (from flask>=1.1.0->paddlehub) (1.0.1)\r\nRequirement already satisfied, skipping upgrade: click>=5.1 in d:\\anaconda3\\lib\\site-packages (from flask>=1.1.0->paddlehub) (7.0)\r\nRequirement already satisfied, skipping upgrade: Jinja2>=2.10.1 in d:\\anaconda3\\lib\\site-packages (from flask>=1.1.0->paddlehub) (2.11.2)\r\nRequirement already satisfied, skipping upgrade: itsdangerous>=0.24 in d:\\anaconda3\\lib\\site-packages (from flask>=1.1.0->paddlehub) (1.1.0)\r\nRequirement already satisfied, skipping upgrade: setuptools in d:\\anaconda3\\lib\\site-packages (from protobuf>=3.6.0->paddlehub) (40.8.0)\r\nRequirement already satisfied, skipping upgrade: zipp>=0.5 in d:\\anaconda3\\lib\\site-packages (from importlib-metadata; python_version < \"3.8\"->flake8->paddlehub) (3.1.\r\nRequirement already satisfied, skipping upgrade: appdirs<2,>=1.4.3 in d:\\anaconda3\\lib\\site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub) (1.4.4)\r\nRequirement already satisfied, skipping upgrade: distlib<1,>=0.3.1 in d:\\anaconda3\\lib\\site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub) (0.3.1)\r\nRequirement already satisfied, skipping upgrade: filelock<4,>=3.0.0 in d:\\anaconda3\\lib\\site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub) (3.0.10)\r\nRequirement already satisfied, skipping upgrade: idna<2.9,>=2.5 in d:\\anaconda3\\lib\\site-packages (from requests->visualdl>=2.0.0b->paddlehub) (2.8)\r\nRequirement already satisfied, skipping upgrade: urllib3<1.25,>=1.21.1 in d:\\anaconda3\\lib\\site-packages (from requests->visualdl>=2.0.0b->paddlehub) (1.24.1)\r\nRequirement already satisfied, skipping upgrade: chardet<3.1.0,>=3.0.2 in d:\\anaconda3\\lib\\site-packages (from requests->visualdl>=2.0.0b->paddlehub) (3.0.4)\r\nRequirement already satisfied, skipping upgrade: certifi>=2017.4.17 in d:\\anaconda3\\lib\\site-packages (from requests->visualdl>=2.0.0b->paddlehub) (2019.3.9)\r\nRequirement already satisfied, skipping upgrade: Babel>=2.3 in d:\\anaconda3\\lib\\site-packages (from Flask-Babel>=1.0.0->visualdl>=2.0.0b->paddlehub) (2.6.0)\r\nRequirement already satisfied, skipping upgrade: MarkupSafe>=0.23 in d:\\anaconda3\\lib\\site-packages (from Jinja2>=2.10.1->flask>=1.1.0->paddlehub) (1.1.1)\r\n\r\nD:\\anaconda3\\Scripts>python\r\nPython 3.7.3 (default, Mar 27 2019, 17:13:21) [MSC v.1915 64 bit (AMD64)] :: Anaconda, Inc. on win32\r\n\r\nWarning:\r\nThis Python interpreter is in a conda environment, but the environment has\r\nnot been activated.  Libraries may fail to load.  To activate this environment\r\nplease see https://conda.io/activation\r\n\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"D:\\anaconda3\\Lib\\site-packages\\paddlehub\\__init__.py\", line 27, in <module>\r\n    from . import module\r\n  File \"D:\\anaconda3\\Lib\\site-packages\\paddlehub\\module\\__init__.py\", line 16, in <module>\r\n    from . import module\r\n  File \"D:\\anaconda3\\Lib\\site-packages\\paddlehub\\module\\module.py\", line 28, in <module>\r\n    import paddle\r\nModuleNotFoundError: No module named 'paddle'\r\n>>> import paddle\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nModuleNotFoundError: No module named 'paddle'\r\n>>>\r\n",
        "state": "closed",
        "user": "plume",
        "closed_by": "haoyuying",
        "created_at": "2020-08-18T08:15:56+00:00",
        "updated_at": "2021-04-14T12:16:22+00:00",
        "closed_at": "2021-04-14T12:16:21+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 830,
        "title": "模型预测并行的list上限多少",
        "body": "是根据cpu的线程数来的，还是什么呢",
        "state": "closed",
        "user": "Malestudents",
        "closed_by": "haoyuying",
        "created_at": "2020-08-19T02:53:01+00:00",
        "updated_at": "2021-04-14T12:12:59+00:00",
        "closed_at": "2021-04-14T12:12:59+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Malestudents",
            "Steffy-zxf",
            "Malestudents",
            "Malestudents",
            "Steffy-zxf",
            "Malestudents",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 834,
        "title": "关于图像数据增广",
        "body": "我看PaddleClas有图像数据增广相关的API，但是使用PaddleHub的迁移学习的时候，发现并没有图像数据增广相关的功能，请问如何在hub的finetune api下面引入图像数据增广呢？",
        "state": "closed",
        "user": "zhangmianhongni",
        "closed_by": "haoyuying",
        "created_at": "2020-08-20T09:17:06+00:00",
        "updated_at": "2021-04-14T12:12:23+00:00",
        "closed_at": "2021-04-14T12:12:23+00:00",
        "comments_count": [
            "haoyuying",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 835,
        "title": "能否提供一个将PaddleHub FineTune保存起来的模型在AIStudio上部署的示例",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n\r\n- 您想要增加什么新特性？\r\nAIStudio上有个可以将训练得到的模型，在线部署的功能，详情可以参见https://ai.baidu.com/ai-doc/AISTUDIO/bk3e382cq\r\n但是由于Erinie类模型的特殊性，不能像那些简单输入的模型那样简单的部署，希望PaddleHub能和AIStudio交流一下，看看怎么能让PaddleHubFineTune出来的模型也能方便的在AIStudio上在线部署与预测。\r\n\r\n- 什么样的场景下需要该特性？\r\n用户在AIStudio上用PaddleHub训练模型之后无需自己有服务器就可以在AIStudio上部署，然后 就能通过http请求使用模型了，这样可以大大提升PaddleHub的应用范围\r\n\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n现在找不到现成的资料可以让用户自己折腾出来，而且其中涉及到的一些问题可能需要AIStudio那边提供新的支持，如果PaddleHub和AIStudio协调会更容易解决这个问题\r\n\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\nPaddleHub本身可能不需要变化，是需要AIStudio那边改\r\n\r\n- 如果可以的话，简要描述下您的解决方案\r\nPaddleHub的产品经理和AIStudio的产品经理一起协商一下",
        "state": "closed",
        "user": "onewaymyway",
        "closed_by": "haoyuying",
        "created_at": "2020-08-20T14:24:40+00:00",
        "updated_at": "2021-04-14T12:11:07+00:00",
        "closed_at": "2021-04-14T12:11:07+00:00",
        "comments_count": [
            "Steffy-zxf",
            "onewaymyway",
            "Difers",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 838,
        "title": "多标签文本分类的标签个数",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n多标签文本分类的预测结果可能出现0个标签的情况。\r\n实际使用中，多数情况下至少会给出一个标签。我看到代码中使用cross_entropy损失函数，每个标签给出了[\"不包含该标签\",\"包含该标签\"]的概率，当所有标签的 “不包含该标签的概率”都大于\"包含该标签的概率\"的时候，就会出现0标签的情况。\r\n多标签分类的predict函数增加三个参数\r\nmin_k:     最少标签个数\r\nmax_k:     最多标签个数\r\nthreshold: 选择标签的阈值(通常取0.5)\r\n选择标签的逻辑：\r\n    1. 对output做降序排序\r\n    2. 根据threshold选择标签\r\n        如果选出来的标签个数小于min_k，则选择top(min_k);\r\n        如果选出来的标签个数大于max_k，则选择top(max_k);\r\n\r\n- 什么样的场景下需要该特性？\r\n多数场景下，最少会给出一个标签。比如我的标注数据中，如果没有提及任何事件，通常会打上 “未提及/无/没有” 等标签，标注数据中每个样本至少会给一个标签\r\n\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n不能。\r\n\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\nPaddleHub可能需要修改损失函数，并且对输出结果做一定的调整。\r\n\r\n- 如果可以的话，简要描述下您的解决方案\r\n代码还没完全看懂\r\n\r\nbtw:\r\nPaddleHub版本：1.8.1\r\npaddlepaddle版本：1.8.4",
        "state": "closed",
        "user": "unstory",
        "closed_by": "haoyuying",
        "created_at": "2020-08-21T08:08:45+00:00",
        "updated_at": "2021-04-14T12:10:43+00:00",
        "closed_at": "2021-04-14T12:10:43+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 840,
        "title": "UnavailableError: Load operator fail to open file",
        "body": "您好，版本信息如下：\r\npaddlehub          1.7.1\r\npaddlepaddle       1.8.2\r\n\r\n报错信息如下：\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nUnavailableError: Load operator fail to open file C:\\Users\\郑博培\\.paddlehub\\modules\\xception71_imagenet\\model\\@HUB_xception71_imagenet@entry_flow_0_branch1_weights, please check whether the model file is complete or damaged.\r\n  [Hint: Expected static_cast<bool>(fin) == true, but received static_cast<bool>(fin):0 != true:1.] at (D:\\1.8.2\\paddle\\paddle/fluid/operators/load_op.h:41)\r\n  [operator < load > error]\r\n\r\n问题描述：\r\n使用PaddleHub的图像 - 图像分类：xception71_imagenet时，安装完这个模型，在调用的时候报了以上错\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "zbp-xxxp",
        "closed_by": "haoyuying",
        "created_at": "2020-08-22T17:12:02+00:00",
        "updated_at": "2021-04-14T12:10:31+00:00",
        "closed_at": "2021-04-14T12:10:31+00:00",
        "comments_count": [
            "haoyuying",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 841,
        "title": "问题请教",
        "body": "我用的是resnet_v2_50_imagenet预训练模型，\r\n默认配置\r\ntask = hub.ImageClassifierTask(\r\n    data_reader=data_reader,\r\n    feed_list=feed_list,\r\n    feature=feature_map,\r\n    num_classes=dataset.num_labels,\r\n    config=config)\r\n作分类任务。\r\n请问，对于RESNET50模型固定的是那些层，fine-tune的是那个层？\r\n对于paddlehub相关的fine-tune老师有没有推荐的文章或者参考资料，麻烦推荐一下，谢谢。\r\n还有，我怎么没有找到paddlehub API的手册在哪里？能不能发个链接，多谢了。\r\n\r\n\r\n\r\n欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "thailand88",
        "closed_by": "haoyuying",
        "created_at": "2020-08-23T05:30:43+00:00",
        "updated_at": "2021-04-14T12:10:16+00:00",
        "closed_at": "2021-04-14T12:10:16+00:00",
        "comments_count": [
            "haoyuying",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 846,
        "title": "bert 客户端无法远程访问到server",
        "body": "使用127.0.0.1这个IP是可以访问的，切换到本机IP就无法访问了。\r\n报错日志：\r\nTraceback (most recent call last):\r\n  File \"1.py\", line 6, in <module>\r\n    bc = bs_client.BSClient(module_name=\"ernie_tiny\", server=\"10.19.141.148:8866\")\r\n  File \"/home/work/.local/lib/python3.6/site-packages/paddlehub/serving/bert_serving/bs_client.py\", line 18, in __init__\r\n    self.bs.add_server(server=server)\r\n  File \"/home/work/.local/lib/python3.6/site-packages/paddlehub/serving/bert_serving/bert_service.py\", line 76, in add_server\r\n    self.check_server()\r\n  File \"/home/work/.local/lib/python3.6/site-packages/paddlehub/serving/bert_serving/bert_service.py\", line 88, in check_server\r\n    client.connect((server_ip, server_port))\r\nConnectionRefusedError: [Errno 111] Connection refused\r\n\r\ndemo 代码：\r\n# coding: utf8\r\nfrom paddlehub.serving.bert_serving import bs_client\r\n\r\nif __name__ == \"__main__\":\r\n    # 初始化bert_service客户端BSClient\r\n    bc = bs_client.BSClient(module_name=\"ernie_tiny\", server=\"10.19.141.148:8866\")\r\n\r\n    # 输入要做embedding的文本\r\n    # 文本格式为[[\"文本1\"], [\"文本2\"], ]\r\n    input_text = [\r\n        [\"西风吹老洞庭波\"],\r\n        [\"一夜湘君白发多\"],\r\n        [\"醉后不知天在水\"],\r\n        [\"满船清梦压星河\"],\r\n    ]\r\n\r\n    # BSClient.get_result()获取结果\r\n    result = bc.get_result(input_text=input_text)\r\n\r\n    # 打印输入文本的embedding结果\r\n    for item in result:\r\n        print(item)",
        "state": "closed",
        "user": "rickyhuw",
        "closed_by": "WYB27",
        "created_at": "2020-08-25T08:19:37+00:00",
        "updated_at": "2025-06-30T07:24:20+00:00",
        "closed_at": "2025-06-30T07:23:50+00:00",
        "comments_count": [
            "livingbody",
            "rickyhuw",
            "ShenYuhan",
            "rickyhuw",
            "ultimatedaotu",
            "rickyhuw",
            "MRXLT",
            "bigpo",
            "rickyhuw"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 849,
        "title": "hub 快速体验出现错误 ",
        "body": "hub run pyranidbox_Iite_nobile_nask.-input_path test_nask_detection.jpg -visualization=True--output_dir='detection_result'\r\n\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\nTraceback (most recent call last):\r\nFile \" /usr/local/python2.7.15/bin/hub\" , line 11,in <module>\r\nsys.exit(main()\r\nFile \" /usr/local/python2.7.15/lib/python2.7/site-packages/paddlehub/connands/hub.py\"，line 64，in main\r\nCORmand.execute(argv[1:]）\r\nFile \"/usr/local/python2.7.15/lib/python2.7/site-packages/paddlehub/conmands/hub.py\"，line 51，in execute\r\nreturn command.execute(argv[1:]\r\nFile\"/usr/local/python2.7.1i5/lib/python2.7/site-packages/paddlehub/conpands/run.py\"，line 242，in execute\r\nresuits ' self.module.run_func(argv[1:]）\r\nFile \"/usr/local/python2.7.15/lib/python2.7/site-packages/paddlehub/nodule/nodule.py\"，line 59,in _rapper\r\nreturn func(*args，**kwargs）\r\nFile \"/root/.paddlehub/nodules/pyramidbox_lite_nobile_nask/nodule.py\"，line 259，in run_cnd\r\nconfs_threshold=args.confs_threshold)\r\nFile \" /root/.paddlehub/nodules/pyranidbox_lite_nobile_mask/nodule.py\",line 128,in face_detection\r\nimages, paths, use_gpu，use_multi_scale):\r\nFile\"/root/.paddlehub/nodules/pyramidbox_lite_nobile_mask/data_feed.py\" ，line 202，in reader\r\nconfs_threshold=confs_threshoid)\r\nFile \"/root/.paddlehub/modules/pyranidbox_lite_nobile/module.py\" ，line 101，in face_detection\r\nfor element in reader(images, paths,shrink):.\r\nFile \"/root/.paddlehub/modules/pyranidbox_lite_nobile/data_feed.py\"，line 67，in reader\r\n'image_width'] = preprocess(element[ 'org_im']， shrink)\r\nFile \"]root/.paddlehub/nodules/pyranidbox_lite_nobile/data_feed.py\"，line 19，in preprocess\r\ncv2.INTER_NEAREST)\r\nTypeError: Expected Ptr<cv::UMat> for argument 'dst'\r\n入d98sed7f7b47/hone hub run pyranidbox_lite_gobile_gask.-iput_path test_mask_detection.jg vistaliztion=7ue .output_dird'detection_resilt\r\n",
        "state": "closed",
        "user": "oneofsummer",
        "closed_by": "haoyuying",
        "created_at": "2020-08-25T15:32:18+00:00",
        "updated_at": "2021-04-14T12:09:23+00:00",
        "closed_at": "2021-04-14T12:09:23+00:00",
        "comments_count": [
            "oneofsummer",
            "livingbody",
            "haoyuying",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 848,
        "title": "hub 快速体验，出现一个 dst",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "oneofsummer",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-08-25T15:28:13+00:00",
        "updated_at": "2020-08-26T01:55:15+00:00",
        "closed_at": "2020-08-26T01:55:15+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 851,
        "title": "faster_rcnn_resnet50_fpn_venus用不了了",
        "body": "\r\n1）版本PaddleHub1.8.4，PaddlePaddle1.7.1\r\n2）centos7下运行  hub run faster_rcnn_resnet50_fpn_venus --input_path \"test.jpg\"\r\n报错\r\nERROR! Module faster_rcnn_resnet50_fpn_venus is not executable\r\n",
        "state": "closed",
        "user": "phigzen",
        "closed_by": "haoyuying",
        "created_at": "2020-08-26T03:01:59+00:00",
        "updated_at": "2021-04-14T12:09:10+00:00",
        "closed_at": "2021-04-14T12:09:10+00:00",
        "comments_count": [
            "haoyuying",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 854,
        "title": "SKEP模型可指定GPU，批量预测",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n  - SKEP模型可以在指定GPU运行。现在只能在`CUDA_VISIBLE_DEVICES`的第0个，且方式很简陋。\r\n  - SKEP模型批量预测。现在的`predict_sentiment`方法输入是句子list，方法内部竟然又遍历list单个预测？没懂这操作，如果有什么特殊限制麻烦告知，有点好奇\r\n- 什么样的场景下需要该特性？\r\n  - 大量文本的情感分析加速，一个项目有百万级句子，要多张卡一起跑。\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n  - 能，太慢了，显存利用太少。\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n  - 文件`PaddleHub/hub_module/modules/text/sentiment_analysis/ernie_skep_sentiment_analysis/module.py`，`ErnieSkepSentimentAnalysis`类。\r\n- 如果可以的话，简要描述下您的解决方案\r\n  - 指定GPU的，貌似在`_set_config`方法增加个参数即可，就别`int(os.environ[\"CUDA_VISIBLE_DEVICES\"][0])`了。。。然后，把GPU ID绑定在实例上，`predict_sentiment`的额外检查也相应更改。\r\n  - batch预测的不知道，需要学学paddle。\r\n",
        "state": "closed",
        "user": "izhx",
        "closed_by": "haoyuying",
        "created_at": "2020-08-26T09:53:38+00:00",
        "updated_at": "2021-04-14T12:08:29+00:00",
        "closed_at": "2021-04-14T12:08:29+00:00",
        "comments_count": [
            "izhx",
            "Steffy-zxf",
            "izhx",
            "Steffy-zxf",
            "izhx",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 852,
        "title": "目标检测的图片保存结果有误",
        "body": "版本PaddleHub1.8.4，PaddlePaddle1.7.1\r\n使用yolov3_darknet53_vehicles来做目标检测，调用object_detection，images值为一个list，list内有多个img数组，output_dir 内生成的图片， 有很多目标框画的位置明显不正确，查看该方法返回值，res 内值是正常的",
        "state": "closed",
        "user": "phigzen",
        "closed_by": "haoyuying",
        "created_at": "2020-08-26T08:17:09+00:00",
        "updated_at": "2021-04-14T12:08:49+00:00",
        "closed_at": "2021-04-14T12:08:49+00:00",
        "comments_count": [
            "haoyuying",
            "phigzen",
            "haoyuying",
            "phigzen",
            "phigzen",
            "haoyuying",
            "haoyuying",
            "phigzen",
            "haoyuying",
            "phigzen",
            "haoyuying",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 855,
        "title": "missing 1 required positional argument: 'data'",
        "body": "CentOS 7\r\nCUDA 10.0\r\npaddlepaddle 1.8.1.post107\r\npaddlehub 1.7.1\r\nface_landmark_localization==1.0.2\r\npyramidbox_lite_server==1.1.0\r\n\r\n在运行下面代码时：\r\n```\r\nshaper = hub.Module(name=\"face_landmark_localization\")\r\nshaper.set_face_detector_module(hub.Module(name=\"pyramidbox_lite_server\"))\r\n......\r\ndetected_keypoints = shaper.keypoint_detection(images=[frame], use_gpu=True)  # frame is cv2.imread() object\r\n```\r\n\r\n出现以下错误：\r\n\r\n> W0827 03:06:23.397197 50265 device_context.cc:252] Please NOTE: device: 0, CUDA Capability: 75, Driver API Version: 11.0, Runtime API Version: 10.0\r\n> W0827 03:06:23.401690 50265 device_context.cc:260] device: 0, cuDNN Version: 7.6.\r\n> [2020-08-27 03:06:25,641] [    INFO] - Installing face_landmark_localization module\r\n> [2020-08-27 03:06:25,739] [    INFO] - Module face_landmark_localization already installed in /home/scc/.paddlehub/modules/face_landmark_localization\r\n> [2020-08-27 03:06:25,740] [    INFO] - Installing ultra_light_fast_generic_face_detector_1mb_640 module\r\n> [2020-08-27 03:06:25,753] [    INFO] - Module ultra_light_fast_generic_face_detector_1mb_640 already installed in /home/scc/.paddlehub/modules/ultra_light_fast_generic_face_detector_1mb_640\r\n> [2020-08-27 03:06:26,325] [    INFO] - Installing pyramidbox_lite_server module\r\n> [2020-08-27 03:06:26,355] [    INFO] - Module pyramidbox_lite_server already installed in /home/scc/.paddlehub/modules/pyramidbox_lite_server\r\n> Process Process-3:\r\n> Traceback (most recent call last):\r\n>   File \"/home/scc/anaconda3/envs/paddle/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\r\n>     self.run()\r\n>   File \"/home/scc/anaconda3/envs/paddle/lib/python3.7/multiprocessing/process.py\", line 99, in run\r\n>     self._target(*self._args, **self._kwargs)\r\n>   File \"get_infer_results_pp.py\", line 205, in infer_process\r\n>     detected_keypoints = shaper.keypoint_detection(images=[frame], use_gpu=True)  # BGR mode, need by paddlehub\r\n>   File \"/home/scc/.paddlehub/modules/face_landmark_localization/module.py\", line 141, in keypoint_detection\r\n>     for yield_data in reader(self.face_detector, images, paths, use_gpu):\r\n>   File \"/home/scc/.paddlehub/modules/face_landmark_localization/data_feed.py\", line 48, in reader\r\n>     visualization=False)):\r\n> TypeError: __call__() missing 1 required positional argument: 'data'\r\n\r\n请问这个是什么原因呢？\r\n\r\nP.S.，代码里使用了多线程，这些代码都在子线程里",
        "state": "closed",
        "user": "nihuizhidao",
        "closed_by": "nihuizhidao",
        "created_at": "2020-08-26T19:15:09+00:00",
        "updated_at": "2020-08-30T02:05:23+00:00",
        "closed_at": "2020-08-30T02:04:57+00:00",
        "comments_count": [
            "Steffy-zxf",
            "nihuizhidao"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 856,
        "title": "文本匹配Segmentation fault (core dumped)",
        "body": "PaddlePaddle 1.8.0/paddlehub 1.8.0\r\n**aistudio运行**\r\n!cd PaddleHub-release-v1.8/demo/pointwise_text_matching/ && sh run_ernie_pointwise_matching_predict.sh\r\n**报错**\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py:1093: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\nSegmentation fault (core dumped)\r\n",
        "state": "closed",
        "user": "xiaotaiyangsun",
        "closed_by": "xiaotaiyangsun",
        "created_at": "2020-08-27T05:56:14+00:00",
        "updated_at": "2020-08-31T07:27:24+00:00",
        "closed_at": "2020-08-31T07:23:53+00:00",
        "comments_count": [
            "Steffy-zxf",
            "xiaotaiyangsun",
            "Steffy-zxf",
            "xiaotaiyangsun"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 857,
        "title": "AdamWeightDecayStrategy学习率问题",
        "body": "文本分类中使用paddlehub对bert二次训练时，使用了AdamWeightDecayStrategy，参数如下：\r\nwarmup_proportion 0.2\r\nweight_decay 0.01\r\nlearning_rate 2e-5，\r\n问题：我发现每当新的一个epoch开始的时候，数据震荡很大，导致后面几个epoch没法对数据继续进行提高。我怀疑AdamWeightDecayStrategy是不是针对每个epoch调整学习率，导致每个epoch开始都会经历学习率增大，然后减小的呢？\r\n哪位大佬能给解释一下吗，谢谢。",
        "state": "closed",
        "user": "TyrionZK",
        "closed_by": "TyrionZK",
        "created_at": "2020-08-27T09:15:19+00:00",
        "updated_at": "2020-08-31T08:15:20+00:00",
        "closed_at": "2020-08-31T08:15:20+00:00",
        "comments_count": [
            "Steffy-zxf",
            "TyrionZK"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 860,
        "title": "在自定义数据集上使用paddlehub进行finetune时报错",
        "body": "[2020-08-27 17:46:02,121] [ INFO] - Strategy with slanted triangle learning rate, L2 regularization,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py:1093: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\nwarnings.warn(error_info)\r\n[2020-08-27 17:46:04,683] [ INFO] - Try loading checkpoint from source/ckpt.meta\r\n[2020-08-27 17:46:04,684] [ INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-08-27 17:46:04,739] [ INFO] - PaddleHub finetune start\r\n2020-08-27 17:46:04,764-WARNING: Your reader has raised an exception!\r\nException in thread Thread-6:\r\nTraceback (most recent call last):\r\nFile \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\nself.run()\r\nFile \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 870, in run\r\nself._target(*self._args, **self._kwargs)\r\nFile \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/reader.py\", line 1156, in __thread_main__\r\nsix.reraise(*sys.exc_info())\r\nFile \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py\", line 703, in reraise\r\nraise value\r\nFile \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/reader.py\", line 1136, in __thread_main__\r\nfor tensors in self._tensor_reader():\r\nFile \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/reader/cv_reader.py\", line 168, in _data_reader\r\nlabels.append([np.int64(label)])\r\nValueError: invalid literal for int() with base 10: 'c2'\r\n\r\n\r\n---------------------------------------------------------------------------EnforceNotMet Traceback (most recent call last) in\r\n----> 1 run_states = task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n943\r\n944 def finetune_and_eval(self):\r\n--> 945 return self.finetune(do_eval=True)\r\n946\r\n947 def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n964 while self.current_epoch <= self.config.num_epoch:\r\n965 self.config.strategy.step()\r\n--> 966 run_states = self._run(do_eval=do_eval)\r\n967 self.env.current_epoch += 1\r\n968\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n1197 global_run_states = []\r\n1198 period_run_states = []\r\n-> 1199 for batch in data_reader():\r\n1200 step_run_state = RunState(len(self.fetch_list))\r\n1201 step_run_state.run_step = 1\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/reader.py in __next__(self)\r\n1100 return self._reader.read_next_list()\r\n1101 else:\r\n-> 1102 return self._reader.read_next()\r\n1103 except StopIteration:\r\n1104 self._queue.close()\r\nEnforceNotMet:\r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0 std::string paddle::platform::GetTraceBackString(std::string const&, char const*, int)\r\n1 paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2 paddle::operators::reader::BlockingQueue > >::Receive(std::vector >*)\r\n3 paddle::operators::reader::PyReader::ReadNext(std::vector >*)\r\n4 std::_Function_handler (), std::__future_base::_Task_setter, std::__future_base::_Result_base::_Deleter>, unsigned long> >::_M_invoke(std::_Any_data const&)\r\n5 std::__future_base::_State_base::_M_do_set(std::function ()>&, bool&)\r\n6 ThreadPool::ThreadPool(unsigned long)::{lambda()#1}::operator()() const\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Blocking queue is killed because the data reader raises an exception\r\n[Hint: Expected killed_ != true, but received killed_:1 == true:1.] at (/paddle/paddle/fluid/operators/reader/blocking_queue.h:141)\r\n\r\n\r\n\r\ntask配置没有报错，但是开始task.finetune_and_eval()时报以上错误\r\n",
        "state": "closed",
        "user": "Fitz-Fitz",
        "closed_by": "haoyuying",
        "created_at": "2020-08-27T15:40:17+00:00",
        "updated_at": "2021-04-14T12:08:12+00:00",
        "closed_at": "2021-04-14T12:08:12+00:00",
        "comments_count": [
            "kinghuin",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 861,
        "title": "只要是后导入hub的模型就会报segmentation fault (core dumped)",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nmy_model = mytensorflow_model()\r\n model = hub.Module(name=\"emotion_detection_textcnn\")\r\n \r\n\r\n",
        "state": "closed",
        "user": "liuchenbaidu",
        "closed_by": "haoyuying",
        "created_at": "2020-08-28T06:55:42+00:00",
        "updated_at": "2021-04-14T12:07:52+00:00",
        "closed_at": "2021-04-14T12:07:52+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/Paddle",
        "number": 26840,
        "title": "安装时候出现TypeError: 'NoneType' object is not iterable”错误",
        "body": "pip2 install paddlepaddle\r\n报错，TypeError: 'NoneType' object is not iterable”错误，不知道是什么问题\r\n![image](https://user-images.githubusercontent.com/7742093/91429960-6627ae80-e891-11ea-966d-9d4fbf3d547e.png)\r\n",
        "state": "closed",
        "user": "lixufang",
        "closed_by": "paddle-bot-old[bot]",
        "created_at": "2020-08-27T10:16:40+00:00",
        "updated_at": "2021-09-14T08:59:56+00:00",
        "closed_at": "2021-09-14T08:59:56+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 864,
        "title": "ernie_pointwise_matching.py文本匹配demo出错",
        "body": "paddlehub: 1.8.2  PaddlePaddle: 1.8.3.post97  \r\n系统：linux  python3.6\r\n执行demo时报错  cmd: \r\n![image](https://user-images.githubusercontent.com/9254170/91708884-88347000-ebb4-11ea-9670-092ed28ea424.png)\r\n\r\n![image](https://user-images.githubusercontent.com/9254170/91709297-21638680-ebb5-11ea-881c-ff7c1c09e5ce.png)\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/9254170/91702513-6da9c900-ebab-11ea-9240-0c6c0029bb3e.png)\r\n\r\n",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "haoyuying",
        "created_at": "2020-08-31T09:00:16+00:00",
        "updated_at": "2021-04-14T12:07:38+00:00",
        "closed_at": "2021-04-14T12:07:38+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 865,
        "title": "> 文本匹配",
        "body": "> 请更新paddlehub至最新版本\r\n> \r\n> ```shell\r\n> pip install --upgrade paddlehub -i https://pypi.tuna.tsinghua.edu.cn/simple\r\n> ```\r\n您好，已安装1.8.2版本，用run_ernie_pointwise_matching.sh训练了一个epoch1的模型。运行如下命令，\r\n!cd PaddleHub-release-v1.8/demo/pointwise_text_matching/ && sh run_ernie_pointwise_matching_predict.sh\r\n**报错**\r\n[2020-08-31 14:13:05,114] [    INFO] - Checkpoint dir: ./ckpt_ernie_pointwise_matching_epoch1\r\n[2020-08-31 14:13:05,481] [    INFO] - PaddleHub predict start\r\n[2020-08-31 14:13:05,481] [    INFO] - Load the best model from ./ckpt_ernie_pointwise_matching_epoch1/best_model\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py:1093: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\nTraceback (most recent call last):\r\n  File \"ernie_pointwise_matching_predict.py\", line 92, in <module>\r\n    accelerate_mode=True)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/matching_task.py\", line 739, in predict\r\n    self.init_if_load_best_model()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 395, in init_if_load_best_model\r\n    self.load_parameters(best_model_path)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 924, in load_parameters\r\n    self.exe, dirname, self.main_program, predicate=if_exist)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/io.py\", line 750, in load_vars\r\n    filename=filename)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/io.py\", line 819, in load_vars\r\n    format(orig_shape, each_var.name, new_shape))\r\nRuntimeError: Variable's shape does not match, the Program requires a parameter with the shape of ((2304, 2)), while the loaded parameter (namely [ matching_out_w ]) has a shape of  ((196608, 2)).\r\n\r\n_Originally posted by @xiaotaiyangsun in https://github.com/PaddlePaddle/PaddleHub/issues/856#issuecomment-683613965_",
        "state": "closed",
        "user": "xiaotaiyangsun",
        "closed_by": "haoyuying",
        "created_at": "2020-08-31T09:08:20+00:00",
        "updated_at": "2021-04-14T12:07:20+00:00",
        "closed_at": "2021-04-14T12:07:20+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 863,
        "title": "口罩检测中的口罩分类模型的数据预处理是什么？",
        "body": "```python\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"pyramidbox_lite_mobile_mask\")\r\n# 将模型保存在test_program文件夹之中\r\nmodule.processor.save_inference_model(dirname=\"test_program\")\r\n```\r\n\r\n我使用了其他的模型完成了人脸检测，\r\n\r\n我想使用其导出的口罩分类模型做口罩检测，请问这个模型的预处理是什么？例如要对检测的人脸做什么裁剪，均值、方差是什么？",
        "state": "closed",
        "user": "yeyupiaoling",
        "closed_by": "yeyupiaoling",
        "created_at": "2020-08-28T09:25:45+00:00",
        "updated_at": "2020-09-17T07:44:03+00:00",
        "closed_at": "2020-09-17T07:44:03+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 871,
        "title": "执行完ocr.recognize_text()之后，内存没有释放，导致后面会内存溢出，请问怎么解决？",
        "body": "1)PaddleHub和PaddlePaddle版本：PaddleHub1.8.2，PaddlePaddle1.8.4\r\n2)系统环境：window7，python3.6，PyCharm2018.3.3\r\n\r\n问题：执行完ocr.recognize_text()之后，内存没有释放，导致后面会内存溢出，请问怎么解决？\r\n![image](https://user-images.githubusercontent.com/23301913/91962798-9fec2f80-ed3f-11ea-9190-f7d02e5e07d6.png)\r\n![image](https://user-images.githubusercontent.com/23301913/91962825-a5497a00-ed3f-11ea-98c9-2deeb232e86d.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "luomix",
        "closed_by": "haoyuying",
        "created_at": "2020-09-02T09:14:12+00:00",
        "updated_at": "2022-01-28T13:02:46+00:00",
        "closed_at": "2021-04-14T12:03:24+00:00",
        "comments_count": [
            "Steffy-zxf",
            "luomix",
            "Steffy-zxf",
            "haoyuying",
            "startfromzero0"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 869,
        "title": "由通过强化学习处理不平衡数据。",
        "body": "# 处理故障分类问题\r\n##  故障数据不平衡  会导致模型训练向多样本趋向\r\n*  所以利用对抗学习生成少样本，让模型学习。数据是一维数据集。\r\n有相关的代码或者类似的demo吗\r\n",
        "state": "closed",
        "user": "lzb-James",
        "closed_by": "haoyuying",
        "created_at": "2020-09-02T02:08:08+00:00",
        "updated_at": "2021-04-14T12:05:25+00:00",
        "closed_at": "2021-04-14T12:05:25+00:00",
        "comments_count": [
            "Steffy-zxf",
            "lzb-James",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 868,
        "title": "ernie_pointwise_matching.py文本匹配demo",
        "body": "为什么demo在预测的时候使用gpu时脚本会报错，将use_gpu改成false才可以\r\n![image](https://user-images.githubusercontent.com/9254170/91851731-4b3eab00-ec92-11ea-8ea2-21721f442565.png)\r\n",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "WYB27",
        "created_at": "2020-09-01T12:33:37+00:00",
        "updated_at": "2025-06-30T07:23:48+00:00",
        "closed_at": "2025-06-30T07:23:48+00:00",
        "comments_count": [
            "Steffy-zxf",
            "xiaotaiyangsun",
            "Steffy-zxf",
            "xiaotaiyangsun",
            "Steffy-zxf",
            "xiaotaiyangsun",
            "dickobe",
            "Steffy-zxf",
            "dickobe",
            "Steffy-zxf",
            "dickobe"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 873,
        "title": "调用Senta_lstm生成新module后报I/O错误",
        "body": "环境：windows10, paddlepaddle1.7.0，paddlehub1.6.2\r\n![报错1](https://user-images.githubusercontent.com/31813915/92089195-67f8f100-ee00-11ea-9d0e-6e286a27940a.png)\r\n\r\n在报错的497行处加print输出参数完全无法输出\r\n![错误3](https://user-images.githubusercontent.com/31813915/92089472-c6be6a80-ee00-11ea-862c-247587b38db5.png)\r\n![错误4](https://user-images.githubusercontent.com/31813915/92089481-c8882e00-ee00-11ea-8e5a-6508544c433f.png)\r\n\r\n之后审核代码\r\n发现如下语句，删除后没问题\r\n![报错2](https://user-images.githubusercontent.com/31813915/92089351-a098ca80-ee00-11ea-97dd-3168baf363d9.png)\r\n此语句在别的module也使用过，能正常使用，但在本module中报错。\r\n且会牵连hub install服务",
        "state": "closed",
        "user": "KW213",
        "closed_by": "KW213",
        "created_at": "2020-09-03T08:19:14+00:00",
        "updated_at": "2020-09-07T09:46:06+00:00",
        "closed_at": "2020-09-07T02:52:47+00:00",
        "comments_count": [
            "ShenYuhan",
            "chunzhang-hub"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/Paddle",
        "number": 26993,
        "title": "paddle实现的scaled_dot_product_attention有考虑mask的版本吗",
        "body": "阅读源码后发现，注意力实现只有scaled_dot_product_attention函数，paddlepaddle官方能不能开发更多的注意力模块，包括：\r\n1）加上mask的scaled_dot_product_attention\r\n2）完整的多头注意力\r\n3）自注意力实现",
        "state": "closed",
        "user": "TyrionZK",
        "closed_by": "juncaipeng",
        "created_at": "2020-09-03T06:26:10+00:00",
        "updated_at": "2020-09-16T02:51:26+00:00",
        "closed_at": "2020-09-16T02:51:26+00:00",
        "comments_count": [
            "Steffy-zxf",
            "juncaipeng"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 874,
        "title": "如何将多个模型发布成一个服务？",
        "body": "我想问一下我能否使用HubServing将多个模型发布成一个服务？也就是通过一个端口启动多个模型作为服务，然后通过不同的url来访问不同的服务？\r\n",
        "state": "closed",
        "user": "iceriver97",
        "closed_by": "WYB27",
        "created_at": "2020-09-03T08:46:35+00:00",
        "updated_at": "2025-06-30T07:23:46+00:00",
        "closed_at": "2025-06-30T07:23:46+00:00",
        "comments_count": [
            "ShenYuhan",
            "iceriver97",
            "iceriver97",
            "iceriver97",
            "ShenYuhan",
            "iceriver97",
            "ShenYuhan",
            "iceriver97",
            "ShenYuhan",
            "iceriver97",
            "iceriver97",
            "ShenYuhan",
            "iceriver97",
            "iceriver97",
            "ShenYuhan",
            "iceriver97"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 876,
        "title": "关于自定义数据集的predict.tsv",
        "body": "您好，我按照官方的教程，在一项NLP任务的自定义数据集中添加了predict.tsv，并且正常训练了ERNIE模型。请问预测结果在哪里可以看到？谢谢！",
        "state": "closed",
        "user": "Briskyu",
        "closed_by": "haoyuying",
        "created_at": "2020-09-04T01:27:39+00:00",
        "updated_at": "2021-04-14T12:02:33+00:00",
        "closed_at": "2021-04-14T12:02:33+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Briskyu",
            "goPikachu88",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 878,
        "title": "ExternalError:  Cudnn error, CUDNN_STATUS_INTERNAL_ERROR  at (/paddle/paddle/fluid/platform/device_context.h:165)",
        "body": "例如PaddleHub1.8.2，PaddlePaddle1.8.2\r\n**linux报错**请问如何解决\r\nW0904 19:14:44.950731  1153 device_context.cc:252] Please NOTE: device: 0, CUDA Capability: 70, Driver API Version: 10.1, Runtime API Version: 10.0\r\nW0904 19:14:44.954766  1153 device_context.cc:260] device: 0, cuDNN Version: 7.6.\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nExternalError:  Cudnn error, CUDNN_STATUS_INTERNAL_ERROR  at (/paddle/paddle/fluid/platform/device_context.h:165)\r\n\r\n\r\n",
        "state": "closed",
        "user": "xiaotaiyangsun",
        "closed_by": "haoyuying",
        "created_at": "2020-09-04T11:18:20+00:00",
        "updated_at": "2021-04-14T12:01:19+00:00",
        "closed_at": "2021-04-14T12:01:18+00:00",
        "comments_count": [
            "xiaotaiyangsun",
            "Steffy-zxf",
            "xiaotaiyangsun",
            "xiaotaiyangsun",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 879,
        "title": "当开启use_data_parallel=True时，必须指定一个gpu，否则报错",
        "body": "![image](https://user-images.githubusercontent.com/9254170/92239419-90124e00-eeed-11ea-9188-087fa29b5c9e.png)\r\n为什么当开启use_data_parallel=True时，必须指定一个gpu运行，如果不指定或指定多个的是否都会报错",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "haoyuying",
        "created_at": "2020-09-04T12:32:38+00:00",
        "updated_at": "2021-04-14T12:01:06+00:00",
        "closed_at": "2021-04-14T12:01:06+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 880,
        "title": "用gpu预测时报cuda初始化错误",
        "body": "![image](https://user-images.githubusercontent.com/9254170/92321864-fb7c2d00-f05f-11ea-86f8-719f54979f2b.png)\r\n在用flask搭建了服务，用gpu进行预测时会报上面cudu初始化的错误；用cpu的时候没有问题",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "haoyuying",
        "created_at": "2020-09-06T08:45:07+00:00",
        "updated_at": "2021-04-14T12:00:50+00:00",
        "closed_at": "2021-04-14T12:00:49+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 883,
        "title": "能否增加一个在NLP FineTune任务里增加对抗训练的DEMO",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n增加一个在NLP FineTune任务里增加对抗训练的DEMO\r\n- 什么样的场景下需要该特性？\r\n对抗训练在很多任务上能提升最终效果，希望能把对抗训练也加到PaddleHub的训练框架里，对抗训练相关的资料可以参考https://spaces.ac.cn/archives/7234\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n如果不内置这个功能，普通用户很难自己通过改Task简单的改出来\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n将对抗训练功能内置，对外暴露一个简单的参数接口\r\n- 如果可以的话，简要描述下您的解决方案\r\n将对抗训练功能内置，对外暴露一个简单的参数接口",
        "state": "closed",
        "user": "onewaymyway",
        "closed_by": "haoyuying",
        "created_at": "2020-09-07T13:58:19+00:00",
        "updated_at": "2021-04-14T12:00:35+00:00",
        "closed_at": "2021-04-14T12:00:35+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 882,
        "title": "regularization_handler中一处地方存疑",
        "body": "参数更新不应该是 update_param=param-grad  *lr * weight_decay吗？为什么下面链接中grad为param_list[param.name]呢？\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/d9293a3f8ae0dce9ccd26c71ffbddfff20769e82/paddlehub/finetune/strategy.py#L454",
        "state": "closed",
        "user": "TyrionZK",
        "closed_by": "TyrionZK",
        "created_at": "2020-09-07T08:24:10+00:00",
        "updated_at": "2020-09-10T08:44:25+00:00",
        "closed_at": "2020-09-10T08:44:25+00:00",
        "comments_count": [
            "kinghuin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 884,
        "title": "如何利用领域数据对预训练模型继续预训练呢？",
        "body": "1. paddlehub可以利用领域数据对预训练模型继续预训练吗？如果可以，能否提供参考资料呢\r\n2. paddlehub如果不可以的花，直接利用paddlepaddle能否实现呢？如果可以，能否提供参考资料呢\r\n",
        "state": "closed",
        "user": "TyrionZK",
        "closed_by": "WYB27",
        "created_at": "2020-09-08T06:24:49+00:00",
        "updated_at": "2025-06-30T07:23:42+00:00",
        "closed_at": "2025-06-30T07:23:42+00:00",
        "comments_count": [
            "Steffy-zxf",
            "TyrionZK"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 885,
        "title": "ExternalError:  Cublas error, CUBLAS_STATUS_NOT_INITIALIZED ",
        "body": "paddlehub paddlepaddke 均为1.8.2\r\n在自己的linux运行ernie_pointwise_matching.py。修改了\r\nmodule = hub.Module(name=\"ernie\")\r\n为\r\n module = hub.Module(directory=\"../ernie\")\r\n其他没有变\r\n报如下错误，请问如何解决\r\nExternalError:  Cublas error, CUBLAS_STATUS_NOT_INITIALIZED  at (/paddle/paddle/fluid/platform/cuda_helper.h:32)\r\n\r\n",
        "state": "closed",
        "user": "xiaotaiyangsun",
        "closed_by": "haoyuying",
        "created_at": "2020-09-09T03:35:16+00:00",
        "updated_at": "2021-04-14T11:59:31+00:00",
        "closed_at": "2021-04-14T11:59:31+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 886,
        "title": "PaddleHub 在启动添加模型时发生错误",
        "body": "目前在学习PaddleORC ， 在使用PaddleHub 过程中 ， 当启动 PaddleHub时 \r\n![1](https://user-images.githubusercontent.com/52648575/92677390-53fc4480-f356-11ea-84ea-ccdb40ff9179.jpg)\r\n会出现当前这个问题，但我并没有在 -m 参数后加入 ocr_system 这个model  ,并且我把 ocr_system  删除后 可以正常启动，或者 注释掉 ocr_system/module.py  中的 21行 22行  后，也可以启动成功， 这是不是互相兼容的问题 ，还是我没正确使用\r\n附 \r\n![2](https://user-images.githubusercontent.com/52648575/92677694-fa484a00-f356-11ea-91bd-f030e4b94e22.jpg)\r\n",
        "state": "closed",
        "user": "lagelanhai",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-10T03:16:00+00:00",
        "updated_at": "2020-12-02T06:25:23+00:00",
        "closed_at": "2020-12-02T06:25:22+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 887,
        "title": "预测输出nan可能是什么原因呢",
        "body": "在进行文本分类任务时，加载模型正常，数据输入经检查也正常，但是预测输出nan（下面一句输出），可能是什么原因呢？怎么查找呢？苦闷啊\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/d9293a3f8ae0dce9ccd26c71ffbddfff20769e82/paddlehub/finetune/task/base_task.py#L1078\r\n",
        "state": "closed",
        "user": "TyrionZK",
        "closed_by": "haoyuying",
        "created_at": "2020-09-10T08:47:57+00:00",
        "updated_at": "2021-04-14T11:59:16+00:00",
        "closed_at": "2021-04-14T11:59:16+00:00",
        "comments_count": [
            "TyrionZK",
            "kinghuin",
            "haoyuying"
        ],
        "labels": [
            "help wanted",
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 890,
        "title": "OCR报错",
        "body": "TypeError: float() argument must be a string or a number, not '_NoValueType'\r\n",
        "state": "closed",
        "user": "j2538318409",
        "closed_by": "haoyuying",
        "created_at": "2020-09-11T07:28:35+00:00",
        "updated_at": "2021-04-14T11:58:44+00:00",
        "closed_at": "2021-04-14T11:58:44+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 889,
        "title": "是否支持fp16加速训练?",
        "body": "你好，是否有fp16加速训练API？",
        "state": "closed",
        "user": "retfings",
        "closed_by": "haoyuying",
        "created_at": "2020-09-11T01:06:46+00:00",
        "updated_at": "2021-04-14T11:58:57+00:00",
        "closed_at": "2021-04-14T11:58:57+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 892,
        "title": "模型保存失败……",
        "body": "除了输入数据改了，其他没有动，但它保存不了？？？paddlehub1.8.0，paddle1.7.2\r\n```\r\nTraceback (most recent call last):\r\n  File \"paddlehub_mrcrelation.py\", line 136, in <module>\r\n    testone(id)\r\n  File \"paddlehub_mrcrelation.py\", line 94, in testone\r\n    id=cross_validation(args, id)\r\n  File \"paddlehub_mrcrelation.py\", line 110, in cross_validation\r\n    one(args, schema_labels, predict_data, predict_sents, str(id))\r\n  File \"paddlehub_mrcrelation.py\", line 26, in one\r\n    seq_label_task.finetune_and_eval()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 945, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 966, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1232, in _run\r\n    self._eval_interval_event()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 708, in hook_function\r\n    func(*args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 861, in _default_eval_interval_event\r\n    self.eval(phase=\"dev\")\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1011, in eval\r\n    self._eval_end_event(run_states)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 708, in hook_function\r\n    func(*args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 832, in _default_eval_end_event\r\n    self.save_inference_model(dirname=model_saved_dir)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 942, in save_inference_model\r\n    params_filename=params_filename)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/io.py\", line 1217, in save_inference_model\r\n    feeded_var_names=feeded_var_names, targets=target_vars)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 4122, in _prune_with_input\r\n    \"The target variable must have an \"\r\nValueError: The target variable must have an associated operator that generates it.\r\n```",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-14T08:43:29+00:00",
        "updated_at": "2020-12-02T06:25:09+00:00",
        "closed_at": "2020-12-02T06:25:09+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 894,
        "title": "paddlehub使用paddlepaddle的gpu版本，可以在无gpu的机器上运行吗",
        "body": "paddlehub使用paddlepaddle的gpu版本，可以在无gpu的机器上运行吗？",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "haoyuying",
        "created_at": "2020-09-14T09:55:39+00:00",
        "updated_at": "2021-04-14T11:58:33+00:00",
        "closed_at": "2021-04-14T11:58:33+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 891,
        "title": "使用Paddlehub推理时RuntimeError: Request Hub-Server unsuccessfully, please check your network.",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.8.2，PaddlePaddle1.8.4.post107\r\n2）系统环境：请您描述系统类型:CentOS7.7，python版本:3.6.9\r\n- 复现信息：\r\n使用Paddlehub训练好的模型放到无外网机器上进行推理时，报如下错误：\r\nRequest Hub-Server unsuccessfully.\r\n[2020-09-12 06:59:57,212] [    INFO] - Installing bert_chinese_L_12_H_768_A_12 module\r\n[2020-09-12 06:59:57,223] [   ERROR] - Request Hub-Server unsuccessfully, please check your network.\r\nTraceback (most recent call last):\r\n  File \"predict.py\", line 44, in <module>\r\n    module = hub.Module(name=\"bert_chinese_L_12_H_768_A_12\")\r\n  File \"/usr/local/python3/lib/python3.6/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.6/site-packages/paddlehub/module/module.py\", line 174, in init_with_name\r\n    raise RuntimeError(tips)\r\nRuntimeError: Request Hub-Server unsuccessfully, please check your network.\r\n预训练模型已经放到.paddlehub下了 但还是提示这个\r\n![image](https://user-images.githubusercontent.com/30836214/92993676-0a625400-f526-11ea-96c0-a8c72d348bc9.png)\r\n尝试设置${HUB_HOME}环境变量 export HUB_HOME=/home/chapterix后，再次尝试也无效\r\n![image](https://user-images.githubusercontent.com/30836214/92993699-4bf2ff00-f526-11ea-8887-2c69fd57a2d2.png)\r\n\r\n请帮忙解决~\r\n",
        "state": "closed",
        "user": "wangjc7",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-12T10:33:17+00:00",
        "updated_at": "2020-12-17T08:54:57+00:00",
        "closed_at": "2020-09-15T01:43:47+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Devindan",
            "1253970836",
            "1253970836",
            "Devindan",
            "1253970836"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 895,
        "title": "使用paddlehub自定义任务，具体是自定义文本分类任务中的评价指标时按照官方文档的方法做了之后报错了，请问应该如何解决？",
        "body": "\r\n**### 我的版本、环境信息**\r\n1）PaddleHub 1.8.2和PaddlePaddle版本1.8.4\r\n2）系统环境：在Windows的AiStudio网页端跑的，python版本为3.7\r\n- 复现信息：\r\n### **执行的操作：**\r\n参考这里[https://github.com/PaddlePaddle/PaddleHub/wiki/%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9Task%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95%EF%BC%9F](url)意图修改paddlehub中的hub.TextClassifierTask的默认的评价指标**_（目前是计划先按照文档把默认指标”acc\"改成“f1\",进而学会怎么改成macro_f1、microf1、召回率）_**，这部分代码如下：\r\n`import numpy as np\r\n\r\ndef calculate_f1_np(preds, labels):\r\n    # 计算F1分数\r\n    # preds：预测label\r\n    # labels： 真实labels\r\n    # 返回F1分数\r\n    preds = np.array(preds)\r\n    labels = np.array(labels)\r\n    tp = np.sum((labels == 1) & (preds == 1))\r\n    tn = np.sum((labels == 0) & (preds == 0))\r\n    fp = np.sum((labels == 0) & (preds == 1))\r\n    fn = np.sum((labels == 1) & (preds == 0))\r\n    p = tp / (tp + fp) if (tp + fp) else 0\r\n    r = tp / (tp + fn) if (tp + fn) else 0\r\n    f1 = (2 * p * r) / (p + r) if p + r else 0\r\n    return f1\r\n\r\ndef calculate_metrics(self, run_states):\r\n    loss_sum = acc_sum = run_examples = 0\r\n    run_step = run_time_used = 0\r\n    all_labels = np.array([])\r\n    all_infers = np.array([])\r\n    for run_state in run_states:\r\n        run_examples += run_state.run_examples\r\n        run_step += run_state.run_step\r\n        loss_sum += np.mean(\r\n            run_state.run_results[-1]) * run_state.run_examples\r\n        acc_sum += np.mean(\r\n            run_state.run_results[2]) * run_state.run_examples\r\n        np_labels = run_state.run_results[0]\r\n        np_infers = run_state.run_results[1]\r\n        all_labels = np.hstack((all_labels, np_labels.reshape([-1])))\r\n        all_infers = np.hstack((all_infers, np_infers.reshape([-1])))\r\n\r\n    run_time_used = time.time() - run_states[0].run_time_begin\r\n    avg_loss = loss_sum / run_examples\r\n    run_speed = run_step / run_time_used\r\n\r\n    scores = OrderedDict()\r\n    f1 = calculate_f1_np(all_infers, all_labels)\r\n    scores[\"f1\"] = f1\r\n\r\n    return scores, avg_loss, run_speed\r\n\r\nfrom tb_paddle import SummaryWriter\r\ntb_writer = SummaryWriter(\"PATH/TO/LOG\")\r\ndef record_value(evaluation_scores, loss, s):\r\n    tb_writer.add_scalar(\r\n        tag=\"Loss_{}\".format(self.phase),\r\n        scalar_value=loss,\r\n        global_step=self._envs['train'].current_step)\r\n    log_scores = \"\"\r\n    for metric in evaluation_scores:\r\n        self.tb_writer.add_scalar(\r\n            tag=\"{}_{}\".format(metric, self.phase),\r\n            scalar_value=scores[metric],\r\n            global_step=self._envs['train'].current_step)\r\n        log_scores += \"%s=%.5f \" % (metric, scores[metric])\r\n    print(\"step %d / %d: loss=%.5f %s[step/sec: %.2f]\" %\r\n            (self.current_step, self.max_train_steps, avg_loss,\r\n                log_scores, run_speed))\r\n\r\ndef new_log_interval_event(self, run_states)：\r\n    print(\"This is the new log_interval_event!\")\r\n    scores, avg_loss, run_speed = calculate_metrics(run_states)\r\n    record_value(scores, avg_loss, run_speed)\r\n\r\ncls_task.delete_hook(hook_type=\"log_interval_event\", name=\"default\")\r\ncls_task.add_hook(hook_type=\"log_interval_event\", name=\"new_log_interval_event\", func=new_log_interval_event)\r\ncls_task.hook_info()`\r\n**### 报错信息如下**\r\nThis is the new log_interval_event!\r\n\r\n---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)<ipython-input-10-de34726f263a> in <module>\r\n      1 #run_states = cls_task.finetune_and_eval()\r\n----> 2 cls_task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n    943 \r\n    944     def finetune_and_eval(self):\r\n--> 945         return self.finetune(do_eval=True)\r\n    946 \r\n    947     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n    964                 while self.current_epoch <= self.config.num_epoch:\r\n    965                     self.config.strategy.step()\r\n--> 966                     run_states = self._run(do_eval=do_eval)\r\n    967                     self.env.current_epoch += 1\r\n    968 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n   1222                 if self.is_train_phase:\r\n   1223                     if self.current_step % self.config.log_interval == 0:\r\n-> 1224                         self._log_interval_event(period_run_states)\r\n   1225                         global_run_states += period_run_states\r\n   1226                         period_run_states = []\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in hook_function(self, *args)\r\n    708                     func(*args)\r\n    709                 else:\r\n--> 710                     partial(func, self)(*args)\r\n    711 \r\n    712         return hook_function\r\n<ipython-input-8-8777b1d08ede> in new_log_interval_event(self, run_states)\r\n     73     # 改写的事件方法，参数列表务必与PaddleHub内置的相应方法保持一致\r\n     74     print(\"This is the new log_interval_event!\")\r\n---> 75     scores, avg_loss, run_speed = calculate_metrics(run_states)\r\n     76     record_value(scores, avg_loss, run_speed)\r\n     77 \r\nTypeError: calculate_metrics() missing 1 required positional argument: 'run_states'\r\n\r\n\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "Masterkmp",
        "created_at": "2020-09-15T16:36:30+00:00",
        "updated_at": "2020-09-16T06:55:27+00:00",
        "closed_at": "2020-09-16T02:23:47+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Masterkmp",
            "Masterkmp",
            "Masterkmp"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 896,
        "title": "希望能增加paddhub文本多分类任务的评价指标",
        "body": "### **希望能增加paddhub文本多分类任务的评价指标，比如macro_f1 micro_f1 micro_recall micro_recall macro_precision micro_precision,目前paddlehub文本分类模块不支持这些指标**\r\n\r\n- 1、这些指标用于文本多分类任务，目的是对不平衡数据集进行合理的评价\r\n- 2、可能的解决方案\r\n[`[`也许可以修改接口实现，参考](https://github.com/PaddlePaddle/PaddleHub/wiki/%E5%A6%82%E4%BD%95%E4%BF%AE%E6%94%B9Task%E5%86%85%E7%BD%AE%E6%96%B9%E6%B3%95%EF%BC%9F)。但是我根据官方文档修改后报错了，不知道怎么回事。\r\n\r\n\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-16T01:57:38+00:00",
        "updated_at": "2020-09-17T02:04:56+00:00",
        "closed_at": "2020-09-17T02:04:56+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Masterkmp",
            "Steffy-zxf"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 899,
        "title": "关于https://github.com/PaddlePaddle/PaddleHub/issues/895的提问",
        "body": "[https://github.com/PaddlePaddle/PaddleHub/issues/895](url)\r\n你好，感谢回复！还有几个问题\r\n问题1：\r\n\r\n请问[https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.8/docs/reference/task/text_classify_task.md]里面的metrics_choices(\"default\" or list ⊂ [\"acc\", \"precision\", \"recall\", \"f1\", \"matthews\"])是只用于二分类的吗，不能用于多分类，那么我需要改写评价指标了？\r\n问题2：\r\n\r\nmetrics_choices(\"default\" or list ⊂ [\"acc\", \"precision\", \"recall\", \"f1\", \"matthews\"]): 其中指定的第一个指标将被作为主指标用于判断当前得分是否为最佳分值。如果我需要的指标同等重要，应该如何修改呢？",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-16T02:31:30+00:00",
        "updated_at": "2020-09-17T02:04:02+00:00",
        "closed_at": "2020-09-17T02:04:02+00:00",
        "comments_count": [
            "Masterkmp",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 900,
        "title": "关于使用paddlehub调用BERT进行NER时，输入和输出序列长度不一致的问题。",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：Python 3.7 Paddlepaddle 1.7.2\r\n2）系统环境：aistudio\r\n- 复现信息：\r\n\r\nfineturn了一个BERT进行NER，predict时候发现输出序列和输入序列的长度不一致，有时输入序列的长度会大于输出序列。请问是什么原因？\r\n我猜测是tokenizer时数字没有切分，比如“2008”没有切分成\"2\"\"0\"\"0\"\"8\"，请问如果我想讲数字也切分如何做呢？感谢！\r\n",
        "state": "closed",
        "user": "Briskyu",
        "closed_by": "haoyuying",
        "created_at": "2020-09-16T06:58:26+00:00",
        "updated_at": "2021-04-14T11:58:18+00:00",
        "closed_at": "2021-04-14T11:58:18+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 901,
        "title": "自定义paddle_hub指标时，按照参考文档报错了，请问怎么解决？能否提供具体demo？",
        "body": "报错信息如下\r\n[2020-09-16 15:10:25,693] [    INFO] - Strategy with warmup, linear decay, slanted triangle learning rate, weight decay regularization, \r\n/opt/conda/envs/python35-paddle120-envb/python3.7/site-packages/paddle/fluid/executor.py:1093: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\n[2020-09-16 15:10:25,756] [    INFO] - Try loading checkpoint from hub_ernie_text_cls_demo/ckpt.meta\r\n[2020-09-16 15:10:25,756] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-09-16 15:10:25,825] [    INFO] - PaddleHub finetune start\r\n\r\nThis is the new log_interval_event!\r\n\r\n---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)<ipython-input-23-de34726f263a> in <module>\r\n      1 #run_states = cls_task.finetune_and_eval()\r\n----> 2 cls_task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-envb/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n    943 \r\n    944     def finetune_and_eval(self):\r\n--> 945         return self.finetune(do_eval=True)\r\n    946 \r\n    947     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-envb/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n    964                 while self.current_epoch <= self.config.num_epoch:\r\n    965                     self.config.strategy.step()\r\n--> 966                     run_states = self._run(do_eval=do_eval)\r\n    967                     self.env.current_epoch += 1\r\n    968 \r\n/opt/conda/envs/python35-paddle120-envb/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n   1222                 if self.is_train_phase:\r\n   1223                     if self.current_step % self.config.log_interval == 0:\r\n-> 1224                         self._log_interval_event(period_run_states)\r\n   1225                         global_run_states += period_run_states\r\n   1226                         period_run_states = []\r\n/opt/conda/envs/python35-paddle120-envb/python3.7/site-packages/paddlehub/finetune/task/base_task.py in hook_function(self, *args)\r\n    708                     func(*args)\r\n    709                 else:\r\n--> 710                     partial(func, self)(*args)\r\n    711 \r\n    712         return hook_function\r\n<ipython-input-22-0c27e1cae3e0> in new_log_interval_event(self, run_states)\r\n     66     # 改写的事件方法，参数列表务必与PaddleHub内置的相应方法保持一致\r\n     67     print(\"This is the new log_interval_event!\")\r\n---> 68     scores, avg_loss, run_speed = calculate_metrics(run_states)\r\n     69     record_value(scores, avg_loss, run_speed)\r\n     70 \r\nTypeError: calculate_metrics() missing 1 required positional argument: 'run_states'\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "haoyuying",
        "created_at": "2020-09-16T07:20:33+00:00",
        "updated_at": "2021-04-14T11:58:05+00:00",
        "closed_at": "2021-04-14T11:58:05+00:00",
        "comments_count": [
            "Masterkmp",
            "kinghuin",
            "Masterkmp",
            "kinghuin",
            "Masterkmp",
            "kinghuin",
            "Masterkmp",
            "kinghuin",
            "Masterkmp",
            "kinghuin",
            "Masterkmp",
            "kinghuin",
            "Masterkmp",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 902,
        "title": "希望官方能给出完成的修改方案，怎么自定义paddlehub的评价指标？需要macro_f1、micro_f1、macro_recall、micro_recall、macro_precision、micro_precision;",
        "body": "以下问题均为未解决问题\r\n#896 #895 #899 #901 ",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-16T14:16:53+00:00",
        "updated_at": "2020-09-17T02:00:23+00:00",
        "closed_at": "2020-09-17T02:00:23+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 904,
        "title": "paddlehub自定义数据训练时 报错：ZeroDivisionError: float division by zero",
        "body": "代码如下\r\nimport argparse\r\nimport ast\r\n\r\nimport paddle.fluid as fluid\r\nimport paddlehub as hub\r\nfrom paddlehub.dataset.base_nlp_dataset import BaseNLPDataset\r\nparser = argparse.ArgumentParser(__doc__)\r\nparser.add_argument(\"--num_epoch\", type=int, default=3, help=\"Number of epoches for fine-tuning.\")\r\nparser.add_argument(\"--use_gpu\", type=ast.literal_eval, default=False, help=\"Whether use GPU for fine-tuning, input should be True or False\")\r\nparser.add_argument(\"--checkpoint_dir\", type=str, default=\"./aimoli\", help=\"Directory to model checkpoint\")\r\nparser.add_argument(\"--max_seq_len\", type=int, default=96, help=\"Number of words of the longest seqence.\")\r\nparser.add_argument(\"--batch_size\", type=int, default=32, help=\"Total examples' number in batch for training.\")\r\nargs = parser.parse_args() #把parser中设置的所有\"add_argument\"给返回到args子类实例当中\r\n\r\njieba_paddle = hub.Module(name='jieba_paddle')\r\n\r\nclass DemoDataset(BaseNLPDataset):\r\n    \"\"\"DemoDataset\"\"\"\r\n    def __init__(self):\r\n        # 数据集存放位置\r\n        self.dataset_dir = r'D:\\xampp\\htdocs\\python\\log\\data' #\"/data/semantic/\"\r\n        super(DemoDataset, self).__init__(\r\n            base_path=self.dataset_dir,\r\n            train_file=\"train_test.tsv\",\r\n            dev_file=\"dev_test.tsv\",\r\n            test_file=\"test_test.tsv\",\r\n            # 如果还有预测数据（不需要文本类别label），可以放在predict.tsv\r\n            predict_file=\"test_test.tsv\",\r\n            train_file_with_header=True,\r\n            dev_file_with_header=True,\r\n            test_file_with_header=True,\r\n            # predict_file_with_header=True,\r\n            # 数据集类别集合\r\n            label_list=[\"0\", \"1\"])\r\n\r\ndef cut(text):\r\n    res = jieba_paddle.cut(text, use_paddle=False)\r\n    return res\r\n\r\n\r\nif __name__ == '__main__':\r\n    # Load Paddlehub senta pretrained model\r\n    module = hub.Module(name=\"senta_bilstm\")\r\n    inputs, outputs, program = module.context(\r\n        trainable=True, max_seq_len=args.max_seq_len)\r\n\r\n    # Tokenizer tokenizes the text data and encodes the data as model needed.\r\n    # If you use transformer modules (ernie, bert, roberta and so on), tokenizer should be hub.BertTokenizer.\r\n    # Otherwise, tokenizer should be hub.CustomTokenizer.\r\n    # If you choose CustomTokenizer, you can also change the chinese word segmentation tool, for example jieba.\r\n    tokenizer = hub.CustomTokenizer(\r\n        vocab_file=module.get_vocab_path(), #会返回预训练模型对应的词表\r\n        tokenize_chinese_chars=True,    #是否切分中文文本\r\n        cut_function=cut,  # jieba.cut as cut function\r\n    )\r\n\r\n    #准备自定义的微调数据集\r\n    dataset = DemoDataset()\r\n    print(dataset)\r\n    reader = hub.reader.LACClassifyReader(\r\n        dataset=dataset,\r\n        vocab_path=module.get_vocab_path())\r\n    # Construct transfer learning network\r\n    # Use sentence-level output. 返回了senta模型对应的句子特征,可以用于句子的特征表达\r\n    sent_feature = outputs[\"sentence_feature\"]\r\n\r\n    #选择优化策略\r\n    strategy = hub.AdamWeightDecayStrategy(\r\n        learning_rate=1e-5,\r\n        weight_decay=0.01,\r\n        warmup_proportion=0.1,\r\n        lr_scheduler=\"linear_decay\",\r\n    )\r\n    # Setup RunConfig for PaddleHub Fine-tune API\r\n    config = hub.RunConfig(\r\n        use_cuda=args.use_gpu,\r\n        num_epoch=args.num_epoch,\r\n        batch_size=args.batch_size,\r\n        checkpoint_dir=args.checkpoint_dir,\r\n        strategy=strategy)\r\n\r\n    # Define a classfication fine-tune task by PaddleHub's API\r\n    #构建网络并创建分类迁移任务进行Fine-tune\r\n    cls_task = hub.TextClassifierTask(#通过输入特征，label与迁移的类别数，可以生成适用于文本分类的迁移任务TextClassifierTask；\r\n        dataset=dataset,\r\n        feature=sent_feature,\r\n        num_classes=dataset.num_labels,\r\n        config=config)\r\n    print('start')\r\n    cls_task.finetune_and_eval()\r\n\r\nDataset有值  Dataset: DemoDataset with 17 train examples, 5 dev examples and 2 test examples 格式看起来也是正常的",
        "state": "closed",
        "user": "wcxiaowang",
        "closed_by": "haoyuying",
        "created_at": "2020-09-17T10:22:25+00:00",
        "updated_at": "2021-04-14T11:57:47+00:00",
        "closed_at": "2021-04-14T11:57:47+00:00",
        "comments_count": [
            "wcxiaowang",
            "wcxiaowang",
            "Steffy-zxf",
            "wcxiaowang",
            "Steffy-zxf",
            "wcxiaowang",
            "Steffy-zxf",
            "wcxiaowang",
            "Steffy-zxf",
            "wcxiaowang",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 909,
        "title": "关于paddle hub上的指标评测提问",
        "body": "1、paddlehub上的默认评测是指对train data、test data 、dev data中dev data的进行评测 对于某个数据集真实的评测一般都是用测试集评测作为最后的评测结果 **请问paddlehub需要用户自己编写对于测试集的评测是吗？**\r\n2、另外，想知道paddle hub怎么使用early stop？（我跑了代码 发现并没有早停）\r\n\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "Masterkmp",
        "created_at": "2020-09-20T23:38:27+00:00",
        "updated_at": "2020-09-21T00:30:30+00:00",
        "closed_at": "2020-09-21T00:30:29+00:00",
        "comments_count": [
            "Masterkmp"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 907,
        "title": "请问paddle1.8怎么调用Bi_lstm的接口呢，官方文档没有",
        "body": "paddlehub中如何调用BiLSTM进行组网？",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "haoyuying",
        "created_at": "2020-09-19T09:14:46+00:00",
        "updated_at": "2021-04-14T11:57:28+00:00",
        "closed_at": "2021-04-14T11:57:28+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Masterkmp",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 914,
        "title": "就是paddlepaddle里面的模块，每次都要加载吗？（各位哥哥姐姐，一定要帮帮我）",
        "body": "我要运行个模块，但是每次都要加载，有没有好的办法，只每次运行只让它加载一次？",
        "state": "closed",
        "user": "sunjunling666",
        "closed_by": "sunjunling666",
        "created_at": "2020-09-21T09:46:19+00:00",
        "updated_at": "2020-09-21T10:31:56+00:00",
        "closed_at": "2020-09-21T10:31:56+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 912,
        "title": "请问paddlehub如何使用Early stop?",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "haoyuying",
        "created_at": "2020-09-21T05:36:08+00:00",
        "updated_at": "2021-04-14T11:56:06+00:00",
        "closed_at": "2021-04-14T11:56:06+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 910,
        "title": "关于paddlehub可视化",
        "body": "在使用paddlehub和可视化的时候**请问怎么样才能看到训练集的曲线和验证集的指标对比曲线都在一个图里呢**，hub默认的通过可视化打开log文件只有验证集的曲线。\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "WYB27",
        "created_at": "2020-09-21T02:04:09+00:00",
        "updated_at": "2025-06-30T07:23:40+00:00",
        "closed_at": "2025-06-30T07:23:40+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Masterkmp",
            "Steffy-zxf",
            "Masterkmp",
            "ShenYuhan",
            "Masterkmp",
            "dickobe",
            "EricJoung1997",
            "ShenYuhan",
            "EricJoung1997"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 913,
        "title": "。/",
        "body": "### **请问使用paddlehub可以自定义网络吗，如果可以，应该怎么做，能否提供demo呢？**\r\n[具体来说，如官方文档给定的](https://github.com/PaddlePaddle/PaddleHub/tree/release/v1.8/demo/text_classification)\r\n`使用预置网络，可以通过hub.TextClassifierTask参数network进行指定不同的网络结构。如下代码表示选择bilstm网络拼接在Transformer类预训练模型之后。 PaddleHub文本分类任务预置网络支持BOW，Bi-LSTM，CNN，DPCNN，GRU，LSTM。指定network应是其中之一。 其中DPCNN网络实现为ACL2017-Deep Pyramid Convolutional Neural Networks for Text Categorization。`\r\n### **那么，用户可以修改这些网络吗，比如，现在想要增加一个GCN网络作为预置网络，应该怎么做呢？**\r\n\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "haoyuying",
        "created_at": "2020-09-21T05:58:22+00:00",
        "updated_at": "2021-04-14T11:55:07+00:00",
        "closed_at": "2021-04-14T11:55:06+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Masterkmp",
            "Steffy-zxf",
            "Masterkmp",
            "Masterkmp",
            "Steffy-zxf",
            "Masterkmp",
            "Steffy-zxf",
            "Masterkmp",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 919,
        "title": "组网问题暂未解决，希望官方能有一个能跑的的demo示范",
        "body": "[点击这里查看问题](https://github.com/PaddlePaddle/PaddleHub/issues/913)",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-22T08:00:09+00:00",
        "updated_at": "2020-09-23T02:10:38+00:00",
        "closed_at": "2020-09-23T02:10:38+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 916,
        "title": "模块运行问题",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？模块加载问题，同一个程序，每次运行，都要下载吗？\r\n- 什么样的场景下需要该特性？做训练的时候，节省时间\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？不能提高速度\r\n- 增加该特性，PaddleHub可能需要变化的部分。就是用第一次下载的模块，以后每次运行，就不要在下载\r\n- 如果可以的话，简要描述下您的解决方案：运行第一次，下载一次，运行第二次的时候，就可以在前一次的下载好的模块，直接使用，有助于提高速度。帮个忙，解决一下，由于可能没有读模块的作用，删除了，希望贵公司体谅。\r\n\r\n",
        "state": "closed",
        "user": "sunjunling666",
        "closed_by": "haoyuying",
        "created_at": "2020-09-21T10:31:27+00:00",
        "updated_at": "2021-04-14T11:53:13+00:00",
        "closed_at": "2021-04-14T11:53:12+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 915,
        "title": "模块，每次能不能只下载一次，我每次运行都要下载一次",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n你好，就是我运行个hub.模块。每次运行，都要下载，能不能每次只下载一次呀\r\n？？请求哥哥姐姐们帮助一下",
        "state": "closed",
        "user": "sunjunling666",
        "closed_by": "haoyuying",
        "created_at": "2020-09-21T10:07:48+00:00",
        "updated_at": "2021-04-14T11:53:55+00:00",
        "closed_at": "2021-04-14T11:53:55+00:00",
        "comments_count": [
            "Masterkmp",
            "sunjunling666",
            "sunjunling666",
            "sunjunling666",
            "sunjunling666",
            "GT-ZhangAcer",
            "wxd11011",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 918,
        "title": "Jetson Xavier NX安装PaddleHub1.8.2报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n\r\n------------------------------------------------------------------------------------------------\r\nPaddleHub:v1.8.2\r\n\r\nPaddlePaddle:v2.0.0 Beta\r\n\r\nARMLinux \r\n\r\nPython3.6\r\n\r\n\r\n\r\n--------------------------------------------------------------------------------------------------\r\nnx@nx-desktop:~/Downloads$ pip3 install paddlehub\r\nDefaulting to user installation because normal site-packages is not writeable\r\nCollecting paddlehub\r\n  Downloading paddlehub-1.8.2-py3-none-any.whl (336 kB)\r\n     |████████████████████████████████| 336 kB 214 kB/s \r\nRequirement already satisfied: pandas; python_version >= \"3\" in /usr/lib/python3/dist-packages (from paddlehub) (0.22.0)\r\nCollecting flask>=1.1.0\r\n  Using cached Flask-1.1.2-py2.py3-none-any.whl (94 kB)\r\nRequirement already satisfied: tqdm in /home/nx/.local/lib/python3.6/site-packages (from paddlehub) (4.49.0)\r\nCollecting sentencepiece\r\n  Using cached sentencepiece-0.1.91.tar.gz (500 kB)\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /usr/bin/python3 -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-s_aw3i44/sentencepiece/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-s_aw3i44/sentencepiece/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base /tmp/pip-pip-egg-info-p6wyy_8t\r\n         cwd: /tmp/pip-install-s_aw3i44/sentencepiece/\r\n    Complete output (5 lines):\r\n    Package sentencepiece was not found in the pkg-config search path.\r\n    Perhaps you should add the directory containing `sentencepiece.pc'\r\n    to the PKG_CONFIG_PATH environment variable\r\n    No package 'sentencepiece' found\r\n    Failed to find sentencepiece pkgconfig\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\r\n",
        "state": "closed",
        "user": "hang245141253",
        "closed_by": "hang245141253",
        "created_at": "2020-09-22T01:19:54+00:00",
        "updated_at": "2020-09-23T03:56:24+00:00",
        "closed_at": "2020-09-23T03:56:24+00:00",
        "comments_count": [
            "hang245141253"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 920,
        "title": "PaddleHub ernie模型如何用paddlepaddle进行推理",
        "body": "版本、环境信息:PaddleHub1.7.1，PaddlePaddle-gpu1.8.1post107;ubuntu18.04 python3.6\r\n1.利用paddlehub 加载ernietiny 模型进行训练，得到best model\r\n2.使用paddlepaddle调用训练好的best model失败\r\n调用代码\r\n\r\n- [ ] \r\n![2020-09-23 09-18-59 的屏幕截图](https://user-images.githubusercontent.com/32325982/93953434-fb796e00-fd7d-11ea-8d42-a2b7b43690dd.png)\r\n\r\n错误信息\r\n\r\n- [ ] \r\n\r\n![2020-09-23 09-49-15 的屏幕截图](https://user-images.githubusercontent.com/32325982/93955477-717fd400-fd82-11ea-8bc3-63a925dbae21.png)\r\n\r\n\r\n- [ ] 输入矩阵\r\n            print(sample[0].shape)#(1, 22, 1)\r\n            print(sample[1].shape)#(1, 22, 1)\r\n            print(sample[2].shape)#(1, 22, 1)\r\n            print(sample[4].shape)#(1, 22, 1)",
        "state": "closed",
        "user": "Xsx93",
        "closed_by": "WYB27",
        "created_at": "2020-09-23T01:26:23+00:00",
        "updated_at": "2025-06-30T07:23:38+00:00",
        "closed_at": "2025-06-30T07:23:38+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Xsx93",
            "Steffy-zxf",
            "Xsx93",
            "Steffy-zxf",
            "Xsx93",
            "Xsx93",
            "Steffy-zxf",
            "Xsx93"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 921,
        "title": "组网问题暂未解决，参考文档运行后报错",
        "body": "参考：[问题](https://github.com/PaddlePaddle/PaddleHub/issues/913)",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-23T02:21:44+00:00",
        "updated_at": "2020-09-24T01:58:45+00:00",
        "closed_at": "2020-09-24T01:58:45+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 923,
        "title": "Paddle Hub 如何在后台运行？",
        "body": "Paddle Hub （以下简称PHub）目前好像不允许后台运行，我查了文档，里没有说明。经过试验，好像只有使用nohup、setsid 之类的命令才可以让其后台运行。\r\n众所周知，在生产环境中部署，如果不支持后台运行的话，则会很麻烦，虽然可以使用nohop、setsid 命令去完成这件事，但是总感觉不是很优雅\r\n",
        "state": "closed",
        "user": "xiaomochen520",
        "closed_by": "haoyuying",
        "created_at": "2020-09-23T08:32:50+00:00",
        "updated_at": "2021-04-14T11:51:48+00:00",
        "closed_at": "2021-04-14T11:51:48+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 922,
        "title": "模型chinese_text_detection_db_mobile在C++下预测报错",
        "body": "\r\nPaddlePaddle：1.8.4\r\nPaddleHub：1.8.2\r\n模型：chinese_text_detection_db_mobile=1.0.3\r\n系统：win10\r\n编译环境：VS2019\r\n\r\n**问题描述：**\r\n使用C++部署方式，按照文档提示，测试PaddleHub中的文字检测模型“chinese_text_detection_db_mobile”时，在预测时报错。\r\n\r\n> 报错内容如下：\r\n\r\n```\r\n`--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\nWindows not support stack backtrace yet.\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: Broadcast dimension mismatch. Operands could not be broadcast together with the shape of X = [1, 96, 12, 40] and the shape of Y = [1, 96, 11, 40]. Received [12] in X is not equal to [11] in Y at i:2.\r\n  [Hint: Expected x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1 == true, but received x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1:0 != true:1.] at (D:\\1.8.2\\paddle\\paddle/fluid/operators/elementwise/elementwise_op_function.h:157)`\r\n```\r\n\r\n\r\n\r\n> 实际的调用代码如下：\r\n\r\n```\r\n        void Pridict(cv::Mat& mat)\r\n        {\r\n            int batch_size = 1;\r\n            int channels = mat.channels();\r\n            int height = mat.rows;\r\n            int width = mat.cols;\r\n            int nums = batch_size * channels * height * width;\r\n\r\n            float* input = new float[nums] {0};\r\n            cv::Mat newMat;\r\n            mat.convertTo(newMat, CV_32FC3);\r\n\r\n            // data format NHWC to NCHW\r\n            int idx = 0;\r\n            for (int i = 0; i < batch_size; ++i)\r\n            {\r\n                int offsetBatch = i * width * height * channels;\r\n                for (int j = 0; j < height; ++j)\r\n                {\r\n                    for (int k = 0; k < width; ++k)\r\n                    {\r\n                        auto data = newMat.at<cv::Vec3f>(j, k);\r\n                        int offset = j * width + k;\r\n                        input[offsetBatch + offset] = data[0];\r\n                        input[offsetBatch + width * height + offset] = data[1];\r\n                        input[offsetBatch + width * height * 2 + offset] = data[2];\r\n                    }\r\n                }\r\n            }\r\n            //for (int i = 0; i < channels; ++i) {\r\n            //    cv::extractChannel(newMat, cv::Mat(height, width, CV_32FC1, input + i * height * width), i);\r\n            //}\r\n            auto input_names = predictor->GetInputNames();\r\n            auto input_t = predictor->GetInputTensor(input_names[0]);\r\n            input_t->Reshape({ batch_size, channels, height, width });\r\n            input_t->copy_from_cpu(input);\r\n\r\n            //此处执行后报错\r\n            predictor->ZeroCopyRun();\r\n\r\n            std::vector<float> out_data;\r\n            auto output_names = predictor->GetOutputNames();\r\n            auto output_t = predictor->GetOutputTensor(output_names[0]);\r\n            std::vector<int> output_shape = output_t->shape();\r\n            int out_num = std::accumulate(output_shape.begin(), output_shape.end(), 1,\r\n                std::multiplies<int>());\r\n\r\n            out_data.resize(out_num);\r\n            output_t->copy_to_cpu(out_data.data());\r\n            delete[] input;\r\n        }\r\n```\r\n其中mat是直接从文件加载的一个jpg文件，又遇到类似情况的没有？还请各位大佬指导一下是什么原因，如何解决？\r\n谢谢大家。",
        "state": "closed",
        "user": "ylj135cool",
        "closed_by": "WYB27",
        "created_at": "2020-09-23T04:00:32+00:00",
        "updated_at": "2025-06-30T07:23:36+00:00",
        "closed_at": "2025-06-30T07:23:36+00:00",
        "comments_count": [
            "LDOUBLEV",
            "ylj135cool",
            "LDOUBLEV",
            "ylj135cool",
            "LDOUBLEV",
            "ylj135cool",
            "ylj135cool"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 924,
        "title": "Is it necessary to specify the backend? Since 'Agg' will stop plt.show() in jupyter notebook img display",
        "body": "https://github.com/PaddlePaddle/PaddleHub/blob/2758efec5be1dc983557aa8ed8dd4fbea53e5afc/paddlehub/contrib/ppdet/utils/coco_eval.py#L26\r\n\r\n![图片](https://user-images.githubusercontent.com/50793718/94218734-a7a28c80-ff17-11ea-8bcb-2b88075e3081.png)\r\n",
        "state": "closed",
        "user": "randomseed42",
        "closed_by": "haoyuying",
        "created_at": "2020-09-25T02:13:04+00:00",
        "updated_at": "2021-04-14T11:51:30+00:00",
        "closed_at": "2021-04-14T11:51:30+00:00",
        "comments_count": [
            "haoyuying",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 925,
        "title": "paddle自定义组网提问",
        "body": "你好，现在我需要在ernie搭建lstm，GNN等网络实现自定义组网的文本分类任务，现在假设我要实现自定义的ernie+listm网络。目前我参考了[476](https://github.com/PaddlePaddle/PaddleHub/issues/476)和[官方文档define_task_example](https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.8/docs/tutorial/define_task_example.md)，一直报错，请问如何解决呢，我也一直在调试，四天了还没有解决自定义组网的问题，该参考的都参考了，实际上参考的问题别人最后也没有最终解决，文档给出的[define_task_example](https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.8/docs/tutorial/define_task_example.md)是描述的序列生成任务demo，而我需要做的是文本分类任务，当然方法是类似的，但是没有文本分类的自定义组网的参考。需要继承paddlehub\\finetune\\task\\classifier_task.py中的ClassifierTask类实现新的文本分类任务,并且我也知道要通过继承ClassifierTask后覆盖def _build_net(self)等方法，甚至直接把class TextClassifierTask(ClassifierTask)里的代码直接拿来重写，但是依旧报错（不重写直接调用就没问题），**这个问题已经耽误太长时间，真心希望paddlehub官方能帮着解决一下,而不是只给我一个实际没有解决的问题参考和不太完善的文档参考。**\r\n下面贴一下代码：\r\n1、自定义组网部分\r\n![图片](https://user-images.githubusercontent.com/37642547/94257259-95e3d800-ff5d-11ea-83d9-769772b2138e.png)\r\n![图片](https://user-images.githubusercontent.com/37642547/94257274-9da37c80-ff5d-11ea-90cf-35104d4a8064.png)\r\n![图片](https://user-images.githubusercontent.com/37642547/94257312-abf19880-ff5d-11ea-869e-4eeaa471320f.png)\r\n![图片](https://user-images.githubusercontent.com/37642547/94257345-bf046880-ff5d-11ea-9380-123660f8cda0.png)\r\n![图片](https://user-images.githubusercontent.com/37642547/94257378-caf02a80-ff5d-11ea-86e7-4379f36617f9.png)\r\n这段代码跑出来没问题，然后\r\n![图片](https://user-images.githubusercontent.com/37642547/94257144-6d5bde00-ff5d-11ea-9449-0e12cfabd416.png)\r\n这里开始报错了，如下：\r\n`\r\n[2020-09-25 17:47:25,022] [ WARNING] - PaddleHub v1.8 has deprecated the reader and feed_list parameters in the nlp Task. We provided an easier usage, in which you can use your tokenizer to preprocess dataset and run task in a clear flow. New demo see https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.8/demo/text_classification/text_cls.py\r\n[2020-09-25 17:47:25,495] [    INFO] - Strategy with warmup, linear decay, slanted triangle learning rate, weight decay regularization, \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py:1093: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\n[2020-09-25 17:47:25,509] [    INFO] - Try loading checkpoint from testdemo/ckpt.meta\r\n[2020-09-25 17:47:25,510] [    INFO] - PaddleHub model checkpoint not found, start from scratch...\r\n[2020-09-25 17:47:25,546] [    INFO] - PaddleHub finetune start\r\n\r\n---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)<ipython-input-4-09b408f492e5> in <module>\r\n     11 \r\n     12 #开始Finetune\r\n---> 13 run_states = cls_task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n    943 \r\n    944     def finetune_and_eval(self):\r\n--> 945         return self.finetune(do_eval=True)\r\n    946 \r\n    947     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n    964                 while self.current_epoch <= self.config.num_epoch:\r\n    965                     self.config.strategy.step()\r\n--> 966                     run_states = self._run(do_eval=do_eval)\r\n    967                     self.env.current_epoch += 1\r\n    968 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n   1174             if self.config.use_pyreader:\r\n   1175                 data_loader = fluid.io.DataLoader.from_generator(\r\n-> 1176                     feed_list=self.feed_var_list,\r\n   1177                     capacity=64,\r\n   1178                     use_double_buffer=True,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in feed_var_list(self)\r\n    666 \r\n    667         vars = self.main_program.global_block().vars\r\n--> 668         return [vars[varname] for varname in self.feed_list]\r\n    669 \r\n    670     @property\r\nTypeError: 'method' object is not iterable\r\n`\r\n\r\n\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "haoyuying",
        "created_at": "2020-09-25T10:36:07+00:00",
        "updated_at": "2021-04-14T11:51:15+00:00",
        "closed_at": "2021-04-14T11:51:15+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 928,
        "title": "Segmentation fault (core dumped)",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\npaddle版本如下：\r\npaddlehub==1.8.2\r\npaddlepaddle-gpu==1.8.3.post107\r\n\r\n环境是基于docker image: \r\nnvidia/cuda:10.1-cudnn8-runtime-centos7\r\n在这个基础上安装了python3.7和一些项目中需要的库比如 cv2\r\n\r\n```\r\nFROM nvidia/cuda:10.1-cudnn8-runtime-centos7\r\nENV PYTHONUNBUFFERED 1\r\n\r\nRUN yum install -y cron vim screen mesa-libGL.x86_64 libSM-1.2.2-2.el7.x86_64\r\nRUN yum install -y zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make\r\nRUN yum install -y libffi-devel\r\nRUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\r\nRUN mkdir /code\r\nWORKDIR /code\r\nRUN mkdir /data\r\nCOPY ./data/Python-3.7.0.tgz /data/Python-3.7.0.tgz\r\nRUN cd /data && tar zxvf Python-3.7.0.tgz\r\nRUN cd /data/Python-3.7.0 && ./configure && make clean && make && make install\r\nRUN mv /usr/bin/python /usr/bin/python.bak\r\nRUN ln -s /usr/local/bin/python3 /usr/bin/python\r\nRUN ln -s /usr/local/bin/pip3 /usr/bin/pip\r\nRUN pip install pqi\r\nRUN pqi use douban\r\nRUN pip install --upgrade pip\r\nRUN pip install ipython\r\nCOPY requirements.txt ./\r\nRUN pip install -r requirements.txt\r\nRUN pip install paddlepaddle-gpu\r\n```\r\n\r\n```\r\n// requirements.txt\r\npika~=1.1.0\r\nminio~=6.0.0\r\nopencv-python~=4.2.0.32\r\nnumpy~=1.19.2\r\npaddlehub\r\n```\r\n\r\n\r\n这时候执行`paddle.fluid.install_check.run_check()`会报错找不到`libcublas.so`和`libcudnn.so`。\r\n然后我通过`locate libcublas.so` 和 `locate libcudnn.so`发现他们在\r\n```\r\n/usr/lib64/libcudnn.so.8\r\n/usr/lib64/libcudnn.so.8.0.2\r\n```\r\n```\r\n/usr/lib64/libcublas.so.10\r\n/usr/lib64/libcublas.so.10.2.1.243\r\n```\r\n所以我执行了\r\n```\r\nln -s /usr/lib64/libcudnn.so.8 /usr/lib64/libcudnn.so\r\nln -s /usr/lib64/libcublas.so.10 /usr/lib64/libcublas.so\r\n```\r\n哦对了，我的 `LD_LIBRARY_PATH=/usr/lib64/` 环境变量是这样的\r\n然后 `paddle.fluid.install_check.run_check()` 就不报错了。如下：\r\n```\r\nIn [2]: paddle.fluid.install_check.run_check()\r\nRunning Verify Fluid Program ... \r\nW0927 17:31:19.729128   165 device_context.cc:252] Please NOTE: device: 0, CUDA Capability: 60, Driver API Version: 10.2, Runtime API Version: 10.0\r\nW0927 17:31:19.732339   165 device_context.cc:260] device: 0, cuDNN Version: 8.0.\r\nYour Paddle Fluid works well on SINGLE GPU or CPU.\r\nYour Paddle Fluid works well on MUTIPLE GPU or CPU.\r\nYour Paddle Fluid is installed successfully! Let's start deep Learning with Paddle Fluid now\r\n```\r\n\r\n\r\n现在的问题是：\r\n跑deeplabv3p_xception65_humanseg 抠图模型报错如下\r\n\r\n```\r\n[2020-09-27 18:15:17,949] [    INFO] - Installing deeplabv3p_xception65_humanseg module\r\n[2020-09-27 18:15:18,022] [    INFO] - Module deeplabv3p_xception65_humanseg already installed in /root/.paddlehub/modules/deeplabv3p_xception65_humanseg\r\nSegmentation fault (core dumped)\r\n```\r\n\r\n看起来是解释器直接崩了，不知道如何debug，也不知道为什么会这样，代码原来用cpu跑一直是可用的\r\n\r\n\r\n简化的代码：\r\n```\r\nhuman_seg_module = hub.Module(name=\"deeplabv3p_xception65_humanseg\")\r\nimg_bytes = open('xxxxxxx', 'rb').read()\r\norigin_img_3_channels = cv2.imdecode(np.frombuffer(img_bytes, np.uint8), 1)\r\nresults = human_seg_module.segmentation(images=[origin_img_3_channels], use_gpu=True)\r\n```\r\n\r\n就这最后一句执行的时候就崩了，求帮助，感谢！\r\n\r\n",
        "state": "closed",
        "user": "ttc9082",
        "closed_by": "haoyuying",
        "created_at": "2020-09-27T10:36:11+00:00",
        "updated_at": "2021-04-14T11:50:35+00:00",
        "closed_at": "2021-04-14T11:50:35+00:00",
        "comments_count": [
            "ttc9082",
            "haoyuying",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 930,
        "title": "请问如何在paddle中使用pyltp句法分析工具？",
        "body": "在AIstudio执行！pip install pyltp报错\r\n`\r\n creating build\r\n  creating build/temp.linux-x86_64-3.7\r\n  creating build/temp.linux-x86_64-3.7/src\r\n  creating build/temp.linux-x86_64-3.7/ltp\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/regex\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/regex/src\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/program_options\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/program_options/src\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/serialization\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/serialization/src\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/smart_ptr\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/smart_ptr/src\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/dynet\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/dynet/dynet\r\n  creating build/temp.linux-x86_64-3.7/ltp/thirdparty/maxent\r\n  creating build/temp.linux-x86_64-3.7/ltp/src\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/splitsnt\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/segmentor\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/postagger\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/ner\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/parser.n\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/srl\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/srl/common\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/srl/common/model\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/srl/common/structure\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/srl/include\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/srl/include/base\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/srl/Srl\r\n  creating build/temp.linux-x86_64-3.7/ltp/src/srl/Srl/model\r\n  creating build/temp.linux-x86_64-3.7/patch\r\n  creating build/temp.linux-x86_64-3.7/patch/libs\r\n  creating build/temp.linux-x86_64-3.7/patch/libs/python\r\n  creating build/temp.linux-x86_64-3.7/patch/libs/python/src\r\n  creating build/temp.linux-x86_64-3.7/patch/libs/python/src/object\r\n  creating build/temp.linux-x86_64-3.7/patch/libs/python/src/converter\r\n  gcc -pthread -B /opt/conda/envs/python35-paddle120-env/compiler_compat -Wl,--sysroot=/ -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -Iltp/include/ -Iltp/thirdparty/boost/include/ -Iltp/thirdparty/dynet/ -Iltp/thirdparty/eigen/ -Iltp/thirdparty/maxent/ -Iltp/src/ -Iltp/src/splitsnt -Iltp/src/segmentor/ -Iltp/src/postagger/ -Iltp/src/ner/ -Iltp/src/parser.n/ -Iltp/src/srl/ -Iltp/src/srl/common/ -Iltp/src/srl/include/ -Iltp/src/srl/Pi/ -Iltp/src/srl/Srl/ -Iltp/src/srl/tool/ -Iltp/src/utils/ -Ipatch/include/ -I/opt/conda/envs/python35-paddle120-env/include/python3.7m -c src/pyltp.cpp -o build/temp.linux-x86_64-3.7/src/pyltp.o -std=c++0x\r\n  gcc: error trying to exec 'cc1plus': execvp: No such file or directory\r\n  error: command 'gcc' failed with exit status 1\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for pyltp\r\n  Running setup.py clean for pyltp\r\nFailed to build pyltp\r\nInstalling collected packages: pyltp\r\n  Running setup.py install for pyltp ... error\r\n    ERROR: Command errored out with exit status 1:\r\n     command: /opt/conda/envs/python35-paddle120-env/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-kasne8w8/pyltp/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-kasne8w8/pyltp/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-nypnwx4w/install-record.txt --single-version-externally-managed --compile\r\n         cwd: /tmp/pip-install-kasne8w8/pyltp/\r\n    Complete output (45 lines):\r\n    running install\r\n    running build\r\n    running build_ext\r\n    building 'pyltp' extension\r\n    creating build\r\n    creating build/temp.linux-x86_64-3.7\r\n    creating build/temp.linux-x86_64-3.7/src\r\n    creating build/temp.linux-x86_64-3.7/ltp\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/regex\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/regex/src\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/program_options\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/program_options/src\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/serialization\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/serialization/src\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/smart_ptr\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/boost/libs/smart_ptr/src\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/dynet\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/dynet/dynet\r\n    creating build/temp.linux-x86_64-3.7/ltp/thirdparty/maxent\r\n    creating build/temp.linux-x86_64-3.7/ltp/src\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/splitsnt\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/segmentor\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/postagger\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/ner\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/parser.n\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/srl\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/srl/common\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/srl/common/model\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/srl/common/structure\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/srl/include\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/srl/include/base\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/srl/Srl\r\n    creating build/temp.linux-x86_64-3.7/ltp/src/srl/Srl/model\r\n    creating build/temp.linux-x86_64-3.7/patch\r\n    creating build/temp.linux-x86_64-3.7/patch/libs\r\n    creating build/temp.linux-x86_64-3.7/patch/libs/python\r\n    creating build/temp.linux-x86_64-3.7/patch/libs/python/src\r\n    creating build/temp.linux-x86_64-3.7/patch/libs/python/src/object\r\n    creating build/temp.linux-x86_64-3.7/patch/libs/python/src/converter\r\n    gcc -pthread -B /opt/conda/envs/python35-paddle120-env/compiler_compat -Wl,--sysroot=/ -Wsign-compare -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -Iltp/include/ -Iltp/thirdparty/boost/include/ -Iltp/thirdparty/dynet/ -Iltp/thirdparty/eigen/ -Iltp/thirdparty/maxent/ -Iltp/src/ -Iltp/src/splitsnt -Iltp/src/segmentor/ -Iltp/src/postagger/ -Iltp/src/ner/ -Iltp/src/parser.n/ -Iltp/src/srl/ -Iltp/src/srl/common/ -Iltp/src/srl/include/ -Iltp/src/srl/Pi/ -Iltp/src/srl/Srl/ -Iltp/src/srl/tool/ -Iltp/src/utils/ -Ipatch/include/ -I/opt/conda/envs/python35-paddle120-env/include/python3.7m -c src/pyltp.cpp -o build/temp.linux-x86_64-3.7/src/pyltp.o -std=c++0x\r\n    gcc: error trying to exec 'cc1plus': execvp: No such file or directory\r\n    error: command 'gcc' failed with exit status 1\r\n    ----------------------------------------\r\nERROR: Command errored out with exit status 1: /opt/conda/envs/python35-paddle120-env/bin/python -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/tmp/pip-install-kasne8w8/pyltp/setup.py'\"'\"'; __file__='\"'\"'/tmp/pip-install-kasne8w8/pyltp/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /tmp/pip-record-nypnwx4w/install-record.txt --single-version-externally-managed --compile Check the logs for full command output.\r\n`",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-28T01:02:34+00:00",
        "updated_at": "2020-09-28T02:03:17+00:00",
        "closed_at": "2020-09-28T02:03:17+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 931,
        "title": "怎么在paddle中自定义GCN报错，可以帮忙看看吗",
        "body": "现在自定义网络bilstm+gcn\r\n![图片](https://user-images.githubusercontent.com/37642547/94381234-32c79080-016b-11eb-995e-7dadb76a6e97.png)\r\n![图片](https://user-images.githubusercontent.com/37642547/94381279-61de0200-016b-11eb-9640-834ab1e3a0f8.png)\r\n![图片](https://user-images.githubusercontent.com/37642547/94381340-9c479f00-016b-11eb-8b8d-b6c169a01f14.png)\r\n执行run_states = cls_task.finetune_and_eval()报错如下：\r\n`\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py:1070: UserWarning: The following exception is not an EOF exception.\r\n  \"The following exception is not an EOF exception.\")\r\n---------------------------------------------------------------------------EnforceNotMet                             Traceback (most recent call last)<ipython-input-11-de85a7f3be94> in <module>\r\n      1 #开始Finetune\r\n      2 print(\"忽略上面的的提示，这里已经对组网方式修改了，使用的并不是默认的bilstm!!!!\")\r\n----> 3 run_states = cls_task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n    943 \r\n    944     def finetune_and_eval(self):\r\n--> 945         return self.finetune(do_eval=True)\r\n    946 \r\n    947     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n    964                 while self.current_epoch <= self.config.num_epoch:\r\n    965                     self.config.strategy.step()\r\n--> 966                     run_states = self._run(do_eval=do_eval)\r\n    967                     self.env.current_epoch += 1\r\n    968 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _run(self, do_eval)\r\n   1210                     feed=batch,\r\n   1211                     fetch_list=self.fetch_list,\r\n-> 1212                     return_numpy=self.return_numpy)\r\n   1213                 if not self.return_numpy:\r\n   1214                     fetch_result = [np.array(x) for x in fetch_result]\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache, return_merged, use_prune)\r\n   1069                 warnings.warn(\r\n   1070                     \"The following exception is not an EOF exception.\")\r\n-> 1071             six.reraise(*sys.exc_info())\r\n   1072 \r\n   1073     def _run_impl(self, program, feed, fetch_list, feed_var_name,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py in reraise(tp, value, tb)\r\n    701             if value.__traceback__ is not tb:\r\n    702                 raise value.with_traceback(tb)\r\n--> 703             raise value\r\n    704         finally:\r\n    705             value = None\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in run(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache, return_merged, use_prune)\r\n   1064                 use_program_cache=use_program_cache,\r\n   1065                 use_prune=use_prune,\r\n-> 1066                 return_merged=return_merged)\r\n   1067         except Exception as e:\r\n   1068             if not isinstance(e, core.EOFException):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run_impl(self, program, feed, fetch_list, feed_var_name, fetch_var_name, scope, return_numpy, use_program_cache, return_merged, use_prune)\r\n   1165                 fetch_var_name=fetch_var_name,\r\n   1166                 return_numpy=return_numpy,\r\n-> 1167                 return_merged=return_merged)\r\n   1168 \r\n   1169     def _run_program(self, program, feed, fetch_list, feed_var_name,\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py in _run_parallel(self, program, scope, feed, fetch_list, fetch_var_name, return_numpy, return_merged)\r\n    877 \r\n    878         fetch_var_names = list(map(_to_name_str, fetch_list))\r\n--> 879         tensors = exe.run(fetch_var_names, return_merged)._move_to_list()\r\n    880         return as_numpy(tensors) if return_numpy else tensors\r\n    881 \r\nEnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<std::string const&>(std::string const&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2   paddle::framework::OperatorWithKernel::ParseInputDataType(paddle::framework::ExecutionContext const&, std::string const&, paddle::framework::proto::VarType_Type*) const\r\n3   paddle::framework::OperatorWithKernel::IndicateDataType(paddle::framework::ExecutionContext const&) const\r\n4   paddle::framework::OperatorWithKernel::GetExpectedKernelType(paddle::framework::ExecutionContext const&) const\r\n5   paddle::operators::CastOp::GetExpectedKernelType(paddle::framework::ExecutionContext const&) const\r\n6   paddle::framework::OperatorWithKernel::ChooseKernel(paddle::framework::RuntimeContext const&, paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n7   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&, paddle::framework::RuntimeContext*) const\r\n8   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n9   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, paddle::platform::Place const&)\r\n10  paddle::framework::details::ComputationOpHandle::RunImpl()\r\n11  paddle::framework::details::FastThreadedSSAGraphExecutor::RunOpSync(paddle::framework::details::OpHandleBase*)\r\n12  paddle::framework::details::FastThreadedSSAGraphExecutor::RunOp(paddle::framework::details::OpHandleBase*, std::shared_ptr<paddle::framework::BlockingQueue<unsigned long> > const&, unsigned long*)\r\n13  std::_Function_handler<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> (), std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<void>, std::__future_base::_Result_base::_Deleter>, void> >::_M_invoke(std::_Any_data const&)\r\n14  std::__future_base::_State_base::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>&, bool&)\r\n15  ThreadPool::ThreadPool(unsigned long)::{lambda()#1}::operator()() const\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/tensor.py\", line 281, in cast\r\n    'out_dtype': out.dtype})\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/utils.py\", line 303, in _get_shape_tensor\r\n    dim = cast(x=dim, dtype='int32')\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/utils.py\", line 323, in _get_shape_tensor_inputs\r\n    inputs['ShapeTensorList'] = _get_shape_tensor(shape)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/tensor.py\", line 735, in fill_constant\r\n    op_type='fill_constant')\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/pgl/graph_wrapper.py\", line 74, in recv\r\n    shape=[num_nodes, output_dim], value=0, dtype=output.dtype)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/pgl/graph_wrapper.py\", line 206, in recv\r\n    num_nodes=self._num_nodes)\r\n  File \"<ipython-input-7-33f5e73edd57>\", line 61, in gcn_layer\r\n    output = gw.recv(msg, recv_func)\r\n  File \"<ipython-input-7-33f5e73edd57>\", line 97, in BilstmGCN\r\n    output1 = gcn_layer(gw, gw.node_feat['feature'], gw.edge_feat['edge_feature'], hidden_size=70, name='gcn_layer_1', activation='relu')\r\n  File \"<ipython-input-7-33f5e73edd57>\", line 124, in _build_net\r\n    cls_feats = net_func(unpad_feature)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 419, in _build_env\r\n    self.env.outputs = self._build_net()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 545, in main_program\r\n    self._build_env()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 911, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 384, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 960, in finetune\r\n    self.init_if_necessary()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 945, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"<ipython-input-9-de85a7f3be94>\", line 3, in <module>\r\n    run_states = cls_task.finetune_and_eval()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3265, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3183, in run_ast_nodes\r\n    if (yield from self.run_code(code, result)):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3018, in run_cell_async\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/async_helpers.py\", line 67, in _pseudo_sync_runner\r\n    coro.send(None)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2843, in _run_cell\r\n    return runner(coro)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2817, in run_cell\r\n    raw_cell, store_history, silent, shell_futures)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/zmqshell.py\", line 536, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/ipkernel.py\", line 294, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 534, in execute_request\r\n    user_expressions, allow_stdin,\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 267, in dispatch_shell\r\n    yield gen.maybe_future(handler(stream, idents, msg))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 357, in process_one\r\n    yield gen.maybe_future(dispatch(*args))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1147, in run\r\n    yielded = self.gen.send(value)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1233, in inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/stack_context.py\", line 300, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/ioloop.py\", line 758, in _run_callback\r\n    ret = callback()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/events.py\", line 88, in _run\r\n    self._context.run(self._callback, *self._args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 1771, in _run_once\r\n    handle._run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 534, in run_forever\r\n    self._run_once()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/platform/asyncio.py\", line 132, in start\r\n    self.asyncio_loop.run_forever()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelapp.py\", line 505, in start\r\n    self.io_loop.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/traitlets/config/application.py\", line 664, in launch_instance\r\n    app.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel_launcher.py\", line 16, in <module>\r\n    app.launch_new_instance()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: The Tensor in the cast Op's Input Variable X(graph/num_nodes) is not initialized.\r\n  [Hint: Expected t->IsInitialized() == true, but received t->IsInitialized():0 != true:1.] at (/paddle/paddle/fluid/framework/operator.cc:1289)\r\n  [operator < cast > error]\r\n`\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-28T01:20:25+00:00",
        "updated_at": "2020-12-02T06:24:46+00:00",
        "closed_at": "2020-12-02T06:24:46+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 929,
        "title": "Ernie 相关",
        "body": "问下Ernie和ernie-tiny embedding 的维度是多少呢？我看通过get_embedding 取ernie的embedding的维度是768，ernie-tiny的是1024？ 是这样吗？如果是为什么ernie-tiny的维度比ernie还要更大呢？\r\n",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "haoyuying",
        "created_at": "2020-09-27T12:21:26+00:00",
        "updated_at": "2021-04-14T11:50:14+00:00",
        "closed_at": "2021-04-14T11:50:14+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 933,
        "title": "没人反馈图片分类finetune速度过慢的问题吗。",
        "body": "我按图片分类flowers的示例走，我发现多卡训练速度真的是太慢太慢了，GPU中间停顿时间真的太长了。怎么解决这一问题呢？没有见到paddlehub内有提示使用多线程读取方式的相关文档。模型倒是都很好，用了都能提个几个点，但是付出的效率代价太大了。",
        "state": "closed",
        "user": "yangtianyu92",
        "closed_by": "WYB27",
        "created_at": "2020-09-28T09:45:27+00:00",
        "updated_at": "2025-06-30T07:23:34+00:00",
        "closed_at": "2025-06-30T07:23:34+00:00",
        "comments_count": [
            "Steffy-zxf",
            "yangtianyu92",
            "Steffy-zxf",
            "yangtianyu92",
            "Steffy-zxf"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 932,
        "title": "从昨天开始模型下载速度贼慢",
        "body": "大概一分钟进展0.01？……也可能没有进展，可以看一下吗？\r\n![image](https://user-images.githubusercontent.com/42665925/94400313-7803b680-019b-11eb-936f-46236891d9b5.png)\r\n",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "haoyuying",
        "created_at": "2020-09-28T07:01:53+00:00",
        "updated_at": "2021-04-14T11:49:55+00:00",
        "closed_at": "2021-04-14T11:49:54+00:00",
        "comments_count": [
            "wxl1351641822",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 934,
        "title": "paddlehub保存infer模型时使用默认参数,但是找不到__model__?",
        "body": "\r\n所以我该怎么样部署aistudio的沙盒？\r\nhttps://ai.baidu.com/ai-doc/AISTUDIO/bk3e382cq\r\n![image](https://user-images.githubusercontent.com/42665925/94424372-b1005300-01bc-11eb-9bf1-3b85c08698f5.png)\r\n",
        "state": "closed",
        "user": "wxl1351641822",
        "closed_by": "haoyuying",
        "created_at": "2020-09-28T10:59:15+00:00",
        "updated_at": "2021-04-14T11:49:35+00:00",
        "closed_at": "2021-04-14T11:49:35+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 935,
        "title": "文本匹配 PointwiseTextMatchingTask 中，预测时显示Variable's shape does not match",
        "body": "\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.8.4，PaddlePaddle1.8.0\r\n2）系统环境：aistudio，python3.7版本\r\n\r\n训练PointwiseTextMatchingTask后，预测时显示如下错误：\r\n\r\n**RuntimeError: Variable's shape does not match, the Program requires a parameter with the shape of ((32768, 2)), while the loaded parameter (namely [ matching_out_w ]) has a shape of  ((256, 2)).**\r\n\r\n![图片](https://user-images.githubusercontent.com/54064209/94503819-ef882300-0239-11eb-89ad-86352d8137ef.png)\r\n\r\n已经将checkpoint_dir设置成和训练时一样。\r\n    \r\nconfig = hub.RunConfig(use_cuda=True, \r\n                        num_epoch=50, \r\n                        batch_size=32, \r\n                        strategy=strategy, \r\n                        checkpoint_dir=checkpoint_dir\r\n                        )\r\n\r\n",
        "state": "closed",
        "user": "Echo0117",
        "closed_by": "haoyuying",
        "created_at": "2020-09-29T01:57:45+00:00",
        "updated_at": "2021-04-14T11:48:57+00:00",
        "closed_at": "2021-04-14T11:48:43+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Echo0117",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 936,
        "title": "paddleOCR的迁移finetune问题",
        "body": "您好，\r\n\r\n请问基于`ocr = hub.Module(name=\"chinese_ocr_db_crnn_server\")`如何进行简单的迁移训练。\r\n我尝试了`ocr.context(.....)`似乎没有定义这个函数。\r\n在源码中，需要提取的是`self.cls(rec)_predictor, self.cls(rec)_input_tensor, self.cls(rec)_out_tensor`吗？\r\n如果可以，能简要描述下这个类型module的方法吗？",
        "state": "closed",
        "user": "Zaoyee",
        "closed_by": "Steffy-zxf",
        "created_at": "2020-09-29T02:16:35+00:00",
        "updated_at": "2020-12-02T06:24:33+00:00",
        "closed_at": "2020-12-02T06:24:33+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 937,
        "title": "predict，最多只能识别8个图片，多了会暴显存",
        "body": "hub:1.82\r\ncode:\r\nimages = [cv2.imread(image_path) for image_path in test_image]\r\n#就是下面这行代码报错\r\nresult = ocr.recognize_text(images=images,use_gpu=True,\r\n                            output_dir='ocr_result',\r\n                            visualization=True\r\n                            # box_thresh=0.5,\r\n                            # text_thresh=0.5\r\n                            )\r\nerror:\r\n[2020-09-30 15:49:30,097] [    INFO] - Installing chinese_ocr_db_crnn_server module\r\n[2020-09-30 15:49:30,176] [    INFO] - Module chinese_ocr_db_crnn_server already installed in C:\\Users\\1\\.paddlehub\\modules\\chinese_ocr_db_crnn_server\r\n[2020-09-30 15:49:31,412] [    INFO] - Installing chinese_text_detection_db_server module-1.0.2\r\n[2020-09-30 15:49:31,413] [    INFO] - Module chinese_text_detection_db_server-1.0.2 already installed in C:\\Users\\1\\.paddlehub\\modules\\chinese_text_detection_db_server\r\nTraceback (most recent call last):\r\n  File \"D:/project/new1/paddle/ocr_text.py\", line 32, in <module>\r\n    visualization=True\r\n  File \"C:\\Users\\1\\.paddlehub\\modules\\chinese_ocr_db_crnn_server\\module.py\", line 271, in recognize_text\r\n    rec_results = self._recognize_text(img_crop_list)\r\n  File \"C:\\Users\\1\\.paddlehub\\modules\\chinese_ocr_db_crnn_server\\module.py\", line 407, in _recognize_text\r\n    self.rec_predictor.zero_copy_run()\r\nRuntimeError: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\nWindows not support stack backtrace yet.\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nResourceExhaustedError: \r\n\r\nOut of memory error on GPU 0. Cannot allocate 183.047119MB memory on GPU 0, available memory is only 139.662499MB.\r\n\r\nPlease check whether there is any other process using GPU 0.\r\n1. If yes, please stop them, or start PaddlePaddle on another GPU.\r\n2. If no, please decrease the batch size of your model. \r\n\r\n at (D:\\1.8.5\\paddle\\paddle\\fluid\\memory\\allocation\\cuda_allocator.cc:69)\r\n\r\n\r\ngpu:2070 super\r\ncpu:10700k\r\n显存没有一直被占用\r\n",
        "state": "closed",
        "user": "dengmingD",
        "closed_by": "WYB27",
        "created_at": "2020-09-30T08:13:39+00:00",
        "updated_at": "2025-06-30T07:23:32+00:00",
        "closed_at": "2025-06-30T07:23:32+00:00",
        "comments_count": [
            "LDOUBLEV",
            "FD-Liekkas",
            "liweigu",
            "FD-Liekkas",
            "SilenceBlue"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 940,
        "title": "PaddleHub pyinstaller时报错",
        "body": "ver:1.7\r\n建议把pip list写入readme，我们好参考一下版本号\r\n\r\n35162 INFO: Excluding import 'gtk'\r\n35167 INFO: Loading module hook \"hook-jedi.py\"...\r\n35234 INFO: Loading module hook \"hook-jinja2.py\"...\r\n35246 INFO: Loading module hook \"hook-jsonschema.py\"...\r\n35248 INFO: Loading module hook \"hook-lib2to3.py\"...\r\n35250 INFO: Loading module hook \"hook-lxml.etree.py\"...\r\n35250 INFO: Loading module hook \"hook-matplotlib.backends.py\"...\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"d:\\anaconda3\\envs\\chineseocr\\lib\\site-packages\\matplotlib\\__init__.py\", line 901, in <module>\r\n    fail_on_error=True)\r\n  File \"d:\\anaconda3\\envs\\chineseocr\\lib\\site-packages\\matplotlib\\__init__.py\", line 796, in _rc_params_in_file\r\n    with _open_file_or_url(fname) as fd:\r\n  File \"d:\\anaconda3\\envs\\chineseocr\\lib\\contextlib.py\", line 81, in __enter__\r\n    return next(self.gen)\r\n  File \"d:\\anaconda3\\envs\\chineseocr\\lib\\site-packages\\matplotlib\\__init__.py\", line 770, in _open_file_or_url\r\n    fname = os.path.expanduser(fname)\r\n  File \"d:\\anaconda3\\envs\\chineseocr\\lib\\ntpath.py\", line 313, in expanduser\r\n    path = os.fspath(path)\r\nTypeError: expected str, bytes or os.PathLike object, not WindowsPath\r\n35434 INFO: Loading module hook \"hook-matplotlib.py\"...\r\nTraceback (most recent call last):\r\n  File \"<string>\", line 1, in <module>\r\n  File \"d:\\anaconda3\\envs\\chineseocr\\lib\\site-packages\\matplotlib\\__init__.py\", line 901, in <module>\r\n    fail_on_error=True)\r\n  File \"d:\\anaconda3\\envs\\chineseocr\\lib\\site-packages\\matplotlib\\__init__.py\", line 796, in _rc_params_in_file\r\n    with _open_file_or_url(fname) as fd:\r\n  File \"d:\\anaconda3\\envs\\chineseocr\\lib\\contextlib.py\", line 81, in __enter__\r\n    return next(self.gen)\r\n  File \"d:\\anaconda3\\envs\\chineseocr\\lib\\site-packages\\matplotlib\\__init__.py\", line 770, in _open_file_or_url\r\n    fname = os.path.expanduser(fname)\r\n  File \"d:\\anaconda3\\envs\\chineseocr\\lib\\ntpath.py\", line 313, in expanduser\r\n    path = os.fspath(path)\r\nTypeError: expected str, bytes or os.PathLike object, not WindowsPath\r\n35666 INFO: Loading module hook \"hook-nbconvert.py\"...\r\n35674 INFO: Loading module hook \"hook-nbformat.py\"...\r\n35676 INFO: Loading module hook \"hook-nltk.py\"...\r\nUnable to find \"C:\\Users\\1\\nltk_data\" when adding binary and data files.\r\n",
        "state": "closed",
        "user": "dengmingD",
        "closed_by": "haoyuying",
        "created_at": "2020-10-09T07:41:08+00:00",
        "updated_at": "2021-04-14T11:47:27+00:00",
        "closed_at": "2021-04-14T11:47:27+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 939,
        "title": "在proxy情况下下载paddlehub模型",
        "body": "请问在网络有proxy的情况下如何使用hub.Module（）或hub install来下载senta的模型呢，https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.0.0/demo/senta/senta_demo.py\r\n\r\n版本paddlehub 1.8.2\r\npaddlepaddle 1.8.5\r\nwindows10\r\n\r\n",
        "state": "closed",
        "user": "Jiannan28",
        "closed_by": "haoyuying",
        "created_at": "2020-10-04T15:23:16+00:00",
        "updated_at": "2021-04-14T11:47:39+00:00",
        "closed_at": "2021-04-14T11:47:39+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Jiannan28",
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 938,
        "title": "关于ace2p处理",
        "body": "能不能输出下面的这些数据呢，以下是json文件，，或者有什么办法能够可以输出这个json文件呢，请指教\r\n![无标题](https://user-images.githubusercontent.com/71753992/94988375-44f86300-059f-11eb-8eb2-bb14bf7bd0ce.png)\r\n",
        "state": "closed",
        "user": "zandls-lovelulu",
        "closed_by": "haoyuying",
        "created_at": "2020-10-03T09:38:45+00:00",
        "updated_at": "2021-04-14T11:47:52+00:00",
        "closed_at": "2021-04-14T11:47:52+00:00",
        "comments_count": [
            "zandls-lovelulu",
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 944,
        "title": "paddlehub 加载预训练模型错误",
        "body": "使用paddlehub加载预训练模型出错。\r\n`import paddlehub as hub\r\nhumanseg = hub.Module(name=\"deeplabv3p_xception65_humanseg\") `\r\n和\r\n`import paddlehub as hub\r\npneumonia = hub.Module(name=\"Pneumonia_CT_LKM_PP\")`\r\n多次测试均报错：\r\n`\r\nTraceback (most recent call last):\r\n  File \"D:\\AI\\VOCdevkit\\demo\\demo.py\", line 2, in <module>\r\n    import paddlehub as hub\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\site-packages\\paddlehub\\__init__.py\", line 25, in <module>\r\n    from . import module\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\site-packages\\paddlehub\\module\\__init__.py\", line 16, in <module>\r\n    from . import module\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\site-packages\\paddlehub\\module\\module.py\", line 31, in <module>\r\n    from paddlehub.common import utils\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\site-packages\\paddlehub\\common\\__init__.py\", line 16, in <module>\r\n    from . import utils\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\site-packages\\paddlehub\\common\\utils.py\", line 33, in <module>\r\n    from paddlehub.common.logger import logger\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 155, in <module>\r\n    logger = Logger()\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 67, in __init__\r\n    level = json.load(fp).get(\"log_level\", \"DEBUG\")\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\json\\__init__.py\", line 296, in load\r\n    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\json\\__init__.py\", line 348, in loads\r\n    return _default_decoder.decode(s)\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\json\\decoder.py\", line 337, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\envs\\paddle\\lib\\json\\decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\n\r\nJSONDecodeError: Expecting value`\r\n使用环境：\r\nwindows，\r\n在anaconda中新建了一个环境，\r\npaddlehub                     1.6.0\r\npaddlepaddle-gpu              1.7.1.post107\r\nPython 3.7.7\r\n",
        "state": "closed",
        "user": "NotFound1911",
        "closed_by": "WYB27",
        "created_at": "2020-10-11T05:02:34+00:00",
        "updated_at": "2025-06-30T07:23:30+00:00",
        "closed_at": "2025-06-30T07:23:30+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 943,
        "title": "目前是否支持PDF格式文件的识别功能？",
        "body": "- 您想要增加什么新特性？\r\n  PDF格式文件的识别\r\n- 什么样的场景下需要该特性？\r\n  扫描仪扫描的成品PDF需要识别\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n  否\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "JerryXue0609",
        "closed_by": "haoyuying",
        "created_at": "2020-10-10T07:26:56+00:00",
        "updated_at": "2021-04-14T11:47:15+00:00",
        "closed_at": "2021-04-14T11:47:15+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 950,
        "title": "提问-实现lstm+attention文本分类",
        "body": "意自定义网络实现bilstm+attention机制实现文本分类，官网中只有视频的lstm+attention（PaddleHub-release-v1.8\\PaddleHub-release-v1.8\\hub_module\\modules\\video\\classification\\videotag_tsn_lstm\\resource\\models\\attention_lstm\\lstm_attention.py），参考后报错。。请问哪里写错了?\r\n代码如下：\r\n![图片](https://user-images.githubusercontent.com/37642547/95715478-84f4cf80-0c9c-11eb-9d28-7580b8642ef1.png)\r\n运行报错：\r\n`\r\n忽略上面的的提示，这里已经对组网方式修改了，使用的并不是默认的bilstm!!!!\r\nupad_feature.shape=\r\n(-1, 1024)\r\nlstm_concat.shape==\r\n(-1, 128)\r\nlstm_weight.shape==\r\n(-1, 1)\r\nscaled.shape==\r\n(-1, 128)\r\n\r\n---------------------------------------------------------------------------EnforceNotMet                             Traceback (most recent call last)<ipython-input-20-de85a7f3be94> in <module>\r\n      1 #开始Finetune\r\n      2 print(\"忽略上面的的提示，这里已经对组网方式修改了，使用的并不是默认的bilstm!!!!\")\r\n----> 3 run_states = cls_task.finetune_and_eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune_and_eval(self)\r\n    943 \r\n    944     def finetune_and_eval(self):\r\n--> 945         return self.finetune(do_eval=True)\r\n    946 \r\n    947     def finetune(self, do_eval=False):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in finetune(self, do_eval)\r\n    958         # Start to finetune\r\n    959         with self.phase_guard(phase=\"train\"):\r\n--> 960             self.init_if_necessary()\r\n    961             self._finetune_start_event()\r\n    962             run_states = []\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in init_if_necessary(self)\r\n    382     def init_if_necessary(self):\r\n    383         if not self.is_checkpoint_loaded:\r\n--> 384             if not self.load_checkpoint():\r\n    385                 self.exe.run(self._base_startup_program)\r\n    386             self.is_checkpoint_loaded = True\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in load_checkpoint(self)\r\n    909             self.config.checkpoint_dir,\r\n    910             self.exe,\r\n--> 911             main_program=self.main_program)\r\n    912         # Revise max_train_steps when incremental training\r\n    913         if is_load_successful:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in main_program(self)\r\n    543     def main_program(self):\r\n    544         if not self.env.is_inititalized:\r\n--> 545             self._build_env()\r\n    546         return self.env.main_program\r\n    547 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in _build_env(self)\r\n    417                                  self._base_startup_program):\r\n    418             with fluid.unique_name.guard(self.env.UNG):\r\n--> 419                 self.env.outputs = self._build_net()\r\n    420                 if self.is_train_phase or self.is_test_phase:\r\n    421                     self.env.labels = self._add_label()\r\n<ipython-input-17-e8aa08929ab2> in _build_net(self)\r\n     34                 cls_feats = net_func(self.feature)\r\n     35             else:\r\n---> 36                 cls_feats = net_func(unpad_feature)\r\n     37             if self.is_train_phase or self.is_predict_phase:\r\n     38                 logger.info(\"%s has been added in the TextClassifierTask!\" %\r\n<ipython-input-16-806e4f846505> in Bilstm_attention(token_embeddings, hid_dim, hid_dim2)\r\n     55     print(scaled.shape)\r\n     56 \r\n---> 57     lstm_pool = fluid.layers.sequence_pool(input=scaled, pool_type='sum')\r\n     58     print(\"lstm_pool==\")\r\n     59     print(lstm_pool.shape)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/sequence_lod.py in sequence_pool(input, pool_type, is_test, pad_value)\r\n    355             \"pooltype\": pool_type.upper(),\r\n    356             \"is_test\": is_test,\r\n--> 357             \"pad_value\": pad_value\r\n    358         })\r\n    359 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper.py in append_op(self, *args, **kwargs)\r\n     41 \r\n     42     def append_op(self, *args, **kwargs):\r\n---> 43         return self.main_program.current_block().append_op(*args, **kwargs)\r\n     44 \r\n     45     def multiple_input(self, input_param_name='input'):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py in append_op(self, *args, **kwargs)\r\n   2608                 inputs=kwargs.get(\"inputs\", None),\r\n   2609                 outputs=kwargs.get(\"outputs\", None),\r\n-> 2610                 attrs=kwargs.get(\"attrs\", None))\r\n   2611 \r\n   2612             self.ops.append(op)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py in __init__(***failed resolving arguments***)\r\n   1969             if self._has_kernel(type):\r\n   1970                 self.desc.infer_var_type(self.block.desc)\r\n-> 1971                 self.desc.infer_shape(self.block.desc)\r\n   1972 \r\n   1973     def _has_kernel(self, op_type):\r\nEnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<std::string const&>(std::string const&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2   paddle::operators::SequencePoolOp::InferShape(paddle::framework::InferShapeContext*) const\r\n3   paddle::framework::OpDesc::InferShape(paddle::framework::BlockDesc const&) const\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/sequence_lod.py\", line 357, in sequence_pool\r\n    \"pad_value\": pad_value\r\n  File \"<ipython-input-16-806e4f846505>\", line 57, in Bilstm_attention\r\n    lstm_pool = fluid.layers.sequence_pool(input=scaled, pool_type='sum')\r\n  File \"<ipython-input-17-e8aa08929ab2>\", line 36, in _build_net\r\n    cls_feats = net_func(unpad_feature)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 419, in _build_env\r\n    self.env.outputs = self._build_net()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 545, in main_program\r\n    self._build_env()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 911, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 384, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 960, in finetune\r\n    self.init_if_necessary()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 945, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"<ipython-input-20-de85a7f3be94>\", line 3, in <module>\r\n    run_states = cls_task.finetune_and_eval()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3265, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3183, in run_ast_nodes\r\n    if (yield from self.run_code(code, result)):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 3018, in run_cell_async\r\n    interactivity=interactivity, compiler=compiler, result=result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/async_helpers.py\", line 67, in _pseudo_sync_runner\r\n    coro.send(None)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2843, in _run_cell\r\n    return runner(coro)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/IPython/core/interactiveshell.py\", line 2817, in run_cell\r\n    raw_cell, store_history, silent, shell_futures)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/zmqshell.py\", line 536, in run_cell\r\n    return super(ZMQInteractiveShell, self).run_cell(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/ipkernel.py\", line 294, in do_execute\r\n    res = shell.run_cell(code, store_history=store_history, silent=silent)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 534, in execute_request\r\n    user_expressions, allow_stdin,\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 267, in dispatch_shell\r\n    yield gen.maybe_future(handler(stream, idents, msg))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 326, in wrapper\r\n    yielded = next(result)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelbase.py\", line 357, in process_one\r\n    yield gen.maybe_future(dispatch(*args))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1147, in run\r\n    yielded = self.gen.send(value)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/gen.py\", line 1233, in inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/stack_context.py\", line 300, in null_wrapper\r\n    return fn(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/ioloop.py\", line 758, in _run_callback\r\n    ret = callback()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/events.py\", line 88, in _run\r\n    self._context.run(self._callback, *self._args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 1771, in _run_once\r\n    handle._run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/asyncio/base_events.py\", line 534, in run_forever\r\n    self._run_once()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/tornado/platform/asyncio.py\", line 132, in start\r\n    self.asyncio_loop.run_forever()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel/kernelapp.py\", line 505, in start\r\n    self.io_loop.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/traitlets/config/application.py\", line 664, in launch_instance\r\n    app.start()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ipykernel_launcher.py\", line 16, in <module>\r\n    app.launch_new_instance()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: The LoD level of Input(X) should be larger than 0, but received: lod level 0.\r\n  [Hint: Expected in_lod_level > 0, but received in_lod_level:0 <= 0:0.] at (/paddle/paddle/fluid/operators/sequence_ops/sequence_pool_op.cc:37)\r\n  [operator < sequence_pool > error]\r\n`\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "haoyuying",
        "created_at": "2020-10-12T07:11:37+00:00",
        "updated_at": "2021-04-14T11:46:14+00:00",
        "closed_at": "2021-04-14T11:46:14+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 958,
        "title": "训练过程可视化",
        "body": "在利用ERNIE进行新闻文本分类的demo（https://aistudio.baidu.com/aistudio/projectdetail/979469）中想对训练过程的accuracy和loss进行可视化，请问该怎么做\r\n",
        "state": "closed",
        "user": "EricJoung1997",
        "closed_by": "WYB27",
        "created_at": "2020-10-15T09:44:47+00:00",
        "updated_at": "2025-06-30T07:23:29+00:00",
        "closed_at": "2025-06-30T07:23:29+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 952,
        "title": "paddlehub每次运行，模型都要重新下载一遍",
        "body": "paddlehub每次运行，模型都要重新下载一遍，不管是在python程序中通过paddlehub调用还是在shell中直接调用hub命令，皆如此。\r\n\r\n程序版本：\r\nwindows 10\r\npython 3.8.3\r\npaddlehub 1.8.2\r\npaddlepaddle-gpu 1.8.5.post107\r\n",
        "state": "closed",
        "user": "wxd11011",
        "closed_by": "wxd11011",
        "created_at": "2020-10-13T02:47:50+00:00",
        "updated_at": "2020-10-16T01:23:03+00:00",
        "closed_at": "2020-10-16T01:23:03+00:00",
        "comments_count": [
            "Steffy-zxf",
            "wxd11011",
            "haoyuying",
            "wxd11011",
            "haoyuying",
            "wxd11011"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 956,
        "title": "请问paddle中使用bilstm+gcn实现图分类的官方实例代码有吗，没有怎么实现呢",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "haoyuying",
        "created_at": "2020-10-15T03:45:31+00:00",
        "updated_at": "2021-04-14T11:45:39+00:00",
        "closed_at": "2021-04-14T11:45:39+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": [
            "feature"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 954,
        "title": "请问服务化部署是如何加载模型的？",
        "body": "我发现paddlehub的功能非常强大，开发人员都很厉害。在研究代码时，我发现我不是很理解服务器是怎样加载模型并使用模型进行预测，请问能给我一些提示吗？",
        "state": "closed",
        "user": "tyy2tyy",
        "closed_by": "haoyuying",
        "created_at": "2020-10-14T01:03:19+00:00",
        "updated_at": "2021-04-14T11:45:55+00:00",
        "closed_at": "2021-04-14T11:45:55+00:00",
        "comments_count": [
            "Steffy-zxf",
            "tyy2tyy",
            "Steffy-zxf",
            "tyy2tyy",
            "haoyuying"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 953,
        "title": "提问-关于paddlehub的人物分割如何提升检测速度",
        "body": "想法:想通过paddlehub的deeplabv3p_xception65_humanseg实现**实时**的人物抠图换背景\r\n问题：本地使用2080ti ，单纯预测每张图片耗时大约0.16s，实际效果卡卡的，想问下有没有什么加速方法？谢谢大家",
        "state": "closed",
        "user": "fuchunming11",
        "closed_by": "fuchunming11",
        "created_at": "2020-10-13T07:03:57+00:00",
        "updated_at": "2020-10-14T03:20:43+00:00",
        "closed_at": "2020-10-14T03:20:43+00:00",
        "comments_count": [
            "haoyuying",
            "fuchunming11"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 963,
        "title": "AttributeError: module 'paddlehub' has no attribute 'BertTokenizer'",
        "body": " 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddlehub   1.7.1，PaddlePaddle1.8.3\r\n2）系统环境：Linux ubuntu18.04\r\n- 复现信息：\r\nsequence_label.py运行时候出现下面错误：\r\nAttributeError: module 'paddlehub' has no attribute 'BertTokenizer'\r\n",
        "state": "closed",
        "user": "myboyliu",
        "closed_by": "haoyuying",
        "created_at": "2020-10-16T03:11:56+00:00",
        "updated_at": "2021-04-14T11:44:32+00:00",
        "closed_at": "2021-04-14T11:44:32+00:00",
        "comments_count": [
            "Steffy-zxf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 967,
        "title": "lac的两种python调用方式分词不一致",
        "body": "\r\n使用\r\n```\r\nlac=hub.Module(\"lac\")\r\n```\r\n和\r\n```\r\nlac = LAC()\r\n```\r\n两种方式切词结果不一致，对于第一种如何添加自己的词典",
        "state": "closed",
        "user": "SunshlnW",
        "closed_by": "WYB27",
        "created_at": "2020-10-16T07:59:28+00:00",
        "updated_at": "2025-06-30T07:23:27+00:00",
        "closed_at": "2025-06-30T07:23:27+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 972,
        "title": "图像二分类 Finetune报错",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub 1.8.2，PaddlePaddle 1.8.4\r\n2）系统环境：AI studio平台运行，Python版本3.7\r\n- 复现信息：\r\nconfig = hub.RunConfig(\r\n    use_cuda= True,                             \r\n    num_epoch=10,                            \r\n    checkpoint_dir=\"work/Ce/cv_finetune_turtorial_demo\",  \r\n    batch_size=32,\r\n    log_interval=20,                      \r\n    strategy=hub.finetune.strategy.DefaultFinetuneStrategy()) \r\n\r\ninput_dict, output_dict, program = module.context(trainable=True)\r\nimg = input_dict[\"image\"]\r\nfeature_map = output_dict[\"feature_map\"]\r\nfeed_list = [img.name]\r\n\r\ntask = hub.ImageClassifierTask(\r\n    data_reader=data_reader,\r\n    feed_list=feed_list,\r\n    feature=feature_map,\r\n    num_classes=dataset.num_labels,\r\n    config=config)\r\n\r\n报错提示：\r\n[2020-10-19 14:26:31,365] [    INFO] - 22 pretrained paramaters loaded by PaddleHub\r\n---------------------------------------------------------------------------AttributeError                            Traceback (most recent call last)<ipython-input-43-461a30f6f712> in <module>\r\n      9     feature=feature_map,\r\n     10     num_classes=dataset.num_labels,\r\n---> 11     config=config)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py in __init__(self, feature, num_classes, feed_list, data_reader, startup_program, config, hidden_units, metrics_choices)\r\n     47             main_program=main_program,\r\n     48             feed_list=feed_list,\r\n---> 49             startup_program=startup_program,\r\n     50             config=config,\r\n     51             metrics_choices=metrics_choices)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py in __init__(self, feed_list, data_reader, main_program, startup_program, config, metrics_choices)\r\n    296                 main_program, for_test=False)\r\n    297         if startup_program is None:\r\n--> 298             self._base_startup_program = clone_program(\r\n    299                 fluid.default_startup_program(), for_test=False)\r\n    300         else:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in clone_program(origin_program, for_test)\r\n    272 \r\n    273 \r\n--> 274 def set_parameter_trainable(program, trainable=True):\r\n    275     for param in program.global_block().iter_parameters():\r\n    276         param.trainable = trainable\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in _copy_vars_and_ops_in_blocks(from_block, to_block)\r\n    145             param['gradient_clip_attr'] = eval(\r\n    146                 \"fluid.clip.%s(clip_norm = %f, group_name = \\\"%s\\\")\" %\r\n--> 147                 (clip_type, clip_norm, group_name))\r\n    148 \r\n    149     return param\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/paddle_helper.py in get_variable_info(var)\r\n     63         var_info['lod_level'] = var.lod_level\r\n     64         var_info['shape'] = var.shape\r\n---> 65     except:\r\n     66         pass\r\n     67 \r\nAttributeError: 'Parameter' object has no attribute 'gradient_clip_attr'\r\n\r\n\r\n我看到issue上面有提到好几个与之类似的问题，但是根据相关回复，PaddleHub ，PaddlePaddle版本均满足要求，仍然报错。\r\n望能解答，谢谢\r\n",
        "state": "closed",
        "user": "lliqi-echo",
        "closed_by": "lliqi-echo",
        "created_at": "2020-10-19T06:35:43+00:00",
        "updated_at": "2020-10-19T06:38:05+00:00",
        "closed_at": "2020-10-19T06:38:05+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 968,
        "title": "【并发请求pointwise_matching】",
        "body": "1）PaddleHub和PaddlePaddle1.8.2\r\n2）pointwise_matching 并发请求时会出现返回值为空的情况\r\n\r\n3）基于ernie的pointwise_matching 并发请求时会出现如下\r\naxis 1 is out of bounds for array of dimension 1\r\n",
        "state": "closed",
        "user": "xiaotaiyangsun",
        "closed_by": "WYB27",
        "created_at": "2020-10-16T08:00:39+00:00",
        "updated_at": "2025-06-30T07:23:25+00:00",
        "closed_at": "2025-06-30T07:23:25+00:00",
        "comments_count": [
            "Steffy-zxf",
            "xiaotaiyangsun",
            "Steffy-zxf"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 971,
        "title": "设置CUDA_VISIBLE_DEVICES无效",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）python3.7    PaddlePaddle 1.8.0    paddlehub-1.8.2\r\n2）linux(ai studio)\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n运行官方实例(NOTEBOOK)\r\n执行到：\r\nresults = ocr.recognize_text(\r\n                    images=np_images,         # 图片数据，ndarray.shape 为 [H, W, C]，BGR格式；\r\n                    use_gpu=True,            # 是否使用 GPU；若使用GPU，请先设置CUDA_VISIBLE_DEVICES环境变量\r\n                    output_dir='ocr_result',  # 图片的保存路径，默认设为 ocr_result；\r\n                    visualization=True,       # 是否将识别结果保存为图片文件；\r\n                    box_thresh=0.5,           # 检测文本框置信度的阈值；\r\n                    text_thresh=0.5)          # 识别中文文本置信度的阈值；\r\n报错：RuntimeError: Environment Variable CUDA_VISIBLE_DEVICES is not set correctly. If you wanna use gpu, please set CUDA_VISIBLE_DEVICES via export CUDA_VISIBLE_DEVICES=cuda_device_id.\r\n无论是在命令行中执行export CUDA_VISIBLE_DEVICES=0，\r\n还是在~/.bashrc中加入export CUDA_VISIBLE_DEVICES=0，依然报相同错误\r\n执行os.environ，没有找到键\"CUDA_VISIBLE_DEVICES\"\r\n使用的环境是带GPU的。\r\n在另一台带GPU的服务器上(自己的环境),也遭遇一模一样的情况。",
        "state": "closed",
        "user": "kabu1204",
        "closed_by": "WYB27",
        "created_at": "2020-10-18T15:23:38+00:00",
        "updated_at": "2025-06-30T07:23:21+00:00",
        "closed_at": "2025-06-30T07:23:21+00:00",
        "comments_count": [
            "weiexcelpro",
            "kabu1204"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 969,
        "title": "websocket请求方式",
        "body": "我看paddlehub有hub serving start的方式启动module做http请求的方式，请问有没有websocket请求的方式，实时返回识别信息。谢谢~\r\n",
        "state": "closed",
        "user": "Sunyingbin",
        "closed_by": "WYB27",
        "created_at": "2020-10-17T06:29:31+00:00",
        "updated_at": "2025-06-30T07:23:23+00:00",
        "closed_at": "2025-06-30T07:23:23+00:00",
        "comments_count": [
            "Sunyingbin",
            "ShenYuhan",
            "Sunyingbin",
            "89080322"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 973,
        "title": "Ernie相关问题",
        "body": "1、能否使用Ernie生成词向量？\r\n      把词当做句子来生成对应的向量吗\r\n2、max_seq_len对生成的向量有影响吗？因为我默认设置是128，但生成的对应的向量的区分性比较低，做余弦距离后相似度很接近1",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "WYB27",
        "created_at": "2020-10-19T06:50:45+00:00",
        "updated_at": "2025-06-30T07:23:19+00:00",
        "closed_at": "2025-06-30T07:23:19+00:00",
        "comments_count": [
            "Steffy-zxf",
            "dickobe",
            "Steffy-zxf"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 976,
        "title": "关于paddlehub里的模型部署为服务后并发的疑问",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub1.8.2，PaddlePaddle1.8.4\r\n2）系统环境：Windows 7，python 3.7\r\n- 复现信息：\r\n本人发现模型（目标检测）：yolov3_resnet50_vd_coco2017，版本为1.0.1，在部署为服务后，可能有并发的问题，望答疑。\r\n\r\n问题在processor.py\r\n\r\n![image](https://user-images.githubusercontent.com/72905070/96833875-abbcbe00-1473-11eb-943b-0098b5c48c92.png)\r\n\r\n调用时的控制台打印，每次请求都是0开始计数\r\n\r\n![image](https://user-images.githubusercontent.com/72905070/96833957-c727c900-1473-11eb-94c2-4b40a4e20efe.png)\r\n\r\n后面的draw_bounding_box_on_image方法使用这个org_img_path路径：\r\n\r\n![image](https://user-images.githubusercontent.com/72905070/96833983-d27af480-1473-11eb-8a1f-16dcaefea986.png)\r\n\r\n\r\n**请问是否会出现文件被覆盖的问题，当并访问的时候？**\r\n\r\n\r\n本人临时加了全局计数id，拼在文件名上，用于防止文件被覆盖\r\n\r\n![image](https://user-images.githubusercontent.com/72905070/96834065-f2121d00-1473-11eb-9a9b-3cf943491e5a.png)\r\n\r\n本人是一个Java web开发者，刚接触Python两三周，望指点。",
        "state": "closed",
        "user": "fish-hello",
        "closed_by": "fish-hello",
        "created_at": "2020-10-22T06:38:04+00:00",
        "updated_at": "2020-11-13T10:09:13+00:00",
        "closed_at": "2020-11-13T07:22:19+00:00",
        "comments_count": [
            "ShenYuhan",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 978,
        "title": "无法正常启动训练, 打印完start,就没了, 也不报错, 会直接触发重启",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n\r\n1. 官网: aistudio 环境\r\n\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n1. 见该项目\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/1121228\r\n\r\n> 如果使用当前的paddlehub==1.6.0 会出现'Parameter' object has no attribute 'gradient_clip_attr', 看了以前的内容回答, 改成了\r\nhub 1.7.版本, 有一次能启动训练了, 但是因为出现了数据bug, 我去修改下,  再次运行之后就没有启动成功过了\r\n\r\n暂时猜测是版本问题, 自己无法解决",
        "state": "closed",
        "user": "smartmark-pro",
        "closed_by": "smartmark-pro",
        "created_at": "2020-10-23T08:00:09+00:00",
        "updated_at": "2020-10-24T07:41:02+00:00",
        "closed_at": "2020-10-24T07:41:02+00:00",
        "comments_count": [
            "smartmark-pro"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 979,
        "title": "服务器部署成功POST结果异常？",
        "body": "返回结果是\r\n{\"msg\":\"Module chinese_ocr_db_crnn_server is not available.\",\"results\":\"\",\"status\":\"-1\"}\r\n![image](https://user-images.githubusercontent.com/16836773/97065988-fc532900-15e3-11eb-84d3-3c3adea0ae42.png)\r\n",
        "state": "closed",
        "user": "1290726334",
        "closed_by": "1290726334",
        "created_at": "2020-10-24T02:30:59+00:00",
        "updated_at": "2021-02-07T08:25:45+00:00",
        "closed_at": "2020-10-24T03:24:10+00:00",
        "comments_count": [
            "suntao2015005848",
            "diandian11"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 981,
        "title": "TypeError: list indices must be integers or slices, not str",
        "body": "paddlehubv1.8环境，python3.7 paddlepaddle1.8.5\r\n在运行人脸检测模型时，即执行下面的命令时python mask_detection.py\r\n会爆出错误：\r\n\r\n  OpenCV: FFMPEG: tag 0x30397076/'vp90' is not supported with codec id 167 and format 'mp4 / MP4 (MPEG-4 Part 14)'\r\nOpenCV: FFMPEG: fallback to use tag 0x39307076/'vp09'\r\nTraceback (most recent call last):\r\n  File \"mask_detection.py\", line 57, in <module>\r\n    label = result['data']['label']\r\nTypeError: list indices must be integers or slices, not str\r\n[ WARN:0] global C:\\projects\\opencv-python\\opencv\\modules\\videoio\\src\\cap_msmf.cpp (674) SourceReaderCB::~SourceReaderCB terminating async callback\r\n",
        "state": "closed",
        "user": "zhjikoshlizhzc",
        "closed_by": "haoyuying",
        "created_at": "2020-10-26T11:26:16+00:00",
        "updated_at": "2020-11-03T02:10:41+00:00",
        "closed_at": "2020-11-03T02:10:41+00:00",
        "comments_count": [
            "haoyuying",
            "zhjikoshlizhzc",
            "haoyuying",
            "zhjikoshlizhzc",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 991,
        "title": "paddlehub安装成功之后，hub命令运行 一直等待状态",
        "body": "环境redhat7，局域网（无法连接外网）\r\n\r\n\r\npip show paddlehub 结果如下：\r\nName: paddlehub\r\nVersion: 1.8.2\r\nSummary: A toolkit for managing pretrained models of PaddlePaddle and helping user getting started with transfer learning more efficiently.\r\nHome-page: https://github.com/PaddlePaddle/PaddleHub\r\nAuthor: PaddlePaddle Author\r\nAuthor-email: paddle-dev@baidu.com\r\nLicense: Apache 2.0\r\nLocation: /qhapp/anaconda3/lib/python3.7/site-packages\r\nRequires: pre-commit, colorlog, six, pandas, gunicorn, yapf, flake8, flask, tqdm, cma, nltk, visualdl, sentencepiece, protobuf\r\nRequired-by: \r\n\r\n\r\n但是 hub 的命令一直处于等待状态\r\n\r\n\r\nhub version Crtl+c之后输出如下：\r\n\r\nhub version\r\n^CTraceback (most recent call last):\r\n  File \"/qhapp/anaconda3/bin/hub\", line 5, in <module>\r\n    from paddlehub.commands.hub import main\r\n  File \"/qhapp/anaconda3/lib/python3.7/site-packages/paddlehub/commands/__init__.py\", line 26, in <module>\r\n    from . import config\r\n  File \"/qhapp/anaconda3/lib/python3.7/site-packages/paddlehub/commands/config.py\", line 30, in <module>\r\n    HubServer()\r\n  File \"/qhapp/anaconda3/lib/python3.7/site-packages/paddlehub/common/decorator_utils.py\", line 24, in synced_func\r\n    return func(*args, **kwargs)\r\n  File \"/qhapp/anaconda3/lib/python3.7/site-packages/paddlehub/common/decorator_utils.py\", line 35, in _get_instance\r\n    _instance[cls] = cls(*args, **kwargs)\r\n  File \"/qhapp/anaconda3/lib/python3.7/site-packages/paddlehub/common/hub_server.py\", line 60, in __init__\r\n    lock.flock(fp_lock, lock.LOCK_EX)\r\n  File \"/qhapp/anaconda3/lib/python3.7/site-packages/paddlehub/common/lock.py\", line 38, in flock\r\n    self.lock.flock(fp, cmd)\r\nKeyboardInterrupt\r\n",
        "state": "closed",
        "user": "colinTmx",
        "closed_by": "colinTmx",
        "created_at": "2020-10-30T03:23:45+00:00",
        "updated_at": "2020-11-04T01:57:10+00:00",
        "closed_at": "2020-11-04T01:57:10+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 986,
        "title": "autoFinetune 的 multi_label_classification 任务，the last dimension 报错",
        "body": "使用 paddlehub 里的 autoFinetune 报错，paddlepaddle = 1.8.4，paddlehub = 1.8.1\r\n这个是 multi_label_classification 的训练任务，我不用 autoFinetune 是可以正常运行的，加上 autoFinetune 的代码就报错了，日志里面输出的是这个信息: \r\n\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/loss.py\", line 279, in cross_entropy2\r\n    attrs=attrs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/loss.py\", line 241, in cross_entropy\r\n    return cross_entropy2(input, label, ignore_index)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/classifier_task.py\", line 84, in _add_loss\r\n    input=self.outputs[0], label=self.labels[0])\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 422, in _build_env\r\n    self.env.loss = self._add_loss()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 545, in main_program\r\n    self._build_env()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 911, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 384, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 960, in finetune\r\n    self.init_if_necessary()\r\n  File \"./text_cls_re.py\", line 161, in <module>\r\n    cls_task.finetune()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: the last dimension of Input(Label) should be 1.But received: the last dimension of Input(Label) is [28],the last dimension is [1]\r\n  [Hint: Expected label_dims[rank - 1] == 1UL, but received label_dims[rank - 1]:28 != 1UL:1.] at (/paddle/paddle/fluid/operators/cross_entropy_op.cc:87)\r\n  [operator < cross_entropy2 > error]\r\n\r\n\r\n![图片](https://user-images.githubusercontent.com/54064209/97295882-dbf8c800-188a-11eb-95f2-2af544389915.png)\r\n",
        "state": "closed",
        "user": "Echo0117",
        "closed_by": "WYB27",
        "created_at": "2020-10-27T11:32:33+00:00",
        "updated_at": "2025-06-30T07:23:17+00:00",
        "closed_at": "2025-06-30T07:23:17+00:00",
        "comments_count": [
            "haoyuying",
            "Echo0117"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 993,
        "title": "paddlehub lac 分词报错： please set CUDA_VISIBLE_DEVICES as cuda_device_id.",
        "body": "aistudio 中，paddlehub 1.6.0, paddlepaddle 1.7\r\n\r\n```\r\nimport paddlehub as hub\r\nlac = hub.Module(name=\"lac\")\r\nt = \"复现信息：如为报错，请给出复现环境、复现步骤\"\r\nlac.lexical_analysis(texts=[t], use_gpu=True, batch_size=1,return_tag=False)\r\n```\r\n报错：\r\n```\r\n[2020-10-30 14:37:30,111] [    INFO] - Installing lac module\r\n[2020-10-30 14:37:30,113] [    INFO] - Module lac already installed in /home/aistudio/.paddlehub/modules/lac\r\n---------------------------------------------------------------------------KeyError                                  Traceback (most recent call last)~/.paddlehub/modules/lac/module.py in lexical_analysis(self, texts, data, use_gpu, batch_size, return_tag)\r\n    327             try:\r\n--> 328                 _places = os.environ[\"CUDA_VISIBLE_DEVICES\"]\r\n    329                 int(_places[0])\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/os.py in __getitem__(self, key)\r\n    677             # raise KeyError with the original key value\r\n--> 678             raise KeyError(key) from None\r\n    679         return self.decodevalue(value)\r\nKeyError: 'CUDA_VISIBLE_DEVICES'\r\nDuring handling of the above exception, another exception occurred:\r\nRuntimeError                              Traceback (most recent call last)<ipython-input-2-6de7f08ab5a5> in <module>\r\n      2 lac = hub.Module(name=\"lac\")\r\n      3 t = \"复现信息：如为报错，请给出复现环境、复现步骤\"\r\n----> 4 lac.lexical_analysis(texts=[t], use_gpu=True, batch_size=1,return_tag=False)\r\n~/.paddlehub/modules/lac/module.py in lexical_analysis(self, texts, data, use_gpu, batch_size, return_tag)\r\n    330             except:\r\n    331                 raise RuntimeError(\r\n--> 332                     \"Environment Variable CUDA_VISIBLE_DEVICES is not set correctly. If you wanna use gpu, please set CUDA_VISIBLE_DEVICES as cuda_device_id.\"\r\n    333                 )\r\n    334 \r\nRuntimeError: Environment Variable CUDA_VISIBLE_DEVICES is not set correctly. If you wanna use gpu, please set CUDA_VISIBLE_DEVICES as cuda_device_id.\r\n```\r\n",
        "state": "closed",
        "user": "biubiuyi",
        "closed_by": "biubiuyi",
        "created_at": "2020-10-30T06:41:26+00:00",
        "updated_at": "2020-11-13T10:17:20+00:00",
        "closed_at": "2020-11-06T15:22:12+00:00",
        "comments_count": [
            "Steffy-zxf",
            "biubiuyi",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 992,
        "title": "PaddleHub 在目标分割(比如yolo)方面 如何Finetune",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "xzxjysgd",
        "closed_by": "WYB27",
        "created_at": "2020-10-30T03:25:30+00:00",
        "updated_at": "2025-06-30T07:23:15+00:00",
        "closed_at": "2025-06-30T07:23:15+00:00",
        "comments_count": [
            "xzxjysgd",
            "biubiuyi",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 994,
        "title": "1.8.2版本的源码",
        "body": "Pypi提供了1.8.3和1.8.2的版本包，GitHub只提供到了1.8.1的源码！麻烦提供一下1.8.2版本的源码",
        "state": "closed",
        "user": "SunshlnW",
        "closed_by": "WYB27",
        "created_at": "2020-10-31T02:33:06+00:00",
        "updated_at": "2025-06-30T07:23:13+00:00",
        "closed_at": "2025-06-30T07:23:13+00:00",
        "comments_count": [
            "Steffy-zxf",
            "SunshlnW"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 999,
        "title": "No such file or directory: 'model/my_model/round9/model-0/'",
        "body": "测试run_autofinetune.sh的时候，前面都能成功，到了后面就报这个错误，有人知道是啥问题么？\r\nThe final best eval score is 0.0.\r\nThe final best model parameters are saved as model/my_model/best_model .\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/py37/bin/hub\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/root/miniconda3/envs/py37/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"/root/miniconda3/envs/py37/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/root/miniconda3/envs/py37/lib/python3.7/site-packages/paddlehub/commands/autofinetune.py\", line 210, in execute\r\n    shutil.copytree(best_hparams_dir, best_model_dir)\r\n  File \"/root/miniconda3/envs/py37/lib/python3.7/shutil.py\", line 318, in copytree\r\n    names = os.listdir(src)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'model/my_model/round9/model-0/'",
        "state": "closed",
        "user": "JKwanghao",
        "closed_by": "WYB27",
        "created_at": "2020-11-06T04:08:55+00:00",
        "updated_at": "2025-06-30T07:23:09+00:00",
        "closed_at": "2025-06-30T07:23:09+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 996,
        "title": "关于paddlehub迁移学习中cv任务的数据读取器问题",
        "body": "官方教程中给定的数据读取器属于cv的只有图像分类的，想使用paddlehub对图像分割 预训练模型进行微调，但是未能找到匹配的适用于图像分割的数据读取器，所以想咨询一下官方，目前有什么解决方案吗？\r\n",
        "state": "closed",
        "user": "flyinggx",
        "closed_by": "WYB27",
        "created_at": "2020-11-05T01:35:09+00:00",
        "updated_at": "2025-06-30T07:23:11+00:00",
        "closed_at": "2025-06-30T07:23:11+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1004,
        "title": "Compressed file ended before the end-of-stream marker was reached",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/49861986/98518883-f8ddc400-22aa-11eb-8d58-a133891fcd03.png)\r\n\r\n\r\n\r\n下载 bert_chinese_L-12_H-768_A-12， 模型总是报错",
        "state": "closed",
        "user": "liyandongpy",
        "closed_by": "WYB27",
        "created_at": "2020-11-09T08:45:49+00:00",
        "updated_at": "2025-06-30T07:23:07+00:00",
        "closed_at": "2025-06-30T07:23:07+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1006,
        "title": "ernie模型fin tuning后预测速度慢",
        "body": "用ernie模型fin_tuning之后，预测效率好差，一条需要0.7s左右，因为本机CPU的原因吗？这是正常吗？如何提升速度",
        "state": "closed",
        "user": "double-orange",
        "closed_by": "WYB27",
        "created_at": "2020-11-10T02:04:00+00:00",
        "updated_at": "2025-06-30T07:23:03+00:00",
        "closed_at": "2025-06-30T07:23:03+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1007,
        "title": "口罩检测模型出现bug",
        "body": "Paddle 2.0.0-rc0\r\nWindows 10\r\nPython 3.6.5\r\n\r\n```\r\nresults = module.face_detection(images=imgs, batch_size=1, use_multi_scale=True, shrink=2, visualization=True, output_dir='detection_result', use_gpu=True)\r\nfor result in results:\r\n    print(result)\r\n```\r\n\r\n采用了口罩输出的模型，从结果上看，应该是正确预测了，但是在输出图像时，总会出现以下问题。如果是检测多幅图像，会正确输出2-3幅，然后就出现错误，后面的不输出了。如果是检测一幅图像，在输出一幅后，也会出现错误。感觉是图像保存时的问题，请检查。\r\n\r\n此外，请问保存图像名称的规则是什么？能不能自己修改。\r\n\r\n```\r\nD:\\Anaconda3\\python.exe \"F:/COVID Mask/Model/venv/PaddleHub.py\"\r\n[2020-11-10 11:34:17,096] [    INFO] - Installing pyramidbox_lite_server_mask module\r\n[2020-11-10 11:34:17,292] [    INFO] - Module pyramidbox_lite_server_mask already installed in C:\\Users\\garde\\.paddlehub\\modules\\pyramidbox_lite_server_mask\r\n[2020-11-10 11:34:17,293] [    INFO] - Installing pyramidbox_lite_server module\r\n[2020-11-10 11:34:17,296] [    INFO] - Module pyramidbox_lite_server already installed in C:\\Users\\garde\\.paddlehub\\modules\\pyramidbox_lite_server\r\n{'data': [{'label': 'NO MASK', 'confidence': 0.9997896552085876, 'top': 243.7421858184234, 'bottom': 280.00639487853675, 'left': 1215.6253508183313, 'right': 1246.0120720906962}, {'label': 'NO MASK', 'confidence': 0.9995217323303223, 'top': 283.5131729783953, 'bottom': 305.4868270216047, 'left': 183.48682702160474, 'right': 200.48682702160474}, {'label': 'NO MASK', 'confidence': 0.999995231628418, 'top': 276.5018139928288, 'bottom': 295.4981860071712, 'left': 1011.0, 'right': 1025.4981860071712}, {'label': 'NO MASK', 'confidence': 0.9999889135360718, 'top': 259.52162743274476, 'bottom': 293.03613853342824, 'left': 1145.0722770668565, 'right': 1172.9638614665716}, {'label': 'NO MASK', 'confidence': 0.9996421337127686, 'top': 277.00795094099215, 'bottom': 298.4960245295039, 'left': 424.0, 'right': 441.0}, {'label': 'NO MASK', 'confidence': 0.9997715353965759, 'top': 315.5934992289835, 'bottom': 332.5934992289835, 'left': 870.0, 'right': 883.0}, {'label': 'NO MASK', 'confidence': 0.9964639544487, 'top': 161.59088357828918, 'bottom': 228.67519095495004, 'left': 40.35049468673822, 'right': 95.94165909933793}, {'label': 'NO MASK', 'confidence': 0.9990259408950806, 'top': 285.4752104559655, 'bottom': 305.0, 'left': 1076.950420911931, 'right': 1092.0}, {'label': 'NO MASK', 'confidence': 0.9996755123138428, 'top': 276.50069028126416, 'bottom': 293.50069028126416, 'left': 838.4993097187358, 'right': 852.0}, {'label': 'NO MASK', 'confidence': 0.9999523162841797, 'top': 313.57036703068815, 'bottom': 332.7111010920644, 'left': 960.4296329693119, 'right': 975.5703670306881}, {'label': 'NO MASK', 'confidence': 0.9997784495353699, 'top': 275.5512159049907, 'bottom': 294.0, 'left': 321.0, 'right': 336.4487840950093}, {'label': 'NO MASK', 'confidence': 0.9911012649536133, 'top': 306.60465780832413, 'bottom': 323.0, 'left': 855.069771872216, 'right': 869.069771872216}, {'label': 'NO MASK', 'confidence': 0.9897811412811279, 'top': 267.0, 'bottom': 282.0, 'left': 479.0, 'right': 490.0}], 'path': 'ndarray_time=1604979258411093.0'}\r\nW1110 11:34:17.297555  1732 analysis_predictor.cc:1042] Deprecated. Please use CreatePredictor instead.\r\n\r\nProcess finished with exit code 0\r\n```\r\n",
        "state": "closed",
        "user": "gardenofever",
        "closed_by": "haoyuying",
        "created_at": "2020-11-10T03:42:08+00:00",
        "updated_at": "2020-11-13T09:48:32+00:00",
        "closed_at": "2020-11-13T04:06:38+00:00",
        "comments_count": [
            "haoyuying",
            "gardenofever",
            "haoyuying",
            "gardenofever",
            "gardenofever",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1005,
        "title": "如何使paddle模型Alpha通道，取值为0-255",
        "body": "\r\n问题:1：图片标记数据集背景是0前景为1的数据集，我这里paddle训练后得到的模型如何生成像deeplab_human_seg模型输出为0-255通道的图片呢\r\n问题2：我的模型边缘锯齿明显 如何改进；请问人像语义分割模式是如何处理锯齿问题的？",
        "state": "closed",
        "user": "yanchaoguo",
        "closed_by": "WYB27",
        "created_at": "2020-11-09T13:16:17+00:00",
        "updated_at": "2025-06-30T07:23:05+00:00",
        "closed_at": "2025-06-30T07:23:05+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1014,
        "title": "请RD看一下：Module返回模型对象，相同的输入得到不同的输出（paddlehub提供的预训练bert模型）",
        "body": "\r\n- **版本、环境信息**\r\n1）paddlehub 1.8.2，paddle1.8.4\r\n2）系统环境：Windows 10，python3.7.9，x64\r\n- **问题**\r\n通过hub提供的预训练模型提取句子的字特征，同一个句子每次得到的特征不一样。\r\n- **问题描述**\r\n使用paddlehub提供的预训练**bert_chinese_L-12_H-768_A-12**模型组建下游任务（没有使用task方法，使用动态图构建），在获取同一个句子的输出字特征时，通过debug显示返回的`sequence_output`数据内容不一样。不清楚是否是自动更新了参数，也没找到开关，`context()`方法的trainable也设置为了False，但应该是不相关的。\r\n由于是构建多输入多输出的任务，所以拟使用动态图的方式进行构建，如有其他更好办法欢迎RD指导，感谢。\r\n![image](https://user-images.githubusercontent.com/30745146/98915553-07271c80-2505-11eb-8ae2-75caa0c3c894.png)\r\n![image](https://user-images.githubusercontent.com/30745146/98915587-11491b00-2505-11eb-8966-d2497e836f40.png)\r\n\r\n- **复现代码**\r\n（当前还在组网阶段，没有模型结构，只在验证输入输出）\r\n```python\r\n#!/usr/bin/env python3\r\n# encoding:utf-8\r\n# @Time     : 2020/11/12 9:13\r\n# @Author   : vflanker\r\n# @Email    : local\r\n# File      : test.py\r\n# Project   : scratch\r\n\r\n# encoding:utf-8\r\nimport paddlehub as hub\r\nfrom paddlehub.tokenizer import BertTokenizer\r\nimport numpy as np\r\nimport paddle.fluid as fluid\r\n\r\nmini_data = [\r\n    # 0\r\n    {\"text\": \"查尔斯·阿兰基斯（Charles Aránguiz），1989年4月17日出生于智利圣地亚哥，智利职业足球运动员，司职中场，效力于德国足球甲级联赛勒沃库森足球俱乐部\",\r\n     \"spo_list\": [[\"查尔斯·阿兰基斯\", \"出生地\", \"圣地亚哥\"], [\"查尔斯·阿兰基斯\", \"出生日期\", \"1989年4月17日\"]]},\r\n    # 1\r\n    {\"text\": \"《离开》是由张宇谱曲，演唱\", \"spo_list\": [[\"离开\", \"歌手\", \"张宇\"], [\"离开\", \"作曲\", \"张宇\"]]},\r\n    # 2\r\n    {\"text\": \"《愤怒的唐僧》由北京吴意波影视文化工作室与优酷电视剧频道联合制作，故事以喜剧元素为主，讲述唐僧与佛祖打牌，得罪了佛祖，被踢下人间再渡九九八十一难的故事\",\r\n     \"spo_list\": [[\"愤怒的唐僧\", \"出品公司\", \"北京吴意波影视文化工作室\"], [\"愤怒的唐僧\", \"导演\", \"吴意波\"]]},\r\n    # 3\r\n    {\"text\": \"李治即位后，萧淑妃受宠，王皇后为了排挤萧淑妃，答应李治让身在感业寺的武则天续起头发，重新纳入后宫\", \"spo_list\": [[\"李治\", \"妻子\", \"萧淑妃\"], [\"萧淑妃\", \"丈夫\", \"李治\"]]}\r\n]\r\n\r\nmax_seq_len = 128\r\nmini_data = mini_data[:2]\r\ndata_size = len(mini_data)\r\nmodule = hub.Module(name='bert_chinese_L-12_H-768_A-12')\r\n\r\ntokenizer = BertTokenizer(vocab_file=module.get_vocab_path())\r\n\r\ninputs, outputs, program = module.context(trainable=False, max_seq_len=max_seq_len)\r\n\r\ndata_0 = [tokenizer.encode(mini_data[i]['text'], max_seq_len=max_seq_len, pad_to_max_seq_len=True)\r\n          for i in range(len(mini_data))]\r\ndata = {key: [line[key] for line in data_0] for key in data_0[0].keys()}\r\n\r\nbatch_size = len(data[\"input_ids\"])\r\n\r\nwith fluid.dygraph.guard():\r\n    input_ids = np.array(data['input_ids']).astype(np.int64).reshape([batch_size, -1, 1])\r\n    position_ids = np.array(data['position_ids']).astype(np.int64).reshape([batch_size, -1, 1])\r\n    segment_ids = np.array(data['segment_ids']).astype(np.int64).reshape([batch_size, -1, 1])\r\n    input_mask = np.array(data['input_mask']).astype(np.float32).reshape([batch_size, -1, 1])\r\n    ret = module(input_ids, position_ids, segment_ids, input_mask)\r\n    print(ret)\r\n```\r\n",
        "state": "closed",
        "user": "vflanker",
        "closed_by": "WYB27",
        "created_at": "2020-11-12T08:36:23+00:00",
        "updated_at": "2025-06-30T07:22:59+00:00",
        "closed_at": "2025-06-30T07:22:59+00:00",
        "comments_count": [
            "Steffy-zxf",
            "vflanker"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1013,
        "title": "【PaddleHub特别兴趣小组开启招募🔥🔥🔥】",
        "body": "⭐PaddleHub SIG（兴趣小组）开启招募了⭐\r\n\r\n- PaddleHub作为飞桨预训练模型的应用工具，其一键应用预训练模型完成深度学习的任务得到众多开发者的喜好。为了更好的服务开发者群体，PaddleHub官方寻求更多成员一起参与外部模型贡献到Hub任务。奖励多多，成长多多~\r\n\r\n- 可以**添加微信『飞桨小哥哥』（微信号：18482129721）**。协商模型转换事宜，我们**提供全方位的技术指导和技术帮助**，一起丰富我们的预训练模型库。\r\n\r\n**_以下是任务列表：_**\r\n\r\n1、[video-object-removal](https://github.com/zllrunning/video-object-removal) 通过 Pytorch 实现绘制一个边界框，删除视频中要删除的对象。 难度（★★★★）\r\n2、[\r\n3d-photo-inpainting](https://github.com/vt-vl-lab/3d-photo-inpainting) 一个把单张静态照片转化成 3D 图片的项目。难度（★★★★）\r\n3、[waifu2x](https://github.com/nagadomi/waifu2x) 1-2 倍的无损放大操作，支持降噪保证图片质量。难度（★★★）\r\n4、[photo2cartoon](https://github.com/minivision-ai/photo2cartoon) 将真实照片转换为卡通风格的开源项目。难度（★★★）\r\n5、[pifuhd](https://github.com/facebookresearch/pifuhd)facebookresearch人体3D建模。难度（★★★★★）\r\n6、[Anime4K](https://github.com/bloc97/Anime4K) 实时把动画变成4k高清，延时仅3毫秒。难度（★★★★★）\r\n\r\n更多模型持续更新，如果您有好玩的模型且我们没有，也欢迎贡献进来哦~\r\n\r\n您能获得什么？\r\n1、模型贡献的专属copytight，其他使用该模型的小伙伴都可以知道贡献者信息\r\n2、PPDE绿色晋级通道，促进个人快速成长\r\n3、飞桨开发者大会表彰\r\n4、百度校招/实习内推机会\r\n5、PaddleHub Repo留名/文章作者署名\r\n6、更多权益可以一起协商哦😁",
        "state": "closed",
        "user": "chunzhang-hub",
        "closed_by": "WYB27",
        "created_at": "2020-11-11T11:25:57+00:00",
        "updated_at": "2025-06-30T07:23:01+00:00",
        "closed_at": "2025-06-30T07:23:01+00:00",
        "comments_count": [
            "xiashiwendao",
            "chunzhang-hub",
            "ZeyuChen"
        ],
        "labels": [
            "SIG"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1019,
        "title": "import paddle.fluid時報錯",
        "body": "版本、环境信息\r\n1）paddlehub 1.8.3，paddle1.8.5\r\n2）系统环境：Windows server 2016，python3.7.6，x64\r\n\r\n问题\r\n要驗證 import paddle.fluid as fluid時出現報錯\r\n\r\n问题描述\r\n>>> import paddle.fluid as fluid\r\nTraceback (most recent call last):\r\n    File  \"<input>\", line 1, in <module>\r\n    File  \"C:\\Program Files\\JetBrains\\PyCharm_Community_Edition_2020.2.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n       module = self._system_import(name, *args, **kwargs)\r\n    File  \"C:\\Users\\Administrator\\Desktop\\project\\venv\\lib\\site-packages\\paddle\\__init__.py\", line 35, in <module>\r\n       batch = batch.batch\r\nNameError: name 'batch' is not defined\r\n\r\n我已經卡了兩天，一直重新安裝也是報錯，把__init__裡的batch = batch.batch註釋\b，結果報錯更多。\r\n有沒有人也有遇過這種問題，如有其他更好办法欢迎RD指导，感谢。",
        "state": "closed",
        "user": "Felix1525",
        "closed_by": "WYB27",
        "created_at": "2020-11-13T03:26:47+00:00",
        "updated_at": "2025-06-30T07:22:55+00:00",
        "closed_at": "2025-06-30T07:22:55+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1018,
        "title": "paddlehub的预训练模型作为backbone在2.0rc模型结构中使用报错",
        "body": "- 此issue在paddle的issue link:https://github.com/PaddlePaddle/Paddle/issues/28592\r\n\r\n因为涉及到两边所以两边都提了（内容一致）。\r\n------\r\n- 版本、环境信息：\r\n    1）PaddlePaddle版本：2.0rc，paddlehub 1.8.2\r\n    2）GPU：cuda 10.0\r\n    3）系统环境：aistudio，Python3.7\r\n\r\n- 模型信息\r\n    1）模型名称：BERT\r\n    2）数据集：DuIE\r\n    3）模型链接：https://www.paddlepaddle.org.cn/hubdetail?name=bert_chinese_L-12_H-768_A-12&en_category=SemanticModel\r\n    4）算法参考：https://github.com/bojone/bert_in_keras/blob/master/relation_extract.py & python 2.7 + tensorflow 1.13 + keras 2.2.4\r\n\r\n- 问题描述：\r\n\r\n当前在构建一个NLP下游任务的网络，需要使用bert作为backbone提取特征，尝试使用2.0rc的subclass方法继承nn.Layer创建一个下游任务模型的类，但是在model.summary()时报错，说是传入到backbone的参数类型不兼容，但看起来都是Variable:\r\n`TypeError: The type of input in TranslatedLayer must be numpy array or Variable(VarBase), but received <class 'paddle.fluid.framework.Variable'>.`\r\n![image](https://user-images.githubusercontent.com/30745146/99021283-4f911980-259b-11eb-8baa-115a1b87e431.png)\r\n\r\n- 复现信息：\r\n\r\npaddle2.0rc+paddlehub代码：\r\n```python\r\n\r\nimport paddle\r\nimport paddle.nn as nn\r\nimport paddlehub as hub\r\nfrom paddle.static import InputSpec\r\n\r\n\r\ndef seq_gather(seq, ids):\r\n    ids = paddle.cast(ids, dtype='int64')\r\n    batch_ids = paddle.arange(0, paddle.shape(seq)[0])\r\n    batch_ids = paddle.unsqueeze(batch_ids, [1])\r\n    ids = paddle.concat([batch_ids, ids], axis=1)\r\n    return paddle.gather_nd(seq, ids)\r\n\r\n\r\nclass Net(nn.Layer):\r\n    def __init__(self, num_classes, backbone):\r\n        super(Net, self).__init__()\r\n        self.backbone = backbone\r\n        t1 = InputSpec(shape=[None], dtype='int64', name='t1')  # input_ids\r\n        t2 = InputSpec(shape=[None], dtype='int64', name='t2')  # segment_ids\r\n        s1 = InputSpec(shape=[None], dtype='int64', name='s1')  # all start_ids of subjects\r\n        s2 = InputSpec(shape=[None], dtype='int64', name='s2')  # all end_ids of subjects\r\n        k1 = InputSpec(shape=[None, 1], dtype='int64', name='k1')  # start_id of random one subject\r\n        k2 = InputSpec(shape=[None, 1], dtype='int64', name='k2')  # end_id of random one subject\r\n        o1 = InputSpec(shape=[None, num_classes], dtype='int64', name='o1')  # all start_ids, predicate map of objects\r\n        o2 = InputSpec(shape=[None, num_classes], dtype='int64', name='o2')  # all end_ids, predicate map of objects\r\n        t3 = InputSpec(shape=[None], dtype='int64', name='t3')  # position_ids\r\n        t4 = InputSpec(shape=[None], dtype='float32', name='t4')  # input_mask\r\n        # t = InputSpec(shape=[None, 768], dtype='float32', name='t')\r\n\r\n        ps1 = InputSpec(shape=[1], name='ps1')\r\n        ps2 = InputSpec(shape=[1], name='ps2')\r\n        po1 = InputSpec(shape=[num_classes], name='po1')\r\n        po2 = InputSpec(shape=[num_classes], name='po2')\r\n\r\n        self.__train_inputs = [t1, t2, s1, s2, k1, k2, o1, o2, t3, t4]\r\n        self.__train_outputs = [ps1, ps2, po1, po2]\r\n\r\n        self.c_ps1 = nn.Linear(in_features=768, out_features=1)  # subjects start ids\r\n        self.c_ps2 = nn.Linear(in_features=768, out_features=1)  # subjects end ids\r\n        self.c_po1 = nn.Linear(in_features=768, out_features=num_classes)  # objects start ids and predicate\r\n        self.c_po2 = nn.Linear(in_features=768, out_features=num_classes)  # object end ids and predicate\r\n\r\n    @property\r\n    def train_inputs(self):\r\n        return self.__train_inputs\r\n\r\n    @property\r\n    def train_outputs(self):\r\n        return self.__train_outputs\r\n\r\n    def forward(self, input_ids, segment_ids, input_s1, input_s2, input_k1, input_k2, input_o1, input_o2, position_ids,\r\n                input_mask):\r\n        t = self.backbone(input_ids, position_ids, segment_ids, input_mask)['sequence_output']\r\n        ps1 = nn.functional.hardsigmoid(self.c_ps1(t))\r\n        ps2 = nn.functional.hardsigmoid(self.c_ps2(t))\r\n        k1v = seq_gather(t, input_k1)\r\n        k2v = seq_gather(t, input_k2)\r\n        kv = paddle.mean([k1v, k2v])\r\n        t = paddle.add(t, kv)\r\n        po1 = nn.functional.hardsigmoid(self.c_po1(t))\r\n        po2 = nn.functional.hardsigmoid(self.c_po2(t))\r\n\r\n        # # loss related\r\n        #\r\n        # mask = paddle.cast(x=paddle.greater_than(x=paddle.unsqueeze(input_ids, 2), y=0), dtype='float32')\r\n        #\r\n        # s1 = paddle.unsqueeze(input_s1, 2)\r\n        # s2 = paddle.unsqueeze(input_s2, 2)\r\n        #\r\n        # s1_loss = paddle.nn.functional.binary_cross_entropy(s1, ps1)\r\n        # s1_loss = paddle.sum(s1_loss * mask) / paddle.sum(mask)\r\n        # s2_loss = paddle.nn.functional.binary_cross_entropy(s2, ps2)\r\n        # s2_loss = paddle.sum(s2_loss * mask) / paddle.sum(mask)\r\n        #\r\n        # o1_loss = paddle.sum(paddle.nn.functional.binary_cross_entropy(input_o1, po1), 2, keepdim=True)\r\n        # o1_loss = paddle.sum(o1_loss * mask) / paddle.sum(mask)\r\n        # o2_loss = paddle.sum(paddle.nn.functional.binary_cross_entropy(input_o2, po2), 2, keepdim=True)\r\n        # o2_loss = paddle.sum(o2_loss * mask) / paddle.sum(mask)\r\n        #\r\n        # loss = (s1_loss + s2_loss) + (o1_loss + o2_loss)\r\n        #\r\n        # return ps1, ps2, po1, po2, loss\r\n\r\n        return ps1, ps2, po1, po2\r\n\r\n\r\nif __name__ == '__main__':\r\n    device = paddle.set_device('cpu')  # or 'gpu'\r\n    # if use static graph, do not set\r\n    # paddle.disable_static(device)\r\n    paddle.enable_static()\r\n\r\n    module = hub.Module(name='bert_chinese_L-12_H-768_A-12')\r\n    net = Net(num_classes=49, backbone=module)\r\n\r\n    model = paddle.Model(net, net.train_inputs, net.train_outputs)\r\n\r\n    optimizer = paddle.optimizer.SGD(learning_rate=1e-3,\r\n                                     parameters=model.parameters())\r\n    model.summary()\r\n    model.prepare(optimizer,\r\n                  paddle.nn.CrossEntropyLoss(),\r\n                  paddle.metric.Accuracy())\r\n```",
        "state": "closed",
        "user": "vflanker",
        "closed_by": "WYB27",
        "created_at": "2020-11-13T02:42:21+00:00",
        "updated_at": "2025-06-30T07:22:57+00:00",
        "closed_at": "2025-06-30T07:22:57+00:00",
        "comments_count": [
            "Steffy-zxf",
            "vflanker"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1021,
        "title": "多分类语义分割模型",
        "body": "问下 目前我们提供COCO数据集完整的实例分割模型吗，即除了人物外 ，80个类别都可以分割的这种模型",
        "state": "closed",
        "user": "yanchaoguo",
        "closed_by": "WYB27",
        "created_at": "2020-11-14T04:10:06+00:00",
        "updated_at": "2025-06-30T07:22:51+00:00",
        "closed_at": "2025-06-30T07:22:51+00:00",
        "comments_count": [
            "haoyuying",
            "yanchaoguo",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1020,
        "title": "当验证/测试数据集比较小的时候，设置的batch_size过大会导致IndexError: list index out of range",
        "body": "版本信息：\r\nPaddleHub1.8.2， PaddlePaddle1.8.5，Python3.7.2\r\n系统环境：Windows10\r\n问题描述：\r\n当我使用PaddleHub进行Fine-tune的时候，使用自定义的数据集，数据量比较少，训练数据：30条，测试、验证数据：37条\r\n通过hub.RunConfig配置的代码是：\r\n`\r\n        self.config = hub.RunConfig(\r\n            use_cuda=False,\r\n            num_epoch=10,\r\n            batch_size=10,\r\n            eval_interval=10,\r\n            strategy=self.strategy)\r\n`\r\n然后执行task.finetune_and_eval()就出现\r\n`\r\nFile \"C:\\software\\work\\Python3.7\\lib\\site-packages\\paddlehub\\finetune\\task\\classifier_task.py\", line 117, in _calculate_metrics\r\n    run_time_used = time.time() - run_states[0].run_time_begin\r\nIndexError: list index out of range\r\n`\r\n当更改batch_size为6及以下时就正常执行\r\n参考AiStudio项目：[PaddleHub之《青春有你2》进行二分类](https://aistudio.baidu.com/aistudio/projectdetail/1220603)\r\n完整代码如下：\r\n```\r\n#coding:utf-8\r\n\r\nimport os\r\nimport json\r\nimport paddlehub as hub\r\nfrom PIL import Image\r\nimport matplotlib.pyplot as plt\r\n\r\nfrom paddlehub.dataset.base_cv_dataset import BaseCVDataset\r\n\r\n\r\n# 加载自定义数据集\r\nclass StarDataset(BaseCVDataset):\r\n    def __init__(self):\r\n\r\n        # 数据集存放位置\r\n        base_path =  \"Python小白逆袭大神/青春有你2选手图片分类/dataset\"\r\n       \r\n        super(StarDataset, self).__init__(\r\n            base_path=base_path,\r\n            train_list_file='train_list.txt',\r\n            validate_list_file='validate_list.txt',\r\n            test_list_file='test_list.txt',\r\n            label_list_file='label_list.txt',\r\n            label_list=None\r\n        )\r\n\r\nclass StarFinetuneTask(object):\r\n    def __init__(self):\r\n        self.dataset = StarDataset()\r\n        \r\n        # 加载预训练模型\r\n        self.module = hub.Module(name = 'mobilenet_v2_imagenet')\r\n\r\n        # 配置数据预处理器\r\n        self.reader = hub.reader.ImageClassificationReader(\r\n            image_width=self.module.get_expected_image_width(),\r\n            image_height=self.module.get_expected_image_height(),\r\n            images_mean=self.module.get_pretrained_images_mean(),\r\n            images_std=self.module.get_pretrained_images_std(),\r\n            dataset=self.dataset)\r\n\r\n        # 选择优化策略\r\n        self.strategy = hub.DefaultFinetuneStrategy()\r\n\r\n        # 设置运行时配置\r\n        self.config = hub.RunConfig(\r\n            use_cuda=False,\r\n            num_epoch=10,\r\n            batch_size=10,\r\n            eval_interval=10,\r\n            strategy=self.strategy)\r\n\r\n        # 组建训练任务\r\n        input_dict, output_dict, program = self.module.context(trainable=True)\r\n        img = input_dict[\"image\"]\r\n        feature_map = output_dict[\"feature_map\"]\r\n        feed_list = [img.name]\r\n\r\n        self.task = hub.ImageClassifierTask(\r\n            data_reader=self.reader,\r\n            feature=feature_map,\r\n            feed_list=feed_list,\r\n            num_classes=self.dataset.num_labels,\r\n            config=self.config)\r\n\r\n    def finetune_and_eval(self):\r\n        # 启动Fine-tune\r\n        self.task.finetune_and_eval()\r\n\r\ntask = StarFinetuneTask()\r\ntask.finetune_and_eval()\r\n```\r\n",
        "state": "closed",
        "user": "youpanpan",
        "closed_by": "WYB27",
        "created_at": "2020-11-13T08:42:07+00:00",
        "updated_at": "2025-06-30T07:22:53+00:00",
        "closed_at": "2025-06-30T07:22:53+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "help wanted"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1022,
        "title": "文本Embedding服务 返回值疑问",
        "body": "您好！请问在使用 文本Embedding服务时服务端返回的文本向量只是能是固定的768维度吗？如果想要拿到预训练模型输出的直接结果应该怎样操作呢？（即拿到每一个词的向量）",
        "state": "closed",
        "user": "zf-go",
        "closed_by": "WYB27",
        "created_at": "2020-11-16T01:46:58+00:00",
        "updated_at": "2025-06-30T07:22:49+00:00",
        "closed_at": "2025-06-30T07:22:49+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1024,
        "title": "什么时候能支持paddle2.0呢",
        "body": "",
        "state": "closed",
        "user": "deep-practice",
        "closed_by": "ZeyuChen",
        "created_at": "2020-11-17T08:22:25+00:00",
        "updated_at": "2020-12-02T11:40:12+00:00",
        "closed_at": "2020-12-02T11:40:12+00:00",
        "comments_count": [
            "cheerser",
            "haoyuying",
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1023,
        "title": "客户端调用bert_serving服务遇到 IndexError: list index out of range错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n> 服务端：paddlehub Version: 1.8.3,  paddlepaddle-gpu Version: 1.8.5.post107\r\n> 客户端：paddlehub Version: 1.8.3 ,  paddlepaddle Version: 1.8.5\r\n\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n> 服务端：docker镜像 hub.baidubce.com/paddlepaddle/paddle:1.8.5-gpu-cuda10.0-cudnn7， python=3.7\r\n> 客服端：ubuntu18.04， python=3.7\r\n\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n在docker容器内运行demo不会报错，在客户端运行demo则报错\r\n运行脚本如下：\r\n```python\r\nimport numpy as np\r\nfrom paddlehub.serving.bert_serving import bs_client\r\nbc = bs_client.BSClient(module_name=\"ernie_tiny\", server=\"localhost:8867\") #端口已做映射\r\ninput_text = [[\"西\"], [\"白发多\"], [\"醉后\"], [\"星河\"]]\r\n\r\nresult = bc.get_result(input_text=input_text)\r\nres = np.array(result)\r\nprint(res.shape)\r\n```\r\n\r\n错误信息如下：\r\n```bash\r\n[2020-11-17 15:06:00,331] [    INFO] - Installing ernie_tiny module\r\n[2020-11-17 15:06:00,332] [    INFO] - Module ernie_tiny already installed in /home/xxx/.paddlehub/modules/ernie_tiny\r\n[2020-11-17 15:06:01,628] [    INFO] - Dataset is None or it has not any labels, label map = {}\r\n[2020-11-17 15:06:01,679] [ WARNING] - Infer Error with server localhost:9000 : [Errno 111] Connection refused\r\n[2020-11-17 15:06:01,679] [    INFO] - Try to connect another servers\r\nTraceback (most recent call last):\r\n  File \"/home/xxx/anaconda3/lib/python3.7/site-packages/paddlehub/serving/bert_serving/bert_service.py\", line 114, in request_server\r\n    self.serving_list[self.con_index])\r\nIndexError: list index out of range\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/xxx/prj/demo_bert.py\", line 6, in <module>\r\n    result = bc.get_result(input_text=input_text)\r\n  File \"/home/xxx/anaconda3/lib/python3.7/site-packages/paddlehub/serving/bert_serving/bs_client.py\", line 21, in get_result\r\n    return self.bs.encode(input_text)\r\n  File \"/home/xxx/anaconda3/lib/python3.7/site-packages/paddlehub/serving/bert_serving/bert_service.py\", line 231, in encode\r\n    response_msg = self.request_server(request_msg)\r\n  File \"/home/xxx/anaconda3/lib/python3.7/site-packages/paddlehub/serving/bert_serving/bert_service.py\", line 126, in request_server\r\n    self.serving_list[self.con_index], err))\r\nIndexError: list index out of rang\r\n```",
        "state": "closed",
        "user": "bigpo",
        "closed_by": "WYB27",
        "created_at": "2020-11-17T07:15:25+00:00",
        "updated_at": "2025-06-30T07:22:48+00:00",
        "closed_at": "2025-06-30T07:22:48+00:00",
        "comments_count": [
            "bigpo",
            "T-baby",
            "T-baby"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1025,
        "title": "苹果电脑安装paddlehub成功后，无法使用 hub  命令行",
        "body": "baitianjundeMacBook-Air:~ baitianjun$ pip3 list | grep paddlehub\r\npaddlehub           1.8.2    \r\nbaitianjundeMacBook-Air:~ baitianjun$ pip3 show paddlehub\r\nName: paddlehub\r\nVersion: 1.8.2\r\nSummary: A toolkit for managing pretrained models of PaddlePaddle and helping user getting started with transfer learning more efficiently.\r\nHome-page: https://github.com/PaddlePaddle/PaddleHub\r\nAuthor: PaddlePaddle Author\r\nAuthor-email: paddle-dev@baidu.com\r\nLicense: Apache 2.0\r\nLocation: /usr/local/lib/python3.7/site-packages\r\nRequires: six, pandas, flake8, colorlog, visualdl, yapf, gunicorn, tqdm, protobuf, nltk, flask, pre-commit, cma, sentencepiece\r\nRequired-by: \r\nbaitianjundeMacBook-Air:~ baitianjun$ hub run lac --input_text \"今天是个好日子\"\r\n-bash: hub: command not found",
        "state": "closed",
        "user": "baitianjun",
        "closed_by": "WYB27",
        "created_at": "2020-11-18T09:11:31+00:00",
        "updated_at": "2025-06-30T07:22:46+00:00",
        "closed_at": "2025-06-30T07:22:46+00:00",
        "comments_count": [
            "Steffy-zxf",
            "NancyGu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1027,
        "title": " Paddle-TensorRT 库的使用",
        "body": "请问一下 paddlehub 里的 bert 模型能支持 TensorRT 6 的预测吗～\r\n另外能找到的教程都是 C++ 的 ，请问 Paddle-TensorRT 库有实现 python 的接口吗",
        "state": "closed",
        "user": "Echo0117",
        "closed_by": "WYB27",
        "created_at": "2020-11-19T07:10:34+00:00",
        "updated_at": "2025-06-30T07:22:44+00:00",
        "closed_at": "2025-06-30T07:22:44+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1029,
        "title": "情感分析，提示Segmentation fault (core dumped)",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.8.3，PaddlePaddle1.8.5\r\n2）系统环境：Linux，python3.6，cpu环境\r\n- 复现信息：\r\nimport paddlehub as hub\r\nsenta = hub.Module(name=\"senta_bilstm\")\r\ntest_text = ['一二三四五六七']\r\nsenta.sentiment_classify(texts=test_text)\r\n针对同一test_text，多次运行senta.sentiment_classify，有时能输出结果，有时会报错：Segmentation fault (core dumped)\r\n",
        "state": "closed",
        "user": "sshimii",
        "closed_by": "WYB27",
        "created_at": "2020-11-19T08:32:21+00:00",
        "updated_at": "2025-06-30T07:22:42+00:00",
        "closed_at": "2025-06-30T07:22:42+00:00",
        "comments_count": [
            "sshimii",
            "Steffy-zxf",
            "sshimii",
            "minushuang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1031,
        "title": "多标签分类只支持 AUC 评价指标，是否可以增加 f1 评价指标？",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "semal",
        "closed_by": "WYB27",
        "created_at": "2020-11-19T13:42:32+00:00",
        "updated_at": "2025-06-30T07:22:38+00:00",
        "closed_at": "2025-06-30T07:22:38+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1030,
        "title": "使用 bert service 报错",
        "body": "环境如下：\r\nopencv-python<=4.2.0.32\r\npaddlepaddle-gpu==1.8.5.post107\r\npaddlehub==1.8.1\r\npaddle-gpu-serving>=0.8.2\r\nujson>=1.35\r\n\r\n对着 https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.8/docs/tutorial/bert_service.md 教程启动服务端时出现以下错误：\r\n\r\n/bin/sh: 1: ./bin/serving-gpu: not found\r\n\r\n顺便还想问下，bert 类的模型支持 TensorRT 吗？\r\n",
        "state": "closed",
        "user": "T-baby",
        "closed_by": "WYB27",
        "created_at": "2020-11-19T09:09:04+00:00",
        "updated_at": "2025-06-30T07:22:40+00:00",
        "closed_at": "2025-06-30T07:22:40+00:00",
        "comments_count": [
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "T-baby",
            "ZeyuChen"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1032,
        "title": "训练过程的阶段性验证加速",
        "body": "![image](https://tva1.sinaimg.cn/large/0081Kckwly1gkuxunvtnsj31jg08wwi4.jpg)\r\n\r\n使用GPU训练时速度较快，但验证较慢，验证过程是跑在CPU上还是GPU上的，有没有办法提速",
        "state": "closed",
        "user": "liuyijian",
        "closed_by": "liuyijian",
        "created_at": "2020-11-19T16:16:44+00:00",
        "updated_at": "2020-11-22T12:58:42+00:00",
        "closed_at": "2020-11-22T12:58:42+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1033,
        "title": "Bert service 不同模型返回结果的格式不同",
        "body": "环境：\r\n\r\nPaddleHub 1.8.1\r\nPaddlePaddle 1.8.4\r\npaddle-gpu-serving  >=0.8.2 \r\nujson >=1.35\r\n\r\n```\r\n# coding: utf8\r\nfrom paddlehub.serving.bert_serving import bs_client\r\n\r\nif __name__ == \"__main__\":\r\n    # 初始化bert_service客户端BSClient\r\n    bc = bs_client.BSClient(module_name=\"ernie\", server=\"127.0.0.1:8866\")\r\n\r\n    # 输入要做embedding的文本\r\n    # 文本格式为[[\"文本1\"]]\r\n    input_text = [\r\n        [\"西风吹老洞庭波\"]\r\n    ]\r\n\r\n    # BSClient.get_result()获取结果\r\n    result = bc.get_result(input_text=input_text)\r\n\r\n    # 打印输入文本的embedding结果\r\n    for item in result:\r\n        print(item)\r\n```\r\n\r\n在使用 bert_service_client 时，引入erine 模型的 get_result是一个数组，但是 chinese-electra-base 就只有一个值,\r\n请问是为什么呢？然后可以让 chinese-electra-base 模型的输出结果也是一个和 erine 结果维度一样的数组吗？\r\n\r\n![image](https://user-images.githubusercontent.com/54064209/99761436-14f62680-2b31-11eb-8f6f-1b5ff1047939.png)\r\n![image](https://user-images.githubusercontent.com/54064209/99761440-17588080-2b31-11eb-8995-244f54553268.png)\r\n\r\n",
        "state": "closed",
        "user": "Echo0117",
        "closed_by": "WYB27",
        "created_at": "2020-11-20T05:06:55+00:00",
        "updated_at": "2025-06-30T07:22:36+00:00",
        "closed_at": "2025-06-30T07:22:36+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1035,
        "title": "PairwiseTextMatchingTask提示训练数据要求4列？",
        "body": "用PaddleHub1.8.0自带的PairwiseTextMatchingTask训练，提示训练数据要求4列。\r\n\r\npairwise不是应该3列（query，positive_title, negative_title）吗？这里是不是一个BUG呢？\r\n\r\n后来迫不得已，在后面随便加了一个0/1.\r\n",
        "state": "closed",
        "user": "fisher030712",
        "closed_by": "WYB27",
        "created_at": "2020-11-21T13:42:47+00:00",
        "updated_at": "2025-06-30T07:22:32+00:00",
        "closed_at": "2025-06-30T07:22:32+00:00",
        "comments_count": [
            "Steffy-zxf",
            "fisher030712",
            "Steffy-zxf"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1034,
        "title": "PointwiseTextMatchingTask，能不能返回相似度呢？",
        "body": "在很多业务场景下，需要得到的是相似度，而不是0/1。",
        "state": "closed",
        "user": "fisher030712",
        "closed_by": "WYB27",
        "created_at": "2020-11-21T13:41:07+00:00",
        "updated_at": "2025-06-30T07:22:34+00:00",
        "closed_at": "2025-06-30T07:22:34+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1037,
        "title": "C++如何部署？有没有demo",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "xinsuinizhuan",
        "closed_by": "WYB27",
        "created_at": "2020-11-23T04:20:22+00:00",
        "updated_at": "2025-06-30T07:22:30+00:00",
        "closed_at": "2025-06-30T07:22:30+00:00",
        "comments_count": [
            "chunzhang-hub",
            "Steffy-zxf",
            "xinsuinizhuan",
            "Steffy-zxf"
        ],
        "labels": [
            "help wanted"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1039,
        "title": "PaddleHub部署预训练模型, 内存泄漏",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本： PaddleHub 2.0 beta, PaddlePaddle 2.0\r\n2）系统环境：MacOS, Linux, Python3.7\r\n- 复现信息\r\nhub serving start -m deeplabv3p_xception65_humanseg --port 12315 --use_multiprocess --workers=8\r\n以 serving 模式启动时, HTTP 请求结束后没有释放内存, 32G 内存很快被占满, 1.8版本也有此问题,\r\n不以 serving 模式启动, 也有此问题\r\n",
        "state": "closed",
        "user": "ViewWholeWorld",
        "closed_by": "ViewWholeWorld",
        "created_at": "2020-11-24T08:02:26+00:00",
        "updated_at": "2020-11-27T02:49:26+00:00",
        "closed_at": "2020-11-27T02:49:26+00:00",
        "comments_count": [
            "T-baby",
            "ViewWholeWorld",
            "T-baby",
            "haoyuying",
            "ViewWholeWorld",
            "haoyuying",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1038,
        "title": "Request Hub-Server unsuccessfully, please check your network",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.8.3，PaddlePaddle1.8.5\r\n2）系统环境：\r\n    系统：Linux  内网服务器   python版本：3.7.0 \r\n- 问题\r\n    使用hub命令一键部署服务，加载模型  chinese_ocr_db_crnn-server ，模型版本为1.1.0\r\n    使用官方demo中的方法发送post请求，服务端报错：Request Hub-Server unsuccessfully, please check your network\r\n    程序接收到返回的json结果为：{\"msg\":\"Please check data format!\", \"result\":\"\", \"status\":\"-1\"}\r\n服务端报错截图：\r\n![H1U7X72GWHTNTUHHR`8LI1H](https://user-images.githubusercontent.com/23067745/100053428-ff4b6e80-2e5a-11eb-9e22-c7c7667764dc.jpg)\r\n\r\n    尝试在服务端使用命令行方式加载模型预测： hub run chinese_ocr_db_crnn_server --input_path \"{IMAGEPATH}\"\r\n    也报同样错误，难道Paddlehub不能离线运行部署的吗？\r\n\r\n    PaddlePaddle 和 PaddleHub 换到1.8.0版本，问题依旧",
        "state": "closed",
        "user": "Devindan",
        "closed_by": "WYB27",
        "created_at": "2020-11-24T05:39:57+00:00",
        "updated_at": "2025-06-30T07:22:28+00:00",
        "closed_at": "2025-06-30T07:22:28+00:00",
        "comments_count": [
            "ShenYuhan",
            "Devindan",
            "Devindan",
            "ShenYuhan"
        ],
        "labels": [
            "document"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1043,
        "title": "PaddleHub能不能做人脸比对和视频超分辨率？",
        "body": "你好！我之前在用PaddleHub做了人脸的检测和口罩的检测，我发现效果还是很不错的。我现在想咨询一下，采用Paddle能不能将检测出来的人脸进行人脸的比对？\r\n\r\n此外我还想咨询一下，Paddle有没有预训练好的模型可以做视频的超分辨率重建？",
        "state": "closed",
        "user": "gardenofever",
        "closed_by": "WYB27",
        "created_at": "2020-11-25T10:01:54+00:00",
        "updated_at": "2025-06-30T07:22:24+00:00",
        "closed_at": "2025-06-30T07:22:24+00:00",
        "comments_count": [
            "haoyuying",
            "gardenofever",
            "gardenofever",
            "haoyuying",
            "gardenofever",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1041,
        "title": "PaddleHub是否有计划加入语音识别？",
        "body": "- 希望能加入语音识别模型\r\n- 应用场景为娱乐场景类的语音识别\r\n\r\n使用过DeepSpeech2的开源模型，在此场景下的识别效果不太理想",
        "state": "closed",
        "user": "limpidezza",
        "closed_by": "WYB27",
        "created_at": "2020-11-25T06:07:53+00:00",
        "updated_at": "2025-06-30T07:22:26+00:00",
        "closed_at": "2025-06-30T07:22:26+00:00",
        "comments_count": [
            "ZeyuChen",
            "limpidezza",
            "ZeyuChen"
        ],
        "labels": [
            "help wanted"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1044,
        "title": "使用: animegan_v2_shinkai_53 ,animegan_v2_paprika_97 这两个模型预测的时候会报错",
        "body": "1）paddlepaddle: 2.0.0rc0, cpu版本;  paddlehub 2.0.0b 版本\r\n2）Windows 10，python 3.7 \r\n\r\n使用: animegan_v2_shinkai_53 ,animegan_v2_paprika_97,   这两个模型预测的时候都会报错:\r\n  File \"C:\\tools\\Miniconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\xxx\\.paddlehub\\modules\\animegan_v2_paprika_97\\module.py\", line 48, in style_transfer\r\n    outputs = self.model.predict(processor.input_datas)\r\n  File \"C:\\Users\\xxx\\.paddlehub\\modules\\animegan_v2_paprika_97\\model.py\", line 59, in predict\r\n    self.predictor.zero_copy_run()\r\nRuntimeError: could not create a descriptor for a binary operation primitive\r\n",
        "state": "closed",
        "user": "brooklet",
        "closed_by": "WYB27",
        "created_at": "2020-11-25T12:32:16+00:00",
        "updated_at": "2025-06-30T07:22:23+00:00",
        "closed_at": "2025-06-30T07:22:23+00:00",
        "comments_count": [
            "haoyuying",
            "brooklet",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1046,
        "title": "按照PaddleHub text_generation demo, 自定义GenerationDataset, 但是遇到KeyError: '<unk>'错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.8.3，PaddlePaddle1.8.4\r\n2）系统环境：aistudio\r\n- 复现信息：运行[demo](https://github.com/PaddlePaddle/PaddleHub/tree/release/v1.8/demo/text_generation), 自定GenerationDataset, 原始对联的教程是可以正常运行的\r\n运行代码类似下面这段\r\n```\r\nfrom __future__ import absolute_import\r\nfrom __future__ import division\r\nfrom __future__ import print_function\r\n\r\nimport os\r\nimport codecs\r\nimport csv\r\n\r\nfrom paddlehub.dataset import InputExample\r\nfrom paddlehub.common.dir import DATA_HOME\r\nfrom paddlehub.dataset.base_nlp_dataset import GenerationDataset\r\n\r\n_DATA_URL = \"https://bj.bcebos.com/paddlehub-dataset/couplet.tar.gz\"\r\n\r\n\r\nclass Couplet(GenerationDataset):\r\n    \"\"\"\r\n    An open source couplet dataset, see https://github.com/v-zich/couplet-clean-dataset for details.\r\n    \"\"\"\r\n\r\n    def __init__(self, tokenizer=None, max_seq_len=None):\r\n        dataset_dir = os.path.join(DATA_HOME, \"couplet\")\r\n        base_path = self._download_dataset(dataset_dir, url=_DATA_URL)\r\n        with open(\r\n                os.path.join(dataset_dir, \"vocab.txt\"),\r\n                encoding=\"utf8\") as vocab_file:\r\n            label_list = [line.strip() for line in vocab_file.readlines()]\r\n        super(Couplet, self).__init__(\r\n            base_path=base_path,\r\n            train_file=\"train.tsv\",\r\n            dev_file=\"dev.tsv\",\r\n            test_file=\"test.tsv\",\r\n            label_list=label_list,\r\n            tokenizer=tokenizer,\r\n            max_seq_len=max_seq_len)\r\n\r\n    def _read_file(self, input_file, phase=None):\r\n        \"\"\"Reads a tab separated value file.\"\"\"\r\n        with codecs.open(input_file, \"r\", encoding=\"UTF-8\") as f:\r\n            reader = csv.reader(f, delimiter=\"\\t\", quotechar=None)\r\n            examples = []\r\n            seq_id = 0\r\n            for line in reader:\r\n                example = InputExample(\r\n                    guid=seq_id, label=line[1], text_a=line[0])\r\n                seq_id += 1\r\n                examples.append(example)\r\n\r\n            return examples\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    from paddlehub.tokenizer.bert_tokenizer import BertTokenizer\r\n    # module = hub.Module(name=\"ernie\")\r\n    tokenizer = BertTokenizer(vocab_file=\"/home/aistudio/.paddlehub/modules/ernie/assets/vocab.txt\")\r\n    ds = Couplet(tokenizer=tokenizer, max_seq_len=30)\r\n    print(\"first 10 train\")\r\n    for e in ds.get_train_examples()[:10]:\r\n        print(\"guid: {}\\ttext_a: {}\\ttext_b: {}\\tlabel: {}\".format(\r\n            e.guid, e.text_a, e.text_b, e.label))\r\n    print(\"first 10 dev\")\r\n    for e in ds.get_dev_examples()[:10]:\r\n        print(\"guid: {}\\ttext_a: {}\\ttext_b: {}\\tlabel: {}\".format(\r\n            e.guid, e.text_a, e.text_b, e.label))\r\n    print(\"first 10 test\")\r\n    for e in ds.get_test_examples()[:10]:\r\n        print(\"guid: {}\\ttext_a: {}\\ttext_b: {}\\tlabel: {}\".format(\r\n            e.guid, e.text_a, e.text_b, e.label))\r\n    print(ds)\r\n    print(\"first 10 dev records\")\r\n    for e in ds.get_dev_records()[:10]:\r\n        print(e)\r\n```\r\n运行\"first 10 dev records\" 最后的for循环会报错\r\n数据格式: text_a \"文字1\",text_b \"文字2\", label \"文字3\"\r\n- 报错截图\r\n![image](https://user-images.githubusercontent.com/28584805/100273812-5c007380-2f98-11eb-8f64-6b77a756fa61.png)\r\n\r\n希望能得到提示和建议@kinghuin\r\n\r\n \r\n",
        "state": "closed",
        "user": "smartmark-pro",
        "closed_by": "smartmark-pro",
        "created_at": "2020-11-25T19:45:09+00:00",
        "updated_at": "2020-11-27T10:14:52+00:00",
        "closed_at": "2020-11-27T10:14:52+00:00",
        "comments_count": [
            "smartmark-pro",
            "smartmark-pro"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1048,
        "title": "加载fine-tuned模型获取句子embedding报错，求解哦",
        "body": "我想使用微调之后的模型生产句子的embedding向量，我首先按照https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.6/docs/tutorial/finetuned_model_to_module.md\r\n做了一个module，具体代码如下：\r\n```\r\nfrom __future__ import absolute_import\r\nfrom __future__ import division\r\nfrom __future__ import print_function\r\n\r\nimport os\r\n\r\nimport numpy as np\r\nfrom paddlehub.common.logger import logger\r\nfrom paddlehub.module.module import moduleinfo, serving\r\nimport paddlehub as hub\r\n\r\n\r\n@moduleinfo(\r\n    name=\"ernie_crf_finetuned_embedding\",\r\n    version=\"1.2.0\",\r\n    summary=\"ERNIE CRF which was fine-tuned on the own dataset.\",\r\n    author=\"robin\",\r\n    author_email=\"\",\r\n    type=\"nlp/semantic_model\")\r\nclass ERNIECRFFinetuned(hub.module.nlp_module.TransformerModule):\r\n    def _initialize(self,\r\n                    ckpt_dir=\"../ckpt_20201123203922\",\r\n                    num_class=3,\r\n                    max_seq_len=256,\r\n                    use_gpu=True,\r\n                    batch_size=1):\r\n        self.ckpt_dir = os.path.join(self.directory, ckpt_dir)\r\n        self.num_class = num_class\r\n        self.MAX_SEQ_LEN = max_seq_len\r\n        self.label_dict = {0: \"O\", 1: \"B-ORG\", 2: \"I-ORG\"}\r\n\r\n        # Load Paddlehub ERNIE Tiny pretrained model\r\n        self.module = hub.Module(name=\"ernie\")\r\n        inputs, outputs, program = self.module.context(\r\n            trainable=True, max_seq_len=max_seq_len)\r\n\r\n        self.vocab_path = self.module.get_vocab_path()\r\n\r\n        metrics_choices = [\"f1\"]\r\n\r\n        reader = hub.reader.SequenceLabelReader(\r\n            vocab_path=self.module.get_vocab_path(),\r\n            max_seq_len=max_seq_len,\r\n            sp_model_path=self.module.get_spm_path(),\r\n            word_dict_path=self.module.get_word_dict_path())\r\n        sequence_output = outputs[\"sequence_output\"]\r\n\r\n        feed_list = [\r\n            inputs[\"input_ids\"].name,\r\n            inputs[\"position_ids\"].name,\r\n            inputs[\"segment_ids\"].name,\r\n            inputs[\"input_mask\"].name,\r\n        ]\r\n        config = hub.RunConfig(\r\n            use_data_parallel=False,\r\n            use_cuda=use_gpu,\r\n            batch_size=batch_size,\r\n            checkpoint_dir=self.ckpt_dir,\r\n            strategy=hub.AdamWeightDecayStrategy())\r\n\r\n        self.seq_label_task = hub.SequenceLabelTask(\r\n            data_reader=reader,\r\n            feature=sequence_output,\r\n            feed_list=feed_list,\r\n            max_seq_len=max_seq_len,\r\n            num_classes=self.num_class,\r\n            config=config,\r\n            metrics_choices=metrics_choices,\r\n            add_crf=True)\r\n\r\n    @serving\r\n    def predict(self, data, return_result=False, accelerate_mode=True):\r\n        \"\"\"\r\n        Get prediction results\r\n        \"\"\"\r\n        tmp_data = []\r\n        for example in data:\r\n            formatted = []\r\n            for sentence in example:\r\n                formatted.append('\\x02'.join(list(sentence)))\r\n            tmp_data.append(formatted)\r\n        data = tmp_data\r\n        labels = self.seq_label_task.predict(data=data, return_result=return_result, accelerate_mode=accelerate_mode)\r\n        results = [run_state.run_results for run_state in labels]\r\n        prediction = []\r\n        for batch_result in results:\r\n            prediction.append([self.label_dict[res[0]] for res in batch_result[0][1:-1]])\r\n        return prediction\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    ernie_crf = ERNIECRFFinetuned(\r\n        ckpt_dir=\"../ckpt_20201123203922\", num_class=3)\r\n\r\n    data = [[\"这个宾馆比较陈旧了，特价的房间也很一般。总体来说一般\"], [\"采购人单位名称齐齐哈尔市公安局交通警察支队单位地址齐齐哈尔市及\"],\r\n            [\"19天硬盘就罢工了~~~算上运来的一周都没用上15天~~~可就是不能换了~~~唉~~~~你说这算什么事呀~~~\"]]\r\n\r\n    predictions = ernie_crf.predict(data=data)\r\n    for index, text in enumerate(data):\r\n        print(\"%s\\tpredict=%s\" % (data[index][0], predictions[index]))\r\n```\r\n\r\n然后使用https://www.paddlepaddle.org.cn/hubdetail?name=ERNIE&en_category=SemanticModel这里的例子获取embedding时报错了，代码如下：\r\n```\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"ernie_crf_finetuned_embedding\")\r\ninputs, outputs, program = module.context(trainable=True, max_seq_len=256)\r\n\r\ninput_ids = inputs[\"input_ids\"]\r\nposition_ids = inputs[\"position_ids\"]\r\nsegment_ids = inputs[\"segment_ids\"]\r\ninput_mask = inputs[\"input_mask\"]\r\n\r\npooled_output = outputs[\"pooled_output\"]\r\n\r\nsequence_output = outputs[\"sequence_output\"]\r\n\r\nembedding_result = module.get_embedding(texts=[[\"Sample1_text_a\"],[\"Sample2_text_a\",\"Sample2_text_b\"]], use_gpu=True)\r\n\r\nparams_layer = module.get_params_layer()\r\nstrategy = hub.finetune.strategy.ULMFiTStrategy(params_layer=params_layer)\r\n```\r\n错误信息：\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/data/likai/envs/ernie-crf/lib/python3.6/site-packages/paddlehub/module/nlp_module.py\", line 363, in context\r\n    pooled_output, sequence_output = self.net(\r\n  File \"/data/likai/envs/ernie-crf/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 370, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'ERNIECRFFinetuned' object has no attribute 'net'\r\n\r\npaddlehub==1.8.3\r\npaddlepaddle-gpu==1.7.0.post107\r\npaddle-ernie==0.0.4.dev1\r\npython==3.6.9",
        "state": "closed",
        "user": "BossRobin",
        "closed_by": "BossRobin",
        "created_at": "2020-11-26T07:34:48+00:00",
        "updated_at": "2020-11-29T02:45:30+00:00",
        "closed_at": "2020-11-29T02:45:30+00:00",
        "comments_count": [
            "Steffy-zxf",
            "BossRobin"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1049,
        "title": "Cublas error, CUSOLVER_STATUS_INTERNAL_ERROR",
        "body": "paddlehub2.0.0b0   paddlepaddle-gpu2.0.0rc0\r\nlinux  python3.7   \r\n调用 关键点检测的openpose_body_estimation.predict时，报错如下：\r\nTraceback (most recent call last):\r\n  File \"test_paddle_openpose.py\", line 28, in <module>\r\n    estimation_model = hub.Module(name='openpose_body_estimation')\r\n  File \"/home/sjy/work/mmenv/lib/python3.7/site-packages/paddlehub/module/module.py\", line 171, in __new__\r\n    name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n  File \"/home/sjy/work/mmenv/lib/python3.7/site-packages/paddlehub/module/module.py\", line 280, in init_with_name\r\n    return user_module_cls(**kwargs)\r\n  File \"/home/gpf/.paddlehub/modules/openpose_body_estimation/module.py\", line 90, in __init__\r\n    self.model0 = self.make_layers(block0, no_relu_layers)\r\n  File \"/home/gpf/.paddlehub/modules/openpose_body_estimation/module.py\", line 144, in make_layers\r\n    conv2d = nn.Conv2D(in_channels=v[0], out_channels=v[1], kernel_size=v[2], stride=v[3], padding=v[4])\r\n  File \"/home/sjy/work/mmenv/lib/python3.7/site-packages/paddle/nn/layer/conv.py\", line 576, in __init__\r\n    data_format=data_format)\r\n  File \"/home/sjy/work/mmenv/lib/python3.7/site-packages/paddle/nn/layer/conv.py\", line 111, in __init__\r\n    shape=filter_shape, attr=self._param_attr)\r\n  File \"/home/sjy/work/mmenv/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 389, in create_parameter\r\n    default_initializer)\r\n  File \"/home/sjy/work/mmenv/lib/python3.7/site-packages/paddle/fluid/layer_helper_base.py\", line 372, in create_parameter\r\n    **attr._to_kwargs(with_initializer=True))\r\n  File \"/home/sjy/work/mmenv/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2877, in create_parameter\r\n    initializer(param, self)\r\n  File \"/home/sjy/work/mmenv/lib/python3.7/site-packages/paddle/fluid/initializer.py\", line 568, in __call__\r\n    stop_gradient=True)\r\n  File \"/home/sjy/work/mmenv/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2977, in _prepend_op\r\n    kwargs.get(\"stop_gradient\", False))\r\n  File \"/home/sjy/work/mmenv/lib/python3.7/site-packages/paddle/fluid/dygraph/tracer.py\", line 45, in trace_op\r\n    not stop_gradient)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::imperative::Tracer::TraceOp(std::string const&, paddle::imperative::NameVarBaseMap const&, paddle::imperative::NameVarBaseMap const&, paddle::framework::AttributeMap, paddle::platform::Place const&, bool)\r\n1   paddle::imperative::PreparedOp::Prepare(paddle::imperative::NameVarBaseMap const&, paddle::imperative::NameVarBaseMap const&, paddle::framework::OperatorWithKernel const&, paddle::platform::Place const&, paddle::framework::AttributeMap const&)\r\n2   paddle::imperative::PreparedOp paddle::imperative::PrepareOpImpl<paddle::imperative::VarBase>(paddle::imperative::details::NameVarMapTrait<paddle::imperative::VarBase>::Type const&, paddle::imperative::details::NameVarMapTrait<paddle::imperative::VarBase>::Type const&, paddle::framework::OperatorWithKernel const&, paddle::platform::Place, paddle::framework::AttributeMap const&)\r\n3   paddle::platform::DeviceContextPool::Get(paddle::platform::Place const&)\r\n4   std::__future_base::_Deferred_state<std::thread::_Invoker<std::tuple<paddle::platform::EmplaceDeviceContext<paddle::platform::CUDADeviceContext, paddle::platform::CUDAPlace>(std::map<paddle::platform::Place, std::shared_future<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > >, std::less<paddle::platform::Place>, std::allocator<std::pair<paddle::platform::Place const, std::shared_future<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > > > > >*, paddle::platform::Place)::{lambda()#1}> >, std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > >::_M_complete_async()\r\n5   std::__future_base::_State_baseV2::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*)\r\n6   std::_Function_handler<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> (), std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > >, std::__future_base::_Result_base::_Deleter>, std::thread::_Invoker<std::tuple<paddle::platform::EmplaceDeviceContext<paddle::platform::CUDADeviceContext, paddle::platform::CUDAPlace>(std::map<paddle::platform::Place, std::shared_future<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > >, std::less<paddle::platform::Place>, std::allocator<std::pair<paddle::platform::Place const, std::shared_future<std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > > > > >*, paddle::platform::Place)::{lambda()#1}> >, std::unique_ptr<paddle::platform::DeviceContext, std::default_delete<paddle::platform::DeviceContext> > > >::_M_invoke(std::_Any_data const&)\r\n7   paddle::platform::CUDADeviceContext::CUDADeviceContext(paddle::platform::CUDAPlace)\r\n8   paddle::platform::CUDAContext::CUDAContext(paddle::platform::CUDAPlace const&, paddle::platform::stream::Priority const&)\r\n9   paddle::platform::CUDAContext::InitCuSolverContext()\r\n10  paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int)\r\n11  std::string paddle::platform::GetTraceBackString<char const*>(char const*&&, char const*, int)\r\n12  paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nExternalError:  Cublas error, CUSOLVER_STATUS_INTERNAL_ERROR  (at /paddle/paddle/fluid/platform/device_context.h:227)\r\n  [operator < uniform_random > error]\r\n\r\n求大佬指导",
        "state": "closed",
        "user": "gpf1991",
        "closed_by": "gpf1991",
        "created_at": "2020-11-26T07:36:08+00:00",
        "updated_at": "2020-11-30T08:06:00+00:00",
        "closed_at": "2020-11-30T08:06:00+00:00",
        "comments_count": [
            "gpf1991",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1050,
        "title": "PaddleHub Serving模型一键服务部署 文档有误",
        "body": "文档:  [PaddleHub Serving模型一键服务部署](https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.6/docs/tutorial/serving.md)\r\n\r\n以下命令行命令启动 的写法有误:\r\n```\r\nhub serving start --modules [Module1==Version1, Module2==Version2, ...] \\\r\n                    --port XXXX \\\r\n                    --use_gpu \\\r\n                    --use_multiprocess \\\r\n                    --workers \\\r\n```\r\n\r\n正确的应该是:\r\n\r\n```\r\nhub serving start --modules Module1==Version1 Module2==Version2 ... \\\r\n                    --port XXXX \\\r\n                    --use_gpu \\\r\n                    --use_multiprocess \\\r\n                    --workers \\\r\n```\r\n",
        "state": "closed",
        "user": "brooklet",
        "closed_by": "ZeyuChen",
        "created_at": "2020-11-26T07:39:25+00:00",
        "updated_at": "2020-11-26T14:41:47+00:00",
        "closed_at": "2020-11-26T14:41:46+00:00",
        "comments_count": [
            "chunzhang-hub",
            "brooklet"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1055,
        "title": "Windows系统下安装多个模型报错",
        "body": "1）PaddleHub和PaddlePaddle版本：\r\npaddlehub                         2.0.0b0\r\npaddlepaddle-gpu                  2.0.0rc0.post100\r\n\r\n2）系统环境：Windows 10，python 3.7\r\n\r\nhub install lac\r\n\r\nd:\\program files\\python3\\lib\\site-packages\\jinja2\\utils.py:485: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import MutableMapping\r\nd:\\program files\\python3\\lib\\site-packages\\jinja2\\runtime.py:318: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Mapping\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/lac_2.2.0.tar.gz\r\n[##################################################] 100.00%\r\nDecompress C:\\Users\\QuickJack\\.paddlehub\\tmp\\tmp37kjnhk_\\lac_2.2.0.tar.gz\r\n[##################################################] 100.00%\r\nTraceback (most recent call last):\r\n  File \"d:\\program files\\python3\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"d:\\program files\\python3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\Program Files\\Python3\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\program files\\python3\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 69, in execute\r\n    return com['_entry']().execute(sys.argv[idx:])\r\n  File \"d:\\program files\\python3\\lib\\site-packages\\paddlehub\\commands\\install.py\", line 44, in execute\r\n    manager.install(name=name, version=version)\r\n  File \"d:\\program files\\python3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 188, in install\r\n    return self._install_from_name(name, version)\r\n  File \"d:\\program files\\python3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 263, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"d:\\program files\\python3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 256, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"d:\\program files\\python3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 358, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"d:\\program files\\python3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 322, in _install_from_directory\r\n    module_info = HubModule.load_module_info(directory)\r\n  File \"d:\\program files\\python3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 233, in load_module_info\r\n    pycode = file.read()\r\nUnicodeDecodeError: 'gbk' codec can't decode byte 0xaf in position 17844: illegal multibyte sequence",
        "state": "closed",
        "user": "whuter",
        "closed_by": "WYB27",
        "created_at": "2020-11-28T17:20:49+00:00",
        "updated_at": "2025-06-30T07:22:21+00:00",
        "closed_at": "2025-06-30T07:22:21+00:00",
        "comments_count": [
            "haoyuying",
            "whuter",
            "haoyuying",
            "whuter",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1059,
        "title": "paddlehub文本分类finetuned的模型预测时候报错：Shape not matching",
        "body": "mac系统\r\npaddlehub版本：1.8.3\r\npaddlepaddle版本：1.8.5\r\npython版本：3.7.9\r\npaddlehub文本分类finetuned的模型预测时候报错：Shape not matching\r\n代码如下：\r\nimport paddlehub as hub\r\nimport numpy as np\r\nernie_tiny = hub.Module(name=\"ernie_tiny_finetuned\")\r\n# Data to be prdicted\r\ndata = [[\"这个宾馆比较陈旧了，特价的房间也很一般。总体来说一般\"], [\"交通方便；环境很好；服务态度很好 房间较小\"],\r\n        [\"19天硬盘就罢工了~~~算上运来的一周都没用上15天~~~可就是不能换了~~~唉~~~~你说这算什么事呀~~~\"]]\r\n\r\npredictions = ernie_tiny.predict(data=data)\r\nfor index, text in enumerate(data):\r\n    print(\"%s\\tpredict=%s\" % (data[index][0], predictions[index]))\r\n报错：\r\nRuntimeError: Shape not matching: the Program requires a parameter with a shape of ((1024, 52)), while the loaded parameter (namely [ cls_out_w ]) has a shape of  ((768, 52)).\r\n",
        "state": "closed",
        "user": "geekChinaMaster",
        "closed_by": "WYB27",
        "created_at": "2020-12-01T12:26:44+00:00",
        "updated_at": "2025-06-30T07:22:19+00:00",
        "closed_at": "2025-06-30T07:22:19+00:00",
        "comments_count": [
            "Steffy-zxf",
            "geekChinaMaster",
            "geekChinaMaster",
            "geekChinaMaster"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1065,
        "title": "PaddleHub Serving服务跨域问题",
        "body": "使用Paddlehub Serving部署模型时，前端调用出现跨域问题，有什么解决方案吗？\r\n![image](https://user-images.githubusercontent.com/55570310/100832864-abb4d280-34a3-11eb-9c0c-478833e1e2d6.png)\r\n",
        "state": "closed",
        "user": "iotctech",
        "closed_by": "WYB27",
        "created_at": "2020-12-02T05:39:05+00:00",
        "updated_at": "2025-06-30T07:22:17+00:00",
        "closed_at": "2025-06-30T07:22:17+00:00",
        "comments_count": [
            "ShenYuhan",
            "ghost"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1066,
        "title": "PaddleHub: ModuleNotFoundError: No module named paddlehub.vision",
        "body": "OS: Ubuntu 18.04.5, kernel 5.4.0-54-generic\r\nPython 3.6.9\r\nPaddlePaddle 1.8.5\r\nPaddleHub 1.8.3\r\n\r\nPaddleHub/demo/image_classicication$ python3 train.py\r\nFile \"train.py\", line3, in <module>\r\n  import paddlehub.vision.transforms as T\r\nModuleNotFoundError: No module named 'paddlehub.vision'\r\n",
        "state": "closed",
        "user": "grant7788",
        "closed_by": "WYB27",
        "created_at": "2020-12-02T05:43:52+00:00",
        "updated_at": "2025-06-30T07:22:15+00:00",
        "closed_at": "2025-06-30T07:22:15+00:00",
        "comments_count": [
            "haoyuying",
            "chunzhang-hub",
            "ghost"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1067,
        "title": "HubServing能否部署在树莓派4b上？",
        "body": "**问题：**\r\n打算将HubServing运行在树莓派4b上，但在安装paddlehub时就出现异常，似乎是在安装sentencepiece环节，请问是硬件层面不支持，还是软件配置不兼容？如果只是我配置异常，应如何调整？\r\n\r\n**环境：**\r\n硬件为树莓派4b，2GB内存；\r\n操作系统为Raspberry Pi OS with desktop\r\n安装了Python3.7.3\r\n操作系统内核信息Linux raspberrypi 4.19.118-v7l+ #1311 SMP Mon Apr 27 14:26:42 BST 2020 armv7l GNU/Linux\r\n\r\n**目标：**\r\n将HubServing运行在树莓派4b里\r\n\r\n**操作：**\r\n1. 安装paddlehub，在命令行执行下述命令：\r\n> pip3 install paddlehub --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple\r\n\r\n2.运行过程中在Running setup.py bdist_wheel for sentencepiece卡了十多分钟后出现异常；\r\n\r\n3.尝试手动安装sentencepiece，在https://pypi.org/project/sentencepiece/#files 查找相应的版本，没找到能支持armv7的；\r\n\r\n4.到sentencepiece源码库https://github.com/google/sentencepiece 下载，用pip，c++编译，vcpkg三种方式均没安装成功。\r\n\r\n**异常信息：**\r\n\r\n操作2出现的异常信息，截取部分内容如下：\r\n\r\nPackage sentencepiece was not found in the pkg-config search path.\r\n  Perhaps you should add the directory containing `sentencepiece.pc'\r\n  to the PKG_CONFIG_PATH environment variable\r\n  No package 'sentencepiece' found\r\n  Failed to find sentencepiece pkg-config\r\n\r\n  Failed building wheel for sentencepiece\r\n  Running setup.py clean for sentencepiece\r\nFailed to build sentencepiece\r\nInstalling collected packages: sentencepiece, paddlehub\r\n  Running setup.py install for sentencepiece ... error\r\n------------ 中间省略的其它信息 ---------------------\r\ncollect2: error: ld returned 1 exit status\r\n    make[2]: *** [src/CMakeFiles/spm_normalize.dir/build.make:88: src/spm_normalize] Error 1\r\n    make[1]: *** [CMakeFiles/Makefile2:215: src/CMakeFiles/spm_normalize.dir/all] Error 2\r\n    make: *** [Makefile:152: all] Error 2\r\n    [ 65%] Built target sentencepiece-static\r\n    [ 67%] Linking CXX executable spm_export_vocab\r\n    /usr/bin/ld: libsentencepiece.a(arena.cc.o): in function `google::protobuf::internal::ArenaImpl::Init()':\r\n    arena.cc:(.text+0x8c8): undefined reference to `__atomic_fetch_add_8'\r\n    collect2: error: ld returned 1 exit status\r\n    make[2]: *** [src/CMakeFiles/spm_export_vocab.dir/build.make:86: src/spm_export_vocab] Error 1\r\n    make[1]: *** [CMakeFiles/Makefile2:103: src/CMakeFiles/spm_export_vocab.dir/all] Error 2\r\n    make: *** [Makefile:152: all] Error 2\r\n    Package sentencepiece was not found in the pkg-config search path.\r\n    Perhaps you should add the directory containing `sentencepiece.pc'\r\n    to the PKG_CONFIG_PATH environment variable\r\n    No package 'sentencepiece' found\r\n    Failed to find sentencepiece pkg-config\r\n    \r\n    ----------------------------------------\r\nCommand \"/usr/bin/python3 -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-zbobydfa/sentencepiece/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-1kl0_k70/install-record.txt --single-version-externally-managed --compile --user --prefix=\" failed with error code 1 in /tmp/pip-install-zbobydfa/sentencepiece/\r\n",
        "state": "closed",
        "user": "mcflysj",
        "closed_by": "mcflysj",
        "created_at": "2020-12-02T07:47:18+00:00",
        "updated_at": "2020-12-09T04:11:24+00:00",
        "closed_at": "2020-12-09T04:11:24+00:00",
        "comments_count": [
            "ZeyuChen",
            "mcflysj",
            "mcflysj"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1074,
        "title": "simnet_bow 短文本相似度finetune问题",
        "body": "问下simnet_bow在进行短文本匹配finetune时，自己的词典数据显示不在vocab中，已被drop了，处于无训练状态\r\n![image](https://user-images.githubusercontent.com/9254170/100876862-f0ac2980-34e2-11eb-80d7-9bf6288bb45e.png)\r\n",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "WYB27",
        "created_at": "2020-12-02T13:12:48+00:00",
        "updated_at": "2025-06-30T07:22:09+00:00",
        "closed_at": "2025-06-30T07:22:09+00:00",
        "comments_count": [
            "Steffy-zxf",
            "dickobe"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1072,
        "title": "Error: Attribute output_padding is not found in proto conv2d_transpose",
        "body": "# 1. 运行环境：\r\n\r\n    Windows 10\r\n    16G RAM\r\n    1T Disk\r\n    Intel(R) Core(TM) i7-8565U CPU\r\n\r\n# 2. 测试代码\r\n\r\n```python\r\nimport datetime\r\nimport time\r\n\r\nimport paddlehub as hub\r\nimport cv2\r\n\r\nocr = hub.Module(name=\"chinese_ocr_db_crnn_server\", enable_mkldnn=True)\r\n\r\nif __name__ == \"__main__\":\r\n\r\n    occr = ChineseOCRDBCRNNServer()\r\n\r\n    image_path = \"E:/test/test.jpg\"\r\n        for i in range(0, 1000):\r\n        start = datetime.datetime.now()\r\n\r\n        result = ocr.recognize_text(images=[cv2.imread(image_path)])\r\n\r\n        cost = datetime.datetime.now() - start\r\n        print(\"耗时: \", cost, \"Result :\", result)\r\n\r\n    pass\r\n```\r\n\r\n\r\n# 3.错误信息：\r\n\r\n    [2020-12-02 18:07:18,728] [    INFO] - Installing chinese_ocr_db_crnn_server module\r\n    [2020-12-02 18:07:18,898] [    INFO] - Module chinese_ocr_db_crnn_server already installed in C:\\Users\\ytkj-yfb\\.paddlehub\\modules\\chinese_ocr_db_crnn_server\r\n    e[37m---    fused 0 scale with matmule[0m\r\n    e[37m---    Fused 0 MatmulTransposeReshape patternse[0m\r\n    e[37m---    fused 0 scale with matmule[0m\r\n    e[37m---    Fused 0 MatmulTransposeReshape patternse[0m\r\n    [2020-12-02 18:07:19,780] [    INFO] - Installing chinese_text_detection_db_server module-1.0.2\r\n    [2020-12-02 18:07:19,781] [    INFO] - Module chinese_text_detection_db_server-1.0.2 already installed in C:\\Users\\ytkj-yfb\\.paddlehub\\modules\\chinese_text_detection_db_server\r\n    Traceback (most recent call last):\r\n      File \"D:\\anaconda3-bin\\envs\\pytorch-envs\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 3417, in run_code\r\n        exec(code_obj, self.user_global_ns, self.user_ns)\r\n      File \"<ipython-input-2-9690880bf687>\", line 1, in <module>\r\n        runfile('E:/python_workspace/secneter/src/ocr_example/ocr_paddlehub.py', wdir='E:/python_workspace/secneter/src/ocr_example')\r\n      File \"D:\\Program Files\\JetBrains\\PyCharm 2019.3.2\\plugins\\python\\helpers\\pydev\\_pydev_bundle\\pydev_umd.py\", line 197, in runfile\r\n        pydev_imports.execfile(filename, global_vars, local_vars)  # execute the script\r\n      File \"D:\\Program Files\\JetBrains\\PyCharm 2019.3.2\\plugins\\python\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n        exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n      File \"E:/python_workspace/secneter/src/ocr_example/ocr_paddlehub.py\", line 29, in <module>\r\n        result = ocr.recognize_text(images=[cv2.imread(image_path)])\r\n      File \"C:\\Users\\ytkj-yfb\\.paddlehub\\modules\\chinese_ocr_db_crnn_server\\module.py\", line 247, in recognize_text\r\n        detection_results = self.text_detector_module.detect_text(\r\n      File \"C:\\Users\\ytkj-yfb\\.paddlehub\\modules\\chinese_ocr_db_crnn_server\\module.py\", line 112, in text_detector_module\r\n        version='1.0.2')\r\n      File \"D:\\anaconda3-bin\\envs\\pytorch-envs\\lib\\site-packages\\paddlehub\\module\\module.py\", line 102, in __new__\r\n        name=name, version=version, **kwargs)\r\n      File \"D:\\anaconda3-bin\\envs\\pytorch-envs\\lib\\site-packages\\paddlehub\\module\\module.py\", line 178, in init_with_name\r\n        return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n      File \"D:\\anaconda3-bin\\envs\\pytorch-envs\\lib\\site-packages\\paddlehub\\module\\module.py\", line 200, in init_with_directory\r\n        user_module = _item(directory=directory, **kwargs)\r\n      File \"D:\\anaconda3-bin\\envs\\pytorch-envs\\lib\\site-packages\\paddlehub\\module\\module.py\", line 146, in __init__\r\n        self._initialize(**kwargs)\r\n      File \"C:\\Users\\ytkj-yfb\\.paddlehub\\modules\\chinese_text_detection_db_server\\module.py\", line 47, in _initialize\r\n        self._set_config()\r\n      File \"C:\\Users\\ytkj-yfb\\.paddlehub\\modules\\chinese_text_detection_db_server\\module.py\", line 84, in _set_config\r\n        self.predictor = create_paddle_predictor(config)\r\n    paddle.fluid.core_avx.EnforceNotMet: \r\n    --------------------------------------------\r\n    C++ Call Stacks (More useful to developers):\r\n    --------------------------------------------\r\n    Windows not support stack backtrace yet.\r\n    ----------------------\r\n    Error Message Summary:\r\n    ----------------------\r\n    Error: Attribute output_padding is not found in proto conv2d_transpose at (D:\\1.8.5\\paddle\\paddle\\fluid\\framework\\op_desc.cc:521)\r\n\r\n\r\n\r\n# 4. 说明\r\n\r\n在测试中，不增加 enable_mkldnn=True 参数，可正常运行。",
        "state": "closed",
        "user": "Rayn-liuwei",
        "closed_by": "WYB27",
        "created_at": "2020-12-02T10:16:56+00:00",
        "updated_at": "2025-06-30T07:22:11+00:00",
        "closed_at": "2025-06-30T07:22:11+00:00",
        "comments_count": [
            "chenboo",
            "lpj0711"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1077,
        "title": "> > 问下语义匹配预测结果能输出匹配的概率得分吗？而不仅仅是0和1",
        "body": "> > 问下预测结果能输出匹配的概率得分吗？而不仅仅是0和1\r\n> \r\n> 将predict接口参数return_result=False，按照如下代码进行后处理：\r\n> \r\n> ```python\r\n> run_states = pointwise_matching_task.predict(\r\n>     data=text_pairs,\r\n>     max_seq_len=args.max_seq_len,\r\n>     label_list=dataset.get_labels(),\r\n>     return_result=False,\r\n>     accelerate_mode=False)\r\n> \r\n> for batch_states in run_states:\r\n>     # 对应label概率值\r\n>     batch_results = batch_states.run_results\r\n>     print(batch_results)\r\n> ```\r\n\r\n@Steffy-zxf  你好  我按照上面的方式，输出只有0和1，帮忙看下\r\n![image](https://user-images.githubusercontent.com/9254170/100856438-61911880-34c6-11eb-883e-01a03e31e2fd.png)\r\n![image](https://user-images.githubusercontent.com/9254170/100856475-6e157100-34c6-11eb-9976-fa756227ada7.png)\r\n\r\n_Originally posted by @dickobe in https://github.com/PaddlePaddle/PaddleHub/issues/868#issuecomment-737117316_",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "WYB27",
        "created_at": "2020-12-03T02:49:03+00:00",
        "updated_at": "2025-06-30T07:22:07+00:00",
        "closed_at": "2025-06-30T07:22:07+00:00",
        "comments_count": [
            "KPatr1ck",
            "wa3926"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1070,
        "title": " No module named 'paddle.utils.download'",
        "body": "win10\r\npython3.8.5\r\npaddlepaddle 1.8.5\r\npaddlehub 2.0.0b0\r\n\r\nimport paddlehub\r\n\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"..\\paddlehub\\__init__.py\", line 25, in <module>\r\n    from paddlehub.utils import download as _download\r\n  File \"..\\paddlehub\\utils\\download.py\", line 19, in <module>\r\n    from paddle.utils.download import get_path_from_url\r\nModuleNotFoundError: No module named 'paddle.utils.download'",
        "state": "closed",
        "user": "czcz1024",
        "closed_by": "WYB27",
        "created_at": "2020-12-02T09:16:59+00:00",
        "updated_at": "2025-06-30T07:22:13+00:00",
        "closed_at": "2025-06-30T07:22:13+00:00",
        "comments_count": [
            "Rayn-liuwei",
            "ZeyuChen"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1078,
        "title": "多标签文本分类问题",
        "body": "官网上关于使用自定义数据集进行多标签文本分类  描述不是很清楚   我使用 ernie_tiny模型 自定义数据集一直报错  找不到为什么   请问能否提供一个 paddlehub  多标签文本分类 使用自定义数据集 的例子",
        "state": "closed",
        "user": "wa3926",
        "closed_by": "wa3926",
        "created_at": "2020-12-03T07:49:53+00:00",
        "updated_at": "2020-12-07T00:38:36+00:00",
        "closed_at": "2020-12-07T00:38:27+00:00",
        "comments_count": [
            "KPatr1ck",
            "wa3926",
            "wa3926"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1080,
        "title": "使用chinese_ocr_db_crnn_server模型做预测内存占用非常大",
        "body": "环境：CentOS7, Python3.6.8, paddlepaddle==2.0.0rc0\r\n第一次使用8核16G的云服务器，以cpu模式进行预测，一张大小为792x692，大小为215k的png图片预测时报内存不足，预测失败。\r\n![image](https://user-images.githubusercontent.com/3916992/100983220-fd348e80-3583-11eb-8d2e-4a5a1c2fd6d8.png)\r\n第二次把内存提升至32G后，同样对同一张图进行预测，内存占用超过50%；但是预测成功了。请问有什么办法降低内存占用？\r\n预测方式是：\r\n第一种：hub run chinese_ocr_db_crnn_server --input_path \"/Images/Image1.png\"\r\n第二种：hub serving start -m chinese_ocr_db_crnn_server；然后执行：python3 ./tools/test_hubserving.py http://127.0.0.1:8866/predict/chinese_ocr_db_crnn_server /Images/Image1.png\r\n",
        "state": "closed",
        "user": "yiyi99",
        "closed_by": "WYB27",
        "created_at": "2020-12-03T08:28:08+00:00",
        "updated_at": "2025-06-30T07:22:03+00:00",
        "closed_at": "2025-06-30T07:22:03+00:00",
        "comments_count": [
            "startfromzero0",
            "microCloudCode"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1079,
        "title": "训练好的模型为什么预测结果每次都不一样",
        "body": "训练了一个ernie模型，在aistudio中运行都是正常的，但是在模型本机时，每次预测结果都不一样，奇怪的是，有时候控制台运行结果错误，但是直接执行python文件又是正确的",
        "state": "closed",
        "user": "double-orange",
        "closed_by": "WYB27",
        "created_at": "2020-12-03T08:25:02+00:00",
        "updated_at": "2025-06-30T07:22:05+00:00",
        "closed_at": "2025-06-30T07:22:05+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1082,
        "title": "报错 ModuleNotFoundError: No module named 'paddle.utils'",
        "body": "PaddleHub       2.0.0b0\r\nPaddlePaddle   2.0.0rc0\r\npaddle             1.0.2\r\npaddleocr        1.1.1\r\nUbuntu            18.04.4\r\npython             3.6.9\r\n    最初在安装PaddlePaddle和PaddleHub，之后，运行hub ocr模型时提示缺少paddle包；\r\n    后来安装paddle包后运行，提示缺少“paddle.utils”\r\nTraceback (most recent call last):\r\n  File \"/home/ubgpu/.local/bin/hub\", line 5, in <module>\r\n    from paddlehub.commands.utils import execute\r\n  File \"/home/ubgpu/.local/lib/python3.6/site-packages/paddlehub/__init__.py\", line 25, in <module>\r\n    from paddlehub.utils import download as _download\r\n  File \"/home/ubgpu/.local/lib/python3.6/site-packages/paddlehub/utils/download.py\", line 19, in <module>\r\n    from paddle.utils.download import get_path_from_url\r\nModuleNotFoundError: No module named 'paddle.utils'\r\n\r\n",
        "state": "closed",
        "user": "fanyangfanyang",
        "closed_by": "WYB27",
        "created_at": "2020-12-03T10:18:50+00:00",
        "updated_at": "2025-06-30T07:22:02+00:00",
        "closed_at": "2025-06-30T07:22:02+00:00",
        "comments_count": [
            "haoyuying",
            "cfy42584125"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1081,
        "title": "paddlehub 多标签finetune_and_eval报错",
        "body": "paddlehub 版本 1.8.0\r\nmodule= hub.Module(name=\"ernie_tiny\")\r\n    inputs, outputs, program = module.context(trainable=True, max_seq_len=args.max_seq_len)\r\n    tokenizer = hub.ErnieTinyTokenizer(\r\n        vocab_file=module.get_vocab_path(),\r\n        spm_path=module.get_spm_path(),\r\n        word_dict_path=module.get_word_dict_path())\r\n    dataset = Toxbdw(tokenizer,args.max_seq_len)\r\n    pooled_output = outputs[\"pooled_output\"]\r\n\r\n    strategy = hub.AdamWeightDecayStrategy(\r\n        warmup_proportion=args.warmup_proportion,\r\n        weight_decay=args.weight_decay,\r\n        learning_rate=args.learning_rate)\r\n\r\n    config = hub.RunConfig(\r\n        use_cuda=args.use_gpu,\r\n        num_epoch=args.num_epoch,\r\n        batch_size=args.batch_size,\r\n        use_data_parallel=True, use_pyreader=True,\r\n        checkpoint_dir=args.checkpoint_dir,\r\n        strategy=strategy)\r\n\r\n    multi_label_cls_task = hub.MultiLabelClassifierTask(\r\n        dataset=dataset,\r\n        feature=pooled_output,\r\n        num_classes=dataset.num_labels,\r\n        config=config)\r\n    multi_label_cls_task.finetune_and_eval()\r\n\r\n下面是自定义\r\nclass Toxbdw(MultiLabelDataset):\r\n    \"\"\"\r\n    The kaggle Toxic dataset:\r\n    https://www.kaggle.com/c/jigsaw-toxic-comment-classification-challenge\r\n    \"\"\"\r\n    def __init__(self, tokenizer=None, max_seq_len=None):\r\n        base_path =\"D://paddle//zx//xbdw1202//\"\r\n        #base_path =\"/ai/nlp/zhzx/data/xbdw1203/\"\r\n        dic={'市金融监管局':'0','市财政局':'1','市水利局':'2','市生态环境局':'3','市委宣传部':'4','市商务局':'5',\r\n             '市市场监管局':'6','市自然资源和规划局':'7','市人社局':'8','市民政局':'9','市文旅局':'10','市住建局':'11',\r\n             '市交通局':'12','市卫健委':'13','市城管局':'14','市教育局':'15','市公安局':'16','市发改委':'17',\r\n             '市工信局':'18','市农业农村局':'19'\r\n             }\r\n        label_list =list(dic.keys())\r\n        #print(\"list(dic.values())\",list(dic.values()))\r\n        super(Toxbdw, self).__init__(\r\n            base_path=base_path,\r\n            train_file=\"train.csv\",\r\n            dev_file=\"test.csv\",\r\n            test_file=\"test.csv\",\r\n            train_file_with_header=True,\r\n            dev_file_with_header=True,\r\n            test_file_with_header=True,\r\n            label_file=None,\r\n            label_list=label_list,\r\n            tokenizer=tokenizer,\r\n            max_seq_len=max_seq_len)\r\n\r\n    def _read_file(self, input_file, phase=None):\r\n        \"\"\"Reads a tab separated value file.\"\"\"\r\n        data = pd.read_csv(input_file, encoding=\"UTF-8\")\r\n        examples = []\r\n        for index, row in data.iterrows():\r\n            guid = row[\"id\"]\r\n            text = row[\"content\"]\r\n            labels = [int(value) for value in row[2:]]\r\n            example = InputExample(guid=guid, label=labels, text_a=text)\r\n            examples.append(example)\r\n\r\n        return examples\r\n\r\n\r\n   examples, phase=\"train\")\r\n  File \"F:\\Anaconda3\\lib\\site-packages\\paddlehub\\dataset\\base_nlp_dataset.py\", line 572, in _convert_examples_to_records\r\n    max_seq_len=self.max_seq_len)\r\n  File \"F:\\Anaconda3\\lib\\site-packages\\paddlehub\\tokenizer\\bert_tokenizer.py\", line 662, in encode\r\n    ids = get_input_ids(text)\r\n  File \"F:\\Anaconda3\\lib\\site-packages\\paddlehub\\tokenizer\\bert_tokenizer.py\", line 659, in get_input_ids\r\n    \"Input is not valid. Should be a string, a list/tuple of strings or a list/tuple of integers.\"\r\nValueError: Input is not valid. Should be a string, a list/tuple of strings or a list/tuple of integers.\r\n",
        "state": "closed",
        "user": "wa3926",
        "closed_by": "wa3926",
        "created_at": "2020-12-03T08:55:53+00:00",
        "updated_at": "2020-12-07T00:39:13+00:00",
        "closed_at": "2020-12-07T00:38:58+00:00",
        "comments_count": [
            "wa3926"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1084,
        "title": "UnicodeDecodeError: 'gbk' codec can't decode byte 0xae in position 9759: illegal multibyte sequence",
        "body": "Win10 \r\nPython 3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 17:00:18) [MSC v.1900 64 bit (AMD64)] on win32\r\n运行窗口： 命令提示符（cmd）\r\n\r\npip install paddlepaddle==2.0.0rc\r\npip install paddlehub==2.0.0b\r\nhub install senta_bilstm\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/senta_bilstm_1.2.0.tar.gz\r\n[##################################################] 100.00%\r\nDecompress C:\\Users\\A37\\.paddlehub\\tmp\\tmpd1lk73yb\\senta_bilstm_1.2.0.tar.gz\r\n[##################################################] 100.00%\r\nTraceback (most recent call last):\r\n  File \"d:\\python\\python36\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"d:\\python\\python36\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\Python\\Python36\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\python\\python36\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 69, in execute\r\n    return com['_entry']().execute(sys.argv[idx:])\r\n  File \"d:\\python\\python36\\lib\\site-packages\\paddlehub\\commands\\install.py\", line 44, in execute\r\n    manager.install(name=name, version=version)\r\n  File \"d:\\python\\python36\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 188, in install\r\n    return self._install_from_name(name, version)\r\n  File \"d:\\python\\python36\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 263, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"d:\\python\\python36\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 256, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"d:\\python\\python36\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 358, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"d:\\python\\python36\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 322, in _install_from_directory\r\n    module_info = HubModule.load_module_info(directory)\r\n  File \"d:\\python\\python36\\lib\\site-packages\\paddlehub\\module\\module.py\", line 233, in load_module_info\r\n    pycode = file.read()\r\nUnicodeDecodeError: 'gbk' codec can't decode byte 0xae in position 9759: illegal multibyte sequence\r\n\r\n定位到  d:\\python\\python36\\lib\\site-packages\\paddlehub\\module\\module.py 233 行，加了个字符后OK，截图如下：\r\n\r\n![图片](https://user-images.githubusercontent.com/10648133/101015613-a1c5c900-35a2-11eb-8254-3d7b51969baa.png)\r\n",
        "state": "closed",
        "user": "jurimengs",
        "closed_by": "WYB27",
        "created_at": "2020-12-03T12:09:18+00:00",
        "updated_at": "2025-06-30T07:22:00+00:00",
        "closed_at": "2025-06-30T07:22:00+00:00",
        "comments_count": [
            "nepeplwu"
        ],
        "labels": [
            "help wanted"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1086,
        "title": "如何提升训练的速度",
        "body": "请问如何提升训练的速度，望能提供一些好的建议，比如cpu和gpu利用率等？\r\n",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "WYB27",
        "created_at": "2020-12-04T01:00:57+00:00",
        "updated_at": "2025-06-30T07:21:56+00:00",
        "closed_at": "2025-06-30T07:21:56+00:00",
        "comments_count": [
            "haoyuying",
            "dickobe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1085,
        "title": "paddle的文档貌似不是最新的。",
        "body": "rt，paddle的文档貌似不是最新的。\r\n很多例子我复制粘贴都跑不起来，某些地方发生了很大变化，比如我刚刚测试的lac\r\n文档上面的url是http://127.0.0.1:8866/predict/text/lac\r\n一直报404，折腾了半天也没有请求成功，最后在paddlehub群友的帮助下才找到问题\r\n实际的地址是：http://127.0.0.1:8866/predict/lac\r\n请求的参数是\r\n\"text\": [\r\n        \"你好，世界\"\r\n    ]\r\n}\r\n注意!!\r\n如果是用Postman发送，记得，字段名一定要用\"\"，如果是python会自动转换，官网例子就是py，没有加\"\"，折腾了半天。\r\n\r\n本次测试只跑通了lac模型，其他的模型一跑就是\r\n    return com['_entry']().execute(sys.argv[idx:])\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 349, in execute\r\n    self.start_serving()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 242, in start_serving\r\n    self.start_single_app_with_args()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 218, in start_single_app_with_args\r\n    self.preinstall_modules()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 150, in preinstall_modules\r\n    method_name = m.serving_func_name\r\nAttributeError: 'ModuleV1_ea2c82202b3de54aa16aeac9efea20a2' object has no attribute 'serving_func_name'\r\n\r\nO(=_=)O，可能是本人比较菜，给paddle团队点个赞，希望能慢慢改进。\r\n最后吐槽一下 bug真多...",
        "state": "closed",
        "user": "dongdongxiang",
        "closed_by": "WYB27",
        "created_at": "2020-12-03T13:32:09+00:00",
        "updated_at": "2025-06-30T07:21:58+00:00",
        "closed_at": "2025-06-30T07:21:57+00:00",
        "comments_count": [
            "ZeyuChen",
            "Vickzhang",
            "paopjian",
            "hdyzhuxun"
        ],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1090,
        "title": "centos上执行hub命令报错，请问哪里的问题",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n系统：centos\r\npython：3.7\r\npaddlepaddle: 1.8.2\r\npadlehub: 1.7.1\r\npaddlepaddle和paddlehub用最新版本我也尝试了，不好用\r\n执行hub serving start -m chinese_ocr_db_crnn_mobile报错如下：\r\nTraceback (most recent call last):\r\n  File \"/root/anaconda3/envs/paddle/bin/hub\", line 5, in <module>\r\n    from paddlehub.commands.hub import main\r\n  File \"/root/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/__init__.py\", line 27, in <module>\r\n    from . import module\r\n  File \"/root/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/__init__.py\", line 16, in <module>\r\n    from . import module\r\n  File \"/root/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 31, in <module>\r\n    from paddlehub.common import utils\r\n  File \"/root/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/common/__init__.py\", line 16, in <module>\r\n    from . import utils\r\n  File \"/root/anaconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/common/utils.py\", line 30, in <module>\r\n    import cv2\r\n  File \"/root/anaconda3/envs/paddle/lib/python3.7/site-packages/cv2/__init__.py\", line 5, in <module>\r\n    from .cv2 import *\r\nImportError: libGL.so.1: cannot open shared object file: No such file or directory\r\n",
        "state": "closed",
        "user": "Sunyingbin",
        "closed_by": "Sunyingbin",
        "created_at": "2020-12-05T07:57:28+00:00",
        "updated_at": "2021-04-06T19:58:20+00:00",
        "closed_at": "2020-12-07T02:12:50+00:00",
        "comments_count": [
            "ShenYuhan",
            "Sunyingbin",
            "60999"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1088,
        "title": "not authorized `hub' @ error/constitute.c/WriteImage/1028. after install paddle and paddlehub",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\nI have installed paddle successfully with cmds like this:\r\n \r\n**python -m pip install paddlepaddle-gpu==2.0.0rc0 -i https://mirror.baidu.com/pypi/simple**\r\n \r\n**and then I test it with:**\r\nimport paddle.fluid as fluid \r\nfluid.install_check.run_check()\r\n \r\n**Soon I get messages below**:\r\nRunning Verify Fluid Program ... \r\nW1204 11:07:18.746273 11193 device_context.cc:338] Please NOTE: device: 0, CUDA Capability: 61, Driver API Version: 11.0, Runtime API Version: 10.1\r\nW1204 11:07:18.827904 11193 device_context.cc:346] device: 0, cuDNN Version: 7.6.\r\nYour Paddle Fluid works well on SINGLE GPU or CPU.\r\nYour Paddle Fluid works well on MUTIPLE GPU or CPU.\r\nYour Paddle Fluid is installed successfully! Let's start deep Learning with Paddle Fluid now\r\n \r\n**Then** I continue to install paddlehub with :\r\n \r\n**pip install paddlehub==2.0.0b**\r\n \r\nAfter a few time I get info **below**:\r\n \r\nInstalling collected packages: paddlehub\r\nSuccessfully installed paddlehub-2.0.0b0\r\n \r\n \r\nNext I input with:\r\nimport paddlehub\r\n \r\nbut I got error like this:\r\nimport: not authorized `paddlehub' @ error/constitute.c/WriteImage/1028.\r\n \r\nenvironment is :\r\n \r\nUbuntu16.04 64bit\r\n1080Ti\r\nDriver Version: 450.57\r\ncuda10.1\r\ncudnn7.6\r\npython3.7\r\n \r\n \r\nI have reinstalled  many times and still cannot solve it.\r\nAny advice will be appreciated.\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "github2016-yuan",
        "closed_by": "github2016-yuan",
        "created_at": "2020-12-04T06:42:41+00:00",
        "updated_at": "2020-12-07T01:42:16+00:00",
        "closed_at": "2020-12-07T01:42:16+00:00",
        "comments_count": [
            "haoyuying",
            "github2016-yuan"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1089,
        "title": "用 bert service embedding 的结果替换 fine-tuned 的 outputs[\"pooled_output\"]",
        "body": "我通过 bert 的 fine-tune 实现文本分类：\r\n\r\n```\r\n       module = hub.Module(name=\"bert_chinese_L-12_H-768_A-12\")\r\n        inputs, outputs, program = self.module.context(\r\n            trainable=True, max_seq_len=max_seq_len)\r\n\r\n        vocab_path = self.module.get_vocab_path()\r\n\r\n        # 构建迁移学习任务的网络\r\n        # \"pooled_output\" for classification tasks on an entire sentence.\r\n        # \"sequence_output\" for token-level output.\r\n        pooled_output = outputs[\"pooled_output\"]\r\n\r\n\r\n        # 使用 PaddleHub API 定义一个 finetune 的任务\r\n        multi_label_cls_task = hub.MultiLabelClassifierTask(\r\n            feature=pooled_output,\r\n            num_classes=num_class,\r\n            config=config\r\n        )\r\n```\r\n\r\n但是现在我已经通过 bert service 的接口直接拿到了 embedding 的结果，所以想要用 embedding 的结果直接来代替 hub 加载模型得到 outputs[\"pooled_output\"] 的过程：\r\n\r\n```\r\nmodule = hub.Module(name=\"bert_chinese_L-12_H-768_A-12\")\r\ninputs, outputs, program = self.module.context(trainable=True, max_seq_len=max_seq_len)\r\n```\r\n\r\n原始模型里面是直接用的 output[\"pooled_output\"]，这个打印出来是 variable 的形式，\r\n![image](https://user-images.githubusercontent.com/54064209/101133154-2700ba80-3643-11eb-9ee3-0fd452f5a784.png)\r\n\r\n请问在分类模型里的参数 feature=pooled_output,   要怎么替换成 embedding 的向量呢？\r\n\r\n```\r\nmulti_label_cls_task = hub.MultiLabelClassifierTask(\r\n            feature=pooled_output,\r\n            num_classes=num_class,\r\n            config=config\r\n```\r\n\r\n",
        "state": "closed",
        "user": "Echo0117",
        "closed_by": "WYB27",
        "created_at": "2020-12-04T07:18:01+00:00",
        "updated_at": "2025-06-30T07:21:54+00:00",
        "closed_at": "2025-06-30T07:21:54+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1091,
        "title": "是否有计划支持最新的python版本？",
        "body": "有准备支持python3.8 和 3.9 的计划吗？\r\n",
        "state": "closed",
        "user": "Relax-87",
        "closed_by": "WYB27",
        "created_at": "2020-12-06T08:27:47+00:00",
        "updated_at": "2025-06-30T07:21:52+00:00",
        "closed_at": "2025-06-30T07:21:52+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1093,
        "title": "paddlehub 缺少 sentencepiece 依赖",
        "body": "安装成功paddlehub import paddlehub 提示缺少 sentencepiece 需要手动安装依赖包",
        "state": "closed",
        "user": "Relax-87",
        "closed_by": "WYB27",
        "created_at": "2020-12-06T09:12:38+00:00",
        "updated_at": "2025-06-30T07:21:50+00:00",
        "closed_at": "2025-06-30T07:21:50+00:00",
        "comments_count": [
            "Steffy-zxf",
            "Relax-87",
            "Steffy-zxf"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/Paddle",
        "number": 29409,
        "title": "paddlepaddle 依赖 numpy1.19.4 报错 ",
        "body": "需要将 numpy1.19.4 卸载 并安装numpy1.19.3",
        "state": "closed",
        "user": "Relax-87",
        "closed_by": "paddle-bot-old[bot]",
        "created_at": "2020-12-06T09:02:21+00:00",
        "updated_at": "2021-12-14T14:38:27+00:00",
        "closed_at": "2021-12-14T06:41:49+00:00",
        "comments_count": [
            "paddle-bot-old[bot]",
            "paddle-bot-old[bot]",
            "Relax-87"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1100,
        "title": "今天遇到的一些问题",
        "body": "1.命令行hub XXX遇到关于git的问题\r\n解决办法：运行hub前 set GIT_PYTHON_REFRESH=quiet即可\r\n2.路径不能有中文名，否则会报错cannot open file ..../中文/... \r\n解决办法：更改环境变量中用户变量 新加HUB_HOME为没有中文的路径。重启pycharm后运行。\r\n3.UnicodeDecodeError: pycode=file.read()\r\n解决办法：打开module.py 在函数后加encoding=“utf-8”",
        "state": "closed",
        "user": "Yves0108",
        "closed_by": "WYB27",
        "created_at": "2020-12-08T15:40:31+00:00",
        "updated_at": "2025-06-30T07:21:42+00:00",
        "closed_at": "2025-06-30T07:21:42+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1095,
        "title": "hub show / list  运行模型好慢啊  花费时间： 36.00005912780762",
        "body": "运行环境：\r\n   win7 64  python 3.6.4  paddlepaddle==2.0.0rc0  paddlehub==1.8.3\r\nD:\\Program Files\\python3.6\\Lib\\site-packages\\scipy\\stats\\morestats.py:12: DeprecationWarning: Importing from numpy.testing.decorators is deprecated since numpy 1.15.0, import from numpy.testing instead.\r\n  from numpy.testing.decorators import setastest\r\nD:\\Program Files\\python3.6\\Lib\\site-packages\\jinja2\\filters.py:24: DeprecationWarning: Flags not at the start of the expression '\\\\w+(?u)'\r\n  _word_re = re.compile(r'\\w+(?u)')\r\nD:\\Program Files\\python3.6\\Lib\\site-packages\\paddle\\fluid\\layers\\math_op_patch.py:278: UserWarning: D:\\hub-model-collection\\.paddlehub\\modules\\ernie\\model\\ernie.py:111\r\nThe behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n  op_type, op_type, EXPRESSION_MAP[method_name]))\r\nD:\\Program Files\\python3.6\\Lib\\site-packages\\paddle\\fluid\\layers\\math_op_patch.py:278: UserWarning: D:\\hub-model-collection\\.paddlehub\\modules\\ernie\\model\\ernie.py:112\r\nThe behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n  op_type, op_type, EXPRESSION_MAP[method_name]))\r\nD:\\Program Files\\python3.6\\Lib\\site-packages\\paddle\\fluid\\layers\\math_op_patch.py:278: UserWarning: D:\\hub-model-collection\\.paddlehub\\modules\\ernie\\model\\transformer_encoder.py:118\r\nThe behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n  op_type, op_type, EXPRESSION_MAP[method_name]))\r\nD:\\Program Files\\python3.6\\Lib\\site-packages\\paddle\\fluid\\layers\\math_op_patch.py:278: UserWarning: D:\\hub-model-collection\\.paddlehub\\modules\\ernie\\model\\transformer_encoder.py:206\r\nThe behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n  op_type, op_type, EXPRESSION_MAP[method_name]))\r\n花费时间： 36.00005912780762",
        "state": "closed",
        "user": "y455471846b",
        "closed_by": "y455471846b",
        "created_at": "2020-12-07T02:47:32+00:00",
        "updated_at": "2020-12-09T01:55:17+00:00",
        "closed_at": "2020-12-09T01:55:17+00:00",
        "comments_count": [
            "haoyuying",
            "y455471846b",
            "y455471846b",
            "ShenYuhan",
            "y455471846b",
            "y455471846b"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1096,
        "title": "调用文字识别模型报错",
        "body": "直接拷的官网的文字识别的chinese_ocr_db_crnn_mobile模型的实例代码\r\n\r\n![微信图片_20201207165031](https://user-images.githubusercontent.com/16176281/101329449-5ebe6b00-38ac-11eb-92c7-75d7039a4f65.png)\r\n![微信图片_20201207165035](https://user-images.githubusercontent.com/16176281/101329456-5fef9800-38ac-11eb-911b-79c12b2ec924.png)\r\n![微信图片_20201207165041](https://user-images.githubusercontent.com/16176281/101329460-6120c500-38ac-11eb-96b8-519a2e0452bb.png)\r\n",
        "state": "closed",
        "user": "pete0123",
        "closed_by": "WYB27",
        "created_at": "2020-12-07T08:51:46+00:00",
        "updated_at": "2025-06-30T07:21:46+00:00",
        "closed_at": "2025-06-30T07:21:46+00:00",
        "comments_count": [
            "haoyuying",
            "pete0123",
            "haoyuying",
            "pete0123",
            "haoyuying",
            "pete0123"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1094,
        "title": "无法安装2.0.0rc和2.0.0-beta，去掉版本后只能安装1.8",
        "body": "不管是windows或者linux版本下面，都没法安装2.0.0版本的paddle，看下图，这个是windows下的截图，在linux是一样的。\r\n![2 0 0rc版本好像没有唉](https://user-images.githubusercontent.com/3417516/101276435-b7780000-37e7-11eb-8dfb-e22aed0db2b3.png)\r\n",
        "state": "closed",
        "user": "caichao",
        "closed_by": "WYB27",
        "created_at": "2020-12-06T09:23:26+00:00",
        "updated_at": "2025-06-30T07:21:48+00:00",
        "closed_at": "2025-06-30T07:21:48+00:00",
        "comments_count": [
            "haoyuying",
            "fanyangfanyang",
            "RainFinder"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1102,
        "title": "chinese_ocr_db_crnn_server",
        "body": "chinese_ocr_db_crnn_server 每次执行时都要下载模型\r\n",
        "state": "closed",
        "user": "zhenzi0322",
        "closed_by": "WYB27",
        "created_at": "2020-12-09T05:02:14+00:00",
        "updated_at": "2025-06-30T07:21:40+00:00",
        "closed_at": "2025-06-30T07:21:40+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1098,
        "title": "文字识别文档问题",
        "body": "文字识别文档这两个链接地址是一样的\r\n\r\n![qqq](https://user-images.githubusercontent.com/16176281/101427329-9e7f6400-3939-11eb-908d-6431e636fc27.png)\r\n",
        "state": "closed",
        "user": "pete0123",
        "closed_by": "WYB27",
        "created_at": "2020-12-08T01:42:16+00:00",
        "updated_at": "2025-06-30T07:21:44+00:00",
        "closed_at": "2025-06-30T07:21:44+00:00",
        "comments_count": [
            "sssdjj"
        ],
        "labels": [
            "document"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1104,
        "title": "有中文版训练好的语音识别和生成模型吗",
        "body": null,
        "state": "closed",
        "user": "RainFinder",
        "closed_by": "WYB27",
        "created_at": "2020-12-09T07:58:38+00:00",
        "updated_at": "2025-06-30T07:21:36+00:00",
        "closed_at": "2025-06-30T07:21:36+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1103,
        "title": "PaddleHub安装模型一直失败",
        "body": "## 环境\r\n- 操作系统：ubuntu18.04\r\n- cuda：10.2\r\n- cudnn：8.0\r\n- Paddle：2.0rc\r\n- PaddleHub：2.0.0b\r\n\r\n## 问题\r\n```\r\nhub install humanseg_server==1.2.0\r\n``` \r\n调用hub install安装模型时，速度特别慢，11%左右就会报错，删除`~/.paddlehub/datase/couplet.tar.gz`后可以重新安装，11%时继续报错，更换测试多个模型，都是同样问题。\r\n\r\n![image](https://user-images.githubusercontent.com/55570310/101597797-28125d00-3a32-11eb-8dcc-424f7e961aa8.png)\r\n\r\n",
        "state": "closed",
        "user": "iotctech",
        "closed_by": "WYB27",
        "created_at": "2020-12-09T07:27:17+00:00",
        "updated_at": "2025-06-30T07:21:38+00:00",
        "closed_at": "2025-06-30T07:21:38+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1107,
        "title": "paddlehub 1.8 最后 multi_label_cls_task.predict 推荐的时候怎么不返回概率了",
        "body": "目前我是这样推荐的最后  res=multi_label_cls_task.predict(data=encoded_data, label_list=label_list) \r\n\r\n返回的是 标签 0 或者1   我想返回标签和对应的概率  请问应该怎么传参   文档里面找不到",
        "state": "closed",
        "user": "wa3926",
        "closed_by": "wa3926",
        "created_at": "2020-12-11T07:45:54+00:00",
        "updated_at": "2020-12-14T07:22:33+00:00",
        "closed_at": "2020-12-14T07:22:22+00:00",
        "comments_count": [
            "haoyuying",
            "wa3926",
            "wa3926",
            "wa3926",
            "wa3926"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1110,
        "title": "训练时f1一直为0",
        "body": "我利用ernie模型finetune训练一个自定义训练集，训练集分布极度不均匀，而且其中存在部分标签类别的缺失（输入的label_list是0-24，训练集中的标签类别只有10多类）。训练时f1值很奇怪，出现了要么为0要么为1的情况，请问这是为什么？\r\n\r\n\r\n\r\n[2020-12-11 14:33:37,461] [    INFO] - PaddleHub finetune start\r\n[2020-12-11 14:33:39,387] [   TRAIN] - step 110 / 892: loss=0.99351 f1=0.00000 [step/sec: 5.28]\r\n[2020-12-11 14:33:41,163] [   TRAIN] - step 120 / 892: loss=0.77129 f1=0.00000 [step/sec: 5.78]\r\n[2020-12-11 14:33:42,911] [   TRAIN] - step 130 / 892: loss=0.94193 f1=0.00000 [step/sec: 5.73]\r\n[2020-12-11 14:33:44,645] [   TRAIN] - step 140 / 892: loss=0.83789 f1=0.00000 [step/sec: 5.77]\r\n[2020-12-11 14:33:46,384] [   TRAIN] - step 150 / 892: loss=0.86760 f1=0.00000 [step/sec: 5.76]\r\n[2020-12-11 14:33:48,144] [   TRAIN] - step 160 / 892: loss=0.66530 f1=0.00000 [step/sec: 5.69]\r\n[2020-12-11 14:33:49,909] [   TRAIN] - step 170 / 892: loss=0.58194 f1=0.00000 [step/sec: 5.67]\r\n[2020-12-11 14:33:51,640] [   TRAIN] - step 180 / 892: loss=0.60660 f1=0.00000 [step/sec: 5.78]\r\n[2020-12-11 14:33:53,385] [   TRAIN] - step 190 / 892: loss=0.77988 f1=0.00000 [step/sec: 5.74]\r\n[2020-12-11 14:33:55,163] [   TRAIN] - step 200 / 892: loss=0.97922 f1=0.00000 [step/sec: 5.63]\r\n[2020-12-11 14:33:56,895] [   TRAIN] - step 210 / 892: loss=0.60805 f1=0.00000 [step/sec: 5.78]\r\n[2020-12-11 14:33:58,663] [   TRAIN] - step 220 / 892: loss=0.54391 f1=0.00000 [step/sec: 5.66]\r\n[2020-12-11 14:34:00,377] [   TRAIN] - step 230 / 892: loss=1.08480 f1=0.00000 [step/sec: 5.84]\r\n[2020-12-11 14:34:02,129] [   TRAIN] - step 240 / 892: loss=0.65789 f1=0.00000 [step/sec: 5.71]\r\n[2020-12-11 14:34:03,861] [   TRAIN] - step 250 / 892: loss=0.63477 f1=0.00000 [step/sec: 5.78]\r\n[2020-12-11 14:34:05,627] [   TRAIN] - step 260 / 892: loss=0.87319 f1=0.00000 [step/sec: 5.67]\r\n[2020-12-11 14:34:07,363] [   TRAIN] - step 270 / 892: loss=0.25046 f1=0.00000 [step/sec: 5.81]\r\n[2020-12-11 14:34:09,092] [   TRAIN] - step 280 / 892: loss=1.33411 f1=0.00000 [step/sec: 5.56]\r\n[2020-12-11 14:34:10,987] [   TRAIN] - step 290 / 892: loss=0.52220 f1=0.00000 [step/sec: 5.44]\r\n[2020-12-11 14:34:12,732] [   TRAIN] - step 300 / 892: loss=0.57617 f1=0.00000 [step/sec: 5.76]\r\n[2020-12-11 14:34:14,499] [   TRAIN] - step 310 / 892: loss=0.75188 f1=0.00000 [step/sec: 5.66]\r\n[2020-12-11 14:34:16,235] [   TRAIN] - step 320 / 892: loss=1.03686 f1=0.00000 [step/sec: 5.77]\r\n[2020-12-11 14:34:17,983] [   TRAIN] - step 330 / 892: loss=0.36088 f1=0.00000 [step/sec: 5.73]\r\n[2020-12-11 14:34:19,734] [   TRAIN] - step 340 / 892: loss=0.44954 f1=0.00000 [step/sec: 5.72]\r\n[2020-12-11 14:34:21,492] [   TRAIN] - step 350 / 892: loss=0.22190 f1=0.00000 [step/sec: 5.69]\r\n[2020-12-11 14:34:23,227] [   TRAIN] - step 360 / 892: loss=0.39503 f1=0.00000 [step/sec: 5.77]\r\n[2020-12-11 14:34:24,954] [   TRAIN] - step 370 / 892: loss=0.54409 f1=0.00000 [step/sec: 5.80]\r\n[2020-12-11 14:34:26,713] [   TRAIN] - step 380 / 892: loss=0.38467 f1=0.00000 [step/sec: 5.70]\r\n[2020-12-11 14:34:28,445] [   TRAIN] - step 390 / 892: loss=0.45907 f1=0.00000 [step/sec: 5.78]\r\n[2020-12-11 14:34:30,167] [   TRAIN] - step 400 / 892: loss=0.09944 f1=0.00000 [step/sec: 5.82]\r\n[2020-12-11 14:34:31,908] [   TRAIN] - step 410 / 892: loss=0.42715 f1=0.00000 [step/sec: 5.75]\r\n[2020-12-11 14:34:33,649] [   TRAIN] - step 420 / 892: loss=0.30117 f1=0.00000 [step/sec: 5.75]\r\n[2020-12-11 14:34:35,377] [   TRAIN] - step 430 / 892: loss=0.52981 f1=0.00000 [step/sec: 5.80]\r\n[2020-12-11 14:34:37,107] [   TRAIN] - step 440 / 892: loss=0.73028 f1=0.00000 [step/sec: 5.79]\r\n[2020-12-11 14:34:38,906] [   TRAIN] - step 450 / 892: loss=0.34607 f1=0.00000 [step/sec: 5.65]\r\n[2020-12-11 14:34:40,638] [   TRAIN] - step 460 / 892: loss=0.11842 f1=0.00000 [step/sec: 5.43]\r\n[2020-12-11 14:34:42,517] [   TRAIN] - step 470 / 892: loss=0.24358 f1=0.00000 [step/sec: 5.42]\r\n[2020-12-11 14:34:44,267] [   TRAIN] - step 480 / 892: loss=0.21497 f1=0.00000 [step/sec: 5.72]\r\n[2020-12-11 14:34:45,989] [   TRAIN] - step 490 / 892: loss=0.19627 f1=0.00000 [step/sec: 5.83]\r\n[2020-12-11 14:34:47,723] [   TRAIN] - step 500 / 892: loss=0.16097 f1=0.00000 [step/sec: 5.78]\r\n[2020-12-11 14:34:49,456] [   TRAIN] - step 510 / 892: loss=0.18345 f1=0.00000 [step/sec: 5.83]\r\n[2020-12-11 14:34:51,195] [   TRAIN] - step 520 / 892: loss=0.62305 f1=0.00000 [step/sec: 5.77]\r\n[2020-12-11 14:34:52,927] [   TRAIN] - step 530 / 892: loss=0.46651 f1=0.00000 [step/sec: 5.78]\r\n[2020-12-11 14:34:54,648] [   TRAIN] - step 540 / 892: loss=0.55519 f1=0.00000 [step/sec: 5.82]\r\n[2020-12-11 14:34:56,396] [   TRAIN] - step 550 / 892: loss=0.53124 f1=0.00000 [step/sec: 5.75]\r\n[2020-12-11 14:34:58,137] [   TRAIN] - step 560 / 892: loss=0.26920 f1=0.00000 [step/sec: 5.75]\r\n[2020-12-11 14:34:59,868] [   TRAIN] - step 570 / 892: loss=0.31095 f1=0.00000 [step/sec: 5.79]\r\n[2020-12-11 14:35:01,604] [   TRAIN] - step 580 / 892: loss=0.47847 f1=0.00000 [step/sec: 5.77]\r\n[2020-12-11 14:35:03,334] [   TRAIN] - step 590 / 892: loss=0.35148 f1=0.00000 [step/sec: 5.79]\r\n[2020-12-11 14:35:05,070] [   TRAIN] - step 600 / 892: loss=0.21436 f1=0.00000 [step/sec: 5.77]\r\n[2020-12-11 14:35:06,831] [   TRAIN] - step 610 / 892: loss=0.14444 f1=1.00000 [step/sec: 5.69]\r\n[2020-12-11 14:35:08,577] [   TRAIN] - step 620 / 892: loss=0.06100 f1=0.00000 [step/sec: 5.73]\r\n[2020-12-11 14:35:10,291] [   TRAIN] - step 630 / 892: loss=0.22035 f1=0.00000 [step/sec: 5.84]\r\n[2020-12-11 14:35:12,019] [   TRAIN] - step 640 / 892: loss=0.06707 f1=0.00000 [step/sec: 5.48]\r\n[2020-12-11 14:35:13,847] [   TRAIN] - step 650 / 892: loss=0.30138 f1=0.00000 [step/sec: 5.56]\r\n[2020-12-11 14:35:15,568] [   TRAIN] - step 660 / 892: loss=0.17753 f1=0.00000 [step/sec: 5.82]\r\n[2020-12-11 14:35:17,298] [   TRAIN] - step 670 / 892: loss=0.14589 f1=0.00000 [step/sec: 5.79]\r\n[2020-12-11 14:35:19,027] [   TRAIN] - step 680 / 892: loss=0.16862 f1=0.00000 [step/sec: 5.79]\r\n[2020-12-11 14:35:20,754] [   TRAIN] - step 690 / 892: loss=0.15272 f1=0.00000 [step/sec: 5.80]\r\n[2020-12-11 14:35:22,469] [   TRAIN] - step 700 / 892: loss=0.15071 f1=0.00000 [step/sec: 5.84]\r\n[2020-12-11 14:35:24,180] [   TRAIN] - step 710 / 892: loss=0.25541 f1=0.00000 [step/sec: 5.85]\r\n[2020-12-11 14:35:25,903] [   TRAIN] - step 720 / 892: loss=0.25039 f1=0.00000 [step/sec: 5.81]\r\n[2020-12-11 14:35:27,627] [   TRAIN] - step 730 / 892: loss=0.17531 f1=0.00000 [step/sec: 5.81]\r\n[2020-12-11 14:35:29,352] [   TRAIN] - step 740 / 892: loss=0.24165 f1=0.00000 [step/sec: 5.80]\r\n[2020-12-11 14:35:31,068] [   TRAIN] - step 750 / 892: loss=0.12708 f1=0.00000 [step/sec: 5.84]\r\n[2020-12-11 14:35:32,813] [   TRAIN] - step 760 / 892: loss=0.12253 f1=0.00000 [step/sec: 5.74]\r\n[2020-12-11 14:35:34,539] [   TRAIN] - step 770 / 892: loss=0.10043 f1=0.00000 [step/sec: 5.80]\r\n[2020-12-11 14:35:36,264] [   TRAIN] - step 780 / 892: loss=0.28654 f1=0.00000 [step/sec: 5.81]\r\n[2020-12-11 14:35:38,006] [   TRAIN] - step 790 / 892: loss=0.28733 f1=0.00000 [step/sec: 5.75]\r\n[2020-12-11 14:35:39,729] [   TRAIN] - step 800 / 892: loss=0.27661 f1=0.00000 [step/sec: 5.81]\r\n[2020-12-11 14:35:41,448] [   TRAIN] - step 810 / 892: loss=0.17383 f1=1.00000 [step/sec: 5.82]\r\n[2020-12-11 14:35:43,232] [   TRAIN] - step 820 / 892: loss=0.13027 f1=0.00000 [step/sec: 5.64]\r\n[2020-12-11 14:35:45,041] [   TRAIN] - step 830 / 892: loss=0.16517 f1=0.00000 [step/sec: 5.54]\r\n[2020-12-11 14:35:46,761] [   TRAIN] - step 840 / 892: loss=0.12233 f1=0.00000 [step/sec: 5.82]\r\n[2020-12-11 14:35:48,491] [   TRAIN] - step 850 / 892: loss=0.23047 f1=0.00000 [step/sec: 5.84]\r\n[2020-12-11 14:35:50,215] [   TRAIN] - step 860 / 892: loss=0.10986 f1=0.00000 [step/sec: 5.81]\r\n[2020-12-11 14:35:51,940] [   TRAIN] - step 870 / 892: loss=0.21047 f1=0.00000 [step/sec: 5.81]\r\n[2020-12-11 14:35:53,696] [   TRAIN] - step 880 / 892: loss=0.08317 f1=0.00000 [step/sec: 5.70]\r\n[2020-12-11 14:35:55,439] [   TRAIN] - step 890 / 892: loss=0.29345 f1=1.00000 [step/sec: 5.77]\r\n[2020-12-11 14:35:57,160] [   TRAIN] - step 900 / 892: loss=0.11748 f1=1.00000 [step/sec: 5.84]\r\n[2020-12-11 14:35:58,902] [   TRAIN] - step 910 / 892: loss=0.25073 f1=1.00000 [step/sec: 5.75]\r\n[2020-12-11 14:36:00,620] [   TRAIN] - step 920 / 892: loss=0.11316 f1=0.00000 [step/sec: 5.83]\r\n[2020-12-11 14:36:02,348] [   TRAIN] - step 930 / 892: loss=0.12096 f1=0.00000 [step/sec: 5.79]\r\n[2020-12-11 14:36:04,072] [   TRAIN] - step 940 / 892: loss=0.13125 f1=0.00000 [step/sec: 5.81]\r\n[2020-12-11 14:36:05,792] [   TRAIN] - step 950 / 892: loss=0.14233 f1=0.00000 [step/sec: 5.82]\r\n[2020-12-11 14:36:07,519] [   TRAIN] - step 960 / 892: loss=0.09731 f1=0.00000 [step/sec: 5.80]\r\n[2020-12-11 14:36:09,238] [   TRAIN] - step 970 / 892: loss=0.14702 f1=0.00000 [step/sec: 5.82]\r\n[2020-12-11 14:36:10,957] [   TRAIN] - step 980 / 892: loss=0.10359 f1=0.00000 [step/sec: 5.82]\r\n[2020-12-11 14:36:12,682] [   TRAIN] - step 990 / 892: loss=0.12243 f1=0.00000 [step/sec: 5.81]\r\n[2020-12-11 14:36:13,473] [    INFO] - Load the best model from ckpt_20201211143156/best_model\r\n[2020-12-11 14:36:13,475] [    INFO] - Evaluation on test dataset start\r\nshare_vars_from is set, scope is ignored.\r\n[2020-12-11 14:36:16,196] [    EVAL] - [test dataset evaluation result] loss=0.87618 f1=1.00000 [step/sec: 17.76]\r\n[2020-12-11 14:36:16,197] [    INFO] - Saving model checkpoint to ckpt_20201211143156/step_995\r\n[2020-12-11 14:36:19,068] [    INFO] - PaddleHub finetune finished.",
        "state": "closed",
        "user": "a390138773",
        "closed_by": "WYB27",
        "created_at": "2020-12-11T10:22:06+00:00",
        "updated_at": "2025-06-30T07:21:34+00:00",
        "closed_at": "2025-06-30T07:21:34+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1112,
        "title": "请问有ernie_tiny的pytorch版本吗，能否提供？",
        "body": "希望官方可以提供ernie_tiny的pytorch版本参考学习。",
        "state": "closed",
        "user": "Masterkmp",
        "closed_by": "WYB27",
        "created_at": "2020-12-12T02:11:18+00:00",
        "updated_at": "2025-06-30T07:21:32+00:00",
        "closed_at": "2025-06-30T07:21:32+00:00",
        "comments_count": [
            "Steffy-zxf"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1111,
        "title": "我想加快Fine-tuned PaddleHub Module的推理速度，为什么更改batch_size后，速度快了，结果却变差了？",
        "body": "我在finetuned_model_to_module/module.py文件中，把batch_size由1改为32（如下），推理速度变快了，但是结果却变化很大，召回下降很多。请问是什么原因呢，或者还有什么提速的方法吗，谢谢！\r\n```\r\ndef _initialize(self,\r\n                    ckpt_dir=\"checkpoint\",\r\n                    num_class=3,\r\n                    max_seq_len=256,\r\n                    use_gpu=True,\r\n                    batch_size=32):\r\n```\r\n\r\n环境：\r\npython==3.6.9\r\npaddle-ernie==0.0.4.dev1\r\npaddlehub==1.8.2\r\npaddlepaddle==1.8.5\r\npaddlepaddle-gpu==1.8.4.post107",
        "state": "closed",
        "user": "BossRobin",
        "closed_by": "BossRobin",
        "created_at": "2020-12-11T11:03:52+00:00",
        "updated_at": "2020-12-17T11:51:37+00:00",
        "closed_at": "2020-12-17T11:51:37+00:00",
        "comments_count": [
            "haoyuying",
            "BossRobin",
            "KPatr1ck",
            "BossRobin",
            "KPatr1ck",
            "BossRobin",
            "KPatr1ck",
            "BossRobin"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1113,
        "title": "请问pyramidBox_lite_server_mask的源码在哪里可以看。paddlehub里面没有找到",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "zhangfengyo",
        "closed_by": "WYB27",
        "created_at": "2020-12-12T07:37:09+00:00",
        "updated_at": "2025-06-30T07:21:30+00:00",
        "closed_at": "2025-06-30T07:21:30+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1115,
        "title": "W1212 20:26:32.475172  4256 analysis_predictor.cc:1042] Deprecated. Please use CreatePredictor instead.",
        "body": "这要怎么解决啊",
        "state": "closed",
        "user": "Jeremy-ttt",
        "closed_by": "Jeremy-ttt",
        "created_at": "2020-12-12T12:40:45+00:00",
        "updated_at": "2020-12-18T02:01:59+00:00",
        "closed_at": "2020-12-16T02:27:55+00:00",
        "comments_count": [
            "haoyuying",
            "yuyuko233",
            "haoyuying",
            "yuyuko233",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1116,
        "title": "windows下PaddleHub2.0.0启动hub serving报\"ModuleNotFoundError: No module named 'zmq'\"错误",
        "body": "win10系统下，paddlepaddle-gpu 2.0.0rc0，先安装的paddlehub 1.8.3，后又安装了paddlehub 2.0.0b0，执行服务器检查正常，如下：\r\n--------------------------\r\nPython 3.8.6 (tags/v3.8.6:db45529, Sep 23 2020, 15:52:53) [MSC v.1927 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub\r\n>>> paddlehub.server_check()\r\n[2020-12-14 10:44:58,134] [    INFO] - Request Hub-Server successfully.\r\nTrue\r\n-----------------------------------\r\n但在运行hub serving时，报'zmq'错误，如下：\r\n-----------------------------------\r\n(paddle) C:\\Users\\Administrator>hub serving start --modules deeplabv3p_xception65_humanseg --use_gpu\r\nc:\\users\\administrator\\envs\\paddle\\lib\\site-packages\\pip\\_vendor\\packaging\\version.py:127: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  warnings.warn(\r\nc:\\users\\administrator\\envs\\paddle\\lib\\site-packages\\pip\\_vendor\\packaging\\version.py:127: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  warnings.warn(\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Administrator\\Envs\\paddle\\Lib\\site-packages\\paddlehub\\serving\\worker.py\", line 16, in <module>\r\n    import zmq\r\nModuleNotFoundError: No module named 'zmq'\r\n * Serving Flask app \"paddlehub.serving.http_server\" (lazy loading)\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n * Running on http://0.0.0.0:8866/ (Press CTRL+C to quit)\r\n--------------------------------\r\n服务启动了但无响应，也无法CTRL+C退出\r\n系统里已经安装了\r\npyzmq 20.0.0\r\nzmq 0.0.0\r\n之前使用paddlehub 1.8.3的时候hub serving没有问题，现在不行了，不知道是哪里的问题？zmq版本的问题吗？请帮忙给解决一下。\r\n",
        "state": "closed",
        "user": "fzbird",
        "closed_by": "fzbird",
        "created_at": "2020-12-14T02:52:49+00:00",
        "updated_at": "2021-07-09T09:04:57+00:00",
        "closed_at": "2020-12-17T00:47:06+00:00",
        "comments_count": [
            "ShenYuhan",
            "fzbird",
            "fzbird",
            "ShenYuhan",
            "fzbird",
            "fzbird",
            "fzbird",
            "ShenYuhan",
            "fzbird",
            "fzbird",
            "fzbird",
            "suntao2015005848"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1118,
        "title": "realsr进行视频超分时gpu显存溢出，请问如何优化？",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.0，PaddlePaddle2.0\r\n2）系统环境：Windows10，python版本3.6\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n- module = hub.Module(name=\"realsr\")\r\n- module.predict('****.mp4')\r\n- device: Nvidia GTX1060, CUDA Capability: 61, Driver API Version: 11.2, Runtime API Version: 10.2, cuDNN Version: 7.6.\r\n-出错信息：\r\nTraceback (most recent call last):\r\n  File \"testpaddle.py\", line 17, in <module>\r\n    resvideo = module.predict('***.mp4')\r\n  File \"\\.paddlehub\\modules\\realsr\\module.py\", line 124, in predict\r\n    return self.run_video(input)\r\n  File \"\\.paddlehub\\modules\\realsr\\module.py\", line 104, in run_video\r\n    pred_img = self.run_image(frame)\r\n  File \"\\.paddlehub\\modules\\realsr\\module.py\", line 77, in run_image\r\n    out = self.model(x)\r\n\r\nResourceExhaustedError:\r\nOut of memory error on GPU 0. Cannot allocate 1.563721GB memory on GPU 0, available memory is only 1.022400GB.\r\n",
        "state": "closed",
        "user": "jindongyi011039",
        "closed_by": "WYB27",
        "created_at": "2020-12-16T07:18:24+00:00",
        "updated_at": "2025-06-30T07:21:28+00:00",
        "closed_at": "2025-06-30T07:21:28+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1119,
        "title": "[已解决] win10-cpu版-无法使用PaddleHub",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\npaddlehub          1.8.3\r\npaddlepaddle       2.0.0rc0\r\n\r\n2）系统环境：请您描述系统类型，例如\r\nwin10 64bit, python 3.7.9\r\n\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n初始化任何模型都会报错，报错信息没有明确提示是什么错误。\r\n\r\n复现代码：\r\nimport paddlehub as hub\r\nobject_detector = hub.Module(name=\"yolov3_darknet53_coco2017\")\r\n\r\n错误信息：\r\n[2020-12-16 16:18:35,487] [    INFO] - Installing yolov3_darknet53_coco2017 module\r\nTraceback (most recent call last):\r\n  File \"F:/pytorch_quick_start/src/pdd.py\", line 32, in <module>\r\n    object_detector = hub.Module(name=\"yolov3_darknet53_coco2017\")\r\n  File \"D:\\Anaconda_data\\envs\\pd_2_cpu\\lib\\site-packages\\paddlehub\\module\\module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"D:\\Anaconda_data\\envs\\pd_2_cpu\\lib\\site-packages\\paddlehub\\module\\module.py\", line 171, in init_with_name\r\n    module_name=name, module_version=version, extra=extra)\r\n  File \"D:\\Anaconda_data\\envs\\pd_2_cpu\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 127, in install_module\r\n    self.all_modules(update=True)\r\n  File \"D:\\Anaconda_data\\envs\\pd_2_cpu\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 105, in all_modules\r\n    valid, info = self.check_module_valid(sub_dir_path)\r\n  File \"D:\\Anaconda_data\\envs\\pd_2_cpu\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 72, in check_module_valid\r\n    \"{}.module\".format(basename))\r\n  File \"D:\\Anaconda_data\\envs\\pd_2_cpu\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"C:\\Users\\yts32\\.paddlehub\\modules\\realsr\\module.py\", line 36, in <module>\r\n    class RealSRPredictor(nn.Layer):\r\n  File \"D:\\Anaconda_data\\envs\\pd_2_cpu\\lib\\site-packages\\paddlehub\\module\\module.py\", line 80, in _wrapper\r\n    raise RuntimeError\r\nRuntimeError\r\n\r\nProcess finished with exit code 1\r\n",
        "state": "closed",
        "user": "TingsongYu",
        "closed_by": "WYB27",
        "created_at": "2020-12-16T08:19:01+00:00",
        "updated_at": "2025-06-30T07:21:26+00:00",
        "closed_at": "2025-06-30T07:21:26+00:00",
        "comments_count": [
            "chunzhang-hub",
            "fzbird",
            "TingsongYu",
            "chunzhang-hub",
            "TingsongYu",
            "TingsongYu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1120,
        "title": "use_multiprocess参数问题",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n老师好，我在使用hub serving start启动服务时，不启用--use_multiprocess参数，服务正常，但是使用--use_multiprocess时调用服务就一直报超时错误，如下：\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 600, in urlopen\r\n    chunked=chunked)\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 384, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 2, in raise_from\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 380, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\http\\client.py\", line 1344, in getresponse\r\n    response.begin()\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\http\\client.py\", line 306, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\http\\client.py\", line 275, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nhttp.client.RemoteDisconnected: Remote end closed connection without response\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\requests\\adapters.py\", line 449, in send\r\n    timeout=timeout\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 638, in urlopen\r\n    _stacktrace=sys.exc_info()[2])\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\urllib3\\util\\retry.py\", line 367, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\urllib3\\packages\\six.py\", line 685, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 600, in urlopen\r\n    chunked=chunked)\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 384, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 2, in raise_from\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\urllib3\\connectionpool.py\", line 380, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\http\\client.py\", line 1344, in getresponse\r\n    response.begin()\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\http\\client.py\", line 306, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\http\\client.py\", line 275, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nurllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"logoDetect_test.py\", line 29, in <module>\r\n    r = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\requests\\api.py\", line 116, in post\r\n    return request('post', url, data=data, json=json, **kwargs)\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\requests\\api.py\", line 60, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\requests\\sessions.py\", line 533, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\requests\\sessions.py\", line 646, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"C:\\Users\\zhaoyi-036\\Miniconda3\\lib\\site-packages\\requests\\adapters.py\", line 498, in send\r\n    raise ConnectionError(err, request=request)\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\r\n\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.8.3，PaddlePaddle1.8.4，paddlex1.2.8\r\n2）系统环境：Linux，python3.7\r\n3）CPU信息如下：\r\nArchitecture:          x86_64\r\nCPU op-mode(s):        32-bit, 64-bit\r\nByte Order:            Little Endian\r\nCPU(s):                32\r\nOn-line CPU(s) list:   0-31\r\nThread(s) per core:    2\r\nCore(s) per socket:    8\r\nSocket(s):             2\r\nNUMA node(s):          2\r\nVendor ID:             GenuineIntel\r\nCPU family:            6\r\nModel:                 85\r\nModel name:            Intel(R) Xeon(R) Silver 4110 CPU @ 2.10GHz\r\nStepping:              4\r\nCPU MHz:               2400.480\r\nCPU max MHz:           3000.0000\r\nCPU min MHz:           800.0000\r\nBogoMIPS:              4200.00\r\nVirtualization:        VT-x\r\nL1d cache:             32K\r\nL1i cache:             32K\r\nL2 cache:              1024K\r\nL3 cache:              11264K\r\nNUMA node0 CPU(s):     0-7,16-23\r\nNUMA node1 CPU(s):     8-15,24-31\r\n",
        "state": "closed",
        "user": "YasinZhao",
        "closed_by": "WYB27",
        "created_at": "2020-12-16T09:18:24+00:00",
        "updated_at": "2025-06-30T07:21:24+00:00",
        "closed_at": "2025-06-30T07:21:24+00:00",
        "comments_count": [
            "ShenYuhan",
            "YasinZhao",
            "ShenYuhan",
            "YasinZhao",
            "tintinxue1",
            "YasinZhao",
            "934453938"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1131
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1130
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1123,
        "title": "PaddleOCR、PPOCRlabel与HUB调用OCR结果差别很大",
        "body": "尝试直接最简化调用PaddleOCR（import PaddleOCR几行代码），也尝试了PPOCRlabel，在标准机打文档识别上无论是文本框检测还是文字识别效率都算不错。\r\n\r\n但是今天尝试HUB Run OCR发现在文本框检测和文字识别效率上都有明显下降，请问是因为参数设置的问题吗？注意到PaddleOCR直接import调用简单OCR时默认带有一些参数，而PPPOCRlabel几乎无需设置参数，HUB Run目前还没设置参数。\r\n\r\n理论上这三者是否应该在同一台机器，同样的环境配置和同样的图片文件上达到一致的效果呢？",
        "state": "closed",
        "user": "DEV-XiA",
        "closed_by": "WYB27",
        "created_at": "2020-12-16T13:15:17+00:00",
        "updated_at": "2025-06-30T07:21:22+00:00",
        "closed_at": "2025-06-30T07:21:22+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1124,
        "title": "Fine-tune模型转换为PaddleHub Module后使用PaddleHub Serving调用，本地系统重启后PaddleHub提示找不到模型",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\npaddlehub                1.8.3\r\npaddlepaddle             2.0.0rc0\r\n2）系统环境：请您描述系统类型:\r\nwindows\r\npython版本3.73\r\n- 复现信息：\r\n- 使用erine预训练模型进行文本分类任务的fine-tuning后的模型，按照范例转换为paddleHub 模型\r\n然后使用hub install的方式进行安装，然后使用hub serving start的方式启动服务，这里都没有问题，\r\n在一次windows更新升级造成重启后，我再次使用hub serving start的方式启动服务，这时候提示我\r\n找不到已经安装的模型，请问这个是否是因为模型默认安装的位置是cache目录下的原因？如果是请问\r\n如何更改模型的安装位置及启动服务时如果指定模型位置，如不是，请问如何解决这种状况？谢谢！\r\n",
        "state": "closed",
        "user": "lastrei",
        "closed_by": "lastrei",
        "created_at": "2020-12-17T08:43:12+00:00",
        "updated_at": "2020-12-22T06:08:02+00:00",
        "closed_at": "2020-12-22T06:08:02+00:00",
        "comments_count": [
            "KPatr1ck",
            "lastrei"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1133
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1125,
        "title": "2.0执行!hub search seg报错",
        "body": "Traceback (most recent call last):\r\n  File \"d:\\programdata\\anaconda3\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"d:\\programdata\\anaconda3\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\ProgramData\\Anaconda3\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 69, in execute\r\n    return com['_entry']().execute(sys.argv[idx:])\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\search.py\", line 39, in execute\r\n    table.append(result['name'], result['version'], result['summary'])\r\nKeyError: 'summary'\r\n\r\n\r\n调整为hub search segment正常",
        "state": "closed",
        "user": "yanchaoguo",
        "closed_by": "WYB27",
        "created_at": "2020-12-18T01:51:30+00:00",
        "updated_at": "2025-06-30T07:21:20+00:00",
        "closed_at": "2025-06-30T07:21:20+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1128,
        "title": "模型运行报错：operands could not be broadcast together with remapped shapes",
        "body": "Traceback (most recent call last):\r\n\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/multiprocessing/process.py\", line 297, in _bootstrap\r\n    self.run()\r\n\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/multiprocessing/process.py\", line 99, in run\r\n    self._target(*self._args, **self._kwargs)\r\n\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlex/cv/datasets/dataset.py\", line 166, in _read_into_queue\r\n    six.reraise(*sys.exc_info())\r\n\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py\", line 703, in reraise\r\n    raise value\r\n\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlex/cv/datasets/dataset.py\", line 158, in _read_into_queue\r\n    result = mapper(sample[0], sample[1], sample[2])\r\n\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlex/cv/transforms/seg_transforms.py\", line 152, in __call__\r\n    outputs = op(im, im_info, label)\r\n\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlex/cv/transforms/seg_transforms.py\", line 759, in __call__\r\n    self.label_padding_value))\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/numpy/lib/arraypad.py\", line 1172, in pad\r\n    pad_width = _as_pairs(pad_width, narray.ndim, as_index=True)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/numpy/lib/arraypad.py\", line 953, in _as_pairs\r\n    return np.broadcast_to(x, (ndim, 2)).tolist()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/numpy/lib/stride_tricks.py\", line 182, in broadcast_to\r\n    return _broadcast_to(array, shape, subok=subok, readonly=True)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/numpy/lib/stride_tricks.py\", line 129, in _broadcast_to\r\n    op_flags=[op_flag], itershape=shape, order='C')\r\nValueError: operands could not be broadcast together with remapped shapes [original->remapped]: (2,2) and requested shape (3,2)\r\n",
        "state": "closed",
        "user": "yanchaoguo",
        "closed_by": "yanchaoguo",
        "created_at": "2020-12-21T02:16:58+00:00",
        "updated_at": "2020-12-22T01:26:32+00:00",
        "closed_at": "2020-12-22T01:26:32+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1127,
        "title": "Runtimeerror问题",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddlePaddle2.0.0\r\n2）系统环境：- Ubuntu18.04\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n### 代码\r\n```\r\n\r\n  1 # !/usr/bin/env python                                                                                                                                                                                   \r\n  2 # coding=utf-8\r\n  3 import cv2\r\n  4 import paddlehub as hub\r\n  5 \r\n  6 model = hub.Module(name='photo_restoration', visualization=True)\r\n  7 im = cv2.imread('1.jpeg')\r\n  8 res = model.run_image(im)\r\n```\r\n### 报错\r\n```\r\n/usr/lib/python3/dist-packages/apport/report.py:13: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import fnmatch, glob, traceback, errno, sys, atexit, locale, imp, stat\r\nTraceback (most recent call last):\r\n  File \"res.py\", line 6, in <module>\r\n    model = hub.Module(name='photo_restoration', visualization=True)\r\n  File \"/home/ether/.local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/home/ether/.local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 171, in init_with_name\r\n    module_name=name, module_version=version, extra=extra)\r\n  File \"/home/ether/.local/lib/python3.6/site-packages/paddlehub/module/manager.py\", line 127, in install_module\r\n    self.all_modules(update=True)\r\n  File \"/home/ether/.local/lib/python3.6/site-packages/paddlehub/module/manager.py\", line 105, in all_modules\r\n    valid, info = self.check_module_valid(sub_dir_path)\r\n  File \"/home/ether/.local/lib/python3.6/site-packages/paddlehub/module/manager.py\", line 72, in check_module_valid\r\n    \"{}.module\".format(basename))\r\n  File \"/usr/lib/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/home/ether/.paddlehub/modules/photo_restoration/module.py\", line 32, in <module>\r\n    class PhotoRestoreModel(nn.Layer):\r\n  File \"/home/ether/.local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 80, in _wrapper\r\n    raise RuntimeError\r\nRuntimeError\r\n```",
        "state": "closed",
        "user": "Ether-Fish",
        "closed_by": "WYB27",
        "created_at": "2020-12-19T15:49:06+00:00",
        "updated_at": "2025-06-30T07:21:17+00:00",
        "closed_at": "2025-06-30T07:21:17+00:00",
        "comments_count": [
            "haoyuying",
            "Ether-Fish",
            "haoyuying",
            "Ether-Fish",
            "juzuo",
            "haoyuying",
            "juzuo",
            "juzuo",
            "haoyuying",
            "juzuo",
            "juzuo",
            "haoyuying",
            "juzuo"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1126,
        "title": "如何在hub2.x的finetune中加载自定义数据集",
        "body": "想在官方提供的图像分割模型中进行迁移学习  ，看到2.0版本支持了paddlehub.finetune.trainer 接口，请问如何加载自定义数据集进行训练呢",
        "state": "closed",
        "user": "yanchaoguo",
        "closed_by": "WYB27",
        "created_at": "2020-12-18T07:11:56+00:00",
        "updated_at": "2025-06-30T07:21:18+00:00",
        "closed_at": "2025-06-30T07:21:18+00:00",
        "comments_count": [
            "yanchaoguo",
            "haoyuying",
            "yanchaoguo",
            "haoyuying",
            "Fitz-Fitz"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1144
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1145
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1134,
        "title": "/demo/text_classification/train.py 无法使用",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddlePaddle2.0.0rc1, paddlehub==2.0.0b\r\n2）系统环境：Windows10 python3.7\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nTraceback (most recent call last):\r\n  File \".\\测试.py\", line 30, in <module>\r\n    trainer.train(train_dataset, epochs=3, batch_size=32, eval_dataset=dev_dataset, save_interval=1)\r\n  File \"D:\\conda\\envs\\work_hub2\\lib\\site-packages\\paddlehub\\finetune\\trainer.py\", line 199, in train\r\n    loss, metrics = self.training_step(batch, batch_idx)\r\n  File \"D:\\conda\\envs\\work_hub2\\lib\\site-packages\\paddlehub\\finetune\\trainer.py\", line 336, in training_step\r\n    result = self.model.training_step(batch, batch_idx)\r\n  File \"C:\\Users\\zkj\\.paddlehub\\modules\\ernie_tiny\\module.py\", line 122, in training_step\r\n    predictions, avg_loss, acc = self(input_ids=batch[0], token_type_ids=batch[1], labels=batch[2])\r\n  File \"D:\\conda\\envs\\work_hub2\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 884, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"C:\\Users\\zkj\\.paddlehub\\modules\\ernie_tiny\\module.py\", line 72, in forward\r\n    loss = self.criterion(logits, labels)\r\n  File \"D:\\conda\\envs\\work_hub2\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 884, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\conda\\envs\\work_hub2\\lib\\site-packages\\paddle\\nn\\layer\\loss.py\", line 249, in forward\r\n    name=self.name)\r\n  File \"D:\\conda\\envs\\work_hub2\\lib\\site-packages\\paddle\\nn\\functional\\loss.py\", line 1220, in cross_entropy\r\n    axis=axis)\r\n  File \"D:\\conda\\envs\\work_hub2\\lib\\site-packages\\paddle\\fluid\\layers\\loss.py\", line 1264, in softmax_with_cross_entropy\r\n    axis)\r\nValueError: (InvalidArgument) Tensor holds the wrong type, it holds int, but desires to be int64_t.\r\n  [Hint: Expected valid == true, but received valid:0 != true:1.] (at D:\\2.0.0rc1\\paddle\\paddle/fluid/framework/tensor_impl.h:33)\r\n  [Hint: If you need C++ stacktraces for debugging, please set `FLAGS_call_stack_level=2`.]\r\n  [operator < softmax_with_cross_entropy > error]\r\n使用demo源代码报错,怀疑是paddlepaddle问题,",
        "state": "closed",
        "user": "paopjian",
        "closed_by": "paopjian",
        "created_at": "2020-12-21T09:30:39+00:00",
        "updated_at": "2021-01-14T02:28:39+00:00",
        "closed_at": "2021-01-14T02:28:39+00:00",
        "comments_count": [
            "KPatr1ck",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1135,
        "title": "edvr模型推理报错",
        "body": "环境:linux aistudio\r\n```shell\r\npython --version\r\nPython 3.7.4\r\n\r\nnvidia-smi \r\nTue Dec 22 15:29:01 2020       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 418.67       Driver Version: 418.67       CUDA Version: 10.1     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  Tesla V100-SXM2...  On   | 00000000:06:00.0 Off |                    0 |\r\n| N/A   40C    P0    40W / 300W |      0MiB / 32480MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|  No running processes found                                                 |\r\n+-----------------------------------------------------------------------------+\r\n\r\nlscpu\r\nArchitecture:          x86_64\r\nCPU op-mode(s):        32-bit, 64-bit\r\nByte Order:            Little Endian\r\nCPU(s):                24\r\nOn-line CPU(s) list:   0-23\r\nThread(s) per core:    2\r\nCore(s) per socket:    12\r\nSocket(s):             1\r\nNUMA node(s):          1\r\nVendor ID:             GenuineIntel\r\nCPU family:            6\r\nModel:                 85\r\nModel name:            Intel(R) Xeon(R) Gold 6271C CPU @ 2.60GHz\r\nStepping:              7\r\nCPU MHz:               2599.994\r\nBogoMIPS:              5199.98\r\nHypervisor vendor:     KVM\r\nVirtualization type:   full\r\nL1d cache:             32K\r\nL1i cache:             32K\r\nL2 cache:              1024K\r\nL3 cache:              33792K\r\nNUMA node0 CPU(s):     0-23\r\nFlags:                 fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ss ht syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon rep_good nopl xtopology tsc_known_freq pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch invpcid_single ibrs ibpb fsgsbase tsc_adjust bmi1 hle avx2 smep bmi2 erms invpcid rtm mpx avx512f rdseed adx smap clflushopt clwb avx512cd xsaveopt xsavec xgetbv1 arat\r\n```\r\n\r\n\r\n运行代码\r\n\r\n```shell\r\nimport paddlehub as hub\r\n\r\nmodel = hub.Module(name='edvr')\r\nmodel.predict('./test.mp4')\r\n```\r\n\r\n报错\r\n```shell\r\npython test.py \r\nYou are using Paddle compiled with TensorRT, but TensorRT dynamic library is not found. Ignore this if TensorRT is not needed.\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/pandas/core/tools/datetimes.py:3: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import MutableMapping\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/rcsetup.py:20: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Iterable, Mapping\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/colors.py:53: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Sized\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/nltk/decorators.py:68: DeprecationWarning: `formatargspec` is deprecated since Python 3.5. Use `signature` and the `Signature` object directly\r\n  regargs, varargs, varkwargs, defaults, formatvalue=lambda value: \"\"\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/nltk/lm/counter.py:15: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Sequence, defaultdict\r\n[2020-12-22 15:26:37,776] [    INFO] - Installing edvr module\r\n[2020-12-22 15:26:37,778] [    INFO] - Module edvr already installed in /home/aistudio/.paddlehub/modules/edvr\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 3, in <module>\r\n    model = hub.Module(name='edvr')\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 200, in init_with_directory\r\n    user_module = _item(directory=directory, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 146, in __init__\r\n    self._initialize(**kwargs)\r\n  File \"/home/aistudio/.paddlehub/modules/edvr/module.py\", line 70, in _initialize\r\n    self.build_inference_model()\r\n  File \"/home/aistudio/.paddlehub/modules/edvr/module.py\", line 90, in build_inference_model\r\n    params_filename=param_file)\r\nTypeError: load_inference_model() missing 1 required positional argument: 'path_prefix'\r\n```\r\naistudio 公开项目地址\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/1353034\r\n",
        "state": "closed",
        "user": "linhandev",
        "closed_by": "linhandev",
        "created_at": "2020-12-22T07:32:29+00:00",
        "updated_at": "2022-12-14T21:37:59+00:00",
        "closed_at": "2022-12-14T21:37:59+00:00",
        "comments_count": [
            "haoyuying",
            "haoyuying",
            "linhandev",
            "linhandev",
            "linhandev"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1138,
        "title": "每次运行程序结果不一致",
        "body": "hub，1.8.1\r\n之前有保存ckpt_ernie_pointwise_matching，，\r\ntext_pairs = [[\"这家餐厅很好吃\", \"这部电影真的很差劲\"]]\r\n\r\nprint(pointwise_matching_task.predict(\r\n    data=text_pairs,\r\n    max_seq_len=128,\r\n    label_list=dataset.get_labels(),\r\n    return_result=True,\r\n    load_best_model=True,\r\n    accelerate_mode=False))\r\n运行所有程序，不单单 这个预测接口，，预测结果会改变，概率会变\r\n",
        "state": "closed",
        "user": "changchend",
        "closed_by": "changchend",
        "created_at": "2020-12-23T08:06:38+00:00",
        "updated_at": "2020-12-25T03:52:37+00:00",
        "closed_at": "2020-12-25T03:52:37+00:00",
        "comments_count": [
            "changchend",
            "changchend",
            "changchend",
            "KPatr1ck",
            "changchend"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1142,
        "title": "PaddleHub2.0用配置文件方式启动服务失败!",
        "body": "\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddlehub==2.0.0b，paddlepaddle-gpu==2.0.0rc1\r\n2）系统环境：WIN10，python3.79\r\n\r\nhub serving start - c config.json  配置文件启动失败  运行这行命令 最后是直接无返回无输出 直接就为空  像没输入命令按了一下回车.\r\n\r\n[WARNING] You are using paddlepaddle(v2.0.0-rc1) which may not compatible with paddlex(v1.2.8), paddlepaddle==1.8.4 is strongly recommended.\r\n+--------------------+----------------------------------------+\r\n|     ModuleName     |Path                                    |\r\n+--------------------+----------------------------------------+\r\n|     ocr_system     |C:\\Users\\Administrator\\.paddlehub\\module|\r\n|                    |s\\ocr_system                            |\r\n+--------------------+----------------------------------------+\r\n|      testaaa       |C:\\Users\\Administrator\\.paddlehub\\module|\r\n|                    |s\\testaaa                               |\r\n+--------------------+----------------------------------------+\r\n\r\n\r\nD:\\fei\\PaddleOCR>hub serving start -c config.json\r\nd:\\program files\\python37\\lib\\site-packages\\pip\\_vendor\\packaging\\version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\nd:\\program files\\python37\\lib\\site-packages\\pip\\_vendor\\packaging\\version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n\r\n**直接输出到这一行  就跳出来了**  \r\n\r\n删了装  装了删.反正是没法启动了~ 命令行模式启动没问题..配置文件启动 没任何反应.\r\n\r\n命令直接启动 成功的\r\n+--------------------+----------------------------------------+\r\n|     ModuleName     |Path                                    |\r\n+--------------------+----------------------------------------+\r\n|     ocr_system     |C:\\Users\\Administrator\\.paddlehub\\module|\r\n|                    |s\\ocr_system                            |\r\n+--------------------+----------------------------------------+\r\n|      testaaa       |C:\\Users\\Administrator\\.paddlehub\\module|\r\n|                    |s\\testaaa                               |\r\n+--------------------+----------------------------------------+\r\n\r\n\r\nD:\\fei\\PaddleOCR>hub serving start -m ocr_system testaaa\r\nd:\\program files\\python37\\lib\\site-packages\\pip\\_vendor\\packaging\\version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\nd:\\program files\\python37\\lib\\site-packages\\pip\\_vendor\\packaging\\version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\nuse gpu:  True\r\nCUDA_VISIBLE_DEVICES:  0\r\nW1224 00:32:30.772776  3028 analysis_predictor.cc:1058] Deprecated. Please use CreatePredictor instead.\r\n[WARNING] You are using paddlepaddle(v2.0.0-rc1) which may not compatible with paddlex(v1.2.8), paddlepaddle==1.8.4 is strongly recommended.\r\n * Serving Flask app \"paddlehub.serving.app_compat\" (lazy loading)\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n2020-12-24 00:32:34,104-INFO:  * Running on http://0.0.0.0:8866/ (Press CTRL+C to quit)\r\n\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "89080322",
        "closed_by": "WYB27",
        "created_at": "2020-12-24T04:10:28+00:00",
        "updated_at": "2025-06-30T07:21:15+00:00",
        "closed_at": "2025-06-30T07:21:15+00:00",
        "comments_count": [
            "ShenYuhan",
            "89080322",
            "89080322",
            "ShenYuhan",
            "89080322",
            "89080322"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1149,
        "title": "ernie.modeling_ernie import ErnieModel",
        "body": "您好 输入两个句子，通过下面得方式，获取句子向量，并计算cos值。jieba与lac分词结果不同，但是cos值一样，请说明下原因\r\n\r\nids, _ = tokenizer.encode('保养 老年 金保险 投保 方式')\r\nids = D.to_variable(np.expand_dims(ids, 0))  # insert extra `batch` dimension\r\npooled, encoded = model(ids)                 # eager execution\r\n# print(pooled.numpy())                        # convert  results to numpy\r\nfea1 = pooled.numpy()[0]",
        "state": "closed",
        "user": "xiaotaiyangsun",
        "closed_by": "WYB27",
        "created_at": "2020-12-28T07:44:58+00:00",
        "updated_at": "2025-06-30T07:21:13+00:00",
        "closed_at": "2025-06-30T07:21:13+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1153,
        "title": "hub.Module(hub) error",
        "body": "!hub install lac\r\n!hub install word2vec_skipgram\r\nmodule = hub.Module(name=\"lac\",version=\"2.2.0\")\r\nmodule = hub.Module(name=\"word2vec_skipgram\",version=\"1.1.0\")\r\n\r\n[2020-12-29 10:24:37,302] [    INFO] - Installing lac module-2.2.0\r\n---------------------------------------------------------------------------KeyError                                  Traceback (most recent call last)<ipython-input-15-5a7a29094795> in <module>\r\n      1 get_ipython().system('hub install lac')\r\n      2 get_ipython().system('hub install word2vec_skipgram')\r\n----> 3 module = hub.Module(name=\"lac\",version=\"2.2.0\")\r\n      4 module = hub.Module(name=\"word2vec_skipgram\",version=\"1.1.0\")\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __init__(self, name, module_dir, signatures, module_info, assets, processor, extra_info, version)\r\n    120 \r\n    121     @property\r\n--> 122     def is_runnable(self) -> bool:\r\n    123         '''\r\n    124         Whether the Module is runnable, in other words, whether can we execute the Module through the\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in _init_with_name(self, name, version)\r\n    145                                Module does not meet the specified version conditions, PaddleHub will re-request the server to\r\n    146                                download the appropriate Module. Default to None, This means that the local Module will be used.\r\n--> 147                                If the Module does not exist, PaddleHub will download the latest version available from the\r\n    148                                server according to the usage environment.\r\n    149         source(str|optional): Url of a git repository. If this parameter is specified, PaddleHub will no longer download the\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/manager.py in install_module(self, module_name, module_version, upgrade)\r\n     74         msg = '{}'.format(self.name)\r\n     75         if self.version:\r\n---> 76             msg += '-{}'.format(self.version)\r\n     77 \r\n     78         tips = '{} cannot be installed because some conditions are not met'.format(\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/manager.py in all_modules(self, update)\r\n     66 \r\n     67 class EnvironmentMismatchError(Exception):\r\n---> 68     def __init__(self, name: str, info: dict, version: str = None):\r\n     69         self.name = name\r\n     70         self.version = version\r\nKeyError: 'version'",
        "state": "closed",
        "user": "pzq25",
        "closed_by": "WYB27",
        "created_at": "2020-12-29T02:28:00+00:00",
        "updated_at": "2025-06-30T07:21:09+00:00",
        "closed_at": "2025-06-30T07:21:09+00:00",
        "comments_count": [
            "pzq25",
            "KPatr1ck",
            "lx1054331851"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1150,
        "title": "有中文版训练好的语音合成模型吗",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "Smilefish1",
        "closed_by": "WYB27",
        "created_at": "2020-12-28T10:11:28+00:00",
        "updated_at": "2025-06-30T07:21:11+00:00",
        "closed_at": "2025-06-30T07:21:11+00:00",
        "comments_count": [
            "chunzhang-hub",
            "Smilefish1"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1154,
        "title": "lac 模型fine-tune demo",
        "body": "一、现状\r\n- 我们目前使用paddlehub的lac模型提取文本中ORG信息作为公司或机构的名称返回给上层应用。\r\n- 目前对于一般的机构信息，模型可以正常识别，但是我们的文本中存在很多非标准的公司/机构数据，例如：“包店镇手机大卖场”、“李梅种子专营店”等，lac就很难正常识别。\r\n- 目前我们想到的办法是整理了大概10w条类似的数据：小勇手机专营店 /ORG    百姓大药房/ORG  .......  准备利用paddlehub进行fine-tune\r\n\r\n二、问题/需求\r\n- 没有找到lac模型如何进行fine-tune的代码及train文件的格式，希望在demo或lac的说明里能够提供\r\n- 我们这个思路是否可行，是否需要在训练集中混入一些其他样本 而不仅仅是依靠识别有问题的样本进行fine tune\r\n- 能否在lac的模型的相关说明内补充：使用的是那一个模型、预训练模型的数据大概在何种规模（例如：百度贴吧 微博数据，文本条数2000w左右），以便使用者有比较明确的参考。\r\n\r\n谢谢～～\r\n\r\n",
        "state": "closed",
        "user": "stopit",
        "closed_by": "WYB27",
        "created_at": "2020-12-29T15:09:16+00:00",
        "updated_at": "2025-06-30T07:21:07+00:00",
        "closed_at": "2025-06-30T07:21:07+00:00",
        "comments_count": [
            "KPatr1ck",
            "stopit",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1155,
        "title": "训练时候dev为0.89，然后predict接口预测时候为0.29",
        "body": "import paddlehub as hub\r\nfrom paddlehub.dataset.base_nlp_dataset import TextMatchingDataset\r\nimport pandas as pd\r\n\r\nclass COVID19Competition(TextMatchingDataset):\r\n    def __init__(self, tokenizer=None, max_seq_len=None):\r\n        base_path = 'COVID19_sim_competition'\r\n        super(COVID19Competition, self).__init__(\r\n            is_pair_wise=True, # 文本匹配类型，是否为pairwise\r\n            base_path=base_path,\r\n            train_file=\"/data/qy/hub/COVID19_sim_competition/train.txt\", # 相对于base_path的文件路径\r\n            dev_file=\"/data/qy/hub/COVID19_sim_competition/dev.txt\", # 相对于base_path的文件路径\r\n            # test_file=\"/data/qy/hub/COVID19_sim_competition/test.txt\",\r\n            train_file_with_header=True,\r\n            dev_file_with_header=True,\r\n            label_list=[\"0\", \"1\"],\r\n            tokenizer=tokenizer,\r\n            max_seq_len=max_seq_len)\r\nmodule = hub.Module(name=\"chinese-bert-wwm-ext\")\r\ninputs, outputs, program = module.context(trainable=True, max_seq_len=128, num_slots=3)\r\ntokenizer = hub.BertTokenizer(vocab_file=module.get_vocab_path(), tokenize_chinese_chars=True)\r\ndataset = COVID19Competition(tokenizer=tokenizer, max_seq_len=128)\r\nstrategy = hub.AdamWeightDecayStrategy(\r\n    weight_decay=0.01,\r\n    warmup_proportion=0.1,\r\n    learning_rate=5e-5)\r\nconfig = hub.RunConfig(\r\n    log_interval= 1000,\r\n    eval_interval=3000,\r\n    use_cuda=True,\r\n    num_epoch=1,\r\n    batch_size=16,\r\n    checkpoint_dir='/data/qy/ckpt_ernie_pointwise_matching',\r\n    strategy=strategy)\r\n#%%\r\nquery = outputs[\"sequence_output\"]\r\nleft = outputs['sequence_output_2']\r\nright = outputs['sequence_output_3']\r\n\r\npairwise_matching_task = hub.PairwiseTextMatchingTask(\r\n    query_feature=query,\r\n    left_feature=left,\r\n    right_feature=right,\r\n    tokenizer=tokenizer,\r\n    dataset=dataset,\r\n    config=config,\r\n    metrics_choices=['f1'],\r\n)\r\n#%%\r\n# run_states=pairwise_matching_task.finetune_and_eval()\r\n#%%\r\nresult = pairwise_matching_task.predict(\r\n    data=data,\r\n    max_seq_len=128,\r\n    label_list=dataset.get_labels(),\r\n    return_result=True,\r\n    load_best_model=True,\r\n    accelerate_mode=False)\r\ndf = pd.read_table(\"/data/qy/hub/COVID19_sim_competition/ dev.txt\")\r\ndf = df[['text_a','text_b','text_c']]\r\ndata = df.values.tolist()\r\n#%%\r\nresult = pairwise_matching_task.predict(\r\n    data=data,\r\n    max_seq_len=128,\r\n    label_list=dataset.get_labels(),\r\n    return_result=True,\r\n    load_best_model=True,\r\n    accelerate_mode=False)\r\n#%%\r\npred_true = df['label']\r\n#%%\r\nfrom  sklearn.metrics import f1_score,accuracy_score\r\nprint(f1_score(result,pred_true))\r\nprint(accuracy_score(result,pred_true))",
        "state": "closed",
        "user": "changchend",
        "closed_by": "changchend",
        "created_at": "2020-12-30T03:51:03+00:00",
        "updated_at": "2021-01-13T03:09:14+00:00",
        "closed_at": "2021-01-13T03:09:14+00:00",
        "comments_count": [
            "changchend",
            "changchend",
            "changchend",
            "KPatr1ck",
            "changchend",
            "KPatr1ck",
            "changchend",
            "changchend",
            "KPatr1ck",
            "changchend",
            "changchend",
            "KPatr1ck",
            "changchend",
            "KPatr1ck",
            "changchend"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1156,
        "title": "进行finetune训练时报错：ZeroDivisionError: float division by zero",
        "body": "1）PaddleHub1.8.0，PaddlePaddle1.8.5-CPU版本\r\n2）系统环境：Windows10-anaconda3，python3.7.9\r\n3）pointwise文本匹配任务，finetune代码如下;\r\n`CKPT_DIR=\"./ckpt_embedding_pointwise_matching\"\r\n\r\npython -u embedding_pointwise_matching.py \\\r\n            --batch_size=1 \\\r\n            --checkpoint_dir=${CKPT_DIR} \\\r\n            --learning_rate=5e-2 \\\r\n            --max_seq_len=256 \\\r\n            --num_epoch=3 \\\r\n            --network=lstm`\r\n\r\n`import argparse\r\nimport ast\r\nimport paddlehub as hub\r\n\r\n# yapf: disable\r\nparser = argparse.ArgumentParser(__doc__)\r\nparser.add_argument(\"--num_epoch\", type=int, default=3, help=\"Number of epoches for fine-tuning.\")\r\nparser.add_argument(\"--learning_rate\", type=float, default=5e-5, help=\"Learning rate used to train with warmup.\")\r\nparser.add_argument(\"--checkpoint_dir\", type=str, default=None, help=\"Directory to model checkpoint\")\r\nparser.add_argument(\"--max_seq_len\", type=int, default=512, help=\"Number of words of the longest seqence.\")\r\nparser.add_argument(\"--batch_size\", type=int, default=32, help=\"Total examples' number in batch for training.\")\r\nparser.add_argument(\"--network\", type=str, default=None, help=\"Pre-defined network which was connected after module.\")\r\nargs = parser.parse_args()\r\n\r\njieba_paddle = hub.Module(name='jieba_paddle')\r\n\r\ndef cut(text):\r\n    res = jieba_paddle.cut(text, use_paddle=False)\r\n    return res\r\n\r\nif __name__ == '__main__':\r\n\r\n    module = hub.Module(name=\"word2vec_skipgram\")\r\n\r\n    inputs, outputs, program = module.context(\r\n        trainable=True, max_seq_len=args.max_seq_len, num_slots=2)\r\n\r\n    tokenizer = hub.CustomTokenizer(\r\n        vocab_file=module.get_vocab_path(),\r\n        tokenize_chinese_chars=True,\r\n        cut_function=cut\r\n    )\r\n\r\n    dataset = hub.dataset.LCQMC(\r\n        tokenizer=tokenizer, max_seq_len=args.max_seq_len)\r\n\r\n    query = outputs[\"emb\"]\r\n    title = outputs['emb_2']\r\n\r\n    strategy = hub.DefaultStrategy(\r\n        optimizer_name=\"sgd\", learning_rate=args.learning_rate)\r\n\r\n    config = hub.RunConfig(\r\n        eval_interval=300,\r\n        use_data_parallel=False,\r\n        use_cuda=False,\r\n        num_epoch=args.num_epoch,\r\n        batch_size=args.batch_size,\r\n        checkpoint_dir=args.checkpoint_dir,\r\n        strategy=strategy)\r\n\r\n    matching_task = hub.PointwiseTextMatchingTask(\r\n        dataset=dataset,\r\n        query_feature=query,\r\n        title_feature=title,\r\n        tokenizer=tokenizer,\r\n        network=args.network,\r\n        config=config)\r\n\r\n    matching_task.finetune_and_eval()`\r\n\r\n4）报错信息如下：\r\n`[2020-12-30 17:08:25,593] [   TRAIN] - step 80 / 716205: loss=0.70985 acc=0.50000 f1=0.66667 precision=0.50000 recall=1.00000 [                     step/sec: 106.67]\r\n[2020-12-30 17:08:25,685] [   TRAIN] - step 90 / 716205: loss=0.71690 acc=0.10000 f1=0.18182 precision=0.14286 recall=0.25000 [                     step/sec: 110.15]\r\n[2020-12-30 17:08:25,779] [   TRAIN] - step 100 / 716205: loss=0.69809 acc=0.60000 f1=0.75000 precision=0.60000 recall=1.00000                      [step/sec: 107.81]\r\n[2020-12-30 17:08:25,879] [   TRAIN] - step 110 / 716205: loss=0.70668 acc=0.50000 f1=0.66667 precision=0.50000 recall=1.00000                      [step/sec: 100.27]\r\n[2020-12-30 17:08:25,972] [   TRAIN] - step 120 / 716205: loss=0.70090 acc=0.40000 f1=0.25000 precision=0.20000 recall=0.33333                      [step/sec: 109.00]\r\n[2020-12-30 17:08:26,066] [   TRAIN] - step 130 / 716205: loss=0.70716 acc=0.50000 f1=0.00000 precision=0.00000 recall=0.00000                      [step/sec: 107.81]\r\n[2020-12-30 17:08:26,165] [   TRAIN] - step 140 / 716205: loss=0.70787 acc=0.40000 f1=0.00000 precision=0.00000 recall=0.00000                      [step/sec: 101.28]\r\n[2020-12-30 17:08:26,263] [   TRAIN] - step 150 / 716205: loss=0.67597 acc=0.70000 f1=0.00000 precision=0.00000 recall=0.00000                      [step/sec: 102.24]\r\n[2020-12-30 17:08:26,358] [   TRAIN] - step 160 / 716205: loss=0.72892 acc=0.30000 f1=0.46154 precision=0.60000 recall=0.37500                      [step/sec: 107.78]\r\n[2020-12-30 17:08:26,452] [   TRAIN] - step 170 / 716205: loss=0.69535 acc=0.50000 f1=0.66667 precision=0.55556 recall=0.83333                      [step/sec: 107.78]\r\n[2020-12-30 17:08:26,549] [   TRAIN] - step 180 / 716205: loss=0.69153 acc=0.60000 f1=0.75000 precision=0.60000 recall=1.00000                      [step/sec: 105.55]\r\n[2020-12-30 17:08:26,638] [   TRAIN] - step 190 / 716205: loss=0.62224 acc=0.80000 f1=0.88889 precision=0.80000 recall=1.00000                      [step/sec: 112.66]\r\nTraceback (most recent call last):\r\n  File \"embedding_pointwise_matching.py\", line 60, in <module>\r\n    matching_task.finetune_and_eval()\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 945, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 966, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 1219, in _run\r\n    step_run_state.update()\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 72, in update\r\n    self.run_speed = self.run_step / self.run_time_used\r\nZeroDivisionError: float division by zero`\r\n\r\n",
        "state": "closed",
        "user": "xct-xct",
        "closed_by": "WYB27",
        "created_at": "2020-12-30T09:16:02+00:00",
        "updated_at": "2025-06-30T07:21:05+00:00",
        "closed_at": "2025-06-30T07:21:05+00:00",
        "comments_count": [
            "AlexDish",
            "xct-xct",
            "KPatr1ck",
            "xct-xct"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1159,
        "title": "使用ERNIE_TINY 进行新闻标题分类训练，然后用hub封装模型后使用提示 The length of input_text is out of handling, which must be 1 or 2!",
        "body": "`\r\n版本\r\n   python 3.7\r\n   PaddlePaddle 2.0.0rc\r\n   paddlehub-1.8.3\r\n`\r\n`\r\n错误截图\r\n   ![image](https://user-images.githubusercontent.com/26837690/103405748-20f2f080-4b93-11eb-8091-4f8ed1d2fec2.png)\r\n`\r\n`\r\n模型的module.py\r\n![image](https://user-images.githubusercontent.com/26837690/103405834-89da6880-4b93-11eb-9f9e-6852f4d48e30.png)\r\n![image](https://user-images.githubusercontent.com/26837690/103405849-965ec100-4b93-11eb-842a-a3fd98306a77.png)\r\n运行测试用的test.py\r\n![image](https://user-images.githubusercontent.com/26837690/103405860-ab3b5480-4b93-11eb-99e9-a8aab88c6a3a.png)\r\n   `",
        "state": "closed",
        "user": "Simba9980",
        "closed_by": "Simba9980",
        "created_at": "2020-12-31T10:12:06+00:00",
        "updated_at": "2021-01-26T06:10:12+00:00",
        "closed_at": "2021-01-26T06:10:12+00:00",
        "comments_count": [
            "xct-xct",
            "Simba9980",
            "KPatr1ck",
            "Simba9980",
            "Simba9980",
            "KPatr1ck",
            "Simba9980"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1160,
        "title": "nvidia_docker中PaddleHub安装报错",
        "body": "- 宿主环境\r\n\r\nNo LSB modules are available.\r\nDistributor ID:\tUbuntu\r\nDescription:\tUbuntu 18.04.5 LTS\r\nRelease:\t18.04\r\nCodename:\tbionic\r\n\r\n- docker 环境：\r\n\r\nnvidia-docker 1.8.5-gpu-cuda10.0-cudnn7\r\n\r\n- 在docker执行安装命令：pip install paddlehub --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple\r\n参照 https://paddlehub.readthedocs.io/zh_CN/develop/install.html \r\n\r\n- 报错：\r\n\r\n ----------------------------------------\r\n  **Failed building wheel for sentencepiece**\r\n  Running setup.py clean for sentencepiece\r\n  Running setup.py bdist_wheel for grpcio ... /\r\n  *****等了很久****\r\n\r\n  .......省略......\r\n    ----------------------------------------\r\n**Command \"/usr/local/python2.7.15/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-install-55EGKn/grpcio/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-record-86BwLz/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-install-55EGKn/grpcio/**\r\n",
        "state": "closed",
        "user": "GreenValue",
        "closed_by": "WYB27",
        "created_at": "2020-12-31T12:54:03+00:00",
        "updated_at": "2025-06-30T07:21:03+00:00",
        "closed_at": "2025-06-30T07:21:03+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1161,
        "title": "PaddleHub2.0与1.8是否大大的不兼容？",
        "body": "我的入门是使用PaddleHub1.8，里面使用到了BaseCVDataset等类。\r\n现在使用开发套件PaddleClas，需要是PaddleHub2.0进行serving部署。\r\n当我切换到2.0后，发现以前的程序都不能使用了，很多库都换了。\r\n\r\n请问PaddleHub2.0与1.8是否大大的不兼容？\r\n有什么好的建议？",
        "state": "closed",
        "user": "AlexDish",
        "closed_by": "WYB27",
        "created_at": "2021-01-02T13:15:56+00:00",
        "updated_at": "2025-06-30T07:21:01+00:00",
        "closed_at": "2025-06-30T07:21:01+00:00",
        "comments_count": [
            "haoyuying",
            "AlexDish",
            "haoyuying",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1162,
        "title": "基于PaddleHub的疫情期间网民情绪识别项目，加载ERNIE模型预训练时报错",
        "body": "1）paddlepaddle版本为1.6.2\r\n2）系统环境：Win 10，Python 3.7.4\r\n3）https://aistudio.baidu.com/aistudio/projectdetail/294224?channelType=0&channel=0\r\n该项目在加载ERNIE模型进行预训练时，报type error。详细内容如下：\r\n\r\n\r\n[2021-01-03 17:30:25,778] [    INFO] - Installing ernie module\r\nDownloading ernie\r\n[==================================================] 100.00%\r\nUncompress /home/aistudio/.paddlehub/tmp/tmpnw7b1l5i/ernie\r\n[==================================================] 100.00%\r\n[2021-01-03 17:30:42,161] [    INFO] - Successfully installed ernie-1.2.0\r\n---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)<ipython-input-13-ac0ee84d94bb> in <module>\r\n      1 # 加载模型\r\n      2 import paddlehub as hub\r\n----> 3 module = hub.Module(name=\"ernie\")\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, module_dir, version, **kwargs)\r\n    100             if name:\r\n    101                 module = cls.init_with_name(\r\n--> 102                     name=name, version=version, **kwargs)\r\n    103             elif directory:\r\n    104                 module = cls.init_with_directory(directory=directory, **kwargs)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, **kwargs)\r\n    176         logger.info(tips)\r\n    177         lock.flock(fp_lock, lock.LOCK_UN)\r\n--> 178         return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n    179 \r\n    180     @classmethod\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_directory(cls, directory, **kwargs)\r\n    198                 os.path.join(directory, \"module.py\"))\r\n    199             if issubclass(_item, Module) and _file.startswith(_module_path):\r\n--> 200                 user_module = _item(directory=directory, **kwargs)\r\n    201                 break\r\n    202         sys.path.pop(0)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/nlp_module.py in __init__(self, name, directory, module_dir, version, max_seq_len, **kwargs)\r\n    262             module_dir=module_dir,\r\n    263             version=version,\r\n--> 264             **kwargs)\r\n    265 \r\n    266         self.max_seq_len = max_seq_len\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __init__(self, name, directory, module_dir, version, **kwargs)\r\n    136             return\r\n    137 \r\n--> 138         super(Module, self).__init__()\r\n    139         _run_func_name = self._get_func_name(self.__class__,\r\n    140                                              _module_runnable_func)\r\nTypeError: __init__() missing 1 required positional argument: 'name_scope'\r\n",
        "state": "closed",
        "user": "gzwzzu",
        "closed_by": "WYB27",
        "created_at": "2021-01-03T09:31:37+00:00",
        "updated_at": "2025-06-30T07:20:59+00:00",
        "closed_at": "2025-06-30T07:20:59+00:00",
        "comments_count": [
            "KPatr1ck",
            "gzwzzu",
            "KPatr1ck",
            "gzwzzu",
            "KPatr1ck",
            "gzwzzu"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1172,
        "title": "执行hub命令时，报错：ImportError: cannot import name 'main' from 'paddlehub.commands.hub",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.0.0b，PaddlePaddle2.0.0rc\r\n2）系统环境：centos7.5，python版本：3.7.9\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n非root用户下执行：hub，报如下错误：\r\n`[tester@localhost ~]$ hub\r\n/home/tester/.local/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/home/tester/.local/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/hub\", line 7, in <module>\r\n    from paddlehub.commands.hub import main\r\nImportError: cannot import name 'main' from 'paddlehub.commands.hub' (/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/hub.py)\r\n`",
        "state": "closed",
        "user": "fociceo",
        "closed_by": "WYB27",
        "created_at": "2021-01-06T09:24:22+00:00",
        "updated_at": "2025-06-30T07:20:55+00:00",
        "closed_at": "2025-06-30T07:20:55+00:00",
        "comments_count": [
            "haoyuying",
            "fociceo"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1166,
        "title": "用提供的文本分类数据调用CUDA出错",
        "body": "**环境 CUDA11 paddle2.0.0 paddlehub1.8   使用ernie_tiny 模型加载CUDA训练提示无法启用CUDA，我的CUDA是正常的，之前用过portch+CUDA运行过。是GTX960.**\r\n**报错提示为**：\r\n` File \"D:\\software\\python3.7.9\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 427, in cuda_places\r\n    \"Not compiled with CUDA\"\r\nAssertionError: Not compiled with CUDA\r\n`\r\n**我在framework.py 这个文件的第349行这么写的：**\r\n`\r\ndef _cuda_ids():\r\n    gpus_env = os.getenv('FLAGS_selected_gpus=0,')\r\n    if gpus_env:\r\n        device_ids = [int(s) for s in gpus_env.split(\",\")]\r\n    else:\r\n        device_ids = six.moves.range(core.get_cuda_device_count())\r\n    return device_ids\r\n`\r\n**下边判断的函数：**\r\n`def cuda_places(device_ids=None):` \r\n这样的。请问我就一个卡 无论怎么改还是提示错误\r\n",
        "state": "closed",
        "user": "hdyzhuxun",
        "closed_by": "WYB27",
        "created_at": "2021-01-05T10:03:30+00:00",
        "updated_at": "2025-06-30T07:20:57+00:00",
        "closed_at": "2025-06-30T07:20:57+00:00",
        "comments_count": [
            "KPatr1ck",
            "hdyzhuxun",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1174,
        "title": "PaddleHub 关键点检测不能用gpu预测",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub 1.8.3 PaddlePaddle 1.8.5\r\n2）win10  Python 3.7.9\r\n\r\n调用paddlehub中关键点检测模型human_pose_estimation_resnet50_mpii，使用keypoint_detection进行预测的时候，不能使用**use_gpu**预测，报错提示**AttributeError: 'HumanPoseEstimation' object has no attribute 'gpu_predictor'**\r\n\r\n根据官网上的说明，API的参数中是有use_gpu这个选项\r\n`\r\ndef keypoint_detection(self,\r\n                       images=None,\r\n                       paths=None,\r\n                       batch_size=1,\r\n                       use_gpu=False,\r\n                       output_dir='output_pose',\r\n                       visualization=False)\r\n`\r\n\r\n所以想问一下这个函数怎样才能使用gpu进行预测\r\n",
        "state": "closed",
        "user": "CHENBIN99",
        "closed_by": "CHENBIN99",
        "created_at": "2021-01-06T15:17:36+00:00",
        "updated_at": "2023-03-02T09:13:42+00:00",
        "closed_at": "2021-09-02T08:46:40+00:00",
        "comments_count": [
            "yeyupiaoling",
            "yeyupiaoling",
            "yeyupiaoling",
            "CHENBIN99",
            "yeyupiaoling",
            "CHENBIN99",
            "iwanglei1"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1175,
        "title": "AttributeError: module 'paddle' has no attribute 'Tensor'",
        "body": "ocr = hub.Module(name=\"chinese_ocr_db_crnn_mobile\") #加载移动端预训练模型\r\n这句会报错：\r\nTraceback (most recent call last):\r\n  File \"1.py\", line 19, in <module>\r\n    import paddlehub as hub\r\n  File \"/home/ycc/PaddleHub-release-v2.0.0-rc/paddlehub/__init__.py\", line 24, in <module>\r\n    from paddlehub import datasets\r\n  File \"/home/ycc/PaddleHub-release-v2.0.0-rc/paddlehub/datasets/__init__.py\", line 15, in <module>\r\n    from paddlehub.datasets.canvas import Canvas\r\n  File \"/home/ycc/PaddleHub-release-v2.0.0-rc/paddlehub/datasets/canvas.py\", line 23, in <module>\r\n    from paddlehub.vision.utils import get_img_file\r\n  File \"/home/ycc/PaddleHub-release-v2.0.0-rc/paddlehub/vision/utils.py\", line 159, in <module>\r\n    def subtract_imagenet_mean_batch(batch: paddle.Tensor) -> paddle.Tensor:\r\nAttributeError: module 'paddle' has no attribute 'Tensor'\r\n",
        "state": "closed",
        "user": "yancccc",
        "closed_by": "WYB27",
        "created_at": "2021-01-07T06:08:22+00:00",
        "updated_at": "2025-06-30T07:20:53+00:00",
        "closed_at": "2025-06-30T07:20:53+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1182,
        "title": "11",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "githubcodecode",
        "closed_by": "githubcodecode",
        "created_at": "2021-01-12T15:14:26+00:00",
        "updated_at": "2021-01-12T15:22:15+00:00",
        "closed_at": "2021-01-12T15:19:56+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1180,
        "title": "PaddleHub/demo/sentence_similarity/sensim.py  demo文件报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "fanqie-will",
        "closed_by": "fanqie-will",
        "created_at": "2021-01-12T08:45:15+00:00",
        "updated_at": "2021-01-12T09:57:33+00:00",
        "closed_at": "2021-01-12T09:57:21+00:00",
        "comments_count": [
            "fanqie-will"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1181,
        "title": "paddlehub无法使用多gpu训练",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.8.5，PaddlePaddle1.8.1\r\n2）系统环境：请您描述系统类型：Linux centos7.7，python3.7\r\n- 复现信息：使用paddlehub进行ernie训练，想使用多个gpu，因为我服务器上有八块gpu。\r\n- 1. 指定 os.environ['CUDA_VISIBLE_DEVICES']=\"0,,1,2,3,4,5,6,7\"\r\n- 2.在RunConfig中设置： use_cuda=True,use_data_parallel=True\r\n- 发现始终只会使用第一块显卡，其他的都未使用。\r\n![1](https://user-images.githubusercontent.com/16450829/104318862-f736b380-551a-11eb-97f0-ffc9169a30a6.jpg)\r\n\r\n",
        "state": "closed",
        "user": "jane96",
        "closed_by": "jane96",
        "created_at": "2021-01-12T13:10:36+00:00",
        "updated_at": "2023-11-20T07:01:07+00:00",
        "closed_at": "2021-01-12T13:27:02+00:00",
        "comments_count": [
            "jane96",
            "lixiaosa2",
            "hjj-lmx"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1184,
        "title": "无法识别在透明背景下的文字",
        "body": "当文字背景是透明的时候，无法识别\r\n换成非透明背景的图片，可以正常的识别\r\n\r\n透明背景的图片：\r\ndata:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAAeCAYAAABkDeOuAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGSSURBVGhD7ZWBjcMgDEUzXge6cW6XW6WbtPwKo+LaxiRGcCpPQlX58Tc2hByMR/7V+HZ9E8XqOz1b33hZfSdn65soUqd/0ng0xi0NEW2eMHT4IrfJbH/Obwq4I0gIRLI/RbsCPF3FnCTGXwiGcTk5TEcTq1PFdID4sihBr8jPohCxGP6f49Av+bfQTg5OnKa9UzXLARUhFhPAOH/DDMnUu4pIutksNk/PwtdVTKce7u/Be6qA92ThGfJ0F9NBvH8rOOsfdxUhzFXNkmIyWDzpajH8P8fQQ/x7QQLr64hFeMZ7PG++Vgwaz32kwdfn9b+GYIbEeA1fWitZ0s3XMM3Dq/hl3MU49KH+Fmd2xGoW/KRTGrXzY/0bwdghJFGfE+atO4v8WqMUjGHB9HD/HujO6DE1X0OFqJOlMcafmdFOlPlWsqS37iwJdzEn9TB/DUpQNWsQ/+NkGcGuZhnxL5w6ikAe/hWb7t9Ds1kXoTuRj4+iTjLWv2Xw7frGy+o7OVvfRLH6Ts/WN15W38nZ+sbHcTwBEJAnE/zLG8UAAAAASUVORK5CYII=\r\n\r\n非透明配置的图片:\r\ndata:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA+Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2OTApLCBkZWZhdWx0IHF1YWxpdHkK/9sAQwAIBgYHBgUIBwcHCQkICgwUDQwLCwwZEhMPFB0aHx4dGhwcICQuJyAiLCMcHCg3KSwwMTQ0NB8nOT04MjwuMzQy/9sAQwEJCQkMCwwYDQ0YMiEcITIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy/8AAEQgAHgBLAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A9xrmofHvh+4006lDNfyWARnNymmXJiCrncd3l4wMHPpg10tee+K4rKCDQ/h1opSxXU22yrC+1orRMvJggk732sAWDBvn3dzXThYU5y5Zpv52sldt7MJNrY7jTdRttX06DULJne2nXfE7xNGWXscMAcHqDjkYI4NWqy7i7l0rybOx8P3lxbRxKENmbdI4wOAgDyKRgAdBjBH4cX8J9Ue1+HWlxz6fcRWUS3Dyai8kKwIolkYk5k3gDpnb19uaPq0pUnVjtfuvPz8u2vYObWx2+t69pfhzTW1DV7xLW2DBN7Aklj0AUAknqcAdAT0BrRrwL4ty3HiDw9b+JnaaPThe/ZdLheER+ZC0TM87Zyx3sg2g7flUHHzZr2y/1G6s51jg0W/vlK7jLbvAFByeP3kinPGemOetaVcJyU4OL95819kla2mtu+vnp0EpXbNGs7W9e0vw5prahq94lrbBgm9gSSx6AKAST1OAOgJ6A1BFrk+4te6JfafaorPLdXU1sIolUEksVlJA464+uBzXjXxbluPEHh638TO00enC9+y6XC8Ij8yFomZ52zljvZBtB2/KoOPmzTwmD9pWUKrsvKz3vZLVrp8lr2CUrK6PfaKKK4CwrkLfSNZ/4W1da1cQQf2V/ZItLaaN/mz5iuVcE53Z3nIGMbe+a6+itaVZ0uay+JNffb/ITVwrH0Lwzp+geGYvD8Ie5sY1kQrdbXLq7MzBsAAj5iMY6VsUVCnJLlT0A8q+JvgRtT0q2sfCvhW2juVnWaS6t0t4F2bXUpncrE5KnGMdOcivSNIihg0uGODS/wCy4hu22e2NfL+Y9oyV568HvzzmrtFdNXGVKtKNKetm3e7e/q2v68xKKTuMmhiuYJIJ4klhlUpJHIoZXUjBBB4II7V5b8TfAjanpVtY+FfCttHcrOs0l1bpbwLs2upTO5WJyVOMY6c5Feq0VOFxdTDVFOD26XaXzs1cJRUlZlLSIoYNLhjg0v8AsuIbttntjXy/mPaMleevB7885q7RRWEpc0m31KP/2Q==",
        "state": "closed",
        "user": "jinhan1414",
        "closed_by": "WYB27",
        "created_at": "2021-01-13T07:05:25+00:00",
        "updated_at": "2025-06-30T07:20:49+00:00",
        "closed_at": "2025-06-30T07:20:49+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1183,
        "title": "调用hub api，通过gpu方式进行计算，为什么gpu性能最高能达到43%  访问频率大了就连接不上了，是http连接数限制吗？win10上的http连接数限制已经去掉了。",
        "body": null,
        "state": "closed",
        "user": "meishitouzhele",
        "closed_by": "WYB27",
        "created_at": "2021-01-13T03:03:02+00:00",
        "updated_at": "2025-06-30T07:20:51+00:00",
        "closed_at": "2025-06-30T07:20:51+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1185,
        "title": "无法识别在透明背景下的文字",
        "body": "当文字背景是透明的时候，无法识别\r\n换成非透明背景的图片，可以正常的识别\r\n\r\n透明背景的图片：\r\ndata:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAAeCAYAAABkDeOuAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAGSSURBVGhD7ZWBjcMgDEUzXge6cW6XW6WbtPwKo+LaxiRGcCpPQlX58Tc2hByMR/7V+HZ9E8XqOz1b33hZfSdn65soUqd/0ng0xi0NEW2eMHT4IrfJbH/Obwq4I0gIRLI/RbsCPF3FnCTGXwiGcTk5TEcTq1PFdID4sihBr8jPohCxGP6f49Av+bfQTg5OnKa9UzXLARUhFhPAOH/DDMnUu4pIutksNk/PwtdVTKce7u/Be6qA92ThGfJ0F9NBvH8rOOsfdxUhzFXNkmIyWDzpajH8P8fQQ/x7QQLr64hFeMZ7PG++Vgwaz32kwdfn9b+GYIbEeA1fWitZ0s3XMM3Dq/hl3MU49KH+Fmd2xGoW/KRTGrXzY/0bwdghJFGfE+atO4v8WqMUjGHB9HD/HujO6DE1X0OFqJOlMcafmdFOlPlWsqS37iwJdzEn9TB/DUpQNWsQ/+NkGcGuZhnxL5w6ikAe/hWb7t9Ds1kXoTuRj4+iTjLWv2Xw7frGy+o7OVvfRLH6Ts/WN15W38nZ+sbHcTwBEJAnE/zLG8UAAAAASUVORK5CYII=\r\n\r\n非透明配置的图片:\r\ndata:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA+Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2OTApLCBkZWZhdWx0IHF1YWxpdHkK/9sAQwAIBgYHBgUIBwcHCQkICgwUDQwLCwwZEhMPFB0aHx4dGhwcICQuJyAiLCMcHCg3KSwwMTQ0NB8nOT04MjwuMzQy/9sAQwEJCQkMCwwYDQ0YMiEcITIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy/8AAEQgAHgBLAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A9xrmofHvh+4006lDNfyWARnNymmXJiCrncd3l4wMHPpg10tee+K4rKCDQ/h1opSxXU22yrC+1orRMvJggk732sAWDBvn3dzXThYU5y5Zpv52sldt7MJNrY7jTdRttX06DULJne2nXfE7xNGWXscMAcHqDjkYI4NWqy7i7l0rybOx8P3lxbRxKENmbdI4wOAgDyKRgAdBjBH4cX8J9Ue1+HWlxz6fcRWUS3Dyai8kKwIolkYk5k3gDpnb19uaPq0pUnVjtfuvPz8u2vYObWx2+t69pfhzTW1DV7xLW2DBN7Aklj0AUAknqcAdAT0BrRrwL4ty3HiDw9b+JnaaPThe/ZdLheER+ZC0TM87Zyx3sg2g7flUHHzZr2y/1G6s51jg0W/vlK7jLbvAFByeP3kinPGemOetaVcJyU4OL95819kla2mtu+vnp0EpXbNGs7W9e0vw5prahq94lrbBgm9gSSx6AKAST1OAOgJ6A1BFrk+4te6JfafaorPLdXU1sIolUEksVlJA464+uBzXjXxbluPEHh638TO00enC9+y6XC8Ij8yFomZ52zljvZBtB2/KoOPmzTwmD9pWUKrsvKz3vZLVrp8lr2CUrK6PfaKKK4CwrkLfSNZ/4W1da1cQQf2V/ZItLaaN/mz5iuVcE53Z3nIGMbe+a6+itaVZ0uay+JNffb/ITVwrH0Lwzp+geGYvD8Ie5sY1kQrdbXLq7MzBsAAj5iMY6VsUVCnJLlT0A8q+JvgRtT0q2sfCvhW2juVnWaS6t0t4F2bXUpncrE5KnGMdOcivSNIihg0uGODS/wCy4hu22e2NfL+Y9oyV568HvzzmrtFdNXGVKtKNKetm3e7e/q2v68xKKTuMmhiuYJIJ4klhlUpJHIoZXUjBBB4II7V5b8TfAjanpVtY+FfCttHcrOs0l1bpbwLs2upTO5WJyVOMY6c5Feq0VOFxdTDVFOD26XaXzs1cJRUlZlLSIoYNLhjg0v8AsuIbttntjXy/mPaMleevB7885q7RRWEpc0m31KP/2Q==",
        "state": "closed",
        "user": "jinhan1414",
        "closed_by": "WYB27",
        "created_at": "2021-01-13T07:06:41+00:00",
        "updated_at": "2025-06-30T07:20:47+00:00",
        "closed_at": "2025-06-30T07:20:47+00:00",
        "comments_count": [
            "jinhan1414",
            "ShenYuhan",
            "jinhan1414"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1186,
        "title": "服务端部署完毕以后，能否返回base64编码格式的识别图片？",
        "body": "https://www.paddlepaddle.org.cn/hub/scene/ocr\r\n官网这里上传图片进行OCR以后，会返回识别以后用红框标注的base64编码的图片。我在本地部署以后，返回的只有识别结果，没有base64编码的图片",
        "state": "closed",
        "user": "ghost",
        "closed_by": null,
        "created_at": "2021-01-13T12:25:00+00:00",
        "updated_at": "2021-01-14T02:34:45+00:00",
        "closed_at": "2021-01-14T02:34:45+00:00",
        "comments_count": [
            "ShenYuhan",
            "ghost"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1187,
        "title": "pyramidbox_lite_server_mask在某些图片检测时会出现ValueError: need at least one array to concatenate",
        "body": "在对某些图像进行人脸检测时，如果使用use_multi_scale=True，就会出现错误，具体如下\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 2963, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-2-98907cf19a25>\", line 1, in <module>\r\n    runfile('F:/Model/venv/PaddleHub.py', wdir='F:/Model/venv')\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm 2018.3.3\\helpers\\pydev\\_pydev_bundle\\pydev_umd.py\", line 197, in runfile\r\n    pydev_imports.execfile(filename, global_vars, local_vars)  # execute the script\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm 2018.3.3\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"F:/Model/venv/PaddleHub.py\", line 43, in <module>\r\n    results = module.face_detection(images=imgs, batch_size=1, use_multi_scale=True, shrink=1, visualization=False, output_dir='detection_result', use_gpu=True)\r\n  File \"C:\\Users\\garde\\.paddlehub\\modules\\pyramidbox_lite_server_mask\\module.py\", line 127, in face_detection\r\n    images, paths, use_gpu, use_multi_scale):\r\n  File \"C:\\Users\\garde\\.paddlehub\\modules\\pyramidbox_lite_server_mask\\data_feed.py\", line 183, in reader\r\n    scale_res = np.row_stack(scale_res)\r\n  File \"<__array_function__ internals>\", line 6, in vstack\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\numpy\\core\\shape_base.py\", line 283, in vstack\r\n    return _nx.concatenate(arrs, 0)\r\n  File \"<__array_function__ internals>\", line 6, in concatenate\r\nValueError: need at least one array to concatenate\r\n```\r\n但是在进行其他图像处理的时候，就不会出错，一开始以为是因为图像中检测不出人脸，但是后来专门选了一个没有人脸的景色图像处理了一下，发现没有bug。很奇怪。\r\n\r\n测试图像\r\n```\r\n链接：https://pan.baidu.com/s/1RYIAK1Vj6AmiowrcBrx8Zg \r\n提取码：ysep \r\n复制这段内容后打开百度网盘手机App，操作更方便哦--来自百度网盘超级会员V2的分享\r\n```\r\n",
        "state": "closed",
        "user": "gardenofever",
        "closed_by": "WYB27",
        "created_at": "2021-01-13T15:53:46+00:00",
        "updated_at": "2025-06-30T07:20:45+00:00",
        "closed_at": "2025-06-30T07:20:45+00:00",
        "comments_count": [
            "haoyuying",
            "gardenofever"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1188,
        "title": "求问怎么基于安装模型做finetune",
        "body": "比如通过hub install deeplabv3p_xception65_humanseg==1.1.1安装了deeplabv3p_xception65_humanseg，想对它进行finetune。\r\n多谢！",
        "state": "closed",
        "user": "juzuo",
        "closed_by": "WYB27",
        "created_at": "2021-01-14T06:05:17+00:00",
        "updated_at": "2025-06-30T07:20:44+00:00",
        "closed_at": "2025-06-30T07:20:44+00:00",
        "comments_count": [
            "juzuo",
            "haoyuying",
            "juzuo",
            "haoyuying",
            "juzuo",
            "haoyuying",
            "juzuo"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1189,
        "title": "paddlehub 口罩检测pyramidbox_lite_mobile_face_detection如何使用gpu，以及如何将hub改成识别一个视频流而不是单张图片",
        "body": "paddlehub 口罩检测pyramidbox_lite_mobile_face_detection如何使用gpu，以及如何将hub改成识别一个视频流而不是单张图片",
        "state": "closed",
        "user": "Sunyingbin",
        "closed_by": "Sunyingbin",
        "created_at": "2021-01-14T06:53:57+00:00",
        "updated_at": "2021-01-19T08:10:01+00:00",
        "closed_at": "2021-01-19T08:10:01+00:00",
        "comments_count": [
            "haoyuying",
            "Sunyingbin",
            "haoyuying",
            "Sunyingbin",
            "haoyuying",
            "Sunyingbin",
            "haoyuying",
            "Sunyingbin",
            "haoyuying",
            "haoyuying",
            "Sunyingbin",
            "haoyuying",
            "Sunyingbin",
            "haoyuying",
            "Sunyingbin",
            "haoyuying",
            "Sunyingbin"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1190,
        "title": "paddlehub label是如何添加上的",
        "body": "你好，我看了一下，paddlehub的那个代码，返回的results里有label属性，但是在processor里面没有看到属性赋值",
        "state": "closed",
        "user": "Sunyingbin",
        "closed_by": "Sunyingbin",
        "created_at": "2021-01-14T10:21:38+00:00",
        "updated_at": "2021-01-19T08:50:23+00:00",
        "closed_at": "2021-01-19T08:50:23+00:00",
        "comments_count": [
            "haoyuying",
            "Sunyingbin",
            "haoyuying",
            "Sunyingbin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1191,
        "title": "paddlehub gpu运行报错",
        "body": " _places = os.environ[\"CUDA_VISIBLE_DEVICES\"]\r\n int(_places[0])\r\n                \r\n用use_gpu报错了，请问是怎么回事呢\r\npyramidbox_lite_mobile_mask 1.2.0\r\npaddlepaddle-gpu 2.0.0rc0\r\npaddlehub 2.0.0b2\r\n\r\n",
        "state": "closed",
        "user": "Sunyingbin",
        "closed_by": "Sunyingbin",
        "created_at": "2021-01-15T06:58:11+00:00",
        "updated_at": "2021-01-19T08:08:24+00:00",
        "closed_at": "2021-01-19T08:08:24+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1192,
        "title": "使用pyinstaller打包运行的时候，会开启几十个进程",
        "body": "PaddleHub1.8.3    PaddlePaddle1.8.5  \r\npyinstaller 4.0\r\n你好，使用pyinstaller打包后，假如打包后的exe叫test.exe，运行这个exe，会出现几十个test.exe进程\r\n并且只import paddlehub，打包运行就会出现这种情况\r\n可以帮忙解决一下吗",
        "state": "closed",
        "user": "zhengzhanghai",
        "closed_by": "WYB27",
        "created_at": "2021-01-15T07:42:47+00:00",
        "updated_at": "2025-06-30T07:20:42+00:00",
        "closed_at": "2025-06-30T07:20:42+00:00",
        "comments_count": [
            "KPatr1ck",
            "zhengzhanghai",
            "KPatr1ck",
            "zhengzhanghai",
            "mujinbao",
            "zhengzhanghai",
            "KPatr1ck",
            "iceriver97",
            "iceriver97",
            "iceriver97",
            "iceriver97"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1193,
        "title": "求问怎么把安装模型转化成model.pdparams或者__model__这样的单个文件",
        "body": "我用这个命令安装了模型：\r\nhub install deeplabv3p_xception65_humanseg==1.1.1\r\n安装了模型，然后发现/home/aistudio/.paddlehub/modules/deeplabv3p_xception65_humanseg/deeplabv3p_xception65_humanseg_model下面是一堆小文件，请问能把这些小文件合成单个模型文件吗？比如合成model.pdparams或者__model__这样的单个文件。\r\n\r\n多谢！",
        "state": "closed",
        "user": "juzuo",
        "closed_by": "WYB27",
        "created_at": "2021-01-15T10:40:57+00:00",
        "updated_at": "2025-06-30T07:20:40+00:00",
        "closed_at": "2025-06-30T07:20:40+00:00",
        "comments_count": [
            "haoyuying",
            "juzuo",
            "juzuo",
            "haoyuying",
            "juzuo",
            "juzuo"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1194,
        "title": "怎么把weights里的值打印出来？",
        "body": "我用这个命令安装了模型：\r\nhub install deeplabv3p_xception65_humanseg==1.1.1\r\n然后发现/home/aistudio/.paddlehub/modules/deeplabv3p_xception65_humanseg/deeplabv3p_xception65_humanseg_model下面是一堆小文件，我猜应该是weights。请问怎么能把这些小文件里的值打印出来？\r\n新手，轻拍。\r\n多谢！",
        "state": "closed",
        "user": "juzuo",
        "closed_by": "WYB27",
        "created_at": "2021-01-15T12:37:36+00:00",
        "updated_at": "2025-06-30T07:20:38+00:00",
        "closed_at": "2025-06-30T07:20:38+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1195,
        "title": "请问有没有动态图预发布模型转hub模型的示例,我这边想把模型转成hub模型后使用hub serving",
        "body": "当前已经训练完成了动态图的预发布模型，但是现在一直没有找到关于动态图预发布模型转hub模型的样例，用老的版本教程是提示报错的",
        "state": "closed",
        "user": "Simba9980",
        "closed_by": "Simba9980",
        "created_at": "2021-01-16T06:17:39+00:00",
        "updated_at": "2021-01-26T06:08:40+00:00",
        "closed_at": "2021-01-26T06:08:40+00:00",
        "comments_count": [
            "haoyuying",
            "Simba9980",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1196,
        "title": "hub本地预测不能使用多卡",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nubuntu18.04  python3.7.7 paddlehub     1.6.2              paddlepaddle-gpu       1.8.1.post107 \r\n\r\n使用paddlehub本地预测的时候\r\n指定os.environ[\"CUDA_VISIBLE_DEVICES\"] = '0,1'\r\n object_detector = hub.Module(name=\"yolov3_darknet53_coco2017\")\r\nresults = object_detector.object_detection(images=[frame_start],use_gpu=True)\r\n\r\n但是预测过程中，都是使用的0号GPU ，没有使用另外一块， 是什么问题？\r\n\r\n\r\n",
        "state": "closed",
        "user": "xiaomujiang",
        "closed_by": "WYB27",
        "created_at": "2021-01-18T02:51:25+00:00",
        "updated_at": "2025-06-30T07:20:36+00:00",
        "closed_at": "2025-06-30T07:20:36+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1197,
        "title": "安装语音合成包 transformer_tts_ljspeech 报错提示ImportError: cannot import name 'DataFormatError'",
        "body": "操作系统：Linux\r\n发行版：CentOS Linux release 7.9.2009 (Core)\r\npython: Python 3.6.8 (default, Nov 16 2020, 16:55:22)\r\npaddle：\r\npaddlehub           2.0.0rc0\r\npaddlenlp           2.0.0b2\r\npaddlepaddle        2.0.0rc1\r\n\r\n安装命令：\r\nhub install transformer_tts_ljspeech==1.0.0\r\n报错信息：\r\n==================================================\r\nRecord at 2021-01-18 13:09:22\r\n==================================================\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/site-packages/paddlehub/module/manager.py\", line 222, in search\r\n    module = self._local_modules[name] = HubModule.load(module_dir)\r\n  File \"/usr/local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 195, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"/usr/local/lib/python3.6/site-packages/paddlehub/utils/utils.py\", line 249, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"/usr/lib64/python3.6/importlib/__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 665, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 678, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/transformer_tts_ljspeech/module.py\", line 26, in <module>\r\n    from paddlehub.module.nlp_module import DataFormatError\r\nImportError: cannot import name 'DataFormatError'",
        "state": "closed",
        "user": "dongzitai",
        "closed_by": "WYB27",
        "created_at": "2021-01-18T05:10:27+00:00",
        "updated_at": "2025-06-30T07:20:34+00:00",
        "closed_at": "2025-06-30T07:20:34+00:00",
        "comments_count": [
            "KPatr1ck",
            "dongzitai"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1198,
        "title": "hub 下载的 默认轻量级的 文字推理模型。有时候会很慢，有时候很快，运行时间越久，慢的越多。",
        "body": "1.系统centos7\r\n2.anaconda python3.7 \r\n3.环境paddleocr paddlehub\r\n4.6核 i9 CPU\r\n5.参数设置了8个线程\r\n6.刚开始运行会比较快，但是时间运行久了就会变慢，这时候重启也没用。",
        "state": "closed",
        "user": "Nagisakurumi",
        "closed_by": "WYB27",
        "created_at": "2021-01-18T08:15:08+00:00",
        "updated_at": "2025-06-30T07:20:32+00:00",
        "closed_at": "2025-06-30T07:20:32+00:00",
        "comments_count": [
            "KPatr1ck",
            "Nagisakurumi",
            "KPatr1ck",
            "Nagisakurumi"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1201,
        "title": "paddlehub 2.0 版本安装出现错误，怎么解决",
        "body": "[2021-01-19 16:43:40,561] [ WARNING] - An error was encountered while loading ernie_gen_couplet. Detailed error information can be found in the /home/pby231/.paddlehub/log/20210119.log.\r\n[2021-01-19 16:43:40,562] [ WARNING] - An error was encountered while loading ernie_gen_couplet. Detailed error information can be found in the /home/pby231/.paddlehub/log/20210119.log.\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/ernie_gen_couplet.tar.gz\r\n[##################################################] 100.00%\r\nDecompress /home/pby231/.paddlehub/tmp/tmpfuaqj0eg/ernie_gen_couplet.tar.gz\r\n[##################################################] 100.00%\r\n[2021-01-19 16:44:48,797] [    INFO] - Successfully uninstalled ernie_gen_couplet\r\nTraceback (most recent call last):\r\n  File \"anli.py\", line 28, in <module>\r\n    module_similar = hub.Module(name=\"ernie_gen_couplet\") # 调用对联生成的模型\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/module.py\", line 171, in __new__\r\n    module = cls.init_with_name(\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/module.py\", line 263, in init_with_name\r\n    user_module_cls = manager.install(name=name, version=version, source=source, update=update, branch=branch)\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 188, in install\r\n    return self._install_from_name(name, version)\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 263, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 256, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 361, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 345, in _install_from_directory\r\n    hub_module_cls = HubModule.load(self._get_normalized_path(module_info.name))\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/module.py\", line 195, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/utils/utils.py\", line 249, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"/opt/anaconda3/lib/python3.8/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 783, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/home/pby231/.paddlehub/modules/ernie_gen_couplet/module.py\", line 21, in <module>\r\n    from paddlehub.module.nlp_module import DataFormatError\r\nImportError: cannot import name 'DataFormatError' from 'paddlehub.module.nlp_module' (/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/nlp_module.py)\r\n",
        "state": "closed",
        "user": "pby231",
        "closed_by": "WYB27",
        "created_at": "2021-01-19T08:51:24+00:00",
        "updated_at": "2025-06-30T07:20:30+00:00",
        "closed_at": "2025-06-30T07:20:30+00:00",
        "comments_count": [
            "pby231",
            "Cy6er7um"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1202,
        "title": "通过离线量化产出的推理模型为何不可以进行paddlehub封装？？？？？？求哥哥姐姐们传授一下经验？",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n\r\nimport os\r\nimport cv2\r\nimport os.path as osp\r\nimport tqdm\r\nimport numpy as np\r\nfrom paddle.fluid.core import AnalysisConfig, PaddleTensor\r\nfrom paddle.fluid.core import create_paddle_predictor\r\n\r\n#设置模型的路径\r\nmodel = \"/home/aistudio/HumanSeg/koutu/HumanSeg/out/out1/model\"\r\nparams = \"/home/aistudio/HumanSeg/koutu/HumanSeg/out/out1/params\"\r\n#使用AnalysisConfig对模型进行配置\r\nconfig = AnalysisConfig(model,params)\r\nconfig.disable_gpu() #关闭GPU使用CPU进行推理\r\nconfig.enable_mkldnn() #启用MKLDNN加速\r\nconfig.disable_glog_info() #禁用预测中的glog日志\r\nconfig.switch_use_feed_fetch_ops() #删去feed 和 fetchops op\r\n\r\n#使用create_paddle_predictor创建模型预测器。\r\npredictor = create_paddle_predictor(config)\r\n#获取模型的输入输出向量\r\ninput_names = predictor.get_input_names()\r\noutput_names = predictor.get_output_names()\r\ninput_tensor = predictor.get_input_tensor(input_names[0])\r\noutput_tensor = predictor.get_output_tensor(output_names[0])\r\n#准备输入数据\r\ninputs = np.random.randn(1,3,600,800).astype(\"float32\")\r\ninput_tensor.copy_from_cpu(inputs)\r\n#运行预测器执行前向运算\r\npredictor.zero_copy_run()\r\n#获取输出数据\r\noutput_data = output_tensor.copy_to_cpu()\r\nprint(output_data)\r\n\r\nInvalidArgumentError: The column index of current feeding variable is expected to be less than the length of feeding list. But received column index = 0, the length of feeding list = 0\r\n[Hint: Expected static_cast<size_t>(col) < feed_list.size(), but received static_cast<size_t>(col):0 >= feed_list.size():0.] at (D:\\1.8.5\\paddle\\paddle\\fluid\\operators\\controlflow\\feed_op.cc:68)\r\n[operator < feed > error]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "sunhufei",
        "closed_by": "WYB27",
        "created_at": "2021-01-20T03:50:55+00:00",
        "updated_at": "2025-06-30T07:20:27+00:00",
        "closed_at": "2025-06-30T07:20:27+00:00",
        "comments_count": [
            "jiweibo",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1203,
        "title": "paddlehub1.8在finetune时报错“ZeroDivisionError: float division by zero”",
        "body": "#904 跟904楼问题差不多，按照904帖子内容改过了，还是出问题\r\n@Steffy-zxf\r\n因为paddlehub1.8改变了finetune的调用方式，因此已经按照相关帖子进行了更改，在调用系统自动下载的数据集时\r\ndataset = hub.dataset.MSRA_NER(tokenizer=tokenizer, max_seq_len=128)没问题，一旦切换到自定义的数据集，就会报ZeroDivisionError: float division by zero\r\n自定义数据集的序列标注finetune代码如下，是有什么问题吗？能看下吗？官方能否出一个序列标注自定义数据集完整demo\r\n\r\n```python\r\n\r\nimport argparse\r\nimport ast\r\nimport json\r\nimport numpy as np\r\nimport paddle.fluid as fluid\r\nimport paddlehub as hub\r\nfrom paddlehub.dataset.base_nlp_dataset import BaseNLPDataset\r\nfrom paddlehub.dataset import InputExample\r\nfrom data_process import data_process\r\nfrom data_process import schema_process\r\nfrom data_process import write_by_lines\r\nimport sys\r\nimport csv\r\nimport codecs\r\ncsv.field_size_limit(sys.maxsize)\r\n# yapf: disable\r\nparser = argparse.ArgumentParser(__doc__)\r\nparser.add_argument(\"--num_epoch\", type=int, default=3, help=\"Number of epoches for fine-tuning.\")\r\nparser.add_argument(\"--use_gpu\", type=ast.literal_eval, default=True, help=\"Whether use GPU for finetuning, input should be True or False\")\r\nparser.add_argument(\"--learning_rate\", type=float, default=5e-5, help=\"Learning rate used to train with warmup.\")\r\nparser.add_argument(\"--data_dir\", type=str, default=None, help=\"data save dir\")\r\nparser.add_argument(\"--schema_path\", type=str, default=None, help=\"schema path\")\r\nparser.add_argument(\"--train_data\", type=str, default=None, help=\"train data\")\r\nparser.add_argument(\"--dev_data\", type=str, default=None, help=\"dev data\")\r\nparser.add_argument(\"--test_data\", type=str, default=None, help=\"test data\")\r\nparser.add_argument(\"--predict_data\", type=str, default=None, help=\"predict data\")\r\nparser.add_argument(\"--do_train\", type=ast.literal_eval, default=False, help=\"do train\")\r\nparser.add_argument(\"--do_predict\", type=ast.literal_eval, default=True, help=\"do predict\")\r\nparser.add_argument(\"--do_model\", type=str, default=\"trigger\", choices=[\"trigger\", \"role\"], help=\"trigger or role\")\r\nparser.add_argument(\"--weight_decay\", type=float, default=0.01, help=\"Weight decay rate for L2 regularizer.\")\r\nparser.add_argument(\"--warmup_proportion\", type=float, default=0.1, help=\"Warmup proportion params for warmup strategy\")\r\nparser.add_argument(\"--max_seq_len\", type=int, default=512, help=\"Number of words of the longest seqence.\")\r\nparser.add_argument(\"--eval_step\", type=int, default=200, help=\"eval step\")\r\nparser.add_argument(\"--model_save_step\", type=int, default=3000, help=\"model save step\")\r\nparser.add_argument(\"--batch_size\", type=int, default=32, help=\"Total examples' number in batch for training.\")\r\nparser.add_argument(\"--add_crf\", type=ast.literal_eval, default=True, help=\"add crf\")\r\nparser.add_argument(\"--checkpoint_dir\", type=str, default=None, help=\"Directory to model checkpoint\")\r\nparser.add_argument(\"--use_data_parallel\", type=ast.literal_eval, default=False, help=\"Whether use data parallel.\")\r\nargs = parser.parse_args()\r\n# yapf: enable.\r\n\r\n# 先把数据处理好保存下来\r\ntrain_data = data_process(args.train_data, args.do_model)  # 处理训练数据\r\ndev_data = data_process(args.dev_data, args.do_model) # 处理dev数据\r\ntest_data = data_process(args.test_data, args.do_model)\r\npredict_sents, predict_data = data_process(args.predict_data, args.do_model, is_predict=True)\r\n\r\nwrite_by_lines(\"{}/{}_train.tsv\".format(args.data_dir, args.do_model), train_data)\r\nwrite_by_lines(\"{}/{}_dev.tsv\".format(args.data_dir, args.do_model), dev_data)\r\nwrite_by_lines(\"{}/{}_test.tsv\".format(args.data_dir, args.do_model), test_data)\r\nwrite_by_lines(\"{}/{}_predict.tsv\".format(args.data_dir, args.do_model), predict_data)\r\n\r\nschema_labels = schema_process(args.schema_path, args.do_model)\r\nclass EEDataset(BaseNLPDataset):\r\n    \"\"\"EEDataset\"\"\"\r\n    def __init__(self, data_dir, labels, tokenizer=None,max_seq_len=None,model=\"trigger\"):\r\n        # 数据集存放位置\r\n        base_path = data_dir\r\n        super(EEDataset, self).__init__(\r\n            base_path=base_path,\r\n            train_file=\"{}_train.tsv\".format(model),\r\n            dev_file=\"{}_dev.tsv\".format(model),\r\n            test_file=\"{}_test.tsv\".format(model),\r\n            tokenizer=tokenizer,\r\n            max_seq_len=max_seq_len,\r\n            # 如果还有预测数据（不需要文本类别label），可以放在predict.tsv\r\n            predict_file=\"{}_predict.tsv\".format(model),\r\n            train_file_with_header=True,\r\n            dev_file_with_header=True,\r\n            test_file_with_header=True,\r\n            predict_file_with_header=True,\r\n            # 数据集类别集合\r\n            label_list=labels)\r\ndef main():\r\n    # Load Paddlehub pretrained model\r\n    # 更多预训练模型 https://www.paddlepaddle.org.cn/hublist?filter=en_category&value=SemanticModel\r\n    #model_name = \"ernie_tiny\"\r\n    model_name = \"chinese-roberta-wwm-ext-large\"\r\n    module = hub.Module(name=model_name)\r\n    inputs, outputs, program = module.context(\r\n        trainable=True, max_seq_len=args.max_seq_len)\r\n    # Download dataset and use SequenceLabelReader to read dataset\r\n    tokenizer = hub.BertTokenizer(vocab_file=module.get_vocab_path())\r\n    dataset = EEDataset(data_dir=args.data_dir, labels=schema_labels, tokenizer=tokenizer,\r\n                        max_seq_len=args.max_seq_len,model=args.do_model)\r\n\r\n\r\n    reader = hub.reader.SequenceLabelReader(\r\n        # dataset=dataset,\r\n        vocab_path=module.get_vocab_path(),\r\n        max_seq_len=args.max_seq_len,\r\n        sp_model_path=module.get_spm_path(),\r\n        word_dict_path=module.get_word_dict_path())\r\n\r\n    # Construct transfer learning network\r\n    # Use \"sequence_output\" for token-level output.\r\n    sequence_output = outputs[\"sequence_output\"]\r\n\r\n    # Setup feed list for data feeder\r\n    # Must feed all the tensor of module need\r\n    feed_list = [\r\n        inputs[\"input_ids\"].name, inputs[\"position_ids\"].name,\r\n        inputs[\"segment_ids\"].name, inputs[\"input_mask\"].name\r\n    ]\r\n\r\n    # Select a finetune strategy\r\n    strategy = hub.AdamWeightDecayStrategy(\r\n        warmup_proportion=args.warmup_proportion,\r\n        weight_decay=args.weight_decay,\r\n        learning_rate=args.learning_rate)\r\n\r\n    # Setup runing config for PaddleHub Finetune API\r\n    config = hub.RunConfig(\r\n            eval_interval=args.eval_step,\r\n            save_ckpt_interval=args.model_save_step,\r\n            use_data_parallel=args.use_data_parallel,\r\n            use_cuda=args.use_gpu,\r\n            num_epoch=args.num_epoch,\r\n            batch_size=args.batch_size,\r\n            checkpoint_dir=args.checkpoint_dir,\r\n            strategy=strategy)\r\n\r\n    # Define a sequence labeling finetune task by PaddleHub's API\r\n    # If add crf, the network use crf as decoder\r\n    seq_label_task = hub.SequenceLabelTask(\r\n        dataset=dataset,\r\n        feature=sequence_output,\r\n        feed_list=feed_list,\r\n        max_seq_len=args.max_seq_len,\r\n        num_classes=dataset.num_labels,\r\n        config=config,\r\n        add_crf=args.add_crf)\r\n\r\n    # Finetune and evaluate model by PaddleHub's API\r\n    # will finish training, evaluation, testing, save model automatically\r\n    if args.do_train:\r\n        print(\"start finetune and eval process\")\r\n        seq_label_task.finetune_and_eval()\r\n\r\n    if args.do_predict:\r\n        print(\"start predict process\")\r\n        ret = []\r\n        id2label = {val: key for key, val in reader.label_map.items()}\r\n        input_data = [[d] for d in predict_data]\r\n        run_states = seq_label_task.predict(data=input_data[1:])\r\n        results = []\r\n        for batch_states in run_states:\r\n            batch_results = batch_states.run_results\r\n            batch_infers = batch_results[0].reshape([-1]).astype(np.int32).tolist()\r\n            seq_lens = batch_results[1].reshape([-1]).astype(np.int32).tolist()\r\n            current_id = 0\r\n            for length in seq_lens:\r\n                seq_infers = batch_infers[current_id:current_id + length]\r\n                seq_result = list(map(id2label.get, seq_infers[1: -1]))\r\n                current_id += length if args.add_crf else args.max_seq_len\r\n                results.append(seq_result)\r\n\r\n        ret = []\r\n        for sent, r_label in zip(predict_sents, results):\r\n            sent[\"labels\"] = r_label\r\n            ret.append(json.dumps(sent, ensure_ascii=False))\r\n        write_by_lines(\"{}.{}.pred\".format(args.predict_data, args.do_model), ret)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    main()```",
        "state": "closed",
        "user": "rela0426",
        "closed_by": "rela0426",
        "created_at": "2021-01-20T07:00:36+00:00",
        "updated_at": "2021-10-21T09:51:39+00:00",
        "closed_at": "2021-10-21T09:51:39+00:00",
        "comments_count": [
            "KPatr1ck",
            "rela0426",
            "rela0426",
            "KPatr1ck",
            "rela0426",
            "KPatr1ck",
            "rela0426"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1205,
        "title": "hub install ernie_gen_poetry==1.0.2 安装报错",
        "body": "hub install ernie_gen_lover_words==1.0.1\r\n/opt/anaconda3/lib/python3.8/site-packages/pip/_vendor/packaging/version.py:127: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  warnings.warn(\r\n/opt/anaconda3/lib/python3.8/site-packages/pip/_vendor/packaging/version.py:127: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  warnings.warn(\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/ernie_gen_lover_words.tar.gz\r\n[##################################################] 100.00%\r\nDecompress /home/pby231/.paddlehub/tmp/tmprh4y_s4_/ernie_gen_lover_words.tar.gz\r\n[##################################################] 100.00%\r\nTraceback (most recent call last):\r\n  File \"/opt/anaconda3/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/commands/utils.py\", line 69, in execute\r\n    return com['_entry']().execute(sys.argv[idx:])\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/commands/install.py\", line 44, in execute\r\n    manager.install(name=name, version=version)\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 188, in install\r\n    return self._install_from_name(name, version)\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 263, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 256, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 361, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 345, in _install_from_directory\r\n    hub_module_cls = HubModule.load(self._get_normalized_path(module_info.name))\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/module.py\", line 195, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"/opt/anaconda3/lib/python3.8/site-packages/paddlehub/utils/utils.py\", line 249, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"/opt/anaconda3/lib/python3.8/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 783, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/home/pby231/.paddlehub/modules/ernie_gen_lover_words/module.py\", line 21, in <module>\r\n    from paddlehub.module.nlp_module import DataFormatError\r\nImportError: cannot import name 'DataFormatError' from 'paddlehub.module.nlp_module' (/opt/anaconda3/lib/python3.8/site-packages/paddlehub/module/nlp_module.py)\r\n\r\n\r\n怎么解决呢",
        "state": "closed",
        "user": "pby231",
        "closed_by": "WYB27",
        "created_at": "2021-01-20T11:40:05+00:00",
        "updated_at": "2025-06-30T07:20:25+00:00",
        "closed_at": "2025-06-30T07:20:25+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1206,
        "title": "自定义数据集finetune报错: ZeroDivisionError: division by zero",
        "body": "@Steffy-zxf\r\n\r\n在使用paddle1.8进行finetune时，系统自动下载的数据集没问题，切换到自定义数据集finetune时，报错，错误如下：\r\n```powershell\r\n\r\nTraceback (most recent call last):\r\n  File \"sequence_label.py\", line 187, in <module>\r\n    main()\r\n  File \"sequence_label.py\", line 159, in main\r\n    seq_label_task.finetune_and_eval()\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddlehub/finetune/task/base_task.py\", line 945, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddlehub/finetune/task/base_task.py\", line 960, in finetune\r\n    self.init_if_necessary()\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddlehub/finetune/task/base_task.py\", line 384, in init_if_necessary\r\n    if not self.load_checkpoint():\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddlehub/finetune/task/base_task.py\", line 911, in load_checkpoint\r\n    main_program=self.main_program)\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddlehub/finetune/task/base_task.py\", line 545, in main_program\r\n    self._build_env()\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddlehub/finetune/task/base_task.py\", line 462, in _build_env\r\n    self.loss, self.max_train_steps)\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddlehub/finetune/strategy.py\", line 471, in execute\r\n    scheduled_lr = self.scheduler_handler(max_train_steps)\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddlehub/finetune/strategy.py\", line 361, in scheduler_handler\r\n    cycle=False)\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddle/fluid/layers/learning_rate_scheduler.py\", line 347, in polynomial_decay\r\n    ((1 - global_step / decay_steps) ** power) + end_learning_rate\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddle/fluid/layers/math_op_patch.py\", line 201, in __impl__\r\n    return scalar_method(self, float(other_var))\r\n  File \"/home/gaolu/miniconda3/envs/paddlehub_env3/lib/python3.6/site-packages/paddle/fluid/layers/math_op_patch.py\", line 183, in _scalar_elementwise_div_\r\n    return _scalar_elementwise_op_(var, 1.0 / value, 0.0)\r\nZeroDivisionError: float division by zero\r\n```\r\n\r\n\r\n调用finetune部分代码如下：\r\n\r\n```python\r\n\r\n\r\nimport argparse\r\nimport ast\r\nimport json\r\nimport numpy as np\r\nimport paddle.fluid as fluid\r\nimport paddlehub as hub\r\nfrom paddlehub.dataset.base_nlp_dataset import BaseNLPDataset\r\nfrom paddlehub.dataset import InputExample\r\nfrom data_process import data_process\r\nfrom data_process import schema_process\r\nfrom data_process import write_by_lines\r\nimport sys\r\nimport csv\r\nimport codecs\r\ncsv.field_size_limit(sys.maxsize)\r\n# yapf: disable\r\nparser = argparse.ArgumentParser(__doc__)\r\nparser.add_argument(\"--num_epoch\", type=int, default=3, help=\"Number of epoches for fine-tuning.\")\r\nparser.add_argument(\"--use_gpu\", type=ast.literal_eval, default=True, help=\"Whether use GPU for finetuning, input should be True or False\")\r\nparser.add_argument(\"--learning_rate\", type=float, default=5e-5, help=\"Learning rate used to train with warmup.\")\r\nparser.add_argument(\"--data_dir\", type=str, default=None, help=\"data save dir\")\r\nparser.add_argument(\"--schema_path\", type=str, default=None, help=\"schema path\")\r\nparser.add_argument(\"--train_data\", type=str, default=None, help=\"train data\")\r\nparser.add_argument(\"--dev_data\", type=str, default=None, help=\"dev data\")\r\nparser.add_argument(\"--test_data\", type=str, default=None, help=\"test data\")\r\nparser.add_argument(\"--predict_data\", type=str, default=None, help=\"predict data\")\r\nparser.add_argument(\"--do_train\", type=ast.literal_eval, default=False, help=\"do train\")\r\nparser.add_argument(\"--do_predict\", type=ast.literal_eval, default=True, help=\"do predict\")\r\nparser.add_argument(\"--do_model\", type=str, default=\"trigger\", choices=[\"trigger\", \"role\"], help=\"trigger or role\")\r\nparser.add_argument(\"--weight_decay\", type=float, default=0.01, help=\"Weight decay rate for L2 regularizer.\")\r\nparser.add_argument(\"--warmup_proportion\", type=float, default=0.1, help=\"Warmup proportion params for warmup strategy\")\r\nparser.add_argument(\"--max_seq_len\", type=int, default=512, help=\"Number of words of the longest seqence.\")\r\nparser.add_argument(\"--eval_step\", type=int, default=200, help=\"eval step\")\r\nparser.add_argument(\"--model_save_step\", type=int, default=3000, help=\"model save step\")\r\nparser.add_argument(\"--batch_size\", type=int, default=32, help=\"Total examples' number in batch for training.\")\r\nparser.add_argument(\"--add_crf\", type=ast.literal_eval, default=True, help=\"add crf\")\r\nparser.add_argument(\"--checkpoint_dir\", type=str, default=None, help=\"Directory to model checkpoint\")\r\nparser.add_argument(\"--use_data_parallel\", type=ast.literal_eval, default=False, help=\"Whether use data parallel.\")\r\nargs = parser.parse_args()\r\n# yapf: enable.\r\n\r\n# 先把数据处理好保存下来\r\ntrain_data = data_process(args.train_data, args.do_model)  # 处理训练数据\r\ndev_data = data_process(args.dev_data, args.do_model) # 处理dev数据\r\ntest_data = data_process(args.test_data, args.do_model)\r\npredict_sents, predict_data = data_process(args.predict_data, args.do_model, is_predict=True)\r\n\r\nwrite_by_lines(\"{}/{}_train.tsv\".format(args.data_dir, args.do_model), train_data)\r\nwrite_by_lines(\"{}/{}_dev.tsv\".format(args.data_dir, args.do_model), dev_data)\r\nwrite_by_lines(\"{}/{}_test.tsv\".format(args.data_dir, args.do_model), test_data)\r\nwrite_by_lines(\"{}/{}_predict.tsv\".format(args.data_dir, args.do_model), predict_data)\r\n\r\nschema_labels = schema_process(args.schema_path, args.do_model)\r\nclass EEDataset(BaseNLPDataset):\r\n    \"\"\"EEDataset\"\"\"\r\n    def __init__(self, data_dir, labels, tokenizer=None,max_seq_len=None,model=\"trigger\"):\r\n        # 数据集存放位置\r\n        self.base_path = data_dir\r\n        super(EEDataset, self).__init__(\r\n            base_path=self.base_path,\r\n            train_file=\"{}_train.tsv\".format(model),\r\n            dev_file=\"{}_dev.tsv\".format(model),\r\n            test_file=\"{}_test.tsv\".format(model),\r\n            tokenizer= tokenizer,\r\n            max_seq_len=max_seq_len,\r\n            # 如果还有预测数据（不需要文本类别label），可以放在predict.tsv\r\n            predict_file=\"{}_predict.tsv\".format(model),\r\n            train_file_with_header=True,\r\n            dev_file_with_header=True,\r\n            test_file_with_header=True,\r\n            predict_file_with_header=True,\r\n            # 数据集类别集合\r\n            label_list=labels)\r\ndef main():\r\n    # Load Paddlehub pretrained model\r\n    #model_name = \"ernie_tiny\"\r\n    model_name = \"chinese-roberta-wwm-ext-large\"\r\n    module = hub.Module(name=model_name)\r\n    inputs, outputs, program = module.context(\r\n        trainable=True, max_seq_len=args.max_seq_len)\r\n    # Download dataset and use SequenceLabelReader to read dataset\r\n    tokenizer = hub.BertTokenizer(vocab_file=module.get_vocab_path())\r\n    dataset = EEDataset(data_dir=args.data_dir, labels=schema_labels, tokenizer=tokenizer,\r\n                        max_seq_len=args.max_seq_len,model=args.do_model)\r\n\r\n\r\n    reader = hub.reader.SequenceLabelReader(\r\n        dataset=dataset,\r\n        vocab_path=module.get_vocab_path(),\r\n        max_seq_len=args.max_seq_len,\r\n        sp_model_path=module.get_spm_path(),\r\n        word_dict_path=module.get_word_dict_path())\r\n\r\n    # Construct transfer learning network\r\n    # Use \"sequence_output\" for token-level output.\r\n    sequence_output = outputs[\"sequence_output\"]\r\n\r\n    # Setup feed list for data feeder\r\n    # Must feed all the tensor of module need\r\n    feed_list = [\r\n        inputs[\"input_ids\"].name, inputs[\"position_ids\"].name,\r\n        inputs[\"segment_ids\"].name, inputs[\"input_mask\"].name\r\n    ]\r\n\r\n    # Select a finetune strategy\r\n    strategy = hub.AdamWeightDecayStrategy(\r\n        warmup_proportion=args.warmup_proportion,\r\n        weight_decay=args.weight_decay,\r\n        learning_rate=args.learning_rate)\r\n\r\n    # Setup runing config for PaddleHub Finetune API\r\n    config = hub.RunConfig(\r\n            eval_interval=args.eval_step,\r\n            save_ckpt_interval=args.model_save_step,\r\n            use_data_parallel=args.use_data_parallel,\r\n            use_cuda=args.use_gpu,\r\n            num_epoch=args.num_epoch,\r\n            batch_size=args.batch_size,\r\n            checkpoint_dir=args.checkpoint_dir,\r\n            strategy=strategy)\r\n\r\n    # Define a sequence labeling finetune task by PaddleHub's API\r\n    # If add crf, the network use crf as decoder\r\n    seq_label_task = hub.SequenceLabelTask(\r\n        dataset=dataset,\r\n        feature=sequence_output,\r\n        # feed_list=feed_list,\r\n        max_seq_len=args.max_seq_len,\r\n        num_classes=dataset.num_labels,\r\n        config=config,\r\n        add_crf=args.add_crf)\r\n\r\n    # Finetune and evaluate model by PaddleHub's API\r\n    # will finish training, evaluation, testing, save model automatically\r\n    if args.do_train:\r\n        print(\"start finetune and eval process\")\r\n        seq_label_task.finetune_and_eval()\r\n\r\n    if args.do_predict:\r\n        print(\"start predict process\")\r\n        ret = []\r\n        id2label = {val: key for key, val in reader.label_map.items()}\r\n        input_data = [[d] for d in predict_data]\r\n        run_states = seq_label_task.predict(data=input_data[1:])\r\n        results = []\r\n        for batch_states in run_states:\r\n            batch_results = batch_states.run_results\r\n            batch_infers = batch_results[0].reshape([-1]).astype(np.int32).tolist()\r\n            seq_lens = batch_results[1].reshape([-1]).astype(np.int32).tolist()\r\n            current_id = 0\r\n            for length in seq_lens:\r\n                seq_infers = batch_infers[current_id:current_id + length]\r\n                seq_result = list(map(id2label.get, seq_infers[1: -1]))\r\n                current_id += length if args.add_crf else args.max_seq_len\r\n                results.append(seq_result)\r\n\r\n        ret = []\r\n        for sent, r_label in zip(predict_sents, results):\r\n            sent[\"labels\"] = r_label\r\n            ret.append(json.dumps(sent, ensure_ascii=False))\r\n        write_by_lines(\"{}.{}.pred\".format(args.predict_data, args.do_model), ret)\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    main()\r\n```\r\n",
        "state": "closed",
        "user": "rela0426",
        "closed_by": "rela0426",
        "created_at": "2021-01-21T01:41:19+00:00",
        "updated_at": "2021-10-21T09:51:23+00:00",
        "closed_at": "2021-10-21T09:51:23+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1207,
        "title": "No module named 'paddle'",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\nPaddlePaddle-gpu 2.0.0rc 或 2.0.0rc0 或 2.0.0rc1\r\nPaddleHub 2.0.0rc0\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n先安装paddlepaddle-gpu，\r\n`python -m pip install paddlepaddle-gpu==2.0.0rc -f https://paddlepaddle.org.cn/whl/stable.html -i https://mirror.baidu.com/pypi/simple`\r\n（或 ==2.0.0rc0，或 ==2.0.0rc1，或 ==2.0.0rc1.post100，或 ==2.0.0rc1.post110）\r\n再安装hub\r\n`pip3 install paddlehub==2.0.0rc0 -i https://mirror.baidu.com/pypi/simple`\r\n之后执行 hub install chinese_ocr_db_crnn_server==1.1.1 时报错：\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/hub\", line 5, in <module>\r\n    from paddlehub.commands.utils import execute\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddlehub/__init__.py\", line 24, in <module>\r\n    from paddlehub import datasets\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddlehub/datasets/__init__.py\", line 15, in <module>\r\n    from paddlehub.datasets.canvas import Canvas\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddlehub/datasets/canvas.py\", line 19, in <module>\r\n    import paddle\r\nModuleNotFoundError: No module named 'paddle'\r\n\r\n另外如果执行 python3 ，然后\r\n>>> import paddle\r\n>>> paddle.utils.run_check()\r\n都是正常的，返回信息有“PaddlePaddle is installed successfully!”。\r\n\r\nhub install 的报错该怎么解决呢？",
        "state": "closed",
        "user": "liweigu",
        "closed_by": "liweigu",
        "created_at": "2021-01-21T07:36:58+00:00",
        "updated_at": "2021-01-22T02:38:13+00:00",
        "closed_at": "2021-01-22T02:38:12+00:00",
        "comments_count": [
            "haoyuying",
            "liweigu",
            "liweigu"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1208,
        "title": "请问情感分析进行Fine-Tune支持CPU多核训练么？",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "lgybean",
        "closed_by": "WYB27",
        "created_at": "2021-01-22T02:51:32+00:00",
        "updated_at": "2025-06-30T07:20:21+00:00",
        "closed_at": "2025-06-30T07:20:21+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1212,
        "title": "提供ocr每次都释放显存的参数",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n通过hub调用文字识别接口时，希望增加一个参数，在每次请求后都释放显存。\r\n- 什么样的场景下需要该特性？\r\n关于 https://github.com/PaddlePaddle/PaddleHub/issues/937 提到的显存不释放问题，如果用不同的图片请求服务（即使都缩放成768*768），多次请求后显存就因为不释放而不足了。如果每次请求都能释放显存，应该能支持长期的大量的请求。\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n没有这个参数，就不会释放显存。\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n需要在调用 chinese_ocr_db_crnn_server 的功能时增加一个参数。\r\n- 如果可以的话，简要描述下您的解决方案\r\n比如增加参数cacheVideoMemory参数，默认值为1，可以设置为0，这时不缓存。\r\n",
        "state": "closed",
        "user": "liweigu",
        "closed_by": "WYB27",
        "created_at": "2021-01-25T01:41:42+00:00",
        "updated_at": "2025-06-30T07:20:17+00:00",
        "closed_at": "2025-06-30T07:20:17+00:00",
        "comments_count": [
            "ShenYuhan",
            "liweigu",
            "liweigu",
            "BurrowsWang",
            "cuiyong127",
            "microCloudCode"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1209,
        "title": "ernie-1.2.0  get_embedding  时怎么用训练好的模型",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n模型：ernie-1.2.0\r\n![image](https://user-images.githubusercontent.com/62973945/105447564-65b00a00-5caf-11eb-8e2c-7fe62d7f690a.png)\r\n\r\npaddlehub==1.6.0\r\n\r\naistudio上跑\r\n\r\n要获取训练好的模型的特征embedding=module1.get_embedding(data,use_gpu=True)，module1怎么变成训练好的。看到module1 = hub.Module(）\r\n但是不知道Module里的directory、module_dir是什么，在哪里？\r\n\r\nclass Module(object):\r\n    def __new__(cls,\r\n                name=None,\r\n                directory=None,\r\n                module_dir=None,\r\n                version=None,\r\n                **kwargs):",
        "state": "closed",
        "user": "millywang516",
        "closed_by": "WYB27",
        "created_at": "2021-01-22T04:51:23+00:00",
        "updated_at": "2025-06-30T07:20:19+00:00",
        "closed_at": "2025-06-30T07:20:19+00:00",
        "comments_count": [
            "millywang516",
            "millywang516",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1213,
        "title": "用户自定义词典的问题",
        "body": "用户自定义词典的格式怎样的，怎样设置标签？",
        "state": "closed",
        "user": "brendanaaa",
        "closed_by": "WYB27",
        "created_at": "2021-01-26T03:02:46+00:00",
        "updated_at": "2025-06-30T07:20:15+00:00",
        "closed_at": "2025-06-30T07:20:15+00:00",
        "comments_count": [
            "KPatr1ck",
            "brendanaaa",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1215,
        "title": "对于hub api性能问题",
        "body": "我基于hub进行模型训练，得到结果后再基于hub编写了module.py打包并且部署成hub api，再一台12核24G的电脑上使用CPU进行大规模的预测调用，发现平均每次请求都需要600~1100毫秒之间。想问下有没有可以进行优化处理，提升性能的方式。\r\nmodule.py的源码\r\n![image](https://user-images.githubusercontent.com/26837690/105807571-38ca6280-5fe1-11eb-9886-bd2cde8e0f96.png)\r\n![image](https://user-images.githubusercontent.com/26837690/105807597-4849ab80-5fe1-11eb-9d2d-f01bf46375e2.png)\r\n",
        "state": "closed",
        "user": "Simba9980",
        "closed_by": "WYB27",
        "created_at": "2021-01-26T06:17:58+00:00",
        "updated_at": "2025-06-30T07:20:13+00:00",
        "closed_at": "2025-06-30T07:20:13+00:00",
        "comments_count": [
            "Simba9980",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1216,
        "title": "hub install 从本地文件安装模型",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n以 hub install chinese_ocr_db_crnn_server 为例，安装模型时需要联网，如果预先下载了模型文件，能不能支持从本地模型文件安装？\r\n\r\n- 什么样的场景下需要该特性？\r\n离线场景下需要。\r\n\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n目前没有找到替代方法。\r\n如果是用CPU，应该可以预先制作docker镜像，在镜像里预先安装模型。但使用GPU时，无论是 docker build 还是 nvidia-docker build 编译镜像，在 hub install 或 hub download 时都会提示错误信息：\r\n/usr/local/lib/python3.8/dist-packages/paddle/fluid/framework.py:293: UserWarning: You are using GPU version Paddle, but your CUDA device is not set properly. CPU device will be used by default. \r\n（我还没找到在 docker build 时使用GPU的方法）\r\n\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n需要支持命令类似于 hub install xxxx.tar 或 hub install [模型名] --from xxxx.tar\r\n\r\n- 如果可以的话，简要描述下您的解决方案\r\n方案一：支持指定本地模型文件路径进行安装；\r\n方案二：说明在线安装时的模型文件下载路径，如果在该路径下已存在模型文件，则不再下载。",
        "state": "closed",
        "user": "liweigu",
        "closed_by": "liweigu",
        "created_at": "2021-01-28T02:28:24+00:00",
        "updated_at": "2021-01-28T11:52:58+00:00",
        "closed_at": "2021-01-28T11:52:58+00:00",
        "comments_count": [
            "KPatr1ck",
            "liweigu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1217,
        "title": "about face recognition ",
        "body": "感谢paddle的技术工作者辛苦的技术开发，我想问下paddlehub中是否会加入一些关于人脸识别的model，期待您的答复，谢谢！\r\n",
        "state": "closed",
        "user": "zgsxwsdxg",
        "closed_by": "zgsxwsdxg",
        "created_at": "2021-01-28T09:06:45+00:00",
        "updated_at": "2021-02-01T01:15:50+00:00",
        "closed_at": "2021-02-01T01:15:50+00:00",
        "comments_count": [
            "haoyuying",
            "zgsxwsdxg",
            "zgsxwsdxg",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/Paddle",
        "number": 30742,
        "title": "视频模型videotag_tsn_lstm使用预测框架create_paddle_predictor运行闪退",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\nPaddleHub1.8.3，\r\nPaddlePaddle1.8.5\r\n2）系统环境：\r\nwindows7\r\npython3.7\r\npaddle 1.8.5\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n使用paddlehub中的视频流标签模型videotag_tsn_lstm本身运行正常，由于想用cpu部署，使用create_paddle_predictor开启mkldnn部署运行直接闪退，没有任何提示和错误，必现\r\n\r\n使用create_paddle_predictor的闪退代码（该代码运行其他paddle模型正常）：\r\n`class PaddleBackend():\r\n    def init(self, model_path, model_filename, params_filename):\r\n        config = AnalysisConfig(model_filename, params_filename)\r\n\r\n        config.disable_gpu()\r\n        # config.set_cpu_math_library_num_threads(6)\r\n\r\n        # config.set_mkldnn_cache_capacity(10)\r\n        config.enable_mkldnn()\r\n\r\n        # config.enable_memory_optim()\r\n        config.disable_glog_info()\r\n\r\n        config.delete_pass(\"conv_transpose_eltwiseadd_bn_fuse_pass\")\r\n        config.switch_use_feed_fetch_ops(False)\r\n\r\n        self.predictor = create_paddle_predictor(config)\r\n        input_names = self.predictor.get_input_names()\r\n        for name in input_names:\r\n            self.input_tensor = self.predictor.get_input_tensor(name)\r\n        output_names = self.predictor.get_output_names()\r\n        self.output_tensors = []\r\n        for output_name in output_names:\r\n            output_tensor = self.predictor.get_output_tensor(output_name)\r\n            self.output_tensors.append(output_tensor)\r\n\r\n    def run(self, output_name, input_data):\r\n        input_data = list(input_data.values())[0]\r\n        # norm_img_batch = fluid.core.PaddleTensor(input_data)\r\n        # outs = self.predictor.run([norm_img_batch])\r\n        self.input_tensor.copy_from_cpu(input_data)\r\n        self.predictor.zero_copy_run()\r\n        outputs = []\r\n        for output_tensor in self.output_tensors:\r\n            output = output_tensor.copy_to_cpu()\r\n            outputs.append(output)`\r\n\r\n    return outputs`\r\n\r\n使用fluid.Executor运行正常\r\n\r\nAnalysisConfig 使用GPU，CPU核mkldnn三种方式都无法运行，都会闪退",
        "state": "closed",
        "user": "whut09",
        "closed_by": "paddle-bot-old[bot]",
        "created_at": "2021-01-26T03:06:32+00:00",
        "updated_at": "2022-02-01T06:43:18+00:00",
        "closed_at": "2022-02-01T06:43:16+00:00",
        "comments_count": [
            "whut09",
            "haoyuying",
            "whut09",
            "haoyuying",
            "paddle-bot-old[bot]",
            "paddle-bot-old[bot]"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1219,
        "title": "paddlehub2.0rc0 无法使用 ddparser",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddlePaddle 2.0.0rc, paddlehub2.0.0rc0\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：\r\n- 使用https://github.com/PaddlePaddle/PaddleHub/tree/release/v2.0.0-rc/modules/text/syntactic_analysis/DDParser 代码,无法下载ddparse module,有版本限制\r\n问题如下:\r\npaddlehub.module.manager.EnvironmentMismatchError: ddparser cannot be installed because some conditions are not met:\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n|     Name      | Version  |   PaddlePaddle Version Required   |    PaddleHub Version Required     |\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n|   ddparser    |  1.0.0   |    >=1.8.0, <=1.9.9(Mismatch)     |              >=1.7.0              |\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n\r\n",
        "state": "closed",
        "user": "paopjian",
        "closed_by": "paopjian",
        "created_at": "2021-01-29T06:35:32+00:00",
        "updated_at": "2022-04-29T03:22:30+00:00",
        "closed_at": "2022-04-29T03:22:30+00:00",
        "comments_count": [
            "haoyuying",
            "paopjian",
            "haoyuying"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1220,
        "title": "puddleHub2.0预测加速问题",
        "body": "请问paddlehub2.0除去gpu加速预测，还有没有其他方法？",
        "state": "closed",
        "user": "cap2hb",
        "closed_by": "WYB27",
        "created_at": "2021-01-30T08:39:52+00:00",
        "updated_at": "2025-06-30T07:20:11+00:00",
        "closed_at": "2025-06-30T07:20:11+00:00",
        "comments_count": [
            "cap2hb",
            "haoyuying",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1224
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1221,
        "title": "目前PaddlePaddle所有系列版本+PaddleHub 均无法使用ERNIE-GEN",
        "body": " PaddlePaddle 1.8.0~2.0.0  + PaddleHub 1.7~2.0.0rc0 ，经过**穷举安装**，均无法安装成功ERNIE-GEN\r\n\r\n**系统环境**\r\n- python3.8 ubuntu 18.04 \r\n- aistudio 以及 paddle:2.0.0-gpu-cuda10.2-cudnn7、paddle:2.0.0-gpu-cuda10.2-cudnn7、paddle:1.8.5-gpu-cuda10.0-cudnn7 三个docker均试过\r\n- paddle-ernie 所有dev版本均试过\r\n- ernie_gen 所有版本均试过\r\n\r\n**安装步骤**\r\n\r\n> !pip install --upgrade paddlehub\r\n!pip install paddle-ernie\r\n!hub install ernie_gen==1.0.2\r\n\r\n\r\n> ubuntu@ubuntu:~$ pip3 list | grep paddle\r\npaddle-ernie                 0.1.0.dev1          \r\npaddlehub                    2.0.0rc0            \r\npaddlenlp                    2.0.0b2             \r\npaddlepaddle                 2.0.0               \r\npaddlepaddle-gpu             2.0.0 \r\n\r\n\r\n**报错信息**\r\n\r\n> [2021-01-28 15:46:50,362] [    INFO] - Installing ernie_gen module\r\n---------------------------------------------------------------------------RuntimeError                              Traceback (most recent call last)~/.paddlehub/modules/ernie_gen/module.py in <module>\r\n     24 try:\r\n---> 25     from ernie.modeling_ernie import ErnieModelForGeneration\r\n     26     from ernie.tokenizing_ernie import ErnieTokenizer\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ernie/__init__.py in <module>\r\n     22     raise RuntimeError('propeller 0.2 requires paddle 2.0+, got %s' %\r\n---> 23                        paddle.__version__)\r\n     24 \r\nRuntimeError: propeller 0.2 requires paddle 2.0+, got 1.8.4\r\nDuring handling of the above exception, another exception occurred:\r\nImportError                               Traceback (most recent call last)<ipython-input-6-7a5911e08702> in <module>\r\n      2 \r\n      3 # 加载ernie_gen模型\r\n----> 4 module = hub.Module(name=\"ernie_gen\")\r\n      5 \r\n      6 train_data_file = os.path.join(new_dataset_dir, \"lcsts_train_500k.txt\")\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, module_dir, version, **kwargs)\r\n    100             if name:\r\n    101                 module = cls.init_with_name(\r\n--> 102                     name=name, version=version, **kwargs)\r\n    103             elif directory:\r\n    104                 module = cls.init_with_directory(directory=directory, **kwargs)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, **kwargs)\r\n    169         extra = {\"command\": \"install\"}\r\n    170         result, tips, module_dir = default_module_manager.install_module(\r\n--> 171             module_name=name, module_version=version, extra=extra)\r\n    172         if not result:\r\n    173             logger.error(tips)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/manager.py in install_module(self, module_name, module_dir, module_package, module_version, upgrade, extra)\r\n    125         with tmp_dir() as _dir:\r\n    126             if module_name:\r\n--> 127                 self.all_modules(update=True)\r\n    128                 module_info = self.modules_dict.get(module_name, None)\r\n    129                 if module_info:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/manager.py in all_modules(self, update)\r\n    103                     shutil.move(sub_dir_path, new_sub_dir_path)\r\n    104                     sub_dir_path = new_sub_dir_path\r\n--> 105                 valid, info = self.check_module_valid(sub_dir_path)\r\n    106                 if valid:\r\n    107                     module_name = info['name']\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/manager.py in check_module_valid(self, module_path)\r\n     70                     sys.path.insert(0, dirname)\r\n     71                     _module = importlib.import_module(\r\n---> 72                         \"{}.module\".format(basename))\r\n     73                     for _item, _cls in inspect.getmembers(\r\n     74                             _module, inspect.isclass):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/__init__.py in import_module(name, package)\r\n    125                 break\r\n    126             level += 1\r\n--> 127     return _bootstrap._gcd_import(name[level:], package, level)\r\n    128 \r\n    129 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap.py in _gcd_import(name, package, level)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap.py in _find_and_load(name, import_)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap.py in _find_and_load_unlocked(name, import_)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap.py in _load_unlocked(spec)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap_external.py in exec_module(self, module)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap.py in _call_with_frames_removed(f, *args, **kwds)\r\n~/.paddlehub/modules/ernie_gen/module.py in <module>\r\n     28 except:\r\n     29     raise ImportError(\r\n---> 30         \"The module requires additional dependencies: ernie. You can install ernie via 'pip install paddle-ernie'\"\r\n     31     )\r\n     32 import paddlehub as hub\r\nImportError: The module requires additional dependencies: ernie. You can install ernie via 'pip install paddle-ernie'\r\n\r\n**偶尔在docker里面一次安装成功了，但ERNIE-GEN无法引入**\r\n\r\n![image](https://user-images.githubusercontent.com/6434727/106361321-4886d580-6358-11eb-8f8e-117bf563b2bc.png)\r\n\r\n然后代码：\r\n\r\n> import  paddlehub as hub\r\n> 加载ernie_gen模型的时候报错\r\n> module = hub.Module(name=\"ernie_gen\")\r\n\r\n![image](https://user-images.githubusercontent.com/6434727/106361339-5f2d2c80-6358-11eb-8b4c-c3c532628f6d.png)\r\n\r\n\r\n版本更新，不兼容没关系，连历史的版本都不兼容了。\r\n历史的版本都不兼容没关系，在baidu的AIStudio上运行也不兼容。\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "uuleaf",
        "closed_by": "uuleaf",
        "created_at": "2021-01-31T03:49:45+00:00",
        "updated_at": "2021-02-02T08:57:13+00:00",
        "closed_at": "2021-02-02T08:56:26+00:00",
        "comments_count": [
            "KPatr1ck",
            "uuleaf",
            "uuleaf",
            "KPatr1ck",
            "uuleaf"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1225,
        "title": "启动一个猫狗图片分类的服务 部署成功 POST结果异常？",
        "body": "python环境3.7\r\n\r\n传入参数：{\"data\":[\"/home/test/image/test_img_dog.jpg\"]}\r\n报错：\r\n{\r\n  \"msg\": \"Module image_module is not available.\",\r\n  \"results\": \"\",\r\n  \"status\": \"-1\"\r\n}\r\n预测代码：\r\n    @serving\r\n    def predict(self, data):\r\n        label_map = self.dataset.label_dict()\r\n        index = 0\r\n        # get classification result\r\n        run_states = self.task.predict(data=data)\r\n        results = [run_state.run_results for run_state in run_states]\r\n        prediction = []\r\n        for batch_result in results:\r\n            # get predict index\r\n            batch_result = np.argmax(batch_result, axis=2)[0]\r\n            for result in batch_result:\r\n                index += 1\r\n                result = label_map[result]\r\n                pStr = (\"input %i is %s, and the predict result is %s\" %\r\n                        (index, data[index - 1], result))\r\n                prediction.append(pStr)\r\n\r\n        return prediction\r\n\r\nPS:当时跑预测模型时候里面的main函数是可以得到结果的。\r\n",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-02-02T03:32:41+00:00",
        "updated_at": "2025-06-30T07:20:07+00:00",
        "closed_at": "2025-06-30T07:20:07+00:00",
        "comments_count": [
            "suntao2015005848",
            "ShenYuhan",
            "suntao2015005848",
            "suntao2015005848",
            "ShenYuhan",
            "Cy6er7um",
            "suntao2015005848",
            "suntao2015005848",
            "suntao2015005848",
            "suntao2015005848",
            "ShenYuhan",
            "suntao2015005848",
            "ShenYuhan",
            "suntao2015005848",
            "suntao2015005848",
            "suntao2015005848"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1226,
        "title": "paddlehub的lac自定义词典会处理歧义吗？",
        "body": "使用了LAC 2.1.1版本，支持自定义词典，但是是直接干预结果，不处理歧义！\r\npaddlehub里的lac模型2.2.0升级了词典支持不属于默认的词性，请问是否会处理歧义问题",
        "state": "closed",
        "user": "SunshlnW",
        "closed_by": "WYB27",
        "created_at": "2021-02-02T10:08:45+00:00",
        "updated_at": "2025-06-30T07:20:05+00:00",
        "closed_at": "2025-06-30T07:20:05+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1223,
        "title": "在进行一键部署的时候，执行到def _recoginze_text(self,img_list)函数的self.rec_predictor.zero_copy_run()这一步的时候卡死无回应",
        "body": null,
        "state": "closed",
        "user": "WuWenJian",
        "closed_by": "WYB27",
        "created_at": "2021-02-01T09:20:38+00:00",
        "updated_at": "2025-06-30T07:20:09+00:00",
        "closed_at": "2025-06-30T07:20:09+00:00",
        "comments_count": [
            "haoyuying",
            "WuWenJian",
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1227,
        "title": "ocr识别",
        "body": "![DS{THL 6B@9Y IF3 G6L2{G](https://user-images.githubusercontent.com/61171287/106597886-faf5ad00-6591-11eb-9422-57b1eb05e0e5.png)\r\n![@T1UH4F6V0)ITY8N$A$M~1N](https://user-images.githubusercontent.com/61171287/106597897-fc26da00-6591-11eb-8c54-35abeba00e2e.png)\r\n请问这个错误指的是什么意思呢，路径检查过没有问题，代码在aistudio上可以跑通",
        "state": "closed",
        "user": "txssg",
        "closed_by": "WYB27",
        "created_at": "2021-02-02T12:06:12+00:00",
        "updated_at": "2025-06-30T07:20:03+00:00",
        "closed_at": "2025-06-30T07:20:03+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1228,
        "title": "使用chinese_ocr_db_crnn_server模型进行识别，官方的效果和我本地跑的差别太大，请问怎么做出官方的效果",
        "body": "使用chinese_ocr_db_crnn_server模型进行识别，官方的效果和我本地跑的差别太大，请问怎么做出官方的效果\r\n\r\n可以看到下面三张图；\r\n原图：原始待识别图片\r\nonline：在线识别的图片\r\n本地部署：本地部署模型识别的图片\r\n\r\n\r\n![原图](https://user-images.githubusercontent.com/14086087/106601079-31352b80-6596-11eb-8384-11284b8e3d45.jpg)\r\n![onlice](https://user-images.githubusercontent.com/14086087/106601070-2e3a3b00-6596-11eb-9588-49c9dde7fc10.png)\r\n![本地部署](https://user-images.githubusercontent.com/14086087/106601076-309c9500-6596-11eb-8f11-3e5c06379ced.jpg)\r\n",
        "state": "closed",
        "user": "WuWenJian",
        "closed_by": "WYB27",
        "created_at": "2021-02-02T12:37:18+00:00",
        "updated_at": "2025-06-30T07:20:01+00:00",
        "closed_at": "2025-06-30T07:20:01+00:00",
        "comments_count": [
            "WuWenJian",
            "ShenYuhan",
            "Cy6er7um"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1231,
        "title": "MiDaS_Large 报错",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub 2.0.0b ; PaddlePaddle 2.0.0-Cpu .\r\n2）系统环境：Windows Server 2019 Datacenter ; Python 3.7.9 .\r\n3）项目源码：\r\n```\r\nimport paddlehub as hub\r\n\r\nmodel = hub.Module(name='MiDaS_Large', use_gpu=False)\r\n```\r\n4）报错如图：![image](https://user-images.githubusercontent.com/70457081/106857501-2516ae80-66fb-11eb-94c0-059300d3c2c6.png)\r\n\r\n",
        "state": "closed",
        "user": "Cy6er7um",
        "closed_by": "Cy6er7um",
        "created_at": "2021-02-04T07:14:36+00:00",
        "updated_at": "2022-06-11T03:00:02+00:00",
        "closed_at": "2022-06-11T03:00:02+00:00",
        "comments_count": [
            "Cy6er7um",
            "jm12138",
            "Cy6er7um"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1233,
        "title": "AttributeError: module 'paddlehub' has no attribute 'Module'",
        "body": "运行demo失败\r\n`import paddlehub as hub`\r\n`module = hub.Module(name=\"deeplabv3p_xception65_humanseg\")  `\r\n`res = module.segmentation(paths = [\"./test.jpg\"], visualization=True, output_dir='humanseg_output') `\r\n- 版本、环境信息\r\n1）PaddleHub-2.0.0rc0 和PaddlePaddle-gpu-2.2.0rc1\r\n2）Windows10，python-3.7\r\n\r\n> D:\\software\\anaconda\\python.exe D:/project/learnPaddle/paddle.py\r\nTraceback (most recent call last):\r\n  File \"D:/project/learnPaddle/paddle.py\", line 1, in <module>\r\n    import paddlehub as hub   # 导入PaddleHub代码库\r\n  File \"D:\\software\\anaconda\\lib\\site-packages\\paddlehub\\__init__.py\", line 24, in <module>\r\n    from paddlehub import datasets\r\n  File \"D:\\software\\anaconda\\lib\\site-packages\\paddlehub\\datasets\\__init__.py\", line 15, in <module>\r\n    from paddlehub.datasets.canvas import Canvas\r\n  File \"D:\\software\\anaconda\\lib\\site-packages\\paddlehub\\datasets\\canvas.py\", line 19, in <module>\r\n    import paddle\r\n  File \"D:\\project\\learnPaddle\\paddle.py\", line 2, in <module>\r\n    module = hub.Module(name=\"deeplabv3p_xception65_humanseg\")    # 指定模型名称\r\nAttributeError: module 'paddlehub' has no attribute 'Module'",
        "state": "closed",
        "user": "quarechen",
        "closed_by": "quarechen",
        "created_at": "2021-02-04T07:46:18+00:00",
        "updated_at": "2021-02-24T02:28:13+00:00",
        "closed_at": "2021-02-24T02:28:13+00:00",
        "comments_count": [
            "Cy6er7um",
            "haoyuying",
            "quarechen",
            "nanli2018",
            "quarechen"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1232,
        "title": "MacOS安装paddlehub失败",
        "body": "\r\n1）未安装PaddleHub和PaddlePaddle\r\n2）系统环境：MacOS 10.13.4，python版本3.9\r\n\r\n**百度推荐的安装命令**\r\nshihuichendeMacBook-Pro:~ paddlechengyuan$ python -m pip install paddlepaddle -i https://mirror.baidu.com/pypi/simple\r\nLooking in indexes: https://mirror.baidu.com/pypi/simple\r\nERROR: Could not find a version that satisfies the requirement paddlepaddle\r\nERROR: No matching distribution found for paddlepaddle\r\n\r\n**换python3**\r\nshihuichendeMacBook-Pro:~ paddlechengyuan$ python3 -m pip install paddlepaddle -i https://mirror.baidu.com/pypi/simple\r\nERROR: Invalid requirement: 'paddlepaddle\\xa0-i'\r\n\r\n**去掉百度源**\r\nshihuichendeMacBook-Pro:~ paddlechengyuan$ python3 -m pip install paddlepaddle\r\nERROR: Could not find a version that satisfies the requirement paddlepaddle\r\nERROR: No matching distribution found for paddlepaddle\r\n\r\n**pip安装**\r\nshihuichendeMacBook-Pro:~ paddlechengyuan$ pip install paddlehub\r\nCollecting paddlehub\r\n  Downloading paddlehub-1.8.3-py3-none-any.whl (342 kB)\r\n     |████████████████████████████████| 342 kB 484 kB/s \r\n。。。\r\n。。。\r\nCollecting idna<3,>=2.5\r\n  Downloading idna-2.10-py2.py3-none-any.whl (58 kB)\r\n     |████████████████████████████████| 58 kB 96 kB/s \r\nUsing legacy 'setup.py install' for nltk, since package 'wheel' is not installed.\r\nUsing legacy 'setup.py install' for future, since package 'wheel' is not installed.\r\nUsing legacy 'setup.py install' for pycryptodome, since package 'wheel' is not installed.\r\nUsing legacy 'setup.py install' for shellcheck-py, since package 'wheel' is not installed.\r\nInstalling collected packages: MarkupSafe, Werkzeug, six, pytz, Jinja2, itsdangerous, filelock, distlib, click, appdirs, virtualenv, urllib3, toml, pyyaml, pyflakes, pycryptodome, pycodestyle, nodeenv, mccabe, idna, identify, future, flask, chardet, cfgv, certifi, Babel, tqdm, shellcheck-py, requests, regex, python-dateutil, protobuf, pre-commit, Pillow, numpy, joblib, Flask-Babel, flake8, bce-python-sdk, yapf, visualdl, sentencepiece, pandas, opencv-python, nltk, gunicorn, colorlog, cma, paddlehub\r\n    Running setup.py install for pycryptodome ... done\r\n    Running setup.py install for future ... done\r\n    **Running setup.py install for shellcheck-py ... error**\r\n    **ERROR: Command errored out with exit status 1:**\r\n     command: /Library/Frameworks/Python.framework/Versions/3.9/bin/python3.9 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/hq/qpgss1l16530qggzlw9_w8440000gq/T/pip-install-ld44cjeg/shellcheck-py_6c41e3dfc9024c01a78a10a03cb1b2f5/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/hq/qpgss1l16530qggzlw9_w8440000gq/T/pip-install-ld44cjeg/shellcheck-py_6c41e3dfc9024c01a78a10a03cb1b2f5/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /private/var/folders/hq/qpgss1l16530qggzlw9_w8440000gq/T/pip-record-14towojk/install-record.txt --single-version-externally-managed --compile --install-headers /Library/Frameworks/Python.framework/Versions/3.9/include/python3.9/shellcheck-py\r\n         cwd: /private/var/folders/hq/qpgss1l16530qggzlw9_w8440000gq/T/pip-install-ld44cjeg/shellcheck-py_6c41e3dfc9024c01a78a10a03cb1b2f5/\r\n    Complete output (4 lines):\r\n    running install\r\n    running build\r\n    running fetch_binaries\r\n    error: <urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1123)>\r\n    ----------------------------------------\r\n**ERROR: Command errored out with exit status 1:** \r\n/Library/Frameworks/Python.framework/Versions/3.9/bin/python3.9 -u -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/hq/qpgss1l16530qggzlw9_w8440000gq/T/pip-install-ld44cjeg/shellcheck-py_6c41e3dfc9024c01a78a10a03cb1b2f5/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/hq/qpgss1l16530qggzlw9_w8440000gq/T/pip-install-ld44cjeg/shellcheck-py_6c41e3dfc9024c01a78a10a03cb1b2f5/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' install --record /private/var/folders/hq/qpgss1l16530qggzlw9_w8440000gq/T/pip-record-14towojk/install-record.txt --single-version-externally-managed --compile --install-headers /Library/Frameworks/Python.framework/Versions/3.9/include/python3.9/shellcheck-py Check the logs for full command output.",
        "state": "closed",
        "user": "aglaregeek",
        "closed_by": "WYB27",
        "created_at": "2021-02-04T07:32:00+00:00",
        "updated_at": "2025-06-30T07:19:59+00:00",
        "closed_at": "2025-06-30T07:19:59+00:00",
        "comments_count": [
            "KPatr1ck",
            "15926273249",
            "ssbg2"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1234,
        "title": "Paddlehub这里有语法错误？？？",
        "body": "Paddlehub报错语法错误了....你们f\"\"后面没加format的String\r\n![image](https://user-images.githubusercontent.com/70457081/106864114-69f31300-6704-11eb-973b-48708cab813d.png)\r\n",
        "state": "closed",
        "user": "Cy6er7um",
        "closed_by": "Cy6er7um",
        "created_at": "2021-02-04T08:17:54+00:00",
        "updated_at": "2022-06-11T02:58:44+00:00",
        "closed_at": "2022-06-11T02:58:44+00:00",
        "comments_count": [
            "Cy6er7um",
            "KPatr1ck"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1235,
        "title": "-bash: hub: 未找到命令",
        "body": "用pip安装完paddleHub后找不到hub命令 无法安装模型启动服务",
        "state": "closed",
        "user": "gaving2016",
        "closed_by": "WYB27",
        "created_at": "2021-02-07T06:42:36+00:00",
        "updated_at": "2025-06-30T07:19:57+00:00",
        "closed_at": "2025-06-30T07:19:57+00:00",
        "comments_count": [
            "KPatr1ck",
            "gaving2016",
            "KPatr1ck",
            "leon-cjf"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1237,
        "title": "请问paddleHub模型如何在aistudio部署为线上",
        "body": "aistudio的网页版在线部署功能，需要选一个模型文件，请问paddleHub的模型如何通过这种方式部署呢？",
        "state": "closed",
        "user": "guojiahuiEmily",
        "closed_by": "WYB27",
        "created_at": "2021-02-15T00:38:10+00:00",
        "updated_at": "2025-06-30T07:19:55+00:00",
        "closed_at": "2025-06-30T07:19:55+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1238,
        "title": "cannot import name 'DataFormatError' from 'paddlehub.module.nlp_module' (E:\\Exe\\anaconda\\envs\\ten2.4\\lib\\site-packages\\paddlehub\\module\\nlp_module.py)",
        "body": "版本：        paddle2.0.0  paddlehub2.0.0  \r\n系统环境： windows系统 python3.7\r\n调用paddlehub 官方代码 \r\n\r\nimport paddlehub as hub\r\n# 在模型定义时，可以通过设置line=4或8指定输出绝句或律诗，设置word=5或7指定输出五言或七言。\r\n# 默认line=4, word=7 即输出七言绝句。\r\nmodule = hub.Module(name=\"ernie_gen_acrostic_poetry\", line=4, word=7)\r\ntest_texts = ['我喜欢你']\r\nresults = module.generate(texts=test_texts, use_gpu=True, beam_width=5)\r\nfor result in results:\r\n    print(result)\r\n\r\n报错为：cannot import name 'DataFormatError' from 'paddlehub.module.nlp_module' (E:\\Exe\\anaconda\\envs\\ten2.4\\lib\\site-packages\\paddlehub\\module\\nlp_module.py)",
        "state": "closed",
        "user": "ashaokai123",
        "closed_by": "WYB27",
        "created_at": "2021-02-16T00:57:15+00:00",
        "updated_at": "2025-06-30T07:19:53+00:00",
        "closed_at": "2025-06-30T07:19:53+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1242,
        "title": "HubServer object has no attribute 'search_resouce'",
        "body": "\r\n![image](https://user-images.githubusercontent.com/19339784/108477672-7f546980-72ce-11eb-9419-dedd549974b8.png)\r\n另外这个提示里面的resouce单词也拼错了",
        "state": "closed",
        "user": "jiangjiajun",
        "closed_by": "WYB27",
        "created_at": "2021-02-19T08:22:20+00:00",
        "updated_at": "2025-06-30T07:19:49+00:00",
        "closed_at": "2025-06-30T07:19:49+00:00",
        "comments_count": [
            "ShenYuhan",
            "jiangjiajun"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1239,
        "title": "hub serving start multiprocess workers 问题",
        "body": "1）PaddleHub和PaddlePaddle版本：2.0.0\r\n2）MacOS, python 3.7.9\r\n\r\npaddleocr用hub serving start -m ocr_det 加上 --use_multiprocess --workers 4 的话，server会一直boot新的worker, 然后client方一会儿就会connection error,试过好多次都是这样。用了Docker的镜像打包serving的。client方面的错误如下：\r\n```\r\nTraceback (most recent call last):\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 706, in urlopen\r\n    chunked=chunked,\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 445, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 3, in raise_from\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 440, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/http/client.py\", line 1369, in getresponse\r\n    response.begin()\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/http/client.py\", line 310, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/http/client.py\", line 279, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nhttp.client.RemoteDisconnected: Remote end closed connection without response\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/requests/adapters.py\", line 449, in send\r\n    timeout=timeout\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 756, in urlopen\r\n    method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/urllib3/util/retry.py\", line 531, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/urllib3/packages/six.py\", line 734, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 706, in urlopen\r\n    chunked=chunked,\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 445, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 3, in raise_from\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/urllib3/connectionpool.py\", line 440, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/http/client.py\", line 1369, in getresponse\r\n    response.begin()\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/http/client.py\", line 310, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/http/client.py\", line 279, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nurllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"test_hubserving.py\", line 117, in <module>\r\n    main(server_url, image_path)\r\n  File \"test_hubserving.py\", line 87, in main\r\n    r = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/requests/api.py\", line 119, in post\r\n    return request('post', url, data=data, json=json, **kwargs)\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/requests/api.py\", line 61, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/requests/sessions.py\", line 542, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/requests/sessions.py\", line 655, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/Users/bxue/Applications/anaconda/anaconda3/envs/paddleocr/lib/python3.7/site-packages/requests/adapters.py\", line 498, in send\r\n    raise ConnectionError(err, request=request)\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\r\n```\r\nserver方面一直看到booting新的worker.\r\n \r\n",
        "state": "closed",
        "user": "tintinxue1",
        "closed_by": "tintinxue1",
        "created_at": "2021-02-16T14:28:25+00:00",
        "updated_at": "2021-10-22T15:19:12+00:00",
        "closed_at": "2021-02-17T17:28:24+00:00",
        "comments_count": [
            "NATHAN76543217",
            "YasinZhao",
            "tintinxue1",
            "YasinZhao",
            "xiachaoxulu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1241,
        "title": "lac模型不使用我指定的自定词典？",
        "body": "我自定的词典只有一行：\r\n```\r\n抖音\tn\t50000000\r\n```\r\n我在编码里是这样指定自定词典的：\r\n```\r\nlac.set_user_dict(\"utils/customdict_pp.txt\")\r\n```\r\n但是我用lac模型分词的时候，“斗” 和 “音” 还是分成两个词。lac版本2.2.0\r\n\r\n**版本、环境信息:**\r\npaddlehub==2.0.0rc0 \r\npaddlepaddle==2.0.0rc0\r\n\r\n**系统环境：**\r\nMacOS Catalina 10.15.7\r\nPython 3.8.5",
        "state": "closed",
        "user": "cwang23",
        "closed_by": "WYB27",
        "created_at": "2021-02-19T04:19:42+00:00",
        "updated_at": "2025-06-30T07:19:51+00:00",
        "closed_at": "2025-06-30T07:19:51+00:00",
        "comments_count": [
            "KPatr1ck",
            "cwang23"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1243,
        "title": "动漫风景化微信小程序",
        "body": "请问动漫风景化的微信小程序能开源吗\r\n",
        "state": "closed",
        "user": "txssg",
        "closed_by": "WYB27",
        "created_at": "2021-02-19T08:59:48+00:00",
        "updated_at": "2025-06-30T07:19:47+00:00",
        "closed_at": "2025-06-30T07:19:47+00:00",
        "comments_count": [
            "txssg",
            "ShenYuhan",
            "xiaoshuaishuai319"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1245,
        "title": "调用api出现HTTPConnectionPool",
        "body": "开始可以正常使用 电脑无响应自动重新启动后无法使用\r\nrequests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=8866): Max retries exceeded with url: /predict/animegan_v1_hayao_60 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002617BD3C708>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。'))",
        "state": "closed",
        "user": "txssg",
        "closed_by": "txssg",
        "created_at": "2021-02-19T14:19:00+00:00",
        "updated_at": "2021-02-22T02:01:21+00:00",
        "closed_at": "2021-02-22T02:01:21+00:00",
        "comments_count": [
            "haoyuying",
            "txssg",
            "ShenYuhan",
            "txssg"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1244,
        "title": "InvalidArgument",
        "body": "你好意思，搞错了概念",
        "state": "closed",
        "user": "anny0709",
        "closed_by": "haoyuying",
        "created_at": "2021-02-19T10:15:15+00:00",
        "updated_at": "2021-02-22T12:17:45+00:00",
        "closed_at": "2021-02-22T12:17:45+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1248,
        "title": "部署服务后，post请求异常。",
        "body": "#1225 \r\n重新提交问题，有些急，望解惑，谢谢大佬。\r\n@ShenYuhan ",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-02-22T05:53:33+00:00",
        "updated_at": "2025-06-30T07:19:45+00:00",
        "closed_at": "2025-06-30T07:19:45+00:00",
        "comments_count": [],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1247,
        "title": "请问这种方式启动的服务支持的并发量是多少",
        "body": "请问这种方式启动的服务支持的并发量是多少\r\n$ hub serving start -m ernie_gen_acrostic_poetry -p 8866\r\n\r\n欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "guojiahuiEmily",
        "closed_by": "guojiahuiEmily",
        "created_at": "2021-02-21T07:16:19+00:00",
        "updated_at": "2021-02-21T12:20:13+00:00",
        "closed_at": "2021-02-21T12:20:13+00:00",
        "comments_count": [
            "guojiahuiEmily"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1250,
        "title": "安装了paddle-ernie，使用的时候说没安装",
        "body": "\r\n![1](https://user-images.githubusercontent.com/50902619/108810593-6d343d00-75e6-11eb-8f5f-e37f254da8bf.png)\r\n![2](https://user-images.githubusercontent.com/50902619/108810594-6e656a00-75e6-11eb-9e51-3df1ef08f4e7.png)\r\n![3](https://user-images.githubusercontent.com/50902619/108810596-6f969700-75e6-11eb-9f14-b7da2e6be303.png)\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "1084667371",
        "closed_by": "1084667371",
        "created_at": "2021-02-23T06:51:02+00:00",
        "updated_at": "2021-03-05T09:10:39+00:00",
        "closed_at": "2021-03-05T09:10:39+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1253,
        "title": "deeplabv3p_xception65_humanseg",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n\r\n为社么这个模块现在不稳定？\r\nimport os\r\nimport paddlehub as hub\r\nimport cv2\r\nhumanseg = hub.Module(name=\"deeplabv3p_xception65_humanseg\")\r\npath = 'E:/项目/image/'\r\nfiles = os.listdir(path)\r\nimgs = []\r\nfor i in files:\r\n    imgs.append(path+i)\r\nresults = humanseg.segmentation(data = {'image':imgs})\r\n\r\n\r\n[2021-02-23 21:13:48,583] [    INFO] - Installing deeplabv3p_xception65_humanseg module\r\n[2021-02-23 21:13:48,628] [    INFO] - Module deeplabv3p_xception65_humanseg already installed in C:\\Users\\lenovo\\.paddlehub\\modules\\deeplabv3p_xception65_humanseg\r\nTraceback (most recent call last):\r\n  File \"E:/项目/unit3/predict_module/demo2.py\", line 15, in <module>\r\n    results = humanseg.segmentation(data = {'image':imgs})\r\n  File \"C:\\Users\\lenovo\\.paddlehub\\modules\\deeplabv3p_xception65_humanseg\\module.py\", line 95, in segmentation\r\n    for yield_data in reader(images, paths):\r\n  File \"C:\\Users\\lenovo\\.paddlehub\\modules\\deeplabv3p_xception65_humanseg\\data_feed.py\", line 31, in reader\r\n    im = cv2.imread(im_path).astype('float32')\r\nAttributeError: 'NoneType' object has no attribute 'astype'\r\nE:/项目/image/22 .jpg\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n",
        "state": "closed",
        "user": "sunhufei",
        "closed_by": "WYB27",
        "created_at": "2021-02-23T13:17:56+00:00",
        "updated_at": "2025-06-30T07:19:41+00:00",
        "closed_at": "2025-06-30T07:19:41+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1254,
        "title": "下载ernie_tiny模型的时候，报错Can't connect to Hub Server: http://paddlepaddle.org.cn/paddlehub",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n\r\nPaddleHub2.0.0\r\nPaddlePaddle2.0.0\r\n\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nliunx Python 3.6.4\r\n错误描述：\r\n执行如下Python命令：\r\nimport paddlehub as hub\r\nmodel = hub.Module(name='ernie_tiny', task='seq-cls', num_classes=len(MyDataset.label_list))\r\n\r\n报错信息：\r\n\r\n[INFO 2021-02-24 11:40:02,485 filelock.py:274] Lock 140080785034600 acquired on /root/.paddlehub/tmp/ernie_tiny\r\n[INFO 2021-02-24 11:40:02,517 filelock.py:318] Lock 140080785034600 released on /root/.paddlehub/tmp/ernie_tiny\r\n---------------------------------------------------------------------------\r\ngaierror                                  Traceback (most recent call last)\r\n/opt/conda/lib/python3.6/site-packages/urllib3/connection.py in _new_conn(self)\r\n    159             conn = connection.create_connection(\r\n--> 160                 (self._dns_host, self.port), self.timeout, **extra_kw\r\n    161             )\r\n/opt/conda/lib/python3.6/site-packages/urllib3/util/connection.py in create_connection(address, timeout, source_address, socket_options)\r\n     60 \r\n---> 61     for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\r\n     62         af, socktype, proto, canonname, sa = res\r\n/opt/conda/lib/python3.6/socket.py in getaddrinfo(host, port, family, type, proto, flags)\r\n    744     addrlist = []\r\n--> 745     for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\r\n    746         af, socktype, proto, canonname, sa = res\r\ngaierror: [Errno -3] Temporary failure in name resolution\r\n\r\nDuring handling of the above exception, another exception occurred:\r\nNewConnectionError                        Traceback (most recent call last)\r\n/opt/conda/lib/python3.6/site-packages/urllib3/connectionpool.py in urlopen(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)\r\n    676                 headers=headers,\r\n--> 677                 chunked=chunked,\r\n    678             )\r\n/opt/conda/lib/python3.6/site-packages/urllib3/connectionpool.py in _make_request(self, conn, method, url, timeout, chunked, **httplib_request_kw)\r\n    391         else:\r\n--> 392             conn.request(ethod, url, **httplib_request_kw)\r\n    393 \r\n/opt/conda/lib/python3.6/http/client.py in request(self, method, url, body, headers, encode_chunked)\r\n   1238         \"\"\"Send a complete request to the server.\"\"\"\r\n-> 1239         self._send_request(ethod, url, body, headers, encode_chunked)\r\n   1240 \r\n/opt/conda/lib/python3.6/http/client.py in _send_request(self, method, url, body, headers, encode_chunked)\r\n   1284             body = _encode(body, 'body')\r\n-> 1285         self.endheaders(body, encode_chunked=encode_chunked)\r\n   1286 \r\n/opt/conda/lib/python3.6/http/client.py in endheaders(self, message_body, encode_chunked)\r\n   1233             raise CannotSendHeader()\r\n-> 1234         self._send_output(essage_body, encode_chunked=encode_chunked)\r\n   1235 \r\n/opt/conda/lib/python3.6/http/client.py in _send_output(self, message_body, encode_chunked)\r\n   1025         del self._buffer[:]\r\n-> 1026         self.send(sg)\r\n   1027 \r\n/opt/conda/lib/python3.6/http/client.py in send(self, data)\r\n    963             if self.auto_open:\r\n--> 964                 self.connect()\r\n    965             else:\r\n/opt/conda/lib/python3.6/site-packages/urllib3/connection.py in connect(self)\r\n    186     def connect(self):\r\n--> 187         conn = self._new_conn()\r\n    188         self._prepare_conn(conn)\r\n/opt/conda/lib/python3.6/site-packages/urllib3/connection.py in _new_conn(self)\r\n    171             raise NewConnectionError(\r\n--> 172                 self, \"Failed to establish a new connection: %s\" % e\r\n    173             )\r\nNewConnectionError: <urllib3.connection.HTTPConnection object at 0x7f6718e8e710>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution\r\n\r\nDuring handling of the above exception, another exception occurred:\r\nMaxRetryError                             Traceback (most recent call last)\r\n/opt/conda/lib/python3.6/site-packages/requests/adapters.py in send(self, request, stream, timeout, verify, cert, proxies)\r\n    448                     retries=self.ax_retries,\r\n--> 449                     timeout=timeout\r\n    450                 )\r\n/opt/conda/lib/python3.6/site-packages/urllib3/connectionpool.py in urlopen(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)\r\n    724             retries = retries.increment(\r\n--> 725                 ethod, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]\r\n    726             )\r\n/opt/conda/lib/python3.6/site-packages/urllib3/util/retry.py in increment(self, method, url, response, error, _pool, _stacktrace)\r\n    438         if new_retry.is_exhausted():\r\n--> 439             raise MaxRetryError(_pool, url, error or ResponseError(cause))\r\n    440 \r\nMaxRetryError: HTTPConnectionPool(host='paddlepaddle.org.cn', port=80): Max retries exceeded with url: /paddlehub/search?environments=python_version&environments=platform_version&environments=platform_system&environments=platform_architecture&environments=platform_type&word=ernie_tiny&type=module&hub_version=2.0.0&paddle_version=2.0.0 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6718e8e710>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution',))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\nConnectionError                           Traceback (most recent call last)\r\n/opt/conda/lib/python3.6/site-packages/paddlehub/server/server_source.py in request(self, path, params)\r\n    116         try:\r\n--> 117             result = requests.get(api, params, timeout=self._timeout)\r\n    118             return result.json()\r\n/opt/conda/lib/python3.6/site-packages/requests/api.py in get(url, params, **kwargs)\r\n     75     kwargs.setdefault('allow_redirects', True)\r\n---> 76     return request('get', url, params=params, **kwargs)\r\n     77 \r\n/opt/conda/lib/python3.6/site-packages/requests/api.py in request(method, url, **kwargs)\r\n     60     with sessions.Session() as session:\r\n---> 61         return session.request(ethod=ethod, url=url, **kwargs)\r\n     62 \r\n/opt/conda/lib/python3.6/site-packages/requests/sessions.py in request(self, method, url, params, data, headers, cookies, files, auth, timeout, allow_redirects, proxies, hooks, stream, verify, cert, json)\r\n    529         send_kwargs.update(settings)\r\n--> 530         resp = self.send(prep, **send_kwargs)\r\n    531 \r\n/opt/conda/lib/python3.6/site-packages/requests/sessions.py in send(self, request, **kwargs)\r\n    642         # Send the request\r\n--> 643         r = adapter.send(request, **kwargs)\r\n    644 \r\n/opt/conda/lib/python3.6/site-packages/requests/adapters.py in send(self, request, stream, timeout, verify, cert, proxies)\r\n    515 \r\n--> 516             raise ConnectionError(e, request=request)\r\n    517 \r\nConnectionError: HTTPConnectionPool(host='paddlepaddle.org.cn', port=80): Max retries exceeded with url: /paddlehub/search?environments=python_version&environments=platform_version&environments=platform_system&environments=platform_architecture&environments=platform_type&word=ernie_tiny&type=module&hub_version=2.0.0&paddle_version=2.0.0 (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f6718e8e710>: Failed to establish a new connection: [Errno -3] Temporary failure in name resolution',))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\nServerConnectionError                     Traceback (most recent call last)\r\n<ipython-input-36-e3adcb9a8dbc> in <module>\r\n----> 1 odel = hub.Module(name='ernie_tiny', task='seq-cls', num_classes=len(MyDataset.label_list))\r\n/opt/conda/lib/python3.6/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, version, source, update, branch, **kwargs)\r\n    170             if name:\r\n    171                 module = cls.init_with_name(\r\n--> 172                     name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n    173                 CacheUpdater(\"update_cache\", odule=name, version=version).start()\r\n    174             elif directory:\r\n/opt/conda/lib/python3.6/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, source, update, branch, **kwargs)\r\n    261         user_module_cls = anager.search(name, source=source, branch=branch)\r\n    262         if not user_module_cls or not user_module_cls.version.atch(version):\r\n--> 263             user_module_cls = anager.install(name=name, version=version, source=source, update=update, branch=branch)\r\n    264 \r\n    265         directory = anager._get_normalized_path(user_module_cls.name)\r\n/opt/conda/lib/python3.6/site-packages/paddlehub/module/manager.py in install(self, name, directory, archive, url, version, source, update, branch)\r\n    186                 if source:\r\n    187                     return self._install_from_source(name, version, source, update, branch)\r\n--> 188                 return self._install_from_name(name, version)\r\n    189         elif directory:\r\n    190             return self._install_from_directory(directory)\r\n/opt/conda/lib/python3.6/site-packages/paddlehub/module/manager.py in _install_from_name(self, name, version)\r\n    258     def _install_from_name(self, name: str, version: str = None) -> HubModule:\r\n    259         '''Install HubModule by name search result'''\r\n--> 260         result = odule_server.search_module(name=name, version=version)\r\n    261         for item in result:\r\n    262             if name.lower() == item['name'].lower() and utils.Version(item['version']).atch(version):\r\n/opt/conda/lib/python3.6/site-packages/paddlehub/server/server.py in search_module(self, name, version, source, update, branch)\r\n     86         '''\r\n     87         return self.search_resource(\r\n---> 88             type='module', name=name, version=version, source=source, update=update, branch=branch)\r\n     89 \r\n     90     def search_resource(self,\r\n/opt/conda/lib/python3.6/site-packages/paddlehub/server/server.py in search_resource(self, type, name, version, source, update, branch)\r\n    111                 source.checkout(branch)\r\n    112 \r\n--> 113             result = source.search_resource(name=name, type=type, version=version)\r\n    114             if result:\r\n    115                 return result\r\n/opt/conda/lib/python3.6/site-packages/paddlehub/server/server_source.py in search_resource(self, type, name, version)\r\n     75         params['paddle_version'] = paddle.__version__.split('-')[0]\r\n     76 \r\n---> 77         result = self.request(path='search', params=params)\r\n     78         if result['status'] == 0 and len(result['data']) > 0:\r\n     79             return result['data']\r\n/opt/conda/lib/python3.6/site-packages/paddlehub/server/server_source.py in request(self, path, params)\r\n    118             return result.json()\r\n    119         except requests.exceptions.ConnectionError as e:\r\n--> 120             raise ServerConnectionError(self._url)\r\n    121 \r\n    122     def is_connected(self):\r\nServerConnectionError: Can't connect to Hub Server: http://paddlepaddle.org.cn/paddlehub\r\n\r\nServerConnectionError\r\nCan't connect to Hub Server: http://paddlepaddle.org.cn/paddlehub\r\n\r\n\r\n\r\n\r\n说明：计算机网络没有问题\r\n![image](https://user-images.githubusercontent.com/47651345/108944364-8c3dd800-7695-11eb-97ec-90d5004271d0.png)\r\n\r\n",
        "state": "closed",
        "user": "zhiyongLiu1114",
        "closed_by": "WYB27",
        "created_at": "2021-02-24T03:44:19+00:00",
        "updated_at": "2025-06-30T07:19:39+00:00",
        "closed_at": "2025-06-30T07:19:39+00:00",
        "comments_count": [
            "zhiyongLiu1114",
            "ShenYuhan",
            "zhiyongLiu1114",
            "0sxw0",
            "iarno",
            "zhiyongLiu1114"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1252,
        "title": "请给一个含paddlehub的docker",
        "body": " 请给一个含paddlehub的docker。\r\n我自己装的老是缺少缺那，跑不起来。\r\n\r\n File \"/usr/local/python3/lib/python3.8/site-packages/paddlehub/utils/utils.py\", line 18, in <module>\r\n    import cv2\r\n  File \"/usr/local/python3/lib/python3.8/site-packages/cv2/__init__.py\", line 5, in <module>\r\n    from .cv2 import *\r\nImportError: libGL.so.1: cannot open shared object file: No such file or directory\r\n\r\n欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "guojiahuiEmily",
        "closed_by": "WYB27",
        "created_at": "2021-02-23T13:17:21+00:00",
        "updated_at": "2025-06-30T07:19:43+00:00",
        "closed_at": "2025-06-30T07:19:43+00:00",
        "comments_count": [
            "KPatr1ck",
            "60999",
            "60999"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1256,
        "title": "paddlehub加载NER模型预测后标签和原文无法对应",
        "body": "- aistudio中运行项目：PaddleHub2.0——使用动态图版预训练模型ERNIE实现快递单信息抽取\r\n- 训练数据替换为自己的数据，分隔符和示例中的一样，然后生成模型后进行加载，但是预测出来的标签和原文对不上：\r\n- 比如下文的例子模型识别的TIME位置是0-2，但是取0-2的话只能取到202，正确的应该是2022年，这个如何修改\r\n- 模型是用：model = hub.Module(name='ernie', task='token-cls', `label_map=label_map)`\r\n`def parse_chunk_labels(text, labels):\r\n    labels = labels[1:len(text)+1]\r\n    mask = ''\r\n    end_loc = 0\r\n    start_loc = 0\r\n    label_loc = []\r\n    for idx, label in enumerate(labels):\r\n        if label.endswith('-B'):\r\n            start_loc = idx\r\n            mask = label[:-2]\r\n        if label == 'O' and mask != '':\r\n            end_loc = idx\r\n            label_loc.append({mask:[start_loc,end_loc]})\r\n            mask = ''\r\n            end_loc = 0\r\n            start_loc = 0\r\n    for i in label_loc:\r\n        print(i.keys(),i.values())\r\n        for key,value in zip(i.keys(), i.values()):\r\n            print(key,value)\r\n            print(key,'-----',text[value[0]:value[1]])\r\n    return label_loc\r\n\r\nsplit_char = '\\002'\r\ntexts = [\r\n    '2022年全省超高清视频产业总规模超8000亿'\r\n]\r\ndata = [\r\n    [split_char.join(text)] for text in texts\r\n]\r\n\r\nmodel = hub.Module(\r\n    name='ernie', \r\n    task='token-cls', \r\n    load_checkpoint='./ckpt/best_model/model.pdparams', \r\n    label_map=ExpressNER.label_map\r\n)\r\n\r\nresults = model.predict(data, max_seq_len=64, batch_size=32, use_gpu=False)\r\nfor idx, text in enumerate(texts):\r\n    labels = results[idx]\r\n    print(parse_chunk_labels(text, labels))`\r\n\r\n输出：\r\n[2021-02-24 17:27:57,861] [    INFO] - Already cached /home/aistudio/.paddlenlp/models/ernie-1.0/ernie_v1_chn_base.pdparams\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py:1263: UserWarning: Skip loading for classifier.weight. classifier.weight is not found in the provided dict.\r\n  warnings.warn((\"Skip loading for {}. `\".format(key)` + str(err)))\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py:1263: UserWarning: Skip loading for classifier.bias. classifier.bias is not found in the provided dict.\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\n[2021-02-24 17:28:09,726] [    INFO] - Loaded parameters from /home/aistudio/ckpt/best_model/model.pdparams\r\n[2021-02-24 17:28:09,856] [    INFO] - Found /home/aistudio/.paddlenlp/models/ernie-1.0/vocab.txt\r\n\r\n2022年全省超高清视频产业总规模超8000亿\r\nTIME [0, 2]\r\nTIME ----- 20\r\n[{'TIME': [0, 2]}]\r\n![图片](https://user-images.githubusercontent.com/44657953/108981919-320a3a80-76c8-11eb-94eb-3ddb52f6d0f2.png)\r\n\r\n![图片](https://user-images.githubusercontent.com/44657953/108980608-ce334200-76c6-11eb-8d6b-7751ef803cbd.png)\r\n\r\n",
        "state": "closed",
        "user": "geekChinaMaster",
        "closed_by": "WYB27",
        "created_at": "2021-02-24T09:31:58+00:00",
        "updated_at": "2025-06-30T07:19:36+00:00",
        "closed_at": "2025-06-30T07:19:36+00:00",
        "comments_count": [
            "KPatr1ck",
            "geekChinaMaster",
            "geekChinaMaster",
            "KPatr1ck",
            "geekChinaMaster",
            "KPatr1ck",
            "geekChinaMaster"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1260,
        "title": "请问如何把paddlehub的模型发布为百度BML的服务",
        "body": "比如把这里的对对联的paddlehub模型，发布为BML的服务，如何获取模型，如何写脚本\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/1558126\r\n\r\n为使您的问题得到快速解决，在建立Issue前，请您先通过如下方式搜索是否有相似问题:【搜索issue关键字】【使用labels筛选】【官方文档】\r\n\r\n如果您没有查询到相似问题，为快速解决您的提问，建立issue时请提供如下细节信息：\r\n- 标题：简洁、精准描述您的问题，例如“最新预测库的API文档在哪儿 ”\r\n- 版本、环境信息：\r\n    1）PaddlePaddle版本：请提供您的PaddlePaddle版本号（如1.1）或CommitID\r\n    2）CPU：预测若用CPU，请提供CPU型号，MKL/OpenBlas/MKLDNN/等数学库使用情况\r\n    3）GPU：预测若用GPU，请提供GPU型号、CUDA和CUDNN版本号\r\n    4）系统环境：请您描述系统类型、版本（如Mac OS 10.14），Python版本\r\n注：您可以通过执行[summary_env.py](https://github.com/PaddlePaddle/Paddle/blob/develop/tools/summary_env.py)获取以上信息。\r\n-预测信息\r\n    1）C++预测：请您提供预测库安装包的版本信息，及其中的version.txt文件\r\n    2）CMake包含路径的完整命令\r\n    3）API信息（如调用请提供）\r\n    4）预测库来源：官网下载/特殊环境（如BCLOUD编译）\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n- 问题描述：请详细描述您的问题，同步贴出报错信息、日志/代码关键片段\r\n\r\nThank you for contributing to PaddlePaddle.\r\nBefore submitting the issue, you could search issue in the github in case that th\r\nIf there is no solution,please make sure that this is an inference issue including the following details :\r\n**System information**\r\n-PaddlePaddle version （eg.1.1）or CommitID\r\n-CPU: including CPUMKL/OpenBlas/MKLDNN version\r\n-GPU: including CUDA/CUDNN version\r\n-OS Platform (eg.Mac OS 10.14)\r\n-Python version\r\n-Cmake orders\r\n-C++version.txt\r\n-API information\r\nNote: You can get most of the information by running [summary_env.py](https://github.com/PaddlePaddle/Paddle/blob/develop/tools/summary_env.py). \r\n**To Reproduce**\r\nSteps to reproduce the behavior\r\n**Describe your current behavior**\r\n**Code to reproduce the issue**\r\n**Other info / logs**\r\n",
        "state": "closed",
        "user": "guojiahuiEmily",
        "closed_by": "WYB27",
        "created_at": "2021-02-24T09:23:27+00:00",
        "updated_at": "2025-06-30T07:19:37+00:00",
        "closed_at": "2025-06-30T07:19:37+00:00",
        "comments_count": [
            "paddle-bot-old[bot]",
            "hong19860320",
            "KPatr1ck",
            "guojiahuiEmily",
            "ShenYuhan"
        ],
        "labels": [
            "serving",
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1261,
        "title": "paddlehub2.0 fine-tune保存的模型转成paddlehub module之后使用自定义module name预测报错 ",
        "body": "版本：\r\npaddlehub              2.0.0                          \r\npaddlenlp              2.0.0rc2                       \r\npaddlepaddle-gpu       2.0.0.post101\r\npython3.7.4\r\n环境是AIstudio上的高级版\r\nLinux jupyter-635754-1568929 4.13.0-36-generic #40~16.04.1-Ubuntu SMP Fri Feb 16 23:25:58 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n复现了仓库下的 [图片分类demo](https://github.com/PaddlePaddle/PaddleHub/tree/release/v2.0/demo/image_classification)，使用的是自定义数据集，能够正常的训练\r\n可以使用 hub.Module(name='resnet50_vd_imagenet_ssld', label_list=[\"roses\", \"tulips\", \"daisy\", \"sunflowers\", \"dandelion\"], load_checkpoint='/PATH/TO/CHECKPOINT') 的方式预测\r\n但是将finetune转成paddle hub module之后，hub list中有对应的模型（idcard_bill_classify）\r\n再通过 hub.Module(name='idcard_bill_classify'）去预测就会报错\r\n错误： AssertionError: We only support 'to_tensor()' in dynamic graph mode, please call 'paddle.disable_static()' to enter dynamic graph mode.",
        "state": "closed",
        "user": "no7wan7",
        "closed_by": "no7wan7",
        "created_at": "2021-02-25T08:43:45+00:00",
        "updated_at": "2021-03-01T01:31:06+00:00",
        "closed_at": "2021-03-01T01:31:06+00:00",
        "comments_count": [
            "haoyuying",
            "no7wan7",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1263,
        "title": "OCR在做较大图片处理的时候，识别不全",
        "body": "OCR在做较大图片处理的时候，识别不全，请问该如何处理，是将图片手动分割成一定分辨率的小图吗？\r\n![che](https://user-images.githubusercontent.com/79644660/109162299-01eb9600-77b3-11eb-8643-e73469431afb.jpg)\r\n![shibie1](https://user-images.githubusercontent.com/79644660/109162666-70305880-77b3-11eb-954a-fd18685a14d6.jpg)\r\n\r\n上面是一个1678*365的图片，识别不全。\r\n![che1](https://user-images.githubusercontent.com/79644660/109162315-0748e080-77b3-11eb-9ca9-82855c50d916.jpg)\r\n![shibie](https://user-images.githubusercontent.com/79644660/109162701-78889380-77b3-11eb-926a-4e647ba9a7f8.jpg)\r\n\r\n把其中一部分切出来，397*353，就能识别全了。\r\n请问这个问题如果解析大图的时候该怎么处理，需要手动切割图片吗？还是对上传的图片有分辨率的限制？\r\n我本地运行的是paddle 2.0 ，chinese_ocr_db_crnn_mobile 1.1.1。上面的截图用的在线演示的。和本地运行的结果基本一致。大图都会漏掉不少。",
        "state": "closed",
        "user": "shaoshu98",
        "closed_by": "WYB27",
        "created_at": "2021-02-25T13:43:07+00:00",
        "updated_at": "2025-06-30T07:19:34+00:00",
        "closed_at": "2025-06-30T07:19:34+00:00",
        "comments_count": [
            "ShenYuhan",
            "ljwmusclenlper"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1264,
        "title": "TypeError: 'property' object is not callable",
        "body": "- 版本、环境信息\r\n1）paddlehub          2.0.0\r\npaddlepaddle       2.0.0rc0\r\n2）系统环境：MacOS，python3.7\r\n\r\n报错信息：TypeError: 'property' object is not callable\r\n在执行\r\n`hub run lac --input_text \"今天是个好日子\"`\r\n时报错。全部报错信息如下：\r\n`/Users/andy/anaconda3/envs/python37/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/Users/andy/anaconda3/envs/python37/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\nTraceback (most recent call last):\r\n  File \"/Users/andy/anaconda3/envs/python37/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/Users/andy/anaconda3/envs/python37/lib/python3.7/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/Users/andy/anaconda3/envs/python37/lib/python3.7/site-packages/paddlehub/commands/run.py\", line 56, in execute\r\n    result = module._run_func(argv[1:])\r\nTypeError: 'property' object is not callable`",
        "state": "closed",
        "user": "Andy546",
        "closed_by": "WYB27",
        "created_at": "2021-02-26T01:19:09+00:00",
        "updated_at": "2025-06-30T07:19:32+00:00",
        "closed_at": "2025-06-30T07:19:32+00:00",
        "comments_count": [
            "KPatr1ck",
            "Andy546",
            "1084667371"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1266,
        "title": "hub serving start 进程消失",
        "body": "1）PaddleHub和PaddlePaddle版本：\r\n![image](https://user-images.githubusercontent.com/22120157/109259759-d6f75580-7837-11eb-81cf-39f8aba87e76.png)\r\n\r\n2）系统环境：Windonw wsl2 Ubuntu，python3.7.9\r\n使用hub serving start -m ocr_det后 进程没有了，端口也没有对应的hub服务\r\n![image](https://user-images.githubusercontent.com/22120157/109259838-fee6b900-7837-11eb-9a50-2c8c557c22a7.png)\r\n\r\nhub show ocr_det\r\n![image](https://user-images.githubusercontent.com/22120157/109259725-c5ae4900-7837-11eb-8303-b4ca504ddc32.png)\r\nhub list \r\n![image](https://user-images.githubusercontent.com/22120157/109259818-f1c9ca00-7837-11eb-85a0-f283682672b1.png)\r\n\r\n此外，还发现在hub install 对应文件夹下的config.json中版本好并没有用，config里面写的是2.0.0，hub list中还是1.0.0\r\n\r\n模型使用的paddleOcr提供的服务端文本检测ch_ppocr_server_v2.0_det_infer\r\n",
        "state": "closed",
        "user": "Goghzki",
        "closed_by": "WYB27",
        "created_at": "2021-02-26T05:41:33+00:00",
        "updated_at": "2025-06-30T07:19:30+00:00",
        "closed_at": "2025-06-30T07:19:30+00:00",
        "comments_count": [
            "ShenYuhan",
            "Goghzki"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1267,
        "title": "DataLoader reader thread raised an exception",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.0.0，PaddlePaddle2.0\r\n2）系统环境：MacOS，python 3.8\r\n\r\n运行PaddleHub-release-v2.0/demo/sequence_labeling 报错\r\n\r\n```\r\n/Users/rai/opt/anaconda3/envs/paddle/bin/python /Users/rai/PycharmProjects/med_entity/PaddleHub-release-v2.0/demo/sequence_labeling/train.py\r\n/Users/rai/opt/anaconda3/envs/paddle/lib/python3.8/site-packages/pip/_vendor/packaging/version.py:127: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  warnings.warn(\r\n/Users/rai/opt/anaconda3/envs/paddle/lib/python3.8/site-packages/pip/_vendor/packaging/version.py:127: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  warnings.warn(\r\n[2021-02-26 16:58:56,987] [    INFO] - Already cached /Users/rai/.paddlenlp/models/ernie-tiny/ernie_tiny.pdparams\r\n/Users/rai/opt/anaconda3/envs/paddle/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py:1263: UserWarning: Skip loading for classifier.weight. classifier.weight is not found in the provided dict.\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\n/Users/rai/opt/anaconda3/envs/paddle/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py:1263: UserWarning: Skip loading for classifier.bias. classifier.bias is not found in the provided dict.\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\n[2021-02-26 16:59:05,411] [    INFO] - Found /Users/rai/.paddlenlp/models/ernie-tiny/vocab.txt\r\n[2021-02-26 16:59:05,420] [    INFO] - Found /Users/rai/.paddlenlp/models/ernie-tiny/spm_cased_simp_sampled.model\r\n[2021-02-26 16:59:05,422] [    INFO] - Found /Users/rai/.paddlenlp/models/ernie-tiny/dict.wordseg.pickle\r\n[2021-02-26 16:59:42,962] [ WARNING] - PaddleHub model checkpoint not found, start from scratch...\r\nWARNING:root:DataLoader reader thread raised an exception.\r\nException in thread Thread-3:\r\nTraceback (most recent call last):\r\n  File \"/Users/rai/opt/anaconda3/envs/paddle/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\r\nTraceback (most recent call last):\r\n  File \"/Users/rai/PycharmProjects/med_entity/PaddleHub-release-v2.0/demo/sequence_labeling/train.py\", line 66, in <module>\r\n    trainer.train(\r\n  File \"/Users/rai/opt/anaconda3/envs/paddle/lib/python3.8/site-packages/paddlehub/finetune/trainer.py\", line 197, in train\r\n    for batch_idx, batch in enumerate(loader):\r\n  File \"/Users/rai/opt/anaconda3/envs/paddle/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 365, in __next__\r\n    return self._reader.read_next_var_list()\r\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at /home/teamcity/work/ef54dc8a5b211854/paddle/fluid/operators/reader/blocking_queue.h:158)\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n",
        "state": "closed",
        "user": "Ryan906k9",
        "closed_by": "Ryan906k9",
        "created_at": "2021-02-26T09:04:29+00:00",
        "updated_at": "2021-04-13T12:57:35+00:00",
        "closed_at": "2021-03-01T09:24:21+00:00",
        "comments_count": [
            "KPatr1ck",
            "Ryan906k9",
            "KPatr1ck",
            "Ryan906k9",
            "jeffzhengye"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1268,
        "title": "predictor.zero_copy_run()",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n\r\n使用paddlehub封装，运行这一步的时候，卡死了，但是在原来的infer.py 可以在很短的时间运行出来\r\n",
        "state": "closed",
        "user": "sunhufei",
        "closed_by": "WYB27",
        "created_at": "2021-02-26T15:32:57+00:00",
        "updated_at": "2025-06-30T07:19:28+00:00",
        "closed_at": "2025-06-30T07:19:28+00:00",
        "comments_count": [
            "haoyuying",
            "sunhufei"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1269,
        "title": "文本分类Demo因读入Dataset训练时未对batch做padding引起Blocking queue is killed because the data reader raises an exception",
        "body": "- 版本、环境信息\r\n1）PaddleHub2.0.1，paddlepaddle-gpu 2.0.0\r\n2）Ubuntu 16.04 Python 3.7.0\r\n- 最小复现代码\r\nimport paddle\r\nimport paddlehub as hub\r\nmodel = hub.Module(name='roberta-wwm-ext-large', task='seq-cls', num_classes=2)\r\ntrain_dataset = hub.datasets.ChnSentiCorp(\r\ntokenizer=model.get_tokenizer(), max_seq_len=128, mode='train')\r\ndev_dataset = hub.datasets.ChnSentiCorp(\r\ntokenizer=model.get_tokenizer(), max_seq_len=128, mode='dev')\r\noptimizer = paddle.optimizer.Adam(learning_rate=5e-5, parameters=model.parameters())\r\ntrainer = hub.Trainer(model, optimizer, checkpoint_dir='test_ernie_text_cls')\r\ntrainer.train(train_dataset, epochs=3, batch_size=32, eval_dataset=dev_dataset)\r\n\r\n- 原因排查\r\n观察发现报错为：\r\nFile \"/home/daniel/anaconda3/lib/python3.7/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 90, in default_collate_fn\r\ntmp = np.stack(slot, axis=0)\r\n排查一个batch内的数据，发现每个样本的shape不相同，所以引起np.stack报错\r\n",
        "state": "closed",
        "user": "vForce825",
        "closed_by": "WYB27",
        "created_at": "2021-03-01T10:04:31+00:00",
        "updated_at": "2025-06-30T07:19:26+00:00",
        "closed_at": "2025-06-30T07:19:26+00:00",
        "comments_count": [
            "KPatr1ck",
            "vForce825"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1271,
        "title": "AttributeError: partially initialized module 'paddlehub' has no attribute 'Module' (most likely due to a circular import)",
        "body": "环境：\r\nwindows 10 \r\npaddlepaddle 2.0  paddlehub 2.0.1\r\n\r\n运行代码：\r\nimport paddlehub as hub\r\nimport cv2\r\n\r\nocr = hub.Module(name=\"chinese_ocr_db_crnn_mobile\")\r\nresult = ocr.recognize_text(images=[cv2.imread('./image/20210112190124.bmp')])\r\n\r\nprint(result)\r\n\r\n代码参考的：\r\n代码示例\r\nhttps://www.paddlepaddle.org.cn/hubdetail?name=chinese_ocr_db_crnn_mobile&en_category=TextRecognition\r\n\r\n错误信息：\r\n    ocr = hub.Module(name=\"chinese_ocr_db_crnn_mobile\")\r\nAttributeError: partially initialized module 'paddlehub' has no attribute 'Module' (most likely due to a circular import)\r\n\r\n其他：\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/release/v2.0/modules/image/text_recognition/README.md\r\n高精度文字识别链接指向的是一个超轻量级中文OCR模型\r\n\r\n以上。\r\n 谢谢！\r\n\r\n",
        "state": "closed",
        "user": "mr-abccc",
        "closed_by": "mr-abccc",
        "created_at": "2021-03-01T12:37:55+00:00",
        "updated_at": "2021-03-02T09:36:44+00:00",
        "closed_at": "2021-03-02T09:36:44+00:00",
        "comments_count": [
            "mr-abccc",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1272,
        "title": "文本分类Demo没有使用GPU",
        "body": "- 使用版本\r\nPaddlePaddle 2.0.0\r\nPaddlehub 2.0\r\nPaddlenlp 2.0.0rc2\r\n\r\n- 复现代码\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/1598752\r\n\r\n- 现象描述\r\n观察发现GPU利用率一直为0，且Module载入后显存占用不再变化。开始训练后也没有进一步显存增加\r\n",
        "state": "closed",
        "user": "vForce825",
        "closed_by": "vForce825",
        "created_at": "2021-03-02T06:55:52+00:00",
        "updated_at": "2021-03-02T08:26:58+00:00",
        "closed_at": "2021-03-02T08:26:58+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1275,
        "title": "使用paddlehub进行ner预测出现错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n在ai studio中运行项目PaddleHub2.0——使用动态图版预训练模型ERNIE实现快递单信息抽取中，使用自己的数据训练模型并进行预测，同样的环境昨天还可以正确出来结果，但是今天重启了报错了，报错结果如下图：\r\n看着是keyError：segment_ids，但是昨天好好的\r\n\r\n![图片](https://user-images.githubusercontent.com/44657953/109640428-6e87db80-7b8b-11eb-99cf-87e1f2f62930.png)\r\n\r\n同样在另一个项目PaddleHub2.0——使用动态图版预训练模型ERNIE实现文新闻本分类里面也出现差不多的情况，这个项目我没有做任何改动，但是出现了错误这是怎么回事\r\n![图片](https://user-images.githubusercontent.com/44657953/109642810-68472e80-7b8e-11eb-88d8-d7eea5b9b023.png)\r\n",
        "state": "closed",
        "user": "geekChinaMaster",
        "closed_by": "WYB27",
        "created_at": "2021-03-02T11:16:33+00:00",
        "updated_at": "2025-06-30T07:19:24+00:00",
        "closed_at": "2025-06-30T07:19:24+00:00",
        "comments_count": [
            "geekChinaMaster",
            "KPatr1ck",
            "geekChinaMaster"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1278,
        "title": "nlp自定义数据集完成迁移学习的代码问题",
        "body": "- 版本、环境信息\r\n1）PaddleHub2.0.4\r\n      PaddlePaddle2.0.0\r\n2）系统环境：AI Studio\r\n\r\n根据帮助文档，我想试着导入自定义的数据集。但是示例代码中有一部分我始终没法跑：\r\nimport paddlehub as hub\r\nmodel = hub.Module(name='ernie_tiny', task='seq-cls', num_classes=len(MyDataset.label_list))\r\ntokenizer = model.get_tokenizer()\r\n\r\n报错会提示说task、num_classes这两个参数是不存在的，以及get_tokenizer方法也是不存在的。\r\n我查看了源码，Module是只在‘PaddleHub/paddlehub/module/module.py’这里有，且没有task、num_classes等参数。\r\nget_tokenizer有很多，但是Module下好像是没有的。\r\n\r\n请问这应该怎么解决/(ㄒoㄒ)/~~倒在了第一步导入数据上\r\n谢谢",
        "state": "closed",
        "user": "qinyangliu",
        "closed_by": "qinyangliu",
        "created_at": "2021-03-04T07:09:39+00:00",
        "updated_at": "2021-03-04T08:27:37+00:00",
        "closed_at": "2021-03-04T08:27:37+00:00",
        "comments_count": [
            "qinyangliu",
            "qinyangliu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1277,
        "title": "关于图片分类，未知分类的处理",
        "body": "通过paddlehub做了2分类后，他的结果只返回这两个类的概率，例如猫狗分类，你上传一张鸟的图，他都以猫狗分类来判断它是猫或者狗，如何去避免这种情况，paddlehub有没有这种参数去设置，先去比较特征值，如果传入的图 不属于该2分类里的元素就做提示。忘解答疑惑\r\n",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-03-04T03:05:10+00:00",
        "updated_at": "2025-06-30T07:19:22+00:00",
        "closed_at": "2025-06-30T07:19:22+00:00",
        "comments_count": [
            "haoyuying",
            "suntao2015005848"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1279,
        "title": "您好，可不可以发一下肺炎CT影像分析模型（Pneumonia-CT-LKM-PP）这个模型的理论过程介绍，用于本科毕业设计论文。",
        "body": "您好，可不可以发一下肺炎CT影像分析模型（Pneumonia-CT-LKM-PP）这个模型的理论过程介绍，用于本科毕业设计论文。",
        "state": "closed",
        "user": "chou-er",
        "closed_by": "WYB27",
        "created_at": "2021-03-04T09:58:04+00:00",
        "updated_at": "2025-06-30T07:19:20+00:00",
        "closed_at": "2025-06-30T07:19:20+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1280,
        "title": "NLP 实体序列标注错位的问题",
        "body": "Paddle 2.0\r\nPaddlehub 2.0.0\r\nPaddlenlp 2.0.0rc2\r\nname='ernie_tiny',\r\nversion='2.0.1',\r\ntask='token-cls',\r\n\r\n使用自定义数据集进行实体标注的 finetune，训练已经收敛，但是预测的时候会发现很多错位的问题\r\n比如：\r\n```\r\nText:\r\n右肝肿瘤4个，大于1cm，MVI分级：M2级。 \r\nLable: \r\nB-Tloc, I-Tloc, O, O, B-Tnum, I-Tnum, O, O, O, O, O, O, O, O, O, O, O, O, O, B-MVI, I-MVI, I-MVI, O \r\n\r\nText:\r\n2、（右肝肿瘤，癌栓4个，大于1cm，MVI分级：M2级。 \r\nLable: \r\nO, O, O, B-Tloc, I-Tloc, O, O, O, O, O, O, B-Tnum, I-Tnum, O, O, O, O, O, O, O, O, O, O, O, O, O, B-MVI, I-MVI, I-MVI \r\n```\r\n上面这个例子中，正确的应该是：\r\nB-Tnum, I-Tnum 对应 “4个”\r\nB-MVI, I-MVI, I-MVI 对应 M2级\r\n\r\n但是有时候会错位，变成：\r\nB-Tnum, I-Tnum 对应 “个，”\r\nB-MVI, I-MVI, I-MVI 对应 “2级。”\r\n\r\n训练集检查过都没有问题，训练也f1接近95%以上了，请问出现这种情况有可能是什么原因？",
        "state": "closed",
        "user": "Ryan906k9",
        "closed_by": "WYB27",
        "created_at": "2021-03-04T10:13:01+00:00",
        "updated_at": "2025-06-30T07:19:18+00:00",
        "closed_at": "2025-06-30T07:19:18+00:00",
        "comments_count": [
            "KPatr1ck",
            "Ryan906k9"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1282,
        "title": "python2.7：import paddlehub报错：from nltk.probability import FreqDist：SyntaxError: invalid syntax",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\nPaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：\r\nubuntu 18.04 ，python 2.7.17\r\n- 复现信息：\r\nimport paddlehub as hub\r\n![image](https://user-images.githubusercontent.com/58903762/110071227-a030ba80-7db6-11eb-9175-ea9ab388c4f5.png)\r\n\r\n尝试注释解决，但是该模块中会有其他除print部分依然报错。",
        "state": "closed",
        "user": "Irvingao",
        "closed_by": "Irvingao",
        "created_at": "2021-03-05T05:29:13+00:00",
        "updated_at": "2021-03-20T13:38:22+00:00",
        "closed_at": "2021-03-20T13:38:22+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1283,
        "title": "启动hubserving ocr_system 请求报错ResourceExhaustedError",
        "body": "版本、环境信息\r\n1）paddlehub.version'2.0.4'\r\n2）paddlepaddle.version'2.0.0' cpu版\r\n3）ubuntu 16.04\r\n4)   python 3.7.8\r\n\r\n启动后发送请求成功 但报错ResourceExhaustedError: Fail to alloc memory of 564023296 size, error code is 12\r\n没有使用GPU。\r\n请求后返回：\r\n{\r\n    \"msg\": \"In user code:\\n\\n    File \\\"tools/export_model.py\\\", line 67, in <module>\\n      main()\\n    File \\\"tools/export_model.py\\\", line 62, in main\\n      paddle.jit.save(model, save_path)\\n    File \\\"<decorator-gen-60>\\\", line 2, in save\\n      \\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\\\", line 25, in __impl__\\n      return wrapped_func(*args, **kwargs)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\\\", line 38, in __impl__\\n      return func(*args, **kwargs)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/jit.py\\\", line 680, in save\\n      concrete_program = static_func.concrete_program\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\\\", line 461, in concrete_program\\n      concrete_program, _ = self.get_concrete_program(*input_spec)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\\\", line 401, in get_concrete_program\\n      concrete_program, partial_program_layer = self._program_cache[cache_key]\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\\\", line 684, in __getitem__\\n      self._caches[item] = self._build_once(item)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\\\", line 675, in _build_once\\n      class_instance=cache_key.class_instance)\\n    File \\\"<decorator-gen-58>\\\", line 2, in from_func_spec\\n      \\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\\\", line 25, in __impl__\\n      return wrapped_func(*args, **kwargs)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\\\", line 38, in __impl__\\n      return func(*args, **kwargs)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\\\", line 625, in from_func_spec\\n      outputs = static_func(*inputs)\\n    File \\\"/tmp/tmpcwgsnp00.py\\\", line 22, in forward\\n      false_fn_1, (x,), (x,), (x,))\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\\\", line 210, in convert_ifelse\\n      return _run_py_ifelse(pred, true_fn, false_fn, true_args, false_args)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\\\", line 235, in _run_py_ifelse\\n      return true_fn(*true_args) if pred else false_fn(*false_args)\\n    File \\\"/paddle/DB/PaddleOCR-dev/ocr-latest/PaddleOCR/ppocr/modeling/architectures/base_model.py\\\", line 76, in forward\\n      x = self.neck(x)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\\\", line 884, in __call__\\n      outputs = self.forward(*inputs, **kwargs)\\n    File \\\"/paddle/DB/PaddleOCR-dev/ocr-latest/PaddleOCR/ppocr/modeling/necks/db_fpn.py\\\", line 110, in forward\\n      p2 = self.p2_conv(out2)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\\\", line 884, in __call__\\n      outputs = self.forward(*inputs, **kwargs)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/nn/layer/conv.py\\\", line 644, in forward\\n      use_cudnn=self._use_cudnn)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/nn/functional/conv.py\\\", line 144, in _conv_nd\\n      type=op_type, inputs=inputs, outputs=outputs, attrs=attrs)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\\\", line 43, in append_op\\n      return self.main_program.current_block().append_op(*args, **kwargs)\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/framework.py\\\", line 2846, in append_op\\n      attrs=kwargs.get(\\\"attrs\\\", None))\\n    File \\\"/usr/local/lib/python3.7/site-packages/paddle/fluid/framework.py\\\", line 1931, in __init__\\n      for frame in traceback.extract_stack():\\n\\n    ResourceExhaustedError: Fail to alloc memory of 564023296 size, error code is 12.\\n      [Hint: Expected error == 0, but received error:12 != 0:0.] (at /paddle/paddle/fluid/memory/detail/system_allocator.cc:66)\\n      [operator < conv2d > error]\",\r\n    \"results\": \"\",\r\n    \"status\": \"101\"\r\n}\r\n\r\n",
        "state": "closed",
        "user": "Fraudsterrrr",
        "closed_by": "Fraudsterrrr",
        "created_at": "2021-03-05T06:39:22+00:00",
        "updated_at": "2023-11-09T09:07:08+00:00",
        "closed_at": "2023-11-09T09:07:08+00:00",
        "comments_count": [
            "Fraudsterrrr",
            "Fraudsterrrr"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1284,
        "title": "paddlehub 1.8.3 句子相似度demo报错 是否是模型接口变化了？",
        "body": "运行代码为PaddleHub/demo/sentence_similarity/sensim.py\r\n\r\n[2021-03-05 19:19:01,593] [    INFO] - Installing word2vec_skipgram module\r\n[2021-03-05 19:19:01,599] [    INFO] - Module word2vec_skipgram already installed in C:\\Users\\Mao Xueyu\\.paddlehub\\modules\\word2vec_skipgram\r\nTraceback (most recent call last):\r\n  File \"D:\\JetBrains\\PyCharm Community Edition 2019.3.1\\plugins\\python-ce\\helpers\\pydev\\pydevd.py\", line 1434, in _exec\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"D:\\JetBrains\\PyCharm Community Edition 2019.3.1\\plugins\\python-ce\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"E:/tmp/tmp3.py\", line 27, in <module>\r\n    word_ids = inputs[\"word_ids\"]\r\nKeyError: 'word_ids'",
        "state": "closed",
        "user": "Macxy2018",
        "closed_by": "Macxy2018",
        "created_at": "2021-03-05T11:23:27+00:00",
        "updated_at": "2021-03-05T11:50:11+00:00",
        "closed_at": "2021-03-05T11:50:11+00:00",
        "comments_count": [
            "Macxy2018"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1285,
        "title": "DDParser 0.1.2 与 paddlehub 1.8.3中的word2vec_skipgram模型不能同时使用吗？",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.8.3，PaddlePaddle1.8.5\r\n2）系统环境：请您描述系统类型，例如Windows，python版本3.6\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nimport numpy as np\r\nimport scipy\r\nfrom scipy.spatial import distance\r\n\r\nfrom paddlehub.reader.tokenization import load_vocab\r\nimport paddle.fluid as fluid\r\nimport paddlehub as hub\r\nfrom ddparser import DDParser\r\n\r\n\r\ndef convert_tokens_to_ids(vocab, text):\r\n    wids = []\r\n    tokens = text.split(\" \")\r\n    for token in tokens:\r\n        wid = vocab.get(token, None)\r\n        if not wid:\r\n            wid = vocab[\"unknown\"]\r\n        wids.append(wid)\r\n    return wids\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    module = hub.Module(name=\"word2vec_skipgram\", version='1.0.0')\r\n    inputs, outputs, program = module.context(trainable=False)\r\n    vocab = load_vocab(module.get_vocab_path())\r\n\r\n    word_ids = inputs[\"word_ids\"]\r\n    embedding = outputs[\"word_embs\"]\r\n\r\n    place = fluid.CPUPlace()\r\n    exe = fluid.Executor(place)\r\n    feeder = fluid.DataFeeder(feed_list=[word_ids], place=place)\r\n\r\n    ddp = DDParser(\r\n        prob=True,\r\n        use_pos=True\r\n    )\r\n\r\n    data = [\r\n        [\r\n            \"驾驶违章一次扣12分用两个驾驶证处理可以吗\",\r\n            \" 一次性扣12分的违章, 能用不满十二分的驾驶证扣分吗\"\r\n        ],\r\n        [\"水果放冰箱里储存好吗\", \"中国银行纪念币网上怎么预约\"],\r\n        [\"电脑反应很慢怎么办\", \"反应速度慢, 电脑总是卡是怎么回事\"],\r\n    ]\r\n\r\n    for item in data:\r\n        item[0] = ' '.join(ddp.parse(item[0])[0]['word'])\r\n        item[1] = ' '.join(ddp.parse(item[1])[0]['word'])\r\n        text_a = convert_tokens_to_ids(vocab, item[0])\r\n        text_b = convert_tokens_to_ids(vocab, item[1])\r\n\r\n        vecs_a, = exe.run(\r\n            program,\r\n            feed=feeder.feed([[text_a]]),\r\n            fetch_list=[embedding.name],\r\n            return_numpy=False)\r\n        vecs_a = np.array(vecs_a)\r\n        vecs_b, = exe.run(\r\n            program,\r\n            feed=feeder.feed([[text_b]]),\r\n            fetch_list=[embedding.name],\r\n            return_numpy=False)\r\n        vecs_b = np.array(vecs_b)\r\n\r\n        sent_emb_a = np.sum(vecs_a, axis=0)\r\n        sent_emb_b = np.sum(vecs_b, axis=0)\r\n        cos_sim = 1 - distance.cosine(sent_emb_a, sent_emb_b)\r\n\r\n        print(\"text_a: %s; text_b: %s; cosine_similarity: %.5f\" %\r\n              (item[0], item[1], cos_sim))\r\n\r\n报错信息\r\n\r\n[2021-03-05 19:56:35,608] [    INFO] - Installing word2vec_skipgram module-1.0.0\r\n[2021-03-05 19:56:35,610] [    INFO] - Module word2vec_skipgram-1.0.0 already installed in C:\\Users\\Mao Xueyu\\.paddlehub\\modules\\word2vec_skipgram\r\nTraceback (most recent call last):\r\n  File \"D:\\JetBrains\\PyCharm Community Edition 2019.3.1\\plugins\\python-ce\\helpers\\pydev\\pydevd.py\", line 1434, in _exec\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"D:\\JetBrains\\PyCharm Community Edition 2019.3.1\\plugins\\python-ce\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"E:/tmp/tmp2.py\", line 158, in <module>\r\n    sswv = SenSimWV()\r\n  File \"E:/tmp/tmp2.py\", line 47, in __init__\r\n    module = hub.Module(name=\"word2vec_skipgram\", version='1.0.0')\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 186, in init_with_directory\r\n    return ModuleV1(directory=directory, **kwargs)\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 321, in __init__\r\n    self.helper.model_path(), executor=exe)\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\io.py\", line 1397, in load_inference_model\r\n    program = Program.parse_from_string(program_desc_str)\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 4361, in parse_from_string\r\n    p._sync_with_cpp()\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 4561, in _sync_with_cpp\r\n    block._sync_with_cpp()\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2730, in _sync_with_cpp\r\n    op = Operator(self, op_desc)\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 1832, in __init__\r\n    \"`type` to initialized an Operator can not be None.\")\r\nValueError: `type` to initialized an Operator can not be None.\r\n",
        "state": "closed",
        "user": "Macxy2018",
        "closed_by": "Macxy2018",
        "created_at": "2021-03-05T12:01:14+00:00",
        "updated_at": "2021-03-29T10:23:44+00:00",
        "closed_at": "2021-03-29T10:23:44+00:00",
        "comments_count": [
            "KPatr1ck",
            "Macxy2018",
            "KPatr1ck",
            "Macxy2018"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1286,
        "title": "AutoDL Finetuner这个功能在2.0版本还提供吗？",
        "body": "AutoDL Finetuner这个功能在2.0版本还提供吗，还是说整合到其他仓库了？1.*的版本我看还是有的。",
        "state": "closed",
        "user": "Suphx",
        "closed_by": "Suphx",
        "created_at": "2021-03-06T01:20:07+00:00",
        "updated_at": "2021-04-02T14:45:01+00:00",
        "closed_at": "2021-04-02T14:45:01+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1287,
        "title": "Jetson nano 安装好paddlehub后，import paddlehub崩溃",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\nPaddleHub2.0.4，PaddlePaddle-gpu 2.0\r\n2）系统环境：\r\nJetson  nano JetPack 4.4.1\r\nUbuntu 18.04\r\npython 3.6.9\r\n- 复现信息：\r\n`>>> import paddlehub        \r\nIllegal instruction (core dumped)`\r\n\r\n",
        "state": "closed",
        "user": "Irvingao",
        "closed_by": "Irvingao",
        "created_at": "2021-03-06T05:33:19+00:00",
        "updated_at": "2021-03-20T13:40:15+00:00",
        "closed_at": "2021-03-20T13:40:15+00:00",
        "comments_count": [
            "haoyuying",
            "Irvingao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1288,
        "title": "PaddleOCR识别小图片问题",
        "body": "1）PaddleHub 2.0.4，PaddlePaddle 2.0.1\r\n2）系统环境：Win系统，python3.7.6，\r\n- 复现信息：加载的模型为 chinese_ocr_db_crnn_server， 识别的图片大小为100*25像素\r\n- 报错信息：`W0306 15:45:24.032341 24408 analysis_predictor.cc:1145] Deprecated. Please use CreatePredictor instead.\r\n`",
        "state": "closed",
        "user": "RainPersonal",
        "closed_by": "WYB27",
        "created_at": "2021-03-06T07:51:48+00:00",
        "updated_at": "2025-06-30T07:19:16+00:00",
        "closed_at": "2025-06-30T07:19:16+00:00",
        "comments_count": [
            "haoyuying",
            "Relax-87"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1289,
        "title": "paddleocr 在树莓派4B的使用",
        "body": "再树莓派4B中无法安装paddleOCR，请问有没有什么解决办法",
        "state": "closed",
        "user": "wudinggui-qwe",
        "closed_by": "WYB27",
        "created_at": "2021-03-07T05:31:00+00:00",
        "updated_at": "2025-06-30T07:19:14+00:00",
        "closed_at": "2025-06-30T07:19:14+00:00",
        "comments_count": [
            "wudinggui-qwe",
            "ShenYuhan",
            "bbhxwl"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1290,
        "title": "config.enable_mkldnn()  启用加速后，结果出现了不明事物",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\npaddle 2.0.0  paddlehub 1.7.1 \r\n\r\n\r\ne[37m---    fused 0 scale with matmule[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patternse[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patterns with transpose's xshapee[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patterns with reshape's xshapee[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patterns with reshape's xshape with transpose's xshapee[0m\r\ne[37m---    Fused 0 MatmulTransposeReshape patternse[0m\r\ne[37m---    fused 0 batch norm with relu activatione[0m\r\n\r\n\r\n\r\n这个东西怎么消去。\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "sunhufei",
        "closed_by": "WYB27",
        "created_at": "2021-03-08T05:15:19+00:00",
        "updated_at": "2025-06-30T07:19:13+00:00",
        "closed_at": "2025-06-30T07:19:12+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1291,
        "title": "paddlehub无法检测到戴口罩人脸",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nPaddlePaddle2.0.0/windows\r\n输入图片大小为2736*2736时，无法检测到戴口罩人脸，返回值是空的\r\n程序如下：\r\n![code](https://user-images.githubusercontent.com/80250168/110309669-991ade00-803c-11eb-90fa-b233e56ce4b7.PNG)\r\n报错如下：\r\n![error](https://user-images.githubusercontent.com/80250168/110309889-dbdcb600-803c-11eb-9eb8-d9ea7241189f.PNG)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "marimua",
        "closed_by": "WYB27",
        "created_at": "2021-03-08T11:05:15+00:00",
        "updated_at": "2025-06-30T07:19:11+00:00",
        "closed_at": "2025-06-30T07:19:11+00:00",
        "comments_count": [
            "haoyuying",
            "marimua",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1292,
        "title": "PaddleHub导入出现错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub 2.0.0\r\n2）系统环境：Windows，python 3.7\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n![image](https://user-images.githubusercontent.com/54427695/110341063-ea3ec800-8064-11eb-97b8-5219acd8d89b.png)\r\n",
        "state": "closed",
        "user": "ElieenAndBella",
        "closed_by": "ElieenAndBella",
        "created_at": "2021-03-08T15:20:53+00:00",
        "updated_at": "2021-03-21T04:10:43+00:00",
        "closed_at": "2021-03-21T04:10:43+00:00",
        "comments_count": [
            "haoyuying",
            "ElieenAndBella"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1295,
        "title": "使用paddlehub2.0进行文本分类，如何修改模型可以支持一个文本对应多个分类",
        "body": "您好，使用paddlehub2.0进行文本分类，如何修改模型可以支持一个文本对应多个分类\r\n环境是ai studio，运行项目PaddleHub2.0——使用动态图版预训练模型ERNIE实现文新闻本分类\r\n但是当前项目只能实现一篇文本一个分类，如何实现一个文本对应多个分类，需要修改什么地方，怎么去修改\r\n谢谢~",
        "state": "closed",
        "user": "geekChinaMaster",
        "closed_by": "WYB27",
        "created_at": "2021-03-09T09:31:23+00:00",
        "updated_at": "2025-06-30T07:19:07+00:00",
        "closed_at": "2025-06-30T07:19:07+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1294,
        "title": "使用paddlepaddle-gpu时候 老是导致显卡卡死重启",
        "body": "显卡：NVIDIA Tesla P4  功率 75w   ;    驱动版本号 440.64.00 显存 8g\r\ncuda: 9.0\r\ncudnn: 7.6.5\r\npaddlepadle-gpu = 1.8.5.post.97\r\npaddlehub = 1.8.2\r\ncentos 7\r\n\r\n1、跑ocr模型部署服务后，使用gpu预测 ，预测几次显卡就会卡死，不会报错 ，此时nvidia-smi 已经监控不到gpu资源，机器会重启。\r\n2、使用gpu 训练模型的时候， 训练在半途中显卡也会卡死 ，不会报错，此时nvidia-smi 已经监控不到gpu资源，机器也会重启。重启后，有时候显卡会概率性掉。需要再次重启\r\n3、以上操作监控发现显卡利用率并未达到极致，但是显卡功耗会报ERR! 的错误。\r\n测试过得办法：更换过显卡驱动， 更换过paddlepaddle-gpu 和 paddlehub  ，包括重装过centos系统 都未解决该问题。\r\n希望大佬解答该问题！\r\n",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-03-09T07:52:06+00:00",
        "updated_at": "2025-06-30T07:19:09+00:00",
        "closed_at": "2025-06-30T07:19:09+00:00",
        "comments_count": [
            "ShenYuhan",
            "suntao2015005848"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1296,
        "title": "yolov3_darknet53_coco2017 模型传入多张图片,标签正确,但结果图片使用的是第一张图作为org_img",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：2.0.0\r\n2）系统环境：windows10, cuda10.2\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n1.mp4下载链接:https://paddlehub.bj.bcebos.com/model/video/video_classifcation/1.mp4\r\n复现代码:\r\n\r\n\r\nimport cv2\r\nimport paddlehub as hub\r\nimport os\r\n\r\n\r\nos.environ['CUDA_VISIBLE_DEVICES'] = '0'\r\nobject_detector = hub.Module(name=\"yolov3_darknet53_coco2017\")\r\ntemp = []\r\ncap = cv2.VideoCapture('1.mp4')\r\nwhile(cap.isOpened()):\r\n    ret, frame = cap.read()\r\n    if frame is None:\r\n        break\r\n    temp.append(frame)\r\ncap.release()\r\n\r\nresult = object_detector.object_detection(images=temp,use_gpu=True,batch_size=2)\r\n\r\n",
        "state": "closed",
        "user": "paopjian",
        "closed_by": "paopjian",
        "created_at": "2021-03-09T09:59:31+00:00",
        "updated_at": "2021-03-15T09:18:07+00:00",
        "closed_at": "2021-03-15T09:18:07+00:00",
        "comments_count": [
            "haoyuying",
            "paopjian",
            "paopjian"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1297,
        "title": "paddlehub-2.0.4 报错 dataset = hub.dataset.ChnSentiCorp() AttributeError: 'EasyDict' object has no attribute 'ChnSentiCorp'",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n版本：pip show paddlepaddle\r\nName: paddlepaddle\r\nVersion: 2.0.1\r\npaddlehub-2.0.4\r\nubunt18.04.5 LTS (Bionic Beaver) Python 3.7.10\r\n\r\n这个链接里的代码无法跑通\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/216846?channelType=0&channel=0\r\n例如执行：\r\nimport paddlehub as hub\r\nimport paddle.fluid\r\nprint(paddle.fluid.install_check.run_check())\r\n\r\ndataset = hub.dataset.ChnSentiCorp()\r\n报错：\r\n    dataset = hub.dataset.ChnSentiCorp()\r\nAttributeError: 'EasyDict' object has no attribute 'ChnSentiCorp'\r\n",
        "state": "closed",
        "user": "iloveopenworld",
        "closed_by": "WYB27",
        "created_at": "2021-03-09T13:47:48+00:00",
        "updated_at": "2025-06-30T07:19:05+00:00",
        "closed_at": "2025-06-30T07:19:05+00:00",
        "comments_count": [
            "iloveopenworld",
            "D-DanielYang",
            "KPatr1ck",
            "KPatr1ck",
            "iloveopenworld",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1298,
        "title": "PaddleHub ",
        "body": "model = hub.Module(name='resnet50_vd_imagenet_ssld')\r\n有load pretrained parameters success\r\nmodel = hub.Module(name='mobilenet_v3_large_imagenet_ssld')\r\n无load pretrained parameters success \r\nmobilenet_v3_large_imagenet_ssld模型finetune时\r\noptimizer = paddle.optimizer.Adam(learning_rate=0.001, parameters=model.parameters())时\r\n显示AttributeError:'MobileNetV3Large' object has no attribute 'parameters'\r\n\r\naistudio平台\r\npaddlehub 2.0.0\r\npaddle 2.0\r\n",
        "state": "closed",
        "user": "CoIorfu1",
        "closed_by": "WYB27",
        "created_at": "2021-03-09T14:48:48+00:00",
        "updated_at": "2025-06-30T07:19:03+00:00",
        "closed_at": "2025-06-30T07:19:03+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1299,
        "title": "paddlehub-2.0.4 句法分析 ddparser模型无法使用，按照步骤降级匹配其他版本基础环境仍然报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n版本：pip show paddlepaddle\r\nName: paddlepaddle\r\nVersion: 2.0.1\r\npaddlehub-2.0.4\r\nubunt18.04.5 LTS (Bionic Beaver) Python 3.7.10\r\n\r\n问题描述：\r\n参考这个链接里的步骤：https://www.paddlepaddle.org.cn/hubdetail?name=ddparser&en_category=SyntacticAnalysis \r\n在“Name: paddlepaddle\r\nVersion: 2.0.1\r\npaddlehub-2.0.4”环境下执行报错提示：\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"C:\\Anaconda3-5.2.0-64\\envs\\baiduAI3.7.4\\lib\\site-packages\\paddlehub\\module\\module.py\", line 172, in __new__\r\n    name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n  File \"C:\\Anaconda3-5.2.0-64\\envs\\baiduAI3.7.4\\lib\\site-packages\\paddlehub\\module\\module.py\", line 263, in init_with_name\r\n    user_module_cls = manager.install(name=name, version=version, source=source, update=update, branch=branch)\r\n  File \"C:\\Anaconda3-5.2.0-64\\envs\\baiduAI3.7.4\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 188, in install\r\n    return self._install_from_name(name, version)\r\n  File \"C:\\Anaconda3-5.2.0-64\\envs\\baiduAI3.7.4\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 280, in _install_from_name\r\n    raise EnvironmentMismatchError(name=name, info=valid_infos, version=version)\r\npaddlehub.module.manager.EnvironmentMismatchError: ddparser cannot be installed because some conditions are not met:\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n|     Name      | Version  |   PaddlePaddle Version Required   |    PaddleHub Version Required     |\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n|   ddparser    |  1.0.0   |    >=1.8.0, <=1.9.9(Mismatch)     |              >=1.7.0              |\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n然后按照报错提示的版本范围调整 PaddlePaddle 和 paddlehub的版本 以及按照链接里依赖的 版本安装对应版本都提示有错误。\r\n“下方提示依赖：依赖\r\npaddlepaddle >= 1.8.2\r\npaddlehub >= 1.7.0”\r\n也按照提示 “ImportError: The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.”安装了pip install ddparser - 》“Collecting ddparser\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/29/0b/b0fe0ccffc0b234b9e1e78d9faba6928ccd63a2ca9e036921169f95c6b99/ddparser-0.1.2.tar.gz (90 kB)”发现版本不对，按照链接里的：“hub install ddparser==1.0.0” 安装后 也还是提示 “    \"The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\"\r\nImportError: The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.”\r\n\r\n以下是详细的步骤和报错信息：\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# python ddparser.py \r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:26: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  def convert_to_list(value, n, name, dtype=np.int):\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n2021-03-10 12:49:15,036 - INFO - Lock 140712853311248 acquired on /root/.paddlehub/tmp/ddparser\r\n[INFO 2021-03-10 12:49:15,036 filelock.py:274] Lock 140712853311248 acquired on /root/.paddlehub/tmp/ddparser\r\n2021-03-10 12:49:15,962 - INFO - Lock 140712853311248 released on /root/.paddlehub/tmp/ddparser\r\n[INFO 2021-03-10 12:49:15,962 filelock.py:318] Lock 140712853311248 released on /root/.paddlehub/tmp/ddparser\r\nTraceback (most recent call last):\r\n  File \"ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 172, in __new__\r\n    name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 263, in init_with_name\r\n    user_module_cls = manager.install(name=name, version=version, source=source, update=update, branch=branch)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 188, in install\r\n    return self._install_from_name(name, version)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 280, in _install_from_name\r\n    raise EnvironmentMismatchError(name=name, info=valid_infos, version=version)\r\npaddlehub.module.manager.EnvironmentMismatchError: ddparser cannot be installed because some conditions are not met:\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n|     Name      | Version  |   PaddlePaddle Version Required   |    PaddleHub Version Required     |\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n|   ddparser    |  1.0.0   |    >=1.8.0, <=1.9.9(Mismatch)     |              >=1.7.0              |\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip list|grep paddle\r\npaddlehub          2.0.4\r\npaddlenlp          2.0.0rc10\r\npaddlepaddle       2.0.1\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install paddlepaddle==1.9.9\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nERROR: Could not find a version that satisfies the requirement paddlepaddle==1.9.9\r\nERROR: No matching distribution found for paddlepaddle==1.9.9\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install paddlepaddle==1.9  \r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nERROR: Could not find a version that satisfies the requirement paddlepaddle==1.9\r\nERROR: No matching distribution found for paddlepaddle==1.9\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install paddlepaddle==1.8\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nCollecting paddlepaddle==1.8\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/d7/fb/c7c9522a443b01cff231f603a07eecffc82186f632775d982be00fd732fd/paddlepaddle-1.8.0-cp37-cp37m-manylinux1_x86_64.whl (111.2 MB)\r\n     |████████████████████████████████| 111.2 MB 44 kB/s \r\nCollecting graphviz\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/86/86/89ba50ba65928001d3161f23bfa03945ed18ea13a1d1d44a772ff1fa4e7a/graphviz-0.16-py2.py3-none-any.whl (19 kB)\r\nRequirement already satisfied: protobuf>=3.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (3.15.5)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (4.5.1.48)\r\nRequirement already satisfied: decorator in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (4.4.2)\r\nCollecting prettytable\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/26/1b/42b59a4038bc0442e3a0085bc0de385658131eef8a88946333f870559b09/prettytable-2.1.0-py3-none-any.whl (22 kB)\r\nRequirement already satisfied: matplotlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (3.3.4)\r\nRequirement already satisfied: rarfile in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (4.0)\r\nRequirement already satisfied: six in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (1.15.0)\r\nRequirement already satisfied: astor in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (0.8.1)\r\nRequirement already satisfied: requests>=2.20.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (2.25.1)\r\nRequirement already satisfied: gast>=0.3.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (0.4.0)\r\nCollecting scipy<=1.3.1\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/94/7f/b535ec711cbcc3246abea4385d17e1b325d4c3404dd86f15fc4f3dba1dbb/scipy-1.3.1-cp37-cp37m-manylinux1_x86_64.whl (25.2 MB)\r\n     |████████████████████████████████| 25.2 MB 5.2 MB/s \r\nRequirement already satisfied: Pillow in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (8.1.2)\r\nCollecting funcsigs\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/69/cb/f5be453359271714c01b9bd06126eaf2e368f1fddfff30818754b5ac2328/funcsigs-1.0.2-py2.py3-none-any.whl (17 kB)\r\nRequirement already satisfied: pyyaml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (5.4.1)\r\nCollecting pathlib\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/ac/aa/9b065a76b9af472437a0059f77e8f962fe350438b927cb80184c32f075eb/pathlib-1.0.1.tar.gz (49 kB)\r\n     |████████████████████████████████| 49 kB 921 kB/s \r\nCollecting objgraph\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/a9/79/9f47706447b9ba0003c0680da4fed1d502adf410e1d953b4d1a5d3486640/objgraph-3.5.0-py2.py3-none-any.whl (17 kB)\r\nCollecting nltk\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/92/75/ce35194d8e3022203cca0d2f896dbb88689f9b3fce8e9f9cff942913519d/nltk-3.5.zip (1.4 MB)\r\n     |████████████████████████████████| 1.4 MB 29.1 MB/s \r\nRequirement already satisfied: numpy>=1.12 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8) (1.20.1)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==1.8) (4.0.0)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==1.8) (2.10)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==1.8) (2020.12.5)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==1.8) (1.26.3)\r\nRequirement already satisfied: kiwisolver>=1.0.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle==1.8) (1.3.1)\r\nRequirement already satisfied: cycler>=0.10 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle==1.8) (0.10.0)\r\nRequirement already satisfied: python-dateutil>=2.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle==1.8) (2.8.1)\r\nRequirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle==1.8) (2.4.7)\r\nRequirement already satisfied: click in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle==1.8) (7.1.2)\r\nRequirement already satisfied: joblib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle==1.8) (1.0.1)\r\nCollecting regex\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/61/b2/8f281520d9f08d0f6771b8160a87a4b487850cde9f1abe257da4d8bab599/regex-2020.11.13-cp37-cp37m-manylinux2014_x86_64.whl (719 kB)\r\n     |████████████████████████████████| 719 kB 1.0 MB/s \r\nRequirement already satisfied: tqdm in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle==1.8) (4.59.0)\r\nRequirement already satisfied: importlib-metadata in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle==1.8) (3.7.2)\r\nCollecting wcwidth\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/59/7c/e39aca596badaf1b78e8f547c807b04dae603a433d3e7a7e04d67f2ef3e5/wcwidth-0.2.5-py2.py3-none-any.whl (30 kB)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle==1.8) (3.7.4.3)\r\nRequirement already satisfied: zipp>=0.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle==1.8) (3.4.1)\r\nBuilding wheels for collected packages: nltk, pathlib\r\n  Building wheel for nltk (setup.py) ... done\r\n  Created wheel for nltk: filename=nltk-3.5-py3-none-any.whl size=1434673 sha256=f2cecd51bcaf37875cc24ca14d59bc58a61b4c43ed59a466c2ae883582bc5b09\r\n  Stored in directory: /root/.cache/pip/wheels/f0/70/18/718c3023be0b3fb34b8c16f1b138e980ecf10b13e3e5365abe\r\n  Building wheel for pathlib (setup.py) ... done\r\n  Created wheel for pathlib: filename=pathlib-1.0.1-py3-none-any.whl size=14347 sha256=39c80286671eda862160c5b3feeaf9f1e83a9e3f890d1ffc405589a7ee8eec4b\r\n  Stored in directory: /root/.cache/pip/wheels/4e/96/ac/071a0d519981787bcf0d9ca3dccf08fc18e6ea96c76bcdf03e\r\nSuccessfully built nltk pathlib\r\nInstalling collected packages: wcwidth, regex, graphviz, scipy, prettytable, pathlib, objgraph, nltk, funcsigs, paddlepaddle\r\n  Attempting uninstall: scipy\r\n    Found existing installation: scipy 1.6.1\r\n    Uninstalling scipy-1.6.1:\r\n      Successfully uninstalled scipy-1.6.1\r\n  Attempting uninstall: paddlepaddle\r\n    Found existing installation: paddlepaddle 2.0.1\r\n    Uninstalling paddlepaddle-2.0.1:\r\n      Successfully uninstalled paddlepaddle-2.0.1\r\nSuccessfully installed funcsigs-1.0.2 graphviz-0.16 nltk-3.5 objgraph-3.5.0 paddlepaddle-1.8.0 pathlib-1.0.1 prettytable-2.1.0 regex-2020.11.13 scipy-1.3.1 wcwidth-0.2.5\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# python ddparser.py \r\nTraceback (most recent call last):\r\n  File \"ddparser.py\", line 2, in <module>\r\n    import paddlehub as hub\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/__init__.py\", line 23, in <module>\r\n    'Version mismatch in PaddleHub and PaddlePaddle, you need to upgrade PaddlePaddle to version 2.0.0 or above.')\r\nRuntimeError: Version mismatch in PaddleHub and PaddlePaddle, you need to upgrade PaddlePaddle to version 2.0.0 or above.\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install paddlehub==1.7   \r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nCollecting paddlehub==1.7\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/c4/42/f5f7739e1f411999c601c8a8f9afd52b5393f1860722ca02244f2e1dc4a6/paddlehub-1.7.0-py3-none-any.whl (290 kB)\r\n     |████████████████████████████████| 290 kB 1.6 MB/s \r\nCollecting yapf==0.26.0\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/f7/b6/266774a11dc81539dcf3b5117cd7a3c1c2b11a47853940b7f0803cf389b2/yapf-0.26.0-py2.py3-none-any.whl (176 kB)\r\n     |████████████████████████████████| 176 kB 1.7 MB/s \r\nRequirement already satisfied: gunicorn>=19.10.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7) (20.0.4)\r\nRequirement already satisfied: colorlog in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7) (4.7.2)\r\nCollecting cma>=2.7.0\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/36/c0/0a1c41f7cad0a51e07991cf86423d0e6651d035f1fe7dcff48e8858848f2/cma-3.0.3-py2.py3-none-any.whl (230 kB)\r\n     |████████████████████████████████| 230 kB 1.4 MB/s \r\nCollecting pandas\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/f3/d4/3fe3b5bf9886912b64ef040040aec356fa48825e5a829a84c2667afdf952/pandas-1.2.3-cp37-cp37m-manylinux1_x86_64.whl (9.9 MB)\r\n     |████████████████████████████████| 9.9 MB 3.6 MB/s \r\nRequirement already satisfied: pre-commit in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7) (2.11.0)\r\nRequirement already satisfied: six>=1.10.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7) (1.15.0)\r\nCollecting visualdl==2.0.0b1\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/ad/29/cadee04980b10757df62f7eb19e92b6ec95e00c0bcba89a3d1454c492cba/visualdl-2.0.0b1-py3-none-any.whl (1.6 MB)\r\n     |████████████████████████████████| 1.6 MB 3.2 MB/s \r\nRequirement already satisfied: flask>=1.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7) (1.1.2)\r\nRequirement already satisfied: flake8 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7) (3.8.4)\r\nRequirement already satisfied: protobuf>=3.6.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7) (3.15.5)\r\nCollecting sentencepiece\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/f5/99/e0808cb947ba10f575839c43e8fafc9cc44e4a7a2c8f79c60db48220a577/sentencepiece-0.1.95-cp37-cp37m-manylinux2014_x86_64.whl (1.2 MB)\r\n     |████████████████████████████████| 1.2 MB 3.1 MB/s \r\nRequirement already satisfied: Flask-Babel>=1.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl==2.0.0b1->paddlehub==1.7) (2.0.0)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl==2.0.0b1->paddlehub==1.7) (4.5.1.48)\r\nRequirement already satisfied: requests in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl==2.0.0b1->paddlehub==1.7) (2.25.1)\r\nRequirement already satisfied: Pillow>=7.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl==2.0.0b1->paddlehub==1.7) (8.1.2)\r\nRequirement already satisfied: numpy in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl==2.0.0b1->paddlehub==1.7) (1.20.1)\r\nRequirement already satisfied: mccabe<0.7.0,>=0.6.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.7) (0.6.1)\r\nRequirement already satisfied: importlib-metadata in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.7) (3.7.2)\r\nRequirement already satisfied: pycodestyle<2.7.0,>=2.6.0a1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.7) (2.6.0)\r\nRequirement already satisfied: pyflakes<2.3.0,>=2.2.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.7) (2.2.0)\r\nRequirement already satisfied: Jinja2>=2.10.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.7) (2.11.3)\r\nRequirement already satisfied: click>=5.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.7) (7.1.2)\r\nRequirement already satisfied: itsdangerous>=0.24 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.7) (1.1.0)\r\nRequirement already satisfied: Werkzeug>=0.15 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.7) (1.0.1)\r\nRequirement already satisfied: pytz in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from Flask-Babel>=1.0.0->visualdl==2.0.0b1->paddlehub==1.7) (2021.1)\r\nRequirement already satisfied: Babel>=2.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from Flask-Babel>=1.0.0->visualdl==2.0.0b1->paddlehub==1.7) (2.9.0)\r\nRequirement already satisfied: setuptools>=3.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from gunicorn>=19.10.0->paddlehub==1.7) (52.0.0.post20210125)\r\nRequirement already satisfied: MarkupSafe>=0.23 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from Jinja2>=2.10.1->flask>=1.1.0->paddlehub==1.7) (1.1.1)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->flake8->paddlehub==1.7) (3.7.4.3)\r\nRequirement already satisfied: zipp>=0.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->flake8->paddlehub==1.7) (3.4.1)\r\nRequirement already satisfied: python-dateutil>=2.7.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pandas->paddlehub==1.7) (2.8.1)\r\nRequirement already satisfied: pyyaml>=5.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7) (5.4.1)\r\nRequirement already satisfied: identify>=1.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7) (2.1.1)\r\nRequirement already satisfied: virtualenv>=20.0.8 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7) (20.4.2)\r\nRequirement already satisfied: toml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7) (0.10.2)\r\nRequirement already satisfied: nodeenv>=0.11.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7) (1.5.0)\r\nRequirement already satisfied: cfgv>=2.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7) (3.2.0)\r\nRequirement already satisfied: distlib<1,>=0.3.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub==1.7) (0.3.1)\r\nRequirement already satisfied: filelock<4,>=3.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub==1.7) (3.0.12)\r\nRequirement already satisfied: appdirs<2,>=1.4.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub==1.7) (1.4.4)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl==2.0.0b1->paddlehub==1.7) (1.26.3)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl==2.0.0b1->paddlehub==1.7) (2020.12.5)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl==2.0.0b1->paddlehub==1.7) (2.10)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl==2.0.0b1->paddlehub==1.7) (4.0.0)\r\nInstalling collected packages: yapf, visualdl, sentencepiece, pandas, cma, paddlehub\r\n  Attempting uninstall: visualdl\r\n    Found existing installation: visualdl 2.1.1\r\n    Uninstalling visualdl-2.1.1:\r\n      Successfully uninstalled visualdl-2.1.1\r\n  Attempting uninstall: paddlehub\r\n    Found existing installation: paddlehub 2.0.4\r\n    Uninstalling paddlehub-2.0.4:\r\n      Successfully uninstalled paddlehub-2.0.4\r\nSuccessfully installed cma-3.0.3 paddlehub-1.7.0 pandas-1.2.3 sentencepiece-0.1.95 visualdl-2.0.0b1 yapf-0.26.0\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# python ddparser.py \r\n[2021-03-10 12:52:18,566] [    INFO] - Installing ddparser module\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmp1bixswsi/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:52:30,472] [    INFO] - Successfully installed ddparser-1.0.0\r\n2021-03-10 12:52:30,522-INFO: Generating new fontManager, this may take some time...\r\n[2021-03-10 12:52:31,036] [    INFO] - Installing ddparser module\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmply75t1ll/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:52:34,026] [    INFO] - Successfully installed ddparser-1.0.0\r\nTraceback (most recent call last):\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 18, in <module>\r\n    from ddparser import DDParser as DDParserModel\r\n  File \"/workdir/paddle/ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 203, in init_with_directory\r\n    return user_module\r\nUnboundLocalError: local variable 'user_module' referenced before assignment\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 193, in init_with_directory\r\n    _module = importlib.import_module(\"{}.module\".format(basename))\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 22, in <module>\r\n    \"The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\"\r\nImportError: The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install ddparser\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nCollecting ddparser\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/29/0b/b0fe0ccffc0b234b9e1e78d9faba6928ccd63a2ca9e036921169f95c6b99/ddparser-0.1.2.tar.gz (90 kB)\r\n     |████████████████████████████████| 90 kB 1.4 MB/s \r\nCollecting paddlepaddle<2.0,>=1.8.2\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/0f/e5/4e49b6cf8320d0d9033abadb39d6620ad2bbba0a636d1b80f9489d65c35c/paddlepaddle-1.8.5-cp37-cp37m-manylinux1_x86_64.whl (111.3 MB)\r\n     |████████████████████████████████| 111.3 MB 79 kB/s \r\nCollecting LAC>=0.1.4\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/52/19/55bb532621c1e56b860794c9c86851a4ac744610c646a1ca9499e42f5773/LAC-2.1.1.tar.gz (64.8 MB)\r\n     |████████████████████████████████| 64.8 MB 35.1 MB/s \r\nRequirement already satisfied: prettytable in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.1.0)\r\nRequirement already satisfied: decorator in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.4.2)\r\nRequirement already satisfied: matplotlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.3.4)\r\nCollecting opencv-python<=4.2.0.32\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/34/a3/403dbaef909fee9f9f6a8eaff51d44085a14e5bb1a1ff7257117d744986a/opencv_python-4.2.0.32-cp37-cp37m-manylinux1_x86_64.whl (28.2 MB)\r\n     |████████████████████████████████| 28.2 MB 33.0 MB/s \r\nRequirement already satisfied: six in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.15.0)\r\nRequirement already satisfied: graphviz in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.16)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.5.1.48)\r\nRequirement already satisfied: protobuf>=3.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.15.5)\r\nRequirement already satisfied: nltk in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5)\r\nRequirement already satisfied: pyyaml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (5.4.1)\r\nRequirement already satisfied: requests>=2.20.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.25.1)\r\nRequirement already satisfied: numpy>=1.12 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.20.1)\r\nRequirement already satisfied: rarfile in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.0)\r\nRequirement already satisfied: astor in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.8.1)\r\nRequirement already satisfied: pathlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: funcsigs in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.2)\r\nRequirement already satisfied: Pillow in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (8.1.2)\r\n^CERROR: Operation cancelled by user\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# ^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# hub install ddparser==1.0.0\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmptjpym57l/ddparser\r\n[==================================================] 100.00%\r\nSuccessfully installed ddparser-1.0.0\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# \r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# python ddparser.py \r\n[2021-03-10 12:55:00,863] [    INFO] - Installing ddparser module\r\n[2021-03-10 12:55:01,060] [    INFO] - Installing ddparser module\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmp3vbwj5q9/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:55:14,133] [    INFO] - Successfully installed ddparser-1.0.0\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmp7i1rz9w4/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:55:17,220] [    INFO] - Successfully installed ddparser-1.0.0\r\n[2021-03-10 12:55:17,223] [    INFO] - Installing ddparser module\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmp55oln9ei/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:55:25,872] [    INFO] - Successfully installed ddparser-1.0.0\r\nTraceback (most recent call last):\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 18, in <module>\r\n    from ddparser import DDParser as DDParserModel\r\n  File \"/workdir/paddle/ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 203, in init_with_directory\r\n    return user_module\r\nUnboundLocalError: local variable 'user_module' referenced before assignment\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 193, in init_with_directory\r\n    _module = importlib.import_module(\"{}.module\".format(basename))\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 22, in <module>\r\n    \"The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\"\r\nImportError: The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install ddparser\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nCollecting ddparser\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/29/0b/b0fe0ccffc0b234b9e1e78d9faba6928ccd63a2ca9e036921169f95c6b99/ddparser-0.1.2.tar.gz (90 kB)\r\nCollecting paddlepaddle<2.0,>=1.8.2\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/0f/e5/4e49b6cf8320d0d9033abadb39d6620ad2bbba0a636d1b80f9489d65c35c/paddlepaddle-1.8.5-cp37-cp37m-manylinux1_x86_64.whl (111.3 MB)\r\nCollecting LAC>=0.1.4\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/52/19/55bb532621c1e56b860794c9c86851a4ac744610c646a1ca9499e42f5773/LAC-2.1.1.tar.gz (64.8 MB)\r\nCollecting gast==0.3.3\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/d6/84/759f5dd23fec8ba71952d97bcc7e2c9d7d63bdc582421f3cd4be845f0c98/gast-0.3.3-py2.py3-none-any.whl (9.7 kB)\r\nRequirement already satisfied: six in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.15.0)\r\nRequirement already satisfied: matplotlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.3.4)\r\nRequirement already satisfied: Pillow in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (8.1.2)\r\nRequirement already satisfied: decorator in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.4.2)\r\nRequirement already satisfied: requests>=2.20.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.25.1)\r\nCollecting opencv-python<=4.2.0.32\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/34/a3/403dbaef909fee9f9f6a8eaff51d44085a14e5bb1a1ff7257117d744986a/opencv_python-4.2.0.32-cp37-cp37m-manylinux1_x86_64.whl (28.2 MB)\r\nRequirement already satisfied: pathlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: rarfile in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.0)\r\nRequirement already satisfied: nltk in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5)\r\nRequirement already satisfied: pyyaml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (5.4.1)\r\nRequirement already satisfied: numpy>=1.12 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.20.1)\r\nRequirement already satisfied: graphviz in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.16)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.5.1.48)\r\nRequirement already satisfied: objgraph in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5.0)\r\nRequirement already satisfied: astor in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.8.1)\r\nRequirement already satisfied: funcsigs in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.2)\r\nRequirement already satisfied: prettytable in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.1.0)\r\nRequirement already satisfied: scipy in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.3.1)\r\nRequirement already satisfied: protobuf>=3.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.15.5)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (4.0.0)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (1.26.3)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (2.10)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (2020.12.5)\r\nRequirement already satisfied: kiwisolver>=1.0.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (1.3.1)\r\nRequirement already satisfied: cycler>=0.10 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (0.10.0)\r\nRequirement already satisfied: python-dateutil>=2.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (2.8.1)\r\nRequirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (2.4.7)\r\nRequirement already satisfied: tqdm in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (4.59.0)\r\nRequirement already satisfied: joblib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: regex in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (2020.11.13)\r\nRequirement already satisfied: click in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (7.1.2)\r\nRequirement already satisfied: wcwidth in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (0.2.5)\r\nRequirement already satisfied: importlib-metadata in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.7.2)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.7.4.3)\r\nRequirement already satisfied: zipp>=0.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.4.1)\r\nBuilding wheels for collected packages: ddparser, LAC\r\n  Building wheel for ddparser (setup.py) ... done\r\n  Created wheel for ddparser: filename=ddparser-0.1.2-py3-none-any.whl size=101819 sha256=2ce02c949c637a6b2e466dfb983fda5e2d7c98acfbfa9c60636b8673f3047777\r\n  Stored in directory: /root/.cache/pip/wheels/6f/a4/bd/cf518078aa791a4842b84631ab37004b1785c85a2aa31b6bd5\r\n  Building wheel for LAC (setup.py) ... done\r\n  Created wheel for LAC: filename=LAC-2.1.1-py2.py3-none-any.whl size=64820309 sha256=f82ca4f6064418a6cada5ab6f4069576eccdce7da11802c9829e54d11f9cfe1b\r\n  Stored in directory: /root/.cache/pip/wheels/37/df/41/5670632798b265134b88882fca56b4678ed7e1214b0dd239bc\r\nSuccessfully built ddparser LAC\r\nInstalling collected packages: gast, paddlepaddle, LAC, ddparser\r\n  Attempting uninstall: gast\r\n    Found existing installation: gast 0.4.0\r\n    Uninstalling gast-0.4.0:\r\n      Successfully uninstalled gast-0.4.0\r\n  Attempting uninstall: paddlepaddle\r\n    Found existing installation: paddlepaddle 1.8.0\r\n    Uninstalling paddlepaddle-1.8.0:\r\n      Successfully uninstalled paddlepaddle-1.8.0\r\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\r\npaddlepaddle 1.8.5 requires opencv-python<=4.2.0.32, but you have opencv-python 4.5.1.48 which is incompatible.\r\nSuccessfully installed LAC-2.1.1 ddparser-0.1.2 gast-0.3.3 paddlepaddle-1.8.5\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# python ddparser.py \r\n[2021-03-10 12:56:24,020] [    INFO] - Installing ddparser module\r\n[2021-03-10 12:56:24,221] [    INFO] - Installing ddparser module\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmpe80a2jvm/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:56:37,310] [    INFO] - Successfully installed ddparser-1.0.0\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmphaw2rjru/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:56:40,282] [    INFO] - Successfully installed ddparser-1.0.0\r\n[2021-03-10 12:56:40,285] [    INFO] - Installing ddparser module\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmp7eygt9k4/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:56:43,266] [    INFO] - Successfully installed ddparser-1.0.0\r\nTraceback (most recent call last):\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 18, in <module>\r\n    from ddparser import DDParser as DDParserModel\r\n  File \"/workdir/paddle/ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 203, in init_with_directory\r\n    return user_module\r\nUnboundLocalError: local variable 'user_module' referenced before assignment\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 193, in init_with_directory\r\n    _module = importlib.import_module(\"{}.module\".format(basename))\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 22, in <module>\r\n    \"The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\"\r\nImportError: The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install ddparser\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nRequirement already satisfied: ddparser in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (0.1.2)\r\nRequirement already satisfied: LAC>=0.1.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from ddparser) (2.1.1)\r\nRequirement already satisfied: paddlepaddle<2.0,>=1.8.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from ddparser) (1.8.5)\r\nRequirement already satisfied: six in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.15.0)\r\nRequirement already satisfied: gast==0.3.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.3.3)\r\nRequirement already satisfied: funcsigs in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.2)\r\nRequirement already satisfied: requests>=2.20.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.25.1)\r\nRequirement already satisfied: pathlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: graphviz in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.16)\r\nRequirement already satisfied: astor in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.8.1)\r\nRequirement already satisfied: decorator in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.4.2)\r\nCollecting opencv-python<=4.2.0.32\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/34/a3/403dbaef909fee9f9f6a8eaff51d44085a14e5bb1a1ff7257117d744986a/opencv_python-4.2.0.32-cp37-cp37m-manylinux1_x86_64.whl (28.2 MB)\r\nRequirement already satisfied: scipy in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.3.1)\r\nRequirement already satisfied: rarfile in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.0)\r\nRequirement already satisfied: pyyaml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (5.4.1)\r\nRequirement already satisfied: matplotlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.3.4)\r\nRequirement already satisfied: numpy>=1.12 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.20.1)\r\nRequirement already satisfied: Pillow in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (8.1.2)\r\nRequirement already satisfied: prettytable in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.1.0)\r\nRequirement already satisfied: nltk in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5)\r\nRequirement already satisfied: protobuf>=3.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.15.5)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.5.1.48)\r\nRequirement already satisfied: objgraph in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5.0)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (2.10)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (2020.12.5)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (1.26.3)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (4.0.0)\r\nRequirement already satisfied: kiwisolver>=1.0.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (1.3.1)\r\nRequirement already satisfied: cycler>=0.10 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (0.10.0)\r\nRequirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (2.4.7)\r\nRequirement already satisfied: python-dateutil>=2.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (2.8.1)\r\nRequirement already satisfied: joblib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: tqdm in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (4.59.0)\r\nRequirement already satisfied: regex in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (2020.11.13)\r\nRequirement already satisfied: click in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (7.1.2)\r\nRequirement already satisfied: wcwidth in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (0.2.5)\r\nRequirement already satisfied: importlib-metadata in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.7.2)\r\nRequirement already satisfied: zipp>=0.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.4.1)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.7.4.3)\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install ddparser\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nCollecting ddparser\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/29/0b/b0fe0ccffc0b234b9e1e78d9faba6928ccd63a2ca9e036921169f95c6b99/ddparser-0.1.2.tar.gz (90 kB)\r\nCollecting paddlepaddle<2.0,>=1.8.2\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/0f/e5/4e49b6cf8320d0d9033abadb39d6620ad2bbba0a636d1b80f9489d65c35c/paddlepaddle-1.8.5-cp37-cp37m-manylinux1_x86_64.whl (111.3 MB)\r\nCollecting LAC>=0.1.4\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/52/19/55bb532621c1e56b860794c9c86851a4ac744610c646a1ca9499e42f5773/LAC-2.1.1.tar.gz (64.8 MB)\r\nCollecting gast==0.3.3\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/d6/84/759f5dd23fec8ba71952d97bcc7e2c9d7d63bdc582421f3cd4be845f0c98/gast-0.3.3-py2.py3-none-any.whl (9.7 kB)\r\nRequirement already satisfied: six in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.15.0)\r\nRequirement already satisfied: matplotlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.3.4)\r\nRequirement already satisfied: Pillow in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (8.1.2)\r\nRequirement already satisfied: decorator in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.4.2)\r\nRequirement already satisfied: requests>=2.20.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.25.1)\r\nCollecting opencv-python<=4.2.0.32\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/34/a3/403dbaef909fee9f9f6a8eaff51d44085a14e5bb1a1ff7257117d744986a/opencv_python-4.2.0.32-cp37-cp37m-manylinux1_x86_64.whl (28.2 MB)\r\nRequirement already satisfied: pathlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: rarfile in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.0)\r\nRequirement already satisfied: nltk in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5)\r\nRequirement already satisfied: pyyaml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (5.4.1)\r\nRequirement already satisfied: numpy>=1.12 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.20.1)\r\nRequirement already satisfied: graphviz in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.16)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.5.1.48)\r\nRequirement already satisfied: objgraph in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5.0)\r\nRequirement already satisfied: astor in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.8.1)\r\nRequirement already satisfied: funcsigs in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.2)\r\nRequirement already satisfied: prettytable in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.1.0)\r\nRequirement already satisfied: scipy in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.3.1)\r\nRequirement already satisfied: protobuf>=3.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.15.5)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (4.0.0)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (1.26.3)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (2.10)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (2020.12.5)\r\nRequirement already satisfied: kiwisolver>=1.0.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (1.3.1)\r\nRequirement already satisfied: cycler>=0.10 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (0.10.0)\r\nRequirement already satisfied: python-dateutil>=2.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (2.8.1)\r\nRequirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (2.4.7)\r\nRequirement already satisfied: tqdm in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (4.59.0)\r\nRequirement already satisfied: joblib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: regex in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (2020.11.13)\r\nRequirement already satisfied: click in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (7.1.2)\r\nRequirement already satisfied: wcwidth in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (0.2.5)\r\nRequirement already satisfied: importlib-metadata in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.7.2)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.7.4.3)\r\nRequirement already satisfied: zipp>=0.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.4.1)\r\nBuilding wheels for collected packages: ddparser, LAC\r\n  Building wheel for ddparser (setup.py) ... done\r\n  Created wheel for ddparser: filename=ddparser-0.1.2-py3-none-any.whl size=101819 sha256=2ce02c949c637a6b2e466dfb983fda5e2d7c98acfbfa9c60636b8673f3047777\r\n  Stored in directory: /root/.cache/pip/wheels/6f/a4/bd/cf518078aa791a4842b84631ab37004b1785c85a2aa31b6bd5\r\n  Building wheel for LAC (setup.py) ... done\r\n  Created wheel for LAC: filename=LAC-2.1.1-py2.py3-none-any.whl size=64820309 sha256=f82ca4f6064418a6cada5ab6f4069576eccdce7da11802c9829e54d11f9cfe1b\r\n  Stored in directory: /root/.cache/pip/wheels/37/df/41/5670632798b265134b88882fca56b4678ed7e1214b0dd239bc\r\nSuccessfully built ddparser LAC\r\nInstalling collected packages: gast, paddlepaddle, LAC, ddparser\r\n  Attempting uninstall: gast\r\n    Found existing installation: gast 0.4.0\r\n    Uninstalling gast-0.4.0:\r\n      Successfully uninstalled gast-0.4.0\r\n  Attempting uninstall: paddlepaddle\r\n    Found existing installation: paddlepaddle 1.8.0\r\n    Uninstalling paddlepaddle-1.8.0:\r\n      Successfully uninstalled paddlepaddle-1.8.0\r\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\r\npaddlepaddle 1.8.5 requires opencv-python<=4.2.0.32, but you have opencv-python 4.5.1.48 which is incompatible.\r\nSuccessfully installed LAC-2.1.1 ddparser-0.1.2 gast-0.3.3 paddlepaddle-1.8.5\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# python ddparser.py \r\n[2021-03-10 12:56:24,020] [    INFO] - Installing ddparser module\r\n[2021-03-10 12:56:24,221] [    INFO] - Installing ddparser module\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmpe80a2jvm/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:56:37,310] [    INFO] - Successfully installed ddparser-1.0.0\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmphaw2rjru/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:56:40,282] [    INFO] - Successfully installed ddparser-1.0.0\r\n[2021-03-10 12:56:40,285] [    INFO] - Installing ddparser module\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmp7eygt9k4/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 12:56:43,266] [    INFO] - Successfully installed ddparser-1.0.0\r\nTraceback (most recent call last):\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 18, in <module>\r\n    from ddparser import DDParser as DDParserModel\r\n  File \"/workdir/paddle/ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 203, in init_with_directory\r\n    return user_module\r\nUnboundLocalError: local variable 'user_module' referenced before assignment\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 193, in init_with_directory\r\n    _module = importlib.import_module(\"{}.module\".format(basename))\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 22, in <module>\r\n    \"The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\"\r\nImportError: The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install ddparser\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nRequirement already satisfied: ddparser in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (0.1.2)\r\nRequirement already satisfied: LAC>=0.1.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from ddparser) (2.1.1)\r\nRequirement already satisfied: paddlepaddle<2.0,>=1.8.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from ddparser) (1.8.5)\r\nRequirement already satisfied: six in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.15.0)\r\nRequirement already satisfied: gast==0.3.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.3.3)\r\nRequirement already satisfied: funcsigs in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.2)\r\nRequirement already satisfied: requests>=2.20.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.25.1)\r\nRequirement already satisfied: pathlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: graphviz in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.16)\r\nRequirement already satisfied: astor in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.8.1)\r\nRequirement already satisfied: decorator in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.4.2)\r\nCollecting opencv-python<=4.2.0.32\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/34/a3/403dbaef909fee9f9f6a8eaff51d44085a14e5bb1a1ff7257117d744986a/opencv_python-4.2.0.32-cp37-cp37m-manylinux1_x86_64.whl (28.2 MB)\r\nRequirement already satisfied: scipy in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.3.1)\r\nRequirement already satisfied: rarfile in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.0)\r\nRequirement already satisfied: pyyaml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (5.4.1)\r\nRequirement already satisfied: matplotlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.3.4)\r\nRequirement already satisfied: numpy>=1.12 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.20.1)\r\nRequirement already satisfied: Pillow in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (8.1.2)\r\nRequirement already satisfied: prettytable in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.1.0)\r\nRequirement already satisfied: nltk in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5)\r\nRequirement already satisfied: protobuf>=3.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.15.5)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.5.1.48)\r\nRequirement already satisfied: objgraph in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5.0)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (2.10)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (2020.12.5)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (1.26.3)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (4.0.0)\r\nRequirement already satisfied: kiwisolver>=1.0.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (1.3.1)\r\nRequirement already satisfied: cycler>=0.10 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (0.10.0)\r\nRequirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (2.4.7)\r\nRequirement already satisfied: python-dateutil>=2.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (2.8.1)\r\nRequirement already satisfied: joblib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: tqdm in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (4.59.0)\r\nRequirement already satisfied: regex in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (2020.11.13)\r\nRequirement already satisfied: click in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (7.1.2)\r\nRequirement already satisfied: wcwidth in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (0.2.5)\r\nRequirement already satisfied: importlib-metadata in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.7.2)\r\nRequirement already satisfied: zipp>=0.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.4.1)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.7.4.3)\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install paddlepaddle==1.8.2\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nCollecting paddlepaddle==1.8.2\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/30/93/49fff8c63732b618563237ed176b6567c325f2317bd2f56b44d3cb39b5b1/paddlepaddle-1.8.2-cp37-cp37m-manylinux1_x86_64.whl (111.2 MB)\r\n     |████████████████████████████████| 111.2 MB 69 kB/s \r\nRequirement already satisfied: protobuf>=3.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (3.15.5)\r\nRequirement already satisfied: decorator in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (4.4.2)\r\nRequirement already satisfied: Pillow in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (8.1.2)\r\nRequirement already satisfied: prettytable in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (2.1.0)\r\nRequirement already satisfied: pathlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (1.0.1)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (4.5.1.48)\r\nRequirement already satisfied: funcsigs in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (1.0.2)\r\nRequirement already satisfied: nltk in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (3.5)\r\nRequirement already satisfied: graphviz in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (0.16)\r\nRequirement already satisfied: six in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (1.15.0)\r\nRequirement already satisfied: rarfile in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (4.0)\r\nRequirement already satisfied: astor in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (0.8.1)\r\nRequirement already satisfied: scipy<=1.3.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (1.3.1)\r\nRequirement already satisfied: gast>=0.3.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (0.3.3)\r\nRequirement already satisfied: objgraph in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (3.5.0)\r\nRequirement already satisfied: pyyaml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (5.4.1)\r\nRequirement already satisfied: matplotlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (3.3.4)\r\nRequirement already satisfied: requests>=2.20.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (2.25.1)\r\nRequirement already satisfied: numpy>=1.12 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==1.8.2) (1.20.1)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==1.8.2) (2.10)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==1.8.2) (4.0.0)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==1.8.2) (2020.12.5)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==1.8.2) (1.26.3)\r\nRequirement already satisfied: kiwisolver>=1.0.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle==1.8.2) (1.3.1)\r\nRequirement already satisfied: cycler>=0.10 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle==1.8.2) (0.10.0)\r\nRequirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle==1.8.2) (2.4.7)\r\nRequirement already satisfied: python-dateutil>=2.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle==1.8.2) (2.8.1)\r\nRequirement already satisfied: joblib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle==1.8.2) (1.0.1)\r\nRequirement already satisfied: click in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle==1.8.2) (7.1.2)\r\nRequirement already satisfied: tqdm in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle==1.8.2) (4.59.0)\r\nRequirement already satisfied: regex in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle==1.8.2) (2020.11.13)\r\nRequirement already satisfied: importlib-metadata in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle==1.8.2) (3.7.2)\r\nRequirement already satisfied: wcwidth in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle==1.8.2) (0.2.5)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle==1.8.2) (3.7.4.3)\r\nRequirement already satisfied: zipp>=0.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle==1.8.2) (3.4.1)\r\nInstalling collected packages: paddlepaddle\r\n  Attempting uninstall: paddlepaddle\r\n    Found existing installation: paddlepaddle 1.8.5\r\n    Uninstalling paddlepaddle-1.8.5:\r\n      Successfully uninstalled paddlepaddle-1.8.5\r\nSuccessfully installed paddlepaddle-1.8.2\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# pip install paddlehub==1.7.0\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nRequirement already satisfied: paddlehub==1.7.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (1.7.0)\r\nRequirement already satisfied: colorlog in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (4.7.2)\r\nRequirement already satisfied: protobuf>=3.6.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (3.15.5)\r\nRequirement already satisfied: cma>=2.7.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (3.0.3)\r\nRequirement already satisfied: sentencepiece in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (0.1.95)\r\nRequirement already satisfied: flask>=1.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (1.1.2)\r\nRequirement already satisfied: pandas in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (1.2.3)\r\nRequirement already satisfied: flake8 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (3.8.4)\r\nRequirement already satisfied: visualdl==2.0.0b1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (2.0.0b1)\r\nRequirement already satisfied: yapf==0.26.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (0.26.0)\r\nRequirement already satisfied: gunicorn>=19.10.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (20.0.4)\r\nRequirement already satisfied: six>=1.10.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (1.15.0)\r\nRequirement already satisfied: pre-commit in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.7.0) (2.11.0)\r\nRequirement already satisfied: Pillow>=7.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl==2.0.0b1->paddlehub==1.7.0) (8.1.2)\r\nRequirement already satisfied: requests in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl==2.0.0b1->paddlehub==1.7.0) (2.25.1)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl==2.0.0b1->paddlehub==1.7.0) (4.5.1.48)\r\nRequirement already satisfied: Flask-Babel>=1.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl==2.0.0b1->paddlehub==1.7.0) (2.0.0)\r\nRequirement already satisfied: numpy in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl==2.0.0b1->paddlehub==1.7.0) (1.20.1)\r\nRequirement already satisfied: pyflakes<2.3.0,>=2.2.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.7.0) (2.2.0)\r\nRequirement already satisfied: mccabe<0.7.0,>=0.6.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.7.0) (0.6.1)\r\nRequirement already satisfied: importlib-metadata in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.7.0) (3.7.2)\r\nRequirement already satisfied: pycodestyle<2.7.0,>=2.6.0a1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.7.0) (2.6.0)\r\nRequirement already satisfied: Jinja2>=2.10.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.7.0) (2.11.3)\r\nRequirement already satisfied: Werkzeug>=0.15 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.7.0) (1.0.1)\r\nRequirement already satisfied: itsdangerous>=0.24 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.7.0) (1.1.0)\r\nRequirement already satisfied: click>=5.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.7.0) (7.1.2)\r\nRequirement already satisfied: pytz in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from Flask-Babel>=1.0.0->visualdl==2.0.0b1->paddlehub==1.7.0) (2021.1)\r\nRequirement already satisfied: Babel>=2.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from Flask-Babel>=1.0.0->visualdl==2.0.0b1->paddlehub==1.7.0) (2.9.0)\r\nRequirement already satisfied: setuptools>=3.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from gunicorn>=19.10.0->paddlehub==1.7.0) (52.0.0.post20210125)\r\nRequirement already satisfied: MarkupSafe>=0.23 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from Jinja2>=2.10.1->flask>=1.1.0->paddlehub==1.7.0) (1.1.1)\r\nRequirement already satisfied: zipp>=0.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->flake8->paddlehub==1.7.0) (3.4.1)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->flake8->paddlehub==1.7.0) (3.7.4.3)\r\nRequirement already satisfied: python-dateutil>=2.7.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pandas->paddlehub==1.7.0) (2.8.1)\r\nRequirement already satisfied: cfgv>=2.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7.0) (3.2.0)\r\nRequirement already satisfied: identify>=1.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7.0) (2.1.1)\r\nRequirement already satisfied: pyyaml>=5.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7.0) (5.4.1)\r\nRequirement already satisfied: nodeenv>=0.11.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7.0) (1.5.0)\r\nRequirement already satisfied: toml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7.0) (0.10.2)\r\nRequirement already satisfied: virtualenv>=20.0.8 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.7.0) (20.4.2)\r\nRequirement already satisfied: filelock<4,>=3.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub==1.7.0) (3.0.12)\r\nRequirement already satisfied: distlib<1,>=0.3.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub==1.7.0) (0.3.1)\r\nRequirement already satisfied: appdirs<2,>=1.4.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub==1.7.0) (1.4.4)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl==2.0.0b1->paddlehub==1.7.0) (1.26.3)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl==2.0.0b1->paddlehub==1.7.0) (4.0.0)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl==2.0.0b1->paddlehub==1.7.0) (2020.12.5)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl==2.0.0b1->paddlehub==1.7.0) (2.10)\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# python ddparser.py \r\n[2021-03-10 13:00:58,358] [    INFO] - Installing ddparser module\r\n[2021-03-10 13:00:58,557] [    INFO] - Installing ddparser module\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmpubai_4c6/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 13:01:11,730] [    INFO] - Successfully installed ddparser-1.0.0\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmpzt5b8mnu/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 13:01:14,511] [    INFO] - Successfully installed ddparser-1.0.0\r\n[2021-03-10 13:01:14,515] [    INFO] - Installing ddparser module\r\nDownloading ddparser\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmp43d4jbe4/ddparser\r\n[==================================================] 100.00%\r\n[2021-03-10 13:01:19,543] [    INFO] - Successfully installed ddparser-1.0.0\r\nTraceback (most recent call last):\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 18, in <module>\r\n    from ddparser import DDParser as DDParserModel\r\n  File \"/workdir/paddle/ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 203, in init_with_directory\r\n    return user_module\r\nUnboundLocalError: local variable 'user_module' referenced before assignment\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"ddparser.py\", line 4, in <module>\r\n    module = hub.Module(name=\"ddparser\")\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 193, in init_with_directory\r\n    _module = importlib.import_module(\"{}.module\".format(basename))\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 22, in <module>\r\n    \"The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\"\r\nImportError: The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\r\n",
        "state": "closed",
        "user": "iloveopenworld",
        "closed_by": "WYB27",
        "created_at": "2021-03-10T05:14:00+00:00",
        "updated_at": "2025-06-30T07:19:01+00:00",
        "closed_at": "2025-06-30T07:19:01+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1300,
        "title": "paddlehub 2.0 怎么部署自己的模型呢？  module.py 里面要怎么写？自己在老版本的基础上改了一下，老是报错！",
        "body": "paddlepaddle 2.0.1\r\npaddlehub 2.0.0\r\nwindows 7\r\n\r\npaddlehub 2.0 怎么部署自己的模型呢？\r\n\r\nmodule.py 里面要怎么写？自己在老版本的基础上改了一下，老是报错！\r\npaddlehub 1.8.3，是有相关文档的，新版本没有了，老版本文档不适用。",
        "state": "closed",
        "user": "y455471846b",
        "closed_by": "WYB27",
        "created_at": "2021-03-10T05:16:53+00:00",
        "updated_at": "2025-06-30T07:19:28+00:00",
        "closed_at": "2025-06-30T07:18:59+00:00",
        "comments_count": [
            "ShenYuhan",
            "Gray-web",
            "y455471846b"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1302,
        "title": "paddlehub-2.0.4 文本生成 ernie_tiny_couplet模型无法使用，报错AttributeError: 'ErnieTiny' object has no attribute 'context'",
        "body": "环境：\r\npip show paddlepaddle\r\nName: paddlepaddle\r\nVersion: 2.0.1\r\npaddlehub-2.0.4\r\nubunt18.04.5 LTS (Bionic Beaver) Python 3.7.10\r\n\r\n步骤：\r\n按照这个链接里的操作：https://www.paddlepaddle.org.cn/hubdetail?name=ernie_tiny_couplet&en_category=TextGeneration\r\n提示  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 1050, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'ErnieTiny' object has no attribute 'context'\r\n\r\n详细步骤和报错如下：\r\nhub install ernie_tiny_couplet==1.0.0\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:26: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  def convert_to_list(value, n, name, dtype=np.int):\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/scipy/special/orthogonal.py:81: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  from numpy import (exp, inf, pi, sqrt, floor, sin, cos, around, int,\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/scipy/linalg/__init__.py:217: DeprecationWarning: The module numpy.dual is deprecated.  Instead of using dual, use the functions directly from numpy or scipy.\r\n  from numpy.dual import register_func\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n2021-03-10 14:19:20,300 - INFO - Lock 140531860536144 acquired on /root/.paddlehub/tmp/ernie_tiny_couplet\r\n[INFO 2021-03-10 14:19:20,300 filelock.py:274] Lock 140531860536144 acquired on /root/.paddlehub/tmp/ernie_tiny_couplet\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/ernie_tiny_couplet_1.0.0.tar.gz\r\n[##################################################] 100.00%\r\nDecompress /root/.paddlehub/tmp/tmpgh7ldn0k/ernie_tiny_couplet_1.0.0.tar.gz\r\n[##################################################] 100.00%\r\n[2021-03-10 14:19:47,414] [    INFO] - Successfully installed ernie_tiny_couplet-1.0.0\r\n2021-03-10 14:19:47,578 - INFO - Lock 140531860536144 released on /root/.paddlehub/tmp/ernie_tiny_couplet\r\n[INFO 2021-03-10 14:19:47,578 filelock.py:318] Lock 140531860536144 released on /root/.paddlehub/tmp/ernie_tiny_couplet\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle/�ı����# \r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle/�ı����# \r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle/�ı����# \r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle/�ı����# cd ..\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# hub run ernie_tiny_couplet --input_text '风吹云乱天垂泪'\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:26: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  def convert_to_list(value, n, name, dtype=np.int):\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/scipy/special/orthogonal.py:81: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  from numpy import (exp, inf, pi, sqrt, floor, sin, cos, around, int,\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/scipy/linalg/__init__.py:217: DeprecationWarning: The module numpy.dual is deprecated.  Instead of using dual, use the functions directly from numpy or scipy.\r\n  from numpy.dual import register_func\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n[2021-03-10 14:20:05,175] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\n2021-03-10 14:20:05,176 - INFO - Lock 139730637311696 acquired on /root/.paddlehub/tmp/ernie_tiny\r\n[INFO 2021-03-10 14:20:05,176 filelock.py:274] Lock 139730637311696 acquired on /root/.paddlehub/tmp/ernie_tiny\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/ernie_tiny_2.0.1.tar.gz\r\n[##################################################] 100.00%\r\nDecompress /root/.paddlehub/tmp/tmpggv7d1um/ernie_tiny_2.0.1.tar.gz\r\n[##################################################] 100.00%\r\n[2021-03-10 14:20:05,892] [    INFO] - Successfully installed ernie_tiny-2.0.1\r\n2021-03-10 14:20:05,893 - INFO - Lock 139730637311696 released on /root/.paddlehub/tmp/ernie_tiny\r\n[INFO 2021-03-10 14:20:05,893 filelock.py:318] Lock 139730637311696 released on /root/.paddlehub/tmp/ernie_tiny\r\n[2021-03-10 14:20:05,894] [    INFO] - Downloading https://paddlenlp.bj.bcebos.com/models/transformers/ernie_tiny/ernie_tiny.pdparams and saved to /root/.paddlenlp/models/ernie-tiny\r\n[2021-03-10 14:20:05,894] [    INFO] - Downloading ernie_tiny.pdparams from https://paddlenlp.bj.bcebos.com/models/transformers/ernie_tiny/ernie_tiny.pdparams\r\n100%|████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 354158/354158 [00:14<00:00, 23840.59it/s]\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/paddle/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/run.py\", line 47, in execute\r\n    module = Module(name=module_name)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 172, in __new__\r\n    name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 274, in init_with_name\r\n    user_module._initialize(**kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/root/.paddlehub/modules/ernie_tiny_couplet/module.py\", line 36, in _initialize\r\n    inputs, outputs, program = self.module.context(\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 1050, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'ErnieTiny' object has no attribute 'context'\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# import paddlehub as hub\r\nbash: import: command not found\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# \r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# # Load ernie pretrained model\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# module = hub.Module(name=\"ernie_tiny_couplet\", use_gpu=True)\r\nbash: syntax error near unexpected token `('\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# results = module.generate([\"风吹云乱天垂泪\", \"若有经心风过耳\"])\r\nbash: syntax error near unexpected token `('\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# for result in results:\r\n>     print(result)^C\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle# python\r\nPython 3.7.10 (default, Feb 26 2021, 18:47:35) \r\n[GCC 7.3.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub as hub\r\n# Load ernie pretrained model\r\nmodule = hub.Module(name=\"ernie_tiny_couplet\", use_gpu=True)\r\nresults = module.generate([\"风吹云乱天垂泪\", \"若有经心风过耳\"])\r\nfor result in results:\r\n    print(result)\r\n\r\n\r\n\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:26: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  def convert_to_list(value, n, name, dtype=np.int):\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/scipy/special/orthogonal.py:81: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  from numpy import (exp, inf, pi, sqrt, floor, sin, cos, around, int,\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/scipy/linalg/__init__.py:217: DeprecationWarning: The module numpy.dual is deprecated.  Instead of using dual, use the functions directly from numpy or scipy.\r\n  from numpy.dual import register_func\r\n>>> \r\n>>> # Load ernie pretrained model\r\n>>> module = hub.Module(name=\"ernie_tiny_couplet\", use_gpu=True)\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n[2021-03-10 14:20:48,782] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\n[2021-03-10 14:20:48,785] [    INFO] - Already cached /root/.paddlenlp/models/ernie-tiny/ernie_tiny.pdparams\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 172, in __new__\r\n    name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 274, in init_with_name\r\n    user_module._initialize(**kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/root/.paddlehub/modules/ernie_tiny_couplet/module.py\", line 36, in _initialize\r\n    inputs, outputs, program = self.module.context(\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 1050, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'ErnieTiny' object has no attribute 'context'\r\n>>> results = module.generate([\"风吹云乱天垂泪\", \"若有经心风过耳\"])\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nNameError: name 'module' is not defined\r\n>>> for result in results:\r\n...     print(result)\r\n... \r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nNameError: name 'results' is not defined\r\n>>> \r\n>>> \r\n>>> print()\r\nKeyboardInterrupt\r\n>>> import paddlehub as hub\r\n>>> module = hub.Module(name=\"ernie_tiny_couplet\", use_gpu=True)\r\n[2021-03-10 14:21:01,775] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\n[2021-03-10 14:21:01,776] [    INFO] - Already cached /root/.paddlenlp/models/ernie-tiny/ernie_tiny.pdparams\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 172, in __new__\r\n    name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 274, in init_with_name\r\n    user_module._initialize(**kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/root/.paddlehub/modules/ernie_tiny_couplet/module.py\", line 36, in _initialize\r\n    inputs, outputs, program = self.module.context(\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 1050, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'ErnieTiny' object has no attribute 'context'\r\n>>> module = hub.Module(name=\"ernie_tiny_couplet\")              \r\n[2021-03-10 14:21:07,832] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\n[2021-03-10 14:21:07,833] [    INFO] - Already cached /root/.paddlenlp/models/ernie-tiny/ernie_tiny.pdparams\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 172, in __new__\r\n    name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 274, in init_with_name\r\n    user_module._initialize(**kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/root/.paddlehub/modules/ernie_tiny_couplet/module.py\", line 36, in _initialize\r\n    inputs, outputs, program = self.module.context(\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 1050, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'ErnieTiny' object has no attribute 'context'\r\n",
        "state": "closed",
        "user": "iloveopenworld",
        "closed_by": "WYB27",
        "created_at": "2021-03-10T06:25:06+00:00",
        "updated_at": "2025-06-30T07:18:57+00:00",
        "closed_at": "2025-06-30T07:18:57+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1301,
        "title": "openpose_body_estimation 运行段错误 Segmentation fault (core dumped)",
        "body": "## 环境\r\n- ubuntu18.04\r\n- paddlepaddle-gpu 2.0.0\r\n- paddlehub 2.0.0rc0\r\n\r\n## 日志\r\n```\r\nsimpleai@40e54547101b:~/.paddlehub/modules/ernie_gen_poetry$ hub run openpose_body_estimation --input_path \"/home/simpleai/workspace/mask_serving/2.jpeg\"\r\n/usr/local/lib/python3.6/dist-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/usr/local/lib/python3.6/dist-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\nW0310 05:39:42.219971 33891 device_context.cc:362] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 11.0, Runtime API Version: 10.2\r\nW0310 05:39:42.420359 33891 device_context.cc:372] device: 0, cuDNN Version: 8.1.\r\nload pretrained checkpoint success\r\n\r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::framework::SignalHandle(char const*, int)\r\n1   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nFatalError: `Segmentation fault` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 1615354801 (unix time) try \"date -d @1615354801\" if you are using GNU date ***]\r\n  [SignalInfo: *** SIGSEGV (@0x0) received by PID 33891 (TID 0x7f2c4dc45740) from PID 0 ***]\r\n\r\nSegmentation fault (core dumped)\r\n```",
        "state": "closed",
        "user": "iotctech",
        "closed_by": "iotctech",
        "created_at": "2021-03-10T05:53:58+00:00",
        "updated_at": "2021-03-19T07:22:44+00:00",
        "closed_at": "2021-03-19T07:22:44+00:00",
        "comments_count": [
            "haoyuying",
            "iotctech",
            "haoyuying",
            "iotctech",
            "haoyuying",
            "iotctech"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1303,
        "title": "paddlehub-2.0.4 词法分析 LAC服务部署运行时报错",
        "body": "环境：\r\npip show paddlepaddle\r\nName: paddlepaddle\r\nVersion: 2.0.1\r\npaddlehub-2.0.4\r\nubunt18.04.5 LTS (Bionic Beaver) Python 3.7.10\r\n\r\n步骤：\r\n按照这个链接里的操作：https://www.paddlepaddle.org.cn/hubdetail?name=lac&en_category=LexicalAnalysis\r\n配置文件lac_serving_config：{\r\n  \"modules_info\": {\r\n    \"lac\": {\r\n      \"init_args\": {\r\n        \"version\": \"2.2.0\"\r\n      }\r\n    }\r\n  },\r\n  \"port\": 8866,\r\n  \"use_singleprocess\": false,\r\n  \"workers\": 2\r\n}\r\n执行：hub serving start -c lac_serving_config.json\r\n[2021-03-10 14:28:28,428] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0310 14:28:28.459650 19432 analysis_predictor.cc:1145] Deprecated. Please use CreatePredictor instead.\r\n * Serving Flask app \"paddlehub.serving.app_compat\" (lazy loading)\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n2021-03-10 14:28:28,516 - INFO -  * Running on http://0.0.0.0:8866/ (Press CTRL+C to quit)\r\n[INFO 2021-03-10 14:28:28,516 _internal.py:113]  * Running on http://0.0.0.0:8866/ (Press CTRL+C to quit)\r\n\r\n执行发送预测请求，代码如下：\r\n# hub serving start -c lac_serving_config.json\r\ndef 发送预测请求():\r\n    import requests\r\n    import json\r\n\r\n    # 待预测数据\r\n    text = [\"今天是个好日子\", \"天气预报说今天要下雨\"]\r\n\r\n    # 设置运行配置\r\n    # 对应本地预测lac.cut(text=text, batch_size=1)\r\n    data = {\"text\": text, \"batch_size\": 1}\r\n\r\n    # 指定预测方法为lac并发送post请求，content-type类型应指定json方式\r\n    # HOST_IP为服务器IP\r\n    url = \"http://127.0.0.1:8866/predict/lac\"\r\n    headers = {\"Content-Type\": \"application/json\"}\r\n    r = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n\r\n    # 打印预测结果\r\n    print(json.dumps(r.json(), indent=4, ensure_ascii=False))\r\n\r\nif __name__ == '__main__':\r\n    发送预测请求()\r\n\r\n报错：\r\nTraceback (most recent call last):\r\n  File \"C:/workspace/quantway/python_test/paddle_test/词法分析.py\", line 53, in <module>\r\n    发送预测请求()\r\n  File \"C:/workspace/quantway/python_test/paddle_test/词法分析.py\", line 50, in 发送预测请求\r\n    print(json.dumps(r.json(), indent=4, ensure_ascii=False))\r\n  File \"C:\\Anaconda3-5.2.0-64\\envs\\baiduAI3.7.4\\lib\\site-packages\\requests\\models.py\", line 900, in json\r\n    return complexjson.loads(self.text, **kwargs)\r\n  File \"C:\\Anaconda3-5.2.0-64\\envs\\baiduAI3.7.4\\lib\\json\\__init__.py\", line 348, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"C:\\Anaconda3-5.2.0-64\\envs\\baiduAI3.7.4\\lib\\json\\decoder.py\", line 337, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"C:\\Anaconda3-5.2.0-64\\envs\\baiduAI3.7.4\\lib\\json\\decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\r\n\r\n服务器端同时报错：\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"c:\\anaconda3-5.2.0-64\\envs\\baiduai3.7.4\\lib\\site-packages\\werkzeug\\serving.py\", line 323, in run_wsgi\r\n    execute(self.server.app)\r\n  File \"c:\\anaconda3-5.2.0-64\\envs\\baiduai3.7.4\\lib\\site-packages\\werkzeug\\serving.py\", line 312, in execute\r\n    application_iter = app(environ, start_response)\r\n  File \"c:\\anaconda3-5.2.0-64\\envs\\baiduai3.7.4\\lib\\site-packages\\flask\\app.py\", line 2464, in __call__\r\n    return self.wsgi_app(environ, start_response)\r\n  File \"c:\\anaconda3-5.2.0-64\\envs\\baiduai3.7.4\\lib\\site-packages\\flask\\app.py\", line 2450, in wsgi_app\r\n    response = self.handle_exception(e)\r\n  File \"c:\\anaconda3-5.2.0-64\\envs\\baiduai3.7.4\\lib\\site-packages\\flask\\app.py\", line 1871, in handle_exception\r\n    self.log_exception((exc_type, exc_value, tb))\r\n  File \"c:\\anaconda3-5.2.0-64\\envs\\baiduai3.7.4\\lib\\site-packages\\flask\\app.py\", line 1892, in log_exception\r\n    \"Exception on %s [%s]\" % (request.path, request.method), exc_info=exc_info\r\nTypeError: __call__() got an unexpected keyword argument 'exc_info'\r\n\r\n",
        "state": "closed",
        "user": "iloveopenworld",
        "closed_by": "iloveopenworld",
        "created_at": "2021-03-10T06:32:03+00:00",
        "updated_at": "2021-03-10T07:17:41+00:00",
        "closed_at": "2021-03-10T07:17:41+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1304,
        "title": "paddlehub-2.0.4 语音合成 hub run transformer_tts_ljspeech --input_text=\"Life was like a box of chocolates, you never know what you're gonna get.\" --use_gpu True --vocoder griffin-lim 执行报错",
        "body": "环境：\r\npip show paddlepaddle\r\nName: paddlepaddle\r\nVersion: 2.0.1\r\npaddlehub-2.0.4\r\nubunt18.04.5 LTS (Bionic Beaver) Python 3.7.10\r\n以及：\r\npip list|grep paddle                       \r\npaddlehub          1.8.0\r\npaddlenlp          2.0.0rc10\r\npaddlepaddle       1.8.4\r\n以及：\r\npaddlehub          1.8.2\r\n都做了尝试，都报错，如下：\r\n\r\nhub run transformer_tts_ljspeech --input_text=\"Life was like a box of chocolates, you never know what you're gonna get.\" --use_gpu True --vocoder griffin-lim\r\nInstall Module transformer_tts_ljspeech\r\nDownloading transformer_tts_ljspeech\r\n[==================================================] 100.00%\r\nUncompress /root/.paddlehub/tmp/tmpfv0nryzk/transformer_tts_ljspeech\r\n[==================================================] 100.00%\r\nSuccessfully installed transformer_tts_ljspeech-1.0.0\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/paddle/bin/hub\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/run.py\", line 232, in execute\r\n    self.module = self.find_module(module_name)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/run.py\", line 71, in find_module\r\n    return hub.Module(directory=module_dir[0])\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 104, in __new__\r\n    module = cls.init_with_directory(directory=directory, **kwargs)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/module.py\", line 193, in init_with_directory\r\n    _module = importlib.import_module(\"{}.module\".format(basename))\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/transformer_tts_ljspeech/module.py\", line 68, in <module>\r\n    % \", \".join(lack_dependency))\r\nImportError: The module requires additional dependencies: ruamel, parakeet, soundfile, librosa. You can install parakeet via 'git clone https://github.com/PaddlePaddle/Parakeet && cd Parakeet && pip install -e .' and others via pip install",
        "state": "closed",
        "user": "iloveopenworld",
        "closed_by": "WYB27",
        "created_at": "2021-03-10T07:30:18+00:00",
        "updated_at": "2025-06-30T07:18:55+00:00",
        "closed_at": "2025-06-30T07:18:55+00:00",
        "comments_count": [
            "KPatr1ck",
            "iloveopenworld",
            "iloveopenworld",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1306,
        "title": "句法分析 ddparser测试报错",
        "body": "**在测试预测请求时候**\r\n报： File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/serving/app_single.py\", line 42, in predict_v2_advanced\r\n    output = serving_method(**predict_args)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 72, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 44, in serving_parse\r\n    results = self.parse(texts, return_visual)\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 83, in parse\r\n    result['deprel'])\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 185, in visualize\r\n    fig.canvas.draw()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/backends/backend_agg.py\", line 407, in draw\r\n    self.figure.draw(self.renderer)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/artist.py\", line 41, in draw_wrapper\r\n    return draw(artist, renderer, *args, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/figure.py\", line 1864, in draw\r\n    renderer, self, artists, self.suppressComposite)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/image.py\", line 131, in _draw_list_compositing_images\r\n    a.draw(renderer)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/artist.py\", line 41, in draw_wrapper\r\n    return draw(artist, renderer, *args, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/cbook/deprecation.py\", line 411, in wrapper\r\n    return func(*inner_args, **inner_kwargs)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/axes/_base.py\", line 2747, in draw\r\n    mimage._draw_list_compositing_images(renderer, self, artists)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/image.py\", line 131, in _draw_list_compositing_images\r\n    a.draw(renderer)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/artist.py\", line 41, in draw_wrapper\r\n    return draw(artist, renderer, *args, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/text.py\", line 1900, in draw\r\n    Text.draw(self, renderer)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/artist.py\", line 41, in draw_wrapper\r\n    return draw(artist, renderer, *args, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/text.py\", line 681, in draw\r\n    bbox, info, descent = textobj._get_layout(renderer)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/text.py\", line 289, in _get_layout\r\n    ismath=\"TeX\" if self.get_usetex() else False)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/backends/backend_agg.py\", line 237, in get_text_width_height_descent\r\n    font = self._get_agg_font(prop)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/backends/backend_agg.py\", line 273, in _get_agg_font\r\n    font = get_font(fname)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/matplotlib/font_manager.py\", line 1418, in get_font\r\n    _kerning_factor=rcParams['text.kerning_factor'])\r\nRuntimeError: In FT2Font: Can not load face (error code 0x8)\r\n\r\n**测试脚本**\r\nimport requests\r\nimport json\r\n\r\nimport numpy as np\r\nimport cv2\r\n\r\n# 待预测数据\r\ntext = [\"百度是一家高科技公司\"]\r\n\r\n# 设置运行配置\r\nreturn_visual = True\r\ndata = {\"texts\": text, \"return_visual\": return_visual}\r\n\r\n# 指定预测方法为DuDepParser并发送post请求，content-type类型应指定json方式\r\nurl = \"http://0.0.0.0:8866/predict/ddparser\"\r\nheaders = {\"Content-Type\": \"application/json\"}\r\nr = requests.post(url=url, headers=headers, data=json.dumps(data))\r\nresults = r.json()['results']\r\n\r\nfor i in range(len(results)):\r\n  print(results[i]['word'])\r\n  # 不同于本地调用parse接口，serving返回的图像是list类型的，需要先用numpy加载再显示或保存。\r\n  cv2.imwrite('%s.jpg'%i, np.array(results[i]['visual']))",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-03-11T08:25:32+00:00",
        "updated_at": "2025-06-30T07:18:51+00:00",
        "closed_at": "2025-06-30T07:18:51+00:00",
        "comments_count": [],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1305,
        "title": "paddlehub-2.0.4 视频修复 hub install video_restoration==1.0.0报错无法安装",
        "body": "环境：\r\npip show paddlepaddle\r\nName: paddlepaddle\r\nVersion: 2.0.1\r\npaddlehub-2.0.4\r\nubunt18.04.5 LTS (Bionic Beaver) Python 3.7.10\r\n\r\n问题描述：\r\n参考链接：https://www.paddlepaddle.org.cn/hubdetail?name=video_restoration&en_category=VideoRestoration\r\n执行：hub install video_restoration==1.0.0\r\n报错提示版本不对\r\nThe version of PaddlePaddle(1.8.4) or PaddleHub(1.8.0) can not match module, please upgrade your PaddlePaddle or PaddleHub according to the form below.\r\n+--------------------------------+----------+------------------+------------------+\r\n|          ResourceName          | Version  |   PaddlePaddle   |    PaddleHub     |\r\n+--------------------------------+----------+------------------+------------------+\r\n|       video_restoration        |  1.0.0   |     >=2.0.0      |     >=1.8.3      |\r\n+--------------------------------+----------+------------------+------------------+\r\n|       video_restoration        |  1.0.0   |     >=2.0.0      |     >=1.8.3      |\r\n+--------------------------------+----------+------------------+------------------+\r\n按照要求安装PaddlePaddle 2.0.0 PaddleHub     1.8.3\r\n又提示“ImportError: The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.”安装ddparser又提示 paddlepaddle<2.0,>=1.8.2 “pip install ddparser\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nRequirement already satisfied: ddparser in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (0.1.2)\r\nCollecting paddlepaddle<2.0,>=1.8.2”\r\n感觉各个库之间引用循环错误了。安装好了ddparser 再次执行hub install video_restoration==1.0.0 报错：“  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/parakeet-0.24-py3.7.egg/parakeet/__init__.py\", line 1, in <module>\r\nModuleNotFoundError: No module named 'config'”\r\n\r\n详细报错日志见下文：\r\n\r\nhub install video_restoration==1.0.0\r\nGE3DCNJTHE4DQMZZFQ3WMYTBME3WENLDGBRWILDSN5XXILBRGE4C4MJRG.YXDCNJOGQ3CYL3SN5XXIL3NNFXGSY3PNZSGCMZPMVXHM4ZPOBQWIZDMMU.XWY2LCF5YHS5DIN5XDGLRXF5ZWS5DFFVYGCY3LMFTWK4ZPOJ2WC3LFNQX.V6X3JNZUXIX27FZYHS000.a6f2c50.testpcurl.com\r\nGE3DCNJTHE4DQNJRFQ3WMYTBME3WENLDGBRWILDSN5XXILBRGE4C4MJRG.YXDCNJOGQ3CYL3SN5XXIL3NNFXGSY3PNZSGCMZPMVXHM4ZPOBQWIZDMMU.XWY2LCF5YHS5DIN5XDGLRXF5ZWS5DFFVYGCY3LMFTWK4ZPOJ2WC3LFNQX.XSYLNNQXV6X3JNZUXIX27FZYHS000.a289140.testpcurl.com\r\nThe version of PaddlePaddle(1.8.4) or PaddleHub(1.8.0) can not match module, please upgrade your PaddlePaddle or PaddleHub according to the form below.\r\n+--------------------------------+----------+------------------+------------------+\r\n|          ResourceName          | Version  |   PaddlePaddle   |    PaddleHub     |\r\n+--------------------------------+----------+------------------+------------------+\r\n|       video_restoration        |  1.0.0   |     >=2.0.0      |     >=1.8.3      |\r\n+--------------------------------+----------+------------------+------------------+\r\n|       video_restoration        |  1.0.0   |     >=2.0.0      |     >=1.8.3      |\r\n+--------------------------------+----------+------------------+------------------+\r\n\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle/yuyinhecheng# pip install paddlepaddle==2.0.0\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nCollecting paddlepaddle==2.0.0\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/9e/72/3978b45af8da39a24f0911c6a43ad9dcdddb8d9c7fa29bb57a6e529fa435/paddlepaddle-2.0.0-cp37-cp37m-manylinux1_x86_64.whl (204.9 MB)\r\n     |████████████████████████████████| 204.9 MB 32 kB/s\r\nRequirement already satisfied: gast==0.3.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==2.0.0) (0.3.3)\r\nRequirement already satisfied: Pillow in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==2.0.0) (8.1.2)\r\nRequirement already satisfied: astor in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==2.0.0) (0.8.1)\r\nRequirement already satisfied: requests>=2.20.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==2.0.0) (2.25.1)\r\nRequirement already satisfied: numpy>=1.13 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==2.0.0) (1.20.1)\r\nRequirement already satisfied: protobuf>=3.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==2.0.0) (3.15.5)\r\nRequirement already satisfied: decorator in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==2.0.0) (4.4.2)\r\nRequirement already satisfied: six in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle==2.0.0) (1.15.0)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==2.0.0) (4.0.0)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==2.0.0) (2020.12.5)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==2.0.0) (1.26.3)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle==2.0.0) (2.10)\r\nInstalling collected packages: paddlepaddle\r\n  Attempting uninstall: paddlepaddle\r\n    Found existing installation: paddlepaddle 1.8.4\r\n    Uninstalling paddlepaddle-1.8.4:\r\n      Successfully uninstalled paddlepaddle-1.8.4\r\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\r\nddparser 0.1.2 requires paddlepaddle<2.0,>=1.8.2, but you have paddlepaddle 2.0.0 which is incompatible.\r\nSuccessfully installed paddlepaddle-2.0.0\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle/yuyinhecheng# pip install paddlehub==1.8.3\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nCollecting paddlehub==1.8.3\r\n  Downloading https://mirrors.aliyun.com/pypi/packages/8f/33/861613f22ea6cc9fbea4bee940580869670832bb1f50d191f88a2503b83f/paddlehub-1.8.3-py3-none-any.whl (342 kB)\r\n     |████████████████████████████████| 342 kB 1.6 MB/s \r\nRequirement already satisfied: yapf==0.26.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (0.26.0)\r\nRequirement already satisfied: pre-commit in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (2.11.0)\r\nRequirement already satisfied: visualdl in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (2.1.1)\r\nRequirement already satisfied: flask>=1.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (1.1.2)\r\nRequirement already satisfied: cma>=2.7.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (3.0.3)\r\nRequirement already satisfied: nltk in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (3.5)\r\nRequirement already satisfied: pandas in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (1.2.3)\r\nRequirement already satisfied: protobuf>=3.6.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (3.15.5)\r\nRequirement already satisfied: flake8 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (3.8.4)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (4.5.1.48)\r\nRequirement already satisfied: six>=1.10.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (1.15.0)\r\nRequirement already satisfied: gunicorn>=19.10.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (20.0.4)\r\nRequirement already satisfied: sentencepiece in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (0.1.95)\r\nRequirement already satisfied: tqdm in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (4.59.0)\r\nRequirement already satisfied: colorlog in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlehub==1.8.3) (4.7.2)\r\nRequirement already satisfied: numpy in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from cma>=2.7.0->paddlehub==1.8.3) (1.20.1)\r\nRequirement already satisfied: Jinja2>=2.10.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.8.3) (2.11.3)\r\nRequirement already satisfied: itsdangerous>=0.24 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.8.3) (1.1.0)\r\nRequirement already satisfied: click>=5.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.8.3) (7.1.2)\r\nRequirement already satisfied: Werkzeug>=0.15 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flask>=1.1.0->paddlehub==1.8.3) (1.0.1)\r\nRequirement already satisfied: setuptools>=3.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from gunicorn>=19.10.0->paddlehub==1.8.3) (52.0.0.post20210125)\r\nRequirement already satisfied: MarkupSafe>=0.23 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from Jinja2>=2.10.1->flask>=1.1.0->paddlehub==1.8.3) (1.1.1)\r\nRequirement already satisfied: mccabe<0.7.0,>=0.6.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.8.3) (0.6.1)\r\nRequirement already satisfied: pycodestyle<2.7.0,>=2.6.0a1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.8.3) (2.6.0)\r\nRequirement already satisfied: importlib-metadata in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.8.3) (3.7.2)\r\nRequirement already satisfied: pyflakes<2.3.0,>=2.2.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from flake8->paddlehub==1.8.3) (2.2.0)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->flake8->paddlehub==1.8.3) (3.7.4.3)\r\nRequirement already satisfied: zipp>=0.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->flake8->paddlehub==1.8.3) (3.4.1)\r\nRequirement already satisfied: regex in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlehub==1.8.3) (2020.11.13)\r\nRequirement already satisfied: joblib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlehub==1.8.3) (1.0.1)\r\nRequirement already satisfied: pytz>=2017.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pandas->paddlehub==1.8.3) (2021.1)\r\nRequirement already satisfied: python-dateutil>=2.7.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pandas->paddlehub==1.8.3) (2.8.1)\r\nRequirement already satisfied: cfgv>=2.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.8.3) (3.2.0)\r\nRequirement already satisfied: nodeenv>=0.11.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.8.3) (1.5.0)\r\nRequirement already satisfied: pyyaml>=5.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.8.3) (5.4.1)\r\nRequirement already satisfied: toml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.8.3) (0.10.2)\r\nRequirement already satisfied: virtualenv>=20.0.8 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.8.3) (20.4.2)\r\nRequirement already satisfied: identify>=1.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from pre-commit->paddlehub==1.8.3) (2.1.1)\r\nRequirement already satisfied: distlib<1,>=0.3.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub==1.8.3) (0.3.1)\r\nRequirement already satisfied: filelock<4,>=3.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub==1.8.3) (3.0.12)\r\nRequirement already satisfied: appdirs<2,>=1.4.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from virtualenv>=20.0.8->pre-commit->paddlehub==1.8.3) (1.4.4)\r\nRequirement already satisfied: Flask-Babel>=1.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl->paddlehub==1.8.3) (2.0.0)\r\nRequirement already satisfied: requests in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl->paddlehub==1.8.3) (2.25.1)\r\nRequirement already satisfied: bce-python-sdk in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl->paddlehub==1.8.3) (0.8.59)\r\nRequirement already satisfied: shellcheck-py in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl->paddlehub==1.8.3) (0.7.1.1)\r\nRequirement already satisfied: Pillow>=7.0.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from visualdl->paddlehub==1.8.3) (8.1.2)\r\nRequirement already satisfied: Babel>=2.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from Flask-Babel>=1.0.0->visualdl->paddlehub==1.8.3) (2.9.0)\r\nRequirement already satisfied: pycryptodome>=3.8.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from bce-python-sdk->visualdl->paddlehub==1.8.3) (3.10.1)\r\nRequirement already satisfied: future>=0.6.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from bce-python-sdk->visualdl->paddlehub==1.8.3) (0.18.2)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl->paddlehub==1.8.3) (2020.12.5)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl->paddlehub==1.8.3) (4.0.0)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl->paddlehub==1.8.3) (2.10)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests->visualdl->paddlehub==1.8.3) (1.26.3)\r\nInstalling collected packages: paddlehub\r\n  Attempting uninstall: paddlehub\r\n    Found existing installation: paddlehub 1.8.0\r\n    Uninstalling paddlehub-1.8.0:\r\n      Successfully uninstalled paddlehub-1.8.0\r\nSuccessfully installed paddlehub-1.8.3\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle/yuyinhecheng# hub install video_restoration==1.0.0\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:26: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  def convert_to_list(value, n, name, dtype=np.int):\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/scipy/special/orthogonal.py:81: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  from numpy import (exp, inf, pi, sqrt, floor, sin, cos, around, int,\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/scipy/linalg/__init__.py:217: DeprecationWarning: The module numpy.dual is deprecated.  Instead of using dual, use the functions directly from numpy or scipy.\r\n  from numpy.dual import register_func\r\n/root/miniconda3/envs/paddle/lib/python3.7/site-packages/scipy/io/matlab/mio5.py:98: DeprecationWarning: `np.bool` is a deprecated alias for the builtin `bool`. To silence this warning, use `bool` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.bool_` here.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  from .mio5_utils import VarReader5\r\nTraceback (most recent call last):\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 18, in <module>\r\n    from ddparser import DDParser as DDParserModel\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/ddparser/__init__.py\", line 24, in <module>\r\n    from .run import DDParser\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/ddparser/run.py\", line 32, in <module>\r\n    from ddparser.parser import epoch_train\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/ddparser/parser/__init__.py\", line 20, in <module>\r\n    from .model import decode\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/ddparser/parser/model.py\", line 34, in <module>\r\n    from ddparser.parser.data_struct import utils\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/ddparser/parser/data_struct/__init__.py\", line 20, in <module>\r\n    from . import utils\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/ddparser/parser/data_struct/utils.py\", line 36, in <module>\r\n    from ddparser.parser.nets import nn\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/ddparser/parser/nets/__init__.py\", line 25, in <module>\r\n    from .transformer import Transformer\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/ddparser/parser/nets/transformer.py\", line 27, in <module>\r\n    from ddparser.ernie.modeling_ernie import ErnieModel\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/ddparser/ernie/__init__.py\", line 24, in <module>\r\n    paddle.__version__)\r\nRuntimeError: paddle-ernie requires paddle 1.7+, got 2.0.0\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/paddle/bin/hub\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/install.py\", line 65, in execute\r\n    extra=extra)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 127, in install_module\r\n    self.all_modules(update=True)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 105, in all_modules\r\n    valid, info = self.check_module_valid(sub_dir_path)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 72, in check_module_valid\r\n    \"{}.module\".format(basename))\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/ddparser/module.py\", line 22, in <module>\r\n    \"The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\"\r\nImportError: The module requires additional dependencies: ddparser. Please run 'pip install ddparser' to install it.\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle/yuyinhecheng# pip install ddparser\r\nLooking in indexes: http://pypi.mirrors.ustc.edu.cn/simple/, https://pypi.mirrors.ustc.edu.cn/simple/, http://pypi.douban.com/simple/, https://pypi.tuna.tsinghua.edu.cn/simple/, https://mirrors.aliyun.com/pypi/simple/\r\nRequirement already satisfied: ddparser in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (0.1.2)\r\nCollecting paddlepaddle<2.0,>=1.8.2\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/0f/e5/4e49b6cf8320d0d9033abadb39d6620ad2bbba0a636d1b80f9489d65c35c/paddlepaddle-1.8.5-cp37-cp37m-manylinux1_x86_64.whl (111.3 MB)\r\nRequirement already satisfied: LAC>=0.1.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from ddparser) (2.1.1)\r\nCollecting opencv-python<=4.2.0.32\r\n  Using cached https://mirrors.aliyun.com/pypi/packages/34/a3/403dbaef909fee9f9f6a8eaff51d44085a14e5bb1a1ff7257117d744986a/opencv_python-4.2.0.32-cp37-cp37m-manylinux1_x86_64.whl (28.2 MB)\r\nRequirement already satisfied: matplotlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.3.4)\r\nRequirement already satisfied: rarfile in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.0)\r\nRequirement already satisfied: gast==0.3.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.3.3)\r\nRequirement already satisfied: astor in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.8.1)\r\nRequirement already satisfied: Pillow in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (8.1.2)\r\nRequirement already satisfied: objgraph in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5.0)\r\nRequirement already satisfied: scipy in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.3.1)\r\nRequirement already satisfied: decorator in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.4.2)\r\nRequirement already satisfied: nltk in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.5)\r\nRequirement already satisfied: protobuf>=3.1.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (3.15.5)\r\nRequirement already satisfied: six in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.15.0)\r\nRequirement already satisfied: opencv-python in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (4.5.1.48)\r\nRequirement already satisfied: prettytable in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.1.0)\r\nRequirement already satisfied: funcsigs in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.2)\r\nRequirement already satisfied: graphviz in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (0.16)\r\nRequirement already satisfied: requests>=2.20.0 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (2.25.1)\r\nRequirement already satisfied: pathlib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: pyyaml in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (5.4.1)\r\nRequirement already satisfied: numpy>=1.12 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from paddlepaddle<2.0,>=1.8.2->ddparser) (1.20.1)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (1.26.3)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (4.0.0)\r\nRequirement already satisfied: idna<3,>=2.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (2.10)\r\nRequirement already satisfied: certifi>=2017.4.17 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from requests>=2.20.0->paddlepaddle<2.0,>=1.8.2->ddparser) (2020.12.5)\r\nRequirement already satisfied: cycler>=0.10 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (0.10.0)\r\nRequirement already satisfied: kiwisolver>=1.0.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (1.3.1)\r\nRequirement already satisfied: python-dateutil>=2.1 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (2.8.1)\r\nRequirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from matplotlib->paddlepaddle<2.0,>=1.8.2->ddparser) (2.4.7)\r\nRequirement already satisfied: tqdm in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (4.59.0)\r\nRequirement already satisfied: joblib in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (1.0.1)\r\nRequirement already satisfied: click in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (7.1.2)\r\nRequirement already satisfied: regex in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from nltk->paddlepaddle<2.0,>=1.8.2->ddparser) (2020.11.13)\r\nRequirement already satisfied: wcwidth in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (0.2.5)\r\nRequirement already satisfied: importlib-metadata in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.7.2)\r\nRequirement already satisfied: typing-extensions>=3.6.4 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.7.4.3)\r\nRequirement already satisfied: zipp>=0.5 in /root/miniconda3/envs/paddle/lib/python3.7/site-packages (from importlib-metadata->prettytable->paddlepaddle<2.0,>=1.8.2->ddparser) (3.4.1)\r\nInstalling collected packages: paddlepaddle\r\n  Attempting uninstall: paddlepaddle\r\n    Found existing installation: paddlepaddle 2.0.0\r\n    Uninstalling paddlepaddle-2.0.0:\r\n      Successfully uninstalled paddlepaddle-2.0.0\r\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\r\npaddlepaddle 1.8.5 requires opencv-python<=4.2.0.32, but you have opencv-python 4.5.1.48 which is incompatible.\r\nSuccessfully installed paddlepaddle-1.8.5\r\n(paddle) root@7fbaa7b5c0cd:/workdir/paddle/yuyinhecheng# hub install video_restoration==1.0.0\r\nGE3DCNJTHE4TCMRZFQ3WMYTBME3WENLDGBRWILDSN5XXILBRGE4C4MJRG.YXDCNJOGQ3CYL3SN5XXIL3NNFXGSY3PNZSGCMZPMVXHM4ZPOBQWIZDMMU.XWY2LCF5YHS5DIN5XDGLRXF5ZWS5DFFVYGCY3LMFTWK4ZPOJ2WC3LFNQX.V6X3JNZUXIX27FZYHS000.55cf880.testpcurl.com\r\nGE3DCNJTHE4TCMZZFQ3WMYTBME3WENLDGBRWILDSN5XXILBRGE4C4MJRG.YXDCNJOGQ3CYL3SN5XXIL3NNFXGSY3PNZSGCMZPMVXHM4ZPOBQWIZDMMU.XWY2LCF5YHS5DIN5XDGLRXF5ZWS5DFFVYGCY3LMFTWK4ZPOJ2WC3LFNQX.XSYLNNQXV6X3JNZUXIX27FZYHS000.d781970.testpcurl.com\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/paddle/bin/hub\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/commands/install.py\", line 65, in execute\r\n    extra=extra)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 127, in install_module\r\n    self.all_modules(update=True)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 105, in all_modules\r\n    valid, info = self.check_module_valid(sub_dir_path)\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 72, in check_module_valid\r\n    \"{}.module\".format(basename))\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/fastspeech_ljspeech/module.py\", line 58, in <module>\r\n    from parakeet.models.fastspeech.fastspeech import FastSpeech as FastSpeechModel\r\n  File \"/root/miniconda3/envs/paddle/lib/python3.7/site-packages/parakeet-0.24-py3.7.egg/parakeet/__init__.py\", line 1, in <module>\r\nModuleNotFoundError: No module named 'config'",
        "state": "closed",
        "user": "iloveopenworld",
        "closed_by": "WYB27",
        "created_at": "2021-03-10T10:04:02+00:00",
        "updated_at": "2025-06-30T07:18:53+00:00",
        "closed_at": "2025-06-30T07:18:53+00:00",
        "comments_count": [
            "iloveopenworld",
            "iloveopenworld",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1310,
        "title": "yolov3_darknet53_coco2017模型,processor.py文件,postprocess方法有误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：2.0.0\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\nwindows10, cuda10.2,python=3.8,  yolov3_darknet53_coco2017=1.1.1\r\n\r\n使用方法:\r\nresult = object_detector.object_detection(images=images, use_gpu=True, batch_size=1, visualization=True)\r\n\r\n源代码中163行处只检查了paths,但函数应该可以处理paths和images两种数据,未针对images进行handle调整\r\n![image](https://user-images.githubusercontent.com/20377352/110883703-cfc25400-82db-11eb-90a2-9c123c1e2422.png)\r\n导致在149行处,index永远为0,unhandled_paths_num也为0,每次都取images[0]作为org_img.\r\n![image](https://user-images.githubusercontent.com/20377352/110884231-b40b7d80-82dc-11eb-8ee5-7f984a213133.png)\r\n此issue是 https://github.com/PaddlePaddle/PaddleHub/issues/1296  的溯源\r\n",
        "state": "closed",
        "user": "paopjian",
        "closed_by": "paopjian",
        "created_at": "2021-03-12T02:46:46+00:00",
        "updated_at": "2021-03-15T08:45:28+00:00",
        "closed_at": "2021-03-15T08:45:28+00:00",
        "comments_count": [
            "haoyuying",
            "haoyuying",
            "paopjian"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1311,
        "title": "官方是否要更新模块的代码",
        "body": "\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub  2.0.4，paddlepaddle-gpu   2.0.1.post110\r\n2）系统环境：Linux ，python 3.7\r\n---------------------\r\n\r\nhub run pyramidbox_face_detection --input_path /home/mm/1.jpeg\r\n\r\n/home/mm/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:26: \r\nDeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\n\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  def convert_to_list(value, n, name, dtype=np.int):\r\n\r\n/home/mm/anaconda3/envs/paddle/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: \r\nDeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n\r\n/home/mm/anaconda3/envs/paddle/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n\r\n[2021-03-14 10:52:22,156] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0314 10:52:22.156607 71786 analysis_predictor.cc:1145] Deprecated. Please use CreatePredictor instead.\r\n\r\n....\r\n\r\n-----------------\r\n\r\n对于一些提示信息，官方是否要更新代码？\r\n\r\n\r\n",
        "state": "closed",
        "user": "monkeycc",
        "closed_by": "WYB27",
        "created_at": "2021-03-14T03:13:14+00:00",
        "updated_at": "2025-06-30T07:18:49+00:00",
        "closed_at": "2025-06-30T07:18:49+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1312,
        "title": "conda可以直接安装paddlehub吗？还是只能通过pip？",
        "body": "\r\nconda可以直接安装paddlehub吗？还是只能通过pip？",
        "state": "closed",
        "user": "gyy666",
        "closed_by": "WYB27",
        "created_at": "2021-03-14T10:53:18+00:00",
        "updated_at": "2025-06-30T07:18:47+00:00",
        "closed_at": "2025-06-30T07:18:47+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1314,
        "title": "hub serving 内存一直增长",
        "body": "服务化部署后，内存占用一直在增长。只要关闭才会清除",
        "state": "closed",
        "user": "Yinmm",
        "closed_by": "WYB27",
        "created_at": "2021-03-16T02:41:28+00:00",
        "updated_at": "2025-06-30T07:18:44+00:00",
        "closed_at": "2025-06-30T07:18:44+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1313,
        "title": "自己训练的推理模型，图片验证的时候出现了这样的错误?",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\npaddle 1.8.5   paddlehub  1.7.1\r\n\r\n\r\nD:\\soft_path\\Anaconda\\lib\\site-packages\\win32\\lib\\pywintypes.py:3: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import sys, os,imp\r\nW0315 15:06:41.720773 21248 analysis_predictor.cc:1059] Deprecated. Please use CreatePredictor instead.\r\ne[37m---    fused 0 scale with matmule[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patternse[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patterns with transpose's xshapee[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patterns with reshape's xshapee[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patterns with reshape's xshape with transpose's xshapee[0m\r\ne[37m---    Fused 0 MatmulTransposeReshape patternse[0m\r\ne[37m---    fused 0 batch norm with relu activatione[0m\r\nTraceback (most recent call last):\r\n  File \"E:/Projection/unit3/predict_module/demo2.py\", line 11, in <module>\r\n    result = seg.people_segmentation(images=[cv2.imread(img2)])\r\n  File \"E:\\Projection\\unit3\\predict_module\\module.py\", line 123, in people_segmentation\r\n    self.segmentation_net.zero_copy_run()\r\nMemoryError: In user code:\r\n\r\n    File \"D:\\soft_path\\Anaconda\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2604, in append_op\r\n    op = Operator(\r\n\r\n    File \"D:\\soft_path\\Anaconda\\lib\\site-packages\\paddle\\fluid\\layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n\r\n    File \"D:\\soft_path\\Anaconda\\lib\\site-packages\\paddle\\fluid\\layers\\nn.py\", line 2922, in conv2d\r\n    helper.append_op(\r\n\r\n    File \"E:\\Face_Detection\\PaddleSeg-release-v0.7.0\\PaddleSeg-release-v0.7.0\\contrib\\HumanSeg\\nets\\libs.py\", line 128, in conv\r\n    return fluid.layers.conv2d(*args, **kargs)\r\n\r\n    File \"E:\\Face_Detection\\PaddleSeg-release-v0.7.0\\PaddleSeg-release-v0.7.0\\contrib\\HumanSeg\\nets\\libs.py\", line 153, in separate_conv\r\n    input = conv(\r\n\r\n    File \"E:\\Face_Detection\\PaddleSeg-release-v0.7.0\\PaddleSeg-release-v0.7.0\\contrib\\HumanSeg\\nets\\backbone\\xception.py\", line 268, in xception_block\r\n    data = separate_conv(\r\n\r\n    File \"E:\\Face_Detection\\PaddleSeg-release-v0.7.0\\PaddleSeg-release-v0.7.0\\contrib\\HumanSeg\\nets\\backbone\\xception.py\", line 199, in middle_flow\r\n    data, short_cuts = self.xception_block(\r\n\r\n    File \"E:\\Face_Detection\\PaddleSeg-release-v0.7.0\\PaddleSeg-release-v0.7.0\\contrib\\HumanSeg\\nets\\backbone\\xception.py\", line 81, in __call__\r\n    data = self.middle_flow(data)\r\n\r\n    File \"E:\\Face_Detection\\PaddleSeg-release-v0.7.0\\PaddleSeg-release-v0.7.0\\contrib\\HumanSeg\\nets\\deeplabv3p.py\", line 366, in build_net\r\n    data, decode_shortcuts = backbone_net(image)\r\n\r\n    File \"E:\\Face_Detection\\PaddleSeg-release-v0.7.0\\PaddleSeg-release-v0.7.0\\contrib\\HumanSeg\\models\\humanseg.py\", line 852, in build_net\r\n    model_out = model.build_net(inputs)\r\n\r\n    File \"E:\\Face_Detection\\PaddleSeg-release-v0.7.0\\PaddleSeg-release-v0.7.0\\contrib\\HumanSeg\\models\\load_model.py\", line 43, in load_model\r\n    model.test_inputs, model.test_outputs = model.build_net(\r\n\r\n    File \"export.py\", line 37, in export\r\n    model = models.load_model(args.model_dir)\r\n\r\n    File \"export.py\", line 43, in <module>\r\n    export(args)\r\n\r\n\r\n    ResourceExhaustedError: Fail to alloc memory of 263380608 size.\r\n      [Hint: p should not be null.] (at D:\\v2.0.0\\paddle\\paddle\\fluid\\memory\\detail\\system_allocator.cc:69)\r\n      [operator < conv2d > error]\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n希望寻求帮助\r\n\r\n\r\n",
        "state": "closed",
        "user": "sunhufei",
        "closed_by": "WYB27",
        "created_at": "2021-03-15T08:04:09+00:00",
        "updated_at": "2025-06-30T07:18:45+00:00",
        "closed_at": "2025-06-30T07:18:45+00:00",
        "comments_count": [
            "haoyuying",
            "sunhufei",
            "haoyuying",
            "sunhufei",
            "haoyuying",
            "sunhufei",
            "haoyuying",
            "sunhufei",
            "sunhufei",
            "ljwmusclenlper"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1320,
        "title": "module 'paddlehub' has no attribute 'reader'",
        "body": "paddle 2.0\r\npaddlehub 1.7, 1.5, 2.0\r\n\r\nreader = paddlehub.reader.ImageClassificationReader()的时候，报错提示：paddlehub has no attribute reader\r\n",
        "state": "closed",
        "user": "gengchengcai",
        "closed_by": "WYB27",
        "created_at": "2021-03-18T01:44:57+00:00",
        "updated_at": "2025-06-30T07:18:38+00:00",
        "closed_at": "2025-06-30T07:18:38+00:00",
        "comments_count": [
            "haoyuying",
            "YuanWenqing"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1315,
        "title": "W0316 14:17:51.425527   308 analysis_predictor.cc:1145] Deprecated. Please use CreatePredictor instead.",
        "body": "\r\n1）PaddleHub和PaddlePaddle版本：2.0\r\n2）系统环境：Windows，python版本：3.7\r\n- 复现信息：\r\n命令行输入： python D:/python/Lib/site-packages/paddleocr/tools/infer/predict_system.py --image_dir=\"C:\\\\Users\\\\username\\\\Desktop\\\\OCR_testp\\\\testp01.jpg\" --det_model_dir=\"D:/python/Lib/site-packages/paddleocr/inference/ch_ppocr_server_v2.0_det_infer/\" --rec_model_dir=\"D:/python/Lib/site-packages/paddleocr/inference/ch_ppocr_server_v2.0_rec_infer/\" --cls_model_dir=\"D:/python/Lib/site-packages/paddleocr/inference/ch_ppocr_mobile_v2.0_cls_infer/\" --use_angle_cls=True --use_space_char=False --use_gpu=False\r\n- 警告信息：\r\n- W0316 14:17:51.425527   308 analysis_predictor.cc:1145] Deprecated. Please use CreatePredictor instead.\r\n- 并且没有输出\r\n\r\n",
        "state": "closed",
        "user": "WoodThree-min",
        "closed_by": "WYB27",
        "created_at": "2021-03-16T06:25:04+00:00",
        "updated_at": "2025-06-30T07:18:42+00:00",
        "closed_at": "2025-06-30T07:18:42+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1318,
        "title": "有关autodl 超参数优化的问题",
        "body": "请问paddlehub的大佬，我们在定义超参数搜索范围的时候，有最大值和最小值，为什么还要设定初始值，而不是直接从最大值和最小值开始搜索？另外超参数搜索范围我们应该根据什么定义？我是用我的经验和我gpu的性能定义的范围，请问这个范围在定义的时候有什么科学依据或者论文可以参考的吗？谢谢解答",
        "state": "closed",
        "user": "LilyCaiZL",
        "closed_by": "WYB27",
        "created_at": "2021-03-17T06:31:39+00:00",
        "updated_at": "2025-06-30T07:18:40+00:00",
        "closed_at": "2025-06-30T07:18:40+00:00",
        "comments_count": [
            "haoyuying",
            "LilyCaiZL",
            "haoyuying",
            "LilyCaiZL",
            "xhyccc"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1321,
        "title": "优化策略定义错误",
        "body": "- 版本、环境信息\r\n1）PaddlePaddle1.6.2\r\n2）ai studio GPU版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n按照这个教程一步一步执行的，就是换了个数据集 [PaddleHub实战——使用语义预训练模型ERNIE优化新闻文本分类](https://aistudio.baidu.com/aistudio/projectdetail/221999?channelType=0&channel=0)\r\n定义优化策略如下\r\n```\r\nstrategy = hub.AdamWeightDecayStrategy(\r\n    learning_rate=5e-5,\r\n    weight_decay=0.01,\r\n    warmup_proportion=0.0,\r\n    lr_scheduler=\"linear_decay\",\r\n)\r\n```\r\n\r\n出现错误：\r\n`AttributeError: parameter_list argument given to the Optimizer should not be None in dygraph mode.\r\n`\r\n关键是换了一个数据集又没错了，这跟数据集有关系？",
        "state": "closed",
        "user": "foreversolar",
        "closed_by": "WYB27",
        "created_at": "2021-03-18T02:18:46+00:00",
        "updated_at": "2025-06-30T07:18:36+00:00",
        "closed_at": "2025-06-30T07:18:36+00:00",
        "comments_count": [
            "KPatr1ck",
            "foreversolar",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1322,
        "title": "示例教程报错",
        "body": "\r\n```python\r\nimport paddlehub as hub\r\nlac = hub.Module(name='lac')\r\ncontent = ['今天的天气真好啊~']\r\nresults = lac.cut(text=content, use_gpu=False, batch_size=1, return_tag=True)\r\nprint(results)\r\n```\r\n> AttributeError: module 'paddlehub' has no attribute 'Module'",
        "state": "closed",
        "user": "weijiang1994",
        "closed_by": "weijiang1994",
        "created_at": "2021-03-18T02:46:22+00:00",
        "updated_at": "2021-03-18T02:48:34+00:00",
        "closed_at": "2021-03-18T02:48:34+00:00",
        "comments_count": [
            "weijiang1994"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1324,
        "title": "hub启动服务时候增加--use_gpu 不生效",
        "body": "自己fine-tune的模型是通过gpu来训练的，预测函数也是自己简单写的，\r\n`@serving\r\n    def predict(self, data):\r\n        label_dict = self.dataset.label_dict()\r\n        run_states = self.task.predict(data=data)\r\n        results = [run_state.run_results for run_state in run_states]\r\n        prediction = []\r\n        for batch_result in results:\r\n            # get predict index\r\n            prediction += batch_result[0].tolist()   \r\n        label_map = []\r\n        for index in range(len(label_dict)):\r\n            label_map.append(LABELS[label_dict[int(index)]])     \r\n        return prediction, label_map`\r\n\r\n使用hub serving start -m xxx 并不是通过cpu来预测，还是gpu预测修改预测函数代码\r\n通过更改hub.config里 use_cuda的属性来实现是否需要通过gpu预测。\r\n`    @serving\r\n    def predict(self, data, use_gpu):\r\n        label_dict = self.dataset.label_dict()\r\n        if use_gpu:\r\n            run_states = self.gpu_task.predict(data=data)\r\n        else:\r\n            run_states = self.cpu_task.predict(data=data)\r\n        results = [run_state.run_results for run_state in run_states]\r\n        prediction = []\r\n        for batch_result in results:\r\n            # get predict index\r\n            prediction += batch_result[0].tolist()\r\n        label_map = []\r\n        for index in range(len(label_dict)):\r\n            label_map.append(LABELS[label_dict[int(index)]])\r\n        return prediction, label_map`\r\n\r\n上面的方法只能通过 config 配置文件的启动方式来选择是否启动gpu,   通过 hub 命令 --use_gpu的方式还是无法控制是否启动gpu，请问如何让--use_gpu生效。",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-03-18T07:49:39+00:00",
        "updated_at": "2025-06-30T07:18:34+00:00",
        "closed_at": "2025-06-30T07:18:34+00:00",
        "comments_count": [
            "suntao2015005848",
            "ShenYuhan",
            "suntao2015005848"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1331,
        "title": "警告，代码不执行：W0320 23:05:13.228931 16218 analysis_predictor.cc:1059] Deprecated. Please use CreatePredictor instead.",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub：1.8.0，PaddlePaddle-gpu：2.0.0\r\n2）系统环境：Jetson nano Ubuntu18.04，python3.6.9\r\n- 复现信息：\r\n\r\n#### 代码：\r\n`\r\nimport paddlehub as hub\r\nimport cv2\r\nimport time\r\nif __name__ == \"__main__\":\r\n    face_detector = hub.Module(name=\"pyramidbox_face_detection\")\r\n    result = face_detector.face_detection(images=[cv2.imread('./test.jpg')])\r\n    print(\"result\", result)\r\n    cv2.waitKey()\r\n`\r\n\r\n#### 输出图\r\n![image](https://user-images.githubusercontent.com/58903762/111874712-6cb67880-89d1-11eb-9666-dd32e6a439c2.png)\r\n\r\n#### 程序不往下执行，卡住。",
        "state": "closed",
        "user": "Irvingao",
        "closed_by": "WYB27",
        "created_at": "2021-03-20T15:11:03+00:00",
        "updated_at": "2025-06-30T07:18:32+00:00",
        "closed_at": "2025-06-30T07:18:32+00:00",
        "comments_count": [
            "Irvingao",
            "haoyuying",
            "Irvingao",
            "dajiew"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1332,
        "title": "Jetson nano 执行GPU预测报错：Error Message Summary:FatalError:' Segmentation fault' is detected by the operating system.",
        "body": "![image](https://user-images.githubusercontent.com/58903762/111876559-3af5df80-89da-11eb-95ee-563ded0c9e98.png)\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub：1.8.0，PaddlePaddle-gpu：2.0.0\r\n2）系统环境：Jetson nano Ubuntu18.04，python3.6.9\r\n- 复现信息：\r\n```\r\n\r\nfrom jetcam.csi_camera import CSICamera\r\nimport paddlehub as hub\r\nimport cv2\r\nimport time\r\n\r\ndef draw_bbox_image(img, data_list):\r\n    for boxes in data_list:\r\n        print(boxes)\r\n        left = int(boxes[\"left\"] * img.shape[1])\r\n        right = int(boxes[\"right\"] * img.shape[1])\r\n        top = int(boxes[\"top\"] * img.shape[0])\r\n        bottom = int(boxes[\"bottom\"] * img.shape[0])\r\n        confidence = str(boxes[\"confidence\"])\r\n        cv2.rectangle(img, (left, top), (right, bottom), (0,255,0), 2)\r\n        cv2.putText(img, confidence, (left, top-2), cv2.FONT_HERSHEY_SIMPLEX, 0.5, (0,255,0), 2)\r\n\r\nif __name__ == \"__main__\":\r\n    camera = CSICamera(capture_device=0, width=224, height=224)\r\n\r\n    object_detector = hub.Module(name=\"ssd_mobilenet_v1_pascal\")\r\n    \r\n    while True:\r\n        frame = camera.read()\r\n\r\n        tim1 = time.time()\r\n        result = object_detector.object_detection(images=[frame], use_gpu=True)\r\n        try:\r\n            data_list = result[0][\"data\"]\r\n            draw_bbox_image(frame, data_list)\r\n            print(\"data_list:\", data_list)\r\n        except IndexError:\r\n            pass\r\n        cv2.imshow(\"result\", frame)\r\n        tim2 = time.time()\r\n        tim = tim2 - tim1\r\n        print(\"tim\", tim)\r\n        print(\"result\", result)\r\n        if cv2.waitKey(1) & 0xFF == ord('q'):\r\n                break\r\n```\r\n\r\n",
        "state": "closed",
        "user": "Irvingao",
        "closed_by": "WYB27",
        "created_at": "2021-03-20T16:15:47+00:00",
        "updated_at": "2025-06-30T07:18:30+00:00",
        "closed_at": "2025-06-30T07:18:30+00:00",
        "comments_count": [
            "Irvingao",
            "haoyuying",
            "jiafuzeng"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1333,
        "title": "Jetson nano安装paddlehub2.0.4后，`import paddlehub`paddlepaddle崩溃。",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.0.4，PaddlePaddle-gpu2.0.0\r\n2）系统环境：Jetson nano Ubuntu18.04，python3.6.9\r\n- 复现信息：\r\n安装paddlepaddle-gpu正常，安装paddlehub1.8.0正常，但是安装paddlehub2.0.4后，`import paddlehub`paddlepaddle崩溃。\r\n",
        "state": "closed",
        "user": "Irvingao",
        "closed_by": "WYB27",
        "created_at": "2021-03-21T05:34:00+00:00",
        "updated_at": "2025-06-30T07:18:28+00:00",
        "closed_at": "2025-06-30T07:18:28+00:00",
        "comments_count": [
            "haoyuying",
            "Irvingao",
            "haoyuying",
            "Irvingao",
            "haoyuying",
            "Irvingao",
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1337,
        "title": "OSError: (External)  Cublas error, `CUBLAS_STATUS_INVALID_VALUE`",
        "body": "Since tensorflow is running very well on my machine, I assume the env is configured correctly.\r\nWhat could be the problems and how I may fix it?\r\n`\r\n    results = self.detector.object_detection(images = [ori_img], use_gpu = self.use_gpu, score_thresh = self.threshold, visualization=False)\r\n  File \"/home/user/anaconda3/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/home/user/.paddlehub/modules/yolov3_resnet50_vd_coco2017/module.py\", line 211, in object_detection\r\n    [image_tensor, im_size_tensor])\r\nOSError: (External)  Cublas error, `CUBLAS_STATUS_INVALID_VALUE`. An unsupported value or parameter was passed to the function (a negative vector size, for example).  (at /paddle/paddle/fluid/platform/cuda_helper.h:93)\r\n`",
        "state": "closed",
        "user": "jeffzhengye",
        "closed_by": "WYB27",
        "created_at": "2021-03-22T07:34:05+00:00",
        "updated_at": "2025-06-30T07:18:26+00:00",
        "closed_at": "2025-06-30T07:18:26+00:00",
        "comments_count": [
            "paddle-bot-old[bot]",
            "jeffzhengye",
            "Bob-AFei",
            "Bob-AFei",
            "haoyuying",
            "jeffzhengye",
            "jeffzhengye",
            "Maojianzeng",
            "Maojianzeng"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1340,
        "title": "import paddlehub as hub时，出现奇怪问题。",
        "body": "import paddlehub as hub\r\n在pycharm时，运行上面的代码，直接提示安装git。\r\n但是git我已经安装过了。\r\n如果我选择了安装，再次运行还是提示安装。\r\n如果我不安装，直接报错，报错内容如何。\r\nraise ImportError('Failed to initialize: {0}'.format(exc)) from exc\r\nImportError: Failed to initialize: Cmd('git') failed due to: exit code(2)\r\n  cmdline: git version \r\n",
        "state": "closed",
        "user": "icpucn",
        "closed_by": "WYB27",
        "created_at": "2021-03-25T10:48:23+00:00",
        "updated_at": "2025-06-30T07:18:22+00:00",
        "closed_at": "2025-06-30T07:18:22+00:00",
        "comments_count": [
            "haoyuying",
            "icpucn",
            "icpucn",
            "haoyuying",
            "icpucn",
            "kevinfu1717"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1338,
        "title": "paddlehub调用时间很长",
        "body": "不管是本地部署还是服务器部署 调用起来时间都会很长 本地是gpu 服务器是cpu 请问有没有什么解决办法 具体模型是超分辨率的 dcscn 还有图像动漫化的animegan_v1_hayao_60。",
        "state": "closed",
        "user": "txssg",
        "closed_by": "WYB27",
        "created_at": "2021-03-23T13:51:41+00:00",
        "updated_at": "2025-06-30T07:18:24+00:00",
        "closed_at": "2025-06-30T07:18:24+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1341,
        "title": "UnicodeDecodeError: 'utf-8' codec can't decode byte 0xb5 in position 6: invalid start byte",
        "body": "PaddlePaddle 2.0.0\r\nPaddleHub 2.0.4\r\n系统环境 window10， python 3.7.10\r\n\r\ncmd窗口运行命令hub serving start -m yolov3_darknet53_coco2017报错：\r\n\r\n(paddlepaddle) C:\\Users\\chaisen>hub serving start -m yolov3_darknet53_coco2017\r\nc:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\win32\\lib\\pywintypes.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp, sys, os\r\nc:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\pip\\_vendor\\packaging\\version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\nc:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\pip\\_vendor\\packaging\\version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n[2021-03-25 22:25:01,035] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0325 22:25:01.036675 22920 analysis_predictor.cc:1059] Deprecated. Please use CreatePredictor instead.\r\n \\* Serving Flask app \"paddlehub.serving.app_compat\" (lazy loading)\r\n\\* Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n \\* Debug mode: off\r\nTraceback (most recent call last):\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\anaconda3\\envs\\paddlepaddle\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 352, in execute\r\n    self.start_serving()\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 245, in start_serving\r\n    self.start_single_app_with_args()\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 223, in start_single_app_with_args\r\n    app.run(configs=self.modules_info, port=port)\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\paddlehub\\serving\\app_compat.py\", line 209, in run\r\n    my_app.run(host=\"0.0.0.0\", port=port, debug=False, threaded=False)\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\flask\\app.py\", line 990, in run\r\n    run_simple(host, port, self, **options)\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\werkzeug\\serving.py\", line 1052, in run_simple\r\n    inner()\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\werkzeug\\serving.py\", line 1005, in inner\r\n    fd=fd,\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\werkzeug\\serving.py\", line 863, in make_server\r\n    host, port, app, request_handler, passthrough_errors, ssl_context, fd=fd\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\site-packages\\werkzeug\\serving.py\", line 740, in __init__\r\n    HTTPServer.__init__(self, server_address, handler)\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\socketserver.py\", line 452, in __init__\r\n    self.server_bind()\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\http\\server.py\", line 139, in server_bind\r\n    self.server_name = socket.getfqdn(host)\r\n  File \"c:\\anaconda3\\envs\\paddlepaddle\\lib\\socket.py\", line 687, in getfqdn\r\n    hostname, aliases, ipaddrs = gethostbyaddr(name)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xb5 in position 6: invalid start byte",
        "state": "closed",
        "user": "claudehotline",
        "closed_by": "claudehotline",
        "created_at": "2021-03-25T14:34:22+00:00",
        "updated_at": "2021-03-26T13:33:33+00:00",
        "closed_at": "2021-03-26T13:33:33+00:00",
        "comments_count": [
            "ShenYuhan",
            "claudehotline"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1343,
        "title": "设置调用模型的输出日志",
        "body": "- 您好，我在服务器上安装部署了paddlehub，正在测试、使用senta_bilstm情感分析和lac分词模型。\r\n- 我启动两个模型的命令用的是nohup hub serving start -m senta_bilstm &...以及nohup hub serving start -c cut-config.json  &...成功启动服务并且分别将两个模型的调用日志输出到指定文件，查看日志发现日志信息不够完善。我这边的两个日志信息记录如下：\r\n- 分词日志\r\n 2021-04-01 11:13:20,255 - INFO - 36.112.87.131 - - [01/Apr/2021 11:13:20] \"\u001b[37mPOST /predict/lac HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2021-04-01 11:13:20,255 _internal.py:113] 36.112.87.131 - - [01/Apr/2021 11:13:20] \"\u001b[37mPOST /predict/lac HTTP/1.1\u001b[0m\" 200 -\r\n- 情感倾向分析日志\r\n2021-04-01 11:29:54,562 - INFO - 36.112.87.131 - - [01/Apr/2021 11:29:54] \"\u001b[37mPOST /predict/senta_bilstm HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2021-04-01 11:29:54,562 _internal.py:113] 36.112.87.131 - - [01/Apr/2021 11:29:54] \"\u001b[37mPOST /predict/senta_bilstm HTTP/1.1\u001b[0m\" 200 -\r\n\r\n- 我是用的是post请求方式：http://服务器ip:8866/predict/senta_bilstm 和http://服务器ip:8867/predict/lac\r\n- 我想要在服务器端打印记录请求开始时间、请求内容/数据、响应/返回数据、请求结束时间，请问这些参数在哪里可以设置、如何进行设置？\r\n- 谢谢！\r\n",
        "state": "closed",
        "user": "lyuandt",
        "closed_by": "WYB27",
        "created_at": "2021-04-01T04:24:19+00:00",
        "updated_at": "2025-06-30T07:18:18+00:00",
        "closed_at": "2025-06-30T07:18:18+00:00",
        "comments_count": [],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1342,
        "title": "ocr识别时出现如下错误“expected string or bytes-like object”",
        "body": "- 版本、环境信息：\r\n    1）PaddlePaddle版本：2.0.1\r\n    2）CPU：鲲鹏920\r\n    3）系统环境：统信UOS 20，Python版本：3.7.3\r\n\r\n出现如下错误：\r\n'text_box_position': boxes[index].astype(np.int).tolist()\r\nexpected string or bytes-like object\r\n",
        "state": "closed",
        "user": "yilvshifeng",
        "closed_by": "WYB27",
        "created_at": "2021-03-30T07:52:08+00:00",
        "updated_at": "2025-06-30T07:18:20+00:00",
        "closed_at": "2025-06-30T07:18:20+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1345,
        "title": "paddlehub中的视频模型使用预测框架create_paddle_predictor运行闪退",
        "body": "env:\r\nwindows7\r\npython3.7\r\npaddle 1.8.5\r\n\r\n使用paddlehub中的视频流标签模型videotag_tsn_lstm本身运行正常，由于想用cpu部署，使用create_paddle_predictor开启mkldnn部署运行直接闪退，没有任何提示和错误，必现\r\n\r\n使用create_paddle_predictor的闪退代码（该代码运行其他paddle模型正常）：\r\nclass PaddleOCRBackend():\r\n    def init(self, model_path, model_filename, params_filename):\r\n        config = AnalysisConfig(model_filename, params_filename)\r\n\r\n        config.disable_gpu()\r\n        # config.set_cpu_math_library_num_threads(6)\r\n\r\n        # config.set_mkldnn_cache_capacity(10)\r\n        config.enable_mkldnn()\r\n\r\n        # config.enable_memory_optim()\r\n        config.disable_glog_info()\r\n\r\n        config.delete_pass(\"conv_transpose_eltwiseadd_bn_fuse_pass\")\r\n        config.switch_use_feed_fetch_ops(False)\r\n\r\n        self.predictor = create_paddle_predictor(config)\r\n        input_names = self.predictor.get_input_names()\r\n        for name in input_names:\r\n            self.input_tensor = self.predictor.get_input_tensor(name)\r\n        output_names = self.predictor.get_output_names()\r\n        self.output_tensors = []\r\n        for output_name in output_names:\r\n            output_tensor = self.predictor.get_output_tensor(output_name)\r\n            self.output_tensors.append(output_tensor)\r\n\r\n    def run(self, output_name, input_data):\r\n        input_data = list(input_data.values())[0]\r\n        # norm_img_batch = fluid.core.PaddleTensor(input_data)\r\n        # outs = self.predictor.run([norm_img_batch])\r\n        self.input_tensor.copy_from_cpu(input_data)\r\n        self.predictor.zero_copy_run()\r\n        outputs = []\r\n        for output_tensor in self.output_tensors:\r\n            output = output_tensor.copy_to_cpu()\r\n            outputs.append(output)\r\n\r\n        return outputs\r\n\r\n使用fluid.Executor运行正常，代码如下\r\nclass PaddleBackend():\r\n    def init(self, model_path, model_filename, params_filename):\r\n        self.extractor_scope = fluid.Scope()\r\n        with fluid.scope_guard(self.extractor_scope):\r\n            extractor_startup_prog = fluid.Program()\r\n            extractor_main_prog = fluid.Program()\r\n            with fluid.program_guard(extractor_main_prog, extractor_startup_prog):\r\n                self.place = fluid.CUDAPlace(0) if fluid.is_compiled_with_cuda() else fluid.CPUPlace()\r\n                # self.place = fluid.CPUPlace()\r\n                self.exe=fluid.Executor(self.place)\r\n                # self.exe.run(fluid.default_startup_program())\r\n                self.infer_program, self.feeded_var_names, self.target_var = fluid.io.load_inference_model(model_path, self.exe, model_filename, params_filename)\r\n                # self.feeder = fluid.DataFeeder(place=self.place, feed_list=self.feeded_var_names)\r\n\r\n    def run(self, output_name, input_data):\r\n        # input_data = list(input_data.values())[0]\r\n        result = self.exe.run(program=self.infer_program,feed=input_data,fetch_list=self.target_var, scope=self.extractor_scope)\r\n        return result\r\n\r\n\r\n",
        "state": "closed",
        "user": "whut09",
        "closed_by": "WYB27",
        "created_at": "2021-01-21T02:34:54+00:00",
        "updated_at": "2025-06-30T07:20:23+00:00",
        "closed_at": "2025-06-30T07:20:23+00:00",
        "comments_count": [
            "ZeyuChen",
            "whut09"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1344,
        "title": "Bug on finetune.py for senta related modules",
        "body": "### 1. 版本信息\r\n下述两种环境中均可复现相同BUG\r\npaddlepaddle == 1.7.2 && paddlehub == 1.7.0\r\npaddlepaddle == 1.8 && paddlehub == 1.8\r\n\r\n### 2. 系统环境\r\nUbuntu 16.04.6 LTS\r\n\r\n### 3. 复现信息\r\n运行 repo 中 demo/senta/senta_finetune.py 时报错\r\n```\r\nTraceback (most recent call last):\r\n  File \"senta_finetune.py\", line 30, in <module>\r\n    feed_list = [inputs[\"words\"].name]\r\nKeyError: 'words'\r\n```",
        "state": "closed",
        "user": "sfu2",
        "closed_by": "sfu2",
        "created_at": "2021-04-01T08:16:39+00:00",
        "updated_at": "2021-04-06T05:48:27+00:00",
        "closed_at": "2021-04-06T05:48:27+00:00",
        "comments_count": [
            "KPatr1ck",
            "sfu2",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1350,
        "title": "无法上传module",
        "body": "![image](https://user-images.githubusercontent.com/58030051/113426690-69c27b80-9406-11eb-9118-df07e700f1ce.png)\r\n点击上传后跳转至登陆界面，输入账户密码后转404\r\n![image](https://user-images.githubusercontent.com/58030051/113426905-b1490780-9406-11eb-8054-ae79f0d4b01a.png)\r\n",
        "state": "closed",
        "user": "thomas-yanxin",
        "closed_by": "WYB27",
        "created_at": "2021-04-02T14:56:50+00:00",
        "updated_at": "2025-06-30T07:18:14+00:00",
        "closed_at": "2025-06-30T07:18:14+00:00",
        "comments_count": [
            "chunzhang-hub",
            "thomas-yanxin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1346,
        "title": "开启lac 不成功",
        "body": "`AttributeError: module 'paddle.fluid.core_avx' has no attribute 'is_compiled_with_ngraph'`\r\npy是3.7 其他的hub 都是最新。但进行hub install lac==2.2.0  时就是不成功  windows cpu 下",
        "state": "closed",
        "user": "hdyzhuxun",
        "closed_by": "WYB27",
        "created_at": "2020-09-04T04:25:44+00:00",
        "updated_at": "2025-06-30T07:23:44+00:00",
        "closed_at": "2025-06-30T07:23:44+00:00",
        "comments_count": [
            "zhangting2020",
            "hdyzhuxun",
            "zhangting2020"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1351,
        "title": "Deprecated. Please use CreatePredictor instead.",
        "body": "环境\r\nlinux\r\npython3.6\r\npaddlenhub-1.8.3\r\npaddlepaddle-2.0.1\r\n\r\n出现警告：Deprecated. Please use CreatePredictor instead.\r\n\r\np.s. paddlehub 2.0.4在python3.6好像运行不了，如果有解决方法请告诉我，谢谢！\r\n",
        "state": "closed",
        "user": "CeasonCui",
        "closed_by": "CeasonCui",
        "created_at": "2021-04-03T04:11:00+00:00",
        "updated_at": "2021-04-03T07:21:29+00:00",
        "closed_at": "2021-04-03T07:21:28+00:00",
        "comments_count": [
            "CeasonCui",
            "CeasonCui"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1348,
        "title": "paddleocr预测时gpu没有使用",
        "body": "我分别用cpu和gpu预测5张图片，两者速度都是一样。在ai studio服务器gpu环境中运行的，安装了paddlepaddle和paddlepaddle-gpu两个环境，想问下如何使用use_gpu开启加速。目前不论是服务器还是自己本地运行，开不开gpu速度都是一样的\r\n\r\n![7a65ae94ca3c38690ba042b2c9404e6](https://user-images.githubusercontent.com/59790290/113379468-2b986e00-93ac-11eb-9fe2-3755ddfaf252.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "yuzhobotianzhiyu",
        "closed_by": "WYB27",
        "created_at": "2021-04-02T04:10:34+00:00",
        "updated_at": "2025-06-30T07:18:16+00:00",
        "closed_at": "2025-06-30T07:18:16+00:00",
        "comments_count": [
            "ShenYuhan",
            "yuzhobotianzhiyu",
            "ShenYuhan",
            "yuzhobotianzhiyu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1356,
        "title": "I cannot use it even though I upgrade it....",
        "body": "## My information: \r\n- Windows 10\r\n- Python 3.8.5\r\n- Anaconda Command line client (version 1.7.2)\r\n\r\n## Python packages list: \r\nPackage                            Version\r\n---------------------------------- -------------------\r\n-abel                              2.8.1\r\nalabaster                          0.7.12\r\naltgraph                           0.17\r\nanaconda-client                    1.7.2\r\nanaconda-navigator                 1.10.0\r\nanaconda-project                   0.8.3\r\nappdirs                            1.4.4\r\nargh                               0.26.2\r\nargon2-cffi                        20.1.0\r\nasgiref                            3.3.1\r\nasn1crypto                         1.4.0\r\nastor                              0.8.1\r\nastroid                            2.4.2\r\nastropy                            4.0.2\r\nasync-generator                    1.10\r\natomicwrites                       1.4.0\r\nattrs                              20.3.0\r\nautopep8                           1.5.4\r\nBabel                              2.9.0\r\nbackcall                           0.2.0\r\nbackports.functools-lru-cache      1.6.1\r\nbackports.shutil-get-terminal-size 1.0.0\r\nbackports.tempfile                 1.0\r\nbackports.weakref                  1.0.post1\r\nbce-python-sdk                     0.8.59\r\nbcrypt                             3.2.0\r\nbeautifulsoup4                     4.9.3\r\nbitarray                           1.6.1\r\nbkcharts                           0.2\r\nbleach                             3.2.1\r\nbokeh                              2.2.3\r\nboto                               2.49.0\r\nboto3                              1.16.60\r\nbotocore                           1.19.60\r\nbottle                             0.12.19\r\nBottleneck                         1.3.2\r\nbrotlipy                           0.7.0\r\ncertifi                            2020.12.5\r\ncffi                               1.14.3\r\ncfgv                               3.2.0\r\nchardet                            3.0.4\r\nclick                              7.1.2\r\ncloudpickle                        1.6.0\r\nclyent                             1.2.2\r\ncolorama                           0.4.4\r\ncolorlog                           4.8.0\r\ncommon                             0.1.2\r\ncomtypes                           1.1.7\r\nconda                              4.9.2\r\nconda-build                        3.20.5\r\nconda-package-handling             1.7.2\r\nconda-verify                       3.4.2\r\nconstants                          0.6.0\r\ncontextlib2                        0.6.0.post1\r\ncryptography                       3.1.1\r\ncssselect                          1.1.0\r\ncycler                             0.10.0\r\nCython                             0.29.21\r\ncytoolz                            0.11.0\r\ndask                               2.30.0\r\ndata                               0.4\r\ndecorator                          4.4.2\r\ndefusedxml                         0.6.0\r\ndiff-match-patch                   20200713\r\ndistlib                            0.3.1\r\ndistributed                        2.30.1\r\nDjango                             3.1.6\r\ndocutils                           0.16\r\ndual                               0.0.10\r\ndynamo3                            0.4.10\r\neasydict                           1.9\r\nentrypoints                        0.3\r\net-xmlfile                         1.0.1\r\nfastcache                          1.1.0\r\nfilelock                           3.0.12\r\nflake8                             3.8.4\r\nFlask                              1.1.2\r\nFlask-Babel                        2.0.0\r\nflywheel                           0.5.4\r\nfsspec                             0.8.3\r\nfuncsigs                           1.0.2\r\nfuture                             0.18.2\r\ngast                               0.3.3\r\ngevent                             20.9.0\r\ngevent-websocket                   0.10.1\r\ngitdb                              4.0.7\r\nGitPython                          3.1.14\r\nglob2                              0.7\r\ngmpy2                              2.0.8\r\ngreenlet                           0.4.17\r\nh5py                               2.10.0\r\nHeapDict                           1.0.1\r\nhtml5lib                           1.1\r\nidentify                           2.2.2\r\nidna                               2.10\r\nimageio                            2.9.0\r\nimagesize                          1.2.0\r\nimportlib-metadata                 2.0.0\r\niniconfig                          1.1.1\r\nintervaltree                       3.1.0\r\nipykernel                          5.3.4\r\nipython                            7.19.0\r\nipython-genutils                   0.2.0\r\nipywidgets                         7.5.1\r\nisort                              5.6.4\r\nitsdangerous                       1.1.0\r\njdcal                              1.4.1\r\njedi                               0.17.1\r\njieba                              0.42.1\r\nJinja2                             2.11.2\r\njmespath                           0.10.0\r\njoblib                             0.17.0\r\njson5                              0.9.5\r\njsonpath                           0.82\r\njsonschema                         3.2.0\r\njupyter                            1.0.0\r\njupyter-client                     6.1.7\r\njupyter-console                    6.2.0\r\njupyter-core                       4.6.3\r\njupyterlab                         2.2.6\r\njupyterlab-pygments                0.1.2\r\njupyterlab-server                  1.2.0\r\nkeyring                            21.4.0\r\nkiwisolver                         1.3.0\r\nlazy-object-proxy                  1.4.3\r\nlibarchive-c                       2.9\r\nllvmlite                           0.34.0\r\nlocket                             0.2.0\r\nlxml                               4.6.1\r\nMarkupSafe                         1.1.1\r\nmatplotlib                         3.3.2\r\nmccabe                             0.6.1\r\nmenuinst                           1.4.16\r\nmistune                            0.8.4\r\nmkl-fft                            1.2.0\r\nmkl-random                         1.1.1\r\nmkl-service                        2.3.0\r\nmock                               4.0.2\r\nmore-itertools                     8.6.0\r\nmpmath                             1.1.0\r\nmsgpack                            1.0.0\r\nmultipledispatch                   0.6.0\r\nmysqlclient                        2.0.3\r\nnavigator-updater                  0.2.1\r\nnbclient                           0.5.1\r\nnbconvert                          6.0.7\r\nnbformat                           5.0.8\r\nnest-asyncio                       1.4.2\r\nnetworkx                           2.5\r\nnltk                               3.5\r\nnodeenv                            1.5.0\r\nnose                               1.3.7\r\nnotebook                           6.1.4\r\nnumba                              0.51.2\r\nnumexpr                            2.7.1\r\nnumpy                              1.19.2\r\nnumpydoc                           1.1.0\r\nolefile                            0.46\r\nopencv-contrib-python              4.5.1.48\r\nopencv-python                      4.5.1.48\r\nopenpyxl                           3.0.5\r\npackaging                          20.4\r\npaddle                             1.0.2\r\npaddlehub                          2.0.4\r\npaddlenlp                          2.0.0rc16\r\npaddlepaddle                       2.0.1\r\npandas                             1.1.3\r\npandocfilters                      1.4.3\r\nparamiko                           2.7.2\r\nparsel                             1.6.0\r\nparso                              0.7.0\r\npartd                              1.1.0\r\npath                               15.0.0\r\npathlib2                           2.3.5\r\npathtools                          0.1.2\r\npatsy                              0.5.1\r\npeewee                             3.14.0\r\npefile                             2019.4.18\r\npep8                               1.7.1\r\npexpect                            4.8.0\r\npickleshare                        0.7.5\r\nPillow                             8.0.1\r\npip                                20.2.4\r\npip-review                         1.1.0\r\npkginfo                            1.6.1\r\npluggy                             0.13.1\r\nply                                3.11\r\npre-commit                         2.11.1\r\nprometheus-client                  0.8.0\r\nprompt-toolkit                     3.0.8\r\nprotobuf                           3.15.7\r\nprox                               0.0.17\r\npsutil                             5.7.2\r\npy                                 1.9.0\r\npyasn1                             0.4.8\r\nPyAudio                            0.2.11\r\npycodestyle                        2.6.0\r\npycosat                            0.6.3\r\npycparser                          2.20\r\npycryptodome                       3.10.1\r\npycryptodomex                      3.9.9\r\npycurl                             7.43.0.6\r\npydocstyle                         5.1.1\r\npyflakes                           2.2.0\r\nPygments                           2.7.2\r\nPyHook3                            1.6.1\r\npyinstaller                        4.2\r\npyinstaller-hooks-contrib          2021.1\r\npylint                             2.6.0\r\nPyMouse                            1.0\r\nPyMySQL                            1.0.2\r\nPyNaCl                             1.4.0\r\npynput                             1.7.2\r\npyodbc                             4.0.0-unsupported\r\npyOpenSSL                          19.1.0\r\npyparsing                          2.4.7\r\nPyQt5                              5.15.2\r\nPyQt5-sip                          12.8.1\r\npyreadline                         2.1\r\npyrsistent                         0.17.3\r\nPySocks                            1.7.1\r\npytesseract                        0.3.7\r\npytest                             0.0.0\r\npython-dateutil                    2.8.1\r\npython-geoip-python3               1.3\r\npython-jsonrpc-server              0.4.0\r\npython-language-server             0.35.1\r\npytz                               2020.1\r\nPyWavelets                         1.1.1\r\npywifi                             1.1.12\r\npywin32                            300\r\npywin32-ctypes                     0.2.0\r\npyWinhook                          1.6.2\r\npywinpty                           0.5.7\r\nPyYAML                             5.3.1\r\npyzmq                              19.0.2\r\nQDarkStyle                         2.8.1\r\nQtAwesome                          1.0.1\r\nqtconsole                          4.7.7\r\nQtPy                               1.9.0\r\nrarfile                            4.0\r\nregex                              2020.10.15\r\nrequests                           2.24.0\r\nrope                               0.18.0\r\nrsa                                4.7\r\nRtree                              0.9.4\r\nruamel-yaml                        0.15.87\r\ns3transfer                         0.3.4\r\nscapy                              2.4.4\r\nscapy-python3                      0.26\r\nscikit-image                       0.17.2\r\nscikit-learn                       0.23.2\r\nscipy                              1.5.2\r\nseaborn                            0.11.0\r\nselenium                           3.141.0\r\nSend2Trash                         1.5.0\r\nseqeval                            1.2.2\r\nsetuptools                         50.3.1.post20201107\r\nshellcheck-py                      0.7.1.1\r\nsimplegeneric                      0.8.1\r\nsingledispatch                     3.4.0.3\r\nsip                                4.19.13\r\nsix                                1.15.0\r\nsmmap                              4.0.0\r\nsnowballstemmer                    2.0.0\r\nsortedcollections                  1.2.1\r\nsortedcontainers                   2.2.2\r\nsoupsieve                          2.0.1\r\nSphinx                             3.2.1\r\nsphinxcontrib-applehelp            1.0.2\r\nsphinxcontrib-devhelp              1.0.2\r\nsphinxcontrib-htmlhelp             1.0.3\r\nsphinxcontrib-jsmath               1.0.1\r\nsphinxcontrib-qthelp               1.0.3\r\nsphinxcontrib-serializinghtml      1.1.4\r\nsphinxcontrib-websupport           1.2.4\r\nspyder                             4.1.5\r\nspyder-kernels                     1.9.4\r\nSQLAlchemy                         1.3.20\r\nsqlparse                           0.4.1\r\nstatsmodels                        0.12.0\r\nsympy                              1.6.2\r\ntables                             3.6.1\r\ntblib                              1.7.0\r\nterminado                          0.9.1\r\ntestpath                           0.4.4\r\nthreadpoolctl                      2.1.0\r\ntifffile                           2020.10.1\r\ntight                              0.1.0\r\ntoml                               0.10.1\r\ntoolz                              0.11.1\r\ntornado                            6.0.4\r\ntqdm                               4.50.2\r\ntraitlets                          5.0.5\r\ntyping-extensions                  3.7.4.3\r\nujson                              4.0.1\r\nunicodecsv                         0.14.1\r\nurllib3                            1.25.11\r\nvirtualenv                         20.4.3\r\nvisualdl                           2.1.1\r\nw3lib                              1.22.0\r\nwatchdog                           0.10.3\r\nwcwidth                            0.2.5\r\nweb.py                             0.21\r\nwebencodings                       0.5.1\r\nWerkzeug                           1.0.1\r\nwheel                              0.35.1\r\nwidgetsnbextension                 3.5.1\r\nwin-inet-pton                      1.1.0\r\nwin-unicode-console                0.5\r\nwincertstore                       0.2\r\nwrapt                              1.11.2\r\nxlrd                               1.2.0\r\nXlsxWriter                         1.3.7\r\nxlwings                            0.20.8\r\nxlwt                               1.3.0\r\nxmltodict                          0.12.0\r\nyapf                               0.30.0\r\nzict                               2.0.0\r\nzipp                               3.4.0\r\nzope.event                         4.5.0\r\nzope.interface                     5.1.2\r\n\r\n\r\n## Error code:\r\n`import paddlehub as hub`\r\n\r\n\r\n## Error messages:\r\n\r\n```\r\n---------------------------------------------------------------------------\r\nRuntimeError                              Traceback (most recent call last)\r\n<ipython-input-18-e6d9344ab8a2> in <module>\r\n----> 1 import paddlehub as hub\r\n\r\nC:\\Python\\Anaconda3\\lib\\site-packages\\paddlehub\\__init__.py in <module>\r\n     20 _paddle_version = Version(paddle.__version__)\r\n     21 if _paddle_version < Version('2.0.0'):\r\n---> 22     raise RuntimeError(\r\n     23         'Version mismatch in PaddleHub and PaddlePaddle, you need to upgrade PaddlePaddle to version 2.0.0 or above.')\r\n     24 \r\n\r\nRuntimeError: Version mismatch in PaddleHub and PaddlePaddle, you need to upgrade PaddlePaddle to version 2.0.0 or above.\r\n\r\n```",
        "state": "closed",
        "user": "DyNooob",
        "closed_by": "WYB27",
        "created_at": "2021-04-11T04:44:31+00:00",
        "updated_at": "2025-06-30T07:18:09+00:00",
        "closed_at": "2025-06-30T07:18:09+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1352,
        "title": "Paddleocr中文乱码和键盘输入冲突",
        "body": "官网paddleocr的window环境下C++部署教程中，cmd对于预测的中文结果是乱码形式，需要加上system(\"chcp 65001\")使得cmd窗口转化为utf-8才能解决预测中文乱码的情况。\r\n但是输入system(\"chcp 65001\")后，cin从键盘输入中文就会产生乱码情况。所以我无法完成手动输入一个中文字，来判断预测的结果是否含这个字。\r\n有没有方式能解决本地键盘输入中文字符和预测中文字符结果都不出现乱码。",
        "state": "closed",
        "user": "yuzhobotianzhiyu",
        "closed_by": "WYB27",
        "created_at": "2021-04-06T08:12:13+00:00",
        "updated_at": "2025-06-30T07:18:12+00:00",
        "closed_at": "2025-06-30T07:18:12+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1355,
        "title": "安装paddleHub后运行提示 No module named 'filelock'",
        "body": "GAN动漫化模型一键应用（含动漫化小程序体验）中，成功安装paddlehub，但仍报错。\r\n![image](https://user-images.githubusercontent.com/32660990/114290690-fbd81d00-9ab3-11eb-9f42-f9d2b31ac50f.png)\r\n\r\n",
        "state": "closed",
        "user": "sweetiedream",
        "closed_by": "WYB27",
        "created_at": "2021-04-11T02:52:38+00:00",
        "updated_at": "2025-06-30T07:18:11+00:00",
        "closed_at": "2025-06-30T07:18:11+00:00",
        "comments_count": [
            "haoyuying",
            "sweetiedream"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1357,
        "title": "paddleX转换的模型，摄像头调用有问题",
        "body": "paddleX转换的模型，摄像头调用有问题\r\n\r\nresult = module.predict(images=[(r\"XXXX.jpg\")])\r\n调用图片  没问题\r\n\r\n但是\r\ncv2.VideoCapture(0)\r\nret, frame = cap.read()\r\nresult = module.predict(images=frame,use_gpu=True)\r\n\r\n摄像头调用的时候   报错  提示\r\nException: im should be 3-dimensions, but now is 2-dimensions",
        "state": "closed",
        "user": "monkeycc",
        "closed_by": "WYB27",
        "created_at": "2021-04-11T14:53:55+00:00",
        "updated_at": "2025-06-30T07:18:07+00:00",
        "closed_at": "2025-06-30T07:18:07+00:00",
        "comments_count": [
            "haoyuying",
            "monkeycc",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1360,
        "title": "paddlehub文本多标签分类标签量级大导致内存溢出",
        "body": "我参考了Toxic数据集准备的代码准备了自定义的多标签分类数据：\r\n```\r\ndef _read_csv(self, input_file, quotechar=None):\r\n        \"\"\"Reads a tab separated value file.\"\"\"\r\n        data = pd.read_csv(input_file, encoding=\"UTF-8\")\r\n        examples = []\r\n        for index, row in data.iterrows():\r\n            guid = row[\"id\"]\r\n            text = row[\"comment_text\"]\r\n            labels = [int(value) for value in row[2:]]\r\n            example = InputExample(guid=guid, label=labels, text_a=text)\r\n            examples.append(example)\r\n\r\n        return examples\r\n```\r\n但是由于我自己的数据标签类型有3k个，这样定义导致每个数据是一个非常稀疏且占空间的向量，最终导致内存溢出。\r\n请问有没有什么方法解决这个问题呢？可以不一次性加载到内存吗？",
        "state": "closed",
        "user": "hy295322781",
        "closed_by": "WYB27",
        "created_at": "2021-04-13T02:45:46+00:00",
        "updated_at": "2025-06-30T07:18:03+00:00",
        "closed_at": "2025-06-30T07:18:03+00:00",
        "comments_count": [
            "KPatr1ck",
            "hy295322781",
            "KPatr1ck",
            "hy295322781",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1361,
        "title": "支持ppyolo",
        "body": "希望可以支持百度自研的ppyolo模型",
        "state": "closed",
        "user": "Lie-huo",
        "closed_by": "WYB27",
        "created_at": "2021-04-14T15:21:33+00:00",
        "updated_at": "2025-06-30T07:18:01+00:00",
        "closed_at": "2025-06-30T07:18:01+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1359,
        "title": "调用paddlehub报错 TypeError: __new__() takes 1 positional argument but 2 were given",
        "body": "GAN动漫化模型一键应用（含动漫化小程序体验）中，调用paddlehub报错。\r\nPaddleHub==2.0.4, PaddlePaddle==2.0.2, Windows, python==3.7.0\r\n![image](https://user-images.githubusercontent.com/32660990/114407212-c0843e00-9bda-11eb-961f-ca7e710092c2.png)\r\n![image](https://user-images.githubusercontent.com/32660990/114407276-d09c1d80-9bda-11eb-84ec-dfe5a821a480.png)\r\n",
        "state": "closed",
        "user": "sweetiedream",
        "closed_by": "WYB27",
        "created_at": "2021-04-12T14:03:28+00:00",
        "updated_at": "2025-06-30T07:18:05+00:00",
        "closed_at": "2025-06-30T07:18:05+00:00",
        "comments_count": [
            "sweetiedream",
            "haoyuying",
            "sweetiedream",
            "haoyuying",
            "sweetiedream"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1363,
        "title": "打包成exe会产生新的进程",
        "body": "paddlehub                 2.0.4\r\npaddlepaddle              2.0.0\r\npyinstaller               5.0.dev0\r\nPyQt5                     5.15.4\r\n\r\n打包好的exe在 语句“import paddlehub as hub” 执行时，会产生新的进程，有办法避免吗？\r\n\r\n",
        "state": "closed",
        "user": "iceriver97",
        "closed_by": "iceriver97",
        "created_at": "2021-04-16T08:31:54+00:00",
        "updated_at": "2021-04-28T01:26:47+00:00",
        "closed_at": "2021-04-28T01:26:47+00:00",
        "comments_count": [
            "nepeplwu",
            "iceriver97",
            "iceriver97"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1362,
        "title": "Jetson AGX上安装paddlepaddle-gpu以后hub运行并没有使用GPU",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub 2.0.0 paddlepaddle_gpu-2.0.2-cp36-cp36m-linux_aarch64.whl\r\n2）系统环境：jetson AGX，Py36， \r\n安装paddlepaddle_gpu-2.0.2-cp36-cp36m-linux_aarch64.whl后，安装最新版的paddlehub。在使用ocr过程中，使用jetson-stats监控jetson agx发现paddle发现GPU的占用率最高也不到30%，但CPU却一直是满的或接近满的状态。将agx 的性能模式从30W ALL 调整至30W 4Cores后，CPU跑满，GPU不变（还是没有被调用），预测速率降低了好几倍，不知道这是什么问题",
        "state": "closed",
        "user": "PhilCuriosity",
        "closed_by": "PhilCuriosity",
        "created_at": "2021-04-15T11:59:55+00:00",
        "updated_at": "2021-08-16T09:27:59+00:00",
        "closed_at": "2021-04-16T01:29:49+00:00",
        "comments_count": [
            "PhilCuriosity",
            "kractics"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1364,
        "title": "PaddleHub 下载的预训练模型,使用paddle.load() 没法加载?",
        "body": "0. 使用paddlehub下载了vgg19_imagenet的预训练模型\r\n1. 使用paddle.load()加载权重\r\n2. 报错如下\r\n![image](https://user-images.githubusercontent.com/43838913/115015614-8078d000-9ee6-11eb-8af9-9d8ccb4d3961.png)\r\n3. 我在aiStudio上的在线环境中查看预训练权重,没有文件类型吗? \r\n![image](https://user-images.githubusercontent.com/43838913/115015722-adc57e00-9ee6-11eb-945a-85a06ef2b7cc.png)\r\n\r\n",
        "state": "closed",
        "user": "zhijiejia",
        "closed_by": "WYB27",
        "created_at": "2021-04-16T11:05:19+00:00",
        "updated_at": "2025-06-30T07:17:59+00:00",
        "closed_at": "2025-06-30T07:17:59+00:00",
        "comments_count": [
            "KPatr1ck",
            "KPatr1ck",
            "zhijiejia",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1367,
        "title": "This is a development server. Do not use it in a production deployment",
        "body": "paddlepaddle    1.8.5\r\npaddlehub       1.8.3\r\npython         3.8\r\nubuntu  18.04\r\n\r\n您好，我使用这个[链接](https://www.paddlepaddle.org.cn/hubdetail?name=deeplabv3p_xception65_humanseg&en_category=ImageSegmentation)\r\n提供的服务端部署出现了问题。\r\n\r\n当我run了下面的代码之后，\r\n![2](https://user-images.githubusercontent.com/77101860/115133657-808ae400-a03c-11eb-9a6e-6593a565dfcc.png)\r\n服务器端不知道为啥中止了，\r\n![1](https://user-images.githubusercontent.com/77101860/115133633-67823300-a03c-11eb-9dad-570d073d7d36.png)\r\n\r\n我想用paddlehub部署人像分割，并获取人像前景图，希望可以解答一下疑惑\r\n\r\n\r\n",
        "state": "closed",
        "user": "AP-Kai",
        "closed_by": "WYB27",
        "created_at": "2021-04-18T03:55:19+00:00",
        "updated_at": "2025-06-30T07:17:57+00:00",
        "closed_at": "2025-06-30T07:17:57+00:00",
        "comments_count": [
            "KPatr1ck",
            "AP-Kai"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1368,
        "title": "主干网络多尺度特征获取",
        "body": "请问，这里面优秀的预训练模型怎末获得它中间层的feature map, paddle vision中的预训练模型不够多，paddlehub中的模型有没有方便的调用方式吗，如model.features 这种？",
        "state": "closed",
        "user": "zhijiejia",
        "closed_by": "WYB27",
        "created_at": "2021-04-18T07:03:52+00:00",
        "updated_at": "2025-06-30T07:17:55+00:00",
        "closed_at": "2025-06-30T07:17:55+00:00",
        "comments_count": [
            "haoyuying",
            "zhijiejia"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1371,
        "title": "加载本地训练好的模型报错 ModuleNotFoundError: No module named 'inference.module'",
        "body": "PaddleHub和PaddlePaddle版本：PaddleHub2.0.4 paddlepaddle-gpu2.0.1\r\n系统环境：Win10，python3.6.2\r\n\r\n我在加载[PaddleSeg](https://github.com/PaddlePaddle/PaddleSeg)训练好的模型时报错：ModuleNotFoundError: No module named 'inference.module'\r\n文件结构如图：\r\n![image](https://user-images.githubusercontent.com/26685952/115171404-8bee1600-a0f5-11eb-8987-162b492ea7cc.png)\r\n\r\n代码：\r\n![image](https://user-images.githubusercontent.com/26685952/115171455-a58f5d80-a0f5-11eb-84c7-5a46ff5c360b.png)\r\n\r\n报错：\r\n![image](https://user-images.githubusercontent.com/26685952/115171486-b2ac4c80-a0f5-11eb-9ea2-45869a132b6b.png)\r\n\r\n请问是我文件命名有问题吗，还是说模型文件本身就不能加载。",
        "state": "closed",
        "user": "Zahirgeek",
        "closed_by": "WYB27",
        "created_at": "2021-04-19T01:58:51+00:00",
        "updated_at": "2025-06-30T07:17:51+00:00",
        "closed_at": "2025-06-30T07:17:51+00:00",
        "comments_count": [
            "KPatr1ck",
            "haoyuying",
            "Zahirgeek"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1369,
        "title": "关于autodl的问题",
        "body": "请问我用超参数优化算法的时候，在yaml文件中，有设置超参数的搜索范围\r\n```\r\nparam_list:\r\n - name : learning_rate\r\n   init_value : 0.001\r\n   type : float\r\n   lower_than : 0.05\r\n   greater_than : 0.00005\r\n - name : batch_size\r\n   init_value : 32\r\n   type : int\r\n   lower_than : 48\r\n   greater_than : 16\r\n - name : epochs\r\n   init_value : 100\r\n   type : int\r\n   lower_than : 200\r\n   greater_than : 50\r\n```\r\n但是我在看logfile的时候发现初始超参数并不是和我一开始设置的一样，请问这是为什么？\r\n比如这里几个logfile第一行\r\n`0.00294537212956999\t32\t118\thazero-se_resnext50_32-result//round0/model-0/`\r\n`0.0013542832689864394\t29\t104\thazero-resnext50_64-result//round0/model-0/`\r\n\r\n这里的学习率、batchsize和epoch并不是和我设置的初始值一样\r\n\r\n\r\n",
        "state": "closed",
        "user": "LilyCaiZL",
        "closed_by": "WYB27",
        "created_at": "2021-04-18T08:31:00+00:00",
        "updated_at": "2025-06-30T07:17:53+00:00",
        "closed_at": "2025-06-30T07:17:53+00:00",
        "comments_count": [
            "KPatr1ck",
            "LilyCaiZL",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1373,
        "title": "在使用PaddleHub Serving时出现cannot be use for predicting 错误",
        "body": " - PaddlePaddle   2.0.1\r\n - paddlehub       2.0.4\r\n\r\n\r\n```\r\ne:\\programdata\\anaconda3\\envs\\paddlepaddle2.0\\lib\\site-packages\\pip\\_vendor\\packaging\\version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\ne:\\programdata\\anaconda3\\envs\\paddlepaddle2.0\\lib\\site-packages\\pip\\_vendor\\packaging\\version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n[2021-04-19 17:26:57,557] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\n[2021-04-19 17:26:57,644] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0419 17:26:57.644044 15676 analysis_predictor.cc:1145] Deprecated. Please use CreatePredictor instead.\r\nTraceback (most recent call last):\r\n  File \"e:\\programdata\\anaconda3\\envs\\paddlepaddle2.0\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"e:\\programdata\\anaconda3\\envs\\paddlepaddle2.0\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"E:\\ProgramData\\Anaconda3\\envs\\PaddlePaddle2.0\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"e:\\programdata\\anaconda3\\envs\\paddlepaddle2.0\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"e:\\programdata\\anaconda3\\envs\\paddlepaddle2.0\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 352, in execute\r\n    self.start_serving()\r\n  File \"e:\\programdata\\anaconda3\\envs\\paddlepaddle2.0\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 245, in start_serving\r\n    self.start_single_app_with_args()\r\n  File \"e:\\programdata\\anaconda3\\envs\\paddlepaddle2.0\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 221, in start_single_app_with_args\r\n    self.preinstall_modules()\r\n  File \"e:\\programdata\\anaconda3\\envs\\paddlepaddle2.0\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 155, in preinstall_modules\r\n    raise RuntimeError(\"{} cannot be use for \" \"predicting\".format(key))\r\nRuntimeError: Photo2Cartoon cannot be use for predicting\r\n\r\n\r\n```",
        "state": "closed",
        "user": "yeyupiaoling",
        "closed_by": "yeyupiaoling",
        "created_at": "2021-04-19T09:29:10+00:00",
        "updated_at": "2021-04-28T14:22:50+00:00",
        "closed_at": "2021-04-28T14:22:50+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1374,
        "title": "运行ocr hub 报错",
        "body": "\r\n![image](https://user-images.githubusercontent.com/62418900/115342322-a949df80-a1dc-11eb-90ca-d87c07ab82fb.png)\r\n\r\nhttps://www.paddlepaddle.org.cn/hubdetail?name=chinese_ocr_db_crnn_server&en_category=TextRecognition按这个运行，版本为paddlehub==2.0.0rc0  paddlepaddle==2.0.0rc",
        "state": "closed",
        "user": "mcl-stone",
        "closed_by": "WYB27",
        "created_at": "2021-04-20T05:33:18+00:00",
        "updated_at": "2025-06-30T07:17:49+00:00",
        "closed_at": "2025-06-30T07:17:49+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1375,
        "title": "C++ Traceback (most recent call last):",
        "body": "ubuntu 16 \r\n\r\npaddlehub               2.0.4\r\npaddlepaddle-gpu        2.0.2\r\n\r\n-------------\r\n....\r\n\r\nface_detector = hub.Module(name=\"pyramidbox_lite_mobile\")\r\ncap = cv2.VideoCapture(0)\r\nret, frame = cap.read()\r\nresult = face_detector.face_detection(images=[frame],use_gpu=True)\r\n.....\r\n-----------\r\n\r\n python aaaaa.py\r\n\r\n/home/mm/anaconda3/envs/paddlehub/lib/python3.6/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/home/mm/anaconda3/envs/paddlehub/lib/python3.6/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n[2021-04-20 23:38:11,997] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0420 23:38:11.997763 10775 analysis_predictor.cc:1145] Deprecated. Please use CreatePredictor instead.\r\n\r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::framework::SignalHandle(char const*, int)\r\n1   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nFatalError: `Segmentation fault` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 1618933094 (unix time) try \"date -d @1618933094\" if you are using GNU date ***]\r\n  [SignalInfo: *** SIGSEGV (@0x0) received by PID 10775 (TID 0x7f3d01f1b740) from PID 0 ***]\r\n\r\n段错误 (核心已转储)\r\n",
        "state": "closed",
        "user": "monkeycc",
        "closed_by": "monkeycc",
        "created_at": "2021-04-20T15:40:44+00:00",
        "updated_at": "2021-04-21T02:12:41+00:00",
        "closed_at": "2021-04-21T02:12:41+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1376,
        "title": "paddlehub1.8.2 多标签文本分类如何自定义数据集；",
        "body": "paddlehub1.8.2 多标签文本分类如何自定义数据集，自定义数据集的格式如何，希望解惑。",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-04-21T09:05:51+00:00",
        "updated_at": "2025-06-30T07:17:47+00:00",
        "closed_at": "2025-06-30T07:17:47+00:00",
        "comments_count": [
            "suntao2015005848",
            "haoyuying",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1377,
        "title": "hub serving 显存泄漏",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n- 构建方式：使用如下的方式构建镜像，启动，一台gpu部署若干docker,\r\n- 高峰性能gpu显存打满，且不释放，有点像这个 如果有11G，开两个，每个占5G，但是都想要6G，形成竞争，此时每台分5.5G，陷入僵局，然后都开始等待分配显存，不处理请求，没有日志，也不会挂掉，没任何提示。\r\n- 客户端现象， 客户端请求超时\r\n\r\n![image](https://user-images.githubusercontent.com/12672103/115534263-3159e300-a2ca-11eb-8cb7-d405d8bb99b0.png)\r\n\r\n```\r\n\r\nFROM registry.baidubce.com/paddlepaddle/paddle:2.0.0-gpu-cuda10.1-cudnn7\r\n# PaddleOCR base on Python3.7\r\n#\r\n\r\nRUN mkdir /PaddleOCR\r\nADD ./PaddleOCR /PaddleOCR\r\nRUN pip3.7 install --upgrade pip -i https://mirror.baidu.com/pypi/simple\r\nRUN pip3.7 install paddlehub --upgrade -i https://mirror.baidu.com/pypi/simple\r\n\r\nWORKDIR /PaddleOCR\r\n\r\nRUN pip3.7 install -r requirements.txt -i https://mirror.baidu.com/pypi/simple\r\n\r\nEXPOSE 8868\r\n\r\n# CMD [\"/bin/bash\",\"-c\",\"hub install deploy/hubserving/ocr_system/ && hub serving start -m ocr_system\"]\r\nCMD [\"/bin/bash\",\"-c\",\"hub install deploy/hubserving/ocr_system/ && hub serving start -c /PaddleOCR/deploy/hubserving/ocr_system/config.json\"]\r\n```\r\n\r\n```\r\nλ 203f70ee6fe0 /PaddleOCR cat /PaddleOCR/deploy/hubserving/ocr_system/config.json\r\n{\r\n    \"modules_info\": {\r\n        \"ocr_system\": {\r\n            \"init_args\": {\r\n                \"version\": \"1.0.0\",\r\n                \"use_gpu\": true\r\n            },\r\n            \"predict_args\": {\r\n            }\r\n        }\r\n    },\r\n    \"port\": 8868,\r\n    \"use_multiprocess\": false,\r\n    \"workers\": 10\r\n}\r\n```\r\n",
        "state": "closed",
        "user": "xealml",
        "closed_by": "WYB27",
        "created_at": "2021-04-21T09:54:54+00:00",
        "updated_at": "2025-06-30T07:17:45+00:00",
        "closed_at": "2025-06-30T07:17:45+00:00",
        "comments_count": [
            "ShenYuhan"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1380,
        "title": "运行报错Error: Cannot open .\\model_dir/steps1_116.ckpt to write at (D:\\1.6.3\\paddle\\paddle/fluid/operators/save_combine_op.h:51)   [operator < save_combine > error]",
        "body": "![RJRVXW1VUG_XJZ`CS7WIV6K](https://user-images.githubusercontent.com/83018645/115727075-ddc4c380-a3b5-11eb-8596-1bf7bc3e86fd.png)\r\n![$5TWPBPO_@AN3$QN YV8J{F](https://user-images.githubusercontent.com/83018645/115727083-def5f080-a3b5-11eb-8545-3eb09b3de6b3.png)\r\n![7804A2CLAP$@_KVPUYZH1GK](https://user-images.githubusercontent.com/83018645/115727085-def5f080-a3b5-11eb-98c9-fc839dfab5f1.png)\r\n",
        "state": "closed",
        "user": "HUI587",
        "closed_by": "HUI587",
        "created_at": "2021-04-22T13:58:34+00:00",
        "updated_at": "2021-04-25T02:52:57+00:00",
        "closed_at": "2021-04-25T02:52:57+00:00",
        "comments_count": [
            "haoyuying",
            "HUI587",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1383
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1381,
        "title": "paddlehub2.0.4版本nlp_module.py缺少task:'text-matching'.需要发新版",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\npaddlehub:2.0.4\r\n2）系统环境：win10, python3.7\r\n\r\npypi中paddlehub最新版本为2.0.4,使用https://github.com/PaddlePaddle/PaddleHub/blob/8c1a18eba094be319247d50d84042a1e108e3246/demo/text_matching/README.md的示例无法运行,发现在nlp_module.py的404行处_tasks_supported未添加text-matching\r\n![image](https://user-images.githubusercontent.com/20377352/115826305-40ad6d80-a43d-11eb-9c1e-da5b37af747a.png)\r\n![image](https://user-images.githubusercontent.com/20377352/115826322-4905a880-a43d-11eb-8c25-2f0b371db5b2.png)\r\n\r\n",
        "state": "closed",
        "user": "paopjian",
        "closed_by": "paopjian",
        "created_at": "2021-04-23T06:07:53+00:00",
        "updated_at": "2021-04-29T03:13:41+00:00",
        "closed_at": "2021-04-29T03:13:41+00:00",
        "comments_count": [
            "KPatr1ck",
            "paopjian",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1382,
        "title": "ernie-tiny文本匹配结果不固定",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\nPaddlePaddle 2.1.0,PaddlePaddle v2.1\r\n2）系统环境：aistudio\r\n- 复现信息：\r\n使用aistudio对ernie-tiny text-matching任务进行测试\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/1850312\r\n多次循环运行,结果出现匹配和不匹配相交出现,概率不等",
        "state": "closed",
        "user": "paopjian",
        "closed_by": "paopjian",
        "created_at": "2021-04-23T07:20:52+00:00",
        "updated_at": "2021-04-23T07:23:26+00:00",
        "closed_at": "2021-04-23T07:23:26+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1389,
        "title": "hub serving --use_gpu 报错",
        "body": "\r\n- 版本、环境信息\r\n1） paddle.version '2.0.2' paddlehub.version：'2.0.4'\r\n2）ubuntu 20.04\r\n使用如下命令启动\r\nhub serving start -m resnet50_vd_imagenet_ssld --use_gpu\r\n提示：\r\n[2021-04-26 18:22:29 +0800] [11669] [INFO] Starting gunicorn 20.1.0\r\n[2021-04-26 18:22:29 +0800] [11669] [INFO] Listening at: http://0.0.0.0:8866 (11669)\r\n[2021-04-26 18:22:29 +0800] [11669] [INFO] Using worker: sync\r\n[2021-04-26 18:22:29 +0800] [11673] [INFO] Booting worker with pid: 11673\r\n/home/robert/anaconda3/envs/xzitv/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/home/robert/anaconda3/envs/xzitv/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\nW0426 18:22:32.323333 11670 device_context.cc:362] Please NOTE: device: 0, GPU Compute Capability: 5.2, Driver API Version: 11.2, Runtime API Version: 10.0\r\nW0426 18:22:32.326630 11670 device_context.cc:372] device: 0, cuDNN Version: 7.6.\r\nload pretrained parameters success\r\n[2021-04-26 18:22:59 +0800] [11669] [CRITICAL] WORKER TIMEOUT (pid:11673)\r\n\r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::framework::SignalHandle(char const*, int)\r\n1   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nFatalError: `Process abort signal` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 1619432579 (unix time) try \"date -d @1619432579\" if you are using GNU date ***]\r\n  [SignalInfo: *** SIGABRT (@0x3e800002d95) received by PID 11673 (TID 0x7ff9fa698740) from PID 11669 ***]\r\n\r\n[2021-04-26 18:22:59 +0800] [11669] [WARNING] Worker with pid 11673 was terminated due to signal 6\r\n[2021-04-26 18:22:59 +0800] [11788] [INFO] Booting worker with pid: 11788\r\n[2021-04-26 18:23:29 +0800] [11669] [CRITICAL] WORKER TIMEOUT (pid:11788)\r\n\r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::framework::SignalHandle(char const*, int)\r\n1   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nFatalError: `Process abort signal` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 1619432609 (unix time) try \"date -d @1619432609\" if you are using GNU date ***]\r\n  [SignalInfo: *** SIGABRT (@0x3e800002d95) received by PID 11788 (TID 0x7ff9fa698740) from PID 11669 ***]\r\n",
        "state": "closed",
        "user": "zouxiaodong",
        "closed_by": "WYB27",
        "created_at": "2021-04-26T10:24:11+00:00",
        "updated_at": "2025-06-30T07:17:39+00:00",
        "closed_at": "2025-06-30T07:17:39+00:00",
        "comments_count": [],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1385,
        "title": "使用paddlehub1.6版本加载预训练模型失败",
        "body": "运行具体报错如下：.\r\n---------------------------------------------------------------------------ImportError                               Traceback (most recent call last)<ipython-input-36-ac0ee84d94bb> in <module>\r\n      1 # 加载模型\r\n      2 import paddlehub as hub\r\n----> 3 module = hub.Module(name=\"ernie\")\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, version, source, update, branch, **kwargs)\r\n    170             module_name=name, module_version=version, extra=extra)\r\n    171         if not result:\r\n--> 172             logger.error(tips)\r\n    173             raise RuntimeError(tips)\r\n    174 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, source, update, branch, **kwargs)\r\n    257         return os.path.join(self.directory, MODULE_DESC_PBNAME)\r\n    258 \r\n--> 259     def model_path(self):\r\n    260         return os.path.join(self.directory, MODEL_DIRNAME)\r\n    261 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/manager.py in <module>\r\n     28 \r\n     29 import paddlehub as hub\r\n---> 30 from paddlehub.common import utils\r\n     31 from paddlehub.common.downloader import default_downloader\r\n     32 from paddlehub.common.dir import MODULE_HOME\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/common/__init__.py in <module>\r\n     15 \r\n     16 from . import utils\r\n---> 17 from .utils import get_running_device_info\r\n     18 from .dir import tmp_dir, tmp_file\r\nImportError: cannot import name 'get_running_device_info' from 'paddlehub.utils.utils' (/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/utils/utils.py)",
        "state": "closed",
        "user": "Gray-web",
        "closed_by": "Gray-web",
        "created_at": "2021-04-26T02:14:17+00:00",
        "updated_at": "2021-04-27T07:17:42+00:00",
        "closed_at": "2021-04-27T07:17:42+00:00",
        "comments_count": [
            "KPatr1ck",
            "Gray-web"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1386,
        "title": "hub run 模型测试失败",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1） paddle.__version__  '2.0.2'     paddlehub.__version__：'2.0.4'\r\n2）ubuntu 20.04\r\n\r\n 使用hub run 测试一个模型提示如下错误：\r\n**hub run resnet50_vd_imagenet_ssld --input_path=test.jpg --top-k 5**\r\n\r\n/home/robert/anaconda3/envs/xzitv/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/home/robert/anaconda3/envs/xzitv/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\nTraceback (most recent call last):\r\n  File \"/home/robert/anaconda3/envs/xzitv/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/home/robert/anaconda3/envs/xzitv/lib/python3.7/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/home/robert/anaconda3/envs/xzitv/lib/python3.7/site-packages/paddlehub/commands/run.py\", line 56, in execute\r\n    result = module._run_func(argv[1:])\r\n**TypeError: 'property' object is not callable**\r\n",
        "state": "closed",
        "user": "zouxiaodong",
        "closed_by": "zouxiaodong",
        "created_at": "2021-04-26T02:15:50+00:00",
        "updated_at": "2021-07-21T13:08:06+00:00",
        "closed_at": "2021-04-26T10:08:56+00:00",
        "comments_count": [
            "shaunhurryup"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1388,
        "title": "在请求hub serving时提示CUDA ERROR",
        "body": "- 版本、环境信息\r\n1） paddle.version '2.0.2' paddlehub.version：'2.0.4'\r\n2）ubuntu 20.04\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nhub server start 的PaddleClas 模型 **\"use_multiprocess\": true，**，false正常\r\n{\r\n    \"modules_info\": {\r\n        \"clas_system\": {\r\n            \"init_args\": {\r\n                \"version\": \"1.0.0\",\r\n                \"use_gpu\": true,\r\n                \"enable_mkldnn\": false\r\n            },\r\n            \"predict_args\": {\r\n            }\r\n        }\r\n    },\r\n    \"port\": 8866,\r\n    \"use_multiprocess\": true,\r\n    \"workers\": 2\r\n}\r\n调用serving服务报错如下：\r\n2021-04-26 17:31:29,576 - ERROR - (External)  Cuda error(3), initialization error.\r\n  [Advise: The API call failed because the CUDA driver and runtime could not be initialized. ] (at /paddle/paddle/fluid/platform/gpu_info.cc:200)\r\n, in file(s): 1.jpg etc.\r\n\r\n",
        "state": "closed",
        "user": "zouxiaodong",
        "closed_by": "WYB27",
        "created_at": "2021-04-26T09:32:18+00:00",
        "updated_at": "2025-06-30T07:17:41+00:00",
        "closed_at": "2025-06-30T07:17:41+00:00",
        "comments_count": [
            "ShenYuhan",
            "zouxiaodong"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1387,
        "title": "调用finetuned module报错",
        "body": "- 版本、环境信息\r\n1） paddle.version '2.0.2' paddlehub.version：'2.0.4'\r\n2）ubuntu 20.04\r\n通过以下方式finetune，\r\ntrainer = Trainer(model, optimizer, checkpoint_dir='tvlogo', use_gpu=True)\r\ntrainer.train(logos, epochs=5, batch_size=16, eval_dataset=logos_validate, save_interval=1)\r\n使用时：\r\n  import cv2\r\n#np_images =[cv2.imread() for image_path in test_img_path]\r\nnp_images = test_list\r\nmodule = hub.Module(name=\"tvlogo\")\r\nresults = model.classification(images=np_images)\r\nfor result in results:\r\n    print(result)\r\n\r\n报错如下：\r\n     ValueError                                Traceback (most recent call last)\r\n<ipython-input-21-0a9cd73d8ef5> in <module>\r\n      2 #np_images =[cv2.imread() for image_path in test_img_path]\r\n      3 np_images = test_list\r\n----> 4 module = hub.Module(name=\"tvlogo\")\r\n      5 results = model.classification(images=np_images)\r\n      6 \r\n\r\n~/anaconda3/envs/xzitv/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, version, source, update, branch, **kwargs)\r\n    170             if name:\r\n    171                 module = cls.init_with_name(\r\n--> 172                     name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n    173                 CacheUpdater(\"update_cache\", module=name, version=version).start()\r\n    174             elif directory:\r\n\r\n~/anaconda3/envs/xzitv/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, source, update, branch, **kwargs)\r\n    279 \r\n    280         user_module_cls.directory = directory\r\n--> 281         return user_module_cls(**kwargs)\r\n    282 \r\n    283     @classmethod\r\n\r\n~/.paddlehub/modules/tvlogo/module.py in __init__(self, label_list, load_checkpoint)\r\n    203         num_filters = [64, 128, 256, 512]\r\n    204 \r\n--> 205         self.conv1_1 = ConvBNLayer(num_channels=3, num_filters=32, filter_size=3, stride=2, act='relu', name=\"conv1_1\")\r\n    206         self.conv1_2 = ConvBNLayer(num_channels=32, num_filters=32, filter_size=3, stride=1, act='relu', name=\"conv1_2\")\r\n    207         self.conv1_3 = ConvBNLayer(num_channels=32, num_filters=64, filter_size=3, stride=1, act='relu', name=\"conv1_3\")\r\n\r\n~/.paddlehub/modules/tvlogo/module.py in __init__(self, num_channels, num_filters, filter_size, stride, groups, is_vd_mode, act, name)\r\n     55             groups=groups,\r\n     56             weight_attr=ParamAttr(name=name + \"_weights\"),\r\n---> 57             bias_attr=False)\r\n     58         if name == \"conv1\":\r\n     59             bn_name = \"bn_\" + name\r\n\r\n~/anaconda3/envs/xzitv/lib/python3.7/site-packages/paddle/nn/layer/conv.py in __init__(self, in_channels, out_channels, kernel_size, stride, padding, dilation, groups, padding_mode, weight_attr, bias_attr, data_format)\r\n    637             weight_attr=weight_attr,\r\n    638             bias_attr=bias_attr,\r\n--> 639             data_format=data_format)\r\n    640 \r\n    641     def forward(self, x):\r\n\r\n~/anaconda3/envs/xzitv/lib/python3.7/site-packages/paddle/nn/layer/conv.py in __init__(self, in_channels, out_channels, kernel_size, transposed, dims, stride, padding, padding_mode, output_padding, dilation, groups, weight_attr, bias_attr, data_format)\r\n    133             shape=filter_shape,\r\n    134             attr=self._param_attr,\r\n--> 135             default_initializer=_get_default_param_initializer())\r\n    136         self.bias = self.create_parameter(\r\n    137             attr=self._bias_attr, shape=[self._out_channels], is_bias=True)\r\n\r\n~/anaconda3/envs/xzitv/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in create_parameter(self, shape, attr, dtype, is_bias, default_initializer)\r\n    406             temp_attr = None\r\n    407         return self._helper.create_parameter(temp_attr, shape, dtype, is_bias,\r\n--> 408                                              default_initializer)\r\n    409 \r\n    410     @deprecated(\r\n\r\n~/anaconda3/envs/xzitv/lib/python3.7/site-packages/paddle/fluid/layer_helper_base.py in create_parameter(self, attr, shape, dtype, is_bias, default_initializer, stop_gradient, type)\r\n    364                     \"In dygraph mode, the name of parameter can't be same.\"\r\n    365                     \"Please check the parameter attr value passed to self.create_parameter or \"\r\n--> 366                     \"constructor of dygraph Layers\".format(attr.name))\r\n    367             return self.main_program.global_block().create_parameter(\r\n    368                 dtype=dtype,\r\n\r\nValueError: parameter name [conv1_1_weights] have be been used. In dygraph mode, the name of parameter can't be same.Please check the parameter attr value passed to self.create_parameter or constructor of dygraph Layers\r\n",
        "state": "closed",
        "user": "zouxiaodong",
        "closed_by": "WYB27",
        "created_at": "2021-04-26T03:18:39+00:00",
        "updated_at": "2025-06-30T07:17:43+00:00",
        "closed_at": "2025-06-30T07:17:43+00:00",
        "comments_count": [
            "haoyuying",
            "zouxiaodong"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1394,
        "title": "报错：ModuleNotFoundError: No module named 'ernie.module'",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddle-ernie 0.1.0.dev1，paddlehub 2.0.4，paddlenlp 2.0.0rc18，paddlepaddle 2.0.2\r\n2）系统环境：Windows 10，python3.6\r\n- 复现信息：\r\n- 报错：ModuleNotFoundError: No module named 'ernie.module'\r\n- 复现环境：已修改系统变量 HUB_HOME=D:\\paddleModule\\paddlehub  PPNLP_HOME=D:\\paddleModule\\paddlenlp\r\n\r\n- 代码：\r\n- `import paddlehub as hub\r\n\r\ndata = [\r\n    ['这个宾馆比较陈旧了，特价的房间也很一般。总体来说一般'],\r\n    ['怀着十分激动的心情放映，可是看着看着发现，在放映完毕后，出现一集米老鼠的动画片'],\r\n    ['作为老的四星酒店，房间依然很整洁，相当不错。机场接机服务很好，可以在车上办理入住手续，节省时间。'],\r\n]\r\nlabel_map = {0: 'negative', 1: 'positive'}\r\n\r\nmodel = hub.Module(\r\n    name='ernie',\r\n    version='2.0.1',\r\n    task='seq-cls',\r\n    load_checkpoint='/path/to/parameters',\r\n    label_map=label_map)\r\nresults = model.predict(data, max_seq_len=50, batch_size=1, use_gpu=False)\r\nfor idx, text in enumerate(data):\r\n    print('Data: {} \\t Lable: {}'.format(text, results[idx]))`\r\n\r\n- 报错：\r\n- [2021-04-27 18:24:55,856] [ WARNING] - An error was encountered while loading ernie. Detailed error information can be found in the D:\\paddleModule\\paddlehub\\log\\20210427.log.\r\n2021-04-27 18:24:55,857 - INFO - Lock 1605758886296 acquired on D:\\paddleModule\\paddlehub\\tmp\\ernie\r\n[INFO 2021-04-27 18:24:55,857 filelock.py:274] Lock 1605758886296 acquired on D:\\paddleModule\\paddlehub\\tmp\\ernie\r\n[2021-04-27 18:24:55,862] [ WARNING] - An error was encountered while loading ernie. Detailed error information can be found in the D:\\paddleModule\\paddlehub\\log\\20210427.log.\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/ernie_2.0.1.tar.gz\r\n[##################################################] 100.00%\r\nDecompress D:\\paddleModule\\paddlehub\\tmp\\tmp44jmj_5u\\ernie_2.0.1.tar.gz\r\n[##################################################] 100.00%[2021-04-27 18:24:56,889] [    INFO] - Successfully uninstalled ernie\r\n2021-04-27 18:24:56,904 - INFO - Lock 1605758886296 released on D:\\paddleModule\\paddlehub\\tmp\\ernie\r\n[INFO 2021-04-27 18:24:56,904 filelock.py:318] Lock 1605758886296 released on D:\\paddleModule\\paddlehub\\tmp\\ernie\r\n\r\nTraceback (most recent call last):\r\n\r\n  File \"<ipython-input-31-271d65a1f7aa>\", line 1, in <module>\r\n    runfile('E:/ERNIE/ERNIE.py', wdir='E:/ERNIE')\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 705, in runfile\r\n    execfile(filename, namespace)\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 102, in execfile\r\n    exec(compile(f.read(), filename, 'exec'), namespace)\r\n\r\n  File \"E:/ERNIE/ERNIE.py\", line 24, in <module>\r\n    label_map=label_map)\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 172, in __new__\r\n    name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 263, in init_with_name\r\n    user_module_cls = manager.install(name=name, version=version, source=source, update=update, branch=branch)\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 188, in install\r\n    return self._install_from_name(name, version)\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 263, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 256, in _install_from_url\r\n    return self._install_from_archive(file)\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 361, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 345, in _install_from_directory\r\n    hub_module_cls = HubModule.load(self._get_normalized_path(module_info.name))\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 195, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\utils\\utils.py\", line 249, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\importlib\\__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n\r\n  File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n\r\n  File \"<frozen importlib._bootstrap>\", line 953, in _find_and_load_unlocked\r\n\r\nModuleNotFoundError: No module named 'ernie.module'\r\n\r\nlog文件记录的错误：\r\n==================================================\r\nRecord at 2021-04-27 18:24:55\r\n==================================================\r\nTraceback (most recent call last):\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 222, in search\r\n    module = self._local_modules[name] = HubModule.load(module_dir)\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 195, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\site-packages\\paddlehub\\utils\\utils.py\", line 249, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"D:\\ProgramData\\Anaconda3\\lib\\importlib\\__init__.py\", line 126, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 994, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 953, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named 'ernie.module'\r\n",
        "state": "closed",
        "user": "JoeLiaoCHN",
        "closed_by": "WYB27",
        "created_at": "2021-04-27T11:21:39+00:00",
        "updated_at": "2025-06-30T07:17:36+00:00",
        "closed_at": "2025-06-30T07:17:36+00:00",
        "comments_count": [
            "KPatr1ck",
            "JoeLiaoCHN"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1393,
        "title": "windos  加载  ernie_gen失败  PermissionError: [Errno 13] Permission denied",
        "body": "runfile('D:/lz/ERNIE-GEN：汽车大师问答摘要与推理/qichedashi.py', wdir='D:/lz/ERNIE-GEN：汽车大师问答摘要与推理')\r\n[2021-04-27 17:34:03,205] [    INFO] - Installing ernie_gen module\r\n[2021-04-27 17:34:03,304] [    INFO] - Module ernie_gen already installed in C:\\Users\\lizheng\\.paddlehub\\modules\\ernie_gen\r\n2021-04-27 17:34:03,306-INFO: get pretrain dir from https://ernie-github.cdn.bcebos.com/model-ernie1.0.1.tar.gz\r\n[INFO 2021-04-27 17:34:03,306 tokenizing_ernie.py:89] get pretrain dir from https://ernie-github.cdn.bcebos.com/model-ernie1.0.1.tar.gz\r\ndownloading https://ernie-github.cdn.bcebos.com/model-ernie1.0.1.tar.gz: 788478KB [01:35, 8278.39KB/s]                             \r\nTraceback (most recent call last):\r\n\r\n  File \"D:\\lz\\ERNIE-GEN：汽车大师问答摘要与推理\\qichedashi.py\", line 158, in <module>\r\n    **module = hub.Module(name=\"ernie_gen\")**\r\n\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 200, in init_with_directory\r\n    user_module = _item(directory=directory, **kwargs)\r\n\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 146, in __init__\r\n    self._initialize(**kwargs)\r\n\r\n  File \"C:\\Users\\lizheng\\.paddlehub\\modules\\ernie_gen\\module.py\", line 55, in _initialize\r\n    \"ernie-1.0\", mask_token=None)\r\n\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\ernie\\tokenizing_ernie.py\", line 90, in from_pretrained\r\n    pretrain_dir = _fetch_from_remote(url, force_download=force_download)\r\n\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\ernie\\file_utils.py\", line 39, in _fetch_from_remote\r\n    with tarfile.open(f.name)  as tf:\r\n\r\n  File \"D:\\Anaconda3\\lib\\tarfile.py\", line 1573, in open\r\n    return func(name, \"r\", fileobj, **kwargs)\r\n\r\n  File \"D:\\Anaconda3\\lib\\tarfile.py\", line 1638, in gzopen\r\n    fileobj = gzip.GzipFile(name, mode + \"b\", compresslevel, fileobj)\r\n\r\n  File \"D:\\Anaconda3\\lib\\gzip.py\", line 163, in __init__\r\n    fileobj = self.myfileobj = builtins.open(filename, mode or 'rb')\r\n\r\nPermissionError: [Errno 13] Permission denied: 'C:\\\\Users\\\\lizheng\\\\AppData\\\\Local\\\\Temp\\\\tmpr0fymflz'\r\n![image](https://user-images.githubusercontent.com/33617203/116221024-cdc72e00-a77f-11eb-92e2-dbb933b8d609.png)\r\n\r\n相同的环境在 aistudio正常运行，，，，windows版本报错\r\n",
        "state": "closed",
        "user": "xrzlizheng",
        "closed_by": "WYB27",
        "created_at": "2021-04-27T09:42:18+00:00",
        "updated_at": "2025-06-30T07:17:38+00:00",
        "closed_at": "2025-06-30T07:17:37+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1395,
        "title": "关于autodl",
        "body": "我注意到超参数优化算法这里，两台gpu一起跑的话，是两个深度学习模型一起运行，那么比如log8和log9一起跑的话，log9的超参数选择是没有用到log8的信息的对吗？那其实会不会导致两个显卡一起跑的时候，反而更难找到最优的超参数呢，双卡跑的模型，超参数选择可以用的信息要比单卡跑的模型要少。如果我round设置为0，popsize为10，然后10卡同时跑，其实相当于只跑了一次的对吧\r\n",
        "state": "closed",
        "user": "LilyCaiZL",
        "closed_by": "WYB27",
        "created_at": "2021-05-03T16:04:23+00:00",
        "updated_at": "2025-06-30T07:17:34+00:00",
        "closed_at": "2025-06-30T07:17:34+00:00",
        "comments_count": [
            "Steffy-zxf",
            "LilyCaiZL",
            "Steffy-zxf",
            "LilyCaiZL",
            "Steffy-zxf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1396,
        "title": "Paddlehub ernie module warning",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub2.0.4，PaddlePaddle2.0.2\r\n2）系统环境：AiStudio GPU，python3.7\r\n\r\nimport module -------------------------------------------------\r\n\r\nimport paddlehub as hub\r\nmodel = hub.Module(name = 'ernie',version = '2.0.1',task = 'seq-cls',num_classes = 6)\r\n\r\n[2021-05-04 16:33:02,675] [    INFO] - Already cached /home/aistudio/.paddlenlp/models/ernie-1.0/ernie_v1_chn_base.pdparams\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py:1303: UserWarning: Skip loading for classifier.weight. classifier.weight is not found in the provided dict.\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py:1303: UserWarning: Skip loading for classifier.bias. classifier.bias is not found in the provided dict.\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\n\r\n训练后保存参数，predict时load parameters -----------------------------\r\nmodel = hub.Module(name = 'ernie',version = '2.0.1',task = 'seq-cls',load_checkpoint = './model/ernie_text_cls/best_model/model.pdparams',label_map = label_map,num_classes = 6)\r\n    r = model.predict(DFi,max_seq_len = 256,batch_size = 1,use_gpu = True)\r\n    result_all.append(r)\r\nprocessing hotel #1, 0.0009455680847167969 sec(s)\r\n[2021-05-04 15:10:30,534] [    INFO]\r\n - Already cached /home/aistudio/.paddlenlp/models/ernie-1.0/ernie_v1_chn_base.pdparams\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py:1303: UserWarning: Skip loading for classifier.weight. classifier.weight is not found in the provided dict.\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py:1303: UserWarning: Skip loading for classifier.bias. classifier.bias is not found in the provided dict.\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\n\r\nmodule.predict的时候一直只能输出0和1两个分类，尽管训练的时候能达到97%的val acc（数据集的六个分类中最大的两个加起来达不到这个占比）",
        "state": "closed",
        "user": "shawnnn3di",
        "closed_by": "WYB27",
        "created_at": "2021-05-04T08:47:26+00:00",
        "updated_at": "2025-06-30T07:17:32+00:00",
        "closed_at": "2025-06-30T07:17:32+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1397,
        "title": "ValueError: need at least one array to concatenate",
        "body": "https://www.paddlepaddle.org.cn/hubdetail?name=U2Net_Portrait\r\n\r\nimport cv2\r\nimport paddlehub as hub\r\nmodel = hub.Module(name='U2Net_Portrait')\r\nresult = model.Portrait_GEN(\r\n    images=[cv2.imread('/PATH/TO/IMAGE')],\r\n    paths=None,\r\n    scale=1,\r\n    batch_size=1,\r\n    output_dir='output',\r\n    face_detection=True,\r\n    visualization=True)\r\n\r\n\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-6-3c01c488fb79> in <module>()\r\n      9     output_dir='output',\r\n     10     face_detection=True,\r\n---> 11     visualization=True)\r\n\r\n2 frames\r\n/root/.paddlehub/modules/U2Net_Portrait/processor.py in preprocess(self, imgs, batch_size, face_detection, scale)\r\n     89             input_datas.append(tmpImg)\r\n     90 \r\n---> 91         input_datas = np.concatenate(input_datas, 0)\r\n     92 \r\n     93         datas_num = input_datas.shape[0]\r\n\r\n<__array_function__ internals> in concatenate(*args, **kwargs)\r\n\r\nValueError: need at least one array to concatenate\r\n",
        "state": "closed",
        "user": "AK391",
        "closed_by": "WYB27",
        "created_at": "2021-05-05T17:16:44+00:00",
        "updated_at": "2025-06-30T07:17:30+00:00",
        "closed_at": "2025-06-30T07:17:30+00:00",
        "comments_count": [
            "jm12138",
            "AK391"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1398,
        "title": "AttributeError: module 'paddlehub.config' has no attribute 'log_level'",
        "body": "\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如paddlehub               2.1.0\r\npaddlepaddle            2.0.2\r\n2）系统环境：请您描述系统类型，Linux，python=3.7\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n导入module = hub.Module(name=\"ernie\")时，出现：\r\nAttributeError: module 'paddlehub.config' has no attribute 'log_level'",
        "state": "closed",
        "user": "linjianghao",
        "closed_by": "WYB27",
        "created_at": "2021-05-06T03:23:20+00:00",
        "updated_at": "2025-06-30T07:17:28+00:00",
        "closed_at": "2025-06-30T07:17:28+00:00",
        "comments_count": [
            "KPatr1ck",
            "linjianghao",
            "linjianghao",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1399,
        "title": "faster_rcnn_resnet50_fpn_venus 推理失败",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.6.2，PaddlePaddle2.0.1\r\n2）系统环境：Windows，python3.7\r\nAttributeError: 'FasterRCNNResNet50RPN' object has no attribute 'object_detection'\r\n\r\n代码：\r\nimport paddlehub as hub\r\nimport cv2\r\nobject_detector = hub.Module(name=\"faster_rcnn_resnet50_fpn_venus\")\r\ncap = cv2.VideoCapture(0)\r\nwhile True:\r\n    ret, frame = cap.read()\r\n    result = object_detector.object_detection(images=[frame])\r\n    print(result)\r\n",
        "state": "closed",
        "user": "xiesibo",
        "closed_by": "WYB27",
        "created_at": "2021-05-06T14:24:50+00:00",
        "updated_at": "2025-06-30T07:17:26+00:00",
        "closed_at": "2025-06-30T07:17:26+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1401,
        "title": "请问以下用paddlehub中的文字识别轻量模型为什么没有直接使用paddleocr中的轻量模型效果好？",
        "body": null,
        "state": "closed",
        "user": "wkzqn",
        "closed_by": "WYB27",
        "created_at": "2021-05-08T13:46:20+00:00",
        "updated_at": "2025-06-30T07:17:53+00:00",
        "closed_at": "2025-06-30T07:17:22+00:00",
        "comments_count": [
            "wkzqn",
            "ShenYuhan",
            "ShenYuhan",
            "wkzqn"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1400,
        "title": "plato2_en_base==1.0.0多轮会话报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub2.04和PaddlePaddle版本2.20\r\n2）aistudio上运行plato2_en_base==1.0.0多轮会话模块\r\n报错信息 \r\nInvalidArgumentError: Broadcast dimension mismatch. Operands could not be broadcast together with the shape of X = [20, 16, 20, 26] and the shape of Y = [20, 16, 1, 7]. Received [26] in X is not equal to [7] in Y at i:3.\r\n      [Hint: Expected x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1 == true, but received x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1:0 != true:1.] (at /paddle/paddle/fluid/operators/elementwise/elementwise_op_function.h:160)\r\n      [operator < elementwise_add > error]",
        "state": "closed",
        "user": "diandian16",
        "closed_by": "WYB27",
        "created_at": "2021-05-07T13:29:02+00:00",
        "updated_at": "2025-06-30T07:17:24+00:00",
        "closed_at": "2025-06-30T07:17:24+00:00",
        "comments_count": [
            "KPatr1ck",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1404,
        "title": "使用paddlehub模型训练错误",
        "body": "使用paddlehub模型训练自定义数据集，启动训练报错\r\n-----------------------------------------------------------------代码如下：\r\n# 自定义数据集\r\nfrom paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n\r\nclass MyDataset(TextClassificationDataset):\r\n    # 数据集存放目录\r\n    base_path = 'data'\r\n    # 数据集的标签列表\r\n    label_list=['0','1','2','3','4','5','6','7']\r\n    \r\n    def __init__(self, tokenizer, max_seq_len: int = 128, mode: str = 'train'):\r\n        if mode == 'train':\r\n            data_file = 'train.txt'\r\n        elif mode == 'test':\r\n            data_file = 'valid.txt'\r\n        else:\r\n            data_file = 'valid.txt'\r\n        super().__init__(\r\n            base_path=self.base_path,\r\n            tokenizer=tokenizer,\r\n            max_seq_len=max_seq_len,\r\n            mode=mode,\r\n            data_file=data_file,\r\n            label_list=self.label_list,\r\n            is_file_with_header=False)\r\n\r\n # 加载模型\r\nimport paddlehub as hub\r\nmodel = hub.Module(name='ernie_tiny', task='seq-cls', num_classes=len(MyDataset.label_list))\r\n\r\n# 选择所需要的模型，获取对应的tokenizer\r\ntokenizer = model.get_tokenizer()\r\n\r\n# 实例化训练集\r\ntrain_dataset = MyDataset(tokenizer)\r\ndev_dataset = MyDataset(tokenizer, mode='test')\r\n\r\nimport paddle\r\noptimizer = paddle.optimizer.Adam(learning_rate=5e-5, parameters=model.parameters())\r\ntrainer = hub.Trainer(model, optimizer, checkpoint_dir='./out', use_gpu=True)\r\n\r\ntrainer.train(train_dataset, epochs=3, batch_size=3, eval_dataset=dev_dataset,save_interval=1)\r\n\r\n------------------------------------------报错如下：\r\n2021-05-11 15:51:34,018 - WARNING - DataLoader reader thread raised an exception.\r\n[WARNING 2021-05-11 15:51:34,018 dataloader_iter.py:345] DataLoader reader thread raised an exception.\r\nException in thread Thread-21:\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddle\\fluid\\dataloader\\dataloader_iter.py\", line 346, in _thread_loop\r\n    six.reraise(*sys.exc_info())\r\n  File \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\six.py\", line 703, in reraise\r\n    raise value\r\n  File \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddle\\fluid\\dataloader\\dataloader_iter.py\", line 317, in _thread_loop\r\n    batch = self._dataset_fetcher.fetch(indices)\r\n  File \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddle\\fluid\\dataloader\\fetcher.py\", line 60, in fetch\r\n    data = [self.dataset[idx] for idx in batch_indices]\r\n  File \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddle\\fluid\\dataloader\\fetcher.py\", line 60, in <listcomp>\r\n    data = [self.dataset[idx] for idx in batch_indices]\r\n  File \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddlehub\\datasets\\base_nlp_dataset.py\", line 264, in __getitem__\r\n    return np.array(record['input_ids']), np.array(record['segment_ids']), np.array(record['label'], dtype=np.int64)\r\nKeyError: 'segment_ids'\r\n\r\n---------------------------------------------------------------------------\r\nSystemError                               Traceback (most recent call last)\r\n<ipython-input-25-72f89b4c69b1> in <module>\r\n----> 1 trainer.train(train_dataset, epochs=3, batch_size=3, eval_dataset=dev_dataset,save_interval=1)\r\n\r\n~\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddlehub\\finetune\\trainer.py in train(self, train_dataset, epochs, batch_size, num_workers, eval_dataset, log_interval, save_interval, collate_fn)\r\n    195             self.model.train()\r\n    196 \r\n--> 197             for batch_idx, batch in enumerate(loader):\r\n    198                 loss, metrics = self.training_step(batch, batch_idx)\r\n    199                 self.optimizer_step(self.current_epoch, batch_idx, self.optimizer, loss)\r\n\r\n~\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddle\\fluid\\dataloader\\dataloader_iter.py in __next__(self)\r\n    349         try:\r\n    350             if in_dygraph_mode():\r\n--> 351                 return self._reader.read_next_var_list()\r\n    352             else:\r\n    353                 if self._return_list:\r\n\r\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at D:\\v2.0.2\\paddle\\paddle/fluid/operators/reader/blocking_queue.h:158)\r\n\r\n\r\n求解！！",
        "state": "closed",
        "user": "Gray-web",
        "closed_by": "Gray-web",
        "created_at": "2021-05-11T07:55:33+00:00",
        "updated_at": "2021-05-11T07:56:00+00:00",
        "closed_at": "2021-05-11T07:56:00+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1402,
        "title": "有关PaddleHub问题",
        "body": "1. 将PaddleHub预训练模型下载至本地进行迁移学习，然后使用hub serving进行部署使用的模型，部署的模型会是训练后得到的吗？\r\n2. 使用PaddleHub迁移学习得到的best_model能否直接用于hub serving部署，如果可以该怎么做？\r\n3. 如果best_model不能直接用于部署，需要经过什么步骤才能进行部署？\r\n我使用的是paddlehub2.0版本",
        "state": "closed",
        "user": "Gray-web",
        "closed_by": "Gray-web",
        "created_at": "2021-05-10T00:44:16+00:00",
        "updated_at": "2021-05-13T09:48:06+00:00",
        "closed_at": "2021-05-13T09:48:06+00:00",
        "comments_count": [
            "ShenYuhan",
            "Gray-web",
            "ShenYuhan"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1403,
        "title": "关于paddlehub hand_pose_localization模型的性能问题",
        "body": "环境：\r\nPaddlePaddle2.0.0rc PaddleHub2.0.0b1 hand_pose_localization 1.0.1\r\n参考项目： https://aistudio.baidu.com/aistudio/projectdetail/1433393\r\n问题描述：\r\n使用如下代码调用关键点检测API\r\n![image](https://user-images.githubusercontent.com/47850771/117605504-7024df80-b18a-11eb-9fda-4a071ad3cb3a.png)\r\n部分问题结果图像：\r\n![image](https://user-images.githubusercontent.com/47850771/117605586-a95d4f80-b18a-11eb-8f28-c08f7069c420.png)\r\n![image](https://user-images.githubusercontent.com/47850771/117605605-b0845d80-b18a-11eb-9700-92c18bcffe7a.png)\r\n![image](https://user-images.githubusercontent.com/47850771/117605616-b9752f00-b18a-11eb-9684-29c3291c8225.png)\r\n![image](https://user-images.githubusercontent.com/47850771/117605703-ee818180-b18a-11eb-9b11-e96ed35c9728.png)\r\n\r\n测试这几张图的效果不佳，请问是调用的参数错误还是模型性能问题？",
        "state": "closed",
        "user": "colvr",
        "closed_by": "WYB27",
        "created_at": "2021-05-10T04:26:33+00:00",
        "updated_at": "2025-06-30T07:17:20+00:00",
        "closed_at": "2025-06-30T07:17:20+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1405,
        "title": "使用paddlehub模型训练报错",
        "body": "使用paddlehub模型训练自定义数据集，启动训练报错\r\n-----------------------------------------------------------------代码如下：\r\n\r\n```python\r\n# 自定义数据集\r\nfrom paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n\r\nclass MyDataset(TextClassificationDataset):\r\n# 数据集存放目录\r\nbase_path = 'data'\r\n# 数据集的标签列表\r\nlabel_list=['0','1','2','3','4','5','6','7']\r\n\r\ndef __init__(self, tokenizer, max_seq_len: int = 128, mode: str = 'train'):\r\n    if mode == 'train':\r\n        data_file = 'train.txt'\r\n    elif mode == 'test':\r\n        data_file = 'valid.txt'\r\n    else:\r\n        data_file = 'valid.txt'\r\n    super().__init__(\r\n        base_path=self.base_path,\r\n        tokenizer=tokenizer,\r\n        max_seq_len=max_seq_len,\r\n        mode=mode,\r\n        data_file=data_file,\r\n        label_list=self.label_list,\r\n        is_file_with_header=False)\r\n# 加载模型\r\nimport paddlehub as hub\r\nmodel = hub.Module(name='ernie_tiny', task='seq-cls', num_classes=len(MyDataset.label_list))\r\n\r\n# 选择所需要的模型，获取对应的tokenizer\r\ntokenizer = model.get_tokenizer()\r\n\r\n# 实例化训练集\r\ntrain_dataset = MyDataset(tokenizer)\r\ndev_dataset = MyDataset(tokenizer, mode='test')\r\n\r\nimport paddle\r\noptimizer = paddle.optimizer.Adam(learning_rate=5e-5, parameters=model.parameters())\r\ntrainer = hub.Trainer(model, optimizer, checkpoint_dir='./out', use_gpu=True)\r\n\r\ntrainer.train(train_dataset, epochs=3, batch_size=3, eval_dataset=dev_dataset,save_interval=1)\r\n```\r\n\r\n------------------------------------------报错如下：\r\n2021-05-11 15:51:34,018 - WARNING - DataLoader reader thread raised an exception.\r\n[WARNING 2021-05-11 15:51:34,018 dataloader_iter.py:345] DataLoader reader thread raised an exception.\r\nException in thread Thread-21:\r\nTraceback (most recent call last):\r\nFile \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\threading.py\", line 926, in _bootstrap_inner\r\nself.run()\r\nFile \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\threading.py\", line 870, in run\r\nself._target(*self._args, **self._kwargs)\r\nFile \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddle\\fluid\\dataloader\\dataloader_iter.py\", line 346, in _thread_loop\r\nsix.reraise(*sys.exc_info())\r\nFile \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\six.py\", line 703, in reraise\r\nraise value\r\nFile \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddle\\fluid\\dataloader\\dataloader_iter.py\", line 317, in _thread_loop\r\nbatch = self._dataset_fetcher.fetch(indices)\r\nFile \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddle\\fluid\\dataloader\\fetcher.py\", line 60, in fetch\r\ndata = [self.dataset[idx] for idx in batch_indices]\r\nFile \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddle\\fluid\\dataloader\\fetcher.py\", line 60, in\r\ndata = [self.dataset[idx] for idx in batch_indices]\r\nFile \"C:\\Users\\Never\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddlehub\\datasets\\base_nlp_dataset.py\", line 264, in getitem\r\nreturn np.array(record['input_ids']), np.array(record['segment_ids']), np.array(record['label'], dtype=np.int64)\r\nKeyError: 'segment_ids'\r\n\r\nSystemError Traceback (most recent call last)\r\nin\r\n----> 1 trainer.train(train_dataset, epochs=3, batch_size=3, eval_dataset=dev_dataset,save_interval=1)\r\n\r\n~\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddlehub\\finetune\\trainer.py in train(self, train_dataset, epochs, batch_size, num_workers, eval_dataset, log_interval, save_interval, collate_fn)\r\n195 self.model.train()\r\n196\r\n--> 197 for batch_idx, batch in enumerate(loader):\r\n198 loss, metrics = self.training_step(batch, batch_idx)\r\n199 self.optimizer_step(self.current_epoch, batch_idx, self.optimizer, loss)\r\n\r\n~\\anaconda3\\envs\\pdpd\\lib\\site-packages\\paddle\\fluid\\dataloader\\dataloader_iter.py in next(self)\r\n349 try:\r\n350 if in_dygraph_mode():\r\n--> 351 return self._reader.read_next_var_list()\r\n352 else:\r\n353 if self._return_list:\r\n\r\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\r\n[Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at D:\\v2.0.2\\paddle\\paddle/fluid/operators/reader/blocking_queue.h:158)\r\n\r\n求解！！",
        "state": "closed",
        "user": "Gray-web",
        "closed_by": "Gray-web",
        "created_at": "2021-05-11T07:57:51+00:00",
        "updated_at": "2021-05-13T09:47:28+00:00",
        "closed_at": "2021-05-13T09:47:28+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1406,
        "title": "PaddleHub2.0——使用动态图版预训练模型ERNIE实现序列标注  直接运行出错 报错如下",
        "body": "系统环境 ai studio\r\npaddlehub              2.0.0rc0\r\npaddlenlp              2.0.0rc7\r\n\r\nstep4\r\n\r\n![image](https://user-images.githubusercontent.com/49727302/117782467-3e884300-b274-11eb-866c-559a72a2203f.png)\r\n",
        "state": "closed",
        "user": "Biggg888",
        "closed_by": "WYB27",
        "created_at": "2021-05-11T08:16:39+00:00",
        "updated_at": "2025-06-30T07:17:18+00:00",
        "closed_at": "2025-06-30T07:17:18+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1409,
        "title": "hub serving请求返回数据",
        "body": "在Windows启动hub serving，请求返回的数据该如何使用或处理，paddlehub和paddle均为2.0版本\r\n====================请求代码如下：\r\n```python\r\nimport requests\r\nimport json\r\n\r\n# 指定用于获取embedding的文本[[text_1], [text_2], ... ]}\r\ntext = [[\"今天是个好日子\"], [\"天气预报说今天要下雨\"]]\r\n# 以key的方式指定text传入预测方法的时的参数，此例中为\"data\"\r\n# 对应本地部署，则为module.get_embedding(data=text)\r\ndata = {\"data\": text}\r\n# 发送post请求，content-type类型应指定json方式，url中的ip地址需改为对应机器的ip\r\nurl = \"http://127.0.0.1:8866/predict/ernie_tiny\"\r\n# 指定post请求的headers为application/json方式\r\nheaders = {\"Content-Type\": \"application/json\"}\r\n\r\nr = requests.post(url=url, headers=headers, data=json.dumps(data))\r\nprint(r.json())\r\n```\r\n\r\n=================返回数据如下：\r\n{'msg': '', 'results': [[[0.8196346759796143, -0.2564534842967987, 0.2717680335044861, -0.8285651803016663, -0.9940673112869263, -0.6035592555999756, -0.4847404360771179, 0.999825119972229, -0.8109226822853088, 0.22210416197776794, 0.4089120030403137, 0.416570782661438, -0.9890956282615662, -0.9631263017654419, 0.10344718396663666, 0.9999669194221497, 0.8100689649581909, 0.04554236680269241, -0.44693776965141296, 0.9999998807907104, -0.13602641224861145, -0.25569528341293335, 0.32235556840896606, -0.2280748337507248, \r\n...\r\n1.1045171022415161, 1.6778051853179932, -0.31823307275772095, 0.455386]]], 'status': '000'}\r\n\r\n得到的results数据该如何使用",
        "state": "closed",
        "user": "Gray-web",
        "closed_by": "Gray-web",
        "created_at": "2021-05-12T02:11:49+00:00",
        "updated_at": "2021-05-12T04:10:14+00:00",
        "closed_at": "2021-05-12T04:10:14+00:00",
        "comments_count": [
            "KPatr1ck",
            "Gray-web",
            "KPatr1ck",
            "Gray-web",
            "KPatr1ck",
            "Gray-web"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1407,
        "title": "PaddleDetection模型导入无法使用",
        "body": "PaddleDetection2.02模型导出->hub convert 转换 ->hub install模型部署，三个步骤都正常\r\n\r\nhub serving start -m xxxxx出错\r\n\r\n(base) D:\\paddlex\\hub>hub serving start -m xxxxx\r\n[2021-05-11 16:24:14,468] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nTraceback (most recent call last):\r\n  File \"c:\\anaconda3\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"c:\\anaconda3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Anaconda3\\Scripts\\hub.exe\\__main__.py\", line 9, in <module>\r\n  File \"c:\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"c:\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 352, in execute\r\n    self.start_serving()\r\n  File \"c:\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 245, in start_serving\r\n    self.start_single_app_with_args()\r\n  File \"c:\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 221, in start_single_app_with_args\r\n    self.preinstall_modules()\r\n  File \"c:\\anaconda3\\lib\\site-packages\\paddlehub\\commands\\serving.py\", line 152, in preinstall_modules\r\n    m = hub.Module(**init_args)\r\n  File \"c:\\anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 395, in __new__\r\n    **kwargs)\r\n  File \"c:\\anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 504, in init_with_name\r\n    user_module._initialize(**kwargs)\r\n  File \"c:\\anaconda3\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\dell\\.paddlehub\\modules\\cloud\\module.py\", line 47, in _initialize\r\n    **kwargs)\r\n  File \"c:\\anaconda3\\lib\\site-packages\\paddlex\\deploy.py\", line 60, in __init__\r\n    self.status = self.info['status']\r\nKeyError: 'status'\r\n\r\n1）PaddleHub和PaddlePaddle版本：PaddlePaddle2.0.2，paddlehub-2.1.0\r\n2）系统环境：Windows 10，python3.6.8\r\n\r\n",
        "state": "closed",
        "user": "abanger",
        "closed_by": "abanger",
        "created_at": "2021-05-11T08:40:02+00:00",
        "updated_at": "2021-05-13T02:52:43+00:00",
        "closed_at": "2021-05-12T12:11:14+00:00",
        "comments_count": [
            "ShenYuhan",
            "FlyingQianMM",
            "ShenYuhan",
            "abanger",
            "FlyingQianMM"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1408,
        "title": "在win10下安装服务模块 hub install deploy\\hubserving\\ocr_det\\ 报错",
        "body": "\r\n\r\nwin10环境\r\n基于PaddleHub Serving的服务部署\r\n执行到第三步 安装服务模块 hub install deploy\\hubserving\\ocr_det\\ 报错\r\n\r\n\r\n错误如下\r\nPS D:\\PaddleOCR> hub install deploy\\hubserving\\ocr_det\\\r\nd:\\program files\\python\\python37\\lib\\site-packages\\setuptools\\depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\nTraceback (most recent call last):\r\n  File \"d:\\program files\\python\\python37\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"d:\\program files\\python\\python37\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\Program Files\\Python\\Python37\\Scripts\\hub.exe\\__main__.py\", line 5, in <module>\r\n  File \"d:\\program files\\python\\python37\\lib\\site-packages\\paddlehub\\__init__.py\", line 25, in <module>\r\n    from . import module\r\n  File \"d:\\program files\\python\\python37\\lib\\site-packages\\paddlehub\\module\\__init__.py\", line 16, in <module>\r\n    from . import module\r\n  File \"d:\\program files\\python\\python37\\lib\\site-packages\\paddlehub\\module\\module.py\", line 31, in <module>\r\n    from paddlehub.common import utils\r\n  File \"d:\\program files\\python\\python37\\lib\\site-packages\\paddlehub\\common\\__init__.py\", line 16, in <module>\r\n    from . import utils\r\n  File \"d:\\program files\\python\\python37\\lib\\site-packages\\paddlehub\\common\\utils.py\", line 33, in <module>\r\n    from paddlehub.common.logger import logger\r\n  File \"d:\\program files\\python\\python37\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 155, in <module>\r\n    logger = Logger()\r\n  File \"d:\\program files\\python\\python37\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 67, in __init__\r\n    level = json.load(fp).get(\"log_level\", \"DEBUG\")\r\n  File \"d:\\program files\\python\\python37\\lib\\json\\__init__.py\", line 296, in load\r\n    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)\r\n  File \"d:\\program files\\python\\python37\\lib\\json\\__init__.py\", line 348, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"d:\\program files\\python\\python37\\lib\\json\\decoder.py\", line 337, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"d:\\program files\\python\\python37\\lib\\json\\decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)",
        "state": "closed",
        "user": "qinyou10621",
        "closed_by": "WYB27",
        "created_at": "2021-05-11T13:54:11+00:00",
        "updated_at": "2025-06-30T07:17:16+00:00",
        "closed_at": "2025-06-30T07:17:16+00:00",
        "comments_count": [
            "ShenYuhan",
            "qinyou10621",
            "ShenYuhan"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1410,
        "title": "hub serving启动成功，访问返回503",
        "body": "用hub serving启动了我fintune后的模型，但在访问时返回503\r\n\r\n\r\n",
        "state": "closed",
        "user": "dedex1994",
        "closed_by": "WYB27",
        "created_at": "2021-05-12T03:27:55+00:00",
        "updated_at": "2025-06-30T07:17:14+00:00",
        "closed_at": "2025-06-30T07:17:14+00:00",
        "comments_count": [
            "ShenYuhan",
            "dedex1994",
            "ShenYuhan"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1411,
        "title": "hub serving  好像最新版有问题？",
        "body": "访问的路径也不是以前那种text  或者image \r\n提示必须application/json  ？有最新paddlehub 2的教程么。",
        "state": "closed",
        "user": "bbhxwl",
        "closed_by": "WYB27",
        "created_at": "2021-05-12T03:41:57+00:00",
        "updated_at": "2025-06-30T07:17:13+00:00",
        "closed_at": "2025-06-30T07:17:12+00:00",
        "comments_count": [
            "ShenYuhan",
            "bbhxwl",
            "haoyuying"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1413,
        "title": "TypeError: the 'package' argument is required to perform a relative import for '.module'",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddlePaddle版本为1.7.2，Paddlehub版本为1.6.2\r\n2）系统环境：Windows，python3.7\r\n- 复现信息：做cv模型的迁移学习\r\n-代码如下： import paddlehub as hub\r\ntest_dir = './database/img.jpg'\r\nmodel = hub.Module(directory='finetuned_model_to_module/')\r\nprediction = model.predict(test_dir)\r\nprint(prediction)\r\n-报错信息如下：Traceback (most recent call last):\r\n  File \"E:/Data/AppData/firefox/demo2.py\", line 4, in <module>\r\n    model = hub.Module(directory='finetuned_model_to_module/',use_gpu=False)\r\n  File \"E:\\miniconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 104, in __new__\r\n    module = cls.init_with_directory(directory=directory, **kwargs)\r\n  File \"E:\\miniconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 193, in init_with_directory\r\n    _module = importlib.import_module(\"{}.module\".format(basename))\r\n  File \"E:\\miniconda3\\lib\\importlib\\__init__.py\", line 122, in import_module\r\n    raise TypeError(msg.format(name))\r\nTypeError: the 'package' argument is required to perform a relative import for '.module'\r\n\r\n文件夹下包含\r\n\r\n1. finetuned_model_to_module\r\n      -module.py\r\n      -__init__.py\r\n      -model_finetune\r\n2. demo2.py",
        "state": "closed",
        "user": "poopit",
        "closed_by": "poopit",
        "created_at": "2021-05-14T09:03:20+00:00",
        "updated_at": "2022-01-19T02:44:35+00:00",
        "closed_at": "2021-05-15T16:46:59+00:00",
        "comments_count": [
            "poopit",
            "thgpddl"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1414,
        "title": "GPU一直无法使用。",
        "body": "PaddlePaddle 和hub 都是最新版2\r\n\r\n使用gpu总提示没设置环境变量，但是我测试了linux，\r\nexport CUDA_VISIBLE_DEVICES=0\r\n设置完了执行代码还是这样，linux用的是colab平台，\r\nwindows也设置了系统环境变量。也设置的0，还是一样的错误。\r\n\r\nnvidia-smi -L   执行查看了我的显卡都是0，\r\n显示的GPU 0:  的。按理说我设置的环境变量没事吧？",
        "state": "closed",
        "user": "bbhxwl",
        "closed_by": "WYB27",
        "created_at": "2021-05-17T08:53:52+00:00",
        "updated_at": "2025-06-30T07:17:11+00:00",
        "closed_at": "2025-06-30T07:17:11+00:00",
        "comments_count": [
            "KPatr1ck",
            "bbhxwl",
            "bbhxwl",
            "KPatr1ck",
            "bbhxwl",
            "KPatr1ck",
            "bbhxwl",
            "bbhxwl",
            "bbhxwl",
            "bbhxwl",
            "bbhxwl",
            "KPatr1ck",
            "bbhxwl",
            "Zeref996",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1417,
        "title": "咨询一个文本分类多分类问题， paddle 2.0 ",
        "body": "",
        "state": "closed",
        "user": "1205469665",
        "closed_by": "1205469665",
        "created_at": "2021-05-19T06:16:49+00:00",
        "updated_at": "2021-05-19T06:20:39+00:00",
        "closed_at": "2021-05-19T06:20:22+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1415,
        "title": "使用图像文本识别，怎么才能知道图像中的文本角度，假设正视为0度，倒映为180°（类似）",
        "body": "通过ocr.recognize_text能否知道角度",
        "state": "closed",
        "user": "Harrison410-web",
        "closed_by": "WYB27",
        "created_at": "2021-05-19T02:54:52+00:00",
        "updated_at": "2025-06-30T07:17:09+00:00",
        "closed_at": "2025-06-30T07:17:09+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1420,
        "title": "paddlehub 文本分类问题",
        "body": "https://github.com/PaddlePaddle/PaddleHub/blob/release/v2.1/demo/text_classification/README.md \r\n文本分类paddlehub 有支持加载静态图的api 吗？ \r\nhttps://github.com/PaddlePaddle/PaddleNLP/tree/develop/examples/text_classification/pretrained_models\r\n![image](https://user-images.githubusercontent.com/16591941/118927119-e805bd80-b973-11eb-894a-1c9b5c110174.png)\r\n ",
        "state": "closed",
        "user": "1205469665",
        "closed_by": "WYB27",
        "created_at": "2021-05-20T06:02:11+00:00",
        "updated_at": "2025-06-30T07:17:05+00:00",
        "closed_at": "2025-06-30T07:17:05+00:00",
        "comments_count": [
            "KPatr1ck",
            "1205469665",
            "KPatr1ck",
            "1205469665",
            "1205469665",
            "KPatr1ck",
            "1205469665"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1421,
        "title": "基于PaddleHub的疫情期间网民情绪识别项目跑不起来",
        "body": "换了很多版本paddlepaddle-gpu和paddle都不行，这个项目现在还能运行吗，地址是https://aistudio.baidu.com/aistudio/projectdetail/294224\r\n使用过的组合：\r\npaddlepaddle-gpu==1.6.2 paddlehub==1.6.2\r\npaddlepaddle-gpu==1.8.0 paddlehub==1.6.2\r\npaddlepaddle-gpu==2.0.0 paddlehub==1.6.2\r\npaddlepaddle-gpu==2.0.0 paddlehub==2.0.0\r\npaddlepaddle-gpu==2.1.0 paddlehub==2.1.0",
        "state": "closed",
        "user": "futureflsl",
        "closed_by": "WYB27",
        "created_at": "2021-05-23T03:56:45+00:00",
        "updated_at": "2025-06-30T07:17:03+00:00",
        "closed_at": "2025-06-30T07:17:03+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1419,
        "title": "import paddlehub as hub 在win10环境下失败，发生TypeError: stat错误",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\npaddlepaddle: 2.1.0\r\npaddlehub: 2.1.0\r\n2）系统环境：\r\nos: windows 10\r\npython: 3.9.5\r\n\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n1 在PyCharm中创建虚拟环境， 然后在Terminal中安装paddlepaddle以及paddlehub\r\n\r\npip install paddlepaddle -i https://mirror.baidu.com/pypi/simple\r\n安装好paddlepaddle后，验证成功。接着开始安装paddlehub,\r\n\r\npip install paddlehub -i https://mirror.baidu.com/pypi/simple\r\n安装好paddlehub后，切到Python Console中，验证paddlehub\r\n\r\n2 在Python Console中输入import paddlehub as hub，结果出现如下错误，而且复现多次，\r\n\r\nimport paddlehub as hub\r\nTraceback (most recent call last):\r\n  File \"<input>\", line 1, in <module>\r\n  File \"D:\\JetBrains\\PyCharmCE202111\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\PycharmProjects\\sentaProject\\venv\\lib\\site-packages\\paddlehub\\__init__.py\", line 31, in <module>\r\n    from paddlehub import datasets\r\n  File \"D:\\JetBrains\\PyCharmCE202111\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\PycharmProjects\\sentaProject\\venv\\lib\\site-packages\\paddlehub\\datasets\\__init__.py\", line 16, in <module>\r\n    from paddlehub.datasets.chnsenticorp import ChnSentiCorp\r\n  File \"D:\\JetBrains\\PyCharmCE202111\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\PycharmProjects\\sentaProject\\venv\\lib\\site-packages\\paddlehub\\datasets\\chnsenticorp.py\", line 19, in <module>\r\n    from paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n  File \"D:\\JetBrains\\PyCharmCE202111\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\PycharmProjects\\sentaProject\\venv\\lib\\site-packages\\paddlehub\\datasets\\base_nlp_dataset.py\", line 21, in <module>\r\n    import paddlenlp\r\n  File \"D:\\JetBrains\\PyCharmCE202111\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\PycharmProjects\\sentaProject\\venv\\lib\\site-packages\\paddlenlp\\__init__.py\", line 20, in <module>\r\n    from . import ops\r\n  File \"D:\\JetBrains\\PyCharmCE202111\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\PycharmProjects\\sentaProject\\venv\\lib\\site-packages\\paddlenlp\\ops\\__init__.py\", line 15, in <module>\r\n    from .transformer.decoding import *\r\n  File \"D:\\JetBrains\\PyCharmCE202111\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\PycharmProjects\\sentaProject\\venv\\lib\\site-packages\\paddlenlp\\ops\\transformer\\decoding.py\", line 24, in <module>\r\n    from paddlenlp.ops.ext_utils import load\r\n  File \"D:\\JetBrains\\PyCharmCE202111\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\PycharmProjects\\sentaProject\\venv\\lib\\site-packages\\paddlenlp\\ops\\ext_utils.py\", line 19, in <module>\r\n    if not os.path.exists(CUDA_HOME):\r\n  File \"D:\\Python\\Python39\\lib\\genericpath.py\", line 19, in exists\r\n    os.stat(path)\r\nTypeError: stat: path should be string, bytes, os.PathLike or integer, not NoneType\r\n\r\n请Team能够确认一下这个问题，非常感谢！",
        "state": "closed",
        "user": "LangDaoAI",
        "closed_by": "WYB27",
        "created_at": "2021-05-19T15:24:08+00:00",
        "updated_at": "2025-06-30T07:17:07+00:00",
        "closed_at": "2025-06-30T07:17:07+00:00",
        "comments_count": [
            "LangDaoAI",
            "LangDaoAI",
            "LangDaoAI",
            "abanger",
            "abanger",
            "KPatr1ck",
            "LangDaoAI",
            "LangDaoAI",
            "LangDaoAI",
            "LeeWlving",
            "ccc008",
            "abanger"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1422,
        "title": "PaddleHub迁移学习fine-tune自定义数据集文本分类案例有吗",
        "body": "看了了docs没有找到文本分类，自定义数据集",
        "state": "closed",
        "user": "futureflsl",
        "closed_by": "WYB27",
        "created_at": "2021-05-23T06:56:28+00:00",
        "updated_at": "2025-06-30T07:17:01+00:00",
        "closed_at": "2025-06-30T07:17:01+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1424,
        "title": "中文readme模型搜索指向的的网站地址错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub2.1\r\n2）\r\n- 复现信息：\r\n英文指向的是https://www.paddlepaddle.org.cn/hublist\r\n中文指向的是https://www.paddlepaddle.org.cn/hublist/\r\n                      https://www.paddlepaddle.org.cn/hub/\r\n多了一个/导致解析错误\r\n",
        "state": "closed",
        "user": "paopjian",
        "closed_by": "paopjian",
        "created_at": "2021-05-24T02:27:23+00:00",
        "updated_at": "2021-08-13T07:55:29+00:00",
        "closed_at": "2021-08-13T07:55:29+00:00",
        "comments_count": [
            "paopjian"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1426,
        "title": "openpose_body_estimation预测返回结果关键点是数组，连线的时候没法进行坐标点连线或者无法知道当前点是哪个部位",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 关键点坐标以字典key标注部位，满足特殊画线需求\r\n\r\n\r\n",
        "state": "closed",
        "user": "1731368213",
        "closed_by": "WYB27",
        "created_at": "2021-05-24T05:27:16+00:00",
        "updated_at": "2025-06-30T07:16:59+00:00",
        "closed_at": "2025-06-30T07:16:59+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1427,
        "title": "add model suggestion",
        "body": "please add this model https://github.com/lisiyao21/AnimeInterp\r\n",
        "state": "closed",
        "user": "AK391",
        "closed_by": "WYB27",
        "created_at": "2021-05-24T19:26:47+00:00",
        "updated_at": "2025-06-30T07:16:57+00:00",
        "closed_at": "2025-06-30T07:16:57+00:00",
        "comments_count": [
            "haoyuying",
            "chunzhang-hub"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1428,
        "title": "paddlehub 2.0 文本分类返回各类别概率",
        "body": "paddlehub 2.0 文本分类任务怎么返回各类别概率 ，我看新的predict接口已经取消了return_result参数，那应该怎么使predict接口返回概率呢",
        "state": "closed",
        "user": "dedex1994",
        "closed_by": "dedex1994",
        "created_at": "2021-05-25T08:33:28+00:00",
        "updated_at": "2021-06-02T14:02:40+00:00",
        "closed_at": "2021-05-26T02:11:34+00:00",
        "comments_count": [
            "KPatr1ck",
            "dedex1994",
            "dedex1994",
            "KPatr1ck",
            "dedex1994",
            "KPatr1ck",
            "dedex1994",
            "godsoul",
            "dedex1994",
            "wj-Mcat"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1429,
        "title": "使用示例之外的模型fine tune出错",
        "body": "示例中使用的模型为resnet50_vd_imagenet_ssld，能够正常训练。（paddlepaddle=2.0.2,paddlehub=2.1.0）\r\n训练代码：\r\nmodel = hub.Module(name='efficientnetb7_imagenet',\r\n                   label_list=[\"roses\", \"tulips\", \"daisy\", \"sunflowers\", \"dandelion\"],\r\n                   load_checkpoint=None)\r\n\r\noptimizer = paddle.optimizer.Adam(learning_rate=0.001, parameters=model.parameters())\r\ntrainer = Trainer(model, optimizer, checkpoint_dir='./img_classification_ckpt', use_gpu=True)\r\ntrainer.train(flowers, epochs=1, batch_size=8, eval_dataset=flowers_validate, save_interval=1)\r\n\r\n但我使用其他模型如efficientnetb7_imagenet（即实例中所说的无缝修改模型）进行同样操作，报错如下：\r\nTypeError: _initialize() got an unexpected keyword argument 'label_list'\r\n\r\n如果将上述代码中的label_list=[\"roses\", \"tulips\", \"daisy\", \"sunflowers\", \"dandelion\"],去掉\r\n报的错误是：\r\nAttributeError: 'EfficientNetB7ImageNet' object has no attribute 'parameters'\r\n\r\n在1.6.2版本的paddlehub下用其他方式能完成finetune。\r\n谢谢解答！",
        "state": "closed",
        "user": "jxy-1017",
        "closed_by": "jxy-1017",
        "created_at": "2021-05-25T09:34:44+00:00",
        "updated_at": "2021-05-27T05:56:41+00:00",
        "closed_at": "2021-05-27T05:56:41+00:00",
        "comments_count": [
            "haoyuying",
            "jxy-1017",
            "haoyuying",
            "jxy-1017"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1430,
        "title": "(InvalidArgument) Tensor holds the wrong type, it holds int, but desires to be int64_t.",
        "body": "win10\r\npaddle最新版，cuda10.2\r\n\r\n运行\r\nhttps://www.paddlepaddle.org.cn/tutorials/projectdetail/1925567\r\n桃脸识别例子训练部分报错\r\n\r\n```\r\nfrom paddlehub.finetune.trainer import Trainer\r\n\r\nimport paddle\r\n\r\noptimizer = paddle.optimizer.Adam(learning_rate=0.001, parameters=model.parameters())\r\ntrainer = Trainer(model, optimizer, checkpoint_dir='img_classification_ckpt', use_gpu=True) \r\ntrainer.train(peach_train, epochs=10, batch_size=16, eval_dataset=peach_validate, save_interval=1)\r\n```\r\n\r\n```\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-5-944f9deffa54> in <module>()\r\n      5 optimizer = paddle.optimizer.Adam(learning_rate=0.001, parameters=model.parameters())\r\n      6 trainer = Trainer(model, optimizer, checkpoint_dir='img_classification_ckpt', use_gpu=True)\r\n----> 7 trainer.train(peach_train, epochs=10, batch_size=16, eval_dataset=peach_validate, save_interval=1)\r\n\r\nD:\\ProgramData\\Anaconda3\\envs\\env_paddle\\lib\\site-packages\\paddlehub\\finetune\\trainer.py in train(self, train_dataset, epochs, batch_size, num_workers, eval_dataset, log_interval, save_interval, collate_fn)\r\n    204 \r\n    205             for batch_idx, batch in enumerate(loader):\r\n--> 206                 loss, metrics = self.training_step(batch, batch_idx)\r\n    207                 self.optimizer_step(self.current_epoch, batch_idx, self.optimizer, loss)\r\n    208                 self.optimizer_zero_grad(self.current_epoch, batch_idx, self.optimizer)\r\n\r\nD:\\ProgramData\\Anaconda3\\envs\\env_paddle\\lib\\site-packages\\paddlehub\\finetune\\trainer.py in training_step(self, batch, batch_idx)\r\n    342             result = self.model._layers.training_step(batch, batch_idx)\r\n    343         else:\r\n--> 344             result = self.model.training_step(batch, batch_idx)\r\n    345 \r\n    346         # process result\r\n\r\nD:\\ProgramData\\Anaconda3\\envs\\env_paddle\\lib\\site-packages\\paddlehub\\module\\cv_module.py in training_step(self, batch, batch_idx)\r\n     56             results(dict) : The model outputs, such as loss and metrics.\r\n     57         '''\r\n---> 58         return self.validation_step(batch, batch_idx)\r\n     59 \r\n     60     def validation_step(self, batch: int, batch_idx: int) -> dict:\r\n\r\nD:\\ProgramData\\Anaconda3\\envs\\env_paddle\\lib\\site-packages\\paddlehub\\module\\cv_module.py in validation_step(self, batch, batch_idx)\r\n     74         preds, feature = self(images)\r\n     75 \r\n---> 76         loss, _ = F.softmax_with_cross_entropy(preds, labels, return_softmax=True, axis=1)\r\n     77         loss = paddle.mean(loss)\r\n     78         acc = paddle.metric.accuracy(preds, labels)\r\n\r\nD:\\ProgramData\\Anaconda3\\envs\\env_paddle\\lib\\site-packages\\paddle\\utils\\deprecated.py in wrapper(*args, **kwargs)\r\n    108                     warningmsg, category=DeprecationWarning, stacklevel=2)\r\n    109 \r\n--> 110             return func(*args, **kwargs)\r\n    111 \r\n    112         return wrapper\r\n\r\nD:\\ProgramData\\Anaconda3\\envs\\env_paddle\\lib\\site-packages\\paddle\\nn\\functional\\loss.py in softmax_with_cross_entropy(logits, label, soft_label, ignore_index, numeric_stable_mode, return_softmax, axis)\r\n   1113     return fluid_softmax_with_cross_entropy(logits, label, soft_label,\r\n   1114                                             ignore_index, numeric_stable_mode,\r\n-> 1115                                             return_softmax, axis)\r\n   1116 \r\n   1117 \r\n\r\nD:\\ProgramData\\Anaconda3\\envs\\env_paddle\\lib\\site-packages\\paddle\\fluid\\layers\\loss.py in softmax_with_cross_entropy(logits, label, soft_label, ignore_index, numeric_stable_mode, return_softmax, axis)\r\n   1262             logits, label, 'soft_label', soft_label, 'ignore_index',\r\n   1263             ignore_index, 'numeric_stable_mode', numeric_stable_mode, 'axis',\r\n-> 1264             axis)\r\n   1265         if not return_softmax:\r\n   1266             return loss\r\n\r\nValueError: (InvalidArgument) Tensor holds the wrong type, it holds int, but desires to be int64_t.\r\n  [Hint: Expected valid == true, but received valid:0 != true:1.] (at C:\\home\\workspace\\Paddle_release\\paddle/fluid/framework/tensor_impl.h:33)\r\n  [operator < softmax_with_cross_entropy > error]\r\n```",
        "state": "closed",
        "user": "doraemonlei",
        "closed_by": "WYB27",
        "created_at": "2021-05-25T09:53:38+00:00",
        "updated_at": "2025-06-30T07:16:55+00:00",
        "closed_at": "2025-06-30T07:16:55+00:00",
        "comments_count": [
            "haoyuying",
            "wkxu"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1433,
        "title": "paddlehub情感分析模型senta_bilstm离线下载后，hub run报错：无法连接hub service",
        "body": "下载了paddlepaddle、paddlehub最新的版本，\r\n系统环境：linux，python 3.6\r\n由于无法访问外网，想离线调用情感分析模型，先用一台可以连上外网的电脑装了senta_bilstm的包，传到服务器的paddlehub/modules路径下，可以成功hub install,但是hub run就会报错说无法连接到Hub service\r\n请问该怎么解决呀？",
        "state": "closed",
        "user": "jxufeRebecca",
        "closed_by": "jxufeRebecca",
        "created_at": "2021-05-26T04:50:22+00:00",
        "updated_at": "2021-05-28T09:31:19+00:00",
        "closed_at": "2021-05-28T09:31:19+00:00",
        "comments_count": [
            "KPatr1ck",
            "jxufeRebecca"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1432,
        "title": "fine-tune model 为 senta 时 报错：没有get_tokenizer() 如何实现",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "CarynQKY",
        "closed_by": "WYB27",
        "created_at": "2021-05-25T15:13:38+00:00",
        "updated_at": "2025-06-30T07:16:53+00:00",
        "closed_at": "2025-06-30T07:16:53+00:00",
        "comments_count": [
            "KPatr1ck",
            "CarynQKY",
            "KPatr1ck",
            "CarynQKY"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1434,
        "title": "https://github.com/PaddlePaddle/PaddleHub/issues 这个项目移植到本地上来",
        "body": "问题描述：\r\n环境配置：![image](https://user-images.githubusercontent.com/37056770/119619793-ed14b200-be36-11eb-9896-c3402c4b6aa2.png)\r\n![image](https://user-images.githubusercontent.com/37056770/119620220-5268a300-be37-11eb-83a3-5206c2b7fd7e.png)\r\n\r\n步骤：\r\n1.启动命令 hub serving start -m garbage_classification\r\n但是老是提示以下图片\r\n![image](https://user-images.githubusercontent.com/37056770/119621311-8abcb100-be38-11eb-90f9-f481f34a2f54.png)\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "GDCP1613157420",
        "closed_by": "WYB27",
        "created_at": "2021-05-26T07:39:27+00:00",
        "updated_at": "2025-06-30T07:16:51+00:00",
        "closed_at": "2025-06-30T07:16:51+00:00",
        "comments_count": [
            "haoyuying",
            "GDCP1613157420",
            "haoyuying",
            "GDCP1613157420",
            "haoyuying",
            "GDCP1613157420",
            "haoyuying",
            "GDCP1613157420"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1435,
        "title": "paddlehub.dataset.base_cv_dataset是不是因为版本更新舍弃了？",
        "body": "paddlehub.dataset.base_cv_dataset\r\n之前1.8版本的paddlehub，dataset，里面的base_cv_dataset怎么2.0版本之后都没了？那图像分类迁移学习的时候，怎么加载自定义数据集？是使用dataset里面的flower吗？\r\n文档连接：https://github.com/PaddlePaddle/PaddleHub/blob/release/v2.0.0-beta/docs/docs_ch/tutorial/how_to_finetune.md\r\n![image](https://user-images.githubusercontent.com/42427348/119989033-50e6d880-bff9-11eb-9475-9f5ce8ea9332.png)\r\n",
        "state": "closed",
        "user": "dreambecoming",
        "closed_by": "WYB27",
        "created_at": "2021-05-28T13:15:39+00:00",
        "updated_at": "2025-06-30T07:16:49+00:00",
        "closed_at": "2025-06-30T07:16:49+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1436,
        "title": "hub serving start -m sena_bilstm 启动正常，访问后提示\"status\":\"111\"",
        "body": "项目启动后，访问接口返回下面提示。这是什么原因呢\r\n{\"msg\":\"Module sena_bilstm is not available.\",\"results\":\"\",\"status\":\"111\"}",
        "state": "closed",
        "user": "249805118",
        "closed_by": "249805118",
        "created_at": "2021-05-31T09:46:38+00:00",
        "updated_at": "2021-06-09T02:59:07+00:00",
        "closed_at": "2021-06-09T02:59:07+00:00",
        "comments_count": [
            "KPatr1ck",
            "249805118"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1437,
        "title": "安装报错  matplotlib from paddlehub",
        "body": "具体报错信息如下：\r\nwangjin@wangjin-desktop:~$ sudo pip3 install --upgrade paddlehub -i https://mirror.baidu.com/pypi/simple\r\n[sudo] password for wangjin: \r\nThe directory '/home/wangjin/.cache/pip/http' or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\r\nThe directory '/home/wangjin/.cache/pip' or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo's -H flag.\r\nCollecting paddlehub\r\n  Downloading https://mirror.baidu.com/pypi/packages/7a/29/3bd0ca43c787181e9c22fe44b944b64d7fcb14ce66d3bf4602d9ad2ac76c/paddlehub-2.1.0-py3-none-any.whl (211kB)\r\n    100% |????????????????????????????????| 215kB 1.3MB/s \r\nCollecting flask>=1.1.0 (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/54/4f/1b294c1a4ab7b2ad5ca5fc4a9a65a22ef1ac48be126289d97668852d4ab3/Flask-2.0.1-py3-none-any.whl (94kB)\r\n    100% |????????????????????????????????| 102kB 2.8MB/s \r\nRequirement already up-to-date: packaging in ./.local/lib/python3.6/site-packages (from paddlehub)\r\nCollecting paddle2onnx>=0.5.1 (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/e7/cf/ca3220acff28023e8967f720271411e109b37624b73b34729ce2c2fe72ad/paddle2onnx-0.6-py3-none-any.whl (94kB)\r\n    100% |????????????????????????????????| 102kB 2.5MB/s \r\nRequirement already up-to-date: Pillow in /usr/local/lib/python3.6/dist-packages (from paddlehub)\r\nCollecting colorama (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/44/98/5b86278fbbf250d239ae0ecb724f8572af1c91f4a11edf4d36a206189440/colorama-0.4.4-py2.py3-none-any.whl\r\nCollecting numpy (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/51/60/3f0fe5b7675a461d96b9d6729beecd3532565743278a9c3fe6dd09697fa7/numpy-1.19.5.zip (7.3MB)\r\n    100% |????????????????????????????????| 7.3MB 75kB/s \r\nCollecting pyyaml (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/a0/a4/d63f2d7597e1a4b55aa3b4d6c5b029991d3b824b5bd331af8d4ab1ed687d/PyYAML-5.4.1.tar.gz (175kB)\r\n    100% |????????????????????????????????| 184kB 1.0MB/s \r\nCollecting rarfile (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/95/f4/c92fab227c7457e3b76a4096ccb655ded9deac869849cb03afbe55dfdc1e/rarfile-4.0-py3-none-any.whl\r\nCollecting pyzmq (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/99/3b/69360102db726741053d1446cbe9f7f06df7e2a6d5b805ee71841abf1cdc/pyzmq-22.1.0.tar.gz (1.2MB)\r\n    100% |????????????????????????????????| 1.2MB 418kB/s \r\nCollecting gunicorn>=19.10.0; sys_platform != \"win32\" (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/e4/dd/5b190393e6066286773a67dfcc2f9492058e9b57c4867a95f1ba5caf0a83/gunicorn-20.1.0-py3-none-any.whl (79kB)\r\n    100% |????????????????????????????????| 81kB 3.9MB/s \r\nCollecting visualdl>=2.0.0 (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/31/99/f5f50d035006b0d9304700facd9e1c843af8e02569474996d1b6a79529f6/visualdl-2.2.0-py3-none-any.whl (2.7MB)\r\n    100% |????????????????????????????????| 2.7MB 200kB/s \r\nCollecting paddlenlp>=2.0.0rc5 (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/07/0b/2ebd839e7393c66ce7d2a25f008680b8d6812b0e29508326d684bcbbf7ba/paddlenlp-2.0.1-py3-none-any.whl (375kB)\r\n    100% |????????????????????????????????| 378kB 1.3MB/s \r\nCollecting matplotlib (from paddlehub)\r\n  Downloading https://mirror.baidu.com/pypi/packages/22/d4/e7ca532e68a9357742604e1e4ae35d9c09a4a810de39a9d80402bd12f50f/matplotlib-3.3.4.tar.gz (37.9MB)\r\n    100% |????????????????????????????????| 37.9MB 14kB/s \r\n    Complete output from command python setup.py egg_info:\r\n    ERROR: Failed to build one or more wheels\r\n    Traceback (most recent call last):\r\n      File \"/home/wangjin/.local/lib/python3.6/site-packages/setuptools/installer.py\", line 75, in fetch_build_egg\r\n        subprocess.check_call(cmd)\r\n      File \"/usr/lib/python3.6/subprocess.py\", line 311, in check_call\r\n        raise CalledProcessError(retcode, cmd)\r\n    subprocess.CalledProcessError: Command '['/usr/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmp6lhz2b74', '--quiet', 'numpy>=1.15']' returned non-zero exit status 1.\r\n    \r\n    The above exception was the direct cause of the following exception:\r\n    \r\n    Traceback (most recent call last):\r\n      File \"<string>\", line 1, in <module>\r\n      File \"/tmp/pip-build-fa1_fsut/matplotlib/setup.py\", line 312, in <module>\r\n        cmdclass=cmdclass,\r\n      File \"/home/wangjin/.local/lib/python3.6/site-packages/setuptools/__init__.py\", line 152, in setup\r\n        _install_setup_requires(attrs)\r\n      File \"/home/wangjin/.local/lib/python3.6/site-packages/setuptools/__init__.py\", line 147, in _install_setup_requires\r\n        dist.fetch_build_eggs(dist.setup_requires)\r\n      File \"/home/wangjin/.local/lib/python3.6/site-packages/setuptools/dist.py\", line 782, in fetch_build_eggs\r\n        replace_conflicting=True,\r\n      File \"/home/wangjin/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 768, in resolve\r\n        replace_conflicting=replace_conflicting\r\n      File \"/home/wangjin/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 1051, in best_match\r\n        return self.obtain(req, installer)\r\n      File \"/home/wangjin/.local/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 1063, in obtain\r\n        return installer(requirement)\r\n      File \"/home/wangjin/.local/lib/python3.6/site-packages/setuptools/dist.py\", line 838, in fetch_build_egg\r\n        return fetch_build_egg(self, req)\r\n      File \"/home/wangjin/.local/lib/python3.6/site-packages/setuptools/installer.py\", line 77, in fetch_build_egg\r\n        raise DistutilsError(str(e)) from e\r\n    distutils.errors.DistutilsError: Command '['/usr/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmp6lhz2b74', '--quiet', 'numpy>=1.15']' returned non-zero exit status 1.\r\n    \r\n    Edit setup.cfg to change the build options; suppress output with --quiet.\r\n    \r\n    BUILDING MATPLOTLIB\r\n      matplotlib: yes [3.3.4]\r\n          python: yes [3.6.9 (default, Jan 26 2021, 15:33:00)  [GCC 8.4.0]]\r\n        platform: yes [linux]\r\n     sample_data: yes [installing]\r\n           tests: no  [skipping due to configuration]\r\n          macosx: no  [Mac OS-X only]\r\n    \r\n    \r\n    ----------------------------------------\r\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-fa1_fsut/matplotlib/",
        "state": "closed",
        "user": "codeWang-J",
        "closed_by": "WYB27",
        "created_at": "2021-06-01T12:43:16+00:00",
        "updated_at": "2025-06-30T07:16:47+00:00",
        "closed_at": "2025-06-30T07:16:47+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1439,
        "title": "more installation suggestions in docs",
        "body": "When I try to install paddlepaddle with gpu version, there is no command for me. So I will search the related command in another web page, which is time-consuming for beginner. \r\n\r\n```shell\r\n!pip install --upgrade paddlepaddle -i https://mirror.baidu.com/pypi/simple\r\n!pip install --upgrade paddlehub -i https://mirror.baidu.com/pypi/simple\r\n```\r\n\r\nI think there should be more installation suggestions in readme. If you approve it,  I will try to fix with this little improvement.\r\n\r\n```shell\r\n# install paddlepaddle with gpu\r\n# !pip install --upgrade paddlepaddle-gpu -i https://mirror.baidu.com/pypi/simple\r\n\r\n# or install paddlepaddle with cpu\r\n!pip install --upgrade paddlepaddle -i https://mirror.baidu.com/pypi/simple\r\n\r\n# install paddlehub\r\n!pip install --upgrade paddlehub -i https://mirror.baidu.com/pypi/simple\r\n```\r\n",
        "state": "closed",
        "user": "wj-Mcat",
        "closed_by": "WYB27",
        "created_at": "2021-06-02T12:23:14+00:00",
        "updated_at": "2025-06-30T07:16:45+00:00",
        "closed_at": "2025-06-30T07:16:45+00:00",
        "comments_count": [
            "wj-Mcat"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1442,
        "title": "jetson nano  安装paddlehub成功后  运行时报核心转载错误！",
        "body": "\r\n具体报错信息如下：\r\nSuccessfully built future shellcheck-py\r\nInstalling collected packages: zipp, typing-extensions, MarkupSafe, importlib-metadata, dataclasses, Werkzeug, six, pytz, Jinja2, itsdangerous, importlib-resources, filelock, distlib, click, appdirs, virtualenv, urllib3, toml, PyYAML, pyflakes, pycryptodome, pycodestyle, nodeenv, mccabe, idna, identify, future, flask, chardet, cfgv, certifi, Babel, tqdm, shellcheck-py, setuptools, requests, regex, python-dateutil, protobuf, pre-commit, Pillow, numpy, joblib, Flask-Babel, flake8, bce-python-sdk, yapf, visualdl, sentencepiece, pandas, opencv-python, nltk, gunicorn, colorlog, cma, paddlehub\r\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\r\nlaunchpadlib 1.10.6 requires testresources, which is not installed.\r\nSuccessfully installed Babel-2.9.1 Flask-Babel-2.0.0 Jinja2-3.0.1 MarkupSafe-2.0.1 Pillow-8.2.0 PyYAML-5.4.1 Werkzeug-2.0.1 appdirs-1.4.4 bce-python-sdk-0.8.60 certifi-2021.5.30 cfgv-3.3.0 chardet-4.0.0 click-8.0.1 cma-3.0.3 colorlog-5.0.1 dataclasses-0.8 distlib-0.3.2 filelock-3.0.12 flake8-3.9.2 flask-2.0.1 future-0.18.2 gunicorn-20.1.0 identify-2.2.7 idna-2.10 importlib-metadata-4.4.0 importlib-resources-5.1.4 itsdangerous-2.0.1 joblib-1.0.1 mccabe-0.6.1 nltk-3.6.2 nodeenv-1.6.0 numpy-1.19.5 opencv-python-4.5.1.48 paddlehub-1.8.3 pandas-1.1.5 pre-commit-2.13.0 protobuf-3.17.2 pycodestyle-2.7.0 pycryptodome-3.10.1 pyflakes-2.3.1 python-dateutil-2.8.1 pytz-2021.1 regex-2021.4.4 requests-2.25.1 sentencepiece-0.1.95 setuptools-57.0.0 shellcheck-py-0.7.2.1 six-1.16.0 toml-0.10.2 tqdm-4.61.0 typing-extensions-3.10.0.0 urllib3-1.26.5 virtualenv-20.4.7 visualdl-2.2.0 yapf-0.26.0 zipp-3.4.1\r\nWARNING: Running pip as root will break packages and permissions. You should install packages reliably by using venv: https://pip.pypa.io/warnings/venv\r\nwangjin@wangjin-desktop:~$ hub\r\nIllegal instruction (core dumped)\r\nwangjin@wangjin-desktop:~$ hub install yolov3_resnet50_vd_coco2017==1.0.1\r\nIllegal instruction (core dumped)\r\nwangjin@wangjin-desktop:~$ ^C",
        "state": "closed",
        "user": "codeWang-J",
        "closed_by": "WYB27",
        "created_at": "2021-06-03T13:55:33+00:00",
        "updated_at": "2025-06-30T07:16:44+00:00",
        "closed_at": "2025-06-30T07:16:44+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1443,
        "title": "2020语言与智能技术竞赛：事件抽取任务--PaddleHub Baseline",
        "body": "paddlehub的事件抽取任务在aistudio上过期，无法启动。没人维护吗，现在aistudio有可以fork的项目吗？有相关数据集下载地址吗？想要一个可运行的项目看看结果。谢谢",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-06-04T01:20:22+00:00",
        "updated_at": "2025-06-30T07:16:42+00:00",
        "closed_at": "2025-06-30T07:16:42+00:00",
        "comments_count": [
            "suntao2015005848",
            "KPatr1ck",
            "chunzhang-hub"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1444,
        "title": "部署ocr时的接口地址不是127.0.0.1",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub=2.0.4，PaddlePaddle=2.1.0\r\n2）系统环境：Linux，python版本3.7\r\n参考https://www.paddlepaddle.org.cn/hubdetail?name=chinese_ocr_db_crnn_server&en_category=TextRecognition 部署ocr时，接口地址 http://172.17.0.2:8866/，不是http://127.0.01:8866/，调http://127.0.01:8866/不可以，但http://172.17.0.2:8866/可以\r\n",
        "state": "closed",
        "user": "Lie-huo",
        "closed_by": "WYB27",
        "created_at": "2021-06-04T01:54:56+00:00",
        "updated_at": "2025-06-30T07:16:40+00:00",
        "closed_at": "2025-06-30T07:16:40+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1445,
        "title": "运行gpu的demo 出错。",
        "body": "https://www.paddlepaddle.org.cn/hubdetail?name=chinese_ocr_db_crnn_server&en_category=TextRecognition\r\n按照这个教程写的代码。代码我改成gpu的了。\r\nimport paddlehub as hub\r\nimport cv2\r\nocr = hub.Module(name=\"chinese_ocr_db_crnn_mobile\")\r\nresult = ocr.recognize_text(images=[cv2.imread(r'C:\\Users\\bin\\Desktop\\temp\\jpg')],use_gpu=True)\r\nprint(result)\r\n环境如下\r\n\r\n![image](https://user-images.githubusercontent.com/26525599/120737568-e534cc00-c520-11eb-8d10-ffb98d3e5144.png)\r\n异常如下。\r\n![image](https://user-images.githubusercontent.com/26525599/120737594-ef56ca80-c520-11eb-82a3-62d86f1d1498.png)\r\n",
        "state": "closed",
        "user": "bbhxwl",
        "closed_by": "WYB27",
        "created_at": "2021-06-04T02:38:11+00:00",
        "updated_at": "2025-06-30T07:16:38+00:00",
        "closed_at": "2025-06-30T07:16:38+00:00",
        "comments_count": [
            "bbhxwl",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1446,
        "title": "from paddlehub.common.logger import logger 出错",
        "body": ">>> from paddlehub.common.logger import logger\r\n/home/cleartorch/.conda/envs/paddle/lib/python3.8/site-packages/paddle2onnx/onnx_helper/mapping.py:42: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe. \r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  int(TensorProto.STRING): np.dtype(np.object)\r\n/home/cleartorch/.conda/envs/paddle/lib/python3.8/site-packages/paddle2onnx/constant/dtypes.py:43: DeprecationWarning: `np.bool` is a deprecated alias for the builtin `bool`. To silence this warning, use `bool` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.bool_` here.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  np.bool: core.VarDesc.VarType.BOOL,\r\n/home/cleartorch/.conda/envs/paddle/lib/python3.8/site-packages/paddle2onnx/constant/dtypes.py:44: DeprecationWarning: `np.float` is a deprecated alias for the builtin `float`. To silence this warning, use `float` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.float64` here.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  core.VarDesc.VarType.FP32: np.float,\r\n/home/cleartorch/.conda/envs/paddle/lib/python3.8/site-packages/paddle2onnx/constant/dtypes.py:49: DeprecationWarning: `np.bool` is a deprecated alias for the builtin `bool`. To silence this warning, use `bool` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.bool_` here.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  core.VarDesc.VarType.BOOL: np.bool\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n**ModuleNotFoundError: No module named 'paddlehub.common'**\r\n\r\n安装paddlepaddle和paddlehub都没问题，可以import paddlehub\r\n但是 from paddlehub.common.logger import logger\r\n出错，求解？",
        "state": "closed",
        "user": "ClearTorch",
        "closed_by": "WYB27",
        "created_at": "2021-06-04T09:18:42+00:00",
        "updated_at": "2025-06-30T07:16:36+00:00",
        "closed_at": "2025-06-30T07:16:36+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1455,
        "title": "官方提供的文档有问题",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1） hub 2.1.0\r\n2）python3.8。 系统 阿里云的标准 centos。\r\n- 复现步骤：按照官方文档的搭建服务流程，没问题，但是python写程序访问服务流程的时候，一直访问不了，提示 少了一个 predict_args 字段。\r\n\r\nhttps://www.paddlepaddle.org.cn/hubdetail?name=lac&en_category=LexicalAnalysis\r\n报错信息如下：\r\n\r\n![image](https://user-images.githubusercontent.com/19772008/120991226-019c6700-c7b4-11eb-9a62-c83e8b193854.png)\r\n\r\n同时，import request 一直提示有问题，后来发现少了个s，应该是 import requests……",
        "state": "closed",
        "user": "allenxln",
        "closed_by": "nepeplwu",
        "created_at": "2021-06-07T09:19:20+00:00",
        "updated_at": "2021-06-09T11:47:23+00:00",
        "closed_at": "2021-06-09T11:47:23+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1463,
        "title": "hub serving start -m plato-mini 运行成功，但是调用失败",
        "body": "版本：\r\nPaddleHub2.1.0\r\npaddlepaddle-gpu==2.1.0.post101\r\nplato-mini 1.0.0\r\n\r\nWIN10，python3.8\r\n\r\n安装plato-mini：\r\nhub install plato-mini==1.0.0\r\n\r\n代码（官方文档里的）：\r\n```\r\nimport paddlehub as hub\r\n\r\nmodel = hub.Module(name='plato-mini')\r\ndata = [[\"你是谁？\"], [\"你好啊。\", \"吃饭了吗？\",]]\r\nresult = model.predict(data)\r\n```\r\n\r\n报错：\r\nTraceback (most recent call last):\r\n  File \"D:/pyspace/Knover/test.py\", line 6, in <module>\r\n    result = model.predict(data)\r\n  File \"E:\\Anaconda3\\lib\\site-packages\\paddlehub\\module\\module.py\", line 63, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\Administrator\\.paddlehub\\modules\\plato_mini\\module.py\", line 172, in predict\r\n    ids, scores = self(input_ids, token_type_ids, position_ids, attention_mask, **kwargs)\r\n  File \"E:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 898, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"C:\\Users\\Administrator\\.paddlehub\\modules\\plato_mini\\module.py\", line 130, in forward\r\n    ids, scores = self.model.generate(input_ids=input_ids,\r\n  File \"<decorator-gen-269>\", line 2, in generate\r\n  File \"E:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 316, in _decorate_function\r\n    return func(*args, **kwargs)\r\n  File \"E:\\Anaconda3\\lib\\site-packages\\paddlenlp\\transformers\\generation_utils.py\", line 618, in generate\r\n    return self.sample(input_ids, logits_processors, max_length,\r\n  File \"E:\\Anaconda3\\lib\\site-packages\\paddlenlp\\transformers\\generation_utils.py\", line 793, in sample\r\n    input_ids = paddle.concat([input_ids, next_tokens], axis=1)\r\n  File \"E:\\Anaconda3\\lib\\site-packages\\paddle\\tensor\\manipulation.py\", line 121, in concat\r\n    return paddle.fluid.layers.concat(input=x, axis=axis, name=name)\r\n  File \"E:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\layers\\tensor.py\", line 307, in concat\r\n    return core.ops.concat(input, 'axis', axis)\r\n**ValueError: (InvalidArgument) Tensor holds the wrong type, it holds int64_t, but desires to be int.\r\n  [Hint: Expected valid == true, but received valid:0 != true:1.] (at C:\\home\\workspace\\Paddle_release\\paddle/fluid/framework/tensor_impl.h:33)\r\n  [operator < concat > error]**\r\n\r\n",
        "state": "closed",
        "user": "arkerwu",
        "closed_by": "arkerwu",
        "created_at": "2021-06-08T07:25:47+00:00",
        "updated_at": "2021-06-09T01:18:09+00:00",
        "closed_at": "2021-06-09T01:18:09+00:00",
        "comments_count": [
            "LazyBoy-KK",
            "KPatr1ck",
            "arkerwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1467,
        "title": "使用超分模型出错 ModuleNotFoundError: No module named 'realsr.module'; 'realsr' is not a package",
        "body": "使用超分模型出错 ModuleNotFoundError: No module named 'realsr.module'; 'realsr' is not a package\r\n也试过手动删除缓存目录，和更新paddlehub版本，还是不行\r\n\r\n- 代码\r\n```\r\n'''\r\nrealsr.py \r\n'''\r\n\r\nimport paddle\r\nimport os\r\nimport argparse\r\nimport cv2\r\n\r\nimport paddlehub as hub\r\ndef main(args):\r\n    image_path = 'input.png'\r\n    image = cv2.imread(image_path)\r\n    module = hub.Module(name=\"realsr\")\r\n    res = module.run_image(image)\r\n    return\r\n\r\nif __name__ == '__main__':\r\n    parser = argparse.ArgumentParser()\r\n    args = parser.parse_args()\r\n    main(args)\r\n    print('exit')\r\n```\r\n- 系统环境 MaxOS\r\n- python版本              Python 3.8.10\r\n- paddlehub               2.1.0               /Users/max/Documents/Project/Demo/python/pd/PaddleHub\r\n- paddlepaddle          2.0.0\r\n\r\n- 详细日志\r\n```\r\n(pd) MaxdeMac-mini:pd max$ python realsr.py \r\n/Users/max/Documents/tools/miniconda3/envs/pd/lib/python3.8/site-packages/paddle/fluid/layers/utils.py:26: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  def convert_to_list(value, n, name, dtype=np.int):\r\n/Users/max/Documents/tools/miniconda3/envs/pd/lib/python3.8/site-packages/paddle2onnx/onnx_helper/mapping.py:42: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe. \r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  int(TensorProto.STRING): np.dtype(np.object)\r\n/Users/max/Documents/tools/miniconda3/envs/pd/lib/python3.8/site-packages/paddle2onnx/constant/dtypes.py:43: DeprecationWarning: `np.bool` is a deprecated alias for the builtin `bool`. To silence this warning, use `bool` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.bool_` here.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  np.bool: core.VarDesc.VarType.BOOL,\r\n/Users/max/Documents/tools/miniconda3/envs/pd/lib/python3.8/site-packages/paddle2onnx/constant/dtypes.py:44: DeprecationWarning: `np.float` is a deprecated alias for the builtin `float`. To silence this warning, use `float` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.float64` here.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  core.VarDesc.VarType.FP32: np.float,\r\n/Users/max/Documents/tools/miniconda3/envs/pd/lib/python3.8/site-packages/paddle2onnx/constant/dtypes.py:49: DeprecationWarning: `np.bool` is a deprecated alias for the builtin `bool`. To silence this warning, use `bool` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.bool_` here.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  core.VarDesc.VarType.BOOL: np.bool\r\n[2021-06-08 17:23:52,521] [ WARNING] - An error was encountered while loading realsr. Detailed error information can be found in the /Users/max/.paddlehub/log/20210608.log.\r\n[2021-06-08 17:23:52,525] [ WARNING] - An error was encountered while loading realsr. Detailed error information can be found in the /Users/max/.paddlehub/log/20210608.log.\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/realsr.tar.gz\r\n[##################################################] 100.00%\r\nDecompress /Users/max/.paddlehub/tmp/tmpq_d8ji2h/realsr.tar.gz\r\n[##################################################] 100.00%\r\n[2021-06-08 17:25:35,841] [    INFO] - Successfully uninstalled realsr\r\nTraceback (most recent call last):\r\n  File \"realsr.py\", line 32, in <module>\r\n    main(args)\r\n  File \"realsr.py\", line 25, in main\r\n    module = hub.Module(name=\"realsr\")\r\n  File \"/Users/max/Documents/Project/Demo/python/pd/PaddleHub/paddlehub/module/module.py\", line 388, in __new__\r\n    module = cls.init_with_name(\r\n  File \"/Users/max/Documents/Project/Demo/python/pd/PaddleHub/paddlehub/module/module.py\", line 487, in init_with_name\r\n    user_module_cls = manager.install(\r\n  File \"/Users/max/Documents/Project/Demo/python/pd/PaddleHub/paddlehub/module/manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"/Users/max/Documents/Project/Demo/python/pd/PaddleHub/paddlehub/module/manager.py\", line 265, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"/Users/max/Documents/Project/Demo/python/pd/PaddleHub/paddlehub/module/manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"/Users/max/Documents/Project/Demo/python/pd/PaddleHub/paddlehub/module/manager.py\", line 380, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"/Users/max/Documents/Project/Demo/python/pd/PaddleHub/paddlehub/module/manager.py\", line 364, in _install_from_directory\r\n    hub_module_cls = HubModule.load(self._get_normalized_path(module_info.name))\r\n  File \"/Users/max/Documents/Project/Demo/python/pd/PaddleHub/paddlehub/module/module.py\", line 418, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"/Users/max/Documents/Project/Demo/python/pd/PaddleHub/paddlehub/utils/utils.py\", line 250, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"/Users/max/Documents/tools/miniconda3/envs/pd/lib/python3.8/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 970, in _find_and_load_unlocked\r\nModuleNotFoundError: No module named 'realsr.module'; 'realsr' is not a package\r\n```",
        "state": "closed",
        "user": "KingsleyYau",
        "closed_by": "KingsleyYau",
        "created_at": "2021-06-08T09:41:52+00:00",
        "updated_at": "2021-06-09T03:29:06+00:00",
        "closed_at": "2021-06-09T03:29:06+00:00",
        "comments_count": [
            "haoyuying",
            "KingsleyYau"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1471,
        "title": " PaddleHub /  demo  /  sequence_labeling  /  train.py  在paddle notebook运行这个代码报错，版本都已经安装最新的版本",
        "body": "代码链接：https://aistudio.baidu.com/bdvv1/user/271421/2052673/notebooks/2052673.ipynb\r\n\r\n\r\n运行以下代码报错：\r\n# Copyright (c) 2020 PaddlePaddle Authors. All Rights Reserved.\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the \"License\");\r\n# you may not use this file except in compliance with the License.\r\n# You may obtain a copy of the License at\r\n#\r\n#     http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an \"AS IS\" BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\nimport paddle\r\nimport paddlehub as hub\r\nfrom paddlehub.datasets import MSRA_NER\r\n\r\nimport ast\r\nimport argparse\r\n\r\nparser = argparse.ArgumentParser(__doc__)\r\nparser.add_argument(\"--num_epoch\", type=int, default=3, help=\"Number of epoches for fine-tuning.\")\r\nparser.add_argument(\r\n    \"--use_gpu\",\r\n    type=ast.literal_eval,\r\n    default=True,\r\n    help=\"Whether use GPU for fine-tuning, input should be True or False\")\r\nparser.add_argument(\"--learning_rate\", type=float, default=5e-5, help=\"Learning rate used to train with warmup.\")\r\nparser.add_argument(\"--max_seq_len\", type=int, default=128, help=\"Number of words of the longest seqence.\")\r\nparser.add_argument(\"--batch_size\", type=int, default=32, help=\"Total examples' number in batch for training.\")\r\nparser.add_argument(\"--checkpoint_dir\", type=str, default='./checkpoint', help=\"Directory to model checkpoint\")\r\nparser.add_argument(\"--save_interval\", type=int, default=1, help=\"Save checkpoint every n epoch.\")\r\n\r\nargs = parser.parse_args()\r\n\r\nif __name__ == '__main__':\r\n    label_list = MSRA_NER.label_list\r\n    label_map = {idx: label for idx, label in enumerate(label_list)}\r\n\r\n    model = hub.Module(\r\n        name='ernie_tiny',\r\n        version='2.0.1',\r\n        task='token-cls',\r\n        label_map=label_map,  # Required for token classification task\r\n    )\r\n\r\n    tokenizer = model.get_tokenizer()\r\n    train_dataset = MSRA_NER(tokenizer=tokenizer, max_seq_len=args.max_seq_len, mode='train')\r\n    dev_dataset = MSRA_NER(tokenizer=tokenizer, max_seq_len=args.max_seq_len, mode='dev')\r\n    test_dataset = MSRA_NER(tokenizer=tokenizer, max_seq_len=args.max_seq_len, mode='test')\r\n\r\n    optimizer = paddle.optimizer.AdamW(learning_rate=args.learning_rate, parameters=model.parameters())\r\n    trainer = hub.Trainer(model, optimizer, checkpoint_dir=args.checkpoint_dir, use_gpu=args.use_gpu)\r\n    trainer.train(\r\n        train_dataset,\r\n        epochs=args.num_epoch,\r\n        batch_size=args.batch_size,\r\n        eval_dataset=dev_dataset,\r\n        save_interval=args.save_interval,\r\n    )\r\n    trainer.evaluate(test_dataset, batch_size=args.batch_size)\r\n\r\n报错信息：\r\nusage: Automatically created module for IPython interactive environment\r\n       [-h] [--num_epoch NUM_EPOCH] [--use_gpu USE_GPU]\r\n       [--learning_rate LEARNING_RATE] [--max_seq_len MAX_SEQ_LEN]\r\n       [--batch_size BATCH_SIZE] [--checkpoint_dir CHECKPOINT_DIR]\r\n       [--save_interval SAVE_INTERVAL]\r\nAutomatically created module for IPython interactive environment: error: unrecognized arguments: -f /home/aistudio/.local/share/jupyter/runtime/kernel-9bdd1ace-f437-4e19-b3a3-983a8c05fae6.json\r\nAn exception has occurred, use %tb to see the full traceback.\r\nSystemExit: 2\r\n",
        "state": "closed",
        "user": "AI-Mart",
        "closed_by": "WYB27",
        "created_at": "2021-06-08T13:03:22+00:00",
        "updated_at": "2025-06-30T07:16:34+00:00",
        "closed_at": "2025-06-30T07:16:34+00:00",
        "comments_count": [
            "KPatr1ck",
            "AI-Mart",
            "AI-Mart",
            "KPatr1ck",
            "AI-Mart"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1470,
        "title": "在运行paddlehub2.1.0中的plato-mini模型时出现ValueError: (InvalidArgument) Tensor holds the wrong type, it holds int64_t, but desires to be int.",
        "body": "- PaddleHub: 2.1.0\r\n- PaddlePaddle: 2.1.0\r\n- 系统环境: Windows  python3.7\r\n- 在尝试运行PaddleHub中plato-mini模型的predict函数时报错\r\n\r\n- 代码：\r\nimport paddlehub as hub\r\nmodel = hub.Module(name='plato-mini')\r\ndata = ['你好啊', '吃了吗']\r\nresult = model.predict(data, use_gpu=True)\r\n\r\n- 报错:\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 4, in <module>\r\n    result = model.predict(data, use_gpu=True)\r\n  File \"D:\\anaconda3\\envs\\VirtualIdol\\lib\\site-packages\\paddlehub\\module\\module.py\", line 63, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\Administrator\\.paddlehub\\modules\\plato_mini\\module.py\", line 172, in predict\r\n    ids, scores = self(input_ids, token_type_ids, position_ids, attention_mask, **kwargs)\r\n  File \"D:\\anaconda3\\envs\\VirtualIdol\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 898, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"C:\\Users\\Administrator\\.paddlehub\\modules\\plato_mini\\module.py\", line 143, in forward\r\n    num_return_sequences=num_return_sequences)\r\n  File \"<decorator-gen-269>\", line 2, in generate\r\n  File \"D:\\anaconda3\\envs\\VirtualIdol\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 316, in _decorate_function\r\n    return func(*args, **kwargs)\r\n  File \"D:\\anaconda3\\envs\\VirtualIdol\\lib\\site-packages\\paddlenlp\\transformers\\generation_utils.py\", line 620, in generate\r\n    temperature, **model_kwargs)\r\n  File \"D:\\anaconda3\\envs\\VirtualIdol\\lib\\site-packages\\paddlenlp\\transformers\\generation_utils.py\", line 793, in sample\r\n    input_ids = paddle.concat([input_ids, next_tokens], axis=1)\r\n  File \"D:\\anaconda3\\envs\\VirtualIdol\\lib\\site-packages\\paddle\\tensor\\manipulation.py\", line 121, in concat\r\n    return paddle.fluid.layers.concat(input=x, axis=axis, name=name)\r\n  File \"D:\\anaconda3\\envs\\VirtualIdol\\lib\\site-packages\\paddle\\fluid\\layers\\tensor.py\", line 307, in concat\r\n    return core.ops.concat(input, 'axis', axis)\r\nValueError: (InvalidArgument) Tensor holds the wrong type, it holds int64_t, but desires to be int.\r\n  [Hint: Expected valid == true, but received valid:0 != true:1.] (at C:\\home\\workspace\\Paddle_release\\paddle/fluid/framework/t\r\nensor_impl.h:33)\r\n  [operator < concat > error]\r\n",
        "state": "closed",
        "user": "LazyBoy-KK",
        "closed_by": "LazyBoy-KK",
        "created_at": "2021-06-08T11:28:03+00:00",
        "updated_at": "2021-09-03T09:31:06+00:00",
        "closed_at": "2021-06-09T09:43:25+00:00",
        "comments_count": [
            "KPatr1ck",
            "LazyBoy-KK",
            "80905949"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1474,
        "title": "PaddleHub / demo / sequence_labeling / train.py 问题（tensor with shape 不对）",
        "body": "你好，我在使用 PaddleHub / demo / sequence_labeling / train.py 文件时，加载了一个自定义的数据集，其中有 17 个标签，但是在做 sequnce 问题时，好像没有地方输入类别数量，导致总是显示 tenser 不对。\r\n\r\n`# 选择所需要的模型，获取对应的tokenizer\r\nimport paddlehub as hub\r\nmodel = hub.Module(name='ernie_tiny', task='token-cls', label_map=MyDataset.label_map)\r\ntokenizer = model.get_tokenizer()\r\n\r\n# 实例化训练集\r\ntrain_dataset = MyDataset(tokenizer)\r\ntest_dataset = MyDataset(tokenizer, mode='test')\r\n\r\noptimizer = paddle.optimizer.AdamW(learning_rate=args.learning_rate, parameters=model.parameters())\r\ntrainer = hub.Trainer(model, optimizer, checkpoint_dir=args.checkpoint_dir, use_gpu=args.use_gpu)\r\ntrainer.train(\r\n        train_dataset,\r\n        epochs=args.num_epoch,\r\n        batch_size=args.batch_size,\r\n        eval_dataset=test_dataset,\r\n        save_interval=args.save_interval,\r\n)`\r\n\r\n其中，MyDataset.label_map 是 17 个类别。但是最后总是报错，说 tensor 不对，这个地方要去哪里修改呢？不应该是自动修改的么？\r\n\r\n`  File \"hub_train.py\", line 90, in <module>\r\n    save_interval=args.save_interval,\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/trainer.py\", line 199, in train\r\n    self.optimizer_step(self.current_epoch, batch_idx, self.optimizer, loss)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/trainer.py\", line 378, in optimizer_step\r\n    self.optimizer.step()\r\n  File \"<decorator-gen-198>\", line 2, in step\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 260, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"<decorator-gen-196>\", line 2, in step\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 225, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/adam.py\", line 367, in step\r\n    loss=None, startup_program=None, params_grads=params_grads)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/optimizer.py\", line 775, in _apply_optimize\r\n    optimize_ops = self._create_optimization_pass(params_grads)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/adamw.py\", line 203, in _create_optimization_pass\r\n    AdamW, self)._create_optimization_pass(parameters_and_grads)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/optimizer.py\", line 597, in _create_optimization_pass\r\n    [p[0] for p in parameters_and_grads if p[0].trainable])\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/adam.py\", line 249, in _create_accumulators\r\n    self._add_moments_pows(p)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/adam.py\", line 216, in _add_moments_pows\r\n    self._add_accumulator(self._moment1_acc_str, p, dtype=acc_dtype)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/optimizer/optimizer.py\", line 516, in _add_accumulator\r\n    var.set_value(self._accumulators_holder[var_name])\r\n  File \"<decorator-gen-113>\", line 2, in set_value\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 225, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/varbase_patch_methods.py\", line 125, in set_value\r\n    self.name, self_tensor_np.shape, value_np.shape)\r\n`\r\n",
        "state": "closed",
        "user": "mock1ddd",
        "closed_by": "WYB27",
        "created_at": "2021-06-09T04:07:09+00:00",
        "updated_at": "2025-06-30T07:16:32+00:00",
        "closed_at": "2025-06-30T07:16:32+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1479,
        "title": "pycharm配置paddle环境出错",
        "body": "![%0XQ{)0GQLD`KQ53%$OX(_N](https://user-images.githubusercontent.com/85716726/121616627-ce98f280-ca95-11eb-9586-6cb54d8f386a.png)\r\n该下载的东西下载了，环境变量也设置了还是这样",
        "state": "closed",
        "user": "TLTLHILL",
        "closed_by": "haoyuying",
        "created_at": "2021-06-11T01:18:02+00:00",
        "updated_at": "2021-06-15T10:59:32+00:00",
        "closed_at": "2021-06-15T10:59:32+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1475,
        "title": "bert文本分类评估指标问题",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n在使用模型库中的bert-wwm进行多文本分类项目时发现，输出的评估指标为acc，但是我需要用macro-f1来作为我的评估指标，请问paddlehub考虑增加多分类F1 Score等评估指标吗，或者如果我需要自己写自定义评估方法的话，需要到哪个文件中进行修改，是在模型中或是其他的什么地方。",
        "state": "closed",
        "user": "mengjing12332",
        "closed_by": "WYB27",
        "created_at": "2021-06-09T10:32:55+00:00",
        "updated_at": "2025-06-30T07:16:30+00:00",
        "closed_at": "2025-06-30T07:16:30+00:00",
        "comments_count": [
            "KPatr1ck",
            "wj-Mcat"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1480,
        "title": "Don't post spam email to me!",
        "body": "Don't post spam email to me!",
        "state": "closed",
        "user": "aimerneige",
        "closed_by": "aimerneige",
        "created_at": "2021-06-11T08:17:29+00:00",
        "updated_at": "2021-06-11T08:17:32+00:00",
        "closed_at": "2021-06-11T08:17:32+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1485,
        "title": "图像着色不能使用GPU",
        "body": "图像着色，不能使用GPU，即便是环境都配置对了（cuda=10.1 cudnn=7.5 python=3.6 paaddle(gpu版)=2.1），demo跑起来还是有问题，运行时不报错，但就是没有着色成功，result字段为空\r\n",
        "state": "closed",
        "user": "yfq512",
        "closed_by": "WYB27",
        "created_at": "2021-06-16T09:29:22+00:00",
        "updated_at": "2025-06-30T07:16:28+00:00",
        "closed_at": "2025-06-30T07:16:28+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1486,
        "title": "TypeError: read() missing 1 required positional argument: 'filename'",
        "body": "- hub run pyramidbox_lite_server_mask --input_path \"/PATH/TO/IMAGE\"\r\n- 运行这行代码出现TypeError: read() missing 1 required positional argument: 'filename'\r\n",
        "state": "closed",
        "user": "BYG07",
        "closed_by": "WYB27",
        "created_at": "2021-06-17T07:50:54+00:00",
        "updated_at": "2025-06-30T07:16:26+00:00",
        "closed_at": "2025-06-30T07:16:26+00:00",
        "comments_count": [
            "haoyuying",
            "BYG07",
            "haoyuying",
            "BYG07",
            "haoyuying",
            "BYG07",
            "haoyuying",
            "BYG07",
            "haoyuying",
            "BYG07"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1487,
        "title": "nlp序列标注时候报错:The length of tokens must be same with labels",
        "body": "paddlepaddle-gpu==1.8.5.post97\r\npaddlehub==1.8.2\r\nernie==1.2.0\r\n报错：\r\n`Traceback (most recent call last):   File \"module.py\", line 136, in <module>     law_ernie = ERNIELAWFinetuned(ckpt_dir=\"/home/aistudio/es_005/mod/es005_mod\", use_gpu=True)   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 122, in __new__     directory=directory, **kwargs)   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 200, in init_with_directory     user_module = _item(directory=directory, **kwargs)   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 146, in __init__     self._initialize(**kwargs)   File \"/home/aistudio/es_005/mod/module.py\", line 90, in _initialize     self.seq_label_task.finetune_and_eval()   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 945, in finetune_and_eval     return self.finetune(do_eval=True)   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 960, in finetune     self.init_if_necessary()   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 384, in init_if_necessary     if not self.load_checkpoint():   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 911, in load_checkpoint     main_program=self.main_program)   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 545, in main_program     self._build_env()   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 458, in _build_env     self.dataset.get_train_records())   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/base_nlp_dataset.py\", line 192, in get_train_records     return self.get_records(\"train\", shuffle=shuffle)   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/base_nlp_dataset.py\", line 208, in get_records     records = self.train_records   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/base_nlp_dataset.py\", line 73, in train_records     examples, phase=\"train\")   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/base_nlp_dataset.py\", line 489, in _convert_examples_to_records     labels=example.label.split(self.split_char))   File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/dataset/base_nlp_dataset.py\", line 521, in _reseg_token_label     \"The length of tokens must be same with labels\") ValueError: The length of tokens must be same with labels`\r\n",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "suntao2015005848",
        "created_at": "2021-06-18T01:44:22+00:00",
        "updated_at": "2021-06-24T06:42:12+00:00",
        "closed_at": "2021-06-24T06:42:12+00:00",
        "comments_count": [
            "KPatr1ck",
            "suntao2015005848",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1490,
        "title": "Paddlehub MemoryError",
        "body": "File \"/usr/local/lib/python3.8/site-packages/paddlenlp/transformers/tokenizer_utils.py\", line 383, in from_pretrained\r\n    tokenizer = cls(*init_args, **init_kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/paddlenlp/transformers/utils.py\", line 83, in __impl__\r\n    init_func(self, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/paddlenlp/transformers/ernie/tokenizer.py\", line 386, in __init__\r\n    self.dict = pickle.load(open(word_dict, 'rb'))\r\nMemoryError\r\n",
        "state": "closed",
        "user": "lokinfey",
        "closed_by": "WYB27",
        "created_at": "2021-06-21T09:27:37+00:00",
        "updated_at": "2025-06-30T07:16:24+00:00",
        "closed_at": "2025-06-30T07:16:24+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1489,
        "title": "序列标注任务在预测时无法对空格进行标注",
        "body": "我训练完示例的模型后，运行https://github.com/PaddlePaddle/PaddleHub/blob/release/v2.1/demo/sequence_labeling/predict.py\r\n中的代码进行推理。\r\n\r\n```\r\n输入文本：\r\n华裔作家韩素音女士曾三次到大足，称“大足石窟是一座未被开发的金矿”。\r\n输出为：\r\nB-LOC, O, O, O, B-PER, I-PER, I-PER, O, O, O, O, O, O, O, I-LOC, O, O, O, B-LOC, I-LOC, I-LOC, I-LOC, O, O, O, O, O, O, O, O, O, O, O, O\r\n\r\n输入文本：\r\n华裔作家 韩素音 女士曾三次到大足，称“大足石窟是一座未被开发的金矿”。\r\n输出为：\r\nB-LOC, O, O, O, B-PER, I-PER, I-PER, O, O, O, O, O, O, O, I-LOC, O, O, O, B-LOC, I-LOC, I-LOC, I-LOC, O, O, O, O, O, O, O, O, O, O, O, O, O, O\r\n\r\n输入文本：\r\n华裔作家                韩素音 女士曾三次到大足，称“大足石窟是一座未被开发的金矿”。\r\n输出为：\r\nB-LOC, O, O, O, B-PER, I-PER, I-PER, O, O, O, O, O, O, O, I-LOC, O, O, O, B-LOC, I-LOC, I-LOC, I-LOC, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O, O\r\n```\r\n\r\n我的问题是针对输入文本中的空格，为什么输出会出现现在这样的结果呢？\r\n\r\n配置\r\npaddlehub           2.1.0\r\npaddlenlp           2.0.2\r\npaddlepaddle-gpu    2.1.0.post101\r\nLinux python3.6.9\r\n\r\n",
        "state": "closed",
        "user": "BossRobin",
        "closed_by": "BossRobin",
        "created_at": "2021-06-20T06:48:57+00:00",
        "updated_at": "2021-06-21T09:10:55+00:00",
        "closed_at": "2021-06-21T09:10:55+00:00",
        "comments_count": [
            "KPatr1ck",
            "BossRobin"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1492,
        "title": "Finetune后，加载模型进行预测时，报错",
        "body": "模型训练代码\r\n`model = hub.Module(\r\n    name='resnet50_vd_imagenet_ssld',\r\n    label_list=[\"roses\", \"tulips\", \"daisy\", \"sunflowers\", \"dandelion\"],\r\n    load_checkpoint=None)\r\noptimizer = paddle.optimizer.Adam(learning_rate=0.001, parameters=model.parameters())\r\ntrainer = Trainer(model, optimizer, checkpoint_dir='img_classification_ckpt', use_gpu=True)\r\ntrainer.train(flowers, epochs=100, batch_size=32, eval_dataset=flowers_validate, save_interval=10)`\r\n训练完预测代码\r\n`result = model.predict(['1.jpg'])\r\nprint(result)`\r\n以上都没有问题，能正常执行且输出结果，然后我想，我下次如何使用此模型呢？不可能每次都重新训练一次吧，因此就用了predict.py代码进行预测，代码如下：\r\n`import paddle\r\nimport paddlehub as hub\r\n\r\nif __name__ == '__main__':\r\n    paddle.disable_static()\r\n    model = hub.Module(\r\n        name='resnet50_vd_imagenet_ssld',\r\n        label_list=[\"roses\", \"tulips\", \"daisy\", \"sunflowers\", \"dandelion\"],\r\n        load_checkpoint='./img_classification_ckpt/best_model/model.pdparams')\r\n    result = model.predict(['1.jpg'])`\r\n其中 paddle.disable_static()是因为查看了github的issue，给的解决方案，我试了一下，依然没有用，包括load_checkpoint='./img_classification_ckpt/best_model/model.pdparams'，用来多种写法load_checkpoint='img_classification_ckpt'，load_checkpoint='img_classification_ckpt/best_model/'等等，都不行\r\n\r\n具体错误代码如下，求大佬帮忙看看\r\n`---------------------------------------------------------------------------ValueError                                Traceback (most recent call last)<ipython-input-31-7f38b71d7625> in <module>\r\n      7         name='resnet50_vd_imagenet_ssld',\r\n      8         label_list=[\"roses\", \"tulips\", \"daisy\", \"sunflowers\", \"dandelion\"],\r\n----> 9         load_checkpoint='./img_classification_ckpt/best_model/model.pdparams')\r\n     10     result = model.predict(['1.jpg'])\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    393                     branch=branch,\r\n    394                     ignore_env_mismatch=ignore_env_mismatch,\r\n--> 395                     **kwargs)\r\n    396                 CacheUpdater(\"update_cache\", module=name, version=version).start()\r\n    397             elif directory:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    509 \r\n    510         user_module_cls.directory = directory\r\n--> 511         return user_module_cls(**kwargs)\r\n    512 \r\n    513     @classmethod\r\n~/.paddlehub/modules/resnet50_vd_imagenet_ssld/module.py in __init__(self, label_list, load_checkpoint)\r\n    203         num_filters = [64, 128, 256, 512]\r\n    204 \r\n--> 205         self.conv1_1 = ConvBNLayer(num_channels=3, num_filters=32, filter_size=3, stride=2, act='relu', name=\"conv1_1\")\r\n    206         self.conv1_2 = ConvBNLayer(num_channels=32, num_filters=32, filter_size=3, stride=1, act='relu', name=\"conv1_2\")\r\n    207         self.conv1_3 = ConvBNLayer(num_channels=32, num_filters=64, filter_size=3, stride=1, act='relu', name=\"conv1_3\")\r\n~/.paddlehub/modules/resnet50_vd_imagenet_ssld/module.py in __init__(self, num_channels, num_filters, filter_size, stride, groups, is_vd_mode, act, name)\r\n     55             groups=groups,\r\n     56             weight_attr=ParamAttr(name=name + \"_weights\"),\r\n---> 57             bias_attr=False)\r\n     58         if name == \"conv1\":\r\n     59             bn_name = \"bn_\" + name\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/nn/layer/conv.py in __init__(self, in_channels, out_channels, kernel_size, stride, padding, dilation, groups, padding_mode, weight_attr, bias_attr, data_format)\r\n    644             weight_attr=weight_attr,\r\n    645             bias_attr=bias_attr,\r\n--> 646             data_format=data_format)\r\n    647 \r\n    648     def forward(self, x):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/nn/layer/conv.py in __init__(self, in_channels, out_channels, kernel_size, transposed, dims, stride, padding, padding_mode, output_padding, dilation, groups, weight_attr, bias_attr, data_format)\r\n    133             shape=filter_shape,\r\n    134             attr=self._param_attr,\r\n--> 135             default_initializer=_get_default_param_initializer())\r\n    136         self.bias = self.create_parameter(\r\n    137             attr=self._bias_attr, shape=[self._out_channels], is_bias=True)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in create_parameter(self, shape, attr, dtype, is_bias, default_initializer)\r\n    410             temp_attr = None\r\n    411         return self._helper.create_parameter(temp_attr, shape, dtype, is_bias,\r\n--> 412                                              default_initializer)\r\n    413 \r\n    414     @deprecated(\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper_base.py in create_parameter(self, attr, shape, dtype, is_bias, default_initializer, stop_gradient, type)\r\n    366                     \"In dygraph mode, the name of parameter can't be same.\"\r\n    367                     \"Please check the parameter attr value passed to self.create_parameter or \"\r\n--> 368                     \"constructor of dygraph Layers\".format(attr.name))\r\n    369             return self.main_program.global_block().create_parameter(\r\n    370                 dtype=dtype,\r\nValueError: parameter name [conv1_1_weights] have be been used. In dygraph mode, the name of parameter can't be same.Please check the parameter attr value passed to self.create_parameter or constructor of dygraph Layers`",
        "state": "closed",
        "user": "yuyangup",
        "closed_by": "WYB27",
        "created_at": "2021-06-23T07:26:34+00:00",
        "updated_at": "2025-06-30T07:16:22+00:00",
        "closed_at": "2025-06-30T07:16:22+00:00",
        "comments_count": [
            "haoyuying",
            "yuyangup"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1493,
        "title": "paddlehub导入自制模块时出现ValueError: (InvalidArgument) Input object type error or incompatible array data type.",
        "body": "**我用paddlehub使用ernie_gen预训练模型fintune训练后，模型转换模块并且进行了安装，但是在导入模块时报错了，ValueError: (InvalidArgument) Input object type error or incompatible array data type. tensor.set() supports array with bool, float16, float32, float64, int8, int16, int32, int64, uint8 or uint16, please check your input or input array data type. (at /paddle/paddle/fluid/pybind/tensor_py.h:390)。**\r\n\r\n\r\n**版本、环境信息：**\r\n   1）PaddlePaddle版本：paddlepaddle-gpu 2.1.0\r\n   2）Paddlehub版本：2.1.0\r\n   3）CPU/GPU：GPU cuda-10.0.130\r\n   4）系统环境：Ubantu 16.04.1\r\n   5）Python版本号: 3.7.9\r\n\r\n\r\n**导入模块代码如下：**\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"qg_ernie_gen_v01\")\r\n\r\n\r\n报错代码如下：\r\n/python3.7/site-packages/ipykernel/ipkernel.py:287: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.\r\n  and should_run_async(code)\r\n[2021-06-23 17:21:03,243] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\n[2021-06-23 17:21:03,244] [    INFO] - Already cached /root/.paddlenlp/models/ernie-1.0/ernie_v1_chn_base.pdparams\r\n[2021-06-23 17:21:03,245] [   DEBUG] - init ErnieModel with config: {'attention_probs_dropout_prob': 0.1, 'hidden_act': 'relu', 'hidden_dropout_prob': 0.1, 'hidden_size': 768, 'initializer_range': 0.02, 'max_position_embeddings': 513, 'num_attention_heads': 12, 'num_hidden_layers': 12, 'type_vocab_size': 2, 'vocab_size': 18000, 'pad_token_id': 0}\r\n[2021-06-23 17:21:03,645] [    INFO] - loading pretrained model from /root/.paddlenlp/models/ernie-1.0/ernie_v1_chn_base.pdparams\r\n[2021-06-23 17:21:04,968] [    INFO] - param:mlm_bias not set in pretrained model, skip\r\n[2021-06-23 17:21:04,969] [    INFO] - param:mlm.weight not set in pretrained model, skip\r\n[2021-06-23 17:21:04,970] [    INFO] - param:mlm.bias not set in pretrained model, skip\r\n[2021-06-23 17:21:04,971] [    INFO] - param:mlm_ln.weight not set in pretrained model, skip\r\n[2021-06-23 17:21:04,972] [    INFO] - param:mlm_ln.bias not set in pretrained model, skip\r\n---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n<ipython-input-3-2219b9b69638> in <module>\r\n----> 1 module = hub.Module(name=\"qg_ernie_gen_v01\")\r\n\r\n~/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    393                     branch=branch,\r\n    394                     ignore_env_mismatch=ignore_env_mismatch,\r\n--> 395                     **kwargs)\r\n    396                 CacheUpdater(\"update_cache\", module=name, version=version).start()\r\n    397             elif directory:\r\n\r\n~/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    502             )\r\n    503             user_module = user_module_cls(directory=directory)\r\n--> 504             user_module._initialize(**kwargs)\r\n    505             return user_module\r\n    506 \r\n\r\n~/python3.7/site-packages/paddlehub/compat/paddle_utils.py in runner(*args, **kwargs)\r\n    218     def runner(*args, **kwargs):\r\n    219         with static_mode_guard():\r\n--> 220             return func(*args, **kwargs)\r\n    221 \r\n    222     return runner\r\n\r\n~/.paddlehub/modules/qg_ernie_gen_v01/module.py in _initialize(self)\r\n     45         assets_path = os.path.join(self.directory, \"assets\")\r\n     46         gen_checkpoint_path = os.path.join(assets_path, \"ernie_gen.pdparams\")\r\n---> 47         self.model = ErnieForGeneration.from_pretrained(\"ernie-1.0\")\r\n     48         model_state = paddle.load(gen_checkpoint_path)\r\n     49         self.model.set_dict(model_state)\r\n\r\n~/python3.7/site-packages/paddlenlp/transformers/ernie_gen/modeling.py in from_pretrained(cls, pretrained_model_name_or_path, *args, **kwargs)\r\n    370                                 k)\r\n    371                     m[k] = v  # FIXME: no need to do this in the future\r\n--> 372             model.set_state_dict(m)\r\n    373         else:\r\n    374             raise ValueError('weight file not found in pretrain dir: %s' %\r\n\r\n~/python3.7/site-packages/paddle/fluid/framework.py in wrapper(*args, **kwargs)\r\n    270             kwargs['state_dict'] = kwargs['stat_dict']\r\n    271             kwargs.pop('stat_dict')\r\n--> 272         return func(*args, **kwargs)\r\n    273 \r\n    274     return wrapper\r\n\r\n~/python3.7/site-packages/paddle/fluid/dygraph/layers.py in set_state_dict(self, state_dict, use_structured_name)\r\n   1325                 global_scope(), executor)\r\n   1326             for param, state in matched_param_state:\r\n-> 1327                 _set_var(param, state)\r\n   1328 \r\n   1329     def _apply(self, func, device, dtype, blocking):\r\n\r\n~/paddle/fluid/dygraph/layers.py in _set_var(var, ndarray)\r\n   1317                     p.set_place(t._place())\r\n   1318                     place = core.CUDAPlace(p.gpu_device_id())\r\n-> 1319                 t.set(ndarray, place)\r\n   1320 \r\n   1321             executor = Executor(_get_device())._default_executor\r\n\r\nValueError: (InvalidArgument) Input object type error or incompatible array data type. tensor.set() supports array with bool, float16, float32, float64, int8, int16, int32, int64, uint8 or uint16, please check your input or input array data type. (at /paddle/paddle/fluid/pybind/tensor_py.h:390)\r\n\r\n请问怎么解决？？\r\n\r\n\r\n",
        "state": "closed",
        "user": "Tycoonman-ML",
        "closed_by": "WYB27",
        "created_at": "2021-06-23T10:12:26+00:00",
        "updated_at": "2025-06-30T07:16:20+00:00",
        "closed_at": "2025-06-30T07:16:20+00:00",
        "comments_count": [
            "KPatr1ck",
            "Tycoonman-ML",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1494,
        "title": "关于paddlehub输出的模型压缩支持",
        "body": "paddlehub=1.8.2\r\npaddlepaddle-gpu==1.8.5.post97\r\n基于ernie训练的自定义数据的序列标注模型如何压缩模型。",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-06-24T01:55:19+00:00",
        "updated_at": "2025-06-30T07:16:18+00:00",
        "closed_at": "2025-06-30T07:16:18+00:00",
        "comments_count": [
            "KPatr1ck",
            "suntao2015005848",
            "suntao2015005848",
            "suntao2015005848",
            "KPatr1ck",
            "suntao2015005848",
            "suntao2015005848"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1495,
        "title": "OCR chinese_ocr_db_crnn_mobile Bug",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub2.1\r\n2）Windows，python3.7.3\r\n3）Module: chinese_ocr_db_crnn_mobile, chinese_ocr_db_crnn_server\r\n4)  Module parameters:\r\n        results = ocr.recognize_text(\r\n            images=np_images,         # 图片数据，ndarray.shape 为 [H, W, C]，BGR格式；\r\n            use_gpu=False,            # 是否使用 GPU；若使用GPU，请先设置CUDA_VISIBLE_DEVICES环境变量\r\n            output_dir='ocr_result',  # 图片的保存路径，默认设为 ocr_result；\r\n            visualization=False,      # 是否将识别结果保存为图片文件；\r\n            box_thresh=0.5,           # 检测文本框置信度的阈值；\r\n            text_thresh=0.5)          # 识别中文文本置信度的阈值；\r\n\r\n- 复现信息：直接使用上述预训练模型识别中文文本时，  经常将“**贮**” 识别为 “**购**”。\r\n",
        "state": "closed",
        "user": "UDshadow",
        "closed_by": "WYB27",
        "created_at": "2021-06-24T05:44:23+00:00",
        "updated_at": "2025-06-30T07:16:16+00:00",
        "closed_at": "2025-06-30T07:16:16+00:00",
        "comments_count": [
            "nepeplwu",
            "D-DanielYang",
            "UDshadow"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1497,
        "title": "Windows10 CPU环境plato-mini运行不出结果直接退出没有报错信息",
        "body": "- 版本、环境信息:\r\n1）PaddleHub和PaddlePaddle版本：\r\n     (hubchat) D:\\paddle\\hub_test>pip freeze |findstr pad\r\n      paddle2onnx==0.6\r\n      paddlehub==2.1.0\r\n      paddlenlp==2.0.3\r\n      paddlepaddle==2.0.2\r\n2）系统环境：Windows10 Python3.7 使用workon hubchat 的虚拟环境pip install \r\n- 复现代码：\r\n# -*- coding: utf-8 -*-\r\n# @File  : chat.py\r\n# @Date  : 2021/6/23 16:54\r\n# 交互模式\r\nfrom collections import deque\r\nimport paddlehub as hub\r\nimport jieba\r\nmodel = hub.Module(name='plato-mini', version='1.0.0')\r\nmodel._interactive_mode = True\r\nmodel.max_turn = 10\r\nmodel.context = deque(maxlen=model.max_turn)\r\ndata = [[\"你是谁？\"], [\"你好啊。\", \"吃饭了吗？\", ]]\r\nresult = model.predict(\"hello\")\r\nprint(result)\r\n\r\n- 运行结果无报错却无结果\r\n(hubchat) D:\\paddle\\hub_test>python chats.py\r\n[2021-06-24 10:38:58,782] [    INFO] - Already cached C:\\Users\\pc\\.paddlenlp\\models\\plato-mini\\plato-mini.pdparams\r\n[2021-06-24 10:39:09,544] [    INFO] - Found C:\\Users\\pc\\.paddlenlp\\models\\plato-mini\\plato-mini-vocab.txt\r\n[2021-06-24 10:39:09,546] [    INFO] - Found C:\\Users\\pc\\.paddlenlp\\models\\plato-mini\\plato-mini-spm.model\r\nBuilding prefix dict from the default dictionary ...\r\n2021-06-24 10:39:09,687 - DEBUG - Building prefix dict from the default dictionary ...\r\nLoading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\n2021-06-24 10:39:09,691 - DEBUG - Loading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\nLoading model cost 0.689 seconds.\r\n2021-06-24 10:39:10,376 - DEBUG - Loading model cost 0.689 seconds.\r\nPrefix dict has been built successfully.\r\n2021-06-24 10:39:10,378 - DEBUG - Prefix dict has been built successfully.\r\n\r\n- 尝试调试但这一句调试直接导致程序退出，无法定位\r\n![image](https://user-images.githubusercontent.com/43203333/123209461-34a06380-d4f3-11eb-805e-f593bebb9cb8.png)\r\n\r\n",
        "state": "closed",
        "user": "xzkzdx",
        "closed_by": "KPatr1ck",
        "created_at": "2021-06-24T05:52:25+00:00",
        "updated_at": "2021-06-24T09:53:12+00:00",
        "closed_at": "2021-06-24T09:53:12+00:00",
        "comments_count": [
            "KPatr1ck",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1496,
        "title": "Windows10  CPU环境plato-mini运行不出结果直接退出没有报错信息",
        "body": "- 版本、环境信息:\r\n1）PaddleHub和PaddlePaddle版本：\r\n     (hubchat) D:\\paddle\\hub_test>pip freeze |findstr pad\r\n      paddle2onnx==0.6\r\n      paddlehub==2.1.0\r\n      paddlenlp==2.0.3\r\n      paddlepaddle==2.0.2\r\n2）系统环境：Windows10 Python3.7 使用workon hubchat 的虚拟环境pip install \r\n- 复现代码：\r\n# -*- coding: utf-8 -*-\r\n# @File  : chat.py\r\n# @Date  : 2021/6/23 16:54\r\n# 交互模式\r\nfrom collections import deque\r\nimport paddlehub as hub\r\nimport jieba\r\nmodel = hub.Module(name='plato-mini', version='1.0.0')\r\nmodel._interactive_mode = True\r\nmodel.max_turn = 10\r\nmodel.context = deque(maxlen=model.max_turn)\r\ndata = [[\"你是谁？\"], [\"你好啊。\", \"吃饭了吗？\", ]]\r\nresult = model.predict(\"hello\")\r\nprint(result)\r\n\r\n- 运行结果无报错却无结果\r\n(hubchat) D:\\paddle\\hub_test>python chats.py\r\n[2021-06-24 10:38:58,782] [    INFO] - Already cached C:\\Users\\pc\\.paddlenlp\\models\\plato-mini\\plato-mini.pdparams\r\n[2021-06-24 10:39:09,544] [    INFO] - Found C:\\Users\\pc\\.paddlenlp\\models\\plato-mini\\plato-mini-vocab.txt\r\n[2021-06-24 10:39:09,546] [    INFO] - Found C:\\Users\\pc\\.paddlenlp\\models\\plato-mini\\plato-mini-spm.model\r\nBuilding prefix dict from the default dictionary ...\r\n2021-06-24 10:39:09,687 - DEBUG - Building prefix dict from the default dictionary ...\r\nLoading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\n2021-06-24 10:39:09,691 - DEBUG - Loading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\nLoading model cost 0.689 seconds.\r\n2021-06-24 10:39:10,376 - DEBUG - Loading model cost 0.689 seconds.\r\nPrefix dict has been built successfully.\r\n2021-06-24 10:39:10,378 - DEBUG - Prefix dict has been built successfully.\r\n\r\n- 尝试调试但这一句调试直接导致程序退出，无法定位\r\n![image](https://user-images.githubusercontent.com/43203333/123209461-34a06380-d4f3-11eb-805e-f593bebb9cb8.png)\r\n\r\n",
        "state": "closed",
        "user": "xzkzdx",
        "closed_by": "WYB27",
        "created_at": "2021-06-24T05:51:51+00:00",
        "updated_at": "2025-06-30T07:16:14+00:00",
        "closed_at": "2025-06-30T07:16:14+00:00",
        "comments_count": [
            "KPatr1ck",
            "xzkzdx",
            "KPatr1ck",
            "xzkzdx",
            "xzkzdx",
            "chunzhang-hub",
            "xzkzdx",
            "xzkzdx",
            "KPatr1ck",
            "xzkzdx",
            "xzkzdx",
            "xzkzdx",
            "x931890193",
            "D-DanielYang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1499,
        "title": "Windows10 CPU环境plato-mini运行不出结果直接退出没有报错信息，请正视问题，不要拿不正确的测试环境敷衍搪塞",
        "body": "版本、环境信息:\r\n1）PaddleHub和PaddlePaddle版本：\r\n(hubchat) D:\\paddle\\hub_test>pip freeze |findstr pad\r\npaddle2onnx==0.6\r\npaddlehub==2.1.0\r\npaddlenlp==2.0.3\r\npaddlepaddle==2.0.2\r\n2）系统环境：Windows10 Python3.7 使用workon hubchat 的虚拟环境pip install\r\n复现代码：\r\n-- coding: utf-8 --\r\n@file : chat.py\r\n@Date : 2021/6/23 16:54\r\n交互模式\r\nfrom collections import deque\r\nimport paddlehub as hub\r\nimport jieba\r\nmodel = hub.Module(name='plato-mini', version='1.0.0')\r\nmodel._interactive_mode = True\r\nmodel.max_turn = 10\r\nmodel.context = deque(maxlen=model.max_turn)\r\ndata = [[\"你是谁？\"], [\"你好啊。\", \"吃饭了吗？\", ]]\r\nresult = model.predict(\"hello\")\r\nprint(result)\r\n\r\n运行结果无报错却无结果\r\n(hubchat) D:\\paddle\\hub_test>python chats.py\r\n[2021-06-24 10:38:58,782] [ INFO] - Already cached C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini.pdparams\r\n[2021-06-24 10:39:09,544] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-vocab.txt\r\n[2021-06-24 10:39:09,546] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-spm.model\r\nBuilding prefix dict from the default dictionary ...\r\n2021-06-24 10:39:09,687 - DEBUG - Building prefix dict from the default dictionary ...\r\nLoading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\n2021-06-24 10:39:09,691 - DEBUG - Loading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\nLoading model cost 0.689 seconds.\r\n2021-06-24 10:39:10,376 - DEBUG - Loading model cost 0.689 seconds.\r\nPrefix dict has been built successfully.\r\n2021-06-24 10:39:10,378 - DEBUG - Prefix dict has been built successfully.\r\n\r\n尝试调试但这一句调试直接导致程序退出\r\n![image](https://user-images.githubusercontent.com/43203333/123209461-34a06380-d4f3-11eb-805e-f593bebb9cb8.png)\r\n\r\n![image](https://user-images.githubusercontent.com/43203333/123235282-4d6a4280-d50e-11eb-912a-7ea47ea3e073.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "xzkzdx",
        "closed_by": "ZeyuChen",
        "created_at": "2021-06-24T09:09:06+00:00",
        "updated_at": "2021-06-24T09:25:04+00:00",
        "closed_at": "2021-06-24T09:25:04+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1500,
        "title": "Windows10 CPU环境plato-mini运行不出结果直接退出没有报错信息，请正视问题，不要拿不正确的测试环境敷衍搪塞",
        "body": "版本、环境信息:\r\n1）PaddleHub和PaddlePaddle版本：\r\n(hubchat) D:\\paddle\\hub_test>pip freeze |findstr pad\r\npaddle2onnx==0.6\r\npaddlehub==2.1.0\r\npaddlenlp==2.0.3\r\npaddlepaddle==2.0.2\r\n2）系统环境：Windows10 Python3.7 使用workon hubchat 的虚拟环境pip install\r\n复现代码：\r\n-- coding: utf-8 --\r\n@file : chat.py\r\n@Date : 2021/6/23 16:54\r\n交互模式\r\nfrom collections import deque\r\nimport paddlehub as hub\r\nimport jieba\r\nmodel = hub.Module(name='plato-mini', version='1.0.0')\r\nmodel._interactive_mode = True\r\nmodel.max_turn = 10\r\nmodel.context = deque(maxlen=model.max_turn)\r\ndata = [[\"你是谁？\"], [\"你好啊。\", \"吃饭了吗？\", ]]\r\nresult = model.predict(\"hello\")\r\nprint(result)\r\n\r\n运行结果无报错却无结果\r\n(hubchat) D:\\paddle\\hub_test>python chats.py\r\n[2021-06-24 10:38:58,782] [ INFO] - Already cached C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini.pdparams\r\n[2021-06-24 10:39:09,544] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-vocab.txt\r\n[2021-06-24 10:39:09,546] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-spm.model\r\nBuilding prefix dict from the default dictionary ...\r\n2021-06-24 10:39:09,687 - DEBUG - Building prefix dict from the default dictionary ...\r\nLoading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\n2021-06-24 10:39:09,691 - DEBUG - Loading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\nLoading model cost 0.689 seconds.\r\n2021-06-24 10:39:10,376 - DEBUG - Loading model cost 0.689 seconds.\r\nPrefix dict has been built successfully.\r\n2021-06-24 10:39:10,378 - DEBUG - Prefix dict has been built successfully.\r\n\r\n尝试调试但这一句调试直接导致程序退出\r\n![image](https://user-images.githubusercontent.com/43203333/123209461-34a06380-d4f3-11eb-805e-f593bebb9cb8.png)\r\n\r\n![image](https://user-images.githubusercontent.com/43203333/123235282-4d6a4280-d50e-11eb-912a-7ea47ea3e073.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "xzkzdx",
        "closed_by": "ZeyuChen",
        "created_at": "2021-06-24T09:09:31+00:00",
        "updated_at": "2021-06-24T09:25:05+00:00",
        "closed_at": "2021-06-24T09:25:05+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1498,
        "title": "Windows10 CPU环境plato-mini运行不出结果直接退出没有报错信息，请正视问题，不要拿不正确的测试环境敷衍搪塞",
        "body": "版本、环境信息:\r\n1）PaddleHub和PaddlePaddle版本：\r\n(hubchat) D:\\paddle\\hub_test>pip freeze |findstr pad\r\npaddle2onnx==0.6\r\npaddlehub==2.1.0\r\npaddlenlp==2.0.3\r\npaddlepaddle==2.0.2\r\n2）系统环境：Windows10 Python3.7 使用workon hubchat 的虚拟环境pip install\r\n复现代码：\r\n-- coding: utf-8 --\r\n@file : chat.py\r\n@Date : 2021/6/23 16:54\r\n交互模式\r\nfrom collections import deque\r\nimport paddlehub as hub\r\nimport jieba\r\nmodel = hub.Module(name='plato-mini', version='1.0.0')\r\nmodel._interactive_mode = True\r\nmodel.max_turn = 10\r\nmodel.context = deque(maxlen=model.max_turn)\r\ndata = [[\"你是谁？\"], [\"你好啊。\", \"吃饭了吗？\", ]]\r\nresult = model.predict(\"hello\")\r\nprint(result)\r\n\r\n运行结果无报错却无结果\r\n(hubchat) D:\\paddle\\hub_test>python chats.py\r\n[2021-06-24 10:38:58,782] [ INFO] - Already cached C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini.pdparams\r\n[2021-06-24 10:39:09,544] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-vocab.txt\r\n[2021-06-24 10:39:09,546] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-spm.model\r\nBuilding prefix dict from the default dictionary ...\r\n2021-06-24 10:39:09,687 - DEBUG - Building prefix dict from the default dictionary ...\r\nLoading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\n2021-06-24 10:39:09,691 - DEBUG - Loading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\nLoading model cost 0.689 seconds.\r\n2021-06-24 10:39:10,376 - DEBUG - Loading model cost 0.689 seconds.\r\nPrefix dict has been built successfully.\r\n2021-06-24 10:39:10,378 - DEBUG - Prefix dict has been built successfully.\r\n\r\n尝试调试但这一句调试直接导致程序退出\r\n![image](https://user-images.githubusercontent.com/43203333/123209461-34a06380-d4f3-11eb-805e-f593bebb9cb8.png)\r\n\r\n![image](https://user-images.githubusercontent.com/43203333/123235282-4d6a4280-d50e-11eb-912a-7ea47ea3e073.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "xzkzdx",
        "closed_by": "KPatr1ck",
        "created_at": "2021-06-24T09:05:05+00:00",
        "updated_at": "2021-06-24T09:06:40+00:00",
        "closed_at": "2021-06-24T09:06:39+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1502,
        "title": "Windows10 CPU环境plato-mini运行不出结果直接退出没有报错信息，请正视问题，不要拿不正确的测试环境敷衍搪塞",
        "body": "版本、环境信息:\r\n1）PaddleHub和PaddlePaddle版本：\r\n(hubchat) D:\\paddle\\hub_test>pip freeze |findstr pad\r\npaddle2onnx==0.6\r\npaddlehub==2.1.0\r\npaddlenlp==2.0.3\r\npaddlepaddle==2.0.2\r\n2）系统环境：Windows10 Python3.7 使用workon hubchat 的虚拟环境pip install\r\n复现代码：\r\n-- coding: utf-8 --\r\n@file : chat.py\r\n@Date : 2021/6/23 16:54\r\n交互模式\r\nfrom collections import deque\r\nimport paddlehub as hub\r\nimport jieba\r\nmodel = hub.Module(name='plato-mini', version='1.0.0')\r\nmodel._interactive_mode = True\r\nmodel.max_turn = 10\r\nmodel.context = deque(maxlen=model.max_turn)\r\ndata = [[\"你是谁？\"], [\"你好啊。\", \"吃饭了吗？\", ]]\r\nresult = model.predict(\"hello\")\r\nprint(result)\r\n\r\n运行结果无报错却无结果\r\n(hubchat) D:\\paddle\\hub_test>python chats.py\r\n[2021-06-24 10:38:58,782] [ INFO] - Already cached C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini.pdparams\r\n[2021-06-24 10:39:09,544] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-vocab.txt\r\n[2021-06-24 10:39:09,546] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-spm.model\r\nBuilding prefix dict from the default dictionary ...\r\n2021-06-24 10:39:09,687 - DEBUG - Building prefix dict from the default dictionary ...\r\nLoading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\n2021-06-24 10:39:09,691 - DEBUG - Loading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\nLoading model cost 0.689 seconds.\r\n2021-06-24 10:39:10,376 - DEBUG - Loading model cost 0.689 seconds.\r\nPrefix dict has been built successfully.\r\n2021-06-24 10:39:10,378 - DEBUG - Prefix dict has been built successfully.\r\n\r\n尝试调试但这一句调试直接导致程序退出\r\n![image](https://user-images.githubusercontent.com/43203333/123209461-34a06380-d4f3-11eb-805e-f593bebb9cb8.png)\r\n\r\n![image](https://user-images.githubusercontent.com/43203333/123235282-4d6a4280-d50e-11eb-912a-7ea47ea3e073.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "xzkzdx",
        "closed_by": "ZeyuChen",
        "created_at": "2021-06-24T09:10:08+00:00",
        "updated_at": "2021-06-24T09:25:05+00:00",
        "closed_at": "2021-06-24T09:25:05+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1501,
        "title": "Windows10 CPU环境plato-mini运行不出结果直接退出没有报错信息，请正视问题，不要拿不正确的测试环境敷衍搪塞",
        "body": "版本、环境信息:\r\n1）PaddleHub和PaddlePaddle版本：\r\n(hubchat) D:\\paddle\\hub_test>pip freeze |findstr pad\r\npaddle2onnx==0.6\r\npaddlehub==2.1.0\r\npaddlenlp==2.0.3\r\npaddlepaddle==2.0.2\r\n2）系统环境：Windows10 Python3.7 使用workon hubchat 的虚拟环境pip install\r\n复现代码：\r\n-- coding: utf-8 --\r\n@file : chat.py\r\n@Date : 2021/6/23 16:54\r\n交互模式\r\nfrom collections import deque\r\nimport paddlehub as hub\r\nimport jieba\r\nmodel = hub.Module(name='plato-mini', version='1.0.0')\r\nmodel._interactive_mode = True\r\nmodel.max_turn = 10\r\nmodel.context = deque(maxlen=model.max_turn)\r\ndata = [[\"你是谁？\"], [\"你好啊。\", \"吃饭了吗？\", ]]\r\nresult = model.predict(\"hello\")\r\nprint(result)\r\n\r\n运行结果无报错却无结果\r\n(hubchat) D:\\paddle\\hub_test>python chats.py\r\n[2021-06-24 10:38:58,782] [ INFO] - Already cached C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini.pdparams\r\n[2021-06-24 10:39:09,544] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-vocab.txt\r\n[2021-06-24 10:39:09,546] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-spm.model\r\nBuilding prefix dict from the default dictionary ...\r\n2021-06-24 10:39:09,687 - DEBUG - Building prefix dict from the default dictionary ...\r\nLoading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\n2021-06-24 10:39:09,691 - DEBUG - Loading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\nLoading model cost 0.689 seconds.\r\n2021-06-24 10:39:10,376 - DEBUG - Loading model cost 0.689 seconds.\r\nPrefix dict has been built successfully.\r\n2021-06-24 10:39:10,378 - DEBUG - Prefix dict has been built successfully.\r\n\r\n尝试调试但这一句调试直接导致程序退出\r\n![image](https://user-images.githubusercontent.com/43203333/123209461-34a06380-d4f3-11eb-805e-f593bebb9cb8.png)\r\n\r\n![image](https://user-images.githubusercontent.com/43203333/123235282-4d6a4280-d50e-11eb-912a-7ea47ea3e073.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "xzkzdx",
        "closed_by": "ZeyuChen",
        "created_at": "2021-06-24T09:09:49+00:00",
        "updated_at": "2021-06-24T09:25:05+00:00",
        "closed_at": "2021-06-24T09:25:05+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1503,
        "title": "Windows10 CPU环境plato-mini运行不出结果直接退出没有报错信息，请正视问题，不要拿不正确的测试环境敷衍搪塞",
        "body": "版本、环境信息:\r\n1）PaddleHub和PaddlePaddle版本：\r\n(hubchat) D:\\paddle\\hub_test>pip freeze |findstr pad\r\npaddle2onnx==0.6\r\npaddlehub==2.1.0\r\npaddlenlp==2.0.3\r\npaddlepaddle==2.0.2\r\n2）系统环境：Windows10 Python3.7 使用workon hubchat 的虚拟环境pip install\r\n复现代码：\r\n-- coding: utf-8 --\r\n@file : chat.py\r\n@Date : 2021/6/23 16:54\r\n交互模式\r\nfrom collections import deque\r\nimport paddlehub as hub\r\nimport jieba\r\nmodel = hub.Module(name='plato-mini', version='1.0.0')\r\nmodel._interactive_mode = True\r\nmodel.max_turn = 10\r\nmodel.context = deque(maxlen=model.max_turn)\r\ndata = [[\"你是谁？\"], [\"你好啊。\", \"吃饭了吗？\", ]]\r\nresult = model.predict(\"hello\")\r\nprint(result)\r\n\r\n运行结果无报错却无结果\r\n(hubchat) D:\\paddle\\hub_test>python chats.py\r\n[2021-06-24 10:38:58,782] [ INFO] - Already cached C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini.pdparams\r\n[2021-06-24 10:39:09,544] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-vocab.txt\r\n[2021-06-24 10:39:09,546] [ INFO] - Found C:\\Users\\pc.paddlenlp\\models\\plato-mini\\plato-mini-spm.model\r\nBuilding prefix dict from the default dictionary ...\r\n2021-06-24 10:39:09,687 - DEBUG - Building prefix dict from the default dictionary ...\r\nLoading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\n2021-06-24 10:39:09,691 - DEBUG - Loading model from cache C:\\Users\\pc\\AppData\\Local\\Temp\\jieba.cache\r\nLoading model cost 0.689 seconds.\r\n2021-06-24 10:39:10,376 - DEBUG - Loading model cost 0.689 seconds.\r\nPrefix dict has been built successfully.\r\n2021-06-24 10:39:10,378 - DEBUG - Prefix dict has been built successfully.\r\n\r\n尝试调试但这一句调试直接导致程序退出\r\n![image](https://user-images.githubusercontent.com/43203333/123209461-34a06380-d4f3-11eb-805e-f593bebb9cb8.png)\r\n\r\n![image](https://user-images.githubusercontent.com/43203333/123235282-4d6a4280-d50e-11eb-912a-7ea47ea3e073.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "xzkzdx",
        "closed_by": "ZeyuChen",
        "created_at": "2021-06-24T09:10:33+00:00",
        "updated_at": "2021-06-24T09:25:05+00:00",
        "closed_at": "2021-06-24T09:25:05+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1504,
        "title": "你好,关于风格迁移这块有一点疑惑",
        "body": " [参照教程](https://github.com/PaddlePaddle/PaddleHub/blob/release/v2.1/demo/style_transfer/README.md)\r\nfinetune的第四部很慢,GPU没有参与进来 这样正常吗\r\n代码用readme里的没有改动,添加了两句import \r\n\r\n- 版本、环境信息\r\n1）\r\npaddle2onnx                   0.6\r\npaddlehub                     2.1.0\r\npaddlenlp                     2.0.3\r\npaddlepaddle-gpu              2.1.0\r\n\r\n2）系统环境：\r\nUbuntu 18 \r\npython 3.7\r\n- 复现信息：\r\nstep4: 选择优化策略和运行配置 之后的日志信息\r\n\r\n\r\n[2021-06-24 20:28:15,045] [ WARNING] - PaddleHub model checkpoint not found, start from scratch...\r\nload pretrained vgg16 checkpoint success\r\n[2021-06-24 20:35:08,535] [   TRAIN] - Epoch=1/101, Step=10/501 loss=379440.7109 content gap=205422.5781 style gap=174018.1094 lr=0.000100 step/sec=0.02 | ETA 581:11:32",
        "state": "closed",
        "user": "Apokar",
        "closed_by": "Apokar",
        "created_at": "2021-06-24T12:40:34+00:00",
        "updated_at": "2021-06-25T01:41:11+00:00",
        "closed_at": "2021-06-25T01:41:10+00:00",
        "comments_count": [
            "Apokar"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1506,
        "title": "使用paddlehub微调分类任务，多分类任务，怎么增加一个“其他”类别让模型没见过的数据都分到其他类别上去呢",
        "body": "麻烦相关同学，帮忙看看这个Paddle下的issue\r\nhttps://github.com/PaddlePaddle/Paddle/issues/33773",
        "state": "closed",
        "user": "ForFishes",
        "closed_by": "KPatr1ck",
        "created_at": "2021-06-25T08:28:16+00:00",
        "updated_at": "2021-06-28T08:26:52+00:00",
        "closed_at": "2021-06-28T08:26:51+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1512,
        "title": "deepvoice3_ljspeech 安装失败",
        "body": "操作系统 ： macOS Big Sur 11.1\r\npython: 3.9\r\npaddle: 2.1\r\npaddlehub: 2.0.0-rc0 / 2.1.0 （两个版本都试过）\r\n\r\n\r\nhub install deepvoice3_ljspeech==1.0.0\r\n/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/pip/_vendor/packaging/version.py:127: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  warnings.warn(\r\n/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/pip/_vendor/packaging/version.py:127: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  warnings.warn(\r\n[2021-06-26 15:09:31,010] [ WARNING] - An error was encountered while loading deepvoice3_ljspeech. Detailed error information can be found in the /Users/zhouman/.paddlehub/log/20210626.log.\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/deepvoice3_ljspeech.tar.gz\r\n[##################################################] 100.00%\r\nDecompress /Users/zhouman/.paddlehub/tmp/tmp5nouko4o/deepvoice3_ljspeech.tar.gz\r\n[##################################################] 100.00%\r\n[2021-06-26 15:09:50,912] [    INFO] - Successfully uninstalled deepvoice3_ljspeech\r\nTraceback (most recent call last):\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/paddlehub/commands/utils.py\", line 69, in execute\r\n    return com['_entry']().execute(sys.argv[idx:])\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/paddlehub/commands/install.py\", line 44, in execute\r\n    manager.install(name=name, version=version)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 188, in install\r\n    return self._install_from_name(name, version)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 263, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 256, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 361, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 345, in _install_from_directory\r\n    hub_module_cls = HubModule.load(self._get_normalized_path(module_info.name))\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/paddlehub/module/module.py\", line 195, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/site-packages/paddlehub/utils/utils.py\", line 249, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 790, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/Users/zhouman/.paddlehub/modules/deepvoice3_ljspeech/module.py\", line 20, in <module>\r\n    import nltk\r\nModuleNotFoundError: No module named 'nltk'\r\n",
        "state": "closed",
        "user": "jurimengs",
        "closed_by": "jurimengs",
        "created_at": "2021-06-26T07:14:20+00:00",
        "updated_at": "2021-06-26T07:29:43+00:00",
        "closed_at": "2021-06-26T07:29:43+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1507,
        "title": "请问能否导出模型给Paddle-Inference（C++）使用？",
        "body": "使用openpose_body_estimation这个模型通过save_inference_model函数导出的只有model.pdparams这个权重文件，是否还需要一个网络结构文件才能被Paddle-Inference使用？\r\n",
        "state": "closed",
        "user": "a2824256",
        "closed_by": "WYB27",
        "created_at": "2021-06-25T09:46:21+00:00",
        "updated_at": "2025-06-30T07:16:09+00:00",
        "closed_at": "2025-06-30T07:16:09+00:00",
        "comments_count": [
            "haoyuying",
            "a2824256",
            "a2824256",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1505,
        "title": "paddlehub预训练模型ernie_gen进行finetune自定义的场景错误",
        "body": "# 项目环境aistudio自带paddle 2.0.2 环境:\r\npaddlehub==2.0.4\r\npaddlenlp==2.0.0rc7\r\npaddlepaddle-gpu==2.0.2.post101\r\ntb-paddle==0.3.6\r\n\r\n\r\n# 下载ernie_gen模型,进行自定数据训练\r\n\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"ernie_gen\")\r\n\r\nresult = module.finetune(\r\n    train_path='/home/aistudio/train.txt',\r\n    # dev_path='/home/aistudio/dev.txt',\r\n    save_dir=\"module_teacher\",\r\n    max_steps=600,\r\n    max_encode_len=200,\r\n    max_decode_len=200,\r\n    noise_prob=0.2,\r\n    batch_size=300,\r\n    log_interval=20\r\n)\r\n# 导出自定数据模型\r\nmodule.export(params_path=result['last_save_path'], module_name=\"my_teachers\", author=\"自定义模型\")\r\n\r\n# 安装自定义模型\r\n!hub install my_teachers\r\n\r\n# 运行模型预测\r\nimport paddlehub as hub\r\nimport os\r\n\r\nos.environ[\"CUDA_VISIBLE_DEVICES\"] =\"0\"\r\n\r\nmodule = hub.Module(name=\"my_teachers\")\r\n\r\ntest_texts = [\"老师\"]\r\n\r\nresults = module.generate(texts=test_texts, use_gpu=True, beam_width=5)\r\nfor result in results:\r\n    print(result)\r\n\r\n\r\n\r\n# 模型错误信息\r\n---------------------------------------------------------------------------ValueError Traceback (most recent call last)<ipython-input-6-515cef86addd> in <module> 2 3 ----> 4 senta_test = hub.Module(directory=\"/home/aistudio/data/my_teachers/\") 5 # senta_test.sentiment_classify(texts=[\"老师\"]) /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, version, source, update, branch, **kwargs) 173 CacheUpdater(\"update_cache\", module=name, version=version).start() 174 elif directory: --> 175 module = cls.init_with_directory(directory=directory, **kwargs) 176 CacheUpdater(\"update_cache\", module=directory, version=\"0.0.0\").start() 177 else: /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_directory(cls, directory, **kwargs) 293 ) 294 user_module = user_module_cls(directory=directory) --> 295 user_module._initialize(**kwargs) 296 return user_module 297 /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py in runner(*args, **kwargs) 218 def runner(*args, **kwargs): 219 with static_mode_guard(): --> 220 return func(*args, **kwargs) 221 222 return runner ~/data/my_teachers/module.py in _initialize(self) 45 assets_path = os.path.join(self.directory, \"assets\") 46 gen_checkpoint_path = os.path.join(assets_path, \"ernie_gen.pdparams\") ---> 47 self.model = ErnieForGeneration.from_pretrained(\"ernie-1.0\") 48 model_state = paddle.load(gen_checkpoint_path) 49 self.model.set_dict(model_state) /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/ernie_gen/modeling.py in from_pretrained(cls, pretrained_model_name_or_path, *args, **kwargs) 370 k) 371 m[k] = v # FIXME: no need to do this in the future --> 372 model.set_state_dict(m) 373 else: 374 raise ValueError('weight file not found in pretrain dir: %s' % /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py in wrapper(*args, **kwargs) 270 kwargs['state_dict'] = kwargs['stat_dict'] 271 kwargs.pop('stat_dict') --> 272 return func(*args, **kwargs) 273 274 return wrapper /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in set_state_dict(self, state_dict, include_sublayers, use_structured_name) 1331 global_scope(), executor) 1332 for param, state in matched_param_state: -> 1333 _set_var(param, state) 1334 1335 # [aliases] Compatible with old method names /opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in _set_var(var, ndarray) 1323 p.set_place(t._place()) 1324 place = core.CUDAPlace(p.gpu_device_id()) -> 1325 t.set(ndarray, place) 1326 1327 executor = Executor(_get_device())._default_executor ValueError: (InvalidArgument) Input object type error or incompatible array data type. tensor.set() supports array with bool, float16, float32, float64, int8, int16, int32, int64, uint8 or uint16, please check your input or input array data type. (at /paddle/paddle/fluid/pybind/tensor_py.h:355)\r\n\r\n\r\n# 命令行运行:\r\n!hub run my_teachers --input_text=\"老师\" --use_gpu True --beam_width 5\r\n\r\n\r\n#  错误信息:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:26: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  def convert_to_list(value, n, name, dtype=np.int):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/__init__.py:107: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import MutableMapping\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/rcsetup.py:20: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Iterable, Mapping\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/colors.py:53: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Sized\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/bin/hub\", line 10, in <module>\r\n    sys.exit(execute())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/run.py\", line 56, in execute\r\n    result = module._run_func(argv[1:])\r\nTypeError: 'property' object is not callable\r\n\r\n# 问题总结:\r\n### 尝试过paddle1.8 版本 训练数据 出现 paddle.nn 模块不存在的问题.\r\n### paddle2.0版本 安装自定义训练模型 并导入模型 总是报错: 命令行---TypeError: 'property' object is not callable  , 模块运行---ValueError:(InvalidArgument) Input object type error or incompatible array data type.",
        "state": "closed",
        "user": "M-Cavan",
        "closed_by": "WYB27",
        "created_at": "2021-06-24T13:30:51+00:00",
        "updated_at": "2025-06-30T07:16:12+00:00",
        "closed_at": "2025-06-30T07:16:12+00:00",
        "comments_count": [
            "KPatr1ck",
            "M-Cavan",
            "Tycoonman-ML",
            "KPatr1ck",
            "Tycoonman-ML"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1509,
        "title": "paddlehub.finetue.Trainer中checkpoint保存逻辑调整",
        "body": "paddlehub.finetue.Trainer中checkpoint保存逻辑调整\r\n1）PaddleHub 2.0及以上\r\n2）所有环境Linux/Windows/MacOS/，python 3\r\ncheckpoint保存判断现有逻辑有一些问题，比较难达到预期的指定步数保存，需要调整逻辑（代码第238行）\r\n",
        "state": "closed",
        "user": "XiaoqingWang",
        "closed_by": "XiaoqingWang",
        "created_at": "2021-06-25T15:00:58+00:00",
        "updated_at": "2021-06-29T03:08:27+00:00",
        "closed_at": "2021-06-29T03:08:27+00:00",
        "comments_count": [
            "XiaoqingWang",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1511,
        "title": "安装 chinese_ocr_db_crnn_server==1.1.2 提示成功了，但是却是安装 1.1.1 ",
        "body": "如题，安装 chinese_ocr_db_crnn_server==1.1.2 提示成功了，但是却是安装 1.1.1 ，导致每次启动的时候，都要重新下载1.1.2\r\n版本。\r\n\r\n\r\n![微信图片_20210626004623](https://user-images.githubusercontent.com/2811777/123458768-010b2980-d618-11eb-813c-881c0ba30ca1.png)\r\n",
        "state": "closed",
        "user": "kokorodo",
        "closed_by": "WYB27",
        "created_at": "2021-06-25T16:47:08+00:00",
        "updated_at": "2025-06-30T07:16:07+00:00",
        "closed_at": "2025-06-30T07:16:07+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1513,
        "title": "安装deepvoice3_ljspeech报错",
        "body": "macOS \r\npython 3.9\r\npaddle 2.1.0\r\npaddlehub 2.1.0\r\n\r\nhub install deepvoice3_ljspeech==1.0.0\r\n\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/Users/zhouman/.paddlehub/modules/deepvoice3_ljspeech/module.py\", line 59, in <module>\r\n    from parakeet.utils import io\r\n**ImportError: cannot import name 'io' from 'parakeet.utils' (/Users/zhouman/codes/github/Parakeet/parakeet/utils/__init__.py)**",
        "state": "closed",
        "user": "jurimengs",
        "closed_by": "WYB27",
        "created_at": "2021-06-26T13:11:10+00:00",
        "updated_at": "2025-06-30T07:16:05+00:00",
        "closed_at": "2025-06-30T07:16:05+00:00",
        "comments_count": [
            "jurimengs",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1514,
        "title": "AttributeError: 'ShufflenetHumanSeg' object has no attribute 'segmentation'",
        "body": "我在用这个教程里人像分割的案例，然后报标题的错误了，请问这个怎么解决呢？\r\n教程：https://paddlehub.readthedocs.io/zh_CN/release-v2.1/get_start/python_use_hub.html#id3",
        "state": "closed",
        "user": "LukeDev2K",
        "closed_by": "WYB27",
        "created_at": "2021-06-28T02:40:10+00:00",
        "updated_at": "2025-06-30T07:16:03+00:00",
        "closed_at": "2025-06-30T07:16:03+00:00",
        "comments_count": [
            "haoyuying",
            "LukeDev2K"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1515,
        "title": "使用paddlehub微调分类任务，多分类任务，怎么增加一个“其他”类别让模型没见过的数据都分到其他类别上去呢",
        "body": "我现在使用paddlehub 进行finetune，因为需要很高的召回和分类准确率，由于收集没见过的数据很难，于是想把未来没见过的数据分类到“其他”类别。想请问hub上有相关实现吗，或者paddle有相关的参考吗。谢谢~",
        "state": "closed",
        "user": "helen88",
        "closed_by": "WYB27",
        "created_at": "2021-06-25T02:42:43+00:00",
        "updated_at": "2025-06-30T07:16:11+00:00",
        "closed_at": "2025-06-30T07:16:10+00:00",
        "comments_count": [
            "paddle-bot-old[bot]",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1516,
        "title": "ace2p为啥没脖子 :(",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n\r\n一整串语意都有了，咋把脖子给丢了。。。\r\n有谁可以推荐一个比较好的皮肤分割模型吗?",
        "state": "closed",
        "user": "h3clikejava",
        "closed_by": "h3clikejava",
        "created_at": "2021-06-28T11:45:23+00:00",
        "updated_at": "2023-10-16T10:29:37+00:00",
        "closed_at": "2021-06-29T03:08:15+00:00",
        "comments_count": [
            "haoyuying",
            "ajiansoft"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1517,
        "title": "AttributeError: module 'paddle' has no attribute 'Tensor'",
        "body": "AnimeGAN动漫化模型一键应用实例教程中\r\n!pip install -U paddlehub==2.0.0b1 \r\n输出照片时出现\r\n---------------------------------------------------------------------------AttributeError                            Traceback (most recent call last)<ipython-input-11-9a85f7c12975> in <module>\r\n      2 \r\n      3 import cv2\r\n----> 4 import paddlehub as hub\r\n      5 \r\n      6 # 模型加载\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/__init__.py in <module>\r\n     22 from paddlehub import env\r\n     23 from paddlehub.config import config\r\n---> 24 from paddlehub import datasets\r\n     25 from paddlehub.finetune import Trainer\r\n     26 from paddlehub.utils import log, parser, utils\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/datasets/__init__.py in <module>\r\n     13 # limitations under the License.\r\n     14 \r\n---> 15 from paddlehub.datasets.canvas import Canvas\r\n     16 from paddlehub.datasets.flowers import Flowers\r\n     17 from paddlehub.datasets.minicoco import MiniCOCO\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/datasets/canvas.py in <module>\r\n     21 \r\n     22 import paddlehub.env as hubenv\r\n---> 23 from paddlehub.vision.utils import get_img_file\r\n     24 from paddlehub.utils.download import download_data\r\n     25 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/vision/utils.py in <module>\r\n    157 \r\n    158 \r\n--> 159 def subtract_imagenet_mean_batch(batch: paddle.Tensor) -> paddle.Tensor:\r\n    160     \"\"\"Subtract ImageNet mean pixel-wise from a BGR image.\"\"\"\r\n    161     mean = np.zeros(shape=batch.shape, dtype='float32')\r\nAttributeError: module 'paddle' has no attribute 'Tensor'",
        "state": "closed",
        "user": "woshixioahu",
        "closed_by": "woshixioahu",
        "created_at": "2021-06-29T06:35:55+00:00",
        "updated_at": "2021-07-01T09:04:22+00:00",
        "closed_at": "2021-07-01T09:04:22+00:00",
        "comments_count": [
            "haoyuying",
            "woshixioahu"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1518,
        "title": "paddlehub就一直安装报错啊 python3.6 paddlehub2.0",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "onlinehuazai",
        "closed_by": "WYB27",
        "created_at": "2021-07-01T07:21:59+00:00",
        "updated_at": "2025-06-30T07:16:01+00:00",
        "closed_at": "2025-06-30T07:16:01+00:00",
        "comments_count": [
            "haoyuying",
            "onlinehuazai",
            "haoyuying",
            "onlinehuazai",
            "haoyuying",
            "onlinehuazai",
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1519,
        "title": "显存问题",
        "body": "paddlepaddle-gpu==1.8.5.post97\r\npaddlehub==1.8.2\r\n\r\n在基于ernie==1.2.0序列标注任务的时候，通过gpu训练后，使用cpu方式启动的模型，在不使用gpu的情况下任然占用1G显存，请问是否有启用显存释放的api。",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-07-01T07:56:06+00:00",
        "updated_at": "2025-06-30T07:15:59+00:00",
        "closed_at": "2025-06-30T07:15:59+00:00",
        "comments_count": [
            "KPatr1ck",
            "suntao2015005848",
            "suntao2015005848",
            "suntao2015005848"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1520,
        "title": "运行deepvoice3_ljspeech示例代码时报错No module named 'paddle.io'",
        "body": "Windows10 系统\r\npython 3.8.7\r\nPaddlePaddle 1.8.5\r\nPaddleHub 1.8.0\r\n按照其他issue中的回答，parakeet安装的是v0.1分支\r\n\r\n运行代码就是deepvoice3_ljspeech中给出的示例代码\r\n**错误信息：**\r\nTraceback (most recent call last):\r\n  File \"C:/Users/辰昆/PycharmProjects/time/test.py\", line 5, in <module>\r\n    module = hub.Module(name=\"deepvoice3_ljspeech\")\r\n  File \"C:\\Users\\辰昆\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\paddlehub\\module\\module.py\", line 101, in __new__\r\n    module = cls.init_with_name(\r\n  File \"C:\\Users\\辰昆\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\paddlehub\\module\\module.py\", line 178, in init_with_name\r\n    return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n  File \"C:\\Users\\辰昆\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\paddlehub\\module\\module.py\", line 193, in init_with_directory\r\n    _module = importlib.import_module(\"{}.module\".format(basename))\r\n  File \"C:\\Users\\辰昆\\AppData\\Local\\Programs\\Python\\Python38\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 783, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"C:\\Users\\辰昆\\.paddlehub\\modules\\deepvoice3_ljspeech\\module.py\", line 59, in <module>\r\n    from parakeet.utils import io\r\n  File \"C:\\Users\\辰昆\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\parakeet\\__init__.py\", line 17, in <module>\r\n    from parakeet import audio, data, datasets, frontend, models, modules, training, utils\r\n  File \"C:\\Users\\辰昆\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\parakeet\\data\\__init__.py\", line 30, in <module>\r\n    from parakeet.data.dataset import *\r\n  File \"C:\\Users\\辰昆\\AppData\\Local\\Programs\\Python\\Python38\\lib\\site-packages\\parakeet\\data\\dataset.py\", line 17, in <module>\r\n    from paddle.io import Dataset\r\nModuleNotFoundError: No module named 'paddle.io'",
        "state": "closed",
        "user": "chenkun1029",
        "closed_by": "chenkun1029",
        "created_at": "2021-07-05T16:33:20+00:00",
        "updated_at": "2021-07-06T08:21:36+00:00",
        "closed_at": "2021-07-06T08:21:36+00:00",
        "comments_count": [
            "chenkun1029"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1523,
        "title": "关于hub serving部署应用后的跨域访问问题",
        "body": "有这样的需求,同域名下的不同端口服务需要访问hub serving部署的接口，但是存在跨域问题，请问在hub serving有什么办法处理？",
        "state": "closed",
        "user": "huangcao008",
        "closed_by": "huangcao008",
        "created_at": "2021-07-07T03:09:39+00:00",
        "updated_at": "2022-11-20T07:49:48+00:00",
        "closed_at": "2022-11-20T07:49:48+00:00",
        "comments_count": [
            "KPatr1ck",
            "huangcao008",
            "ghost",
            "shwanliu"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1525,
        "title": "如何自定义演示界面？",
        "body": "![image](https://user-images.githubusercontent.com/15188456/125018139-174cc700-e0a7-11eb-9c36-c425aea235cf.png)\r\n我看2.1.0版本上有这个东西，我可以自定义演示页面吗？如果可以应该怎么写这一块呢？",
        "state": "closed",
        "user": "yangy996",
        "closed_by": "WYB27",
        "created_at": "2021-07-09T03:17:35+00:00",
        "updated_at": "2025-06-30T07:15:55+00:00",
        "closed_at": "2025-06-30T07:15:55+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1524,
        "title": "Fine-tune保存的模型如何转化为一个PaddleHub Module",
        "body": "版本为PaddlePaddle2.1.0  Windows  python3.7\r\n\r\nFine-tune保存的模型如何转化为一个PaddleHub Module\r\n有1.8版本的教程：\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/release/v1.8/docs/tutorial/finetuned_model_to_module.md\r\n\r\n照那个操作问题很多，什么时候可以更新个高版本的教程？\r\n",
        "state": "closed",
        "user": "hchhtc123",
        "closed_by": "WYB27",
        "created_at": "2021-07-08T16:36:52+00:00",
        "updated_at": "2025-06-30T07:15:57+00:00",
        "closed_at": "2025-06-30T07:15:57+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1526,
        "title": "hub启动模型失败",
        "body": "paddlepaddle-gpu ==2.1.0\r\npaddlehub == 2.0.4\r\npaddlenlp == 2.0.1\r\n添加--use_gpu参数报:\r\n启动命令：hub serving start -m lac --port 6692 --use_gpu\r\n`/usr/local/python3/lib/python3.7/site-packages/setuptools/depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\n/usr/local/python3/lib/python3.7/site-packages/scipy/special/orthogonal.py:81: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  from numpy import (exp, inf, pi, sqrt, floor, sin, cos, around, int,\r\n/usr/local/python3/lib/python3.7/site-packages/scipy/linalg/__init__.py:217: DeprecationWarning: The module numpy.dual is deprecated.  Instead of using dual, use the functions directly from numpy or scipy.\r\n  from numpy.dual import register_func\r\n/usr/local/python3/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n/usr/local/python3/lib/python3.7/site-packages/pip/_vendor/packaging/version.py:130: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\n  DeprecationWarning,\r\n[2021-07-09 15:17:27 +0800] [44634] [INFO] Starting gunicorn 20.1.0\r\n[2021-07-09 15:17:27 +0800] [44634] [INFO] Listening at: http://0.0.0.0:6692 (44634)\r\n[2021-07-09 15:17:27 +0800] [44634] [INFO] Using worker: sync\r\n[2021-07-09 15:17:27 +0800] [44639] [INFO] Booting worker with pid: 44639\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/serving/worker.py\", line 24\r\n    def run_worker(modules_info: dict, gpu_index: int, addr: str):\r\n                               ^\r\nSyntaxError: invalid syntax`\r\n",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "suntao2015005848",
        "created_at": "2021-07-09T07:26:19+00:00",
        "updated_at": "2021-07-14T08:16:40+00:00",
        "closed_at": "2021-07-14T08:16:40+00:00",
        "comments_count": [
            "suntao2015005848",
            "suntao2015005848",
            "KPatr1ck",
            "suntao2015005848"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1527,
        "title": "升级paddlehub2.0的bug",
        "body": "在启动模型后 结果数据格式：\r\n`\r\n{\r\n    \"msg\": [\r\n        [\r\n            \"YH\\\\中国建设银行\",\r\n            \"FZR\\\\李大尔\"\r\n        ]\r\n    ],\r\n    \"results\": \"\",\r\n    \"status\": \"000\"\r\n}`\r\npaddlehub1.8的之前的数据格式都是结果放在results里的，\r\n`\r\n{\r\n    \"msg\": “”\r\n    \"results\":  [\r\n        [\r\n            \"YH\\\\中国建设银行\",\r\n            \"FZR\\\\李大尔\"\r\n        ]\r\n    ],\r\n    \"status\": \"000\"\r\n}`\r\n\r\n现在怎么改成成这样了，修改数据格式，导致之前项目所有的接口返回结果都得重新更改，请问在安装模型时候module.py里面可以更改此结果的结构吗？把结果放入results;",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-07-09T08:42:26+00:00",
        "updated_at": "2025-06-30T07:15:53+00:00",
        "closed_at": "2025-06-30T07:15:53+00:00",
        "comments_count": [
            "KPatr1ck",
            "suntao2015005848",
            "suntao2015005848",
            "KPatr1ck"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1528,
        "title": "PaddleHub加载ERNIE-GEN模型后，在预测阶段，是否可以调用有关评价指标的函数，比如想获得1-gram，2-gram等等信息，或者准确率等等，又或者如何量化生成的摘要和原来的摘要的好坏",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n![测试结果评价](https://user-images.githubusercontent.com/82364831/125382862-0ebb0000-e3c9-11eb-83ea-d06a2397037d.png)\r\n\r\n- 什么样的场景下需要该特性？\r\n模型测试集验证结果评价标准\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n还不知道\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n可能需要修改preduction相关代码，增加有关评价指标的函数，比如支持主流的ＲOUGE-1，ＲOUGE-2，ＲOUGE-L评价方案，或者想获得1-gram，2-gram等等信息，或者准确率等等\r\n- 如果可以的话，简要描述下您的解决方案\r\n可能需要修改preduction相关代码，增加有关评价指标的函数\r\n- 其他能想到的问题\r\n希望能够提供比较详实的PaddleHub的使用文档",
        "state": "closed",
        "user": "lqgeek1025",
        "closed_by": "WYB27",
        "created_at": "2021-07-13T03:05:20+00:00",
        "updated_at": "2025-06-30T07:15:51+00:00",
        "closed_at": "2025-06-30T07:15:51+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1530,
        "title": "hubsevering ocr ocr_system",
        "body": "你好，我在使用hubsevering的时候，使用ocr_system,修改module.py文件，有两个问题：\r\n\r\n1. 修改之后不生效，因为我在该文件顶部打印了东西，并且返回值的部分也打印了东西都不生效。\r\n\r\n\r\n2. 我单独运行module.py，会报一下错误：\r\nfrom paddlehub.common.logger import logger\r\nModuleNotFoundError: No module named 'paddlehub.common'，但是很神奇的是在运行hub serving start -m ocr_system时候没问题。。。说明根本没走改文件。\r\n\r\n\r\n3.当我换成python的logging时候又会报错为：\r\nAttributeError: 'OCRSystem' object has no attribute 'text_sys'\r\n我进去看了代码说\r\nAfter the 2.0.0rc version, paddle uses the dynamic graph mode by default, which will cause the\r\nexecution of the static graph model to fail, so compatibility protection is required.\r\n请问如何启动动态图\r\n\r\n\r\n4.总结\r\n我猜测是 sys.path.insert(0, \".\")没有生效，但是我又不知道该去哪里修改对应的内容。单独运行又会说没有AttributeError: 'OCRSystem' object has no attribute 'text_sys'，应该是路径制定不对，不知道为啥？\r\nps\r\n运行：\r\nhub serving start -m ocr_system 走cpu没问题返回了正常的预测结果，但是hub serving start -c config.json不行，关闭gpu才可以，我已经制定了gpu的卡了。\r\n\r\n系统环境\r\n1）\r\nhub.__version__ '2.1.0'\r\npaddle.__version__'2.1.1'\r\n2）linux，Python 3.7.10",
        "state": "closed",
        "user": "DiWang4data",
        "closed_by": "WYB27",
        "created_at": "2021-07-14T06:22:00+00:00",
        "updated_at": "2025-06-30T07:15:47+00:00",
        "closed_at": "2025-06-30T07:15:47+00:00",
        "comments_count": [
            "DiWang4data"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1529,
        "title": " 单机rtx3060 跑ERNIE，paddl和cuda换好多版本 都不行",
        "body": "https://aistudio.baidu.com/aistudio/projectdetail/1049443?channelType=0&channel=0\r\n\r\npaddlepaddle-gpu==2.1.1.post110  cuda=11.0  \r\n\r\nfluid.install_check.run_check()\r\n能过得去 ，但是执行具体代码\r\n\r\n```\r\nmodule = hub.Module(name=\"ernie_gen\")\r\n\r\nresult = module.finetune(\r\n    train_path='leave.txt',\r\n    save_dir=\"ernie_param\",\r\n)\r\n#os.environ[\"CUDA_VISIBLE_DEVICES\"] = '0'\r\n#device = paddle.set_device('gpu')\r\n# 将训练参数打包为hub model\r\nmodule.export(params_path=result['last_save_path'], module_name=\"ernie_leave\", author=\"\")\r\n```\r\n\r\n报这个： ValueError: (InvalidArgument) Tensor holds the wrong type, it holds int, but desires to be int64_t.\r\n\r\n```\r\nD:\\venv36\\paddle\\lib\\site-packages\\setuptools\\depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\n[2021-07-13 19:49:49,220] [    INFO] - Found C:\\Users\\yslio\\.paddlenlp\\models\\ernie-1.0\\vocab.txt\r\n[2021-07-13 19:49:49,234] [    INFO] - Already cached C:\\Users\\yslio\\.paddlenlp\\models\\ernie-1.0\\ernie_v1_chn_base.pdparams\r\n[2021-07-13 19:49:49,237] [   DEBUG] - init ErnieModel with config: {'attention_probs_dropout_prob': 0.1, 'hidden_act': 'relu', 'hidden_dropout_prob': 0.1, 'hidden_size': 768, 'initializer_range': 0.02, 'max_position_embeddings': 513, 'num_attention_heads': 12, 'num_hidden_layers': 12, 'type_vocab_size': 2, 'vocab_size': 18000, 'pad_token_id': 0}\r\nW0713 19:49:49.238672 21400 device_context.cc:404] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.1, Runtime API Version: 11.0\r\nW0713 19:49:49.245651 21400 device_context.cc:422] device: 0, cuDNN Version: 8.0.\r\n[2021-07-13 19:49:53,050] [    INFO] - loading pretrained model from C:\\Users\\yslio\\.paddlenlp\\models\\ernie-1.0\\ernie_v1_chn_base.pdparams\r\n[2021-07-13 19:49:53,674] [    INFO] - param:mlm_bias not set in pretrained model, skip\r\n[2021-07-13 19:49:53,676] [    INFO] - param:mlm.weight not set in pretrained model, skip\r\n[2021-07-13 19:49:53,677] [    INFO] - param:mlm.bias not set in pretrained model, skip\r\n[2021-07-13 19:49:53,677] [    INFO] - param:mlm_ln.weight not set in pretrained model, skip\r\n[2021-07-13 19:49:53,677] [    INFO] - param:mlm_ln.bias not set in pretrained model, skip\r\nTraceback (most recent call last):\r\n  File \"1.py\", line 13, in <module>\r\n    save_dir=\"ernie_param\",\r\n  File \"D:\\venv36\\paddle\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\yslio\\.paddlehub\\modules\\ernie_gen\\module.py\", line 183, in finetune\r\n    mask_tgt_2_srctgt, mask_attn_2_srctgtattn, tgt_labels, tgt_pos)\r\n  File \"D:\\venv36\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 902, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"C:\\Users\\yslio\\.paddlehub\\modules\\ernie_gen\\model.py\", line 48, in forward\r\n    tgt_pos=tgt_pos)\r\n  File \"D:\\venv36\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 902, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\venv36\\paddle\\lib\\site-packages\\paddlenlp\\transformers\\ernie_gen\\modeling.py\", line 614, in forward\r\n    soft_label=(tgt_labels.shape[-1] != 1))\r\n  File \"D:\\venv36\\paddle\\lib\\site-packages\\paddle\\nn\\functional\\loss.py\", line 1392, in cross_entropy\r\n    'use_softmax', use_softmax)\r\nValueError: (InvalidArgument) Tensor holds the wrong type, it holds int, but desires to be int64_t.\r\n  [Hint: Expected valid == true, but received valid:0 != true:1.] (at C:\\home\\workspace\\Paddle_release1\\paddle/fluid/framework/tensor_impl.h:33)\r\n  [operator < softmax_with_cross_entropy > error]\r\n```\r\n\r\n\r\n换成 \r\npaddlepaddle-gpu==2.1.1.post101   cuda=10.1 \r\n\r\nfluid.install_check.run_check()\r\n就一直卡在这  几十分钟不动\r\n```\r\nD:\\venv36\\paddle\\lib\\site-packages\\setuptools\\depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\nRunning Verify Fluid Program ...\r\nW0713 19:48:13.684360 20632 device_context.cc:404] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.1, Runtime API Version: 11.0\r\nW0713 19:48:13.747206 20632 device_context.cc:422] device: 0, cuDNN Version: 8.0.\r\n```\r\n\r\n\r\n \r\n",
        "state": "closed",
        "user": "yslion",
        "closed_by": "WYB27",
        "created_at": "2021-07-13T12:05:39+00:00",
        "updated_at": "2025-06-30T07:15:49+00:00",
        "closed_at": "2025-06-30T07:15:49+00:00",
        "comments_count": [
            "paddle-bot-old[bot]",
            "yslion",
            "yslion",
            "KPatr1ck",
            "yslion"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1531,
        "title": "升级paddlehub2.0后序列标注任务显存翻倍问题：",
        "body": "目前的环境是：\r\npython 3.7.5\r\ncuda10.1\r\ncudnn7.6.5\r\npaddlepaddle gpu 2.1.0.post101\r\npaddlenlp 2.0.1\r\n\r\n碰到一个问题，之前的paddlehub我用的是1.8.5的，一个序列标的任务启动后显存占用大概是2g，后面升级到paddlehub 是2.0.4，但是同样的一个序列标注任务启动后显存竟然达到了8个G。翻了大概4倍。\r\n\r\n这个问题困扰良久，希望解惑。\r\n\r\n这是预测代码\r\n```\r\nimport paddlehub as hub\r\nfrom paddlehub.module.module import moduleinfo, serving\r\nimport logging\r\n\r\nimport paddle\r\n\r\n# 加载模型的路径参数\r\n\r\nLOAD_CHECKPOINT = '/home/suntao_test/v2_nlp_es003/nlp_mod_003/best_model/model.pdparams'\r\nlabel_list = ['B-BG', 'I-BG', 'B-QT', 'I-QT', 'B-JY', 'I-JY', 'B-QK', 'I-QK', 'B-SY', 'I-SY', 'B-JHL', 'I-JHL', 'B-RF', 'I-RF', 'B-JX', 'I-JX', 'B-CS', 'I-CS', 'B-GS', 'I-GS', 'B-ZY', 'I-ZY', 'B-SZ', 'I-SZ', 'B-WZ', 'I-WZ', 'B-F', 'I-F', 'B-JD', 'I-JD', 'O']\r\n\r\nlabel_map = {idx: label for idx, label in enumerate(label_list)}\r\nsplit_char = ' '\r\nmax_seq_len = 256\r\n\r\n\r\n@moduleinfo(name=\"nlp_zjgjz\",\r\n            version=\"2.0.0\",\r\n            summary=\"危险驾驶罪案件关键字抽取\",\r\n            author=\"sun_tao\",\r\n            author_email=\"http://eastsoft.com.cn\",\r\n            type=\"nlp/es003\")\r\nclass ESNLPMOD(hub.Module):\r\n    logging.basicConfig(level=logging.INFO)\r\n    logging.info('开始加载模型')\r\n    model = hub.Module(\r\n        name='ernie',\r\n        task='token-cls',\r\n        load_checkpoint=LOAD_CHECKPOINT,\r\n        label_map=label_map\r\n    )\r\n    def parse_chunk_labels(self, text, labels):\r\n        res = \"\"\r\n        p_res = \"\"\r\n        labels = labels[1:len(text) + 1]\r\n\r\n        lastIsO = True\r\n        for tObj, lObj in zip(text, labels):\r\n            p_res += \"{}--{}||\".format(tObj, lObj)\r\n            if lObj == \"O\":\r\n                lastIsO = True\r\n                continue\r\n            if lObj.startswith('B-'):\r\n                lastIsO = False\r\n                res += '*--*' + lObj.split('-')[1] + '\\\\' + tObj\r\n            elif lObj.startswith('I-'):\r\n                if lastIsO:\r\n                    lastIsO = False\r\n                    res += '*--*' + lObj.split('-')[1] + '\\\\' + tObj\r\n                else:\r\n                    res += tObj\r\n\r\n        res = res.split('*--*')\r\n        res = [item for item in res if item != \"\"]\r\n        return res\r\n\r\n    def predict(self, texts, use_gpu):\r\n        paddle.disable_static()\r\n        data = [\r\n            [split_char.join(text)] for text in texts\r\n        ]\r\n        results = self.model.predict(data, max_seq_len=max_seq_len, batch_size=16, use_gpu=use_gpu)\r\n        return results\r\n\r\n    @serving\r\n    def serving_method(self, data, use_gpu=False):\r\n        finalres = []\r\n        results = self.predict(data, use_gpu)\r\n        for idx, text in enumerate(data):\r\n            labels = results[idx]\r\n            finalres.append(self.parse_chunk_labels(text, labels))\r\n        return finalres\r\n\r\n    res = ESNLPMOD()\r\n\r\n\r\n```\r\n这是训练代码：\r\n```\r\nimport paddlehub as hub\r\nfrom paddlehub.datasets.base_nlp_dataset import SeqLabelingDataset\r\nfrom paddlehub.module.module import moduleinfo\r\nimport logging\r\n\r\n\r\n\r\nimport paddle\r\n\r\n# 检查模型存放位置的从参数\r\nCHECKPOINT_DIR = '/home/suntao_test/v2_nlp_es002'\r\n\r\n# 存放数据的路径\r\nBASE_DATA_PATH = '/home/suntao_test/v2_nlp_es002/data'\r\n\r\nlabel_list = ['B-YH', 'I-YH', 'B-BG', 'I-BG', 'B-FZR', 'I-FZR', 'B-BJ', 'I-BJ', 'B-ET', 'I-ET', 'B-ZJ', 'I-ZJ', 'B-SBJ',\r\n              'I-SBJ', 'B-SET', 'I-SET', 'B-SZJ', 'I-SZJ', 'B-SSF', 'I-SSF', 'B-XYK', 'I-XYK', 'B-KH', 'I-KH', 'B-FY',\r\n              'I-FY', 'B-QST', 'I-QST', 'B-KT', 'I-KT', 'O']\r\nlabel_map = {idx: label for idx, label in enumerate(label_list)}\r\nsplit_char = ' '\r\nmax_seq_len = 512\r\n\r\n\r\nclass MyDataset(SeqLabelingDataset):\r\n    # 数据集存放目录\r\n\r\n    # 数据文件使用的分隔符\r\n    def __init__(self, tokenizer, max_seq_len: int = 128, mode: str = 'train'):\r\n        if mode == 'train':\r\n            data_file = 'train.txt'\r\n        elif mode == 'test':\r\n            data_file = 'test.txt'\r\n        else:\r\n            data_file = 'dev.txt'\r\n        super().__init__(\r\n            base_path=BASE_DATA_PATH,\r\n            tokenizer=tokenizer,\r\n            max_seq_len=max_seq_len,\r\n            mode=mode,\r\n            data_file=data_file,\r\n            label_file=None,\r\n            label_list=label_list,\r\n            split_char=split_char,\r\n            is_file_with_header=True)\r\n\r\n\r\n@moduleinfo(name=\"NLP_ES002\",\r\n            version=\"2.0.0\",\r\n            summary=\"\",\r\n            author=\"\",\r\n            author_email=\"\",\r\n            type=\"nlp/es002\")\r\nclass ESNLPMOD(hub.Module):\r\n    def __init__(self):\r\n            logging.info('训练准备阶段')\r\n            self.model = hub.Module(\r\n                name='ernie',\r\n                task='token-cls',\r\n                label_map=label_map\r\n            )\r\n            tokenizer = self.model.get_tokenizer()\r\n            # 获取数据集\r\n            train_dataset = MyDataset(tokenizer=tokenizer, max_seq_len=max_seq_len, mode='train')\r\n            dev_dataset = MyDataset(tokenizer=tokenizer, max_seq_len=max_seq_len, mode='dev')\r\n            test_dataset = MyDataset(tokenizer=tokenizer, max_seq_len=max_seq_len, mode='test')\r\n            # 优化器的选择和参数配置\r\n            optimizer = paddle.optimizer.Adam(learning_rate=5e-5, parameters=self.model.parameters())\r\n            # fine-tune任务的执行者\r\n            trainer = hub.Trainer(self.model, optimizer, checkpoint_dir=CHECKPOINT_DIR,\r\n                                  use_gpu=True)\r\n            # 配置训练参数，启动训练，并指定验证集\r\n            trainer.train(train_dataset, epochs=15, batch_size=16, eval_dataset=dev_dataset, save_interval=3)\r\n            # 在测试集上评估当前训练模型W\r\n            trainer.evaluate(test_dataset, batch_size=16)\r\n\r\nif __name__ == '__main__':\r\n    ESNLPMOD()\r\n```\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "suntao2015005848",
        "created_at": "2021-07-14T08:45:21+00:00",
        "updated_at": "2021-09-02T06:25:57+00:00",
        "closed_at": "2021-09-02T06:25:57+00:00",
        "comments_count": [
            "suntao2015005848",
            "KPatr1ck",
            "suntao2015005848",
            "suntao2015005848",
            "KPatr1ck",
            "suntao2015005848",
            "KPatr1ck",
            "suntao2015005848",
            "KPatr1ck",
            "suntao2015005848"
        ],
        "labels": [
            "serving",
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1533,
        "title": "POST请求返回msg: \"Please check data format\"",
        "body": "分割线\r\n***\r\n\r\n\r\n问题其实已经解决了，`texts` 当中的数据需要用列表而不是字符串，即使是一个字符也是。昨天折腾了很久才发现。刚才我想重新测试发错误信息的时候，它又报了类似的错误 `{msg: \"The input data is inconsistent with expectations.\", results: \"\", status: \"101\"}` ，他们的 `msg` 都意味着预测的数据和PaddleHub要求的输入数据不匹配。**希望**PaddleHub文档能参考 [百度智能云 > 文字识别 > API文档 > 错误码](https://cloud.baidu.com/doc/OCR/s/dk3h7y5vr) 中错误信息的描述来解释错误信息，**salute**！\r\n\r\n***\r\n\r\n在微信小程序调用hub模型时报错，返回的数据为 {msg: \"Please check data format!\", results: \"\", status: \"-1\"} （下图是第二次截取的）\r\n\r\n![image](https://user-images.githubusercontent.com/45918719/125715624-5343e900-30f8-4c6f-aa64-63d930080758.png)\r\n\r\n我根据文档中的数据格式 `data = json.dumps(data)` 在JS中对 `data` 进行了相同的更改（`data = JSON.stringify(data)`），可是得到了 **Please check data format** 的错误信息\r\n\r\nPaddleHub文档中没有对 msg 中的响应消息进行解释，于是无法判断究竟需要传递怎样的数据",
        "state": "closed",
        "user": "shaunhurryup",
        "closed_by": "WYB27",
        "created_at": "2021-07-14T16:48:29+00:00",
        "updated_at": "2025-06-30T07:15:45+00:00",
        "closed_at": "2025-06-30T07:15:45+00:00",
        "comments_count": [
            "haoyuying",
            "shaunhurryup",
            "shaunhurryup",
            "KPatr1ck",
            "shaunhurryup"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1535,
        "title": "关于hub.exe命令行",
        "body": "以 hub version命令为例\r\nhub.exe调用utils中的execute函数，执行VersionCommand的execute函数。\r\n想请问，输入命令后 hub.exe自动调用utils中的execute函数执行相关命令  这一步是怎么实现的？在源码中没有找到实现方法~~~真心求教\r\n",
        "state": "closed",
        "user": "Give-me-yasoo",
        "closed_by": "WYB27",
        "created_at": "2021-07-15T09:06:57+00:00",
        "updated_at": "2025-06-30T07:15:41+00:00",
        "closed_at": "2025-06-30T07:15:41+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1534,
        "title": "hub list为什么会覆盖，只显示两呢？",
        "body": "![image](https://user-images.githubusercontent.com/49387197/125754772-17eb74af-3d43-4a5d-9e0b-5e467e6c7f7e.png)\r\n\r\npaddlehub根路径的modules下显示有5个：\r\n![image](https://user-images.githubusercontent.com/49387197/125759957-4cd08e23-1ff3-4c4c-b503-3d69fe38985e.png)\r\n",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-07-15T08:24:57+00:00",
        "updated_at": "2025-06-30T07:15:43+00:00",
        "closed_at": "2025-06-30T07:15:43+00:00",
        "comments_count": [
            "KPatr1ck",
            "suntao2015005848",
            "suntao2015005848",
            "suntao2015005848"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1536,
        "title": "用flask+gunicorn启动服务，调用paddleHub的gpu版模型 报错??",
        "body": "1）版本、环境信息：\r\npaddlehub 1.5.4\r\npaddlepaddle-gpu 1.7.0.post107\r\n3）V100\r\nNVIDIA-SMI 410.79       Driver Version: 410.79       CUDA Version: 10.0\r\n4）拉取docker镜像\r\nFROM hub.baidubce.com/paddlepaddle/paddle:1.7.0-gpu-cuda10.0-cudnn7\r\n使用镜像里的python3.6\r\n\r\n\r\n用单worker的flask启动，可以调用正常gpu版的paddlehub\r\n用单worker的flask+gunicorn启动，请求时报错。\r\n\r\ngunicorn的配置：\r\nworker_class = \"gevent\"\r\n\r\nflask：\r\n```\r\nimport json\r\nimport paddlehub as hub\r\n@app.route('/query_lexical_analysis', methods=['GET', 'POST'])\r\ndef query_lexical_analysis():\r\n    # test\r\n    querys = ''.join('大通草和小通草哪个好'.split())\r\n\r\n    module = hub.Module(name=\"lac\")\r\n    text = {\"text\": querys}\r\n    results = module.lexical_analysis(data=text, use_gpu=True, batch_size=10)\r\n    print(results)\r\n    return jsonify(results)\r\n```\r\n\r\n\r\n\r\n报错如下：\r\n```\r\n[2020-03-11 14:19:03,324] [    INFO] - Installing lac module\r\n[2020-03-11 14:19:03,326] [    INFO] - Module lac already installed in /root/.paddlehub/modules/lac\r\n[2020-03-11 14:19:03,418] [    INFO] - 20 pretrained paramaters loaded by PaddleHub\r\nW0311 14:19:03.420081  2719 init.cc:209] Warning: PaddlePaddle catches a failure signal, it may not work properly\r\nW0311 14:19:03.420120  2719 init.cc:211] You could check whether you killed PaddlePaddle thread/process accidentally or report the case to PaddlePaddle\r\nW0311 14:19:03.420137  2719 init.cc:214] The detail failure signal is:\r\n\r\nW0311 14:19:03.420143  2719 init.cc:217] *** Aborted at 1583907543 (unix time) try \"date -d @1583907543\" if you are using GNU date ***\r\nW0311 14:19:03.422354  2719 init.cc:217] PC: @                0x0 (unknown)\r\nW0311 14:19:03.422427  2719 init.cc:217] *** SIGSEGV (@0x0) received by PID 2719 (TID 0x7f786850f700) from PID 0; stack trace: ***\r\nW0311 14:19:03.424427  2719 init.cc:217]     @     0x7f7867bbf390 (unknown)\r\nW0311 14:19:03.425480  2719 init.cc:217]     @     0x7f784334fccb (unknown)\r\nW0311 14:19:03.426463  2719 init.cc:217]     @     0x7f7843351668 _Unwind_Backtrace\r\nW0311 14:19:03.428413  2719 init.cc:217]     @     0x7f78678f9b4f backtrace\r\nW0311 14:19:03.431886  2719 init.cc:217]     @     0x7f77fd0ed274 paddle::platform::GetTraceBackString<>()\r\nW0311 14:19:03.434432  2719 init.cc:217]     @     0x7f77fd0ed72a paddle::platform::EnforceNotMet::EnforceNotMet()\r\nW0311 14:19:03.438936  2719 init.cc:217]     @     0x7f77ffe1d996 paddle::platform::SetDeviceId()\r\nW0311 14:19:03.440912  2719 init.cc:217]     @     0x7f7867bbca99 __pthread_once_slow\r\nW0311 14:19:03.443886  2719 init.cc:217]     @     0x7f77ffe03a59 paddle::memory::allocation::CUDAAllocator::AllocateImpl()\r\nW0311 14:19:03.449098  2719 init.cc:217]     @     0x7f77ffe23d32 paddle::memory::allocation::AlignedAllocator::AllocateImpl()\r\nW0311 14:19:03.456087  2719 init.cc:217]     @     0x7f77ffe221f1 paddle::memory::allocation::AutoGrowthBestFitAllocator::AllocateImpl()\r\nW0311 14:19:03.460073  2719 init.cc:217]     @     0x7f77ffe0546b paddle::memory::allocation::RetryAllocator::AllocateImpl()\r\nW0311 14:19:03.463320  2719 init.cc:217]     @     0x7f77ffdffa63 paddle::memory::allocation::AllocatorFacade::Alloc()\r\nW0311 14:19:03.467958  2719 init.cc:217]     @     0x7f77ffdffcfe paddle::memory::allocation::AllocatorFacade::AllocShared()\r\nW0311 14:19:03.470901  2719 init.cc:217]     @     0x7f77ffdff47c paddle::memory::AllocShared()\r\nW0311 14:19:03.474262  2719 init.cc:217]     @     0x7f77ffdeb8d2 paddle::framework::Tensor::mutable_data()\r\nW0311 14:19:03.476459  2719 init.cc:217]     @     0x7f77fd1ad183 paddle::pybind::SetTensorFromPyArrayT<>()\r\nW0311 14:19:03.478613  2719 init.cc:217]     @     0x7f77fd1b83e5 paddle::pybind::SetTensorFromPyArray<>()\r\nW0311 14:19:03.480762  2719 init.cc:217]     @     0x7f77fd122bfa _ZZN8pybind1112cpp_function10initializeIRPFvPN6paddle9framework6TensorERKNS_6objectERKNS2_8platform9CUDAPlaceEbEvIS5_S8_SC_bEINS_4nameENS_9is_methodENS_7siblingENS_3argESJ_NS_5arg_vEEEEvOT_PFT0_DpT1_EDpRKT2_ENUlRNS_6detail13function_callEE1_4_FUNESY_\r\nW0311 14:19:03.482812  2719 init.cc:217]     @     0x7f77fd12cfc1 pybind11::cpp_function::dispatcher()\r\nW0311 14:19:03.485262  2719 init.cc:217]     @     0x7f7867e99d86 _PyCFunction_FastCallDict\r\nW0311 14:19:03.487357  2719 init.cc:217]     @     0x7f7867f2ccc8 call_function\r\nW0311 14:19:03.489573  2719 init.cc:217]     @     0x7f7867f30c47 _PyEval_EvalFrameDefault\r\nW0311 14:19:03.491575  2719 init.cc:217]     @     0x7f7867f2c1d0 _PyFunction_FastCall\r\nW0311 14:19:03.493618  2719 init.cc:217]     @     0x7f7867f2d0fd call_function\r\nW0311 14:19:03.496006  2719 init.cc:217]     @     0x7f7867f30c47 _PyEval_EvalFrameDefault\r\nW0311 14:19:03.498075  2719 init.cc:217]     @     0x7f7867f2c1d0 _PyFunction_FastCall\r\nW0311 14:19:03.500082  2719 init.cc:217]     @     0x7f7867f2d0fd call_function\r\nW0311 14:19:03.502377  2719 init.cc:217]     @     0x7f7867f30c47 _PyEval_EvalFrameDefault\r\nW0311 14:19:03.504413  2719 init.cc:217]     @     0x7f7867f2cb64 _PyEval_EvalCodeWithName\r\nW0311 14:19:03.506582  2719 init.cc:217]     @     0x7f7867f351d6 _PyFunction_FastCallDict\r\nW0311 14:19:03.508745  2719 init.cc:217]     @     0x7f7867e3e536 _PyObject_FastCallDict\r\n```",
        "state": "closed",
        "user": "waywaywayw",
        "closed_by": "paddle-bot-old[bot]",
        "created_at": "2020-03-11T07:36:12+00:00",
        "updated_at": "2022-11-09T09:37:31+00:00",
        "closed_at": "2021-07-15T16:13:56+00:00",
        "comments_count": [
            "nepeplwu",
            "paddle-bot-old[bot]",
            "HeWeiWang",
            "yangy996",
            "patrick0827",
            "JKwanghao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1539,
        "title": "serving http_server 返回的结果在msg中而不是result中",
        "body": "在使用hub serving时，返回的预测结果在msg字段中，之前都是在result中。\r\n错误出现在以下代码段：\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/f743bf9a3aecaf169bf60d63049b33ff50355495/paddlehub/serving/http_server.py#L133\r\n在这段方法中，package_result方法传参位置错误，导致预测结果到了msg中。\r\n错误的具体位置：\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/f743bf9a3aecaf169bf60d63049b33ff50355495/paddlehub/serving/http_server.py#L146\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/f743bf9a3aecaf169bf60d63049b33ff50355495/paddlehub/serving/http_server.py#L151\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/f743bf9a3aecaf169bf60d63049b33ff50355495/paddlehub/serving/http_server.py#L159",
        "state": "closed",
        "user": "no7wan7",
        "closed_by": "no7wan7",
        "created_at": "2021-07-20T02:32:17+00:00",
        "updated_at": "2021-07-21T01:17:07+00:00",
        "closed_at": "2021-07-21T01:17:07+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1537,
        "title": "关于NX板上ping不通Windows上的hub服务器问题",
        "body": "**一、NX板**\r\nubuntu18.04\r\npaddlehub==2.1.0\r\npaddlepaddle-gpu==2.1.1（虚拟环境无paddlepaddle，本地环境有paddlepaddle==2.1.0）\r\npython==3.6.9\r\n\r\n**二、Windows**\r\nWin10\r\npaddlehub==2.1.0\r\npaddlepaddle==2.1.0\r\npaddlepaddle-gpu==2.1.1\r\npython==3.7.10\r\n\r\n**三、问题描述**\r\n实现流程：\r\n①将Windows和NX板放在同一局域网下\r\n②NX板可以ping通Windows的同一局域网WLAN的IPV4地址，但是ping不通本地IP，NX板可以ping通www.baidu.com，Windows也可以上网\r\n③Windows和NX板都用paddlehub部署了识别模型\r\n④Windows和NX板都启动服务hub serving start -m model\r\n⑤Windows下可以ping通NX板上的hub服务器ip地址\r\n**问题：**\r\nNX板上ping不通Windows上的hub服务器IP地址",
        "state": "closed",
        "user": "smallwhi",
        "closed_by": "WYB27",
        "created_at": "2021-07-16T13:44:44+00:00",
        "updated_at": "2025-06-30T07:15:39+00:00",
        "closed_at": "2025-06-30T07:15:39+00:00",
        "comments_count": [
            "KPatr1ck",
            "smallwhi"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1541,
        "title": "通过hub serving start启动PaddleHub Serving 与训练模型，能否多个模型推理用同一个端口8866",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n能否多个模型进行推理用同一个端口8866\r\n- 什么样的场景下需要该特性？\r\n能否多个模型进行推理用同一个端口8866\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n能否多个模型进行推理用同一个端口8866\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "zhujiebing",
        "closed_by": "WYB27",
        "created_at": "2021-07-21T03:08:35+00:00",
        "updated_at": "2025-06-30T07:15:37+00:00",
        "closed_at": "2025-06-30T07:15:37+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1543,
        "title": "运行官方给的代码(https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.8/demo/senta/senta_finetune.py  )  结果报错",
        "body": "\r\n1）PaddleHub1.8.0，PaddlePaddle1.8.0\r\n2）Windows10 python3.7\r\n运行官方给的代码(https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.8/demo/senta/senta_finetune.py  )  \r\n\r\n报错如下\r\n￼ File \"d:\\work\\0713\\Sent_train_eval.py\", line 175, in <module>\r\n  cls_task.finetune_and_eval()\r\nFile \"C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 945, in finetune_and_eval\r\n  return self.finetune(do_eval=True)#2\r\nFile \"C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 966, in finetune\r\n  run_states = self._run(do_eval=do_eval)#4\r\nFile \"C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 1212, in _run\r\n  return_numpy=self.return_numpy)#5\r\nFile \"C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\paddle\\fluid\\executor.py\", line 1072, in run\r\nFile \"C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\six.py\", line 719, in reraise\r\nFile \"C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\paddle\\fluid\\executor.py\", line 1067, in run\r\nFile \"C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\paddle\\fluid\\executor.py\", line 1168, in _run_impl\r\nFile \"C:\\ProgramData\\Anaconda3\\Lib\\site-packages\\paddle\\fluid\\executor.py\", line 879, in _run_parallel\r\n\r\npaddle.fluid.core_avx.EnforceNotMet:\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\nWindows not support stack backtrace yet.\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------",
        "state": "closed",
        "user": "tcoher19",
        "closed_by": "tcoher19",
        "created_at": "2021-07-21T08:24:06+00:00",
        "updated_at": "2022-02-18T02:50:37+00:00",
        "closed_at": "2021-07-21T10:48:18+00:00",
        "comments_count": [
            "thgpddl"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1544,
        "title": "@runnable和@serving时遇到的ERROR",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub 2.1.0，PaddlePaddle 2.1.0\r\n2）系统环境：AI Studio高级版\r\n\r\n## 命令行预测时遇到的问题\r\n安装好模型后运行 `hub run mnist_predict --input_img \"./5.png\"` 报错\r\n```\r\nW0721 22:48:51.535526 20136 device_context.cc:404] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 10.1, Runtime API Version: 10.1\r\nW0721 22:48:51.540257 20136 device_context.cc:422] device: 0, cuDNN Version: 7.6.\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/bin/hub\", line 10, in <module>\r\n    sys.exit(execute())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/run.py\", line 56, in execute\r\n    result = module._run_func(argv[1:])\r\nTypeError: 'property' object is not callable\r\n```\r\n这个问题貌似和参数没有关系，因为当我修改 `--input_img` 的内容时报了同样的错误。这个情况也适用于后面图片的路径。\r\n\r\n## 服务部署时遇到的问题\r\n在AI Studio通过 `hub serving start -m mnist_predict` 可以正确部署模型，但是在Python代码发送POST请求预测时出现问题，返回的JSON数据如下\r\n```\r\n{'msg': \"[Errno 36] File name too long: 'iVBORw0KGgoAAAANSUhEUgAAAH0AAACACAIAAACp7vG1AAAaeklEQVR4Ae3Bf2jU9/0H8Of7/fl997nc1cvuLopBrSUh6nRdjDBWpmNbJ9YpRehfgoj0H8G5sn/8Q0GRgf/4l6Rah4QJKshAxmIVh1bdomH+qE1iqdGYpImZ+XHJJXefu/v8en3hDW8QvpamtTmTkseDERHmVRwjIsyrOEZEmFdxjIgwr+IYEWFexTEiwryKY0SEeRXHiAjzKo4REeZVHCMizKs4RkSYV3GMiDCv4hgRYV7FMSLCvIpjRIR5FceICPMqjhER5lUcIyLMqzhGRJitwjDECzzPC8MQ36ZcLnd2dgZBAIGIfN+HFATBxMQEEUGwLOudd97RNA1CsVi8deuW7/sQisXi48ePITHGFEWBFI1Gf/azn0HIZDL19fWYNkZEmK2CIMALCoWC7/v4NpOTk+fOnXNdF0IYhqVSCZLneb29vWEYQliwYMG+ffsikQiEbDZ79OjRUqkEYXx8/NKlS5AYY4ZhQEqlUjt37oSwevXqrVu3YtoYEWG2CoIALygUCr7v49tMTk6eO3fOdV0IYRiWSiVInuf19vaGYQhhwYIF+/bti0QiELLZ7NGjR0ulEoTx8fFLly5BYowZhgEplUrt3LkTwurVq7du3YppY0SE2SoIArygUCj4vo9vMzk5ee7cOdd1IYRhWCqVIHme19vbG4YhhAULFuzbty8SiUDIZrNHjx4tlUoQxsfHL126BIkxZhgGpFQqtXPnTgirV6/eunUrpo0REWarIAjwgkKh4Ps+vs3k5OS5c+dc14UQhmGpVILkeV5vb28YhhAWLFiwb9++SCQCIZvNHj16tFQqQRgfH7906RIkxphhGJBSqdTOnTshrF69euvWrZg2RkSYSY7jeJ4HKQxDIoI0NjbmOA6kkZGRYrEIqVwuB0EAqaenJ5fL4duUy+XOzs4gCCAQke/7kIjI931Itm2///77uq5DmJycPHPmjOu6EEqlUl9fHyRN09LpNKR0Ov3hhx9CWL58+S9/+UtMGyMizKSxsbFCoQDJ9/0wDCF1d3ePjIxAevjwYTabhVQoFDzPg9TW1vbs2TO8GkVRMpkM5xyCrusNDQ2qqkIoFArXrl3zPA8C5zwSiUAyTbOurg5SJpPZvXs3hEwmU19fj2ljRISZNDY2VigUIPm+H4YhpO7u7pGREUgPHz7MZrOQCoWC53mQ2tranj17hlejKEomk+GcQ9B1vaGhQVVVCIVC4dq1a57nQeCcRyIRSKZp1tXVQcpkMrt374aQyWTq6+sxbYyIMJPGxsYKhQIk3/fDMITU3d09MjIC6eHDh9lsFlKhUPA8D1JbW9uzZ8/wahRFyWQynHMIuq43NDSoqgqhUChcu3bN8zwInPNIJALJNM26ujpImUxm9+7dEDKZTH19PaaNERFm0tjYWKFQgOT7fhiGkLq7u0dGRiA9fPgwm81CKhQKnudBamtre/bsGV6NoiiZTIZzDkHX9YaGBlVVIRQKhWvXrnmeB4FzHolEIJmmWVdXBymTyezevRtCJpOpr6/HtDEiwg9qYmKiWCxCunLlypdffgmpXC4HQQBpbGzMcRxIIyMjxWIRkuu6YRhC+vrrr6empvDdMcYg2bb93nvv6boOQVGUhQsXcs4heJ739OnTMAwhKIqSSCQg6bq+cOFCSPF4/He/+x0E27arq6sxbYyI8IPq6+vLZrOQjhw5cvnyZUiO43ieh8rinDPGICSTyYMHD0YiEQiMMcuyGGN4GVVVU6kUJEVRqqqqIBmGsWTJEnwvjIjwg+rr68tms5COHDly+fJlSI7jeJ6HyuKcM8YgJJPJgwcPRiIRCIwxy7IYY3gZVVVTqRQkRVGqqqogGYaxZMkSfC+MiPCD6uvry2azkI4cOXL58mVIjuN4nofK4pwzxiAkk8mDBw9GIhEIjDHLshhjeBlVVVOpFCRFUaqqqiAZhrFkyRJ8L4yI8IPq6+vLZrOQjhw5cvnyZUiO43ieh8rinDPGICSTyYMHD0YiEQiMMcuyGGN4GVVVU6kUJEVRqqqqIBmGsWTJEnwvjIjwgxoZGZmamoL0l7/85dNPP4U0MTFRLBbxahhj6XRaURQIjDFd1znnEDzPe/bsWRiGEBhjiqIwxiBkMpnTp0/btg2BMaaqKmMML8M5j0ajkBhjhmFAUlU1kUjge2FEhB9UPp93XRfSoUOHWltbIQ0PD09NTeHVKIqyatUqwzAgcM5t21YUBUKxWLxz547v+5A0TWOMQaitrb1582YikcBrxYgIP6h8Pu+6LqRDhw61trZCGh4enpqawqtRFGXVqlWGYUDgnNu2rSgKhGKxeOfOHd/3IWmaxhiDUFtbe/PmzUQigdeKERF+UPl83nVdSIcOHWptbYU0PDw8NTWFV6MoyqpVqwzDgMA5t21bURQIxWLxzp07vu9D0jSNMQahtrb25s2biUQCrxUjIvyg8vm867qQDh061NraCml4eHhqagqvRlGUVatWGYYBgXNu27aiKBCKxeKdO3d834ekaRpjDEJtbe3NmzcTiQReK0ZE+EG5rhsEAaRz587997//hfTkyZORkRFI8Xg8EolAunv37vDwML5BIpEwTROAYRgffvhhIpGAwBiLRqOccwjlcrmjoyMIAgiu63Z1dQVBAKGmpqalpSUWi+G1YkSEmXTv3r3+/n5I9+/fHxgYgFRbW5tMJiGdPHmyo6MD32Dp0qXxeByAbdunTp2qqamBwBgzTZNzDsF13cePH4dhCGFycvLMmTOu60JIJpP79++PRCJ4rRgRYSbdu3evv78f0v379wcGBiDV1tYmk0lIJ0+e7OjowDdYunRpPB4HYNv2qVOnampqIDDGTNPknENwXffx48dhGEKYnJw8c+aM67oQksnk/v37I5EIXitGRJhJ9+7d6+/vh3T//v2BgQFItbW1yWQS0smTJzs6OvANli5dGo/HAdi2ferUqZqaGgiMMdM0OecQXNd9/PhxGIYQJicnz5w547ouhGQyuX///kgkgteKERFm0r179/r7+yHdv39/YGAAUm1tbTKZhHTy5MmOjg58g6VLl8bjcQC2bZ86daqmpgYCY8w0Tc45BNd1Hz9+HIYhhMnJyTNnzriuCyGZTO7fvz8SieC1YkSEmTQ0NJTL5SB9/fXX4+PjkJLJpG3bkE6cOPHFF19AevLkSS6Xg/T73/9+2bJlAEzT/POf/7xgwQIIjDFVVRljEIIgyGazRAShXC53dHQEQQDBsqxf/epXmqbhtWJEhAoqFoue50EyTVPTNEjNzc0PHjyAdOXKlb6+Pkh79+5tbGwEoGnaxo0bbdvGnMWICBVULBY9z4NkmqamaZCam5sfPHgA6cqVK319fZD27t3b2NgIQNO0jRs32raNOYsRESqoWCx6ngfJNE1N0yA1Nzc/ePAA0pUrV/r6+iDt3bu3sbERgKZpGzdutG0bcxYjIlRQsVj0PA+SaZqapkFqbm5+8OABpCtXrvT19UHau3dvY2MjAE3TNm7caNs25ixGRKggz/PCMISkqirnHNJf//rXL774AtLFixefPn0K6Q9/+MPy5csBmKb5pz/9acGCBXgBYwxzByMizBotLS1dXV2QLly48OTJE0grV66srq4GEI1GT5w4kclkIDEBcwcjIswaLS0tXV1dkC5cuPDkyRNIK1eurK6uBhCNRk+cOJHJZCAxAXMHIyLMGi0tLV1dXZAuXLjw5MkTSCtXrqyurgYQjUZPnDiRyWQgMQFzByMizBotLS1dXV2QLly48OTJE0grV66srq4GEI1GT5w4kclkIDEBcwcjIswad+7cef78OaRPPvmko6MD/080Gv34448zmQwEVVUXLVqkaRrmDkZEmDVKpVIQBJAOHz7c3t4OqbOzc3R0FEA0Gm1ubk6n0xBM01y7dq1lWZg7GBFh1iiVSkEQQDp8+HB7ezukzs7O0dFRANFotLm5OZ1OQzBNc+3atZZlYe5gRIRZo1QqBUEA6fDhw+3t7ZA6OztHR0cBRKPR5ubmdDoNwTTNtWvXWpaFuYMREWaNUqkUBAGkw4cPt7e3Q+rs7BwdHQUQjUabm5vT6TQE0zTXrl1rWRbmDkZEmDV83w/DENLFixefPn0K6fTp0w8fPgSg6/r7779v2zYE0zR//vOfW5YFQVGUn/zkJ5xzCLqur1y5UlEUvIAxhteKERFmq6GhIcdxIH300UefffYZAMZYLBbjnEMwTXPNmjWWZUHQdb2hoUFVVQixWOyDDz4wDAMvYIzhtWJEhNlqaGjIcRxIH3300WeffQaAMRaLxTjnEEzTXLNmjWVZEHRdb2hoUFUVQiwW++CDDwzDwAsYY3itGBFhthoaGnIcB9JHH3302WefAWCMxWIxzjkE0zTXrFljWRYEXdcbGhpUVYUQi8U++OADwzDwAsYYXitGRJitSqVSEASQ/v73v3d3dwMol8vnz5+fmpqCwDk3TZMxBoFzHovFGGMQEonEhx9+aJomBNM0165dq6oqBM55VVUV5xyVxYgIc8Tt27eHhoYAOI5z4MCBsbExCGEYFgoFIsLLJBKJPXv2WJYFIRqNbt68Wdd1CIqiVFdXc85RWYyIMEfcvn17aGgIgOM4Bw4cGBsbgxCGYaFQICK8TCKR2LNnj2VZEKLR6ObNm3Vdh6AoSnV1NecclcWICHPE7du3h4aGADiOc+DAgbGxMQhhGBYKBSLCyyQSiT179liWBSEajW7evFnXdQiKolRXV3POUVmMiDBH3L59e2hoCIDjOAcOHBgbG4MQhmGhUCAivEwikdizZ49lWRCi0ejmzZt1XYegKEp1dTXnHJXFiAhzRDabLZVKADzPu3btmuM4EKampv75z39OTU1BcF330aNHYRhC0DRt2bJliqJAsG37/fffNwwDQjQa3bRpk67rEDjn8Xicc44ZxogIc00QBN3d3Z7nQchms83NzePj4xCKxWJ7e7vv+3iZWCy2bds2wzAgxOPxXbt2maYJQVGUVCrFOccMY0SEuSYIgu7ubs/zIGSz2ebm5vHxcQjFYrG9vd33fbxMLBbbtm2bYRgQ4vH4rl27TNOEoChKKpXinGOGMSLCXBMEQXd3t+d5ELLZbHNz8/j4OIRisdje3u77Pl4mFott27bNMAwI8Xh8165dpmlCUBQllUpxzjHDGBFhrgmCoLu72/M8CNlstrm5eXx8HEKxWGxvb/d9Hy8Ti8W2bdtmGAaEeDy+a9cu0zQhKIqSSqU455hhjIgw1xBRPp8PwxCC67oPHz4sl8sQisXiv//9b8/zIExOTp49e7ZcLkNQVXXhwoWccwjRaPQ3v/mNrusQ3njjjT/+8Y+WZWGGMSLCHBeGYT6fD8MQguM4169f930fwujo6IEDBxzHgUBEeIFpmk1NTZqmQUin08ePH7dtGzOMERHmuDAM8/l8GIYQHMe5fv267/sQRkdHDxw44DgOBCLCC0zTbGpq0jQNQjqdPn78uG3bmGGMiDDHhWGYz+fDMITgOM7169d934cwOjp64MABx3EgEBFeYJpmU1OTpmkQ0un08ePHbdvGDGNEhDkuDMN8Ph+GIQTHca5fv+77PoTR0dEDBw44jgOBiPAC0zSbmpo0TYOQTqePHz9u2zZmGCMizHFE5Ps+JN/3x8bGwjCEMDg4+N57701OTkIKggCSoijJZJJzDiGdTn/88ce2bUMwTXP58uWYAYyI8KPW29vb1NSUy+UgEJHv+3iBqqqMMQjpdLq5udm2bQi2bTc2NmIGMCLCj1pvb29TU1Mul4NARL7v4wWqqjLGIKTT6ebmZtu2Idi23djYiBnAiAg/ar29vU1NTblcDgIR+b6PF6iqyhiDkE6nm5ubbduGYNt2Y2MjZgAjIvyo9fb2NjU15XI5CETk+z5eoKoqYwxCOp1ubm62bRuCbduNjY2YAYyIMNeEYfjs2TPf9yGUy+XOzs5yuQzB9/3+/v4wDCFMTEycOHGiVCpBIiJIqqouWrSIcw6hpqbmb3/7m23bEFRVXbBgAWYAIyLMNUEQPHr0yPM8CIVC4fr1647jQCiXy11dXUEQQCgWi21tbb7v42U0Taurq1MUBUJNTc3Zs2djsRgkzjlmACMizDVBEDx69MjzPAiFQuH69euO40Aol8tdXV1BEEAoFottbW2+7+NlNE2rq6tTFAVCTU3N2bNnY7EYJM45ZgAjIsw1QRA8evTI8zwIhULh+vXrjuNAKJfLXV1dQRBAKBaLbW1tvu/jZTRNq6urUxQFQk1NzdmzZ2OxGCTOOWYAIyLMNUEQPHr0yPM8CIVC4fr1647jQCiXy11dXUEQQCgWi21tbb7v42U0Taurq1MUBUJNTc3Zs2djsRgkzjlmACMizFZjY2OlUgnSnTt3nj9/DsDzvFu3bhWLRQie5/X29rquCyEMw6mpKSKCEARBNpslIkicc0imab799tuqqkJIp9OffPKJbduQGGOYAYyIMFsNDg7m83lIra2tPT09AFzXvXr1quM4EIIgyGazQRBgehRFYYxBME1z3bp1mqZBSKVSx44ds20bM4wREWarwcHBfD4PqbW1taenB4DrulevXnUcB0IQBNlsNggCTI+iKIwxCKZprlu3TtM0CKlU6tixY7ZtY4YxIsJsNTg4mM/nIbW2tvb09ABwXffq1auO40AIgiCbzQZBgOlRFIUxBsE0zXXr1mmaBiGVSh07dsy2bcwwRkSYrQYHB/P5PKTW1taenh4ArutevXrVcRwIQRBks9kgCDA9iqIwxiCYprlu3TpN0yCkUqljx47Zto0ZxogIr0+hUHBdF1JXV9fY2Bik//znP4ODg5C++uqr8fFxAGEYjoyMBEEAgYhc18U3UFW1traWcw4hGo3+9re/1XUdgmVZ77zzjqZpEAzD+OlPf6qqKmYYIyK8PrlcrlgsQrpx48bAwACk1tbWp0+fQhoeHnYcB9+RrusrVqxQVRVCPB7ftWuXaZoQLMtav369pmmoLEZEeH1yuVyxWIR048aNgYEBSK2trU+fPoU0PDzsOA6+I13XV6xYoaoqhHg8vmvXLtM0IViWtX79ek3TUFmMiPD65HK5YrEI6caNGwMDA5BaW1ufPn0KaXh42HEcfEe6rq9YsUJVVQjxeHzXrl2maUKwLGv9+vWapqGyGBHh9cnlcsViEdKNGzcGBgYgtba2Pn36FNLw8LDjOPiOdF1fsWKFqqoQ4vH4rl27TNOEYFnW+vXrNU1DZTEiwkxyHMd1XUhjY2OFQgHSv/71ry+//BLSo0ePstkspOfPnzuOA6lcLgdBgP9HVdXFixerqgohEon8+te/1jQNgmVZv/jFL1RVhaBp2tKlSznnEBRFqa6u5pyjshgRYSblcrlSqQRpcHBwYmIC0unTp9vb2yENDAzk83l8R7quNzQ0GIYBoaqqaseOHaZpQrAsa8OGDZqmQWICXitGRJhJuVyuVCpBGhwcnJiYgHT69On29nZIAwMD+Xwe35Gu6w0NDYZhQKiqqtqxY4dpmhAsy9qwYYOmaZCYgNeKERFmUi6XK5VKkAYHBycmJiCdPn26vb0d0sDAQD6fx3ek63pDQ4NhGBCqqqp27NhhmiYEy7I2bNigaRokJuC1YkSEmZTL5UqlEqTBwcGJiQlIp0+fbm9vhzQwMJDP5/Ed6bre0NBgGAaEqqqqHTt2mKYJwbKsDRs2aJoGiQl4rRgR4dWUSiXP8yBdvXr1q6++gjQ0NJTL5SD973//m5ychPT111+Pj49DKhaLQRDgGyxatCgWiwHQNG39+vWRSASCaZpvv/22aZoQdF1ftmyZoigQFEWprq7mnOMFjDG8VoyI8Gry+bzrupBaWlpu3boFqb+/P5vNQhoeHp6amsL3Ul9fn0wmARiGsX379ng8DsE0zaamJsuyIDDGDMNgjGEWY0SEV5PP513XhdTS0nLr1i1I/f392WwW0vDw8NTUFL6X+vr6ZDIJwDCM7du3x+NxCKZpNjU1WZYFgTFmGAZjDLMYIyK8mnw+77oupJaWllu3bkHq7+/PZrOQhoeHp6am8L3U19cnk0kAhmFs3749Ho9DME2zqanJsiwIjDHDMBhjmMUYEeHV5PN513UhtbS03Lp1C1J/f382m4U0PDw8NTWF76W+vj6ZTAIwDGP79u3xeByCaZpNTU2WZUFgjBmGwRjDLMaICNOQy+WeP38O4e7du/39/ZAGBwdzuRykhw8fPnv2DFKxWHRdF5Lrur7v4xuoqso5h9TY2JjJZCC9++67S5YsAaAoyptvvqnrOgTO+RtvvKEoCiTOOWMMsxgjIkzDyMhIT08PhIsXL3Z2dkLq6ekZGxuDlM1mHcfB96LruqqqkDZt2vTmm29C2rZtW11dHQTLsjjnmLMYEWEaRkZGenp6IFy8eLGzsxNST0/P2NgYpGw26zgOvhdd11VVhbRp06Y333wT0rZt2+rq6iBYlsU5x5zFiAjT8Pz580ePHkH49NNPOzo6IPX19WWzWUjj4+PFYhESEyApisI5xzewbVvTNEjvvvvu0qVLIW3ZsmX58uUAGGOmaXLOMWcxIsI0fP755//4xz8gXLx4sbOzE5LneWEYQgrDkIggpVKpqqoqSA0NDQsXLoTEBEjvvvvukiVLICWTScuyIEUiEU3TIDABcxYjIkzD3bt3z58/D+HixYudnZ2YnoULFyYSCUhr1qxZvHgxJMYY5xzSli1b3nrrLUjRaFTTNPwYMSLCNNy9e/f8+fMQLl682NnZielZuHBhIpGAtGbNmsWLF0NijHHOIW3ZsuWtt96CFI1GNU3DjxEjIkzD3bt3z58/D+HixYudnZ2YnoULFyYSCUhr1qxZvHgxJMYY5xzSli1b3nrrLUjRaFTTNPwYMSLCNHz++ecXLlyAcOXKlYcPH2J6ampq4vE4pFWrVi1atAgS55wxBmnTpk3Lli2DFIlENE3DjxEjIkxDuVx2HAeC4zie52F6FEXhnEPSdV1VVXyDSCSiaRokJuDHiBER5lUcIyLMqzhGRJhXcYyIMK/iGBFhXsUxIsK8imNEhHkVx4gI8yqOERHmVRwjIsyrOEZEmFdx/weupQi1+tZrfwAAAABJRU5ErkJggg=='\", 'results': '', 'status': '101'}\r\n```\r\n而终端却返回了200响应值\r\n```\r\nW0721 22:23:22.847523 17715 device_context.cc:422] device: 0, cuDNN Version: 7.6.\r\n * Serving Flask app \"paddlehub.serving.app_compat\" (lazy loading)\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n * Running on http://0.0.0.0:8866/ (Press CTRL+C to quit)\r\n127.0.0.1 - - [21/Jul/2021 22:34:01] \"POST /predict/mnist_predict HTTP/1.1\" 200 -\r\n```\r\n\r\n## module.py代码\r\n```python\r\nimport paddle\r\nfrom paddle.nn import Linear\r\nimport numpy as np\r\nimport argparse\r\nimport os\r\nfrom PIL import Image\r\n\r\nimport paddlehub as hub\r\nfrom paddlehub.module.module import runnable, moduleinfo, serving\r\n\r\n\r\n# 读取一张本地的样例图片，转变成模型输入的格式\r\ndef load_image(img_path):\r\n    # 从img_path中读取图像，并转为灰度图\r\n    im = Image.open(img_path).convert('L')\r\n    im = im.resize((28, 28), Image.ANTIALIAS)\r\n    im = np.array(im).reshape(1, -1).astype(np.float32)\r\n    # 图像归一化，保持和数据集的数据范围一致\r\n    im = 1 - im / 255\r\n    return im\r\n\r\n\r\n# 预测网络结构\r\nclass MNIST(paddle.nn.Layer):\r\n    def __init__(self):\r\n        super(MNIST, self).__init__()\r\n        self.fc = paddle.nn.Linear(in_features=784, out_features=1)\r\n\r\n    def forward(self, inputs):\r\n        outputs = self.fc(inputs)\r\n        return outputs\r\n\r\n\r\n@moduleinfo(\r\n    name=\"mnist_predict\",\r\n    version=\"1.0.0\",\r\n    summary=\"This is a PaddleHub Module. Just for test.\",\r\n    author=\"7hinc\",\r\n    author_email=\"\",\r\n    type=\"cv/my_mnist\",\r\n)\r\nclass MnistPredict:\r\n    def __init__(self):\r\n        self.parser = argparse.ArgumentParser(\r\n            description=\"Run the mnist_predict module.\",\r\n            prog='hub run mnist_predict',\r\n            usage='%(prog)s',\r\n            add_help=True)\r\n        self.parser.add_argument(\r\n            '--input_img', type=str, default=None, help=\"img to predict\")\r\n        \r\n\r\n    def mnist_predict(self, img_path):\r\n        model.eval()\r\n        tensor_img = load_image(img_path)\r\n        paddle.disable_static()\r\n        result = model(paddle.to_tensor(tensor_img))\r\n        \r\n        return result.numpy().astype('int32')\r\n    \r\n    @runnable\r\n    def run_cmd(self, argvs):\r\n        args = self.parser.parse_args(argvs)\r\n        img_path = [args.input_img]\r\n\r\n        return self.mnist_predict(img_path)\r\n\r\n    @serving\r\n    def mnist_predict(self, img_path):\r\n        model.eval()\r\n        tensor_img = load_image(img_path)\r\n        paddle.disable_static()\r\n        result = model(paddle.to_tensor(tensor_img))\r\n\r\n        return result.numpy().astype('int32')\r\n\r\n# 代码应该放到全局\r\nmodel = MNIST()\r\nparams_file_path = '/home/aistudio/mnist.pdparams'\r\nparam_dict = paddle.load(params_file_path)\r\nmodel.load_dict(param_dict)\r\n\r\nmy_mnist = MnistPredict()\r\n```",
        "state": "closed",
        "user": "shaunhurryup",
        "closed_by": "shaunhurryup",
        "created_at": "2021-07-21T14:56:50+00:00",
        "updated_at": "2021-07-22T05:36:20+00:00",
        "closed_at": "2021-07-22T05:36:20+00:00",
        "comments_count": [
            "KPatr1ck",
            "shaunhurryup",
            "KPatr1ck",
            "shaunhurryup"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1547,
        "title": "C++ Traceback",
        "body": "你好，我在使用paddlehub遇到 `C++ Traceback` 的问题。\r\n机器环境`CPU Ubuntu 18.04`\r\n```\r\npaddle2onnx    0.7 \r\npaddlehub   2.1.0 \r\npaddlenlp    2.0.6 \r\npaddlepaddle  2.1.1\r\n```  \r\n\r\n运行代码\r\n```\r\nimport cv2\r\nimport paddlehub as hub\r\n\r\nhuman_parser = hub.Module(name=\"ace2p\")\r\nresult = human_parser.segmentation(images=[cv2.imread('data/input/30539_130104.jpg')])\r\n```\r\n\r\n报错信息\r\n```\r\npython test.py \r\n[2021-07-24 07:29:06,040] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0724 07:29:06.041456 31841 analysis_predictor.cc:1183] Deprecated. Please use CreatePredictor instead.\r\n---    Fused 0 subgraphs into layer_norm op.\r\n\r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::framework::SignalHandle(char const*, int)\r\n1   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nFatalError: `Segmentation fault` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 1627111748 (unix time) try \"date -d @1627111748\" if you are using GNU date ***]\r\n  [SignalInfo: *** SIGSEGV (@0x0) received by PID 31841 (TID 0x7f0d81bd6740) from PID 0 ***]\r\n\r\nSegmentation fault (core dumped)\r\n```\r\n\r\n该代码在windows10上可以正常运行\r\nwindows环境如下\r\n```\r\npaddle2onnx | 0.6 |  \r\npaddlehub | 2.1.0 |  \r\npaddlenlp | 2.0.3 |  \r\npaddlepaddle | 2.1.0 |  \r\n```\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "minushuang",
        "closed_by": "WYB27",
        "created_at": "2021-07-24T07:48:44+00:00",
        "updated_at": "2025-06-30T07:15:36+00:00",
        "closed_at": "2025-06-30T07:15:36+00:00",
        "comments_count": [
            "haoyuying",
            "jiafuzeng"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1545,
        "title": "docker ubuntu16.04环境报错bash: hub: command not found",
        "body": "pip install paddlehub==1.6.2后\r\n运行以下命令后报错\r\nhub install yolov3_resnet50_vd_coco2017==1.0.1",
        "state": "closed",
        "user": "yingzhige118",
        "closed_by": "yingzhige118",
        "created_at": "2021-07-22T09:09:07+00:00",
        "updated_at": "2021-07-22T09:17:22+00:00",
        "closed_at": "2021-07-22T09:17:22+00:00",
        "comments_count": [
            "yingzhige118"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1548,
        "title": "paddlehub finetune训练报错",
        "body": "PaddleHub:2.1\r\nPaddlePaddle:2.1.0.post101\r\n训练环境：linux\r\n\r\n相关代码：\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"ernie_gen\")\r\n\r\nresult = module.finetune(\r\n    train_path='train.txt',\r\n    dev_path='test.txt',\r\n    save_dir=\"ernie_gen_result\",\r\n    init_ckpt_path=None,\r\n    use_gpu=True,\r\n    max_steps=4000,\r\n    batch_size=24,\r\n    max_encode_len=50,\r\n    max_decode_len=50,\r\n    learning_rate=5e-5,\r\n    warmup_proportion=0.1,\r\n    weight_decay=0.1,\r\n    noise_prob=0.1,\r\n    label_smooth=0,\r\n    beam_width=5,\r\n    length_penalty=1.0,\r\n    log_interval=50,\r\n    save_interval=2000,\r\n)\r\n\r\n\r\n报错如下：\r\n---------------------------------------------------------------------------RuntimeError                              Traceback (most recent call last)<ipython-input-4-4d345652ed49> in <module>\r\n      1 import paddlehub as hub\r\n      2 \r\n----> 3 module = hub.Module(name=\"ernie_gen\")\r\n      4 \r\n      5 result = module.finetune(\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, module_dir, version, **kwargs)\r\n    100             if name:\r\n    101                 module = cls.init_with_name(\r\n--> 102                     name=name, version=version, **kwargs)\r\n    103             elif directory:\r\n    104                 module = cls.init_with_directory(directory=directory, **kwargs)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, **kwargs)\r\n    176         logger.info(tips)\r\n    177         lock.flock(fp_lock, lock.LOCK_UN)\r\n--> 178         return cls.init_with_directory(directory=module_dir[0], **kwargs)\r\n    179 \r\n    180     @classmethod\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_directory(cls, directory, **kwargs)\r\n    191         dirname = os.path.join(*list(os.path.split(directory)[:-1]))\r\n    192         sys.path.insert(0, dirname)\r\n--> 193         _module = importlib.import_module(\"{}.module\".format(basename))\r\n    194         for _item, _cls in inspect.getmembers(_module, inspect.isclass):\r\n    195             _item = _module.__dict__[_item]\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/__init__.py in import_module(name, package)\r\n    125                 break\r\n    126             level += 1\r\n--> 127     return _bootstrap._gcd_import(name[level:], package, level)\r\n    128 \r\n    129 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap.py in _gcd_import(name, package, level)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap.py in _find_and_load(name, import_)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap.py in _find_and_load_unlocked(name, import_)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap.py in _load_unlocked(spec)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap_external.py in exec_module(self, module)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/importlib/_bootstrap.py in _call_with_frames_removed(f, *args, **kwds)\r\n~/.paddlehub/modules/ernie_gen/module.py in <module>\r\n     41     author=\"baidu\",\r\n     42     author_email=\"\",\r\n---> 43     type=\"nlp/text_generation\",\r\n     44 )\r\n     45 class ErnieGen():\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in _wrapper(cls)\r\n     78     def _wrapper(cls):\r\n     79         if not issubclass(cls, Module):\r\n---> 80             raise RuntimeError\r\n     81         cls._name = name\r\n     82         cls._version = version\r\nRuntimeError:",
        "state": "closed",
        "user": "thomas-yanxin",
        "closed_by": "WYB27",
        "created_at": "2021-07-24T10:14:22+00:00",
        "updated_at": "2025-06-30T07:15:34+00:00",
        "closed_at": "2025-06-30T07:15:34+00:00",
        "comments_count": [
            "KPatr1ck",
            "HefeiQ"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1549,
        "title": "您好，请问paddlehub可以通过docker安装么？",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "Jane-pyh",
        "closed_by": "WYB27",
        "created_at": "2021-07-26T01:34:07+00:00",
        "updated_at": "2025-06-30T07:15:32+00:00",
        "closed_at": "2025-06-30T07:15:32+00:00",
        "comments_count": [
            "Jane-pyh",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1550,
        "title": "Could not find a version that satisfies。。。。",
        "body": "win10 \r\n![image](https://user-images.githubusercontent.com/10648133/126935011-dc4f14cc-c0bd-4b1c-bbac-6837ac02892a.png)\r\n\r\n安装 gpu 版本报错\r\nPS D:\\Python\\Python39-32> .\\python.exe -m pip install paddlepaddle-gpu==1.8.5.post107 -f https://paddlepaddle.org.cn/whl/stable.html\r\nLooking in links: https://paddlepaddle.org.cn/whl/stable.html\r\nERROR: Could not find a version that satisfies the requirement paddlepaddle-gpu==1.8.5.post107 (from versions: none)\r\nERROR: No matching distribution found for paddlepaddle-gpu==1.8.5.post107",
        "state": "closed",
        "user": "jurimengs",
        "closed_by": "WYB27",
        "created_at": "2021-07-26T04:54:52+00:00",
        "updated_at": "2025-06-30T07:15:30+00:00",
        "closed_at": "2025-06-30T07:15:30+00:00",
        "comments_count": [
            "KPatr1ck",
            "sliontc",
            "sliontc",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1551,
        "title": "你好，请问有没有识别中韩文的模型呢？",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "Jane-pyh",
        "closed_by": "WYB27",
        "created_at": "2021-07-27T01:22:25+00:00",
        "updated_at": "2025-06-30T07:15:28+00:00",
        "closed_at": "2025-06-30T07:15:28+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1553,
        "title": "你好，请问hinese_ocr_db_crnn_server模型没检测出的文字区域如何手动标注图片位置再检测",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "Jane-pyh",
        "closed_by": "WYB27",
        "created_at": "2021-07-27T02:46:20+00:00",
        "updated_at": "2025-06-30T07:15:24+00:00",
        "closed_at": "2025-06-30T07:15:24+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1552,
        "title": "使用plato2_en_base模型预测时报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n版本：paddlepaddle-gpu       2.1.1.post112\r\npaddlehub      2.1\r\n环境：windows10\r\npython版本：3.7\r\n\r\n使用plato2_en_base命令行预测\r\n\r\nhub run plato2_en_base --input_text=\"Hello, how are you\"\r\n\r\n报如下错误：\r\nit__() to handle the initialization of the object\r\nTraceback (most recent call last):\r\n  File \"d:\\programme\\anaconda\\envs\\paddle\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"d:\\programme\\anaconda\\envs\\paddle\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\programme\\Anaconda\\envs\\paddle\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\programme\\anaconda\\envs\\paddle\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"d:\\programme\\anaconda\\envs\\paddle\\lib\\site-packages\\paddlehub\\commands\\run.py\", line 47, in execute\r\n    module = Module(name=module_name)\r\n  File \"d:\\programme\\anaconda\\envs\\paddle\\lib\\site-packages\\paddlehub\\module\\module.py\", line 395, in __new__\r\n    **kwargs)\r\n  File \"d:\\programme\\anaconda\\envs\\paddle\\lib\\site-packages\\paddlehub\\module\\module.py\", line 504, in init_with_name\r\n    user_module._initialize(**kwargs)\r\n  File \"d:\\programme\\anaconda\\envs\\paddle\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\yx200\\.paddlehub\\modules\\plato2_en_base\\module.py\", line 56, in _initialize\r\n    self.task = DialogGeneration(args)\r\n  File \"C:\\Users\\yx200\\.paddlehub\\modules\\plato2_en_base\\tasks\\dialog_generation.py\", line 193, in __init__\r\n    self.reader = PlatoReader(args)\r\n  File \"C:\\Users\\yx200\\.paddlehub\\modules\\plato2_en_base\\readers\\plato_reader.py\", line 27, in __init__\r\n    super(PlatoReader, self).__init__(args)\r\n  File \"C:\\Users\\yx200\\.paddlehub\\modules\\plato2_en_base\\readers\\dialog_reader.py\", line 69, in __init__\r\n    self.tokenizer = tokenizer_cls(args)\r\n  File \"C:\\Users\\yx200\\.paddlehub\\modules\\plato2_en_base\\utils\\tokenization.py\", line 138, in __init__\r\n    self.vocab = load_vocab(args.vocab_path)\r\n  File \"C:\\Users\\yx200\\.paddlehub\\modules\\plato2_en_base\\utils\\tokenization.py\", line 104, in load_vocab\r\n    for num, line in enumerate(fin):\r\nUnicodeDecodeError: 'gbk' codec can't decode byte 0x81 in position 1795: illegal multibyte sequence",
        "state": "closed",
        "user": "thomas-yanxin",
        "closed_by": "WYB27",
        "created_at": "2021-07-27T02:42:35+00:00",
        "updated_at": "2025-06-30T07:15:26+00:00",
        "closed_at": "2025-06-30T07:15:26+00:00",
        "comments_count": [
            "KPatr1ck",
            "thomas-yanxin",
            "KPatr1ck",
            "KPatr1ck"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1554,
        "title": "conv2d(): argument 'Filter' (position 1) must be Tensor, but got Parameter",
        "body": "利用paddlehub部署DeepSpeech2模型，报**ValueError: (InvalidArgument) conv2d(): argument 'Filter' (position 1) must be Tensor, but got Parameter (at /paddle/paddle/fluid/pybind/op_function.h:56)**。\r\npaddlehub版本2.1.0/2.0.0，DeepSpeech2模型本身调用运行预测没问题，在paddlehub里就会报错，即使是跑warm_up_test。\r\nFile \"/opt/anaconda3/lib/python3.7/site-packages/paddlehub/serving/app_compat.py\", line 87, in predict_v2\r\n    output = serving_method(**predict_args)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 63, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/home/ailab/.paddlehub/modules/voice_recognition_deepspeech2/module.py\", line 134, in serving_method\r\n    num_test_cases=3)\r\n  File \"DeepSpeech2/deepspeech/utils/socket_server.py\", line 52, in warm_up_test\r\n    transcript = audio_process_handler(sample['audio_filepath'])\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/home/ailab/.paddlehub/modules/voice_recognition_deepspeech2/module.py\", line 106, in file_to_transcript\r\n    num_processes=self.config.decoding.num_proc_bsearch)\r\n  File \"</opt/anaconda3/lib/python3.7/site-packages/decorator.py:decorator-gen-233>\", line 2, in decode\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 315, in _decorate_function\r\n    return func(*args, **kwargs)\r\n  File \"DeepSpeech2/deepspeech/models/deepspeech2.py\", line 208, in decode\r\n    eouts, eouts_len = self.encoder(audio, audio_len)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 902, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"DeepSpeech2/deepspeech/models/deepspeech2.py\", line 94, in forward\r\n    **x, x_lens = self.conv(x, x_lens)**\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 902, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"DeepSpeech2/deepspeech/modules/conv.py\", line 144, in forward\r\n    **x, x_len = self.conv_in(x, x_len)**\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 902, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"DeepSpeech2/deepspeech/modules/conv.py\", line 85, in forward\r\n    x = self.conv(x)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 902, in __call__\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/paddle/nn/layer/conv.py\", line 660, in forward\r\n    use_cudnn=self._use_cudnn)\r\n  File \"/opt/anaconda3/lib/python3.7/site-packages/paddle/nn/functional/conv.py\", line 119, in _conv_nd\r\n    pre_bias = getattr(core.ops, op_type)(x, weight, *attrs)\r\nValueError: (InvalidArgument) conv2d(): argument 'Filter' (position 1) must be Tensor, but got Parameter (at /paddle/paddle/fluid/pybind/op_function.h:56)\r\n\r\n\r\n打印x,x_lens，未发现问题\r\nTensor(shape=[1, 1, 161, 135], dtype=float32, place=CUDAPlace(0), stop_gradient=True,\r\n       [[[[-2.25398755, -2.11723757, -2.10718966, ..., -1.49337590, -1.63317239, -2.11299682],\r\n          [-2.71892667, -2.64595103, -2.67157292, ..., -1.91262162, -2.25656271, -2.62241554],\r\n          [-2.95244622, -2.86706758, -2.82853651, ..., -2.21879625, -2.50305438, -2.95195198],\r\n          ...,\r\n          [-1.53820324, -0.70819622, -1.07595241, ..., -0.62452424, -1.55061817, -1.44218242],\r\n          [-1.48655856, -0.58279842, -1.39044034, ..., -0.19443606, -1.33336318, -1.26881135],\r\n          [-1.12830818, -0.42334875, -1.07599461, ..., -0.21980844, -0.95654881, -0.84670091]]]])\r\nTensor(shape=[1], dtype=int64, place=CUDAPlace(0), stop_gradient=True,\r\n       [135])\r\n\r\n",
        "state": "closed",
        "user": "FrankWhh",
        "closed_by": "FrankWhh",
        "created_at": "2021-07-27T08:12:11+00:00",
        "updated_at": "2021-07-30T10:41:50+00:00",
        "closed_at": "2021-07-30T10:41:50+00:00",
        "comments_count": [
            "KPatr1ck",
            "FrankWhh",
            "KPatr1ck",
            "FrankWhh",
            "KPatr1ck",
            "FrankWhh",
            "KPatr1ck",
            "FrankWhh",
            "KPatr1ck",
            "FrankWhh",
            "KPatr1ck",
            "FrankWhh",
            "KPatr1ck",
            "FrankWhh",
            "KPatr1ck",
            "FrankWhh",
            "KPatr1ck",
            "FrankWhh"
        ],
        "labels": [
            "audio"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1555,
        "title": "ace2p分割模型GPU推理时发生错误",
        "body": "```\r\n代码：\r\nmodule = hub.Module(name='ace2p', version='1.0.0')\r\nwhile flag:\r\n        input_dict = {'image': [path_jpg_in]}\r\n        _ = module.segmentation(data=input_dict, use_gpu=True, output_dir=masked_path, batch_size=7)\r\n\r\n**问题1**：\r\nbatch_size大于等于8时就出错。\r\n--------------------------------------                                                                                                                                                \r\nC++ Traceback (most recent call last):                                                                                                                                                \r\n--------------------------------------                                                                                                                                                \r\n0   paddle::framework::SignalHandle(char const*, int)                                                                                                                                 \r\n1   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()                                                                                                                          \r\n                                                                                                                                                                                      \r\n----------------------                                                                                                                                                                \r\nError Message Summary:                                                                                                                                                                \r\n----------------------                                                                                                                                                                \r\nFatalError: `Segmentation fault` is detected by the operating system.                                                                                                                 \r\n  [TimeInfo: *** Aborted at 1627438146 (unix time) try \"date -d @1627438146\" if you are using GNU date ***]                                                                           \r\n  [SignalInfo: *** SIGSEGV (@0x0) received by PID 35851 (TID 0x7f3769525700) from PID 0 ***]                                                                                          \r\nSegmentation fault (core dumped)\r\n\r\n**问题2**：\r\n循环推理多次之后会出现以下错误，但是显存还有很多空间。3616M/11019M\r\n\r\n\r\nTraceback (most recent call last):                                                                                                                                                    \r\n          File \"run_batch3.py\", line 214, in <module>                                                                                                                                 \r\n              ps.get_origin_mask()                                                                                                                                                    \r\n            File \"run_batch3.py\", line 209, in main                                                                                                                                   \r\n              #     print('{:.3f}s  {}'.format(t1 - t0, image_name))                                                                                                                  \r\n            File \"run_batch3.py\", line 84, in get_origin_mask                                                                                                                         \r\n                    batch_size=len(image_list))                                                                                                                                       \r\n                  File \"/gfs_brick03/zhanghong/miniconda3/envs/paddle_cu101_v2/lib/python3.6/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner                     \r\n                      return func(*args, **kwargs)                                                                                                                                    \r\n                  File \"/gfs_brick03/zhanghong/miniconda3/envs/paddle_cu101_v2/lib/python3.6/site-packages/paddlehub/compat/module/module_v1.py\", line 201, in __call__               \r\n                      result += self.processor.postprocess(sign_name, data_out, sub_data, **kwargs)                                                                                   \r\n                  File \"./ace2p/python/356ef3563a66791ef656737189a222ec.py\", line 202, in postprocess                                                                                 \r\n                      for index, data in enumerate(data_out[0]):                                                                                                                      \r\n                                  MemoryError: (ResourceExhausted) Fail to alloc memory of 524288000 size, error code is 12.                                                          \r\n                                    [Hint: Expected error == 0, but received error:12 != 0:0.] (at /paddle/paddle/fluid/memory/detail/system_allocator.cc:62) \r\n```",
        "state": "closed",
        "user": "justzhanghong",
        "closed_by": "WYB27",
        "created_at": "2021-07-28T02:18:21+00:00",
        "updated_at": "2025-06-30T07:15:22+00:00",
        "closed_at": "2025-06-30T07:15:22+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1558,
        "title": "运行AnimeGAN动漫化模型一键应用（含动漫化小程序体验）时报错，",
        "body": "aistudio，PaddleHub 2.0.0\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n![图片](https://user-images.githubusercontent.com/88195471/127656096-b914d4e1-5396-4a72-9c33-30226ed19426.png)\r\n![图片](https://user-images.githubusercontent.com/88195471/127656260-81f5c477-25a2-46e1-bc2a-707170503203.png)\r\n",
        "state": "closed",
        "user": "yizhunhai",
        "closed_by": "yizhunhai",
        "created_at": "2021-07-30T12:58:11+00:00",
        "updated_at": "2021-08-02T08:53:25+00:00",
        "closed_at": "2021-08-02T08:53:25+00:00",
        "comments_count": [
            "haoyuying",
            "yizhunhai",
            "haoyuying",
            "yizhunhai",
            "haoyuying",
            "yizhunhai"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1557,
        "title": "Ubuntu16.04运行报错",
        "body": "根据官方教程安装后，运行hub命令直接报错了\r\n\r\n![image](https://user-images.githubusercontent.com/9283254/127641228-b4fe6b8d-b696-4dd1-a078-ed6acba93e90.png)",
        "state": "closed",
        "user": "JefferyBoy",
        "closed_by": "JefferyBoy",
        "created_at": "2021-07-30T10:38:11+00:00",
        "updated_at": "2021-08-18T04:35:24+00:00",
        "closed_at": "2021-08-18T04:35:24+00:00",
        "comments_count": [
            "haoyuying",
            "huangcao008",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1559,
        "title": "基于PaddleHub Serving的服务部署如何自定义HTTP 状态响应码和错误信息",
        "body": "基于PaddleHub Serving的服务部署如何自定义HTTP 状态响应码和错误信息，有没有相关的文档分享一下哈！\r\n",
        "state": "closed",
        "user": "pandasong",
        "closed_by": "WYB27",
        "created_at": "2021-08-03T03:31:31+00:00",
        "updated_at": "2025-06-30T07:15:20+00:00",
        "closed_at": "2025-06-30T07:15:20+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1561,
        "title": "请问什么包在依赖h5py?",
        "body": "jetson 安装hub老是Error",
        "state": "closed",
        "user": "PhilCuriosity",
        "closed_by": "PhilCuriosity",
        "created_at": "2021-08-04T01:33:02+00:00",
        "updated_at": "2021-08-06T13:52:44+00:00",
        "closed_at": "2021-08-06T13:52:44+00:00",
        "comments_count": [
            "KPatr1ck",
            "PhilCuriosity"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1568,
        "title": "PaddleOCR-release-2.1",
        "body": "您好，可否检查一下PaddleOCR-release-2.1的超轻量级中文OCR模型的识别模型（ch_ppocr_mobile_v2.0_rec_infer）是否缺少文件，我们在跑这个模型的时候发现根据PaddleOCR-release-2.1中quickstart.md的提示，超轻量级中文OCR模型的识别模型解压缩后应该有三个文件，但根据quickstart.md文件下载解压缩后的文件与quickstart中的文件不符，且运行显示模型有问题\r\n\r\n![image](https://user-images.githubusercontent.com/58280508/128804589-4850ff44-f8d9-46f8-a841-afd469e18469.png)\r\n![image](https://user-images.githubusercontent.com/58280508/128804678-7fef532f-8735-4150-ac71-fcd5c8eb7049.png)\r\n![image](https://user-images.githubusercontent.com/58280508/128804773-b06fc44c-8007-417c-86d4-6aa84f2730ae.png)\r\n",
        "state": "closed",
        "user": "xiong-yuxian",
        "closed_by": "xiong-yuxian",
        "created_at": "2021-08-10T03:22:48+00:00",
        "updated_at": "2021-08-10T03:40:17+00:00",
        "closed_at": "2021-08-10T03:28:52+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1562,
        "title": " 两个问题 好像服务器不行了？Can't connect to Hub Server: http://paddlepaddle.org.cn/paddlehub  ",
        "body": "**1 \r\nD:\\venv36\\paddle>python -m pip install paddlepaddle-gpu==2.1.1.post101 -f https://paddlepaddle.org.cn/whl/mkl/stable.html**\r\n\r\nLooking in links: https://paddlepaddle.org.cn/whl/mkl/stable.html\r\nWARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ProxyError('Cannot connect to proxy.', NewConnectionError('<pip._vendor.urllib3.connection.HTTPSConnection object at 0x0000016A2D35FBE0>: Failed to establish a new connection: [WinError 10061] 由于目标计算机积极拒绝，无法连接。',))': /whl/mkl/stable.html\r\n\r\n**2 hub install ernie_gen**\r\n\r\npaddlehub.server.server_source.ServerConnectionError: Can't connect to Hub Server: http://paddlepaddle.org.cn/paddlehub\r\n\r\n",
        "state": "closed",
        "user": "yslion",
        "closed_by": "yslion",
        "created_at": "2021-08-04T10:14:59+00:00",
        "updated_at": "2022-04-06T07:08:47+00:00",
        "closed_at": "2021-08-04T11:05:17+00:00",
        "comments_count": [
            "javadoge"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1563,
        "title": "多个模型封装在一个API进行部署的问题",
        "body": "目前有一个检测模型和一个识别模型，如何把两个模型级联起来然后通过paddle hub的sever服务部署",
        "state": "closed",
        "user": "ztc125521",
        "closed_by": "WYB27",
        "created_at": "2021-08-06T07:26:22+00:00",
        "updated_at": "2025-06-30T07:15:18+00:00",
        "closed_at": "2025-06-30T07:15:18+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1565,
        "title": "利用ernie_gen进行fintune训练时报错",
        "body": "\r\n- 版本、环境信息\r\n1）PaddleHub 2.1，PaddlePaddle2.1.1\r\n2）windows10  python3.7.9  cuda11.2\r\n- 复现信息：利用ernie_gen进行fintune训练时报错\r\n- 训练代码：\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"ernie_gen\")\r\n\r\nresult = module.finetune(\r\n    train_path='D:\\\\project\\\\python\\\\medicineQA\\\\cMedQA\\\\train.txt',\r\n    # dev_path='/home/aistudio/cmedqa/dev.txt',\r\n    save_dir=\"ernie_gen_result\",\r\n    max_steps=12000,\r\n    max_encode_len=512,\r\n    max_decode_len=512,\r\n    noise_prob=0.2,\r\n    batch_size=10,\r\n    log_interval=20\r\n)\r\n- 报错信息：\r\n![image](https://user-images.githubusercontent.com/58030051/128619392-0f24f9f4-2e1d-4162-977f-21ce4f6249a6.png)\r\n请问该如何解决？\r\n",
        "state": "closed",
        "user": "thomas-yanxin",
        "closed_by": "thomas-yanxin",
        "created_at": "2021-08-08T03:07:43+00:00",
        "updated_at": "2021-08-08T09:11:20+00:00",
        "closed_at": "2021-08-08T09:11:19+00:00",
        "comments_count": [
            "thomas-yanxin",
            "thomas-yanxin",
            "thomas-yanxin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1569,
        "title": "安装paddle-hub报错",
        "body": "Traceback (most recent call last):\r\n  File \"/usr/local/python3.7.0/bin/hub\", line 5, in <module>\r\n    from paddlehub.commands.utils import execute\r\n  File \"/usr/local/python3.7.0/lib/python3.7/site-packages/paddlehub/__init__.py\", line 35, in <module>\r\n    from paddlehub.utils.paddlex import download, ResourceNotFoundError\r\n  File \"/usr/local/python3.7.0/lib/python3.7/site-packages/paddlehub/utils/paddlex.py\", line 19, in <module>\r\n    from paddlehub.server.server import module_server, CacheUpdater\r\n  File \"/usr/local/python3.7.0/lib/python3.7/site-packages/paddlehub/server/__init__.py\", line 17, in <module>\r\n    from paddlehub.server.git_source import GitSource\r\n  File \"/usr/local/python3.7.0/lib/python3.7/site-packages/paddlehub/server/git_source.py\", line 27, in <module>\r\n    import git\r\n  File \"/usr/local/python3.7.0/lib/python3.7/site-packages/git/__init__.py\", line 42, in <module>\r\n    from git.config import GitConfigParser  # @NoMove @IgnorePep8\r\n  File \"/usr/local/python3.7.0/lib/python3.7/site-packages/git/config.py\", line 48, in <module>\r\n    from typing import OrderedDict\r\nImportError: cannot import name 'OrderedDict' from 'typing' (/usr/local/python3.7.0/lib/python3.7/typing.py)",
        "state": "closed",
        "user": "huangcao008",
        "closed_by": "WYB27",
        "created_at": "2021-08-12T11:19:03+00:00",
        "updated_at": "2025-06-30T07:15:16+00:00",
        "closed_at": "2025-06-30T07:15:16+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1570,
        "title": "关于Pneumonia-CT-LKM-PP模型，如何了解它的结构和进行调参？",
        "body": "近期我也在倒腾“PaddleHub 新冠CT影像分析”这个项目，它用了一个预测模型Pneumonia_CT_LKM_PP，可是我有一些问题想向你请教：\r\n1.我想了解这个预测模型的结构，我应该怎么去做？\r\n2.我通过对这个预训练模型进行调参，用自己的数据集去训练，看看能不能多识别一些病灶，请问我应该怎么做呢？",
        "state": "closed",
        "user": "LCreatorGH",
        "closed_by": "WYB27",
        "created_at": "2021-08-13T01:46:37+00:00",
        "updated_at": "2025-06-30T07:15:14+00:00",
        "closed_at": "2025-06-30T07:15:14+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1571,
        "title": "基于ernie_tiny的Fine-tune后，部署serving进行预测，性能如何提升？",
        "body": "版本信息\r\npaddlehub                         2.1.0\r\npaddlenlp                         2.0.7\r\npaddlepaddle-gpu                  2.1.1.post101\r\n操作系统 CentOS 7.6\r\n基于ernie_tiny 训练了一个文本多分类的模型，然后install和部署serving进行预测服务，可能是因为ernie_tiny 是动态图的原因，效率不高，一个T4卡，单进程需要4.4秒返回结果。但我没有找到如何通过paddlehub 进行Fine-tune后模型转静态图的方法。",
        "state": "closed",
        "user": "windy-zhr",
        "closed_by": "WYB27",
        "created_at": "2021-08-13T03:11:02+00:00",
        "updated_at": "2025-06-30T07:15:12+00:00",
        "closed_at": "2025-06-30T07:15:12+00:00",
        "comments_count": [
            "linjieccc",
            "windy-zhr",
            "linjieccc"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1573,
        "title": "w10系统 导入的模型有中文路径问题  导致导入失败",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）\r\nPaddleHub 2.1.0\r\npaddlepaddle-gpu  2.1.2.post112\r\n2）Windows  python3.8.1\r\n\r\n\r\n用户安装w10的时候 用户名取得就是中文   \r\n导致paddlehub 解压模型到有中文路径的\r\n但是读取不到  \r\n![image](https://user-images.githubusercontent.com/80506255/129475983-263dd522-f042-40a7-ab06-9869deaedc1e.png)\r\n\r\n复现步骤   \r\n1.安装一个w10虚拟机 用户名去取中文\r\n2.\r\n`import paddlehub as hub\r\nimport cv2\r\n\r\n\r\nmodel = hub.Module(name='animegan_v1_hayao_60')`\r\n\r\n\r\n",
        "state": "closed",
        "user": "zhu1024344053",
        "closed_by": "WYB27",
        "created_at": "2021-08-15T10:51:43+00:00",
        "updated_at": "2025-06-30T07:15:10+00:00",
        "closed_at": "2025-06-30T07:15:10+00:00",
        "comments_count": [
            "haoyuying",
            "zhu1024344053",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1574,
        "title": "Jetson AGX pip安装paddlehub卡死在安装后端依赖一步",
        "body": "![N$Q) YK7Y4U{K@NW053V@Y9](https://user-images.githubusercontent.com/73003661/129480075-d75ea00b-cf66-4e71-b335-4451d734d77a.png)\r\n",
        "state": "closed",
        "user": "kractics",
        "closed_by": "WYB27",
        "created_at": "2021-08-15T13:25:13+00:00",
        "updated_at": "2025-06-30T07:15:09+00:00",
        "closed_at": "2025-06-30T07:15:09+00:00",
        "comments_count": [
            "kractics",
            "nepeplwu",
            "kractics"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1575,
        "title": "在使用paddlehub2.1版本 进行分类预测，根据示例进行predict，结果报错不包含return_prob",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "Jiangbiyu",
        "closed_by": "WYB27",
        "created_at": "2021-08-16T03:35:46+00:00",
        "updated_at": "2025-06-30T07:15:07+00:00",
        "closed_at": "2025-06-30T07:15:07+00:00",
        "comments_count": [
            "haoyuying",
            "Jiangbiyu",
            "Zeref996",
            "Jiangbiyu",
            "linjieccc",
            "Jiangbiyu",
            "linjieccc",
            "Jiangbiyu",
            "linjieccc",
            "coderchuan",
            "linjieccc",
            "coderchuan",
            "linjieccc",
            "coderchuan"
        ],
        "labels": [
            "nlp",
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1577,
        "title": "在PaddlePaddle1.7.2上进行finetune训练后,原模型网络结构被改变无法正常预测怎么解决?",
        "body": "版本信息:\r\nPaddlePaddle1.7.2\r\nPaddleHub1.6.0\r\nPython3.7.4\r\n\r\n环境:\r\nWindows使用AIStudio\r\n\r\n在PaddlePaddle1.7.2上进行finetune训练后, 预测结果里只出现自定义lablelist里面的lable，resnet50_vd_animals模型网络结构被改变无法正常预测原模型的lablelist, 请问这种情况应该怎么解决？\r\n\r\n相关代码如下:\r\n\r\n\t#加载自定义数据集\r\n\t#!cp /home/aistudio/data/data103940/test.zip ./  \r\n\t#!unzip -o test.zip\r\n\r\n\timport argparse\r\n\timport os\r\n\timport ast\r\n\r\n\timport paddle.fluid as fluid\r\n\timport paddlehub as hub\r\n\timport numpy as np\r\n\r\n\tfrom paddlehub.dataset.base_cv_dataset import BaseCVDataset\r\n\t   \r\n\tclass DemoDataset(BaseCVDataset):\t\r\n\t   def __init__(self):\t\r\n\t\t   # 数据集存放位置\r\n\t\t   self.dataset_dir = \"test\"\r\n\t\t   super(DemoDataset, self).__init__(\r\n\t\t\t   base_path=self.dataset_dir,\r\n\t\t\t   train_list_file=\"train_list.txt\",\r\n\t\t\t   validate_list_file=\"validate_list.txt\",\r\n\t\t\t   test_list_file=\"test_list.txt\",\r\n\t\t\t   #predict_file=\"predict_list.txt\",\r\n\t\t\t   label_list_file=\"label_list.txt\",\r\n\t\t\t   # label_list=[\"数据集所有类别\"]\r\n\t\t\t   )\r\n\tdataset = DemoDataset()\r\n\tprint(\"加载自定义数据集完成!\")\r\n\r\n\tmodule = hub.Module(name=\"resnet50_vd_animals\")\r\n\tprint(\"加载预训练模型完成!\")\r\n\r\n\r\n\t#生成Reader\r\n\t# Use ImageClassificationReader to read dataset\r\n\tdata_reader = hub.reader.ImageClassificationReader(\r\n\t\timage_width=module.get_expected_image_width(),\r\n\t\timage_height=module.get_expected_image_height(),\r\n\t\timages_mean=module.get_pretrained_images_mean(),\r\n\t\timages_std=module.get_pretrained_images_std(),\r\n\t\tdataset=dataset)\r\n\tprint(\"生成Reader完成!\")\r\n\r\n\r\n\t#配置策略\r\n\r\n\t# Setup runing config for PaddleHub Finetune API\r\n\tconfig = hub.RunConfig(\r\n\t\tuse_cuda=True,\r\n\t\tnum_epoch=100,\r\n\t\tcheckpoint_dir=\"./cv_finetune_turtorial_demo\",\r\n\t\tbatch_size=32,\r\n\t\teval_interval=50,\r\n\t\tstrategy=hub.finetune.strategy.DefaultFinetuneStrategy())\r\n\tprint(\"配置策略完成!\")\r\n\r\n\r\n\t#迁移组网\r\n\t# Define a reading comprehension finetune task by PaddleHub's API\r\n\tinput_dict, output_dict, program = module.context(trainable=True) #获取预训练module的上下文信息包括输入、输出变量以及paddle program\r\n\t\t\r\n\tfeature_map = output_dict[\"feature_map\"] #从预训练模型的输出变量中找到特征图，提取feature_map\r\n\t\t\r\n\tfeed_list = [input_dict[\"image\"].name] #获取预训练模型中输入变量的名字列表，需要把该名字列表feed进入组建的task中\r\n\t\t\r\n\r\n\ttask = hub.ImageClassifierTask(\r\n\t\tdata_reader=data_reader,\r\n\t\tfeed_list=feed_list,\r\n\t\tfeature=feature_map,\r\n\t\tnum_classes=dataset.num_labels,\r\n\t\tconfig=config)\r\n\tprint(\"迁移组网完成! 即将开始一个\"+str(dataset.num_labels)+\"分类任务。\")\r\n\r\n\t#迁移任务执行\r\n\ttask.finetune_and_eval()\r\n\tprint(\"finetuning 完成!\")\r\n\r\n    #预测\r\n\timport paddlehub as hub\r\n\timport numpy as np\r\n\r\n\tdata = [\"0_1152.jpg\"]\r\n\tlabel_map = dataset.label_dict()\r\n\tindex = 0\r\n\t# get classification result\r\n\trun_states = task.predict(data=data)\r\n\tresults = [run_state.run_results for run_state in run_states]\r\n\r\n\tfor batch_result in results:\r\n\t\t# get predict index\r\n\t\tbatch_result = np.argmax(batch_result, axis=2)[0]\r\n\t\tfor result in batch_result:\r\n\t\t\tindex += 1\r\n\t\t\tresult = label_map[result]\r\n\t\t\tprint(\"input %i is %s, and the predict result is %s\" %\r\n\t\t\t\t  (index, data[index - 1], result))",
        "state": "closed",
        "user": "tgniye",
        "closed_by": "WYB27",
        "created_at": "2021-08-16T05:23:22+00:00",
        "updated_at": "2025-06-30T07:15:03+00:00",
        "closed_at": "2025-06-30T07:15:03+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1576,
        "title": "Paddle2.0.0版本之后，paddle默认使用动态图模式，请问静态图在2.0.0之后的版本上要如何运行?",
        "body": "版本信息:\r\n    PaddlePaddle2.1.2 \r\n    PaddleHub2.0.4\r\n    Python3.7.4\r\n环境:\r\n    Windows使用的AIStudio\r\n\r\n相关代码:\r\n\r\n    import paddle\r\n\r\n    from paddlehub.finetune.trainer import Trainer\r\n\r\n    # optimizer = paddle.optimizer.Adam(learning_rate=0.001, parameters=model.parameters())\r\n\r\n    trainer = Trainer(model, None, checkpoint_dir='img_classification_ckpt')\r\n\r\n\r\n利用AIStudio进行 finetune 训练时, trainer = Trainer(model, None, checkpoint_dir='img_classification_ckpt') 报错AttributeError: 'ResNet50vdAnimals' object has no attribute '__name__';\r\n\r\n详细报错如下: \r\n---------------------------------------------------------------------------AttributeError                            Traceback (most recent call last)<ipython-input-42-b488c3ece3e7> in <module>\r\n      7 \r\n      8 \r\n----> 9 trainer = Trainer(model, None, checkpoint_dir='img_classification_ckpt')\r\n     10 \r\n     11 trainer.train(flowers, epochs=100, batch_size=32, eval_dataset=flowers_validate, save_interval=1)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/finetune/trainer.py in __init__(self, model, optimizer, use_gpu, use_vdl, checkpoint_dir, compare_metrics, **kwargs)\r\n     67 \r\n     68         if not isinstance(self.model, paddle.nn.Layer):\r\n---> 69             raise TypeError('The model {} is not a `paddle.nn.Layer` object.'.format(self.model.__name__))\r\n     70 \r\n     71         if self.local_rank == 0 and not os.path.exists(self.checkpoint_dir):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __getattribute__(self, attr)\r\n     87     # execution of the static graph model to fail, so compatibility protection is required.\r\n     88     def __getattribute__(self, attr):\r\n---> 89         _attr = object.__getattribute__(self, attr)\r\n     90 \r\n     91         # If the acquired attribute is a built-in property of the object, skip it.\r\nAttributeError: 'ResNet50vdAnimals' object has no attribute '__name__'\r\n\r\n\r\n查看PaddleHubAPI后发现2.0.0版本后Paddle默认使用动态图,会导致静态图模型执行失败; ResNet50vdAnimals模型传入后提示不属于paddle.nn.Layer, 请问动态图在2.0.0之后的版本上要如何运行?\r\n\r\n    # After the 2.0.0rc version, paddle uses the dynamic graph mode by default, which will cause the\r\n    # execution of the static graph model to fail, so compatibility protection is required.\r\n    def __getattribute__(self, attr):\r\n        _attr = object.__getattribute__(self, attr)\r\n\r\n        # If the acquired attribute is a built-in property of the object, skip it.\r\n        if re.match('__.*__', attr):\r\n            return _attr\r\n        # If the module is a dynamic graph model, skip it.\r\n        elif isinstance(self, paddle.nn.Layer):\r\n            return _attr\r\n        # If the acquired attribute is not a class method, skip it.\r\n        elif not inspect.ismethod(_attr):\r\n            return _attr\r\n\r\n        return paddle_utils.run_in_static_mode(_attr)\r\n\r\n",
        "state": "closed",
        "user": "tgniye",
        "closed_by": "WYB27",
        "created_at": "2021-08-16T03:44:19+00:00",
        "updated_at": "2025-06-30T07:15:05+00:00",
        "closed_at": "2025-06-30T07:15:04+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1578,
        "title": "Jetson Agx 在调用paddlehub模型时  没有使用gpu应该怎么解决",
        "body": "![@Q5GKX029}LH9IEUUJ_%@%1](https://user-images.githubusercontent.com/73003661/129658770-06b8371f-fe91-4884-b2ef-14dc161c6bfd.png)\r\n会提示如上的warning 但是在环境变量中我已经配置了cuda的位置\r\n![CX 1E78Z0CA)O~{JV7 (HGE](https://user-images.githubusercontent.com/73003661/129658981-45079b28-a8aa-4bf5-b14e-38f861c7ae4e.png)\r\n\r\n",
        "state": "closed",
        "user": "kractics",
        "closed_by": "kractics",
        "created_at": "2021-08-17T03:30:38+00:00",
        "updated_at": "2021-08-18T13:03:05+00:00",
        "closed_at": "2021-08-18T13:03:05+00:00",
        "comments_count": [
            "haoyuying",
            "kractics",
            "haoyuying",
            "kractics",
            "haoyuying",
            "kractics",
            "kractics"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1581,
        "title": "flask+gunicorn现在支持GPU多进程启动了吗？",
        "body": null,
        "state": "closed",
        "user": "yangy996",
        "closed_by": "WYB27",
        "created_at": "2021-08-18T06:33:17+00:00",
        "updated_at": "2025-06-30T07:15:01+00:00",
        "closed_at": "2025-06-30T07:15:01+00:00",
        "comments_count": [
            "yangy996",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1584,
        "title": "b'{\"msg\":\"Can\\'t connect to Hub Server: http://paddlepaddle.org.cn/paddlehub\",\"results\":\"\",\"status\":\"101\"}",
        "body": "在使用paddleHub的OCR的时候：hub serving start -m chinese_ocr_db_crnn_server -p 8866\r\n\r\n似乎需要联网？\r\n\r\n可否在无网络的情况下，单机跑这个chinese_ocr_db_crnn_server呢？",
        "state": "closed",
        "user": "ge1mina023",
        "closed_by": "WYB27",
        "created_at": "2021-08-19T07:06:33+00:00",
        "updated_at": "2025-06-30T07:14:59+00:00",
        "closed_at": "2025-06-30T07:14:59+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1590,
        "title": "安装auto-augment中的ujson版本匹配前后矛盾",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n**软件环境**：Linux，PaddleHub 2.0.4，PaddlePaddle 2.1.2，Python 3.7。\r\n**硬件环境**：百度AI Studuio的至尊GPU，如下：\r\nGPU: Tesla V100, Video Mem: 32GB\r\nCPU: 4 Cores, RAM: 32GB, Disk: 100GB\r\n\r\n**过程描述**：\r\n申请完至尊GPU后，安装auto-augment时出现ujson版本不匹配问题，如下：\r\n![image](https://user-images.githubusercontent.com/33344722/131063419-f4e666c1-70be-40ff-8006-d9dd356a289c.png)\r\n安装时涉及的组件“python-language-server 0.33.0”和“python-jsonrpc-server 0.3.4”要求ujson版本不得超过1.35。\r\n自己使用pip安装ujson 1.35： pip install ujson==1.35\r\n虽然成功安装，但是出现“auto-augment 1.0.0”所需ujson版本不匹配问题，如下：\r\n![image](https://user-images.githubusercontent.com/33344722/131063516-5249356c-c3a7-4a2c-83e4-3ccc293ef6e7.png)\r\n再次安装auto-augment时，安装程序卸载ujson 1.35，重新安装为ujson 3.0，如下：\r\n![image](https://user-images.githubusercontent.com/33344722/131063592-7514b8bb-0026-4a2f-b21f-a1c386881bb0.png)\r\n重新启动AI Studio，使用pip list查看版本，发现在初始状态下，ujson版本是1.35。\r\n由此可知，产生上述问题的原因是：安装auto-augment时，要求ujson版本是3.0.0，当前版本1.35不满足条件，所以系统升级ujson到3.0.0，但是涉及的组件“python-language-server 0.33.0”和“python-jsonrpc-server 0.3.4”要求ujson版本不得超过1.35，所以版本匹配中产生矛盾。\r\n\r\n",
        "state": "closed",
        "user": "gongmingwang",
        "closed_by": "WYB27",
        "created_at": "2021-08-27T02:43:20+00:00",
        "updated_at": "2025-06-30T07:14:57+00:00",
        "closed_at": "2025-06-30T07:14:57+00:00",
        "comments_count": [
            "Haijunlv"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1591,
        "title": "执行数据增强示例时env.py的创建目录错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n**软件环境**：Linux，PaddleHub 2.0.4，PaddlePaddle 2.1.2，Python 3.7。\r\n**硬件环境**：百度AI Studuio的至尊GPU，如下：\r\nGPU: Tesla V100, Video Mem: 32GB\r\nCPU: 4 Cores, RAM: 32GB, Disk: 100GB\r\n\r\n**过程描述**：\r\n执行数据增强示例（位于目录“demo\\autoaug”）的搜索流程：bash search.sh，在执行过程中出现下述错误：\r\n![image](https://user-images.githubusercontent.com/33344722/131063929-e06f2326-02a3-4ca2-8277-abbe4d41458c.png)\r\n打开所示文件“error.txt”，内容如下：\r\n![image](https://user-images.githubusercontent.com/33344722/131063951-b2db33db-f5f3-4876-9085-ed6b96ca413a.png)\r\n上述错误表示：程序准备创建目录“/home/aistudio/.paddlehub/modules”时，由于原先存在该目录，所以报错。\r\n创建目录的代码位于env.py，对应内容如下：\r\n![image](https://user-images.githubusercontent.com/33344722/131063982-9abb0f24-dac4-42cf-ab6e-33a1ec0e5cc7.png)\r\nos.py是python 3.7的系统文件，对应内容如下：\r\n![image](https://user-images.githubusercontent.com/33344722/131064009-66bfb6c3-7b00-4c96-8dd6-e1d91f9086c8.png)\r\n程序执行到了os.py的红框语句，所以抛出异常。按照程序逻辑，执行env.py的红框语句时，由于目录存在，所以就不应该继续执行，但是却仍然自行，所以产生错误。\r\n\r\n",
        "state": "closed",
        "user": "gongmingwang",
        "closed_by": "WYB27",
        "created_at": "2021-08-27T02:47:46+00:00",
        "updated_at": "2025-06-30T07:14:55+00:00",
        "closed_at": "2025-06-30T07:14:55+00:00",
        "comments_count": [
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1600,
        "title": "paddlehub.utils.log 找不到 ",
        "body": "在使用paddlehub时，报错，paddlehub.utils.log 找不到，\r\npaddlehub:1.8.2,  paddlepaddle:2.0.28  ubantu \r\n",
        "state": "closed",
        "user": "songsh",
        "closed_by": "WYB27",
        "created_at": "2021-09-01T06:49:15+00:00",
        "updated_at": "2025-06-30T07:14:49+00:00",
        "closed_at": "2025-06-30T07:14:49+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1595,
        "title": "生成环境警告",
        "body": "运行paddlehub之后，出现警告WARNING: This is a development server. Do not use it in a production deployment\r\n请问在生成环境使用有没有影响，如何解决这个警告？",
        "state": "closed",
        "user": "isLiuHao",
        "closed_by": "WYB27",
        "created_at": "2021-09-01T01:40:01+00:00",
        "updated_at": "2025-06-30T07:14:51+00:00",
        "closed_at": "2025-06-30T07:14:51+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1604,
        "title": "配置paddlehub config.json，提示RuntimeError: ./config.json not exists.",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub2.1.0，PaddlePaddle2.1.2   (cpu版)\r\n2）系统环境：Linux/MacOS/，python3.8 & python3.7\r\n- 使用这个命令\r\n$ hub serving start --config config.json\r\n提示\r\n  File \"/Users/username/opt/anaconda3/envs/paddle_ocr/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/Users/username/opt/anaconda3/envs/paddle_ocr/lib/python3.8/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/Users/username/opt/anaconda3/envs/paddle_ocr/lib/python3.8/site-packages/paddlehub/commands/serving.py\", line 351, in execute\r\n    self.parse_args()\r\n  File \"/Users/username/opt/anaconda3/envs/paddle_ocr/lib/python3.8/site-packages/paddlehub/commands/serving.py\", line 307, in parse_args\r\n    raise RuntimeError(\"{} not exists.\".format(self.args.config))\r\nRuntimeError: ./config.json not exists.\r\n\r\n文件放在了当前操作目录。指定了绝对路径也是出错。请教一下，config.json应该放在哪个目录呀？\r\n\r\n完全是按照要求来的呀\r\n--modules_info\r\n\tSet module config in PaddleHub Serving.--config/-c file_path\r\n\tUse configs in file to start PaddleHub Serving. Other parameters will be ignored if you specify the parameter.\r\n",
        "state": "closed",
        "user": "Jaas-Wang",
        "closed_by": "Jaas-Wang",
        "created_at": "2021-09-01T09:28:50+00:00",
        "updated_at": "2021-09-02T03:51:44+00:00",
        "closed_at": "2021-09-02T03:51:44+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1606,
        "title": "图像分类中的预训练模型支持paddlehub2.0的有哪些",
        "body": "请说明白目前有哪些是支持2.0的，还是在2.0项目的下的所有预训练模型都支持\r\n呢\r\n\r\n![0c1ec61b3c514c1bd717c49257dcf85](https://user-images.githubusercontent.com/49387197/131775816-6c427847-be60-4121-89eb-9a558ea1a82c.png)\r\n",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-09-02T03:12:44+00:00",
        "updated_at": "2025-06-30T07:14:47+00:00",
        "closed_at": "2025-06-30T07:14:47+00:00",
        "comments_count": [
            "haoyuying",
            "sk8boi"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1592,
        "title": "PaddleHub口罩检测助力抗击肺炎 项目出错",
        "body": "1）PaddleHub和PaddlePaddle版本：\r\nPaddleHub1.7.1，\r\nPaddlePaddle-gpu1.7.2post107\r\n2）系统环境：\r\nubuntu, python3.6\r\nai studio notebook, python3.6\r\n\r\n我在aistudio notebook及本地服务器上复现《PaddleHub口罩检测助力抗击肺炎》项目，但得到的结果均为空，请问应该如何处理：\r\n\r\n{‘msg’: {‘Warnning’: “This usage is out of date, please use ‘application/json’ as content-type to post to /predict/pyramidbox_lite_server_mask. See ‘https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.6/docs/tutorial/serving.md’ for more details.”}, ‘results’: ‘’, ‘status’: ‘-1’}\r\n\r\n\r\n",
        "state": "closed",
        "user": "huilin16",
        "closed_by": "WYB27",
        "created_at": "2021-08-29T03:02:35+00:00",
        "updated_at": "2025-06-30T07:14:53+00:00",
        "closed_at": "2025-06-30T07:14:53+00:00",
        "comments_count": [
            "haoyuying",
            "huilin16",
            "huilin16",
            "haoyuying",
            "KPatr1ck",
            "huilin16",
            "huilin16",
            "KPatr1ck",
            "huilin16"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1607,
        "title": "gpu利用率和推理速度问题",
        "body": "T4环境：\r\ncuda 101\r\ncudnn 765\r\npaddlepaddle-gpu        2.1.0.post101\r\npaddlehub                         2.0.4\r\n\r\n\r\nA40环境\r\ncuda 11.2\r\ncudnn 811\r\npaddlepaddle-gpu                  2.1.2.post112\r\npaddlehub                         2.0.4\r\n\r\n在finetuned后的resnet50_vd_imagenet_ssld模型上测试。\r\nTesla T4的推理速度要 Nvida A40的快，并且T4的显卡利用率到30%。但是A40的显卡利用率只有5%。以下接口测试结果。\r\n按理说A40的机器配置要优于T4的，推理速要比T4推理翻倍才对，请问出现这种情况是和paddle的框架对gpu的利用率有关系吗？还是处于其他原因。望解惑！\r\nA40\r\n![image](https://user-images.githubusercontent.com/49387197/131778781-a7f6bd4a-7cdb-4ae6-a945-d010858754a7.png)\r\nT4\r\n![image](https://user-images.githubusercontent.com/49387197/131778797-29391381-2e36-406f-a2e7-2d67f1850e77.png)\r\n\r\n",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-09-02T03:50:35+00:00",
        "updated_at": "2025-06-30T07:14:45+00:00",
        "closed_at": "2025-06-30T07:14:45+00:00",
        "comments_count": [
            "nepeplwu",
            "suntao2015005848",
            "nepeplwu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1608,
        "title": "ModuleNotFoundError: No module named 'paddle.utils.cpp_extension'",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n![image](https://user-images.githubusercontent.com/62530854/131950035-bfdd7e7a-8d7a-484b-b55f-aac1ff6cb180.png)\r\n提示没有这个module",
        "state": "closed",
        "user": "cfy42584125",
        "closed_by": "WYB27",
        "created_at": "2021-09-03T04:21:15+00:00",
        "updated_at": "2025-06-30T07:14:43+00:00",
        "closed_at": "2025-06-30T07:14:43+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1610,
        "title": "Paddlehub加载训练好的模型，对于同一张图片，每次predict的结果都不同",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub1.8.2，PaddlePaddle1.8.5\r\n2）系统环境：CentOS 7.6.1810， python 3.7.9\r\n\r\n使用如下代码，加载训练好的分类模型，对于同一张图片，每次结果都不同。自动下载的预训练模型与训练时是相同的\r\n# coding:utf-8\r\n\r\nimport base64\r\n\r\nimport cv2\r\nimport numpy as np\r\nimport paddlehub as hub\r\nfrom paddlehub.dataset.base_cv_dataset import BaseCVDataset\r\n\r\nmodule_eff = \"efficientnetb7_imagenet\"\r\ncheckpoint_dir = \"./hdstamp_v2\"\r\ndataset_dir = \"./data\"\r\ntest_list_file = \"test.txt\"\r\nlabel_list_file = \"labels.txt\"\r\nuse_gpu = False\r\n\r\n\r\nclass DemoDataset(BaseCVDataset):\r\n    def __init__(self):\r\n        self.dataset_dir = dataset_dir\r\n        super(DemoDataset, self).__init__(\r\n            base_path=self.dataset_dir,\r\n            test_list_file=test_list_file,\r\n            label_list_file=label_list_file)\r\n\r\n\r\ndef base64_to_nparr(img):\r\n    img_data = base64.b64decode(img)\r\n    nparr = np.fromstring(img_data, np.uint8)\r\n    img_np = cv2.imdecode(nparr, cv2.IMREAD_COLOR)\r\n    return img_np\r\n\r\n\r\ndef module_initialization():\r\n    module = hub.Module(name=module_eff)\r\n    input_dict, output_dict, program = module.context(trainable=False)\r\n\r\n    dataset = DemoDataset()\r\n\r\n    data_reader = hub.reader.ImageClassificationReader(\r\n        image_width=module.get_expected_image_width(),\r\n        image_height=module.get_expected_image_height(),\r\n        images_mean=module.get_pretrained_images_mean(),\r\n        images_std=module.get_pretrained_images_std(),\r\n        dataset=dataset)\r\n\r\n    feature_map = output_dict[\"feature_map\"]\r\n    feed_list = [input_dict[\"image\"].name]\r\n\r\n    # Setup RunConfig for PaddleHub Fine-tune API\r\n    hub_config = hub.RunConfig(\r\n        use_data_parallel=False,\r\n        use_cuda=use_gpu,\r\n        checkpoint_dir=checkpoint_dir)\r\n    task = hub.ImageClassifierTask(\r\n        data_reader=data_reader,\r\n        feed_list=feed_list,\r\n        feature=feature_map,\r\n        num_classes=dataset.num_labels,\r\n        config=hub_config)\r\n    return task\r\n\r\n\r\ndef process(img64, task):\r\n    data = []\r\n    img_np = base64_to_nparr(img64)\r\n    data.append(img_np)\r\n    res = task.predict(data=data, return_result=True, accelerate_mode=False)\r\n    return res\r\n\r\n",
        "state": "closed",
        "user": "MichaelLiu-TJ",
        "closed_by": "WYB27",
        "created_at": "2021-09-03T08:26:20+00:00",
        "updated_at": "2025-06-30T07:14:41+00:00",
        "closed_at": "2025-06-30T07:14:41+00:00",
        "comments_count": [
            "haoyuying",
            "MichaelLiu-TJ",
            "haoyuying",
            "croook",
            "MichaelLiu-TJ"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1612,
        "title": "paddlehub同类语义范例中，加载ernie模型后，调用方法报错",
        "body": "请帮看看如下问题\r\npaddlehub              2.1.0          \r\npaddlenlp              2.0.7          \r\npaddlepaddle-gpu       2.1.2.post101\r\npython3.7               \r\nhttps://aistudio.baidu.com/bdvgpu/user/621532/2342769/notebooks/2342769.ipynb\r\n\r\nmodule = hub.Module(name=\"ernie\")\r\n**#AttributeError: 'Ernie' object has no attribute 'context'**\r\ninputs, outputs, program = module.context(trainable=True, max_seq_len=128, num_slots=2)\r\n**#AttributeError: 'ErnieTiny' object has no attribute 'get_vocab_path'**\r\ntokenizer = hub.BertTokenizer(vocab_file=module.get_vocab_path(), tokenize_chinese_chars=True)\r\ndataset = COVID19Competition(tokenizer=tokenizer, max_seq_len=128)",
        "state": "closed",
        "user": "conquer66666",
        "closed_by": "WYB27",
        "created_at": "2021-09-07T03:49:50+00:00",
        "updated_at": "2025-06-30T07:14:38+00:00",
        "closed_at": "2025-06-30T07:14:38+00:00",
        "comments_count": [
            "linjieccc",
            "conquer66666",
            "linjieccc",
            "conquer66666",
            "linjieccc",
            "conquer66666"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1617,
        "title": "语义分割如何在服务器部署后直接输出彩色图像",
        "body": "如何在语义分割时直接获取彩色图像或修改源码",
        "state": "closed",
        "user": "bomb944588",
        "closed_by": "WYB27",
        "created_at": "2021-09-23T03:05:53+00:00",
        "updated_at": "2025-06-30T07:14:34+00:00",
        "closed_at": "2025-06-30T07:14:34+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1611,
        "title": "加载模型两次就会报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n运行这个项目https://aistudio.baidu.com/aistudio/projectdetail/1749014?channelType=0&channel=0\r\n没有更改环境\r\n当点击两次加载模型的时候aistudio里面就会报错\r\n![image](https://user-images.githubusercontent.com/40344969/132092394-0f5fd109-123c-4b3e-83d9-7dfc4b628e63.png)\r\n报错截图\r\n![image](https://user-images.githubusercontent.com/40344969/132092405-eb0bbb5f-fecf-4aab-bac4-ffc3e59e0d21.png)\r\n",
        "state": "closed",
        "user": "tughv",
        "closed_by": "WYB27",
        "created_at": "2021-09-04T11:12:21+00:00",
        "updated_at": "2025-06-30T07:14:40+00:00",
        "closed_at": "2025-06-30T07:14:40+00:00",
        "comments_count": [
            "haoyuying",
            "tughv",
            "Zeref996"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1619,
        "title": "hub install 后通过 hub list 找不到对应的 module",
        "body": "飞桨团队您好，首先感谢开源提供了 hub 平台，非常好用，但由于对 hub 的不了解，在文档中没有找到相关的说明，这边通过 PaddleClas 套件 install 后的组件只能在当前目录下通过 hub list 找到，在其他目录下通过 hub list 均无法找到，这个是为什么呢，希望有知道的同学解答一下，感谢感谢。\r\n![image](https://user-images.githubusercontent.com/22209885/134474976-e2db4c88-e16a-4569-8b77-e415a7c086ce.png)\r\n![image](https://user-images.githubusercontent.com/22209885/134474923-6f1f66c4-e356-4e7a-aae0-4588dbd4822b.png)\r\n",
        "state": "closed",
        "user": "MyAuntIsPost90s",
        "closed_by": "MyAuntIsPost90s",
        "created_at": "2021-09-23T08:16:32+00:00",
        "updated_at": "2021-09-29T14:18:41+00:00",
        "closed_at": "2021-09-29T14:18:41+00:00",
        "comments_count": [
            "haoyuying",
            "MyAuntIsPost90s",
            "89080322",
            "89080322",
            "MyAuntIsPost90s"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1621,
        "title": "序列标注加载模型报错",
        "body": "paddle版本：\r\npaddlehub                 2.1.0                    pypi_0    pypi\r\npaddlenlp                 2.0.8                    pypi_0    pypi\r\npaddlepaddle-gpu          2.1.3                    pypi_0    pypi\r\n\r\n语句：\r\nimport paddlehub as hub\r\nimport paddle\r\nlabel_list = ['B-assist','B-cellno','B-city','B-community','B-devzone','B-distance','B-district','B-floorno','B-houseno',\r\n              'B-intersection','B-poi','B-prov','B-road','B-roadno','B-subpoi','B-town','B-village_group','E-assist','E-cellno',\r\n              'E-city','E-community','E-devzone','E-distance','E-district','E-floorno','E-houseno','E-intersection','E-poi','E-prov',\r\n              'E-road','E-roadno','E-subpoi','E-town','E-village_group','I-assist','I-cellno','I-city','I-community','I-devzone',\r\n              'I-distance','I-district','I-floorno','I-houseno','I-intersection','I-poi','I-prov','I-road','I-roadno','I-subpoi',\r\n              'I-town','I-village_group','O','S-assist','S-intersection','S-poi','S-district','S-community']\r\nlabel_map = {idx: label for idx, label in enumerate(label_list)}\r\n# 选择所需要的模型\r\nmodel = hub.Module(name='ernie', task='token-cls', label_map=label_map)\r\n\r\n出错信息：\r\nTypeError                                 Traceback (most recent call last)\r\n~\\AppData\\Local\\Temp/ipykernel_1104/1273845971.py in <module>\r\n      1 # 选择所需要的模型\r\n----> 2 model = hub.Module(name='ernie', task='token-cls', label_map=label_map)\r\n\r\n~\\Anaconda3\\envs\\paddle-env\\lib\\site-packages\\paddlehub\\module\\module.py in __new__(cls, name, directory, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    386             # This branch come from hub.Module(name='xxx') or hub.Module(directory='xxx')\r\n    387             if name:\r\n--> 388                 module = cls.init_with_name(\r\n    389                     name=name,\r\n    390                     version=version,\r\n\r\n~\\Anaconda3\\envs\\paddle-env\\lib\\site-packages\\paddlehub\\module\\module.py in init_with_name(cls, name, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    502             )\r\n    503             user_module = user_module_cls(directory=directory)\r\n--> 504             user_module._initialize(**kwargs)\r\n    505             return user_module\r\n    506 \r\n\r\n~\\Anaconda3\\envs\\paddle-env\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py in runner(*args, **kwargs)\r\n    218     def runner(*args, **kwargs):\r\n    219         with static_mode_guard():\r\n--> 220             return func(*args, **kwargs)\r\n    221 \r\n    222     return runner\r\n\r\nTypeError: _initialize() got an unexpected keyword argument 'task'",
        "state": "closed",
        "user": "jacbson",
        "closed_by": "WYB27",
        "created_at": "2021-09-24T01:18:46+00:00",
        "updated_at": "2025-06-30T07:14:32+00:00",
        "closed_at": "2025-06-30T07:14:32+00:00",
        "comments_count": [
            "linjieccc",
            "jacbson",
            "linjieccc",
            "jacbson",
            "linjieccc",
            "linjieccc",
            "jacbson",
            "linjieccc",
            "jacbson",
            "linjieccc",
            "jacbson",
            "rrryan2016",
            "suntao2015005848",
            "ikkiTousen"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1616,
        "title": "Trainer如何自定义随机数种子",
        "body": "paddlehub有一个trainer的高阶模型训练api，可是无法固定随机数种子，导致每次跑出来的结果不一样\r\n希望得到一个解决方案，可以固定随机数种子\r\n`from paddlehub as trainer`\r\n\r\n(帮其他人问的）",
        "state": "closed",
        "user": "jhcgt4869",
        "closed_by": "WYB27",
        "created_at": "2021-09-18T09:55:43+00:00",
        "updated_at": "2025-06-30T07:14:36+00:00",
        "closed_at": "2025-06-30T07:14:36+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1627,
        "title": "使用pyramidbox_face_detection模型预测时，一些图片推测报错",
        "body": "\r\n- 版本、环境信息  \r\n1) PaddlePaddle 2.1.3 & PaddleHub 2.1\r\n2) 系统环境：MacOS，python3.8\r\n- 复现信息：\r\n```python\r\nimport cv2\r\nimport paddlehub as hub\r\n\r\n\r\nmodule = hub.Module(name=\"pyramidbox_face_detection\")\r\n\r\ntest_img = cv2.imread(\"data/cropped-0-3.JPG\")\r\n\r\nresults = module.face_detection(images=[test_img], visualization=True, use_gpu=False, score_thresh=0.15)\r\n\r\nfor result in results:\r\n    print('result=', result)\r\n```\r\n\r\n- 错误信息\r\n```shell\r\nTraceback (most recent call last):\r\n  File \"/Users/jger/work/python/paddle_study/paddlehub_examples/paddlehub_face_detector.py\", line 28, in <module>\r\n    results = module.face_detection(images=[test_img], visualization=True, use_gpu=False, score_thresh=0.15)\r\n  File \"/Users/jger/opt/anaconda3/envs/paddle_env2/lib/python3.8/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/Users/jger/.paddlehub/modules/pyramidbox_face_detection/module.py\", line 105, in face_detection\r\n    out = postprocess(\r\n  File \"/Users/jger/.paddlehub/modules/pyramidbox_face_detection/processor.py\", line 107, in postprocess\r\n    det_conf = data_out[:, 1]\r\nIndexError: index 1 is out of bounds for axis 1 with size 1\r\n```\r\n![cropped-0-3](https://user-images.githubusercontent.com/2832192/134796897-c48e9975-a2f7-4ac9-8deb-f3ace4beccc4.JPG)\r\n\r\n",
        "state": "closed",
        "user": "gitzhang",
        "closed_by": "WYB27",
        "created_at": "2021-09-26T06:49:25+00:00",
        "updated_at": "2025-06-30T07:14:30+00:00",
        "closed_at": "2025-06-30T07:14:30+00:00",
        "comments_count": [
            "haoyuying",
            "gitzhang",
            "haoyuying",
            "gitzhang",
            "Yakuho"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1631,
        "title": "human_pose_estimation_resnet50_mpii人体关键点检测速度很慢，差不多一秒才能返回",
        "body": "1）PaddleHub2.1.0，PaddlePaddle2.1.3，human_pose_estimation_resnet50_mpii 1.1.1\r\n2）系统环境：win10，python3.9.7\r\n无论是处理单独的图片，还是处理从视频中读取的单张图片，我调用keypoint_detection该接口返回的时间都是一秒多一点。\r\n这是什么原因呢？\r\n",
        "state": "closed",
        "user": "feelMySelfIsLouB",
        "closed_by": "WYB27",
        "created_at": "2021-09-28T05:49:31+00:00",
        "updated_at": "2025-06-30T07:14:28+00:00",
        "closed_at": "2025-06-30T07:14:28+00:00",
        "comments_count": [
            "feelMySelfIsLouB",
            "haoyuying",
            "feelMySelfIsLouB",
            "feelMySelfIsLouB"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1642,
        "title": "使用paddlehub报错",
        "body": "使用如下代码\r\nimport paddlehub as hub\r\nhub.version.hub_version\r\n\r\nAttributeError: module 'paddlehub' has no attribute 'version'\r\n\r\n i请问是我paddlehub版本不对吗\r\n",
        "state": "closed",
        "user": "jjchen460287",
        "closed_by": "WYB27",
        "created_at": "2021-10-03T10:30:42+00:00",
        "updated_at": "2025-06-30T07:14:26+00:00",
        "closed_at": "2025-06-30T07:14:26+00:00",
        "comments_count": [
            "haoyuying",
            "Haeppypuppy"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1643,
        "title": "有谁知道最新版paddle hub如何自定义情感分析数据集吗？",
        "body": "最近我在忙着让paddle hub学习我自己定义的情感分析数据集。可是我能够找到的情感分析数据集教程是关于paddle hub1.5版本的。\r\nhttps://www.bookstack.cn/read/paddlehub-1.5-zh/dedaa7f983adcfec.md\r\n所以有谁知道最新版的padldehub如何创建自定义的情感分析数据集吗？\r\n非常感谢！",
        "state": "closed",
        "user": "FleetCommander004",
        "closed_by": "WYB27",
        "created_at": "2021-10-06T10:02:44+00:00",
        "updated_at": "2025-06-30T07:14:24+00:00",
        "closed_at": "2025-06-30T07:14:24+00:00",
        "comments_count": [
            "linjieccc"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1650,
        "title": "{'msg': \"'Predictor' object has no attribute 'batch_predict'\", 'results': '', 'status': '101'}",
        "body": "版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\n\r\nName: paddlepaddle Version: 2.1.2\r\nName: paddlex Version: 2.0.0\r\nName: paddlehub Version: 2.1.1\r\n\r\n2）系统环境：Linux \r\npython版本:Python 3.7.4\r\n\r\n报错信息：\r\n{'msg': \"'Predictor' object has no attribute 'batch_predict'\", 'results': '', 'status': '101'}\r\n\r\n详细描述：对开源的项目进行学习和测试，该项目采用1.8.0版本的PaddlePaddle，通过PaddleHub部署成API，客户端调用正常。\r\n后来自己克隆了该项目并且升级到PaddlePaddle最新版2.1.2，然后重新训练了模型。最后通过PaddleHub部署成API，客户端调用是API返回错误信息：{'msg': \"'Predictor' object has no attribute 'batch_predict'\", 'results': '', 'status': '101'}\r\n原始项目地址（1.8.0版本的PaddlePaddle）：https://aistudio.baidu.com/aistudio/projectdetail/742090?channelType=0&channel=0\r\n",
        "state": "closed",
        "user": "careylipu",
        "closed_by": "careylipu",
        "created_at": "2021-10-13T08:27:50+00:00",
        "updated_at": "2021-10-19T01:53:40+00:00",
        "closed_at": "2021-10-19T01:53:40+00:00",
        "comments_count": [
            "KPatr1ck",
            "careylipu",
            "careylipu",
            "KPatr1ck",
            "careylipu",
            "KPatr1ck",
            "careylipu",
            "careylipu",
            "careylipu",
            "KPatr1ck",
            "careylipu"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1644,
        "title": "paddlehub2.0如何实现nlp分类的多标签分类。",
        "body": "如何实现自定义数据的多标签分类，或者有相关的demo吗，希望具体告知一下。",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2021-10-09T03:24:41+00:00",
        "updated_at": "2025-06-30T07:14:22+00:00",
        "closed_at": "2025-06-30T07:14:22+00:00",
        "comments_count": [
            "suntao2015005848",
            "linjieccc"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1651,
        "title": "UnboundLocalError: local variable 'downsample_ratios' referenced before assignment",
        "body": "版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\n\r\nName: paddlepaddle Version: 2.1.2\r\nName: paddlex Version: 2.0.0\r\nName: paddlehub Version: 2.1.1\r\n\r\n2）系统环境：Linux\r\npython版本:Python 3.7.4\r\n\r\n\r\n安全帽识别项目训练的yolov3模型通过!hub serving start -m larva运行，可以启动API。但是 pp-yolo模型 通过运行!hub serving start -m larva报错。\r\n\r\n报错信息如下：\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/setuptools/depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/__init__.py:107: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import MutableMapping\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/rcsetup.py:20: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Iterable, Mapping\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/colors.py:53: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Sized\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/distributed/parallel.py:120: UserWarning: Currently not a parallel execution environment, `paddle.distributed.init_parallel_env` will not do anything.\r\n  \"Currently not a parallel execution environment, `paddle.distributed.init_parallel_env` will not do anything.\"\r\n[10-13 16:38:50 MainThread @logger.py:242] Argv: /opt/conda/envs/python35-paddle120-env/bin/hub serving start -m larva\r\n[10-13 16:38:50 MainThread @utils.py:79] WRN paddlepaddle version: 2.1.2. The dynamic graph version of PARL is under development, not fully tested and supported\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/parl/remote/communication.py:38: DeprecationWarning: 'pyarrow.default_serialization_context' is deprecated as of 2.0.0 and will be removed in a future version. Use pickle or the pyarrow IPC functionality instead.\r\n  context = pyarrow.default_serialization_context()\r\n[2021-10-13 16:38:51,710] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/bin/hub\", line 10, in <module>\r\n    sys.exit(execute())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 352, in execute\r\n    self.start_serving()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 245, in start_serving\r\n    self.start_single_app_with_args()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 221, in start_single_app_with_args\r\n    self.preinstall_modules()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 152, in preinstall_modules\r\n    m = hub.Module(**init_args)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 395, in __new__\r\n    **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 504, in init_with_name\r\n    user_module._initialize(**kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/home/aistudio/.paddlehub/modules/larva/module.py\", line 60, in _initialize\r\n    **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlex/deploy.py\", line 52, in __init__\r\n    self._model = load_model(model_dir, with_net=False)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlex/cv/models/load_model.py\", line 86, in load_model\r\n    **model_info['_init_params'])\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlex/cv/models/detector.py\", line 1504, in __init__\r\n    self.downsample_ratios = downsample_ratios\r\nUnboundLocalError: local variable 'downsample_ratios' referenced before assignment\r\n",
        "state": "closed",
        "user": "careylipu",
        "closed_by": "careylipu",
        "created_at": "2021-10-13T08:41:13+00:00",
        "updated_at": "2021-10-18T09:09:21+00:00",
        "closed_at": "2021-10-18T09:09:21+00:00",
        "comments_count": [
            "haoyuying",
            "careylipu",
            "FlyingQianMM",
            "careylipu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1654,
        "title": "hub启动服务的时候，运行的代码不是本项目下的脚本",
        "body": "\r\n- 版本、环境信息\r\n1）PaddleHub--2.1.1版本PaddlePaddle1.6.2\r\n2）系统环境：Linux-ubuntu，python=3.7版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n- 在使用hub serving start -c deploy/hubserving/ocr_rec/config.json 启动服务的时候，运行的代码不是本项目下的脚本，具体如下图\r\n![7CPIBY``9L5V{Q59%ODUGLT](https://user-images.githubusercontent.com/49891512/137438337-6381cd42-a636-4eab-9008-e8ac323f1a84.png)\r\n\r\n",
        "state": "closed",
        "user": "InferMaster",
        "closed_by": "WYB27",
        "created_at": "2021-10-15T05:46:22+00:00",
        "updated_at": "2025-06-30T07:14:20+00:00",
        "closed_at": "2025-06-30T07:14:20+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1655,
        "title": "  human_pose_estimation_resnet50_mpii我能不能直接对该模型进行训练或者调整呢？",
        "body": "它得检测效果很不理想，我有什么办法能让它更准确呢？有没有文档或者其他什么",
        "state": "closed",
        "user": "feelMySelfIsLouB",
        "closed_by": "WYB27",
        "created_at": "2021-10-19T02:01:52+00:00",
        "updated_at": "2025-06-30T07:14:18+00:00",
        "closed_at": "2025-06-30T07:14:18+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1657,
        "title": "ace2p图像分割服务化部署后预测结果如何转成伪彩图？",
        "body": "server端得到的预测结果是伪彩图，png保存到了server端的路径下，这个没有问题，但是client端要获得png需要通过http请求再get一次，这个好像效率比较低。\r\nserver端png图像如下：\r\n![server1](https://user-images.githubusercontent.com/91400857/137843886-b5054bd2-e18f-4047-8d40-711adc08066f.png)\r\n\r\n我想在http请求返回的json中直接使用获得png图像数据。但是转换后的结果与server端保存的png质量查很多，想请教一下是什么原因\r\nhttp返回的json如下：\r\n{'msg': '', 'results': [{'data': '/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQIBAQECAgICAgQDAgICAgUEBAMEBgUGBgYFBgYGBwkIBgcJBwYGCAsICQoKCgoKBggLDAsKDAkKCgr/wAALCAEsASwBAREA/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/9oACAEBAAA/AP5/6KKKKKKKKKKKKKKKKKKKckTNyeBTvI/2/wBKDAMcMaR4SoyDn1plFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFKg3OB71PRRRUUsYX5l6elMooooooooooooooooooooooooooooooop8KHO8/hWnYaFc3iebI3lIRlSRkt+FWpfDERbMN2yjHRlz/AIUq+GbYR4a5cvj7wAx+X/16qX+g3FnGZo5BIij5sDBHvj0qgQGGDUBGDg9qKKKKKKKKKKKKKKKKKKKKKKKOvSnCFz2x9aDC4GeD9Kb060UUUVZtozO6QxkAuQoz6muqVVRQiKAAMAAdKWiiuWuIvIneDdnY5XOOuDVViCxI9aSiiiiiiiiiiiiiiiiiiiiilVSxwKlSNU9z606ikdFcc/nULKVODSUUVp6Ppt3I1vdhB5ZlyDnsDnn8iK6Giiisy40lbvWWeViY9iuwH5AfpWHfRpDezQxrhVlYKM9ADUVFFFFFFFFFFFFFFFFFFFFFSQAYLe9a1r4cmmhEs8/lE9E2ZIHvzUN5od7a/Mi+apOB5YJP4iqdFRzjo2KjoorpPDNxHLpiwqfmiYhh9SSD+v6GtCiiimyyJDG00jYVVJY46AVyFzN9ouZLjbje5bGemTmmUUUUUUUUUUUUUUUUUUUUUVZsIlmlihcnDuFOPc11dFUtU0aO/PnRsEkA5OOG+v8AjWHPBNbSGKeIqw7EVBOeAPeo6KKvaDqJsLwI7ARSkLJnt6HPbr+VdNRRRWD4n1GV7g6dGxCIAXH949fy6fj+FZNFFFFFFFFFFFFFFFFFFFFFFavhaAy3ZmOcRD17ngf1rfooqprNl9sszsXLp8yYHJ9R/nvisnVNKFjpSTTKPOaYAkHoCDx6dqzKKKK6bQdRF/ZhHYmWIBZM9/Q579Pzq9RUGo6hFptsbiUE84VR3Pp7VyksjzSNNI2WZiWOOpNNoooooooooooooooooooooorT8K3Hl37W7PgSpwMdWHP8s10NFFNmmit4mnncKijLMa53XdZ/tFxBAMQo2QSOWPr7f5/DPoooqS1u7izl8+2lKNjGR6VsWfiuJgEvoCpz9+Pkfl1H60t94qhj+Swj8w/33BC/l1Pf0rHur26vX8y6nZyOmeg+g7U+3sGnh83zMZztBHWq5BBwRgjqDRRRRRRRRRRRRRRRRRRRRRRT7a4ktZ0uIjhkbI9/auttLqK8t1uYCdrjjI5qSisfxTqKrENOicFmOZQOw6gf1/D3rDooooAJOAMk9AKnj0+4dGZkwduVBPU1C6NGxR1wR1FLFDLMdsSE1bttNVcPOcnrt7f/AF6tgADAGAOgFQXFhDMS6/Kx6kd6pT2k8HLrkf3h0qOiiiiiiiiiiiiiiiiiiiiir+h6wdOl8mdj5LH5gB908c+vat6LVNOnj82O9jwBk5bBAzjkHpzVDVPEsUIMGnkO+CDJ2U+3r/Lp1rCZmdi7sSSckk8k0lFABJwBknoBVqDTHb5p22j+6OtWobWGADYmSP4j1qSmTQRzrtkXPoe4pYYUgQRxjAH606iiioZ7GCfLY2t/eFU5rG4hBYqCAMkqahoooooooooooooooooooAJOAMk9AKty2CxWZcgmQcn/AAqpRUtpb/aJdpB2j7xHanXlkbf50JKep6ioK0bG2EEQdl+dhz7e1T0UUUUUUUUUVmXkAt5yi9CMjmoqKKKKKKKKKKKKKKKACTgDJPQCpo7G5l/5Z7R6txVu0slt/nY7m9fSp6ztQtxBKGTAV+gHaktLRrlsnhR1P9K0URY1CIuAOgpSARgjIPUGqM+mOHzBgqT0J6VeoooooooooooqvqEHmwbx1Tn8O9Z9FFFFFFFFFFFFFFPt4GuJPLU47k+grRt7aO3XCjJ7tjk1JRRTLi3S4QI5IAOeKWKNYYxGnQetOooooooooooooooorLuofInZAOOq/So6KKKKKKKKKKKKKv6XHthMh/iPH0H+TVmiiiiiiiiiiimvNFGQskignoCaVmVBudgAO5NCujjKMCD3BoLAdTRvWlBB6UUUUVT1VOEkC+oJ/wA/jVOiiiiiiiiiiiiitW2Ty7dF24+UZB9afRRRSNuA+QAn0JxQgYL855746UtFFFFKEJGagaJdzlhy/Dc/hRJH5uEY/Jj5l9T2pVUKoVRwBgUtFAJHSl3tTwcjNFKiPI2xFLE9ABmpJdHvbiEoYDhhxlhx+tYbqyMUdSGBwQRyDSUUUUUUUUUUUUVsUUUVHdTNBF5qpuwRnntTYLv7Q+I4m2gcs3r6VNRRRRQBk4qSop/v/hTKkCp5WNwz161GRg4ooopTIsaruYAE4JLYxV/SbK2vYftLybxuI2q3THr/ADrSSOOIbY41UZ6KMU6ua8U2H2a++1KV2z5IUDGCMZ/Pr+NZlFFFFFFFFFFFSWsfm3CJgfeyQfStSoJtQghcxncSOu0U3+1Lf+4/5D/Gp45ElQSRnIPQ06iiiiiigcHNPdwgyagJJOSaAASAfWiiiiiq+o/6gf7/APQ1L4b1JbC9MczhY5RhiegPY/0/Gunoqj4is/tmlvhsGL94OfQHP6ZrlaKKKKKKKKKKKlsUeS9iijk2F5AobGcZOK6O80CRYSbGYswXhZMZJx69K5iRXV2WUEMCQwbqD70laWnkG0UA9M5/OpqKKKKKVI5JTtjjZjjoozSzwy2zlJk2nGcVEzAqBzxSUUUUUUVV1L+D8f6VVrp/D2rDULXyZnHnRDBGeWH97n9f/r1o0Vx+q2ostRltlACq/wAoBzgHkdfY1XooooooooooqxpCO+q2wRST56nAHYHJrtK5vxVq/wBpk/s1IGURSZdnGCTyBj2wc++ax6vaU4MTJ3DZ/wA/lVqiiiirWn6cLxTLJIQobGB1NacNvDbrthjCjvjvWbr96i3EdkISXKli+eADx/SqFFFFFFFFVdS/g/H+lVas6TeS2OoRzRKzZbayKMlge2O59PfFdfRXOeL/APkJJ/1wH/oTVlUUUUUUUUUUVq+EbbztUM5DYijJBHTJ4wfwJ/Kunqve6XYahg3lqrkdG6H6ZHOOelc7qvhq6sH8yE+ZCz4Vu6/73+P8qkhhSBBHGMAfrUc1xcRk7bRmGcAhuv4CnxySNgSQMp7/ADAgU+iitfSgBYoQByTn35qzWJryk6urY4FsB/48arUUUUUUUVV1L+D8f6VVq94ds/tmqJlsCL94efQjH64rqqK5LXL032pSSAgqh2R4ORgd8+/J/GqlFFFFFFFFFFb3gn/l6/4B/wCzVvUVna/NEY0tzy+7f06DBFZlFFFFFa+krtsVO4nJJ5PTmrNZniCNBJFKF+Yggn2HT+ZrOopVIBBIzSHGeBRRRRVXUv4Px/pVWug8IWipayXjIdzvtUkfwj0/H+VbFUPEV8tnprpwXmBRQfQ9T+X6kVy1FFFFFFFFFFFWNL1KbSrsXUKhuMOp/iHp7V1mn6nZ6nEZbSXOMblIwVPvTr6+t9Pt2ubl8KOgHVj6D3rAF6+oFrt+rseM/dGeB+WKWimfaLf/AJ7p/wB9Cj7Rb/8APdP++hSPd2yDJmX8Dn+VNkvrdIvMVw3oo61r+G7iS40sNJGRh2AJ/iGc5H54/Cr9Z+vx5hjlz91iMY9f/wBVZdFPij3fM3TsKJUCnIHBplFFFVNSYF1TuATVdVZ2CIpLE4AA5JrsrG0SxtI7SM5CLjPqe5/Opa5XxBqP9oag3ltmOP5Y8Hg+p/E/piqNFFFFFFFFFFFFFWbfTnmjEjSbQegxUg0tgCouTg9Rt6/rSDSRnmfjvhaf/Zdv/ff8x/hR/Zdv/ff8x/hSrptsAQdxz0JPSlXTrVRgoT7ljTLjTYyu63GGH8OeDWv4TleTSyrtkJKVXjoMA/zJrTqprUavYMxJ+RgR+eP61jUAZOB3qx06U2YAoahoooqlqP8Arx/uf1NW/C9kbnUftDAFIBk5GeT0/wAfwrpqo+INR/s/T28tsSSfLHg8j1P4D9cVytFFFFFFFFFFFFFOijMsixjucdK1gABgDAHQCiiiiiiiregAxXEqK52uu4pz97PJ68dfTtWrVTWnK2JULncwH07/ANKxqVfvD61PSSY2HPpUFFFFULjdNdMqISxbaFHJJ6V1OkacNMsltiwLE7pGHQk/5A/CrLsqKXdgFAySTwBXJaxqb6pdmbLCNeI0J6D/ABP+elVaKKKKKKKKKKKKKsaaga5yf4VJH8q0KKKKKKKKmsJvIu0cnAJw3OODW1VTWObVc/3x/I1kPGydenrTenSrFMmJ2cetRUVJbWk92+yBM46k9BWjFoNuvM0zOc9uBj0qSz0WwsZ2uYYiZGYkMxztz2H+c1brF8V6mFT+y4jy2GlORwOw+vQ/l61g0UUUUUUUUUUUUUVc0kHEhxxxz+dXKKKKKKKKK3LaYXFuk3HzLzj171DqylrZQo/jH8jWf5Un939aja1kL8R8d+afsf8Aun8qRl/hYfgajMA7Makt7IzTJGWwpbk9OK10NpaKIk2oM9B/X/GpaKr6nqMOmWpuZVJ5wij+I+ntXJTzzXMzTzyFnY5ZjTKKKKKKKKKKKKKKK0dOQLagj+Ikn+VT0UUUUUUUVsaV/wAeEf4/zNGoqDGr9w2Kp0UUUUUVpRuJIw47j1ptzcwWcLXFw+1Fxk4J747Vymp6ncapcedMcKOEQHhR/j71WooooooooooooooorUtVC2yBR/CDUlFFFFFFFFamikm0IJPEhx7cCpNR/wBQP9/+hqnRRRRRRVm0u44oSkjHg8DFc9rGrXmoy+VcAIsbHESngH39TVOiiiiiiiiiiiiiiiitiiiiiiiiiitXR0KWe4kfM5I/l/Spr1N1u3GSORVCiiiiiiisLUo/KvpVznLZ6evP9agoooooooooooooooorYooooooooorY0r/jwj/H+Zqd1DqUPQjBrNZSrFWHIODSUUUUUUVka6qi8BAAzGCffk1Sooooooooooooooop0SCSVUPQsAcVrUUUUUUUUUVsab8lhHv469fc8VYrNlYNKzKeCxIptFFFFFFZniBV3RNgZIYE/lWdRRRRRRRRRRRRRRRUlmm+5Rc4+bP5c1qUUUUUUUUUVYmvpLi3js0jIwADg5LYrRdha2axu3zBAox64qlRRRRRRRWb4h/5Y/8AAv6Vm0UUUUUUUUUUUUUUVJaOUuUI/vY/PitSiiiiiiiiipLW5NpL5qorHaQN3b3qwtzLcoGlfcRx0oooooooorJ19m+1IuTgR5A/E1Rooooooooooooooop9v/x8R/74/nWrRRRRRRRRRRU9r/qz/vVLRRRRRRRWLrDMdQcEk4AA9uBVWiiiiiiiiiiiiiiigEg5BwR0IrYooooooooooqe1J2EY79alooooooorD1R1fUJGU5GQPxAxVeiiiiiiiiiiiiiiiipIrq4hG2OUgenWui0TRxqenrfTTbd4O1VHQg4yfyPH61Y/4Rf/AKfv/IX/ANenReGIg2ZrtmGOirj/ABqDWtIttM02S+hd2MZHysRzkgenvWXo9wmpajHZSRFVfOSrc8An09q3P+Edsv8AnrL/AN9D/ClXw9YhgS8hwehYc/pUn9i6Z/z7f+Pt/jXKT6o5kcW6gJuOwsPmx2z2zVjQHd/N3sTjGMn1zWjRRRRRRRRXP3v/AB+S/wDXVv51HRRRRRRRRRRRRRRRRRXW+CZpJNGKO2RHMyoMdBgH+ZNa9FZ3iz/kX7j/AIB/6GK5zwt/yHoP+Bf+gmuwoorz+r2gM32p1ycGPJH4itaiiioNMlkmskllYsxJyT9TU9FFFc/e/wDH5L/11b+dR0UUUUUUUUV//9k='}], 'status': '000'}\r\n#base64编码转换\r\nr_img = base64_to_cv2(r.json()[\"results\"][0]['data'])\r\n#这步后得到的png 是单通道灰度图？图片如下：\r\n![mask](https://user-images.githubusercontent.com/91400857/137844051-b9eda267-7e1f-4e1d-829b-d23e7f4ce32b.png)\r\n\r\nPil_image=Image.fromarray(r_img,mode='P')\r\n#上色\r\nc=get_color_map_list(256)\r\nPil_image.putpalette(c)\r\n经过这步后，图像有颜色了，但与server生成的比，质量差了很多，多了很多噪点。再回头仔细看上色之前的灰度图png，也有很多噪点，应该不是上色造成的，不知道是什么原因，请问怎么才能得到与server端output路径下生成的png一样的图片呢？先拜谢！！\r\n![mask](https://user-images.githubusercontent.com/91400857/137845762-1ac6a5b0-9e1f-4774-85a4-936b943bfd9f.png)\r\n\r\n",
        "state": "closed",
        "user": "sdl415",
        "closed_by": "WYB27",
        "created_at": "2021-10-19T04:48:57+00:00",
        "updated_at": "2025-06-30T07:14:16+00:00",
        "closed_at": "2025-06-30T07:14:16+00:00",
        "comments_count": [
            "sdl415"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1659,
        "title": "ace2p的serving程序存在bug，http返回的json中的图像数据是jpg不是png，不清楚有很多噪点，问题出在cv2_to_base64()",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- paddlehub 2.1.0  ace2p 1.1.0\r\n官方提供的ace2p，serving部署后，存在bug，具体如下：\r\nace2p/processor.py ：\r\n177~182行是将分割结果保存到server端output路径下，重点：***图像格式是 png，png图像非常清晰\r\n\r\n-      if visualization:\r\n-         check_dir(output_dir)\r\n-         save_im_path = get_save_image_name(org_im, org_im_path, output_dir)\r\n-         parsing_im = Image.fromarray(parsing_im)\r\n-         parsing_im.putpalette(palette)\r\n-         parsing_im.save(save_im_path)\r\n- \r\n-     return result\r\n\r\nace2p/module.py 158行，是将识别结果用 cv2_to_base64()把识别结果进行编码转换了，\r\n\r\n-     def serving_method(self, images, **kwargs):\r\n-         \"\"\"\r\n-         Run as a service.\r\n-         \"\"\"\r\n-         images_decode = [base64_to_cv2(image) for image in images]\r\n-         results = self.segmentation(images_decode, **kwargs)\r\n-         results = [{'data': cv2_to_base64(result['data'])} for result in results]\r\n-         return results\r\n\r\ncv2_to_base64()用的格式却是jpg\r\n\r\n-      def cv2_to_base64(image):\r\n-          data = cv2.imencode('.jpg', image)[1]\r\n-          return base64.b64encode(data.tostring()).decode('utf8')\r\n\r\n这就导致了client通过json去base64解码，获取到的mask图片是jpg格式，非常不清晰，噪点很多无法使用。\r\n希望能尽快更正！",
        "state": "closed",
        "user": "sdl415",
        "closed_by": "WYB27",
        "created_at": "2021-10-19T16:19:39+00:00",
        "updated_at": "2025-06-30T07:14:14+00:00",
        "closed_at": "2025-06-30T07:14:14+00:00",
        "comments_count": [
            "KPatr1ck",
            "sdl415",
            "haoyuying"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1662,
        "title": "指标修改和训练模型保存问题",
        "body": "请问，我用hub试做了一个NER，我怎么修改评估或者训练的指标，加入召回精确等；\r\n以及我一个epoch完成保存后，在AI studio自动停止，继续训练时提示[Errno 2] No such file or directory: './ckpt/metrics.pkl'",
        "state": "closed",
        "user": "EvilCalf",
        "closed_by": "WYB27",
        "created_at": "2021-10-22T11:20:47+00:00",
        "updated_at": "2025-06-30T07:14:12+00:00",
        "closed_at": "2025-06-30T07:14:12+00:00",
        "comments_count": [
            "EvilCalf",
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1663,
        "title": "PaddleHub 2.1版本如何使用自定义图像数据集",
        "body": "我需要使用PaddleHub 2.1版本来实现图像分类任务的迁移学习\r\n但之前版本中的base_cv_dataset模块被移除了，请问现在如何自定义数据集？\r\n请给出相关链接或API\r\n非常感谢！",
        "state": "closed",
        "user": "oruchimaru420",
        "closed_by": "oruchimaru420",
        "created_at": "2021-10-24T08:20:52+00:00",
        "updated_at": "2021-10-28T00:27:48+00:00",
        "closed_at": "2021-10-28T00:27:48+00:00",
        "comments_count": [
            "haoyuying",
            "oruchimaru420"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1666,
        "title": "关于paddlehub加载模型‘ernie-tiny’时运行报错",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "XDRS1996",
        "closed_by": "WYB27",
        "created_at": "2021-10-27T01:48:13+00:00",
        "updated_at": "2025-06-30T07:14:10+00:00",
        "closed_at": "2025-06-30T07:14:10+00:00",
        "comments_count": [
            "XDRS1996",
            "XDRS1996",
            "linjieccc",
            "XDRS1996",
            "XDRS1996"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1668,
        "title": "有没有判断两个人体动作相似度的方法呢？",
        "body": "判断出关键点计算欧式距离或者余弦相似度什么的。paddle有没有相关功能呢",
        "state": "closed",
        "user": "feelMySelfIsLouB",
        "closed_by": "WYB27",
        "created_at": "2021-10-27T03:27:44+00:00",
        "updated_at": "2025-06-30T07:14:08+00:00",
        "closed_at": "2025-06-30T07:14:08+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1669,
        "title": "paddlehub 预测报错C++ Traceback (most recent call last): 0 paddle::framework::SignalHandle(char const*, int)1 paddle::platform::GetCurrentTraceBackStringabi:cxx11",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nubuntu18 T4显卡 cuda10.2 cudnn 7.6 python3.6.9\r\npython -m pip install paddlepaddle-gpu -i https://mirror.baidu.com/pypi/simple 安装后显示成功\r\npaddlehub 2.1.1\r\npaddlenlp 2.1.1\r\npaddlepaddle-gpu 2.1.3\r\n使用paddlehub 进行预测\r\nobject_detector = hub.Module(name=\"yolov3_darknet53_coco2017\")\r\nframe_start= cv2.imread('real_see.jpg')\r\nresults = object_detector.object_detection(images=[frame_start],use_gpu=True)\r\nprint(results)\r\n\r\n报错信息如下：\r\n\r\n[2021-10-27 19:13:15,827] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the init() to handle the initialization of the object\r\nW1027 19:13:15.827836 43261 analysis_predictor.cc:1183] Deprecated. Please use CreatePredictor instead.\r\n\r\nC++ Traceback (most recent call last):\r\n0 paddle::framework::SignalHandle(char const*, int)\r\n1 paddle::platform::GetCurrentTraceBackStringabi:cxx11\r\n\r\nError Message Summary:\r\nFatalError: Segmentation fault is detected by the operating system.\r\n[TimeInfo: *** Aborted at 1635333198 (unix time) try \"date -d @1635333198\" if you are using GNU date ***]\r\n[SignalInfo: *** SIGSEGV (@0x0) received by PID 43261 (TID 0x7f6ab0072740) from PID 0 ***]",
        "state": "closed",
        "user": "xiaomujiang",
        "closed_by": "WYB27",
        "created_at": "2021-10-27T11:15:56+00:00",
        "updated_at": "2025-06-30T07:14:06+00:00",
        "closed_at": "2025-06-30T07:14:06+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1679
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1671,
        "title": "pip install paddlehub后需要修改源码",
        "body": "pip install paddlehub后需要修改源码，如何在修改后重新安装在别的机器上？修改以下部分，如何再把修改的重新打包安装到别的机器呢？\r\n![image](https://user-images.githubusercontent.com/9254170/139063875-261384a1-807b-4dd1-8507-4b04d89b7264.png)\r\n",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "WYB27",
        "created_at": "2021-10-27T12:16:56+00:00",
        "updated_at": "2025-06-30T07:14:04+00:00",
        "closed_at": "2025-06-30T07:14:04+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1672,
        "title": "PaddleHub迁移学习在保存模型时会退出程序",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号\r\nPaddleHub==2.1.1 PaddlePaddle-GPU==2.1.3.post110\r\n2）系统环境：请您描述系统类型\r\nWin10家庭中文版 显卡RTX 3080 python==3.7.11\r\n- 复现信息：如为报错，请给出复现环境、复现步骤 \r\n全部代码为：\r\nimport paddle\r\nimport paddlehub as hub\r\nfrom paddlehub.vision.segmentation_transforms import Compose, Resize, Normalize\r\nfrom paddlehub.datasets import OpticDiscSeg\r\nfrom paddlehub.finetune.trainer import Trainer\r\ntransform = Compose([Resize(target_size=(512, 512)), Normalize()])\r\ntrain_reader = OpticDiscSeg(transform, mode='train')\r\nmodel = hub.Module(name='ocrnet_hrnetw18_voc', num_classes=2, pretrained=None)\r\nscheduler = paddle.optimizer.lr.PolynomialDecay(learning_rate=0.01, decay_steps=1000, power=0.9,  end_lr=0.0001)\r\noptimizer = paddle.optimizer.Adam(learning_rate=scheduler, parameters=model.parameters())\r\ntrainer = Trainer(model, optimizer, checkpoint_dir='./test_ckpt_img_ocr', use_gpu=True)\r\ntrainer.train(train_reader, epochs=5, batch_size=5, eval_dataset=None,\r\n              log_interval=10, \r\n              save_interval=1)\r\n其可以正常开始训练\r\nBug出现在每次保存训练模型时，python环境就会崩溃，退出到cmd中，且模型保存成功，没有给出任何错误信息。\r\n请帮忙解决！",
        "state": "closed",
        "user": "oruchimaru420",
        "closed_by": "WYB27",
        "created_at": "2021-10-28T09:45:44+00:00",
        "updated_at": "2025-06-30T07:14:03+00:00",
        "closed_at": "2025-06-30T07:14:03+00:00",
        "comments_count": [
            "haoyuying",
            "oruchimaru420",
            "haoyuying",
            "oruchimaru420"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1680
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1673,
        "title": "错误 AssertionError: Optimizer set error, embedding_0.w_0_moment1_0 should in state dict 目前已知是加载优化器参数时错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：使用的是Ai studio，应该是最新的2.1版本\r\n2）系统环境：用的Ai Studio平台，python版本3.7\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n- [[[项目地址]]](https://aistudio.baidu.com/aistudio/projectdetail/2489386?shared=1)\r\n- 项目和使用ernie-tiny进行新闻文本标签分类是同类型的，当我第二次运行代码段\r\n- model_dir = 'test_ernie_text_cls'\r\n   schedular = paddle.optimizer.lr.NoamDecay(d_model=0.01, warmup_steps=100, verbose=True)\r\n   optimizer = paddle.optimizer.Adam(learning_rate=schedular, parameters=model.parameters())\r\n   trainer = hub.Trainer(model, optimizer, use_gpu=True, checkpoint_dir=model_dir)  \r\n   trainer.train(train_dataset, epochs=1, batch_size=32,eval_dataset=train_dataset,save_interval=1) \r\n都会出现错误 AssertionError: Optimizer set error, embedding_0.w_0_moment1_0 should in state dict\r\n目前已知是加载优化器参数时错误\r\n",
        "state": "closed",
        "user": "XDRS1996",
        "closed_by": "WYB27",
        "created_at": "2021-10-28T12:33:28+00:00",
        "updated_at": "2025-06-30T07:14:01+00:00",
        "closed_at": "2025-06-30T07:14:01+00:00",
        "comments_count": [
            "XDRS1996",
            "linjieccc",
            "XDRS1996"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1677,
        "title": "AttributeError: module 'paddlehub' has no attribute 'Module'",
        "body": "hub2.1.1，paddle2.1.3，win10，cmd用hub正常，用pycharm试了个demo，结果报错如下。\r\nimport paddlehub as hub\r\n\r\nlac = hub.Module(name=\"lac\")\r\ntest_text = [\"今天是个好天气。\"]\r\n结果报错：\r\n    lac = hub.Module(name=\"lac\")\r\nAttributeError: module 'paddlehub' has no attribute 'Module'\r\n",
        "state": "closed",
        "user": "GreenHandee",
        "closed_by": "WYB27",
        "created_at": "2021-10-30T17:37:58+00:00",
        "updated_at": "2025-06-30T07:13:59+00:00",
        "closed_at": "2025-06-30T07:13:59+00:00",
        "comments_count": [
            "haoyuying",
            "HappyLijia",
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1682,
        "title": "The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object",
        "body": "1）PaddleHub2.1.1和PaddlePaddle2.1.3\r\n2）AMD显卡，windows环境，conda配置CPU环境\r\n3）想直接调用官方的模型来用，导入模块Module都报同个错误\r\nThe _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW1103 02:49:23.760025 13752 analysis_predictor.cc:1183] Deprecated. Please use CreatePredictor instead.\r\n(NotFound) Cannot open file C:\\Users\\娜娜\\.paddlehub\\modules\\deeplabv3p_xception65_humanseg\\deeplabv3p_xception65_humanseg_model/__model__, please confirm whether the file is normal.\r\n  [Hint: Expected static_cast<bool>(fin.is_open()) == true, but received static_cast<bool>(fin.is_open()):0 != true:1.] (at C:\\home\\workspace\\Paddle_release\\paddle\\fluid\\inference\\api\\analysis_predictor.cc:953)\r\n",
        "state": "closed",
        "user": "1372646599",
        "closed_by": "WYB27",
        "created_at": "2021-11-02T18:53:21+00:00",
        "updated_at": "2025-06-30T07:13:55+00:00",
        "closed_at": "2025-06-30T07:13:55+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1681,
        "title": "配置的菜谱、",
        "body": "[ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW1103 02:34:40.637965  6948 analysis_predictor.cc:1183] Deprecated. Please use CreatePredictor instead.\r\n(NotFound) Cannot open file C:\\Users\\娜娜\\.paddlehub\\modules\\lac\\infer_model/__model__, please confirm whether the file is normal.\r\n  [Hint: Expected static_cast<bool>(fin.is_open()) == true, but received static_cast<bool>(fin.is_open()):0 != true:1.] (at C:\\home\\workspace\\Paddle_release\\paddle\\fluid\\inference\\api\\analysis_predictor.cc:953)",
        "state": "closed",
        "user": "1372646599",
        "closed_by": "WYB27",
        "created_at": "2021-11-02T18:40:29+00:00",
        "updated_at": "2025-06-30T07:13:57+00:00",
        "closed_at": "2025-06-30T07:13:57+00:00",
        "comments_count": [
            "haoyuying",
            "MysticPro"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1689,
        "title": "我想问一下stylepro_artistic论文里面的Random Reshuffling实现流程",
        "body": "\r\n![QQ截图20211106224511](https://user-images.githubusercontent.com/75974455/140613817-7f3ffba8-1998-45e7-b91f-1b1bf667c643.jpg)\r\n如何把风格图打散变成纹理图，这个技术细节对我的风格迁移模型改良很重要，想学习一下，谢谢\r\n",
        "state": "closed",
        "user": "hl123-123",
        "closed_by": "WYB27",
        "created_at": "2021-11-06T14:51:42+00:00",
        "updated_at": "2025-06-30T07:13:51+00:00",
        "closed_at": "2025-06-30T07:13:51+00:00",
        "comments_count": [
            "hl123-123"
        ],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1683,
        "title": "模型下载成功，却报__model__出现错误",
        "body": "(NotFound) Cannot open file C:\\Users\\娜娜\\.paddlehub\\modules\\deeplabv3p_xception65_humanseg\\deeplabv3p_xception65_humanseg_model/__model__, please confirm whether the file is normal.\r\n  [Hint: Expected static_cast<bool>(fin.is_open()) == true, but received static_cast<bool>(fin.is_open()):0 != true:1.] (at C:\\home\\workspace\\Paddle_release\\paddle\\fluid\\inference\\api\\analysis_predictor.cc:1119)\r\n\r\n1）paddlepadle2.2.0和padlehub2.1.1\r\n2)AMD显卡，conda配置paddlepaddle的CPU环境",
        "state": "closed",
        "user": "1372646599",
        "closed_by": "WYB27",
        "created_at": "2021-11-03T12:53:35+00:00",
        "updated_at": "2025-06-30T07:13:53+00:00",
        "closed_at": "2025-06-30T07:13:53+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1691,
        "title": "Paddle hub solov2  [operator < gather > error]",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n\r\nPaddleHub 2.1.1 与 PaddlePaddle 2.2.0 安装在windows10 anaconda上时\r\n运行solov2 示例程序\r\n\r\nimport cv2\r\nimport paddlehub as hub\r\n\r\nimg = cv2.imread('/PATH/TO/IMAGE')\r\nmodel = hub.Module(name='solov2', use_gpu=False)\r\noutput = model.predict(image=img, visualization=False)\r\n\r\n出现报错\r\nW1111 19:56:47.858419  4732 analysis_predictor.cc:1353] Deprecated. Please use CreatePredictor instead.\r\ne[37m---    Fused 0 subgraphs into layer_norm op.e[0m\r\ne[37m---    fused 0 pairs of fc gru patternse[0m\r\nTraceback (most recent call last):\r\n  File \"tes.py\", line 7, in <module>\r\n    output = model.predict(image=img, visualization=True)\r\n  File \"C:\\Users\\mushroom\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\mushroom\\.paddlehub\\modules\\solov2\\module.py\", line 150, in predict\r\n    self.predictor.zero_copy_run()\r\nIndexError: In user code:\r\n\r\n    File \"tools/export_model.py\", line 89, in <module>\r\n      main()\r\n    File \"tools/export_model.py\", line 63, in main\r\n      test_fetches = model.test(feed_vars, exclude_nms=FLAGS.exclude_nms)\r\n    File \"/paddle/tools/PaddleDetection/ppdet/modeling/architectures/solov2.py\", line 175, in test\r\n      return self.build(feed_vars, mode='test')\r\n    File \"/paddle/tools/PaddleDetection/ppdet/modeling/architectures/solov2.py\", line 110, in build\r\n      return self.bbox_head.get_prediction(*seg_inputs)\r\n    File \"/paddle/tools/PaddleDetection/ppdet/modeling/anchor_heads/solov2_head.py\", line 336, in get_prediction\r\n      im_info[idx])\r\n    File \"/paddle/tools/PaddleDetection/ppdet/modeling/anchor_heads/solov2_head.py\", line 382, in get_seg_single\r\n      strides = fluid.layers.gather(strides, index=inds[:, 0])\r\n    File \"/usr/local/lib/python3.7/site-packages/paddle/fluid/layers/nn.py\", line 8328, in gather\r\n      attrs={'overwrite': overwrite})\r\n    File \"/usr/local/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n      return self.main_program.current_block().append_op(*args, **kwargs)\r\n    File \"/usr/local/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2917, in append_op\r\n      attrs=kwargs.get(\"attrs\", None))\r\n    File \"/usr/local/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2014, in __init__\r\n      for frame in traceback.extract_stack():\r\n\r\n    OutOfRangeError: The element of Index must be less than the size of input dim size of axis which is 3872, but received index element which is 3872 in the 20 index.\r\n      [Hint: Expected p_index[i] < input_size, but received p_index[i]:3872 >= input_size:3872.] (at C:\\home\\workspace\\Paddle_release\\paddle/fluid/operators/gather.h:82)\r\n      [operator < gather > error]\r\n\r\n\r\n尝试更换目标图片仍然同样报错,应该与图片本身无关\r\n      \r\n\r\n",
        "state": "closed",
        "user": "JunhuaY",
        "closed_by": "WYB27",
        "created_at": "2021-11-11T12:12:58+00:00",
        "updated_at": "2025-06-30T07:13:49+00:00",
        "closed_at": "2025-06-30T07:13:49+00:00",
        "comments_count": [
            "rainyfly",
            "JunhuaY",
            "haoyuying",
            "JunhuaY",
            "rainyfly",
            "JunhuaY",
            "JunhuaY",
            "rainyfly",
            "TimmmYang",
            "ljwmusclenlper",
            "rainyfly"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1693,
        "title": "paddlehub.server_check()一直显示Request Hub-Server unsuccessfully",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：例如paddlehub 2.1.1，paddlepaddle-gpu 2.1.3\r\n2）系统环境：Windows，python3.7.0版本\r\n- 复现信息：\r\n(pp) PS C:\\Users\\Administrator> hub config reset\r\nlog:\r\n  enable: true\r\n  level: DEBUG\r\nserver: http://paddlepaddle.org.cn/paddlehub\r\n(pp) PS C:\\Users\\Administrator> python\r\nPython 3.7.0 (default, Jun 28 2018, 08:04:48) [MSC v.1912 64 bit (AMD64)] :: Anaconda, Inc. on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub\r\n>>> paddlehub.server_check()\r\n[2021-11-13 16:12:11,399] [    INFO] - Request Hub-Server unsuccessfully.\r\nFalse\r\n",
        "state": "closed",
        "user": "liuweixue001",
        "closed_by": "WYB27",
        "created_at": "2021-11-13T08:24:15+00:00",
        "updated_at": "2025-06-30T07:13:47+00:00",
        "closed_at": "2025-06-30T07:13:47+00:00",
        "comments_count": [
            "liuweixue001",
            "KPatr1ck",
            "lin0711"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1694,
        "title": "关于paddlehub的senta-bilstm预训练模型的数据集。",
        "body": "各位ｐａｄｄｌｅｈｕｂ的开发者。非常感谢各位的模型，它非常好用。只是我最近需要写一个报告，需要我说明ｐａｄｄｌｅｈｕｂ里面情感分析预训练模型，ｓｅｎｔａ－ｂｉｌｓｔｍ是用什么数据训练的。所以各位能否帮帮忙，说明一下训练ｓｅｎｔａ－ｂｉｌｓｔｍ模型的数据集是怎么来的，如何创建的？非常感谢！",
        "state": "closed",
        "user": "FleetCommander004",
        "closed_by": "WYB27",
        "created_at": "2021-11-14T14:48:14+00:00",
        "updated_at": "2025-06-30T07:13:45+00:00",
        "closed_at": "2025-06-30T07:13:45+00:00",
        "comments_count": [
            "linjieccc",
            "ranjiewwen"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1696,
        "title": "2.0版本后的Fine-tune应用在senta各类模型下不可用",
        "body": "paddle 2.2\r\npaddlehub 2.1\r\nwindows 10\r\n\r\ndatasets下各加载数据类都需要tokenizer参数输入，但senta类别（senta_gre, sent_lstm等）模型目前都没有get_tokenizer相关方法。\r\n\r\n请问下这些模型在hub2.0后还没有支持，还是说使用的有问题？",
        "state": "closed",
        "user": "yangchanglin324",
        "closed_by": "yangchanglin324",
        "created_at": "2021-11-17T06:11:55+00:00",
        "updated_at": "2021-11-24T07:44:34+00:00",
        "closed_at": "2021-11-24T07:44:34+00:00",
        "comments_count": [
            "linjieccc",
            "yangchanglin324",
            "linjieccc"
        ],
        "labels": [
            "enhancement",
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1697,
        "title": "paddlex 部署为paddlehub 服务化后无返回结果",
        "body": "1.paddlex 版本是2.0.0\r\n2.paddlehub版本是2.1.1\r\n3.python 3.8\r\n使用的是paddlex 安装示例的蔬菜分类，服务化后，启动好后，通过paddlehub的示例程序使用http请求返回的结果为空\r\npaddlehub 版本问题吗，是必须高于2.1.1吗？还是什么问题呢？",
        "state": "closed",
        "user": "llhpu",
        "closed_by": "WYB27",
        "created_at": "2021-11-18T10:31:53+00:00",
        "updated_at": "2025-06-30T07:13:43+00:00",
        "closed_at": "2025-06-30T07:13:43+00:00",
        "comments_count": [
            "rainyfly",
            "llhpu",
            "llhpu",
            "will-jl944",
            "llhpu",
            "will-jl944",
            "llhpu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1698,
        "title": "希望能开放PaddleHub方式调用train，evalate函数时使用回调，以便通知外部系统训练进度",
        "body": "使用paddle.Model的model的fit方法可以有callbacks回调，但我发现使用hub方式这个callbacks没开放，这样hub方式外部程序无法拦截模型训练进度\r\n\r\n```\r\nimport paddlehub as hub\r\ntrainer = hub.Trainer(model, optimizer, checkpoint_dir='./results', use_gpu=True)\r\ntrainer.train(train_dataset, epochs=10, batch_size=16, eval_dataset=dev_dataset, save_interval=2,collate_fn=fnTest)   \r\nresult = trainer.evaluate(test_dataset, batch_size=16) \r\n```\r\n\r\n希望这两个函数可以支持callbacks\r\n\r\n",
        "state": "closed",
        "user": "kongshanxuelin",
        "closed_by": "WYB27",
        "created_at": "2021-11-23T07:28:48+00:00",
        "updated_at": "2025-06-30T07:13:41+00:00",
        "closed_at": "2025-06-30T07:13:41+00:00",
        "comments_count": [
            "yangchanglin324"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1701,
        "title": "Fine-tune时极端时报OverflowError: timeout value is too large错误",
        "body": "paddle 2.2\r\npaddlehub 2.1\r\nwindows10\r\n\r\nException in thread Thread-8:\r\nTraceback (most recent call last):\r\n  File \"***\\Anaconda3\\lib\\threading.py\", line 917, in _bootstrap_inner\r\n    self.run()\r\n  File \"***\\Anaconda3\\lib\\site-packages\\visualdl\\writer\\record_writer.py\", line 198, in run\r\n    data = self._queue.get(True, queue_wait_duration)\r\n  File \"***\\Anaconda3\\lib\\queue.py\", line 179, in get\r\n    self.not_empty.wait(remaining)\r\n  File \"***\\Anaconda3\\lib\\threading.py\", line 300, in wait\r\n    gotit = waiter.acquire(True, timeout)\r\nOverflowError: timeout value is too large\r\n\r\n使用erni_tiny进行文本分类Fine-tune时报的错误，应该与可视化训练过程的visualdl有关\r\n",
        "state": "closed",
        "user": "yangchanglin324",
        "closed_by": "WYB27",
        "created_at": "2021-11-23T13:39:53+00:00",
        "updated_at": "2025-06-30T07:13:37+00:00",
        "closed_at": "2025-06-30T07:13:37+00:00",
        "comments_count": [
            "linjieccc"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1700,
        "title": "paddlehub1.8.1 训练模型出现报错 float division by zore",
        "body": "paddlepaddle版本试过1.7.2、1.8.0、1.8.4，在训练模型时，cls_task.finetune_and_eval() 此步出现报错 float division by zore。float division by zore，strategy，config均能跑通。\r\n![f63769ad95d82e216b90dcf1fc1ddad](https://user-images.githubusercontent.com/89830138/143004474-ba77d9a6-deea-41cb-91fd-9c0bef769548.png)\r\n![b53ea7b2a899cd25beaa2be28901895](https://user-images.githubusercontent.com/89830138/143004565-13567d34-0556-44d2-9780-60cfea6a4159.png)\r\n![058d7aabe23c834ef93aace593f77d0](https://user-images.githubusercontent.com/89830138/143004640-659bfe81-8c16-43ed-a0fc-970b09919554.png)\r\n![3e1c014b73265f378e1844e4a2f3876](https://user-images.githubusercontent.com/89830138/143004697-c8ac0120-bab6-4b0f-8218-f79ba3d53e1f.png)\r\n\r\n\r\n",
        "state": "closed",
        "user": "yuanharry",
        "closed_by": "WYB27",
        "created_at": "2021-11-23T09:52:25+00:00",
        "updated_at": "2025-06-30T07:13:39+00:00",
        "closed_at": "2025-06-30T07:13:39+00:00",
        "comments_count": [
            "linjieccc",
            "yuanharry",
            "linjieccc",
            "yuanharry",
            "yuanharry",
            "linjieccc",
            "yuanharry"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1703,
        "title": "windows本地paddlehub模型的存储位置",
        "body": "您好 我在使用paddlehub下载预先提供的模型时网速较慢 想配合neat download manager等工具先把模型的压缩包下载到本地。因此想请问一下上述的操作是否可行？如果可行的话，应该把下载好的压缩包放在本地的什么位置？",
        "state": "closed",
        "user": "Ja1Zhou",
        "closed_by": "Ja1Zhou",
        "created_at": "2021-11-24T13:20:04+00:00",
        "updated_at": "2021-11-26T03:07:43+00:00",
        "closed_at": "2021-11-26T03:07:43+00:00",
        "comments_count": [
            "haoyuying",
            "Ja1Zhou"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1721,
        "title": "demo 跑不通",
        "body": "C:\\ProgramData\\Anaconda3\\python.exe D:/project/test/style_transfer.py\r\nC:\\ProgramData\\Anaconda3\\lib\\site-packages\\win32\\lib\\pywintypes.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp, sys, os\r\n[2021-12-08 11:00:20,972] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW1208 11:00:20.972272 19524 analysis_predictor.cc:1353] Deprecated. Please use CreatePredictor instead.\r\nTraceback (most recent call last):\r\n  File \"D:/project/test/style_transfer.py\", line 21, in <module>\r\n    result = stylepro_artistic.style_transfer(\r\n  File \"C:\\Users\\renoy\\AppData\\Roaming\\Python\\Python38\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\renoy\\.paddlehub\\modules\\stylepro_artistic\\module.py\", line 111, in style_transfer\r\n    for component, w, h in reader(images, paths):\r\n  File \"C:\\Users\\renoy\\.paddlehub\\modules\\stylepro_artistic\\data_feed.py\", line 44, in reader\r\n    _handle_single(**{key: style_arr})[0])\r\n  File \"C:\\Users\\renoy\\.paddlehub\\modules\\stylepro_artistic\\data_feed.py\", line 80, in _handle_single\r\n    w, h = im.shape[1], im.shape[0]\r\nUnboundLocalError: local variable 'im' referenced before assignment",
        "state": "closed",
        "user": "renoyuan",
        "closed_by": "renoyuan",
        "created_at": "2021-12-08T03:02:54+00:00",
        "updated_at": "2021-12-08T03:27:04+00:00",
        "closed_at": "2021-12-08T03:27:04+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1705,
        "title": "AI Studio import paddlehub报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nPaddlePaddle 1.8.4\r\npaddlehub 2.2.0\r\n我在AI Studio中运行项目，只要import paddlehub就出错误\r\n Version mismatch in PaddleHub and PaddlePaddle, you need to upgrade PaddlePaddle to version 2.0.0 or above.\r\n如果卸载重新使用其他方式安装，可以import但是使用任何moudle都找不到\r\nAnimeGAN动漫化模型一键应用（含动漫化小程序体验）这个项目",
        "state": "closed",
        "user": "H-jh20",
        "closed_by": "WYB27",
        "created_at": "2021-11-25T13:37:06+00:00",
        "updated_at": "2025-06-30T07:13:36+00:00",
        "closed_at": "2025-06-30T07:13:36+00:00",
        "comments_count": [
            "H-jh20",
            "haoyuying",
            "H-jh20"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1706,
        "title": "u2_conformer_aishell 模块在windows下安装出错",
        "body": "我看到官方教程中，在语音辨识task上只有两个模型可以使用了，其中支持中文的u2_conformer_aishell模型，官方文档为https://www.paddlepaddle.org.cn/hubdetail?name=u2_conformer_aishell&en_category=AutomaticSpeechRecognition，在windows系统下，用`hub install u2_conformer_aishell`命令会报错。一直在循环下载模型的tar文件\r\n\r\n",
        "state": "closed",
        "user": "applepieiris",
        "closed_by": "applepieiris",
        "created_at": "2021-12-01T03:13:09+00:00",
        "updated_at": "2021-12-08T07:06:14+00:00",
        "closed_at": "2021-12-08T07:06:13+00:00",
        "comments_count": [
            "KPatr1ck",
            "applepieiris",
            "applepieiris",
            "applepieiris",
            "applepieiris",
            "KPatr1ck",
            "applepieiris"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1720,
        "title": "hub 指令不存在",
        "body": "![image](https://user-images.githubusercontent.com/50486789/145139719-42c1fb19-8cad-4d39-b414-161e20d34503.png)\r\n\r\n安装paddlehub 后hub  指令不存在",
        "state": "closed",
        "user": "renoyuan",
        "closed_by": "renoyuan",
        "created_at": "2021-12-08T02:51:20+00:00",
        "updated_at": "2021-12-09T10:07:58+00:00",
        "closed_at": "2021-12-09T10:07:58+00:00",
        "comments_count": [
            "KPatr1ck",
            "renoyuan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1722,
        "title": "u2_conformer_aishell模块的识别出来的文字只有一句话。",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.1.1，PaddlePaddle-gpu 2.1.3\r\n\r\n2）系统环境：Windows，python3.8\r\n\r\n- 问题\r\n我的audio是一分多钟的时间，不超过2分钟。然后我用paddlehub预测的结果\r\n![image](https://user-images.githubusercontent.com/36785462/145164434-69dc4cf9-5da9-4fe8-b93e-9140901bd009.png)\r\n使用的代码是官方给出的代码：\r\n```python\r\n    import paddlehub as hub\r\n\r\n    # 采样率为16k，格式为wav的中文语音音频\r\n    wav_file = '/PATH/TO/AUDIO'\r\n\r\n    model = hub.Module(\r\n        name='u2_conformer_aishell',\r\n        version='1.0.0')\r\n    text = model.speech_recognize(wav_file)\r\n\r\n    print(text)\r\n  ```\r\n我没有看训练数据AISHELL-1的具体细节，但是应该不会output只有这么短的文字吧？我的问题是我这个输出合理吗？只识别了语音中的第一句话。\r\n\r\n",
        "state": "closed",
        "user": "applepieiris",
        "closed_by": "WYB27",
        "created_at": "2021-12-08T07:15:38+00:00",
        "updated_at": "2025-06-30T07:13:34+00:00",
        "closed_at": "2025-06-30T07:13:34+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1725,
        "title": "新增文本多标签分类demo",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 新增文本多标签分类demo\r\n- 最好是大文本的多标签分类 比如新闻稿分类\r\n",
        "state": "closed",
        "user": "1731368213",
        "closed_by": "WYB27",
        "created_at": "2021-12-09T04:24:45+00:00",
        "updated_at": "2025-06-30T07:13:28+00:00",
        "closed_at": "2025-06-30T07:13:28+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1724,
        "title": "PaddleHub迁移学习eval日志输出不正常，如下图所示。",
        "body": "PaddleHub迁移学习eval日志输出不正常，如下图所示。\r\n![](https://ai.bdstatic.com/file/5C70661F19014F58B7385C9F1D89225C)\r\n\r\n\r\npaddlefsl              1.0.0          \r\npaddlehub              2.0.4          \r\npaddlenlp              2.1.1          \r\npaddlepaddle-gpu       2.2.0.post101  \r\ntb-paddle              0.3.6    ",
        "state": "closed",
        "user": "livingbody",
        "closed_by": "WYB27",
        "created_at": "2021-12-09T01:57:29+00:00",
        "updated_at": "2025-06-30T07:13:30+00:00",
        "closed_at": "2025-06-30T07:13:30+00:00",
        "comments_count": [
            "KPatr1ck",
            "livingbody"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1723,
        "title": "请问paddlehub属于静态图还是动态图？",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "dickobe",
        "closed_by": "WYB27",
        "created_at": "2021-12-08T07:18:31+00:00",
        "updated_at": "2025-06-30T07:13:32+00:00",
        "closed_at": "2025-06-30T07:13:32+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1729,
        "title": "model = hub.Module(name='plato-mini') 模型加载错误",
        "body": "python :3.8.3\r\npaddlepaddle:-2.2.1\r\npaddlehub:2.1.1\r\n\r\n代码：\r\nimport paddlehub as hub\r\n\r\nmodel = hub.Module(name='plato-mini')\r\ndata = [[\"你是谁？\"], [\"你好啊。\", \"吃饭了吗？\",]]\r\nresult = model.predict(data)\r\nprint(result)\r\n报错：\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/chenyu/Desktop/Rasa/plato/plato_main.py\", line 4, in <module>\r\n    model = hub.Module(name='plato-mini')\r\n  File \"/opt/anaconda3/envs/tensorflow/lib/python3.8/site-packages/paddlehub/module/module.py\", line 388, in __new__\r\n    module = cls.init_with_name(\r\n  File \"/opt/anaconda3/envs/tensorflow/lib/python3.8/site-packages/paddlehub/module/module.py\", line 511, in init_with_name\r\n    return user_module_cls(**kwargs)\r\n  File \"/Users/chenyu/.paddlehub/modules/plato_mini/module.py\", line 41, in __init__\r\n    self.model = UnifiedTransformerLMHeadModel.from_pretrained('plato-mini')\r\n  File \"/opt/anaconda3/envs/tensorflow/lib/python3.8/site-packages/paddlenlp/transformers/model_utils.py\", line 145, in from_pretrained\r\n    raise ValueError(\r\nValueError: Calling UnifiedTransformerLMHeadModel.from_pretrained() with a model identifier or the path to a directory instead. The supported model identifiers are as follows: dict_keys(['unified_transformer-12L-cn', 'unified_transformer-12L-cn-luge'])\r\n\r\n",
        "state": "closed",
        "user": "Siriuscy",
        "closed_by": "Siriuscy",
        "created_at": "2021-12-13T09:49:17+00:00",
        "updated_at": "2021-12-14T11:56:33+00:00",
        "closed_at": "2021-12-14T11:56:33+00:00",
        "comments_count": [
            "Siriuscy"
        ],
        "labels": [
            "nlp"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1727,
        "title": "PaddleHub加载迁移学习模型失败",
        "body": "## 代码\r\n`import paddle\r\nimport paddlehub as hub\r\n\r\nif __name__ == '__main__':\r\n\r\n    model = hub.Module(name='resnet50_vd_imagenet_ssld', label_list=fishclass, load_checkpoint='img_classification_ckpt/')\r\n    result = model.predict(['00001.png']) #data/Fish_Dataset/Fish_Dataset/Black Sea Sprat/\r\n    print(result)`\r\n\r\n## 报错信息\r\n`---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n/tmp/ipykernel_139/3483781583.py in \r\n      4 if __name__ == '__main__':\r\n      5 \r\n----> 6     model = hub.Module(name='resnet50_vd_imagenet_ssld', label_list=fishclass, load_checkpoint='img_classification_ckpt/')\r\n      7     result = model.predict(['00001.png']) #data/Fish_Dataset/Fish_Dataset/Black Sea Sprat/\r\n      8     print(result)\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, version, source, update, branch, **kwargs)\r\n    170             if name:\r\n    171                 module = cls.init_with_name(\r\n--> 172                     name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n    173                 CacheUpdater(\"update_cache\", module=name, version=version).start()\r\n    174             elif directory:\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, source, update, branch, **kwargs)\r\n    279 \r\n    280         user_module_cls.directory = directory\r\n--> 281         return user_module_cls(**kwargs)\r\n    282 \r\n    283     @classmethod\r\n\r\n~/.paddlehub/modules/resnet50_vd_imagenet_ssld/module.py in __init__(self, label_list, load_checkpoint)\r\n    203         num_filters = [64, 128, 256, 512]\r\n    204 \r\n--> 205         self.conv1_1 = ConvBNLayer(num_channels=3, num_filters=32, filter_size=3, stride=2, act='relu', name=\"conv1_1\")\r\n    206         self.conv1_2 = ConvBNLayer(num_channels=32, num_filters=32, filter_size=3, stride=1, act='relu', name=\"conv1_2\")\r\n    207         self.conv1_3 = ConvBNLayer(num_channels=32, num_filters=64, filter_size=3, stride=1, act='relu', name=\"conv1_3\")\r\n\r\n~/.paddlehub/modules/resnet50_vd_imagenet_ssld/module.py in __init__(self, num_channels, num_filters, filter_size, stride, groups, is_vd_mode, act, name)\r\n     55             groups=groups,\r\n     56             weight_attr=ParamAttr(name=name + \"_weights\"),\r\n---> 57             bias_attr=False)\r\n     58         if name == \"conv1\":\r\n     59             bn_name = \"bn_\" + name\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/nn/layer/conv.py in __init__(self, in_channels, out_channels, kernel_size, stride, padding, dilation, groups, padding_mode, weight_attr, bias_attr, data_format)\r\n    654             weight_attr=weight_attr,\r\n    655             bias_attr=bias_attr,\r\n--> 656             data_format=data_format)\r\n    657 \r\n    658     def forward(self, x):\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/nn/layer/conv.py in __init__(self, in_channels, out_channels, kernel_size, transposed, dims, stride, padding, padding_mode, output_padding, dilation, groups, weight_attr, bias_attr, data_format)\r\n    133             shape=filter_shape,\r\n    134             attr=self._param_attr,\r\n--> 135             default_initializer=_get_default_param_initializer())\r\n    136         self.bias = self.create_parameter(\r\n    137             attr=self._bias_attr, shape=[self._out_channels], is_bias=True)\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in create_parameter(self, shape, attr, dtype, is_bias, default_initializer)\r\n    422             temp_attr = None\r\n    423         return self._helper.create_parameter(temp_attr, shape, dtype, is_bias,\r\n--> 424                                              default_initializer)\r\n    425 \r\n    426     @deprecated(\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layer_helper_base.py in create_parameter(self, attr, shape, dtype, is_bias, default_initializer, stop_gradient, type)\r\n    370                     \"In dygraph mode, the name of parameter can't be same.\"\r\n    371                     \"Please check the parameter attr value passed to self.create_parameter or \"\r\n--> 372                     \"constructor of dygraph Layers\".format(attr.name))\r\n    373             return self.main_program.global_block().create_parameter(\r\n    374                 dtype=dtype,\r\n\r\nValueError: parameter name [conv1_1_weights] have be been used. In dygraph mode, the name of parameter can't be same.Please check the parameter attr value passed to self.create_parameter or constructor of dygraph Layers\r\n搞不定啊。\r\n`\r\n\r\n## 3.环境\r\naistudio的环境\r\n\r\n`paddlefsl 1.0.0\r\npaddlehub 2.0.4\r\npaddlenlp 2.1.1\r\npaddlepaddle-gpu 2.2.0.post101\r\ntb-paddle 0.3.6`\r\n",
        "state": "closed",
        "user": "livingbody",
        "closed_by": "WYB27",
        "created_at": "2021-12-09T07:49:56+00:00",
        "updated_at": "2025-06-30T07:13:23+00:00",
        "closed_at": "2025-06-30T07:13:23+00:00",
        "comments_count": [
            "KPatr1ck",
            "haoyuying",
            "huanmengmie",
            "huanmengmie"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1726,
        "title": "多卡性能比单卡慢",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub2.1，PaddlePaddle-GPU 2.2\r\n2）PaddleHub的docker环境\r\n\r\n开启GPU，设置多卡后，比如100张图片，预测，总耗时比单卡还慢。但是我看咱们宣传的是性能会大幅度提升。是我没设置对么？\r\n设置的参数是--use_gpu --gpu 0,1,2,3",
        "state": "closed",
        "user": "HexToString",
        "closed_by": "WYB27",
        "created_at": "2021-12-09T06:49:34+00:00",
        "updated_at": "2025-06-30T07:13:26+00:00",
        "closed_at": "2025-06-30T07:13:25+00:00",
        "comments_count": [
            "HexToString",
            "HexToString",
            "HexToString",
            "KPatr1ck",
            "JeremyGe07"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1731,
        "title": "paddlehub参数parameters读取问题求帮助",
        "body": "\r\n![1](https://user-images.githubusercontent.com/73382519/145951503-d3bf62ac-9033-4b6f-b4d8-2f67f98c0be9.png)\r\n我在paddlehub2.0上使用resnet50_vd_dishes训练自己的数据集时，遇到报错AttributeError: 'ResNet50vdDishes' object has no attribute 'parameters'，网上搜索说是装载模型时使用的是未升级的模型。\r\n![2](https://user-images.githubusercontent.com/73382519/145951523-0df32db1-8574-483b-9154-2a6a52162183.png)\r\n于是我将paddlehub降到1.7\r\n![3](https://user-images.githubusercontent.com/73382519/145951585-779bfea1-8db8-48e8-98d4-9e799bea473d.png)\r\n依然出现如下的parameters参数问题，请问resnet50_vd_dishes这个模型的参数什么时候更新，有读取方法吗？\r\n![4](https://user-images.githubusercontent.com/73382519/145951639-72211cfc-0d30-45f6-bdef-0868bc3b0476.png)\r\n",
        "state": "closed",
        "user": "sk8boi",
        "closed_by": "WYB27",
        "created_at": "2021-12-14T07:22:28+00:00",
        "updated_at": "2025-06-30T07:13:22+00:00",
        "closed_at": "2025-06-30T07:13:22+00:00",
        "comments_count": [
            "haoyuying",
            "sk8boi"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1740,
        "title": "自然语言处理 优化策略配置时出现问题",
        "body": "win10   \r\npaddlehub 1.6.2\r\npaddlepaddle 2.1.0 \r\n\r\n出现问题\r\nparameter_list argument given to the Optimizer should not be None in dygraph mode\r\n![Uploading image.png…]()\r\n\r\n\r\n具体参照百度官方教程\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/216846?channelType=0&channel=0",
        "state": "closed",
        "user": "NBHHWCA",
        "closed_by": "WYB27",
        "created_at": "2021-12-19T13:24:58+00:00",
        "updated_at": "2025-06-30T07:13:20+00:00",
        "closed_at": "2025-06-30T07:13:20+00:00",
        "comments_count": [
            "linjieccc"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1742,
        "title": "CPU/GPU不同环境下输出字段异常",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\npaddlehub                         2.1.1\r\npaddlepaddle-gpu                  2.2.1\r\n\r\n使用环境为Docker镜像：\r\nregistry.baidubce.com/paddlepaddle/paddle:2.2.1-gpu-cuda10.2-cudnn7\r\n\r\n测试代码来源于 https://www.paddlepaddle.org.cn/hubdetail?name=chinese_ocr_db_crnn_server&en_category=TextRecognition\r\n```\r\nimport requests\r\nimport json\r\nimport cv2\r\nimport base64\r\n\r\ndef cv2_to_base64(image):\r\n    data = cv2.imencode('.jpg', image)[1]\r\n    return base64.b64encode(data.tostring()).decode('utf8')\r\n\r\n# 发送HTTP请求\r\ndata = {'images':[cv2_to_base64(cv2.imread(\"/PATH/TO/IMAGE\"))]}\r\nheaders = {\"Content-type\": \"application/json\"}\r\nurl = \"http://127.0.0.1:8866/predict/chinese_ocr_db_crnn_server\"\r\nr = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n\r\n# 打印预测结果\r\nprint(r.json()[\"results\"])\r\n```\r\n\r\n\r\n复现步骤：\r\n1. hub install chinese_ocr_db_crnn_server==1.1.2\r\n2. 使用CPU推理 hub serving start -m chinese_ocr_db_crnn_server\r\n3. python test.py\r\n4. 使用GPU推理 hub serving start -m chinese_ocr_db_crnn_server --use_gpu\r\n5. python test.py\r\n\r\n会发现GPU推理的时候没结果，检查输出的json发现结果不在 results 字段里面而在 msg 字段下面。\r\n\r\n查看源码可能是这一部分代码 package_result函数的参数写反了\r\n\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/release/v2.1/paddlehub/serving/http_server.py#L132-L161\r\n",
        "state": "closed",
        "user": "WilliamKyle",
        "closed_by": "WYB27",
        "created_at": "2021-12-22T09:17:11+00:00",
        "updated_at": "2025-06-30T07:13:18+00:00",
        "closed_at": "2025-06-30T07:13:18+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1743,
        "title": "【no need to reply】 wechat QR code",
        "body": "![飞桨小助手二维码](https://user-images.githubusercontent.com/23690325/147116815-d99c8b54-716f-4009-a6cd-87f2621d248f.jpg)\r\n",
        "state": "closed",
        "user": "D-DanielYang",
        "closed_by": "KPatr1ck",
        "created_at": "2021-12-22T15:33:55+00:00",
        "updated_at": "2021-12-27T06:30:33+00:00",
        "closed_at": "2021-12-27T06:30:33+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1749,
        "title": "paddlehub 图片识别文字内存溢出",
        "body": "循环调用\r\nrecognize_text(paths=img_paths,use_gpu=False)\r\n这个方法大约有100多张照片后提示内存溢出，不知是因为调用方法不对还是使用不对。注:每一种张照片调用一次\r\n",
        "state": "closed",
        "user": "bouyeijiang",
        "closed_by": "WYB27",
        "created_at": "2021-12-26T06:57:09+00:00",
        "updated_at": "2025-06-30T07:13:14+00:00",
        "closed_at": "2025-06-30T07:13:14+00:00",
        "comments_count": [
            "haoyuying",
            "bouyeijiang",
            "haoyuying"
        ],
        "labels": [
            "cv"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1744,
        "title": "PaddleHub部署PaddleOCR，长期运行后不明原因killed",
        "body": "系统环境/System Environment：Ubuntu18.04 + cuda10.1 + K40C\r\n版本号/Version：Paddle： PaddleOCR： 问题相关组件/Related components：paddle版本2.0.0rc1，paddleocr版本：2.0.0rc1，paddlehub版本：2.0.0rc1\r\n运行指令/Command Code：hub serving start -c deploy/hubserving/ocr_system/config.json\r\n完整报错/Complete Error Message：\r\n�[33m[2021-12-23 14:35:05,925] [ WARNING]�[0m - The _initialize method in HubModule will soon be deprecated, you can use the init() to handle the initialization of the object�[0m\r\nW1223 14:35:05.996716 9868 analysis_predictor.cc:1058] Deprecated. Please use CreatePredictor instead.\r\nRunning on all addresses.\r\nWARNING: This is a development server. Do not use it in a production deployment.\r\nRunning on http://192.168.1.1:8868/ (Press CTRL+C to quit)\r\n127.0.0.1 - - [23/Dec/2021 14:37:35] \"POST /predict/ocr_system HTTP/1.1\" 200 -\r\n127.0.0.1 - - [23/Dec/2021 14:37:35] \"POST /predict/ocr_system HTTP/1.1\" 400 -\r\nKilled\r\n/home/ocr/.local/lib/python3.6/site-packages/pip/_vendor/packaging/version.py:114: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\nDeprecationWarning,\r\n/home/ocr/.local/lib/python3.6/site-packages/pip/_vendor/packaging/version.py:114: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\nDeprecationWarning,\r\n�[32m[2021-12-23 14:40:28,392] [ INFO]�[0m - PaddleHub Serving has been stopped.�[0m\r\n/home/ocr/.local/lib/python3.6/site-packages/pip/_vendor/packaging/version.py:114: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\nDeprecationWarning,\r\n/home/ocr/.local/lib/python3.6/site-packages/pip/_vendor/packaging/version.py:114: DeprecationWarning: Creating a LegacyVersion has been deprecated and will be removed in the next major release\r\nDeprecationWarning,\r\n�[33m[2021-12-23 14:40:44,331] [ WARNING]�[0m - The _initialize method in HubModule will soon be deprecated, you can use the init() to handle the initialization of the object�[0m\r\n======================================================================================\r\n本人采用hubserving的部署方式部署了paddleocr服务，运行一周左右时间后出现killed退出，无其他报错。\r\n（需要说明的是，该显卡上还运行了其他目标检测程序-yolov3（非paddle版本），不知道是否有影响，期间其他检测程序存在重启现象。）\r\n目前猜测目标检测程序重启加载GPU导致GPU占用从而hub被killed？但显存资源完全够用，实在是不知道hubserving被killed的原因，无人为操作，还请大佬们赐教！",
        "state": "closed",
        "user": "blackhitomi",
        "closed_by": "WYB27",
        "created_at": "2021-12-23T09:31:16+00:00",
        "updated_at": "2025-06-30T07:13:16+00:00",
        "closed_at": "2025-06-30T07:13:16+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": [
            "serving"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1751,
        "title": "paddlehub课程增加动态图代码版本",
        "body": "ai studio课程中,有一个paddlehub课程合集,入门类,初级,但是paddlepaddle是1.x版本,也就是静态图版本,希望可以把相关项目和代码换成动态图版本,谢谢,毕竟现在paddlepaddle都已经更新到2.2.1了,估计很少人使用静态图版本了吧.目前相关静态图代码使用paddlepaddle2.2.1会报错.\r\n",
        "state": "closed",
        "user": "yuwoyizhan",
        "closed_by": "WYB27",
        "created_at": "2021-12-28T10:02:43+00:00",
        "updated_at": "2025-06-30T07:13:12+00:00",
        "closed_at": "2025-06-30T07:13:12+00:00",
        "comments_count": [
            "linjieccc",
            "yuwoyizhan",
            "linjieccc"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1752,
        "title": "多卡gpu服务器，无法在paddlehub上启用多卡训练模型，请求帮助！",
        "body": "**参考issue这个命令进行的设置，可是无法生效   。\r\n\r\n可以尝试多卡训练CUDA_VISIBLE_DEVICES=0,1,2,3 python -m paddle.distributed.launch train.py 执行train.py脚本。  \r\n\r\n最新版本paddlehud，ubuntu 18 的操作系统   用的ernie模型  ，训练单卡跑通，多卡跑不起来，就是训练的时候，只有一个gpu可以跑满，其他的都为空。**\r\n\r\n\r\n欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "gaoyuan211",
        "closed_by": "WYB27",
        "created_at": "2021-12-29T05:04:54+00:00",
        "updated_at": "2025-06-30T07:13:10+00:00",
        "closed_at": "2025-06-30T07:13:10+00:00",
        "comments_count": [
            "linjieccc",
            "gaoyuan211",
            "gaoyuan211",
            "linjieccc",
            "gaoyuan211",
            "gaoyuan211",
            "linjieccc",
            "gaoyuan211",
            "gaoyuan211",
            "gaoyuan211",
            "linjieccc",
            "gaoyuan211",
            "linjieccc"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1754,
        "title": "运行测试代码报错：ImportError: cannot import name 'get_installed_distributions' from 'pip._internal.utils.misc'",
        "body": "你好，报错信息如下：\r\n1. ImportError: cannot import name 'get_installed_distributions' from 'pip._internal.utils.misc'\r\n2. 报错文件为：/python3.9/site-packages/pip/_internal/utils/misc.py\r\n3. 版本：\r\n- paddlehub          2.0.0\r\n- paddlepaddle       2.1.0\r\n4. 系统环境\r\n- 电脑信息：Mac mini (M1, 2020)，MacOS Monterey 版本12.0.1\r\n- python版本: 3.9.4\r\n- pip 21.3.1\r\n\r\n5. 运行下面代码报的错：\r\n```\r\ndef _load_app_module():\r\n    import cv2\r\n    import paddlehub as hub\r\n\r\n    ocr = hub.Module(name=\"chinese_ocr_db_crnn_mobile\")\r\n    test_img_path = ['/Users/cuimini/Desktop/Snip20211229_240.png']\r\n\r\n    # 读取测试文件夹test.txt中的照片路径\r\n    np_images = [cv2.imread(image_path) for image_path in test_img_path]\r\n\r\n    results = ocr.recognize_text(\r\n        images=np_images,  # 图片数据，ndarray.shape 为 [H, W, C]，BGR格式；\r\n        use_gpu=False,  # 是否使用 GPU；若使用GPU，请先设置CUDA_VISIBLE_DEVICES环境变量\r\n        output_dir='ocr_result',  # 图片的保存路径，默认设为 ocr_result；\r\n        visualization=True,  # 是否将识别结果保存为图片文件；\r\n        box_thresh=0.5,  # 检测文本框置信度的阈值；\r\n        text_thresh=0.5)  # 识别中文文本置信度的阈值；\r\n\r\n    for result in results:\r\n        data = result['data']\r\n        save_path = result['save_path']\r\n        for infomation in data:\r\n            print('text: ', infomation['text'], '\\nconfidence: ', infomation['confidence'], '\\ntext_box_position: ',\r\n                  infomation['text_box_position'])\r\n```\r\n",
        "state": "closed",
        "user": "cuiYuhe",
        "closed_by": "WYB27",
        "created_at": "2021-12-31T06:50:34+00:00",
        "updated_at": "2025-06-30T07:13:08+00:00",
        "closed_at": "2025-06-30T07:13:08+00:00",
        "comments_count": [
            "Zeref996",
            "YouJianYue"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1755,
        "title": "linux下和windows下的lac词表格式不一致",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n\r\npaddlehub版本2.2.0\r\npaddlePaddle版本2.2.1\r\npaddlenlp版本2.2.2\r\n\r\n\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nwindows：win7\r\nlinux：\r\n      LSB Version:    :core-4.1-amd64:core-4.1-noarch\r\n      Distributor ID: CentOS\r\n      Description:    CentOS Linux release 7.9.2009 (Core)\r\n      Release:        7.9.2009\r\n      Codename:       Core\r\npython：3.7\r\n\r\n\r\n以\"需要\"改成动词v为例\r\n发现windows需要的格式为：\r\n\r\n需要\\tv\\t1000000000\r\n\r\nlinux需要的格式为：\r\n\r\n需要\\v\r\n\r\n\r\n执行代码统一为\r\n\r\n      import paddle\r\n      import paddlehub as hub\r\n      import paddlenlp \r\n      \r\n      print(hub.__version__)\r\n      print(paddle.__version__)\r\n      print(paddlenlp.__version__)\r\n      lac = hub.Module(name=\"lac\")\r\n      \r\n      lac.set_user_dict(\"./custom.txt\")\r\n",
        "state": "closed",
        "user": "dataCoderX10",
        "closed_by": "WYB27",
        "created_at": "2021-12-31T09:50:02+00:00",
        "updated_at": "2025-06-30T07:13:06+00:00",
        "closed_at": "2025-06-30T07:13:06+00:00",
        "comments_count": [
            "dataCoderX10",
            "dataCoderX10",
            "linjieccc"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1756,
        "title": "pyinstaller 打包发布运行不了",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "bouyeijiang",
        "closed_by": "WYB27",
        "created_at": "2022-01-02T04:12:06+00:00",
        "updated_at": "2025-06-30T07:13:04+00:00",
        "closed_at": "2025-06-30T07:13:04+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1757,
        "title": "pyinstaller打包后报错： File \"<frozen importlib._bootstrap>\", line xxx, in _find_and_load",
        "body": "软件环境\r\nwin10x64\r\ncuda 10.2\r\ncuDNN 7.6.5\r\npython 3.8.6\r\npaddlepaddle: pip install paddlepaddle-gpu==2.2.1 -i https://mirror.baidu.com/pypi/simple\r\npaddlehub: pip install --upgrade paddlehub -i https://mirror.baidu.com/pypi/simple\r\n\r\n源代码（从官网复制）：\r\n# -*- coding: UTF8 -*-\r\nimport paddlehub as hub\r\nlac = hub.Module(name=\"lac\")\r\ntest_text = [\"今天是个好天气。\"]\r\nresults = lac.cut(text=test_text, use_gpu=False, batch_size=1, return_tag=True)\r\nprint(results) #{'word': ['今天', '是', '个', '好天气', '。'], 'tag': ['TIME', 'v', 'q', 'n', 'w']}\r\n\r\n\r\n打包前测试正常，打包后运行错误如下：\r\nFile \"(frozen importlib.bootstrap)\",line 991,in find and load\r\nFile \"(frozen importlib._bootstrap)\",line 975,in _find_and_load_unlocked\r\nFile \"(frozen importlib._bootstrap)\",line 671,in _load_unlocked\r\nFile \"PyInstaller\\loader\\pyimod03_importers.py\",line 476,in exec_module\r\nFile \"paddle\\utils\\init py\",line 28,in (module)\r\nFile \"(frozen importlib.bootstrap)\",line 991,in _find_and_load\r\nFile \"(frozen importlib.bootstrap)\",line 975,in find and load unlocked\r\nFile \"(frozen importlib.bootstrap)\",line 671,in load_unlocked\r\nFile \"PyInstaller\\loader\\pyimod03_importers.py\",line 476,in exec_module\r\nFile \"paddle\\utils\\cpp_extension\\init_.py\",line 15,in (module)\r\nFile \"(frozen importlib.bootstrap)\",line 991,in find_and_load\r\nFile \"(frozen importlib.bootstrap)\",line 975,in _find_and_load_unlocked\r\nFile \"(frozen importlib.bootstrap)\",line 671,in _load_unlocked\r\nFile \"PyInstaller\\loader \\pyimod03_importers.py\",line 6,in exec_module\r\nFile \"paddle\\utils\\cpp_extension\\cpp_extension.py\",line 20,in (module)\r\nFile \"(frozen importlib.bootstrap)\",line 991,in _find_and_load\r\nFile \"(frozen importlib.bootstrap)\",line 975,in _find_and_load_unlocked\r\nFile \"(frozen importlib._bootstrap)\",line 671,in _load_unlocked\r\nFile \"PyInstaller\\loader\\pyimod03_importers.py\",line 476,in exec_module\r\nFile \"setuptools\\init_.py\",line 8,in (module)\r\nFile \"(frozen importlib._bootstrap)\",line 991,in _find_and_load\r\nFile \"(frozen importlib.bootstrap)\",line 975,in _find_and_load_unlocked\r\nFile (frozen importlib.bootstrap)\",line 671,in _load_unlocked\r\nFile \"PyInstaller\\loader\\pyimod03 _importers.py\",line 476,in exec_module\r\nFile \"_distutils_hack\\override.py\",line 1,in (module)\r\nFile \"_distutils_hack\\init_.py\",line 73,in do_override\r\nFile \"_distutils_hack\\init.py\",line 61,in ensure_local_distutils\r\nAssertionError:D:\\anime\\dist\\test\\distutils\\core.pyc\r\n[27324]Failed to execute script 'test'due to unhandled exception!\r\n\r\n详见Giee\r\nhttps://gitee.com/paddlepaddle/PaddleHub/issues/I4PNU2\r\n",
        "state": "closed",
        "user": "cgcgcg-xs",
        "closed_by": "WYB27",
        "created_at": "2022-01-06T08:56:35+00:00",
        "updated_at": "2025-06-30T07:13:02+00:00",
        "closed_at": "2025-06-30T07:13:02+00:00",
        "comments_count": [
            "KPatr1ck",
            "cgcgcg-xs",
            "mizukiyoshino",
            "hornbeamliu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1758,
        "title": " 执行hub,就报错cannot import name '_convert_attention_mask' from 'paddle.nn.layer.transformer",
        "body": "系统: windows server 2012 r2 \r\ngpu: CUDA10.0 M60显卡\r\npaddle版本: \r\n    paddlehub          2.0.2\r\n    paddlenlp          2.2.3\r\n    paddlepaddle-gpu   2.0.2.post100\r\npaddle检查正常运行\r\n\r\n执行hub 就报错cannot import name '_convert_attention_mask' from 'paddle.nn.layer.transformer\r\n\r\n\r\n日志如下\r\nC:\\Users\\Administrator>activate paddle_env\r\n\r\n(paddle_env) C:\\Users\\Administrator>hub\r\nC:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddle\\fluid\\layers\\utils.py:26: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself.\r\nDoing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check\r\nthe release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  def convert_to_list(value, n, name, dtype=np.int):\r\nTraceback (most recent call last):\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\Scripts\\hub.exe\\__main__.py\", line 4, in <module>\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\__init__.py\", line 31, in <module>\r\n    from paddlehub import datasets\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\datasets\\__init__.py\", line 18, in <module>\r\n    from paddlehub.datasets.chnsenticorp import ChnSentiCorp\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\datasets\\chnsenticorp.py\", line 19, in <module>\r\n    from paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\datasets\\base_nlp_dataset.py\", line 23, in <module>\r\n    from paddlenlp.transformers import PretrainedTokenizer\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddlenlp\\__init__.py\", line 20, in <module>\r\n    from . import ops\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddlenlp\\ops\\__init__.py\", line 16, in <module>\r\n    from .faster_transformer.transformer.faster_transformer import *\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddlenlp\\ops\\faster_transformer\\transformer\\faster_transformer.py\", line 22, in <module>\r\n    from paddlenlp.transformers import (TransformerModel, WordEmbedding,\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddlenlp\\transformers\\__init__.py\", line 61, in <module>\r\n    from .blenderbot.modeling import *\r\n  File \"C:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddlenlp\\transformers\\blenderbot\\modeling.py\", line 23, in <module>\r\n    from paddle.nn.layer.transformer import _convert_attention_mask\r\nImportError: cannot import name '_convert_attention_mask' from 'paddle.nn.layer.transformer' (C:\\Miniconda\\envs\\paddle_env\\lib\\site-packages\\paddle\\nn\\layer\\transformer.py)\r\n\r\n\r\n",
        "state": "closed",
        "user": "yz4322gly",
        "closed_by": "yz4322gly",
        "created_at": "2022-01-06T08:58:15+00:00",
        "updated_at": "2022-01-06T09:11:06+00:00",
        "closed_at": "2022-01-06T09:11:06+00:00",
        "comments_count": [
            "yz4322gly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1763,
        "title": "paddlehub 识别某些图片异常无消息退出",
        "body": "paddlehub 识别遇到某些图片就异常退出没有任何异常消息直接结束，啥情况",
        "state": "closed",
        "user": "bouyeijiang",
        "closed_by": "KPatr1ck",
        "created_at": "2022-01-07T15:01:20+00:00",
        "updated_at": "2022-01-11T11:22:07+00:00",
        "closed_at": "2022-01-11T11:22:07+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1764,
        "title": "识别某些png格式的图片异常",
        "body": "InvalidArgumentError: The number of input's channels should be equal to filter's channels * groups for Op(Conv). But received: the input's channels is 4, the input's shape is [1, 4, 544, 960]; the filter's channels is 3, the filter's shape is [8, 3, 3, 3]; the groups is 1, the data_format is NCHW. The error may come from wrong data_format setting",
        "state": "closed",
        "user": "bouyeijiang",
        "closed_by": "WYB27",
        "created_at": "2022-01-10T13:25:17+00:00",
        "updated_at": "2025-06-30T07:13:00+00:00",
        "closed_at": "2025-06-30T07:13:00+00:00",
        "comments_count": [
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1765,
        "title": "win10-安装cpu版PaddlePaddle-无法导入PaddleHub",
        "body": "版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\npaddlehub 2.2.0\r\npaddlepaddle 2.2.1\r\n2）系统环境：请您描述系统类型，例如\r\nwin11 64bit, python 3.9.6\r\n\r\n复现代码：\r\nimport paddlehub as hub\r\nfrom PIL import Image\r\n# 载入模型\r\nstyleganv2_editing = hub.Module(name='styleganv2_editing')\r\n# 图像路径\r\ninput_img = \"input.png\"\r\n# 模型预测\r\nstyleganv2_editing.generate(\r\n    paths=[input_img],\r\n    direction_name = 'age',\r\n    direction_offset = 5.0,\r\n    output_dir='./editing_result/',\r\n    use_gpu=True,\r\n    visualization=True)\r\n# 输出路径\r\noutput_img = \"./editing_result/dst_0.png\"\r\n\r\n错误信息：\r\nFile \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\IPython\\core\\interactiveshell.py\", line 3441, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-2-c22d3c4df48c>\", line 1, in <module>\r\n    runfile('D:/Program Files/PycharmProjects/pythonProject2/Paddlehub/test1.py', wdir='D:/Program Files/PycharmProjects/pythonProject2/Paddlehub')\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_umd.py\", line 198, in runfile\r\n    pydev_imports.execfile(filename, global_vars, local_vars)  # execute the script\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"D:/Program Files/PycharmProjects/pythonProject2/Paddlehub/test1.py\", line 1, in <module>\r\n    import paddlehub as hub\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\paddlehub\\__init__.py\", line 31, in <module>\r\n    from paddlehub import datasets\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\paddlehub\\datasets\\__init__.py\", line 16, in <module>\r\n    from paddlehub.datasets.chnsenticorp import ChnSentiCorp\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\paddlehub\\datasets\\chnsenticorp.py\", line 19, in <module>\r\n    from paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\paddlehub\\datasets\\base_nlp_dataset.py\", line 21, in <module>\r\n    import paddlenlp\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\paddlenlp\\__init__.py\", line 22, in <module>\r\n    from . import metrics\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\paddlenlp\\metrics\\__init__.py\", line 16, in <module>\r\n    from .chunk import ChunkEvaluator\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\paddlenlp\\metrics\\chunk.py\", line 6, in <module>\r\n    from seqeval.metrics.sequence_labeling import get_entities\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\seqeval\\metrics\\__init__.py\", line 1, in <module>\r\n    from seqeval.metrics.sequence_labeling import (accuracy_score,\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\seqeval\\metrics\\sequence_labeling.py\", line 14, in <module>\r\n    from seqeval.metrics.v1 import SCORES, _precision_recall_fscore_support\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\seqeval\\metrics\\v1.py\", line 5, in <module>\r\n    from sklearn.exceptions import UndefinedMetricWarning\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\sklearn\\__init__.py\", line 82, in <module>\r\n    from .base import clone\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\sklearn\\base.py\", line 17, in <module>\r\n    from .utils import _IS_32BIT\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\sklearn\\utils\\__init__.py\", line 28, in <module>\r\n    from .fixes import np_version, parse_version\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\sklearn\\utils\\fixes.py\", line 19, in <module>\r\n    import scipy.stats\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\scipy\\stats\\__init__.py\", line 441, in <module>\r\n    from .stats import *\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\scipy\\stats\\stats.py\", line 37, in <module>\r\n    from scipy.spatial.distance import cdist\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\scipy\\spatial\\__init__.py\", line 101, in <module>\r\n    from ._procrustes import procrustes\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\scipy\\spatial\\_procrustes.py\", line 9, in <module>\r\n    from scipy.linalg import orthogonal_procrustes\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\scipy\\linalg\\__init__.py\", line 195, in <module>\r\n    from .misc import *\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\scipy\\linalg\\misc.py\", line 4, in <module>\r\n    from .lapack import get_lapack_funcs\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\n  File \"D:\\anaconda\\envs\\pythonProject2\\lib\\site-packages\\scipy\\linalg\\lapack.py\", line 818, in <module>\r\n    from scipy.linalg import _flapack\r\n  File \"D:\\Program Files\\JetBrains\\PyCharm Community Edition 2020.3\\plugins\\python-ce\\helpers\\pydev\\_pydev_bundle\\pydev_import_hook.py\", line 21, in do_import\r\n    module = self._system_import(name, *args, **kwargs)\r\nImportError: DLL load failed while importing _flapack: 找不到指定的程序。\r\n",
        "state": "closed",
        "user": "Chenqiyan-0",
        "closed_by": "WYB27",
        "created_at": "2022-01-10T13:53:58+00:00",
        "updated_at": "2025-06-30T07:12:58+00:00",
        "closed_at": "2025-06-30T07:12:58+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1766,
        "title": "ExternalError:  Cuda error(77), an illegal memory access was encountered.",
        "body": "- paddle版本   paddlepaddle-gpu   1.8.5.post97\r\n- paddlehub  1.8.2\r\n- python 3.7.5\r\n- 文本分类任务。\r\n- 描述通过paddlehub serving自定义训练的模型部署后，通过serving启动后，任务在正常预测一段时间后报错：\r\n```\r\n[INFO 2022-01-11 15:10:55,584 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:55] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:55,879 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:55] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:56,153 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:56] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:56,439 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:56] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:56,692 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:56] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:56,949 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:56] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:57,300 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:57] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:57,618 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:57] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:57,944 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:57] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:58,272 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:58] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:58,602 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:58] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:58,922 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:58] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\n[INFO 2022-01-11 15:10:59,224 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:59] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 - HTTP/1.1\u001b[0m\" 200 -\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/serving/app_single.py\", line 42, in predict_v2_advanced\r\n    output = serving_method(**predict_args)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 72, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/root/.paddlehub/modules/law_class/module.py\", line 114, in predict\r\n    run_states = self.cls_task.predict(data=handeldata)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1139, in predict\r\n    run_states = self._run_with_predictor()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1078, in _run_with_predictor\r\n    fetch_result = self._predictor.run(tensor_batch)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<char const*>(char const*&&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int)\r\n2   paddle::platform::GpuMemcpySync(void*, void const*, unsigned long, cudaMemcpyKind)\r\n3   void paddle::memory::Copy<paddle::platform::CPUPlace, paddle::platform::CUDAPlace>(paddle::platform::CPUPlace, void*, paddle::platform::CUDAPlace, void const*, unsigned long, CUstream_st*)\r\n4   paddle::framework::TensorCopySync(paddle::framework::Tensor const&, paddle::platform::Place const&, paddle::framework::Tensor*)\r\n5   paddle::operators::FetchOp::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n6   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, paddle::platform::Place const&)\r\n7   paddle::framework::NaiveExecutor::Run()\r\n8   paddle::AnalysisPredictor::Run(std::vector<paddle::PaddleTensor, std::allocator<paddle::PaddleTensor> > const&, std::vector<paddle::PaddleTensor, std::allocator<paddle::PaddleTensor> >*, int)\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddle/fluid/io.py\", line 1065, in append_fetch_ops\r\n    attrs={'col': i})\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddle/fluid/io.py\", line 1248, in save_inference_model\r\n    append_fetch_ops(main_program, fetch_var_names)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 942, in save_inference_model\r\n    params_filename=params_filename)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1022, in _create_predictor\r\n    self.save_inference_model(dirname=_dir)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1138, in predict\r\n    self._predictor = self._create_predictor()\r\n  File \"/root/.paddlehub/modules/law_class/module.py\", line 114, in predict\r\n    run_states = self.cls_task.predict(data=handeldata)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 72, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/serving/app_single.py\", line 42, in predict_v2_advanced\r\n    output = serving_method(**predict_args)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/serving/app_single.py\", line 447, in predict_modulev2\r\n    results = predict_v2_advanced(module_info, inputs)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/flask/app.py\", line 1936, in dispatch_request\r\n    return self.view_functions[rule.endpoint](**req.view_args)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/flask/app.py\", line 1950, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/flask/app.py\", line 2447, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/flask/app.py\", line 2464, in __call__\r\n    return self.wsgi_app(environ, start_response)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/werkzeug/serving.py\", line 312, in execute\r\n    application_iter = app(environ, start_response)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/werkzeug/serving.py\", line 323, in run_wsgi\r\n    execute(self.server.app)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/werkzeug/serving.py\", line 379, in handle_one_request\r\n    return self.run_wsgi()\r\n  File \"/usr/local/python3/lib/python3.7/http/server.py\", line 426, in handle\r\n    self.handle_one_request()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/werkzeug/serving.py\", line 345, in handle\r\n    BaseHTTPRequestHandler.handle(self)\r\n  File \"/usr/local/python3/lib/python3.7/socketserver.py\", line 720, in __init__\r\n    self.handle()\r\n  File \"/usr/local/python3/lib/python3.7/socketserver.py\", line 360, in finish_request\r\n    self.RequestHandlerClass(request, client_address, self)\r\n  File \"/usr/local/python3/lib/python3.7/socketserver.py\", line 347, in process_request\r\n    self.finish_request(request, client_address)\r\n  File \"/usr/local/python3/lib/python3.7/socketserver.py\", line 316, in _handle_request_noblock\r\n    self.process_request(request, client_address)\r\n  File \"/usr/local/python3/lib/python3.7/socketserver.py\", line 237, in serve_forever\r\n    self._handle_request_noblock()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/werkzeug/serving.py\", line 777, in serve_forever\r\n    HTTPServer.serve_forever(self)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/werkzeug/serving.py\", line 1009, in inner\r\n    srv.serve_forever()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/werkzeug/serving.py\", line 1052, in run_simple\r\n    inner()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/flask/app.py\", line 990, in run\r\n    run_simple(host, port, self, **options)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/serving/app_single.py\", line 470, in run\r\n    my_app.run(host=\"0.0.0.0\", port=port, debug=False, threaded=False)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 277, in start_single_app_with_args\r\n    app.run(configs=self.modules_info, port=port)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 360, in start_serving\r\n    self.start_single_app_with_args()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 413, in execute\r\n    self.start_serving()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 51, in execute\r\n    return command.execute(argv[1:])\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/commands/hub.py\", line 64, in main\r\n    command.execute(argv[1:])\r\n  File \"/usr/local/hub//hub\", line 9, in <module>\r\n    sys.exit(main())\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nExternalError:  Cuda error(77), an illegal memory access was encountered.\r\n  [Advise: The device encountered a load or store instruction on an invalid memory address. This leaves the process in an inconsistentstate and any further CUDA work will return the same error. To continue using CUDA, the process must be terminated and relaunched. ] at (/paddle/paddle/fluid/platform/gpu_info.cc:281)\r\n  [operator < fetch > error]\r\n[INFO 2022-01-11 15:10:59,314 _internal.py:113] 127.0.0.1 - - [11/Jan/2022 15:10:59] \"\u001b[37mPOST /predict/law_class HTTP/1.1\u001b[0m\" 200 -\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/serving/app_single.py\", line 42, in predict_v2_advanced\r\n    output = serving_method(**predict_args)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/module/module.py\", line 72, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/root/.paddlehub/modules/law_class/module.py\", line 114, in predict\r\n    run_states = self.cls_task.predict(data=handeldata)\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1139, in predict\r\n    run_states = self._run_with_predictor()\r\n  File \"/usr/local/python3/lib/python3.7/site-packages/paddlehub/finetune/task/base_task.py\", line 1078, in _run_with_predictor\r\n    fetch_result = self._predictor.run(tensor_batch)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n```\r\n\r\n- 自定义模型的代码：\r\n```# -*- coding: utf8 -*-\r\nimport json\r\n\r\nfrom paddlehub.module.module import moduleinfo, serving\r\nimport numpy as np\r\nimport paddlehub as hub\r\nimport sys\r\nfrom paddlehub.dataset.base_nlp_dataset import BaseNLPDataset\r\n\r\n\r\nclass LAWCLASS_NER(BaseNLPDataset):\r\n    \"\"\"\r\n    A set of manually annotated Chinese word-segmentation data about express information extraction.\r\n    For more information please refer to\r\n    https://aistudio.baidu.com/aistudio/projectdetail/131360\r\n    \"\"\"\r\n\r\n    def __init__(self):\r\n        # 存放数据集的根目录\r\n        self.dataset_dir = \"/home/st_test/nlp_class/data\"\r\n        super(LAWCLASS_NER, self).__init__(\r\n            base_path=self.dataset_dir,\r\n            train_file=\"train.txt\",\r\n            dev_file=\"elve.txt\",\r\n            test_file=\"test.txt\",\r\n            train_file_with_header=True,\r\n            dev_file_with_header=True,\r\n            test_file_with_header=True,\r\n            # 数据集类别集合\r\n            label_list=['0', '1', '2']\r\n        )\r\n\r\n\r\n@moduleinfo(\r\n    name=\"law_class\",\r\n    version=\"1.0.0\",\r\n    summary=\"ERNIE tiny which was fine-tuned on the chnsenticorp dataset.\",\r\n    author=\"suntao\",\r\n    author_email=\"\",\r\n    type=\"nlp/semantic_model\")\r\nclass LAW_CLASS(hub.Module):\r\n    def _initialize(self):\r\n        # c1 数据集定义\r\n        dataset = LAWCLASS_NER()\r\n        # c2 引入预训练模型\r\n        module = hub.Module(name=\"ernie\")\r\n        use_cuda = False\r\n        if '--use_gpu' in sys.argv:\r\n            use_cuda = True\r\n        # c3  reader生成\r\n        reader = hub.reader.ClassifyReader(\r\n            dataset=dataset,\r\n            vocab_path=module.get_vocab_path(),\r\n            sp_model_path=module.get_spm_path(),\r\n            word_dict_path=module.get_word_dict_path(),\r\n            max_seq_len=128)\r\n        # c4  策略配置\r\n        strategy = hub.AdamWeightDecayStrategy(\r\n            weight_decay=0.01,\r\n            warmup_proportion=0.1,\r\n            learning_rate=5e-5)\r\n\r\n        # c5 运行配置\r\n        config = hub.RunConfig(\r\n            use_cuda=True,\r\n            num_epoch=5,\r\n            checkpoint_dir=\"/home/st_test/nlp_class/mod/law_class\",\r\n            batch_size=16,\r\n            eval_interval=50,\r\n            strategy=strategy)\r\n\r\n        inputs, outputs, program = module.context(\r\n            trainable=True, max_seq_len=128)\r\n\r\n        # Use \"pooled_output\" for classification tasks on an entire sentence.\r\n        pooled_output = outputs[\"pooled_output\"]\r\n\r\n        feed_list = [\r\n            inputs[\"input_ids\"].name,\r\n            inputs[\"position_ids\"].name,\r\n            inputs[\"segment_ids\"].name,\r\n            inputs[\"input_mask\"].name,\r\n        ]\r\n\r\n        self.cls_task = hub.TextClassifierTask(\r\n            data_reader=reader,\r\n            feature=pooled_output,\r\n            feed_list=feed_list,\r\n            num_classes=dataset.num_labels,\r\n            config=config)\r\n\r\n        #self.cls_task.finetune_and_eval()\r\n\r\n    @serving\r\n    def predict(self, data):\r\n        \"\"\"\r\n           Get prediction results\r\n        \"\"\"\r\n\r\n        # results = [run_state.run_results for run_state in run_states]\r\n        # label_dict = self.dataset.label_dict()\r\n        prediction = []\r\n        # for batch_result in results:\r\n        #     # get predict index\r\n        #     prediction += batch_result[0].tolist()\r\n        # label_map = []\r\n        # for index in range(len(label_dict)):\r\n        #     label_map.append(LABELS[label_dict[int(index)]])\r\n        index = 0\r\n        handeldata = []\r\n        for dataitem in data:\r\n            item = [dataitem]\r\n            handeldata.append(item)\r\n        run_states = self.cls_task.predict(data=handeldata)\r\n        results = [run_state.run_results for run_state in run_states]\r\n        for batch_result in results:\r\n            # get predict index\r\n\r\n            blist = [item.tolist() for item in batch_result[0]]\r\n        \r\n\r\n            for result in blist:\r\n                dic = {\"txt_index\": index, \"nlpclass\": result.index(max(result)), \"probability\": max(result)}\r\n                prediction.append(json.dumps(dic))\r\n                # s = \"%s\\tpredict=%s\" % (data[index][0], result)\r\n                index += 1\r\n        return prediction\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    ernie_law = LAW_CLASS()\r\n\r\n    data = [\r\n        \"五、附带民事诉讼被告人刘xx赔偿附带民事诉讼原告人xx人民币126066.1元；赔偿附带民事诉讼原告人xx人民币94751.54元；赔偿附带民事诉讼原告人xx人民币103214.94元；赔偿附带民事诉讼原告人xx人民币108716.14元；赔偿附带民事诉讼原告人赵洪仓人民币14542.94元；赔偿附带民事诉讼原告人xx人民币44820.28元；赔偿附带民事诉讼原告人xx人民币6249.31元；赔偿附带民事诉讼原告人xx人民币2910.72元。被告人xx对上述款项承担连带赔偿责任。\",\r\n        \"如不服本判决，可在接到判决书的第二日起十日内，通过本院或直接向山东省聊城市中级人民法院提出上诉。书面上诉的，应当提交上诉状正本一份、副本二十份。\",\r\n        \"七、被告人李xx犯寻衅滋事罪，判处有期徒刑二年六个月（刑期从判决执行之日起计算，判决执行以前先行羁押的，羁押一日折抵刑期一日，即自2018年9月26日起至2021年3月25日止）。\"\r\n    ]\r\n\r\n    predict = ernie_law.predict(data=data)\r\n    print(predict)\r\n```",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2022-01-11T07:43:24+00:00",
        "updated_at": "2025-06-30T07:12:56+00:00",
        "closed_at": "2025-06-30T07:12:56+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1767,
        "title": "windows 10,用GPU推理时，CPU资源占用很大",
        "body": "我先在我的笔记本电脑上做的测试，配置如下：\r\n1、2060单显卡\r\n2、cuda 10.2\r\n3、conda list 列出包的版本：\r\n\r\npaddlehub                2.1.0\r\npaddlenlp                 2.0.8\r\npaddlepaddle-gpu    2.1.2\r\npaddleslim                1.1.1\r\npaddlex                    1.3.11\r\n\r\n使用PaddleX 1.2.8 训练的模型，做目标识别的推理，使用 hub serving start -c .\\server-cfg.json 启动服务后，推理速度大概是40-50ms左右，CPU占用6%，并且在“任务管理器”的面板中可以看到Cuda的计算资源占用为7%，\r\n我认为性能已够我用，\r\n\r\n为此购买了Dell的服务器，配置如下：\r\n\r\n1、4块3060显卡\r\n2、cuda 11.2\r\n3、conda list 列出包的版本：\r\n\r\npaddledet                 2.3.0\r\npaddlehub                2.2.0\r\npaddlenlp                 2.2.3\r\npaddlepaddle-gpu    2.2.1.post111\r\npaddleslim                2.2.1\r\npaddlex                    2.1.0\r\n\r\n使用PaddleX 2.1.0 训练的模型，做目标识别的推理，使用 hub serving start -c .\\server-cfg.json 启动服务后，推理速度大概是140ms以上，CPU占用30%左右，在“任务管理器”的面板中可以看到Cuda的计算资源占用为0%也就是cuda不做运算，但显卡内存确实占用的大了。因此我开4个目标进程CPU就满了，而cuda一真闲着。\r\n\r\n重要：\r\n因此我怀疑推理时根本没有去使用GPU，全部在使用CPU去计算，请问专家们，这是怎么回事？\r\n是我环境装的不对，还是其它原因？",
        "state": "closed",
        "user": "mbsoftlf",
        "closed_by": "WYB27",
        "created_at": "2022-01-12T07:49:45+00:00",
        "updated_at": "2025-06-30T07:12:54+00:00",
        "closed_at": "2025-06-30T07:12:54+00:00",
        "comments_count": [
            "mbsoftlf",
            "KPatr1ck",
            "mbsoftlf",
            "mbsoftlf"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1768,
        "title": "ERROR: No matching distribution found for paddlepaddle",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n\r\nM1 Mac 12.1\r\npython版本3.7.10，3.8.6，3.9.1均失败\r\npython的安装使用pyenv，各版本均使用pyenv local xxx设置后python -m venv v3.x.x创建虚拟环境进行pip install\r\npython3 -c \"import platform;print(platform.architecture()[0]);print(platform.machine())\"\r\n输出64bit，arm64\r\n3.9.1下安装PaddleHub成功，缺失paddlepaddle，安装报错title的错误，所以切换python版本安装，3.7.x和3.8.x的版本尝试后都失败\r\n只提示\r\n```\r\nERROR: Could not find a version that satisfies the requirement paddlepaddle (from versions: none)\r\nERROR: No matching distribution found for paddlepaddle\r\n```\r\n也尝试过pip install --upgrade pip等，无效\r\n",
        "state": "closed",
        "user": "j4tmr",
        "closed_by": "WYB27",
        "created_at": "2022-01-13T09:35:34+00:00",
        "updated_at": "2025-06-30T07:12:52+00:00",
        "closed_at": "2025-06-30T07:12:52+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1769,
        "title": "PaddleHub什么时候有动态图版本的目标检测案例？",
        "body": "查看了demo中的案例目前有图像分类和语义分割的，但是没有找到目标检测的，比较好奇。\r\n另外希望在Hub文档上对模型的适用版本标明一下，使用了之前的目标检测模型就出现了报错。",
        "state": "closed",
        "user": "kyrios-sam",
        "closed_by": "WYB27",
        "created_at": "2022-01-14T14:58:42+00:00",
        "updated_at": "2025-06-30T07:12:50+00:00",
        "closed_at": "2025-06-30T07:12:50+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1772,
        "title": "Test labeler.",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n自动添加标签 ",
        "state": "closed",
        "user": "KPatr1ck",
        "closed_by": "KPatr1ck",
        "created_at": "2022-01-17T09:46:22+00:00",
        "updated_at": "2022-01-18T02:10:35+00:00",
        "closed_at": "2022-01-18T02:10:35+00:00",
        "comments_count": [],
        "labels": [
            "invalid"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1770,
        "title": "只要是windows用户目录为中文时就会报错",
        "body": "只要是windows用户目录为中文时就会报错 版本win10家庭版\r\n版本: 最新版的 乃至以前的都有这个bug\r\n\r\n 就是下方这句代码\r\n\r\nhub.Module(name=\"chinese_ocr_db_crnn_mobile\")\r\n\r\n它会去下载这个模型,,然后下载过程就会报错,或者是下载完了之后 报未知错误...\r\n",
        "state": "closed",
        "user": "luxiaolan6373",
        "closed_by": "WYB27",
        "created_at": "2022-01-15T11:30:19+00:00",
        "updated_at": "2025-06-30T07:12:48+00:00",
        "closed_at": "2025-06-30T07:12:48+00:00",
        "comments_count": [
            "luxiaolan6373",
            "KPatr1ck",
            "luxiaolan6373",
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1773,
        "title": "如何在spark环境下分布式调用hub预训练模型？",
        "body": "批量数据通过spark进行计算，在文本处理部分利用hub预训练模型。\r\n\r\n这个可以怎么做，现在会报错",
        "state": "closed",
        "user": "yangchanglin324",
        "closed_by": "WYB27",
        "created_at": "2022-01-18T09:17:31+00:00",
        "updated_at": "2025-06-30T07:12:46+00:00",
        "closed_at": "2025-06-30T07:12:46+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1774,
        "title": "对paddlehub文档的疑惑",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n对于[如何创建自己module中的教程](https://paddlehub.readthedocs.io/zh_CN/release-v2.1/tutorial/custom_module.html#id1)，我根据调用方法三来调用本地module，发现报错。经过反复调试，将文件夹路径最后的\"/\"去掉即可。\r\n![image](https://user-images.githubusercontent.com/48787805/150054982-13815b16-41ff-4644-a854-67faaea29538.png)\r\n\r\n我的问题是，这是文档本身有问题，还是什么其他问题？不仅如此对于Paddle社区中的PaddleDetection等其他相关文档中都存在连接失效或者有问题的地方，希望贵方能继续完善相关文档，不要过于依赖夸张的宣传\r\n\r\n",
        "state": "closed",
        "user": "thgpddl",
        "closed_by": "WYB27",
        "created_at": "2022-01-19T02:56:31+00:00",
        "updated_at": "2025-06-30T07:12:44+00:00",
        "closed_at": "2025-06-30T07:12:44+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1776,
        "title": "PaddleHub上的模型能够生成和PaddleX上发布模型一致的文件吗?",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- PaddleHub上发布模型在C#上运行\r\n- 什么样的场景下需要该特性？\r\n- 本地运行\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 可以用PaddleHub上生成的modules文件，让PaddleX导入自定义预训练模型再次学习后发布模型。\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "Foreverrrrrr",
        "closed_by": "WYB27",
        "created_at": "2022-01-23T05:32:53+00:00",
        "updated_at": "2025-06-30T07:12:40+00:00",
        "closed_at": "2025-06-30T07:12:40+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1775,
        "title": "FasterRCNN模型出错",
        "body": "环境：win10,PaddleHub2.2和PaddlePaddle2.2,python 3.7\r\n\r\nFasterRCNN模型出错信息如下，同样使用yolo模型不会\r\n\r\n(nlp) D:\\foguang>hub version\r\n2.2.0\r\n(nlp) D:\\foguang>hub run fg_fr --input_path  \"D:\\datasets\\Capture_20220119_094652.jpg\"\r\n\r\n```\r\n[2022-01-22 17:52:47,279] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\n2022-01-22 17:52:47 [INFO]      Model[FasterRCNN] loaded.\r\ne[37m---    Fused 0 subgraphs into layer_norm op.e[0m\r\ne[37m---    fused 0 pairs of fc gru patternse[0m\r\ne[37m---    fused 0 scale with matmule[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patternse[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patterns with transpose's xshapee[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patterns with reshape's xshapee[0m\r\ne[37m---    Fused 0 ReshapeTransposeMatmulMkldnn patterns with reshape's xshape with transpose's xshapee[0m\r\ne[37m---    Fused 0 MatmulTransposeReshape patternse[0m\r\ne[37m---    fused 0 batch norm with relu activatione[0m\r\nTraceback (most recent call last):\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"d:\\anaconda3\\envs\\nlp\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\site-packages\\paddlehub\\commands\\run.py\", line 56, in execute\r\n    result = module._run_func(argv[1:])\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\site-packages\\paddlehub\\module\\module.py\", line 52, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\abanger\\.paddlehub\\modules\\fg_fr\\module.py\", line 141, in run_cmd\r\n    use_gpu=args.use_gpu)\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\abanger\\.paddlehub\\modules\\fg_fr\\module.py\", line 83, in predict\r\n    out = self.model.batch_predict(batch_data, **kwargs)\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\site-packages\\paddlex\\deploy.py\", line 268, in batch_predict\r\n    return self.predict(img_file=image_list, **params)\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\site-packages\\paddlex\\deploy.py\", line 256, in predict\r\n    images=images, topk=topk, transforms=transforms)\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\site-packages\\paddlex\\deploy.py\", line 219, in _run\r\n    transforms=transforms)\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\site-packages\\paddlex\\deploy.py\", line 178, in postprocess\r\n    preds = self._model._postprocess(net_outputs)\r\n  File \"d:\\anaconda3\\envs\\nlp\\lib\\site-packages\\paddlex\\cv\\models\\detector.py\", line 577, in _postprocess\r\n    category = self.labels[int(num_id)]\r\nIndexError: list index out of range\r\n\r\n```\r\n\r\n",
        "state": "closed",
        "user": "abanger",
        "closed_by": "WYB27",
        "created_at": "2022-01-22T10:03:51+00:00",
        "updated_at": "2025-06-30T07:12:42+00:00",
        "closed_at": "2025-06-30T07:12:42+00:00",
        "comments_count": [
            "haoyuying",
            "abanger",
            "haoyuying",
            "abanger",
            "kassol"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1777,
        "title": "paddlehub 在ubuntu 18版本运行一段时间被killed",
        "body": "云服务器资源8G，双核cpu,系统是ubuntu 18，使用的是\r\nocr = hub.Module(name=\"chinese_ocr_db_crnn_server\")\r\nresult = ocr.recognize_text(images=[cv2.imread('')])\r\nchinese_ocr_db_crnn_server 的模型需要什么样子的资源配置才满足！",
        "state": "closed",
        "user": "bouyeijiang",
        "closed_by": "WYB27",
        "created_at": "2022-01-27T02:35:15+00:00",
        "updated_at": "2025-06-30T07:12:38+00:00",
        "closed_at": "2025-06-30T07:12:38+00:00",
        "comments_count": [
            "KPatr1ck",
            "bouyeijiang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1781,
        "title": "cannot import name 'get_installed_distributions' from 'pip._internal.utils.misc' (/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/pip/_internal/utils/misc.py)",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.0，PaddlePaddle2.0.2\r\n2）系统环境：Windows10，python3.7\r\n复现运行AnimeGAN动漫化模型一键应用（含动漫化小程序体验）项目时，报错cannot import name 'get_installed_distributions' from 'pip._internal.utils.misc' (/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/pip/_internal/utils/misc.py)。\r\n[AnimeGAN动漫化模型一键应用（含动漫化小程序体验](https://aistudio.baidu.com/aistudio/projectdetail/1308514?channelType=0&channel=0)\r\n请求帮助。\r\n",
        "state": "closed",
        "user": "love7rain",
        "closed_by": "WYB27",
        "created_at": "2022-02-07T10:28:44+00:00",
        "updated_at": "2025-06-30T07:12:32+00:00",
        "closed_at": "2025-06-30T07:12:32+00:00",
        "comments_count": [
            "KPatr1ck",
            "love7rain"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1779,
        "title": "paddle源码安装会比pip安装的性能好吗",
        "body": "使用cpu版本，paddle源码安装会比pip安装的性能好吗？比如会不会有CPU加速之类的呢？",
        "state": "closed",
        "user": "startfromzero0",
        "closed_by": "WYB27",
        "created_at": "2022-02-06T10:09:28+00:00",
        "updated_at": "2025-06-30T07:12:34+00:00",
        "closed_at": "2025-06-30T07:12:34+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1778,
        "title": "paddlehub无法导入",
        "body": "\r\nPaddlePaddle：2.2.0\r\npaddlehub ：无法导入\r\nWindows10，python 3.7\r\npycharm中导入显示：ERROR: Could not find a version that satisfies the requirement paddlehub (from versions: none)\r\n\r\n命令提示符窗口导入：\r\nC:\\Users\\TDL>pip install -U paddlehub -i http://pypi.douban.com/simple --trusted-host pypi.douban.com\r\nLooking in indexes: http://pypi.douban.com/simple\r\nRequirement already satisfied: paddlehub in e:\\anaconda3\\lib\\site-packages (2.2.0)\r\nRequirement already satisfied: paddlenlp>=2.0.0 in e:\\anaconda3\\lib\\site-packages (from paddlehub) (2.2.3)\r\nRequirement already satisfied: opencv-python in e:\\anaconda3\\lib\\site-packages (from paddlehub) (4.5.5.62)\r\nRequirement already satisfied: colorama in e:\\anaconda3\\lib\\site-packages (from paddlehub) (0.4.4)\r\nRequirement already satisfied: Pillow in e:\\anaconda3\\lib\\site-packages (from paddlehub) (8.2.0)\r\nRequirement already satisfied: pyzmq in e:\\anaconda3\\lib\\site-packages (from paddlehub) (20.0.0)\r\nRequirement already satisfied: tqdm in e:\\anaconda3\\lib\\site-packages (from paddlehub) (4.59.0)\r\nRequirement already satisfied: matplotlib in e:\\anaconda3\\lib\\site-packages (from paddlehub) (3.3.4)\r\nRequirement already satisfied: rarfile in e:\\anaconda3\\lib\\site-packages (from paddlehub) (4.0)\r\nRequirement already satisfied: flask>=1.1.0 in e:\\anaconda3\\lib\\site-packages (from paddlehub) (1.1.2)\r\nRequirement already satisfied: visualdl>=2.0.0 in e:\\anaconda3\\lib\\site-packages (from paddlehub) (2.2.3)\r\nRequirement already satisfied: colorlog in e:\\anaconda3\\lib\\site-packages (from paddlehub) (6.6.0)\r\nRequirement already satisfied: pyyaml in e:\\anaconda3\\lib\\site-packages (from paddlehub) (5.4.1)\r\nRequirement already satisfied: paddle2onnx>=0.5.1 in e:\\anaconda3\\lib\\site-packages (from paddlehub) (0.9.0)\r\nRequirement already satisfied: filelock in e:\\anaconda3\\lib\\site-packages (from paddlehub) (3.4.2)\r\nRequirement already satisfied: packaging in e:\\anaconda3\\lib\\site-packages (from paddlehub) (20.9)\r\nRequirement already satisfied: numpy in e:\\anaconda3\\lib\\site-packages (from paddlehub) (1.21.2)\r\nRequirement already satisfied: easydict in e:\\anaconda3\\lib\\site-packages (from paddlehub) (1.9)\r\nRequirement already satisfied: Jinja2>=2.10.1 in e:\\anaconda3\\lib\\site-packages (from flask>=1.1.0->paddlehub) (2.11.3)\r\nRequirement already satisfied: itsdangerous>=0.24 in e:\\anaconda3\\lib\\site-packages (from flask>=1.1.0->paddlehub) (1.1.0)\r\nRequirement already satisfied: Werkzeug>=0.15 in e:\\anaconda3\\lib\\site-packages (from flask>=1.1.0->paddlehub) (1.0.1)\r\nRequirement already satisfied: click>=5.1 in e:\\anaconda3\\lib\\site-packages (from flask>=1.1.0->paddlehub) (7.1.2)\r\nRequirement already satisfied: MarkupSafe>=0.23 in e:\\anaconda3\\lib\\site-packages (from Jinja2>=2.10.1->flask>=1.1.0->paddlehub) (1.1.1)\r\nRequirement already satisfied: protobuf in e:\\anaconda3\\lib\\site-packages (from paddle2onnx>=0.5.1->paddlehub) (3.19.1)\r\nRequirement already satisfied: onnx<=1.9.0 in e:\\anaconda3\\lib\\site-packages (from paddle2onnx>=0.5.1->paddlehub) (1.9.0)\r\nRequirement already satisfied: six in e:\\anaconda3\\lib\\site-packages (from paddle2onnx>=0.5.1->paddlehub) (1.15.0)\r\nRequirement already satisfied: typing-extensions>=3.6.2.1 in e:\\anaconda3\\lib\\site-packages (from onnx<=1.9.0->paddle2onnx>=0.5.1->paddlehub) (3.7.4.3)\r\nRequirement already satisfied: multiprocess in e:\\anaconda3\\lib\\site-packages (from paddlenlp>=2.0.0->paddlehub) (0.70.12.2)\r\nRequirement already satisfied: h5py in c:\\users\\tdl\\appdata\\roaming\\python\\python38\\site-packages (from paddlenlp>=2.0.0->paddlehub) (3.6.0)\r\nRequirement already satisfied: jieba in e:\\anaconda3\\lib\\site-packages (from paddlenlp>=2.0.0->paddlehub) (0.42.1)\r\nRequirement already satisfied: seqeval in e:\\anaconda3\\lib\\site-packages (from paddlenlp>=2.0.0->paddlehub) (1.2.2)\r\nRequirement already satisfied: Flask-Babel>=1.0.0 in e:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0->paddlehub) (2.0.0)\r\nRequirement already satisfied: flake8>=3.7.9 in e:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0->paddlehub) (3.9.0)\r\nRequirement already satisfied: pandas in e:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0->paddlehub) (1.2.4)\r\nRequirement already satisfied: requests in e:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0->paddlehub) (2.25.1)\r\nRequirement already satisfied: pre-commit in e:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0->paddlehub) (2.17.0)\r\nRequirement already satisfied: bce-python-sdk in e:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0->paddlehub) (0.8.64)\r\nRequirement already satisfied: shellcheck-py in e:\\anaconda3\\lib\\site-packages (from visualdl>=2.0.0->paddlehub) (0.8.0.3)\r\nRequirement already satisfied: pycodestyle<2.8.0,>=2.7.0 in e:\\anaconda3\\lib\\site-packages (from flake8>=3.7.9->visualdl>=2.0.0->paddlehub) (2.7.0)\r\nRequirement already satisfied: mccabe<0.7.0,>=0.6.0 in e:\\anaconda3\\lib\\site-packages (from flake8>=3.7.9->visualdl>=2.0.0->paddlehub) (0.6.1)\r\nRequirement already satisfied: pyflakes<2.4.0,>=2.3.0 in e:\\anaconda3\\lib\\site-packages (from flake8>=3.7.9->visualdl>=2.0.0->paddlehub) (2.3.1)\r\nRequirement already satisfied: pytz in e:\\anaconda3\\lib\\site-packages (from Flask-Babel>=1.0.0->visualdl>=2.0.0->paddlehub) (2021.1)\r\nRequirement already satisfied: Babel>=2.3 in e:\\anaconda3\\lib\\site-packages (from Flask-Babel>=1.0.0->visualdl>=2.0.0->paddlehub) (2.9.0)\r\nRequirement already satisfied: future>=0.6.0 in e:\\anaconda3\\lib\\site-packages (from bce-python-sdk->visualdl>=2.0.0->paddlehub) (0.18.2)\r\nRequirement already satisfied: pycryptodome>=3.8.0 in e:\\anaconda3\\lib\\site-packages (from bce-python-sdk->visualdl>=2.0.0->paddlehub) (3.13.0)\r\nRequirement already satisfied: cycler>=0.10 in e:\\anaconda3\\lib\\site-packages (from matplotlib->paddlehub) (0.10.0)\r\nRequirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.3 in e:\\anaconda3\\lib\\site-packages (from matplotlib->paddlehub) (2.4.7)\r\nRequirement already satisfied: python-dateutil>=2.1 in e:\\anaconda3\\lib\\site-packages (from matplotlib->paddlehub) (2.8.1)\r\nRequirement already satisfied: kiwisolver>=1.0.1 in e:\\anaconda3\\lib\\site-packages (from matplotlib->paddlehub) (1.3.1)\r\nRequirement already satisfied: dill>=0.3.4 in e:\\anaconda3\\lib\\site-packages (from multiprocess->paddlenlp>=2.0.0->paddlehub) (0.3.4)\r\nRequirement already satisfied: nodeenv>=0.11.1 in e:\\anaconda3\\lib\\site-packages (from pre-commit->visualdl>=2.0.0->paddlehub) (1.6.0)\r\nRequirement already satisfied: toml in e:\\anaconda3\\lib\\site-packages (from pre-commit->visualdl>=2.0.0->paddlehub) (0.10.2)\r\nRequirement already satisfied: identify>=1.0.0 in e:\\anaconda3\\lib\\site-packages (from pre-commit->visualdl>=2.0.0->paddlehub) (2.4.5)\r\nRequirement already satisfied: cfgv>=2.0.0 in e:\\anaconda3\\lib\\site-packages (from pre-commit->visualdl>=2.0.0->paddlehub) (3.3.1)\r\nRequirement already satisfied: virtualenv>=20.0.8 in e:\\anaconda3\\lib\\site-packages (from pre-commit->visualdl>=2.0.0->paddlehub) (20.13.0)\r\nRequirement already satisfied: distlib<1,>=0.3.1 in e:\\anaconda3\\lib\\site-packages (from virtualenv>=20.0.8->pre-commit->visualdl>=2.0.0->paddlehub) (0.3.4)\r\nRequirement already satisfied: platformdirs<3,>=2 in e:\\anaconda3\\lib\\site-packages (from virtualenv>=20.0.8->pre-commit->visualdl>=2.0.0->paddlehub) (2.4.1)\r\nRequirement already satisfied: certifi>=2017.4.17 in e:\\anaconda3\\lib\\site-packages (from requests->visualdl>=2.0.0->paddlehub) (2021.10.8)\r\nRequirement already satisfied: chardet<5,>=3.0.2 in e:\\anaconda3\\lib\\site-packages (from requests->visualdl>=2.0.0->paddlehub) (4.0.0)\r\nRequirement already satisfied: idna<3,>=2.5 in e:\\anaconda3\\lib\\site-packages (from requests->visualdl>=2.0.0->paddlehub) (2.10)\r\nRequirement already satisfied: urllib3<1.27,>=1.21.1 in e:\\anaconda3\\lib\\site-packages (from requests->visualdl>=2.0.0->paddlehub) (1.26.4)\r\nRequirement already satisfied: scikit-learn>=0.21.3 in e:\\anaconda3\\lib\\site-packages (from seqeval->paddlenlp>=2.0.0->paddlehub) (0.24.2)\r\nRequirement already satisfied: scipy>=0.19.1 in e:\\anaconda3\\lib\\site-packages (from scikit-learn>=0.21.3->seqeval->paddlenlp>=2.0.0->paddlehub) (1.6.2)\r\nRequirement already satisfied: joblib>=0.11 in e:\\anaconda3\\lib\\site-packages (from scikit-learn>=0.21.3->seqeval->paddlenlp>=2.0.0->paddlehub) (1.0.1)\r\nRequirement already satisfied: threadpoolctl>=2.0.0 in e:\\anaconda3\\lib\\site-packages (from scikit-learn>=0.21.3->seqeval->paddlenlp>=2.0.0->paddlehub) (2.1.0)\r\n\r\n请问这样的问题该如何解决？\r\n\r\n",
        "state": "closed",
        "user": "HangFighting",
        "closed_by": "WYB27",
        "created_at": "2022-01-27T04:50:35+00:00",
        "updated_at": "2025-06-30T07:12:36+00:00",
        "closed_at": "2025-06-30T07:12:36+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1782,
        "title": "paddleHub face_landmark_localization 调用失败",
        "body": "import paddlehub as hub\r\nface_landmark = hub.Module(directory=\"face_landmark_localization/\")\r\nface_landmark.set_face_detector_module(hub.Module(name=\"pyramidbox_lite_mobile\"))\r\nresult = face_landmark.keypoint_detection(paths=['./imgs/15.jpeg'], visualization=True, output_dir='./output')\r\n通过 directory 的方式使用 face_landmark_localization/  调试 hub 源码，一直返回 __model__ 文件不存在\r\n\r\n但是 通过 name 方式 直接 \r\n\r\nface_landmark = hub.Module(name=\"face_landmark_localization\")\r\n就可以使用，请问 如何正确 通过 directory 的方式 调试",
        "state": "closed",
        "user": "ForFishes",
        "closed_by": "WYB27",
        "created_at": "2022-02-09T03:39:16+00:00",
        "updated_at": "2025-06-30T07:12:30+00:00",
        "closed_at": "2025-06-30T07:12:30+00:00",
        "comments_count": [
            "JingyuanZhang",
            "haoyuying",
            "JingyuanZhang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1783,
        "title": "paddlehub 运行提示 UnicodeEncodeError",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n\r\n版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：2.2.0\r\n2）系统环境：Ubuntu 18.04，python3.6\r\n报错信息：\r\n```\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\r\n    self.run()\r\n  File \"/usr/local/lib/python3.6/dist-packages/paddlehub/server/server.py\", line 183, in run\r\n    self.update_resource_list_file(self.command, self.module, self.version, self.addition)\r\n  File \"/usr/local/lib/python3.6/dist-packages/paddlehub/server/server.py\", line 164, in update_resource_list_file\r\n    if os.path.exists(cache_path):\r\n  File \"/usr/lib/python3.6/genericpath.py\", line 19, in exists\r\n    os.stat(path)\r\nUnicodeEncodeError: 'ascii' codec can't encode character '\\uff5e' in position 0: ordinal not in range(128)\r\n```\r\n根据报错信息定位到应该是这里`~`写成了中文的`～`\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/1b99b419e6d477c197f1f5ac38328fc67865ca7e/paddlehub/server/server.py#L162",
        "state": "closed",
        "user": "shinoi2",
        "closed_by": "shinoi2",
        "created_at": "2022-02-09T09:27:24+00:00",
        "updated_at": "2022-02-23T02:24:07+00:00",
        "closed_at": "2022-02-23T02:24:07+00:00",
        "comments_count": [
            "KPatr1ck",
            "shinoi2"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1786,
        "title": "需求反馈：希望能新增自定义目标检测数据集在Hub上预训练的教程",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n新增自定义目标检测数据集在Hub上预训练的教程。我想使用hub经行预训练的方法训练一个目标检测的模型，我将自己标注的数据集处理成coco格式，但是没有找到PaddleHub文档关于目标检测预训练的教程文档，贵方能否提供一份教程。",
        "state": "closed",
        "user": "thgpddl",
        "closed_by": "WYB27",
        "created_at": "2022-02-11T02:25:18+00:00",
        "updated_at": "2025-06-30T07:12:27+00:00",
        "closed_at": "2025-06-30T07:12:27+00:00",
        "comments_count": [
            "KPatr1ck",
            "thgpddl",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1785,
        "title": "运行hub命令 报json.decoder.JSONDecodeError: Excepting value: line 1 column 1 (char 0)错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n（1）PaddlePaddle版本为2.2.1， PaddleHub 2.2.0\r\n（2）系统环境： linux ，  python版本：3.7.10\r\n\r\n<img width=\"515\" alt=\"clipboard\" src=\"https://user-images.githubusercontent.com/45310743/153362303-69c1ccaf-1932-4ab7-9882-b671890802a0.png\">\r\n",
        "state": "closed",
        "user": "upcdz",
        "closed_by": "WYB27",
        "created_at": "2022-02-10T07:56:00+00:00",
        "updated_at": "2025-06-30T07:12:29+00:00",
        "closed_at": "2025-06-30T07:12:29+00:00",
        "comments_count": [
            "KPatr1ck",
            "javadoge",
            "GreatLandmark"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1787,
        "title": "如何利用PaddleHub在图像目标检测预训练模型的基础上对自定义数据集进行Fine-tune",
        "body": "如何利用PaddleHub在图像目标检测预训练模型的基础上对自定义数据集进行Fine-tune？如果可以请提供一个Demo，感谢！",
        "state": "closed",
        "user": "zgwg",
        "closed_by": "WYB27",
        "created_at": "2022-02-11T06:36:03+00:00",
        "updated_at": "2025-06-30T07:12:25+00:00",
        "closed_at": "2025-06-30T07:12:25+00:00",
        "comments_count": [
            "KPatr1ck",
            "zgwg",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1789,
        "title": "关于使用文档中的代码示例报错的问题",
        "body": "地址：https://www.paddlepaddle.org.cn/hubdetail?name=ultra_light_fast_generic_face_detector_1mb_320&en_category=FaceDetection\r\nor \r\nhttps://www.paddlepaddle.org.cn/hubdetail?name=ace2p&en_category=ImageSegmentation\r\n\r\n![image](https://user-images.githubusercontent.com/61859193/153584595-40e2a678-50ab-4dc1-ab04-597ab70a6c6b.png)  \r\n\r\n此处多了`（` 根据初步测试发现此处使用的两个文档都有一样的情况\r\n\r\n不知道是特意这样子出现的还是什么原因，希望官方看一下。",
        "state": "closed",
        "user": "jhcgt4869",
        "closed_by": "jhcgt4869",
        "created_at": "2022-02-11T11:35:21+00:00",
        "updated_at": "2022-02-25T08:28:51+00:00",
        "closed_at": "2022-02-25T08:28:51+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1788,
        "title": "关于迁移学习",
        "body": "请问除了文本分类以外，多轮对话的plato-mini模型可以进行迁移学习吗\r\n",
        "state": "closed",
        "user": "Feng1909",
        "closed_by": "Feng1909",
        "created_at": "2022-02-11T10:14:15+00:00",
        "updated_at": "2022-02-17T07:53:10+00:00",
        "closed_at": "2022-02-17T07:53:10+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1791,
        "title": "图像文字识别时,读取带有中文路径图片失败",
        "body": "1）PaddlePaddle版本：PaddlePaddle1.6.2\r\n2）系统环境：Windows  python3.8.12\r\n![image](https://user-images.githubusercontent.com/29574966/154229355-bc077aef-22d8-4fa1-9df3-3e3f073d568e.png)\r\n![image](https://user-images.githubusercontent.com/29574966/154229572-0f270bbc-4934-4c4d-9eb4-cf26e07cddd4.png)\r\n文档中并未提及,希望及时补充文档",
        "state": "closed",
        "user": "YouJianYue",
        "closed_by": "YouJianYue",
        "created_at": "2022-02-16T09:01:56+00:00",
        "updated_at": "2022-02-23T02:56:41+00:00",
        "closed_at": "2022-02-23T02:56:25+00:00",
        "comments_count": [
            "KPatr1ck",
            "YouJianYue",
            "YouJianYue"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1790,
        "title": "服务部署后，可以外网调用吗，需要建立服务器，ip地址？",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "zhangjunroger",
        "closed_by": "WYB27",
        "created_at": "2022-02-16T08:59:18+00:00",
        "updated_at": "2025-06-30T07:12:23+00:00",
        "closed_at": "2025-06-30T07:12:23+00:00",
        "comments_count": [
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1792,
        "title": "cannot import name 'get_installed_distributions' from 'pip._internal.utils.misc'",
        "body": "\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub2.0.4，PaddlePaddle2.0.2\r\n2）系统环境：官网算力，python3.7\r\n#安装预训练模型\r\n!hub install vgg19_imagenet==1.0.0\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:26: DeprecationWarning: `np.int` is a deprecated alias for the builtin `int`. To silence this warning, use `int` by itself. Doing this will not modify any behavior and is safe. When replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  def convert_to_list(value, n, name, dtype=np.int):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/__init__.py:107: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import MutableMapping\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/rcsetup.py:20: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Iterable, Mapping\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/matplotlib/colors.py:53: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  from collections import Sized\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/bin/hub\", line 6, in <module>\r\n    from paddlehub.commands.utils import execute\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/__init__.py\", line 24, in <module>\r\n    import paddlehub.commands.install\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/install.py\", line 21, in <module>\r\n    from paddlehub.module.manager import LocalModuleManager\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/manager.py\", line 28, in <module>\r\n    from paddlehub.utils import xarfile, log, utils, pypi\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/utils/pypi.py\", line 18, in <module>\r\n    from pip._internal.utils.misc import get_installed_distributions\r\nImportError: cannot import name 'get_installed_distributions' from 'pip._internal.utils.misc' (/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/pip/_internal/utils/misc.py)\r\n",
        "state": "closed",
        "user": "tangkai521",
        "closed_by": "WYB27",
        "created_at": "2022-02-16T10:31:35+00:00",
        "updated_at": "2025-06-30T07:12:21+00:00",
        "closed_at": "2025-06-30T07:12:21+00:00",
        "comments_count": [
            "thgpddl",
            "Berlinbenilo",
            "Alvaro8317",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1793,
        "title": "Huggingface Hub",
        "body": "Hi, I opened a issue in paddlepaddle regarding this https://github.com/PaddlePaddle/Paddle/issues/39489 but here might be a better place\r\n\r\nsome team members already joined the paddepaddle org on Huggingface: https://huggingface.co/PaddlePaddle\r\n\r\nis there any interest to add demos(spaces) for the models on paddlehub to huggingface, we can help with the technical implementation. \r\n\r\nSee a example demo for wav2lip here: https://huggingface.co/spaces/PaddlePaddle/wav2lip\r\n\r\nThanks\r\n",
        "state": "closed",
        "user": "AK391",
        "closed_by": "AK391",
        "created_at": "2022-02-17T18:26:46+00:00",
        "updated_at": "2022-06-04T01:21:48+00:00",
        "closed_at": "2022-06-04T01:21:48+00:00",
        "comments_count": [
            "KPatr1ck",
            "AK391",
            "AK391"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1797,
        "title": "serving 可以post文件吗？不是先转成base64再封在json里。post的form data支持文件的啊",
        "body": "serving 可以post文件吗？不是先转成base64再封在json里。post的form data支持文件的啊\r\n",
        "state": "closed",
        "user": "zhanghaomt",
        "closed_by": "WYB27",
        "created_at": "2022-02-23T08:15:43+00:00",
        "updated_at": "2025-06-30T07:12:17+00:00",
        "closed_at": "2025-06-30T07:12:17+00:00",
        "comments_count": [
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1804,
        "title": "按照官方demo安装PaddlePaddle、PaddleHUb以及相关模型，结果报错",
        "body": "`import paddlehub as hub\r\n\r\nlac = hub.Module(name=\"lac\")\r\ntest_text = [\"今天是个好天气。\"]\r\n\r\nresults = lac.cut(text=test_text, use_gpu=False, batch_size=1, return_tag=True)\r\nprint(results)`\r\n\r\n\r\n(NotFound) Cannot open file C:\\Users\\memory“星\\.paddlehub\\modules\\lac\\infer_model/__model__, please confirm whether the file is normal.\r\n  [Hint: Expected static_cast<bool>(fin.is_open()) == true, but received static_cast<bool>(fin.is_open()):0 != true:1.] (at ..\\paddle\\fluid\\inference\\api\\analysis_predictor.cc:1116)\r\n\r\nRuntimeError: Unknown exception",
        "state": "closed",
        "user": "xiaofeng630",
        "closed_by": "WYB27",
        "created_at": "2022-03-02T14:44:03+00:00",
        "updated_at": "2025-06-30T07:12:13+00:00",
        "closed_at": "2025-06-30T07:12:13+00:00",
        "comments_count": [
            "haoyuying",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1794,
        "title": "使用paddlehub1.8预训练报错：task.finetune_and_eval()",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddle-gpu=2.2.0  paddlehub=1.8.0\r\n2）系统环境：win10，Anconda环境，python=3.6.13\r\n- 复现信息：\r\n- 根据：[PaddleHub 图像分类-开始Fine-tune](https://github.com/PaddlePaddle/PaddleHub/tree/release/v1.8/demo/image_classification)编写的一样的代码，我的代码如下：\r\n```python\r\nimport paddle\r\npaddle.enable_static()\r\nimport paddlehub as hub\r\n# from data import DemoDataset\r\n\r\nmodule = hub.Module(name='resnet_v2_50_imagenet')\r\n# dataset = DemoDataset()\r\ndataset = hub.dataset.Flowers()\r\ndata_reader = hub.reader.ImageClassificationReader(\r\n    image_width=module.get_expected_image_width(),\r\n    image_height=module.get_expected_image_height(),\r\n    images_mean=module.get_pretrained_images_mean(),\r\n    images_std=module.get_pretrained_images_std(),\r\n    dataset=dataset\r\n)\r\n\r\nconfig = hub.RunConfig(\r\n    use_cuda=True,\r\n    num_epoch=1,\r\n    checkpoint_dir='output/',\r\n    batch_size=32,\r\n    eval_interval=50,\r\n    strategy=hub.finetune.strategy.DefaultFinetuneStrategy()\r\n)\r\n\r\ninput_dict, output_dict, program = module.context(trainable=True)\r\n\r\nfeature_map = output_dict['feature_map']\r\nfeed_list = [input_dict['image'].name]\r\n\r\ntask = hub.ImageClassifierTask(\r\n    data_reader=data_reader,\r\n    feed_list=feed_list,\r\n    feature=feature_map,\r\n    num_classes=dataset.num_labels,\r\n    config=config\r\n)\r\n\r\nrun_states = task.finetune_and_eval()\r\n\r\n```\r\n\r\n运行后报错，报错信息如下：\r\n```python\r\n[2022-02-18 11:11:52,576] [    INFO] - PaddleHub finetune start\r\nTraceback (most recent call last):\r\n  File \"D:/WorkSpace/PeachClassify/main.py\", line 39, in <module>\r\n    run_states = task.finetune_and_eval()\r\n  File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 945, in finetune_and_eval\r\n    return self.finetune(do_eval=True)\r\n  File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 966, in finetune\r\n    run_states = self._run(do_eval=do_eval)\r\n  File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 1212, in _run\r\n    return_numpy=self.return_numpy)\r\n  File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1246, in run\r\n    six.reraise(*sys.exc_info())\r\n  File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\six.py\", line 719, in reraise\r\n    raise value\r\n  File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1244, in run\r\n    return_merged=return_merged)\r\n  File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1387, in _run_impl\r\n    return_merged=return_merged)\r\n  File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1049, in _run_parallel\r\n    tensors = exe.run(fetch_var_names, return_merged)._move_to_list()\r\nRuntimeError: In user code:\r\n\r\n    File \"D:/WorkSpace/PeachClassify/main.py\", line 39, in <module>\r\n      run_states = task.finetune_and_eval()\r\n    File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 945, in finetune_and_eval\r\n      return self.finetune(do_eval=True)\r\n    File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 960, in finetune\r\n      self.init_if_necessary()\r\n    File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 384, in init_if_necessary\r\n      if not self.load_checkpoint():\r\n    File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 911, in load_checkpoint\r\n      main_program=self.main_program)\r\n    File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 545, in main_program\r\n      self._build_env()\r\n    File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\finetune\\task\\base_task.py\", line 413, in _build_env\r\n      self._base_main_program, for_test=False)\r\n    File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\common\\paddle_helper.py\", line 299, in clone_program\r\n      dest_program.global_block())\r\n    File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddlehub\\common\\paddle_helper.py\", line 191, in _copy_vars_and_ops_in_blocks\r\n      to_block.append_op(**op_info)\r\n    File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 3184, in append_op\r\n      attrs=kwargs.get(\"attrs\", None))\r\n    File \"C:\\Users\\ishyj\\miniconda3\\envs\\pp\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2224, in __init__\r\n      for frame in traceback.extract_stack():\r\n\r\n    NotFoundError: The argument ReserveSpace of batch_norm op is not found.\r\n      [Hint: reserve_space should not be null.] (at ../paddle/fluid/operators/batch_norm_op.cu:426)\r\n      [operator < batch_norm > error]\r\n\r\nProcess finished with exit code 1\r\n```\r\n",
        "state": "closed",
        "user": "thgpddl",
        "closed_by": "WYB27",
        "created_at": "2022-02-18T03:18:12+00:00",
        "updated_at": "2025-06-30T07:12:19+00:00",
        "closed_at": "2025-06-30T07:12:19+00:00",
        "comments_count": [
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1798,
        "title": "导出onnx模型报错",
        "body": "\r\n在使用pyramidbox_lite_mobile_mask.export_onnx_model()导出onnx模型报错，错误提示：Exception: Error happened when mapping node ['conv2d_0'] to onnx, which op_type is 'conv2d' with inputs: {'Bias': [], 'Filter': ['crelu.w_0'], 'Input': ['image'], 'ResidualData': []} and outputs: {'Output': ['conv2d_0.tmp_0']}, specific error: The conv data format should be 'NCHW' or 'NCDHW', but received data format is AnyLayout.\r\n",
        "state": "closed",
        "user": "zhang78440205",
        "closed_by": "WYB27",
        "created_at": "2022-02-25T01:09:21+00:00",
        "updated_at": "2025-06-30T07:12:15+00:00",
        "closed_at": "2025-06-30T07:12:15+00:00",
        "comments_count": [
            "KPatr1ck",
            "jiangjiajun",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1807,
        "title": "看图写诗bug",
        "body": "30         self.module_similar = hub.Module(name=\"ernie_gen_couplet\") # 调用对联生成的模型\r\n     31         self.module_poem = hub.Module(name=\"ernie_gen_poetry\")     # 调用古诗生成的模型\r\n     32 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    393                     branch=branch,\r\n    394                     ignore_env_mismatch=ignore_env_mismatch,\r\n--> 395                     **kwargs)\r\n    396                 CacheUpdater(\"update_cache\", module=name, version=version).start()\r\n    397             elif directory:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    509 \r\n    510         user_module_cls.directory = directory\r\n--> 511         return user_module_cls(**kwargs)\r\n    512 \r\n    513     @classmethod\r\n~/.paddlehub/modules/ernie_gen_couplet/module.py in __init__(self)\r\n     46         assets_path = os.path.join(self.directory, \"assets\")\r\n     47         gen_checkpoint_path = os.path.join(assets_path, \"ernie_gen_couplet.pdparams\")\r\n---> 48         self.model = ErnieForGeneration.from_pretrained(\"ernie-1.0\")\r\n     49         model_state = paddle.load(gen_checkpoint_path)\r\n     50         self.model.set_dict(model_state)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/ernie_gen/modeling.py in from_pretrained(cls, pretrained_model_name_or_path, *args, **kwargs)\r\n    378                                 k)\r\n    379                     m[k] = v  # FIXME: no need to do this in the future\r\n--> 380             model.set_state_dict(m)\r\n    381         else:\r\n    382             raise ValueError('weight file not found in pretrain dir: %s' %\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py in wrapper(*args, **kwargs)\r\n    279             kwargs['state_dict'] = kwargs['stat_dict']\r\n    280             kwargs.pop('stat_dict')\r\n--> 281         return func(*args, **kwargs)\r\n    282 \r\n    283     return wrapper\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in set_state_dict(self, state_dict, use_structured_name)\r\n   1469                 global_scope(), executor)\r\n   1470             for param, state in matched_param_state:\r\n-> 1471                 _set_var(param, state)\r\n   1472 \r\n   1473     def _apply(self, func, device, dtype, blocking):\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in _set_var(var, ndarray)\r\n   1461                     p.set_place(t._place())\r\n   1462                     place = core.CUDAPlace(p.gpu_device_id())\r\n-> 1463                 t.set(ndarray, place)\r\n   1464 \r\n   1465             executor = Executor(_get_device())._default_executor\r\nValueError: (InvalidArgument) Input object type error or incompatible array data type. tensor.set() supports array with bool, float16, float32, float64, int8, int16, int32, int64, uint8 or uint16, please check your input or input array data type. (at /paddle/paddle/fluid/pybind/tensor_py.h:411)",
        "state": "closed",
        "user": "XYZ-916",
        "closed_by": "WYB27",
        "created_at": "2022-03-10T09:21:13+00:00",
        "updated_at": "2025-06-30T07:12:11+00:00",
        "closed_at": "2025-06-30T07:12:11+00:00",
        "comments_count": [
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1808,
        "title": "wave2lip AI Studio运行bug",
        "body": "~/.paddlehub/modules/wav2lip/module.py in __init__(self)\r\n     46                                  nosmooth = False,\r\n     47                                  face_detector = 'sfd',\r\n---> 48                                  face_enhancement = True)\r\n     49 \r\n     50 \r\n~/.paddlehub/modules/wav2lip/model.py in __init__(self, checkpoint_path, static, fps, pads, face_det_batch_size, wav2lip_batch_size, resize_factor, crop, box, rotate, nosmooth, face_detector, face_enhancement)\r\n     46         if face_enhancement:\r\n     47             from ppgan.faceutils.face_enhancement import FaceEnhancement\r\n---> 48             self.faceenhancer = FaceEnhancement()\r\n     49         makedirs('./temp', exist_ok=True)\r\n     50 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ppgan/faceutils/face_enhancement/face_enhance.py in __init__(self, path_to_enhance, size, batch_size)\r\n     40             model_weights = paddle.load(path_to_enhance)\r\n     41 \r\n---> 42         self.face_enhance = GPEN(size=512, style_dim=512, n_mlp=8)\r\n     43         self.face_enhance.load_dict(model_weights)\r\n     44         self.face_enhance.eval()\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ppgan/models/generators/gpen.py in __init__(self, size, style_dim, n_mlp, channel_multiplier, blur_kernel, lr_mlp)\r\n     52                                              blur_kernel=blur_kernel,\r\n     53                                              lr_mlp=lr_mlp,\r\n---> 54                                              is_concat=True)\r\n     55 \r\n     56         conv = [ConvLayer(3, channels[size], 1)]\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ppgan/models/generators/generator_styleganv2.py in __init__(self, size, style_dim, n_mlp, channel_multiplier, blur_kernel, lr_mlp, is_concat)\r\n    261                             style_dim,\r\n    262                             lr_mul=lr_mlp,\r\n--> 263                             activation=\"fused_lrelu\"))\r\n    264 \r\n    265         self.style = nn.Sequential(*layers)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/ppgan/modules/equalized.py in __init__(self, in_dim, out_dim, bias, bias_init, lr_mul, activation)\r\n     86         self.weight = self.create_parameter(\r\n     87             (in_dim, out_dim), default_initializer=nn.initializer.Normal())\r\n---> 88         self.weight.set_value((self.weight / lr_mul))\r\n     89 \r\n     90         if bias:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py in set_value(self, value, scope)\r\n   1896             raise TypeError(\r\n   1897                 \"`value` should be `numpy.ndarray` or `LoDTensor`, but received {}.\".\r\n-> 1898                 format(type(value)))\r\n   1899 \r\n   1900         if scope is not None and not isinstance(scope, core._Scope):\r\nTypeError: `value` should be `numpy.ndarray` or `LoDTensor`, but received <class 'paddle.fluid.framework.Variable'>.",
        "state": "closed",
        "user": "XYZ-916",
        "closed_by": "WYB27",
        "created_at": "2022-03-10T09:29:16+00:00",
        "updated_at": "2025-06-30T07:12:08+00:00",
        "closed_at": "2025-06-30T07:12:08+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1809,
        "title": "请问paddlehub中的模型FCN_HRNet_W18_Face_Seg怎么转成onnx格式",
        "body": "paddlepaddle-gpu==0.0.0.post110\r\npaddlehub==2.1.1\r\n\r\n以下方式都失败了：\r\n方式1：\r\nimport paddlehub as hub\r\n\r\nhuman_seg = hub.Module(name=\"FCN_HRNet_W18_Face_Seg\")\r\nhuman_seg.save_inference_model(dirname=\"output/\",\r\n                               model_filename=\"output/inference.pdmodel\",\r\n                               params_filename=\"output/inference.pdiparams\")\r\n报错：RuntimeError: Module FCN_HRNet_W18_Face_Seg lacks `input_spec`, please specify it when calling `save_inference_model`.\r\n\r\n方式2：\r\nimport paddlehub as hub\r\nimport paddle\r\n\r\nhuman_seg = hub.Module(name=\"FCN_HRNet_W18_Face_Seg\")\r\nhuman_seg.save_inference_model(dirname=\"output/\",\r\n                               model_filename=\"output/inference.pdmodel\",\r\n                               params_filename=\"output/inference.pdiparams\",\r\n                               input_spec=[None, 3, 384, 384])\r\n报错：ValueError: The decorated function `forward` requires 0 arguments: [], but received 4 with (None, 3, 384, 384).\r\n\r\n方式3：\r\nimport paddlehub as hub\r\nimport paddle\r\n\r\nhuman_seg = hub.Module(name=\"FCN_HRNet_W18_Face_Seg\")\r\ninput_spec = paddle.static.InputSpec(shape=[None, 3, 384, 384], dtype='float32', name='FCN_HRNet_W18_Face_Seg')\r\npaddle.onnx.export(human_seg, 'model', input_spec=[input_spec], opset_version=11)\r\n报错：ValueError: The decorated function `forward` requires 0 arguments: [], but received 1 with (InputSpec(shape=(-1, 3, 384, 384), dtype=paddle.float32, name=FCN_HRNet_W18_Face_Seg),).\r\n\r\n另外也尝试过网上能找到的一些模型加载后再保存的方式都失败，请问有转换成功的可以分享下吗？\r\npaddle2onnx的转换对只有一个seg_model_384.pdparams模型文件的怎么转换呢？\r\nPaddleSeg中利用export.py转模型需要传configs的,yml文件，没有FCN_HRNet_W18_Face_Seg的。\r\n",
        "state": "closed",
        "user": "471417367",
        "closed_by": "WYB27",
        "created_at": "2022-03-15T02:11:06+00:00",
        "updated_at": "2025-06-30T07:12:06+00:00",
        "closed_at": "2025-06-30T07:12:06+00:00",
        "comments_count": [
            "471417367",
            "KPatr1ck",
            "KPatr1ck",
            "471417367",
            "hsliuyl",
            "471417367",
            "hsliuyl",
            "471417367",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1811,
        "title": "人体检测，给的demo是0-17共18个点，但是我这边跑出来是0-20共21个点。请问多出的几个点是在哪里的呢？",
        "body": "参考demo:https://www.paddlepaddle.org.cn/hubdetail?name=openpose_body_estimation&en_category=KeyPointDetection\r\n\r\n我这边跑出来的结果：print(hub.Module(name='openpose_body_estimation').predict(image,visualization=True)['candidate'])\r\n\r\n[[4.64000000e+02 2.49000000e+02 9.45256233e-01 0.00000000e+00]\r\n [4.60000000e+02 3.50000000e+02 8.65502417e-01 1.00000000e+00]\r\n [3.67000000e+02 3.57000000e+02 8.62659991e-01 2.00000000e+00]\r\n [3.36000000e+02 4.82000000e+02 8.27958167e-01 3.00000000e+00]\r\n [3.52000000e+02 6.05000000e+02 8.47550452e-01 4.00000000e+00]\r\n [3.56000000e+02 6.66000000e+02 2.05879375e-01 5.00000000e+00]\r\n [5.53000000e+02 3.49000000e+02 8.01905394e-01 6.00000000e+00]\r\n [5.59000000e+02 4.96000000e+02 7.97061145e-01 7.00000000e+00]\r\n [5.17000000e+02 6.01000000e+02 8.00015271e-01 8.00000000e+00]\r\n [5.14000000e+02 6.66000000e+02 1.19454056e-01 9.00000000e+00]\r\n [4.18000000e+02 5.46000000e+02 6.97712421e-01 1.00000000e+01]\r\n [2.97000000e+02 5.53000000e+02 4.91368234e-01 1.10000000e+01]\r\n [1.74000000e+02 5.82000000e+02 6.24658287e-01 1.20000000e+01]\r\n [5.29000000e+02 5.43000000e+02 6.85308814e-01 1.30000000e+01]\r\n [6.23000000e+02 5.41000000e+02 5.20035088e-01 1.40000000e+01]\r\n [7.12000000e+02 5.85000000e+02 6.81155205e-01 1.50000000e+01]\r\n [1.58000000e+02 5.88000000e+02 1.22629292e-01 1.60000000e+01]\r\n [4.21000000e+02 2.21000000e+02 9.85191226e-01 1.70000000e+01]\r\n [4.98000000e+02 2.13000000e+02 9.62929130e-01 1.80000000e+01]\r\n [3.60000000e+02 2.45000000e+02 9.11279976e-01 1.90000000e+01]\r\n [5.45000000e+02 2.17000000e+02 9.38231885e-01 2.00000000e+01]]\r\n\r\n共21个点。多出来的点是标记哪里的呢？\r\n",
        "state": "closed",
        "user": "allenxln",
        "closed_by": "WYB27",
        "created_at": "2022-03-16T09:56:10+00:00",
        "updated_at": "2025-06-30T07:12:05+00:00",
        "closed_at": "2025-06-30T07:12:05+00:00",
        "comments_count": [
            "haoyuying",
            "allenxln",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1813,
        "title": "在线部署后，有个字段无法解析",
        "body": "参考：https://www.paddlepaddle.org.cn/hubdetail?name=openpose_body_estimation&en_category=KeyPointDetection\r\n\r\n人体关键点检测的**服务部署**部分代码，\r\n\r\ncanvas = base64_to_cv2(r.json()[\"results\"]['data'])\r\ncv2.imwrite('keypoint_body.png', canvas)\r\n\r\n确实可以把data字段解析出来，但是candidate用 base64_to_cv2 解析出来，压根没有可读性。candidate本来表示的是21个关键点的位置，可是用canvas = base64_to_cv2(r.json()[\"results\"]['candidate']) 算出来，数据很奇怪，压根不是关键点的位置。\r\n\r\n各位大佬，是如何解析出来这个 r.json()[\"results\"]['candidate'] 字段并且可解释里面字段的含义呢？ 该字段打印出来如下：\r\n/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQIBAQECAgICAgQDAgICAgUEBAMEBgUGBgYFBgYGBwkIBgcJBwYGCAsICQoKCgoKBggLDAsKDAkKCgr/wAALCAAVAAQBAREA/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/9oACAEBAAA/APgf/g6CsxP/AMF0vjmwXo3hn/1GNJq//wAHLVte3f8AwW7+N8+pW0UVyf8AhGPtEUExkRH/AOEW0jcquVUsAcgEqpI5wOlO/wCDhzT9Otf+Cz/x00/TbRbe2tNS0K2tbeNQEhij8O6WiIgUAKiqoVVAwqgDtX//2Q==\r\n\r\n或者，这个服务返回的字段里面，哪个字段可以解析出来这些关键点的位置序列？\r\n同样试了传统的base64.decode，解析出来的是一串2进制，就傻眼了。\r\n期望大神帮忙解答一下，贡献到read.me里面，方便大家使用。",
        "state": "closed",
        "user": "allenxln",
        "closed_by": "WYB27",
        "created_at": "2022-03-19T11:50:03+00:00",
        "updated_at": "2025-06-30T07:12:03+00:00",
        "closed_at": "2025-06-30T07:12:03+00:00",
        "comments_count": [
            "haoyuying",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1820,
        "title": "paddlehub/datasets/tokenizer有问题",
        "body": "paddlehub 2.2版本\r\npaddlehub/datasets/base_nlp_dataset.py 中的类TextClassificationDataset有个属性\r\ntokenizer: Union[PretrainedTokenizer, JiebaTokenizer],\r\n然后检查的时候使用了很多下面语句：\r\nif isinstance(self.tokenizer, PretrainedTokenizer):\r\n在isinstance函数说明中，isinstance(B,A) B是A的实例或是A的子类的实例才返回True，其他均False\r\n>>> class Foo: pass\r\n...\r\n>>> class Bar(Foo): pass\r\n...\r\n>>> b = Bar()\r\n>>> isinstance(b, Foo)\r\nTrue\r\n>>> isinstance(Bar, Foo)\r\nFalse\r\n>>> isinstance(Bar(), Foo)\r\nTrue\r\n上面是官网的例子，在python 3.8.3下验证通过。在上面PretrainedTokenizer是个类，两个类相比均为False\r\nfrom paddlenlp.transformers import PretrainedTokenizer\r\nprint(isinstance(PretrainedTokenizer, PretrainedTokenizer))\r\nFalse\r\n可以改为PretrainedTokenizer==PretrainedTokenizer\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "robator0127",
        "closed_by": "robator0127",
        "created_at": "2022-03-28T10:25:10+00:00",
        "updated_at": "2022-03-29T01:30:18+00:00",
        "closed_at": "2022-03-29T01:30:18+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1814,
        "title": "对于PaddleHub的CV类自定义数据，训练/验证/测试集的数据列表文件的格式是csv可以嘛？",
        "body": "\r\n对于PaddleHub的CV类自定义数据，训练/验证/测试集的数据列表文件的格式是csv可以嘛？",
        "state": "closed",
        "user": "htlbayytq",
        "closed_by": "WYB27",
        "created_at": "2022-03-21T02:45:17+00:00",
        "updated_at": "2025-06-30T07:12:01+00:00",
        "closed_at": "2025-06-30T07:12:01+00:00",
        "comments_count": [
            "haoyuying",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1818,
        "title": "修改了 /root/.paddlehub/modules/pyramidbox_lite_server/module.py 文件之后，每次模型重启这个文件都恢复成初始的状态，这个问题怎么解决",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.1.1，PaddlePaddle-2.2.0rc0-gpu-cuda11.2-cudnn8\r\n2）系统环境：环境是docker镜像 paddlepaddle/paddle   2.2.0rc0-gpu-cuda11.2-cudnn8\r\n- 复现信息： 修改/root/.paddlehub/modules/pyramidbox_lite_server/module.py 文件之后，使用命令 export CUDA_VISIBLE_DEVICES=6 && hub serving start -m pyramidbox_lite_server -p 8066，启动 pyramidbox_lite_server之后，/root/.paddlehub/modules/pyramidbox_lite_server/module.py 会变成修改之前的文件。需要先启动一个其他的模型比如paddleocr之后才一定程度解决，但是由于pyramidbox_lite_server存在运行一段时候之后，内存会溢出，重启pyramidbox_lite_server时module.py还是会变成未修改之前的文件。\r\n ",
        "state": "closed",
        "user": "tom-lch",
        "closed_by": "WYB27",
        "created_at": "2022-03-25T10:05:56+00:00",
        "updated_at": "2025-06-30T07:11:57+00:00",
        "closed_at": "2025-06-30T07:11:57+00:00",
        "comments_count": [
            "rainyfly",
            "tom-lch",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1821,
        "title": "paddlehub/datasets/tokenizer有问题",
        "body": "paddlehub 2.2版本\r\npaddlehub/datasets/base_nlp_dataset.py 中的类TextClassificationDataset有个属性\r\ntokenizer: Union[PretrainedTokenizer, JiebaTokenizer],\r\n然后检查的时候使用了很多下面语句：\r\nif isinstance(self.tokenizer, PretrainedTokenizer):\r\n在isinstance函数说明中，isinstance(B,A) B是A的实例或是A的子类的实例才返回True，其他均False\r\n>>> class Foo: pass\r\n...\r\n>>> class Bar(Foo): pass\r\n...\r\n>>> b = Bar()\r\n>>> isinstance(b, Foo)\r\nTrue\r\n>>> isinstance(Bar, Foo)\r\nFalse\r\n>>> isinstance(Bar(), Foo)\r\nTrue\r\n上面是官网的例子，在python 3.8.3下验证通过。在上面PretrainedTokenizer是个类，两个类相比均为False\r\nfrom paddlenlp.transformers import PretrainedTokenizer\r\nprint(isinstance(PretrainedTokenizer, PretrainedTokenizer))\r\nFalse\r\n可以改为self.tokenizer==PretrainedTokenizer\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "robator0127",
        "closed_by": "robator0127",
        "created_at": "2022-03-28T10:25:39+00:00",
        "updated_at": "2022-03-29T02:56:10+00:00",
        "closed_at": "2022-03-29T02:56:10+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1817,
        "title": "高层封装的predict函数请问如何把所有的类别概率输出",
        "body": "还有未经过siftmax层输出的数值，非概率的数值可以输出吗",
        "state": "closed",
        "user": "tangkai521",
        "closed_by": "WYB27",
        "created_at": "2022-03-23T11:22:35+00:00",
        "updated_at": "2025-06-30T07:11:59+00:00",
        "closed_at": "2025-06-30T07:11:59+00:00",
        "comments_count": [
            "haoyuying",
            "tangkai521",
            "haoyuying",
            "tangkai521",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1819,
        "title": "Trainer的checkpoint参数失败。",
        "body": "Trainer中设置了checkpoint目录，但是在aistudio中进行fine-tune之后，并没有出现模型参数，如best_model之类的文件与文件夹在我设置的checkpoint目录下，尝试了好几次，设置过不同的目录，不是写权限问题，也尝试过默认选项。\r\n\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.2.0与2.0.4都试过，PaddlePaddle2.1.2\r\n2）系统环境：尝试过aistudio的\r\n![image](https://user-images.githubusercontent.com/25345174/160287896-6d4c01ba-07b1-4829-8d89-0f857d478fef.png)\r\n也尝试过最新的2.2的版本，都没有结果，目录中只有ckpt_1648390801.7935858/visualization出现，有一个log文件，看样子是可视化数据信息，如下。\r\n![image](https://user-images.githubusercontent.com/25345174/160288052-970c7ee2-c284-45ae-a4e7-3acd17eb28b6.png)\r\n\r\n- 复现信息：没有报错，只是没有参数保存下来，无法进行fine-tune之后，下一步的预测，也就无法进行后续的部署之类的任务。\r\n\r\n在train完成之后，输出日志如下\r\n![image](https://user-images.githubusercontent.com/25345174/160288419-61f4445c-cb5f-42d8-9598-aca1a270b716.png)\r\n没有提示说参数保存之类的，也没有metric等信息，准确率auc之类的。",
        "state": "closed",
        "user": "icm-ai",
        "closed_by": "WYB27",
        "created_at": "2022-03-27T15:07:27+00:00",
        "updated_at": "2025-06-30T07:11:55+00:00",
        "closed_at": "2025-06-30T07:11:55+00:00",
        "comments_count": [
            "rainyfly",
            "icm-ai",
            "rainyfly",
            "icm-ai",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1822,
        "title": "paddlehub使用hub convert  把inference 模型转换程paddleHub的预训练模型,那有官方的把paddleHub的预训练模型转换回infernce 模型的命令吗？ ",
        "body": "使用命令hub convert可一键转换Inference Model转换成PaddleHub的预训练模型，那能反过来把PaddleHub的预训练模型转换成Inference Model么？",
        "state": "closed",
        "user": "smallhaozigithub",
        "closed_by": "smallhaozigithub",
        "created_at": "2022-03-30T06:14:38+00:00",
        "updated_at": "2022-03-31T02:22:26+00:00",
        "closed_at": "2022-03-31T02:22:26+00:00",
        "comments_count": [
            "KPatr1ck"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1826,
        "title": "chinese_ocr_db_crnn_mobile 在recognize_test识别图片时报段错误信息",
        "body": "- 版本、环境信息：\r\n    1）PaddlePaddle版本：2.2.2.post101\r\n          PaddleHub版本：2.2.0\r\n          chinese_ocr_db_crnn_mobile 版本：1.1.2\r\n    2）GPU：Driver Version 418.40.04.        \r\n\t\t    CUDA Version 10.1    \r\n                    \r\n    3）系统环境：SUSE 12 SP5\r\n    4）容器信息：docker version 18.09.1, \r\n                           系统 centos7， \r\n                           gcc version 4.8.5, \r\n                           python version 3.8.0\r\n                           CDUATOOLKIT   release 10.1,V10.1.105\r\n                           CUDNN Version 8.0.4\r\n\r\n问题描述：\r\n\r\n>/root/.paddlehub/modules/chinese_text_detection_db_mobile/module.py(224)detect_text()\r\n-> self.predictor.zero_copy_run()\r\n…..\r\n…/site-packages/paddlehub/module/module.py(100)__getattribute__()-><paddle.fluid…x7fafce033070\r\n->return _attr\r\n\r\n代码运行到此处，再次step时，报如下错误：\r\n\r\n—————————————————\r\nC++ Traceback (most recent call last):\r\n—————————————————\r\nNo stack trace in paddle, may be caused by external reasons.\r\n\r\n————————————\r\nError Message Summary:\r\n————————————\r\nFatalError: `Segmentation fault` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 16648627218 (unix time) try “date -d @16648627218” if you are using GNU date *** ]\r\n  [SignalInfo: *** SIGSEGV (@0x0) received by PID 45676 (TID 0x7f6af4940740) from PID 0 *** ]\r\n\r\nSegmentation fault (core dumped)\r\n\r\n\r\n 使用的脚本：\r\n```\r\nimport os\r\nos.environ[“CUDA_VISIBLE_DEVICES”]=“0”\r\nimport paddlehub as hub\r\nimport cv2\r\n\r\nocr = hub.Module(name=“chinese_ocr_db_crnn_mobile”)\r\nimg = cv2.imread(“path/1.jpg”)\r\nresult = ocr.recognize_text(images=[img], use_gpu=True)\r\nprint(result)\r\n```\r\n",
        "state": "closed",
        "user": "startfromzero0",
        "closed_by": "startfromzero0",
        "created_at": "2022-03-31T03:47:22+00:00",
        "updated_at": "2022-03-31T03:48:23+00:00",
        "closed_at": "2022-03-31T03:48:23+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1824,
        "title": "PaddleHub 口罩检测示例 Please set another path through the set HUB_HOME command怎么解决",
        "body": "代码：\r\n# 一、定义待预测数据\r\n\r\n# 待预测图片\r\ntest_img_path = [\"./test_mask_detection.jpg\"]\r\n\r\n\r\nimport matplotlib.pyplot as plt \r\nimport matplotlib.image as mpimg \r\n\r\nimg = mpimg.imread(test_img_path[0]) \r\n\r\n# 展示待预测图片\r\nplt.figure(figsize=(10,10))\r\nplt.imshow(img) \r\nplt.axis('off') \r\nplt.show()\r\n\r\n# 二、加载预训练模型\r\n\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"pyramidbox_lite_mobile_mask\")\r\n# module = hub.Module(name=\"pyramidbox_lite_server_mask\")\r\n\r\n# 三、预测\r\n\r\nimport os\r\n\r\nimport cv2\r\n\r\nimgs = [cv2.imread(test_img_path[0])]\r\n\r\n# 口罩检测预测\r\n# visualization=True 将预测结果保存图片可视化\r\n# output_dir='detection_result' 预测结果图片保存在当前运行路径下detection_result文件夹下\r\nresults = module.face_detection(images=imgs, use_multi_scale=True, shrink=0.6, visualization=True, output_dir='detection_result')\r\nfor result in results:\r\n    print(result)\r\n\r\n# 预测结果展示\r\n\r\npath = os.path.join('detection_result', 'test_img.jpg')\r\nimg = mpimg.imread(path)\r\nplt.figure(figsize=(10,10))\r\nplt.imshow(img) \r\nplt.axis('off') \r\nplt.show()\r\n\r\n运行结果：\r\n[2022-03-30 23:50:21,463] [ WARNING] - The home directory contains Chinese characters which may cause unknown exceptions in the execution                     of some modules. Please set another path through the set HUB_HOME command.\r\n[2022-03-30 23:50:21,631] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\n[2022-03-30 23:50:21,778] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0330 23:50:21.781178 24160 analysis_predictor.cc:1350] Deprecated. Please use CreatePredictor instead.\r\n(NotFound) Cannot open file C:\\Users\\澶╁疂\\.paddlehub\\modules\\pyramidbox_lite_mobile\\pyramidbox_lite_mobile_face_detection/__model__, please confirm whether the file is normal.\r\n  [Hint: Expected static_cast<bool>(fin.is_open()) == true, but received static_cast<bool>(fin.is_open()):0 != true:1.] (at ..\\paddle\\fluid\\inference\\api\\analysis_predictor.cc:1116)\r\n\r\nTraceback (most recent call last):\r\n  File \"mask_detection.py\", line 22, in <module>\r\n    module = hub.Module(name=\"pyramidbox_lite_mobile_mask\")\r\n  File \"D:\\Python37\\lib\\site-packages\\paddlehub\\module\\module.py\", line 395, in __new__\r\n    **kwargs)\r\n  File \"D:\\Python37\\lib\\site-packages\\paddlehub\\module\\module.py\", line 504, in init_with_name\r\n    user_module._initialize(**kwargs)\r\n  File \"D:\\Python37\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\天宝\\.paddlehub\\modules\\pyramidbox_lite_mobile_mask\\module.py\", line 36, in _initialize\r\n    self.face_detector = hub.Module(name='pyramidbox_lite_mobile')\r\n  File \"D:\\Python37\\lib\\site-packages\\paddlehub\\module\\module.py\", line 395, in __new__\r\n    **kwargs)\r\n  File \"D:\\Python37\\lib\\site-packages\\paddlehub\\module\\module.py\", line 504, in init_with_name\r\n    user_module._initialize(**kwargs)\r\n  File \"D:\\Python37\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\天宝\\.paddlehub\\modules\\pyramidbox_lite_mobile\\module.py\", line 30, in _initialize\r\n    self._set_config()\r\n  File \"D:\\Python37\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\天宝\\.paddlehub\\modules\\pyramidbox_lite_mobile\\module.py\", line 40, in _set_config\r\n    self.cpu_predictor = create_paddle_predictor(cpu_config)\r\nRuntimeError: Unknown exception",
        "state": "closed",
        "user": "123456bfb",
        "closed_by": "123456bfb",
        "created_at": "2022-03-30T15:54:39+00:00",
        "updated_at": "2022-04-21T12:10:52+00:00",
        "closed_at": "2022-04-21T12:10:52+00:00",
        "comments_count": [
            "KPatr1ck",
            "123456bfb",
            "KPatr1ck",
            "123456bfb"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1825,
        "title": "chinese_ocr_db_crnn_mobile 在recognize_test识别图片时报段错误信息",
        "body": "- 版本、环境信息：\r\n    1）PaddlePaddle版本：2.2.2.post101\r\n          PaddleHub版本：2.2.0\r\n          chinese_ocr_db_crnn_mobile 版本：1.1.2\r\n    2）GPU：Driver Version 418.40.04.        \r\n\t\t    CUDA Version 10.1    \r\n                    \r\n    3）系统环境：SUSE 12 SP5\r\n    4）容器信息：docker version 18.09.1, \r\n                           系统 centos7， \r\n                           gcc version 4.8.5, \r\n                           python version 3.8.0\r\n                           CDUATOOLKIT   release 10.1,V10.1.105\r\n                           CUDNN Version 8.0.4\r\n\r\n问题描述：\r\n\r\n>/root/.paddlehub/modules/chinese_text_detection_db_mobile/module.py(224)detect_text()\r\n-> self.predictor.zero_copy_run()\r\n…..\r\n…/site-packages/paddlehub/module/module.py(100)__getattribute__()-><paddle.fluid…x7fafce033070\r\n->return _attr\r\n\r\n代码运行到此处，再次step时，报如下错误：\r\n\r\n—————————————————\r\nC++ Traceback (most recent call last):\r\n—————————————————\r\nNo stack trace in paddle, may be caused by external reasons.\r\n\r\n————————————\r\nError Message Summary:\r\n————————————\r\nFatalError: `Segmentation fault` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 16648627218 (unix time) try “date -d @16648627218” if you are using GNU date *** ]\r\n  [SignalInfo: *** SIGSEGV (@0x0) received by PID 45676 (TID 0x7f6af4940740) from PID 0 *** ]\r\n\r\nSegmentation fault (core dumped)\r\n\r\n\r\n 使用的脚本：\r\n```\r\nimport os\r\nos.environ[“CUDA_VISIBLE_DEVICES”]=“0”\r\nimport paddlehub as hub\r\nimport cv2\r\n\r\nocr = hub.Module(name=“chinese_ocr_db_crnn_mobile”)\r\nimg = cv2.imread(“path/1.jpg”)\r\nresult = ocr.recognize_text(images=[img], use_gpu=True)\r\nprint(result)\r\n```\r\n\r\n",
        "state": "closed",
        "user": "startfromzero0",
        "closed_by": "WYB27",
        "created_at": "2022-03-31T03:46:30+00:00",
        "updated_at": "2025-06-30T07:11:53+00:00",
        "closed_at": "2025-06-30T07:11:53+00:00",
        "comments_count": [
            "haoyuying",
            "songjiayang",
            "startfromzero0",
            "songjiayang",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1827,
        "title": "NLP 中文本分类替换原文档中使用的模型出现的问题",
        "body": "根据文档进行文本分类，https://github.com/PaddlePaddle/PaddleHub/tree/release/v2.1/demo/text_classification\r\n环境：python3.7;win10;paddlepaddle=2.2.2;paddlehub=2.2.0\r\n在原文档中使用的是name=ernie_tiny模型，想要替换为name=ernie，版本为2.0.0\r\n直接修改为：model = hub.Module(name='ernie', version='2.0.0', task='seq-cls')\r\n结果出现以下报错：\r\n[2022-04-02 10:13:23,557] [ WARNING] - An error was encountered while loading ernie. Detailed error information can be found in the C:\\Users\\admin\\.paddlehub\\log\\20220402.log.\r\n[2022-04-02 10:13:23,561] [ WARNING] - An error was encountered while loading ernie. Detailed error information can be found in the C:\\Users\\admin\\.paddlehub\\log\\20220402.log.\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/ernie_2.0.0.tar.gz\r\n[##################################################] 100.00%           \r\nDecompress C:\\Users\\admin\\.paddlehub\\tmp\\tmpkq594c3d\\ernie_2.0.0.tar.gz\r\n[##################################################] 100.00%           \r\n[2022-04-02 10:13:24,844] [    INFO] - Successfully uninstalled ernie\r\nTraceback (most recent call last):                                                                                          \r\n  File \"train.py\", line 38, in <module>                                                                                     \r\n    model = hub.Module(name='ernie', version='2.0.0', task='seq-cls')#选择模型  模型下载地址C:\\Users\\admin\\.paddlenlp\\models\r\n  File \"D:\\Anaconda\\install\\envs\\hub\\lib\\site-packages\\paddlehub\\module\\module.py\", line 395, in __new__                    \r\n    **kwargs)                                                                                                               \r\n    ignore_env_mismatch=ignore_env_mismatch)\r\n  File \"D:\\Anaconda\\install\\envs\\hub\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"D:\\Anaconda\\install\\envs\\hub\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 265, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"D:\\Anaconda\\install\\envs\\hub\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"D:\\Anaconda\\install\\envs\\hub\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 380, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"D:\\Anaconda\\install\\envs\\hub\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 364, in _install_from_directory\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"C:\\Users\\admin\\.paddlehub\\modules\\ernie\\module.py\", line 23, in <module>\r\n    from paddlehub.module.modeling_ernie import ErnieModel, ErnieForSequenceClassification\r\nModuleNotFoundError: No module named 'paddlehub.module.modeling_ernie'\r\n请问该如何修改，感谢！",
        "state": "closed",
        "user": "snoopy1316",
        "closed_by": "WYB27",
        "created_at": "2022-04-02T02:26:00+00:00",
        "updated_at": "2025-06-30T07:11:51+00:00",
        "closed_at": "2025-06-30T07:11:51+00:00",
        "comments_count": [
            "KPatr1ck",
            "snoopy1316",
            "KPatr1ck",
            "snoopy1316",
            "snoopy1316",
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1831,
        "title": "paddlehub安装问题",
        "body": "\r\npaddlehub 安装报错，安装执行命令：pip install paddlehub -i http://mirror.baidu.com/pypi/simple --trusted-host mirror.baidu.com\r\n\r\n报错信息：\r\n\r\n![1649226155(1)](https://user-images.githubusercontent.com/5305836/161908831-5687bff6-2ef4-4767-8e14-d497169bdbb2.png)\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "javadoge",
        "closed_by": "javadoge",
        "created_at": "2022-04-06T06:23:04+00:00",
        "updated_at": "2022-04-06T06:51:57+00:00",
        "closed_at": "2022-04-06T06:51:57+00:00",
        "comments_count": [
            "javadoge",
            "KPatr1ck",
            "javadoge"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1830,
        "title": "导入paddlehub即报错",
        "body": "paddlehub==2.2.0 paddlepaddle==2.2.2  Pillow==9.1.0\r\npython3.8 win10系统\r\n\r\n使用如下代码\r\nimport paddlehub as hub\r\nimport paddle\r\n\r\nmodel = hub.Module(name='ernie', version='2.0.2', task='text-matching')\r\n\r\nmodel.get_tokenizer()\r\n\r\n报错如下\r\nTraceback (most recent call last):\r\n\r\n  File \"C:\\Users\\dengyn\\Documents\\caiwubaobiao\\baobiaoimage\\src\\untitled0.py\", line 7, in <module>\r\n    import paddlehub as hub\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\__init__.py\", line 31, in <module>\r\n    from paddlehub import datasets\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\datasets\\__init__.py\", line 15, in <module>\r\n    from paddlehub.datasets.canvas import Canvas\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\datasets\\canvas.py\", line 23, in <module>\r\n    from paddlehub.vision.utils import get_img_file\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\vision\\utils.py\", line 224, in <module>\r\n    def get_pseudo_color_map(pred: np.ndarray) -> PIL.Image.Image:\r\n\r\nAttributeError: module 'PIL' has no attribute 'Image'\r\n",
        "state": "closed",
        "user": "lightbordwin",
        "closed_by": "WYB27",
        "created_at": "2022-04-06T05:53:10+00:00",
        "updated_at": "2025-06-30T07:11:49+00:00",
        "closed_at": "2025-06-30T07:11:49+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1833,
        "title": " Can't connect to Hub Server",
        "body": "\r\n执行命令： hub install stylepro_artistic==1.0.1  报错如下：\r\n\r\n![1649229496(1)](https://user-images.githubusercontent.com/5305836/161917642-34308f54-bd58-44f8-a84e-cdae86fde94c.png)\r\n",
        "state": "closed",
        "user": "javadoge",
        "closed_by": "WYB27",
        "created_at": "2022-04-06T07:18:24+00:00",
        "updated_at": "2025-06-30T07:11:47+00:00",
        "closed_at": "2025-06-30T07:11:47+00:00",
        "comments_count": [
            "KPatr1ck",
            "lin0711",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1834,
        "title": "如何复用serving功能?",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n\r\n\r\npaddlehub serving 非常好用,但是处理路由都是设置好的,如何用Flask或者fastapi复用serving的请求处理功能,其他请求调用自己的代码呢?",
        "state": "closed",
        "user": "paopjian",
        "closed_by": "WYB27",
        "created_at": "2022-04-08T11:36:31+00:00",
        "updated_at": "2025-06-30T07:11:45+00:00",
        "closed_at": "2025-06-30T07:11:45+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1835,
        "title": "chinese_ocr_db_crnn_server 调用多次后报内存错误ResourceExhaustedError: Fail to alloc memory of 524288000 size, error code is 12",
        "body": "PaddleHub2.2.0，PaddlePaddle2.2.1\r\n\r\nocr = hub.Module(name=\"chinese_ocr_db_crnn_server\")\r\nresults = ocr.recognize_text(images=np_images,\r\n                                     use_gpu=False,\r\n                                     output_dir=\"\",\r\n                                     visualization=True,box_thresh=0.7,text_thresh=0.5)\r\n\r\nTraceback (most recent call last):\r\n  File \"/data/software/anaconda3/lib/python3.7/site-packages/flask/app.py\", line 2091, in __call__\r\n    return self.wsgi_app(environ, start_response)\r\n  File \"/data/software/anaconda3/lib/python3.7/site-packages/flask/app.py\", line 2076, in wsgi_app\r\n    response = self.handle_exception(e)\r\n  File \"/data/software/anaconda3/lib/python3.7/site-packages/flask/app.py\", line 2073, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/data/software/anaconda3/lib/python3.7/site-packages/flask/app.py\", line 1518, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/data/software/anaconda3/lib/python3.7/site-packages/flask/app.py\", line 1516, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/data/software/anaconda3/lib/python3.7/site-packages/flask/app.py\", line 1502, in dispatch_request\r\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)\r\n  File \"/data/yuyuechun/DeepLearningSlideCaptcha/flask/app/routes.py\", line 285, in yyzz_ocr\r\n    visualization=True,box_thresh=0.5,text_thresh=0.5)\r\n  File \"/data/software/anaconda3/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n File \"/home/devuser/.paddlehub/modules/chinese_ocr_db_crnn_server/module.py\", line 231, in recognize_text\r\n    images=predicted_data, use_gpu=self.use_gpu, box_thresh=box_thresh)\r\n  File \"/data/software/anaconda3/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/home/devuser/.paddlehub/modules/chinese_text_detection_db_server/module.py\", line 207, in detect_text\r\n    self.predictor.zero_copy_run()\r\nMemoryError: In user code:\r\n\r\n    File \"tools/export_model.py\", line 75, in <module>\r\n      main()\r\n    File \"tools/export_model.py\", line 51, in main\r\n      config, eval_program, startup_prog)\r\n    File \"/paddle/PaddleOCR/PaddleOCR/tools/program.py\", line 215, in build_export\r\n      image, outputs = model(mode='export')\r\n    File \"/paddle/PaddleOCR/PaddleOCR/ppocr/modeling/architectures/det_model.py\", line 135, in __call__\r\n      conv_feas = self.backbone(image)\r\n    File \"/paddle/PaddleOCR/PaddleOCR/ppocr/modeling/backbones/det_resnet_vd.py\", line 75, in __call__\r\n      name='conv1_2')\r\n File \"/paddle/PaddleOCR/PaddleOCR/ppocr/modeling/backbones/det_resnet_vd.py\", line 138, in conv_bn_layer\r\n      bias_attr=False)\r\n    File \"/root/anaconda3/envs/deploy/lib/python3.7/site-packages/paddle/fluid/layers/nn.py\", line 1585, in conv2d\r\n      \"data_format\": data_format,\r\n    File \"/root/anaconda3/envs/deploy/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n      return self.main_program.current_block().append_op(*args, **kwargs)\r\n    File \"/root/anaconda3/envs/deploy/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2880, in append_op\r\n      attrs=kwargs.get(\"attrs\", None))\r\n    File \"/root/anaconda3/envs/deploy/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 1977, in __init__\r\n      for frame in traceback.extract_stack():\r\n\r\n    ResourceExhaustedError: Fail to alloc memory of 524288000 size, error code is 12.\r\n      [Hint: Expected error == 0, but received error:12 != 0:0.] (at /paddle/paddle/fluid/memory/detail/system_allocator.cc:62)\r\n      [operator < conv2d > error]\r\n\r\n",
        "state": "closed",
        "user": "mavisyyc",
        "closed_by": "WYB27",
        "created_at": "2022-04-14T04:34:26+00:00",
        "updated_at": "2025-06-30T07:11:43+00:00",
        "closed_at": "2025-06-30T07:11:43+00:00",
        "comments_count": [
            "KPatr1ck",
            "webtang",
            "webtang",
            "BiteFoo",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1839
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1836,
        "title": "hub serving start 的http demo是否存在内存泄漏的情况？",
        "body": "服务器 ：centos\r\n跑的事咧：\r\n```\r\nimport requests\r\nimport json\r\nimport cv2\r\nimport base64\r\n\r\ndef cv2_to_base64(image):\r\n    data = cv2.imencode('.jpg', image)[1]\r\n    return base64.b64encode(data.tostring()).decode('utf8')\r\n\r\n# 发送HTTP请求\r\ndata = {'images':[cv2_to_base64(cv2.imread(\"/PATH/TO/IMAGE\"))]}\r\nheaders = {\"Content-type\": \"application/json\"}\r\nurl = \"http://127.0.0.1:8866/predict/chinese_ocr_db_crnn_mobile\"\r\nr = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n\r\n# 打印预测结果\r\nprint(r.json()[\"results\"])\r\n```\r\n保存为test.py\r\n启动 hub serving start --modules chinese_ocr_db_crnn_mobile\r\n执行 python test.py\r\n执行完毕，内存并没有释放掉，如果是执行 hub run chinese_ocr_db_crnn_mobile --input_path \"\" 命令，执行完毕，内存正常释放",
        "state": "closed",
        "user": "stoneLee81",
        "closed_by": "WYB27",
        "created_at": "2022-04-14T12:58:51+00:00",
        "updated_at": "2025-06-30T07:11:41+00:00",
        "closed_at": "2025-06-30T07:11:41+00:00",
        "comments_count": [
            "KPatr1ck",
            "stoneLee81",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1837,
        "title": "OCR 识别多张图片后会内存不足",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\nocr-paddle]# paddle --version\r\nPaddlePaddle 2.2.1, compiled with\r\n    with_avx: ON\r\n    with_gpu: OFF\r\n    with_mkl: ON\r\n    with_mkldnn: ON\r\n    with_python: ON\r\n\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\nocr-paddle]# uname -a\r\nLinux ecs-iot-prod-01 3.10.0-957.5.1.el7.x86_64 #1 SMP Fri Feb 1 14:54:57 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\nocr-paddle]# /usr/local/bin/python3.6 --version\r\nPython 3.6.5\r\n\r\n\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n本地有73805张jpg图片（总共23GB）。开启3个线程处理paddle-hub ocr识别图片。提取识别图片一项内容保存。\r\nocr-paddle]# ls data/license_image_src/ -l|wc -l\r\n73805\r\nocr-paddle]# du data/license_image_src/ -sh\r\n23G\tdata/license_image_src/\r\n\r\n程序启动后，只占用2G左右，然后升到3G，30分钟左右突升到7G，导致OOM被系统kill。\r\n\r\n附：\r\n\r\nif __name__ == '__main__':\r\n    MAX_WORKER_NUM = 2\r\n    ts = []\r\n    for x in range(MAX_WORKER_NUM):\r\n        t = threading.Thread(target=read_image_from_local, args=(rootpath, cachepath))\r\n        t.start()\r\n        ts.append(t)\r\n\r\nPROCESSING_CACHE = {}\r\nPROCESS_BATCH_NUM = 5\r\nprocessed_data = []\r\ndef read_image_from_local(path, cachepath):\r\n    cacheing = []\r\n    for f in walk_directory(path):\r\n        plateNo = f[f.rindex(os.path.sep)+1:f.rindex(\".\")]\r\n        if plateNo in PROCESSED_CACHE:\r\n            continue\r\n        PROCESSED_CACHE[plateNo] = f\r\n\r\n        item = {}\r\n        item[\"plate_number\"] = plateNo\r\n        item[\"local_vehicle_license_pic\"] = f\r\n        # itemlist.append(item)\r\n        # if len(itemlist) < PROCESS_BATCH_NUM:\r\n        #     continue\r\n\r\n        try:\r\n            ll = ocr_paddle_hub(item)\r\n            del item\r\n            processed_data.extend(ll)\r\n            for l in ll:\r\n                cacheing.append({\"plateNo\":l[\"plateNo\"], \"type\":l[\"type\"]}) \r\n            del ll        \r\n        except Exception as e:\r\n            traceback.format_exc()\r\n\r\n        print(\"cacheing size: \", len(cacheing))\r\n        if len(cacheing) < PROCESS_BATCH_NUM:\r\n            continue\r\n        save_processed_cache(cachepath, cacheing)\r\n        cacheing = []\r\n        # itemlist = []\r\n        time.sleep(0)\r\n\r\ndef walk_directory(path):\r\n    if not os.path.isdir(path):\r\n        yield path\r\n\r\n    for subp in os.listdir(path):\r\n        abssubp = os.path.join(os.path.abspath(path), subp)\r\n        if os.path.isdir(abssubp):\r\n            for s in walk_directory(abssubp):\r\n                yield s\r\n        else:\r\n            yield abssubp\r\n\r\ndef ocr_paddle_hub(item):\r\n    np_images = [cv2.imread(item[\"local_vehicle_license_pic\"])]\r\n    results = OCRService.recognize_text(\r\n                    images=np_images,         # 图片数据，ndarray.shape 为 [H, W, C]，BGR格式；\r\n                    use_gpu=False,            # 是否使用 GPU；若使用GPU，请先设置CUDA_VISIBLE_DEVICES环境变量\r\n                    output_dir='ocr_result_final',  # 图片的保存路径，默认设为 ocr_result；\r\n                    visualization=False,       # 是否将识别结果保存为图片文件；\r\n                    box_thresh=0.5,           # 检测文本框置信度的阈值；\r\n                    text_thresh=0.5)          # 识别中文文本置信度的阈值；\r\n    del np_images\r\n    vlist = []\r\n    for result in results:\r\n        data = result['data']\r\n        veichle = {\"type\":None}\r\n        veichle[\"plateNo\"] = item[\"plate_number\"]\r\n        veichle[\"local_vehicle_license_pic\"] = item[\"local_vehicle_license_pic\"]\r\n        veichle[\"save_path\"] = result['save_path']\r\n        for infomation in data:\r\n            print('text: ', infomation['text'], '\\nconfidence: ', infomation['confidence'], '\\ntext_box_position: ', infomation['text_box_position'])\r\n            if infomation['text'].rstrip().endswith(u\"车\"):                \r\n                veichle[\"type\"] = infomation['text']\r\n                break\r\n        if veichle[\"type\"] != None:\r\n            log.debug(\"OCR#： \"+veichle[\"plateNo\"] + \", \" + veichle[\"type\"] + \", \" + veichle[\"save_path\"])\r\n            vlist.append(veichle)\r\n    return vlist\r\n\r\n\r\n",
        "state": "closed",
        "user": "tanjh",
        "closed_by": "WYB27",
        "created_at": "2022-04-17T11:36:05+00:00",
        "updated_at": "2025-06-30T07:11:39+00:00",
        "closed_at": "2025-06-30T07:11:39+00:00",
        "comments_count": [
            "tanjh",
            "rainyfly",
            "tanjh",
            "rainyfly",
            "tanjh",
            "tanjh",
            "rainyfly",
            "tanjh",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1840,
        "title": "通过hub安装的模块，如何查看模块目录结构",
        "body": "比如我通过hub install chinese_ocr_db_crnn_server 安装的ocr模块，我希望可以查看安装模块的目录结构信息，该怎么做？",
        "state": "closed",
        "user": "stoneLee81",
        "closed_by": "stoneLee81",
        "created_at": "2022-04-19T08:21:24+00:00",
        "updated_at": "2022-04-19T08:48:47+00:00",
        "closed_at": "2022-04-19T08:48:47+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1847
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1838,
        "title": "chinese_ocr_db_crnn_server增加特殊字体的识别，怎么训练？",
        "body": "chinese_ocr_db_crnn_server对银行卡的突出字体识别不好，我想训练下，有没有时间操作的较详细的教程？\r\n",
        "state": "closed",
        "user": "webtang",
        "closed_by": "webtang",
        "created_at": "2022-04-18T03:32:36+00:00",
        "updated_at": "2022-04-21T08:43:48+00:00",
        "closed_at": "2022-04-21T08:43:48+00:00",
        "comments_count": [
            "haoyuying",
            "webtang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1843,
        "title": "文字转写报错",
        "body": "'gbk' codec can't decode byte 0x8c in position 2088: illegal multibyte sequence\r\n  File \"[C:\\Users\\Administrator\\.paddlehub\\modules\\fastspeech2_baker\\module.py]()\", line 73, in __init__\r\n    self.frontend = Frontend(phone_vocab_path=phones_dict)\r\n  File \"[G:\\PY]()工程\\yy.py\", line 6, in <module>\r\n    model = hub.Module(\r\n怎么回事",
        "state": "closed",
        "user": "QL-AR",
        "closed_by": "WYB27",
        "created_at": "2022-04-20T12:07:02+00:00",
        "updated_at": "2025-06-30T07:11:37+00:00",
        "closed_at": "2025-06-30T07:11:37+00:00",
        "comments_count": [
            "QL-AR",
            "QL-AR",
            "imzjy",
            "imzjy",
            "imzjy",
            "QL-AR",
            "QL-AR",
            "imzjy",
            "QL-AR",
            "QL-AR",
            "QL-AR",
            "QL-AR",
            "imzjy",
            "QL-AR",
            "QL-AR",
            "QL-AR",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1844,
        "title": "为什么PaddleHub加载的RexNet预训练模型的Flops数量远低于官方论文的Flops和Pytorch测得的Flops",
        "body": "加载[rexnet_1_0_imagenet](https://github.com/PaddlePaddle/PaddleHub/blob/release/v2.2/modules/image/classification/rexnet_1_0_imagenet)这个预训练模型 用 FLOPs = paddle.flops(model, [32, 3, 3, 3], custom_ops= {nn.LeakyReLU: count_leaky_relu},print_detail=True)测得的FLOPs只有0.154G而官方论文的Flops有0.415  而用Timm-Pytorch测得的有0.48Flops  不知道为何？",
        "state": "closed",
        "user": "13136983989",
        "closed_by": "WYB27",
        "created_at": "2022-04-20T13:21:25+00:00",
        "updated_at": "2025-06-30T07:11:35+00:00",
        "closed_at": "2025-06-30T07:11:35+00:00",
        "comments_count": [
            "nepeplwu",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1845,
        "title": "TTS - fastspeech2_baker - 读车牌号会漏掉字母",
        "body": "# Example script:\r\n\r\n```python\r\nimport paddlehub as hub\r\n\r\n# 需要合成语音的文本\r\nsentences = ['苏A 8877Q已经到站，车次 A23456R，请有序排队检票！']\r\n\r\nmodel = hub.Module(\r\n    name='fastspeech2_baker',\r\n    version='1.0.0')\r\nwav_files =  model.generate(sentences)\r\n\r\n# 打印合成的音频文件的路径\r\nprint(wav_files)\r\n```\r\n\r\n# Output:\r\n车牌号和车次上的字母完全没有读出来。\r\n\r\n[1.zip](https://github.com/PaddlePaddle/PaddleHub/files/8526962/1.zip)\r\n\r\n# 问题\r\n\r\n1. 是Bug还是预期的行为，是不是因为是中文TTS模型所以不支持英文字母？\r\n2. 如果想要Paddle支持类似车牌号的TTS，需要怎么做？\r\n\r\n谢谢~\r\n",
        "state": "closed",
        "user": "imzjy",
        "closed_by": "imzjy",
        "created_at": "2022-04-21T03:21:29+00:00",
        "updated_at": "2023-07-12T06:31:19+00:00",
        "closed_at": "2022-04-21T10:30:48+00:00",
        "comments_count": [
            "KPatr1ck",
            "imzjy",
            "imzjy",
            "KPatr1ck",
            "shihzenq"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1846,
        "title": "U2Net_Portrait 在paddlepaddle2.2.2和paddlehub2.2.0版本报错了 请帮忙看看~",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）paddlepaddle2.2.2和paddlehub2.2.0\r\n2）MacOS python3.7\r\n\r\n```\r\nimport paddlehub as hub\r\n\r\nmodel = hub.Module(name=\"U2Net_Portrait\")\r\nresult = model.Portrait_GEN(paths=['./test.png'])\r\nprint(result)\r\n\r\n```\r\n\r\n```\r\n[2022-04-22 19:56:48,132] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0422 19:56:48.132697 189269504 analysis_predictor.cc:1350] Deprecated. Please use CreatePredictor instead.\r\nTraceback (most recent call last):\r\n  File \"/Users/chensuilong/Desktop/pythonproject/paddleImageStyleTransfer/main2.py\", line 4, in <module>\r\n    result = model.Portrait_GEN(paths=['./test.png'])\r\n  File \"/Users/chensuilong/.paddlehub/modules/U2Net_Portrait/module.py\", line 47, in Portrait_GEN\r\n    processor = Processor(paths, images, batch_size, face_detection, scale)\r\n  File \"/Users/chensuilong/.paddlehub/modules/U2Net_Portrait/processor.py\", line 14, in __init__\r\n    self.input_datas = self.preprocess(self.imgs, batch_size, face_detection, scale)\r\n  File \"/Users/chensuilong/.paddlehub/modules/U2Net_Portrait/processor.py\", line 91, in preprocess\r\n    input_datas = np.concatenate(input_datas, 0)\r\n  File \"<__array_function__ internals>\", line 6, in concatenate\r\nValueError: need at least one array to concatenate\r\n```\r\n\r\n代码是参考这里的\r\n\r\nhttps://github.com/PaddlePaddle/PaddleHub/tree/release/v2.2/modules/image/Image_gan/style_transfer/U2Net_Portrait",
        "state": "closed",
        "user": "duolabmeng6",
        "closed_by": "duolabmeng6",
        "created_at": "2022-04-22T11:57:33+00:00",
        "updated_at": "2022-05-10T09:27:38+00:00",
        "closed_at": "2022-05-10T09:27:38+00:00",
        "comments_count": [
            "haoyuying",
            "duolabmeng6",
            "duolabmeng6",
            "duolabmeng6",
            "duolabmeng6"
        ],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1856
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1848,
        "title": "I actually tried to implement this modules to English texts, and results are generated. But the description of the bilstm module is to sentiment the \"Chinese\" words, is it correct to sentiment the \"English\" words?",
        "body": "I actually tried to implement this modules to English texts, and results are generated. But the description of the bilstm module is to sentiment the \"Chinese\" words, is it correct to sentiment the \"English\" words?\r\n\r\n_Originally posted by @crjhonor in https://github.com/PaddlePaddle/PaddleHub/discussions/1847_",
        "state": "closed",
        "user": "crjhonor",
        "closed_by": "WYB27",
        "created_at": "2022-04-25T00:26:52+00:00",
        "updated_at": "2025-06-30T07:11:33+00:00",
        "closed_at": "2025-06-30T07:11:33+00:00",
        "comments_count": [
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1849,
        "title": "为啥不能用conda安装啊",
        "body": "增加conda安装",
        "state": "closed",
        "user": "cimenzhong",
        "closed_by": "WYB27",
        "created_at": "2022-04-25T08:13:08+00:00",
        "updated_at": "2025-06-30T07:11:31+00:00",
        "closed_at": "2025-06-30T07:11:31+00:00",
        "comments_count": [
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1850,
        "title": "图片不正，被旋转90度识别效果不正常",
        "body": "有什么方案可用识别图片旋转摆正再识别的方法？",
        "state": "closed",
        "user": "bouyeijiang",
        "closed_by": "WYB27",
        "created_at": "2022-04-28T13:51:40+00:00",
        "updated_at": "2025-06-30T07:11:30+00:00",
        "closed_at": "2025-06-30T07:11:29+00:00",
        "comments_count": [
            "KPatr1ck",
            "bouyeijiang",
            "bouyeijiang",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1858,
        "title": "服务器部署启动服务后会自己kill掉",
        "body": "在终端部署完成后\r\n![QQ图片20220501185515](https://user-images.githubusercontent.com/52731865/166142861-4a2a04e6-fb0a-4205-bd1b-c15658b1bbc4.png)\r\n通过新终端访问出错\r\n![QQ图片20220501185527](https://user-images.githubusercontent.com/52731865/166142866-43da97f2-0c0f-428e-be33-1a003051817b.png)\r\n使用postman访问出现Error: socket hang up\r\n\r\n",
        "state": "closed",
        "user": "Dearzxs",
        "closed_by": "Dearzxs",
        "created_at": "2022-05-01T10:57:02+00:00",
        "updated_at": "2022-05-05T05:10:15+00:00",
        "closed_at": "2022-05-05T05:10:15+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1851,
        "title": "我想要将训练好的ernie模型导出.pdmodle 文件 and .pdparams，但是不知道一些参数",
        "body": "我训练了一个ernie模型，想要通过ai studio上的部署功能，布置一个在线api，然后我调用就可以进行预测，这个api需要[__model__或xxx.pdmodel为模型结构文件;__params___或xxx.pdiparams为模型参数文件。]\r\n①下面是我的模型训练代码，使用的是自己的datasets，动态图格式，文本分类任务\r\n```\r\nmodel = hub.Module(name='ernie', task='seq-cls', num_classes=len(MyDataset.label_list))\r\n# 优化策略和运行配置\r\noptimizer = paddle.optimizer.Adam(learning_rate=5e-5, parameters=model.parameters())  # 优化器的选择和参数配置\r\ntrainer = hub.Trainer(model, optimizer, checkpoint_dir='./module1.0', use_gpu=True)        # fine-tune任务的执行者\r\nresult = trainer.evaluate(test_dataset, batch_size=32)    # 在测试集上评估当前训练模型\r\n```\r\n②我查询了paddlepaddle和paddlehub以及一些issues，我猜测可能的保存命令应该是\r\npaddle.jit.save\r\n但是我去查看了文档发现参数为：paddle.jit.save(layer, path, input_spec=None, **configs)\r\n![image](https://user-images.githubusercontent.com/57944244/165776476-d8f99043-7295-49bf-8d2f-6a595d1eadc8.png)\r\n③我的问题是\r\n1、我这样的需求应该如何操作呢？\r\n2、如果是我的想法的话，layer这个参数我该放那个参数？\r\n3、input_spec这个参数我该怎么得到？因为我看了其他人的我也没看懂这个东西怎么来的，有的是[img], 有的就是几个数字，我的输入数据为【lable  文本】的模式，左边标签，右边文本。这个参数我是真的很迷惑\r\n![image](https://user-images.githubusercontent.com/57944244/165777154-4a7f8eb9-bac9-45ba-ab38-53c0c85a3d64.png)\r\n\r\n十分希望能够解决我的问题！我已经困扰了一天了！",
        "state": "closed",
        "user": "baiwan9kiwi",
        "closed_by": "WYB27",
        "created_at": "2022-04-28T14:37:03+00:00",
        "updated_at": "2025-06-30T07:11:28+00:00",
        "closed_at": "2025-06-30T07:11:27+00:00",
        "comments_count": [
            "baiwan9kiwi",
            "baiwan9kiwi",
            "baiwan9kiwi",
            "lightbordwin",
            "baiwan9kiwi",
            "AdaCoding123",
            "AdaCoding123",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1857,
        "title": "使用ernie_gen进行finetune自己的数据集",
        "body": "使用ernie_gen进行finetune自己的数据集，生成的模型只能生成最长为51的句子，如何可以让其生成更长的句子呢？\r\n",
        "state": "closed",
        "user": "viego1999",
        "closed_by": "WYB27",
        "created_at": "2022-04-29T13:07:24+00:00",
        "updated_at": "2025-06-30T07:11:24+00:00",
        "closed_at": "2025-06-30T07:11:24+00:00",
        "comments_count": [
            "linjieccc",
            "viego1999",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1853,
        "title": "这报错是啥原因",
        "body": "> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpzqiqpxfy.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpmnlabg65.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpzxfclcev.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpc5lmm8n6.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpt2_n3yl3.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpqugl2px7.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpyq6xf5po.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpmqlbdjsp.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpyqb4qyfb.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmplv_vkj0d.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmp8v9wgfps.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmps052t6n9.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmprkac4uwg.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpclhyfof0.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmplql81rtd.py:19\r\n\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, `axis=-1)` from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> /home/nvidia/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/math_op_patch.py:299: UserWarning: /tmp/tmpbrjhtxj_.py:19\r\n> The behavior of expression A + B has been unified with elementwise_add(X, Y, axis=-1) from Paddle 2.0. If your code works well in the older versions but crashes in this version, try to use elementwise_add(X, Y, axis=0) instead of A + B. This transitional warning will be dropped in the future.\r\n>   op_type, op_type, EXPRESSION_MAP[method_name]))\r\n> Epoch 2: StepDecay set learning rate to 0.001.\r\n> [2022-04-29 15:06:35.465114] Train epoch 2, batch: 0/106, loss: 0.003725, accuracy: 1.000000\r\n> ",
        "state": "closed",
        "user": "Daish98",
        "closed_by": "WYB27",
        "created_at": "2022-04-29T07:16:07+00:00",
        "updated_at": "2025-06-30T07:11:25+00:00",
        "closed_at": "2025-06-30T07:11:25+00:00",
        "comments_count": [
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1860,
        "title": "fine-tuneAPI导出模型转换module时报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\npaddlehub2.2.0 paddlepaddle2.2.2 win10 python3.8.8\r\n使用ernie2.0 通过finetuneAPI导出的迁移训练模型，任务为text_matching，通过\r\nhttps://github.com/PaddlePaddle/PaddleHub/blob/release/v1.8/docs/tutorial/finetuned_model_to_module.md\r\n中教程进行model to module的转换，转换使用的module.py代码如下\r\n\r\nimport os\r\n\r\nimport numpy as np\r\nfrom paddlehub.common.logger import logger\r\nfrom paddlehub.module.module import moduleinfo, serving\r\nimport paddlehub as hub\r\n\r\n@moduleinfo(\r\n    name=\"ernie_2.0_finetuned\",\r\n    version=\"1.0.0\",\r\n    summary=\"ERNIE 2.0 which was fine-tuned on the st-cbs dataset.\",\r\n    author=\"dyn\",\r\n    author_email=\"\",\r\n    type=\"nlp/text-matching\")\r\nclass ERNIE2Finetuned(hub.Module):\r\n    def _initialize(self,\r\n                ckpt_dir=\"./ckpt\",\r\n                num_class=2,\r\n                max_seq_len=128,\r\n                use_gpu=False,\r\n                batch_size=1):\r\n        self.ckpt_dir=os.path.join(self.directory, ckpt_dir)\r\n        self.num_class = num_class\r\n        self.MAX_SEQ_LEN = max_seq_len\r\n\r\n        self.params_path = os.path.join(self.ckpt_dir, 'best_model')\r\n        if not os.path.exists(self.params_path):\r\n            logger.error(\r\n                \"%s doesn't contain the best_model file which saves the best parameters as fietuning.\"\r\n                )\r\n            exit()\r\n            \r\n        # Load Paddlehub ERNIE 2.0 pretrained model\r\n        self.module = hub.Module(name=\"ernie\",version=\"2.0\")\r\n        inputs, outputs, program = self.module.context(\r\n            trainable=True, max_seq_len=max_seq_len)\r\n        \r\n        self.vocab_path = self.module.get_vocab_path()\r\n        \r\n        # metric should be acc, f1 or matthews\r\n        metrics_choices = [\"acc\"]\r\n        \r\n        reader = hub.reader.ClassifyReader(\r\n        vocab_path=self.module.get_vocab_path(),\r\n        max_seq_len=max_seq_len,\r\n        sp_model_path=None,\r\n        word_dict_path=None)\r\n        \r\n        pooled_output = outputs[\"pooled_output\"]\r\n        \r\n        feed_list = [\r\n            inputs[\"input_ids\"].name,\r\n            inputs[\"position_ids\"].name,\r\n            inputs[\"segment_ids\"].name,\r\n            inputs[\"input_mask\"].name,\r\n        ]\r\n        \r\n        # Setup runing config for PaddleHub Finetune API\r\n        config = hub.RunConfig(\r\n            use_data_parallel=False,\r\n            use_cuda=False,\r\n            batch_size=batch_size,\r\n            checkpoint_dir=self.ckpt_dir,\r\n            strategy=hub.AdamWeightDecayStrategy())\r\n        self.cls_task = hub.TextClassifierTask(\r\n            data_reader=reader,\r\n            feature=pooled_output,\r\n            feed_list=feed_list,\r\n            num_classes=self.num_class,\r\n            config=config,\r\n            metrics_choices=metrics_choices)\r\n        \r\n        \r\n    @serving\r\n    def predict(self, data, return_result=False, accelerate_mode=True):\r\n        \"\"\"\r\n        Get prediction results\r\n        \"\"\"\r\n        run_states = self.cls_task.predict(\r\n            data=data,\r\n            return_result=return_result,\r\n            accelerate_mode=accelerate_mode)\r\n        results = [run_state.run_results for run_state in run_states]\r\n        prediction = []\r\n        for batch_result in results:\r\n            # get predict index\r\n            batch_result = np.argmax(batch_result, axis=2)[0]\r\n            batch_result = batch_result.tolist()\r\n            prediction += batch_result\r\n        return prediction\r\n\r\n调用代码如下\r\nimport paddlehub as hub\r\nimport numpy as np\r\n\r\ndata = [\r\n    ['这个表情叫什么', '这个猫的表情叫什么'],\r\n    ['什么是智能手环', '智能手环有什么用'],\r\n    ['介绍几本好看的都市异能小说，要完结的！', '求一本好看点的都市异能小说，要完结的'],\r\n    ['一只蜜蜂落在日历上（打一成语）', '一只蜜蜂停在日历上（猜一成语）'],\r\n    ['一盒香烟不拆开能存放多久？', '一条没拆封的香烟能存放多久。'],\r\n]\r\nlabel_map = {1: 'similar', 0: 'dissimilar'}\r\n\r\nmodule = hub.Module(\r\n    directory=\"D:\\\\paddle_workspace\\\\ernie_demo\\\\src\\\\finetuned_model_to_module\\\\\")\r\npredictions = module.predict(data=data,max_seq_len=128, batch_size=1, use_gpu=False)\r\nfor idx, texts in enumerate(data):\r\n    print('TextA: {}\\tTextB: {}\\t Label: {}'.format(texts[0], texts[1], predictions[idx]))\r\n\r\n报错完整信息如下\r\nrunfile('D:/paddle_workspace/ernie_demo/src/test.py', wdir='D:/paddle_workspace/ernie_demo/src')\r\nReloaded modules: ernie.module, finetuned_model_to_module.module\r\n[2022-05-06 11:10:58,885] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nTraceback (most recent call last):\r\n\r\n  File \"D:\\paddle_workspace\\ernie_demo\\src\\test.py\", line 13, in <module>\r\n    module = hub.Module(\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\module\\module.py\", line 398, in __new__\r\n    module = cls.init_with_directory(directory=directory, **kwargs)\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\module\\module.py\", line 525, in init_with_directory\r\n    user_module._initialize(**kwargs)\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n\r\n  File \"D:\\paddle_workspace\\ernie_demo\\src\\finetuned_model_to_module\\module.py\", line 34, in _initialize\r\n    self.module = hub.Module(name=\"ernie\",version=\"2.0\")\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\module\\module.py\", line 388, in __new__\r\n    module = cls.init_with_name(\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\module\\module.py\", line 487, in init_with_name\r\n    user_module_cls = manager.install(\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 283, in _install_from_name\r\n    raise EnvironmentMismatchError(name=name, info=valid_infos, version=version)\r\n\r\nEnvironmentMismatchError: ernie-2.0 cannot be installed because some conditions are not met:\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n|     Name          | Version   |  PaddlePaddle Version Required |    PaddleHub Version Required   |\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n|     ernie           |  2.0.0       |              >=2.0.0                          |              >=2.0.0                           |\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n我很确定我的paddlepaddle版本和paddlehub版本满足要求，因此不知道这个问题该如何解决",
        "state": "closed",
        "user": "lightbordwin",
        "closed_by": "WYB27",
        "created_at": "2022-05-06T05:46:10+00:00",
        "updated_at": "2025-06-30T07:11:20+00:00",
        "closed_at": "2025-06-30T07:11:20+00:00",
        "comments_count": [
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1859,
        "title": "fine-tune模型转为module时报错",
        "body": "我使用ernie2.0 通过fine-tuneAPI迁移训练了导出了一个新模型，任务是text-matching。我在使用 https://github.com/PaddlePaddle/PaddleHub/blob/release/v1.8/docs/tutorial/finetuned_model_to_module.md\r\n中的教程将model转为module时出现了错误，下面是完整的错误信息\r\nrunfile('D:/paddle_workspace/ernie_demo/src/test.py', wdir='D:/paddle_workspace/ernie_demo/src')\r\nReloaded modules: ernie.module, finetuned_model_to_module.module\r\n[2022-05-06 09:36:26,650] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\n[2022-05-06 09:36:26,652] [    INFO] - Already cached C:\\Users\\dengyn\\.paddlenlp\\models\\ernie-1.0\\ernie_v1_chn_base.pdparams\r\n[2022-05-06 09:36:27,419] [    INFO] - Weights from pretrained model not used in ErnieModel: ['cls.predictions.layer_norm.weight', 'cls.predictions.decoder_bias', 'cls.predictions.transform.bias', 'cls.predictions.transform.weight', 'cls.predictions.layer_norm.bias']\r\nTraceback (most recent call last):\r\n\r\n  File \"D:\\paddle_workspace\\ernie_demo\\src\\test.py\", line 13, in <module>\r\n    module = hub.Module(\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\module\\module.py\", line 398, in __new__\r\n    module = cls.init_with_directory(directory=directory, **kwargs)\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\module\\module.py\", line 525, in init_with_directory\r\n    user_module._initialize(**kwargs)\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n\r\n  File \"D:\\paddle_workspace\\ernie_demo\\src\\finetuned_model_to_module\\module.py\", line 33, in _initialize\r\n    self.module = hub.Module(name=\"ernie\",version=\"2.0.2\",task=\"text-matching\")\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\module\\module.py\", line 388, in __new__\r\n    module = cls.init_with_name(\r\n\r\n  File \"D:\\anaconda\\lib\\site-packages\\paddlehub\\module\\module.py\", line 511, in init_with_name\r\n    return user_module_cls(**kwargs)\r\n\r\n  File \"C:\\Users\\dengyn\\.paddlehub\\modules\\ernie\\module.py\", line 76, in __init__\r\n    self.model = ErnieModel.from_pretrained(pretrained_model_name_or_path='ernie-1.0', **kwargs)\r\n\r\n  File \"C:\\Users\\dengyn\\AppData\\Roaming\\Python\\Python38\\site-packages\\paddlenlp\\transformers\\model_utils.py\", line 376, in from_pretrained\r\n    state_to_load[k] = state_to_load[k].astype(dtype)\r\n\r\nAttributeError: 'paddle.fluid.core_avx.LoDTensor' object has no attribute 'astype'\r\n\r\n\r\n我使用的调用方法是直接通过Hub.Module(directory=...)加载，请问这种情况怎么处理？",
        "state": "closed",
        "user": "lightbordwin",
        "closed_by": "WYB27",
        "created_at": "2022-05-06T01:43:32+00:00",
        "updated_at": "2025-06-30T07:11:22+00:00",
        "closed_at": "2025-06-30T07:11:22+00:00",
        "comments_count": [
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1861,
        "title": "ddparser,同样的版本和输入，在mac上和在centos7上输出结果不一致",
        "body": "paddlehub==1.8\r\nddparser==1.0.0\r\ncmd：hub run ddparser --input_text=\"第58届百想艺术大赏颁奖典礼，主持人朴宝剑怀念3月去世的韩国著名音乐总监方俊锡。\"\r\nmac输出：\r\n![image](https://user-images.githubusercontent.com/19356567/167239586-7f03d519-521b-4a25-8ac3-3b4f55a0f384.png)\r\ncentos7输出：\r\n![image](https://user-images.githubusercontent.com/19356567/167239611-200e0b2c-af38-4c4f-83b6-bbae01d3aa02.png)\r\n分词结果一样，但依存句法分析结果不一样。\r\n",
        "state": "closed",
        "user": "mejackomg",
        "closed_by": "WYB27",
        "created_at": "2022-05-07T05:17:41+00:00",
        "updated_at": "2025-06-30T07:11:18+00:00",
        "closed_at": "2025-06-30T07:11:18+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1862,
        "title": "pyramidbox_lite_mobile_mask模型利用cv2读取照片错误",
        "body": "PaddleHub: 1.7.1\r\nPaddlePaddle: 2.1.0\r\n系统: Windows11\r\npython版本: 3.7\r\n代码:\r\n```\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"pyramidbox_lite_mobile_mask\")\r\n\r\nimport cv2\r\n\r\ncapture = cv2.VideoCapture(1)\r\nwhile True:\r\n    ret, frame = capture.read()\r\n    if ret == False:\r\n        break\r\n    frame_copy = frame.copy()\r\n    results = module.face_detection(images=[frame], use_multi_scale=True, shrink=0.6, visualization=True)\r\n    if cv2.waitKey(1) & 0xFF == ord('q'):\r\n        break\r\n    # #口罩检测预测\r\n    for result in results:\r\n        if result['data']:\r\n            print(result)\r\n            print(\"\\n\")\r\n            top = int(result['data'][0]['top'])\r\n            right = int(result['data'][0]['right'])\r\n            bottom = int(result['data'][0]['bottom'])\r\n            left = int(result['data'][0]['left'])\r\n            color = (0, 255, 255)\r\n            cv2.rectangle(frame_copy, (left, top), (right, bottom), color, 3)\r\n    #预测结果展示\r\n    cv2.imshow(\"frame\", frame_copy)\r\n```\r\nBug:\r\n```\r\nW0510 16:08:18.286708  1572 analysis_predictor.cc:1350] Deprecated. Please use CreatePredictor instead.\r\nTraceback (most recent call last):\r\n  File \"F:/Paddle_Project/Mask_Detection/main.py\", line 17, in <module>\r\n    results = module.face_detection(images=[frame], use_multi_scale=True, shrink=0.6, visualization=True)\r\n  File \"C:\\Users\\22305\\.paddlehub\\modules\\pyramidbox_lite_mobile_mask\\module.py\", line 128, in face_detection\r\n    images, paths, use_gpu, use_multi_scale):\r\n  File \"C:\\Users\\22305\\.paddlehub\\modules\\pyramidbox_lite_mobile_mask\\data_feed.py\", line 183, in reader\r\n    scale_res = np.row_stack(scale_res)\r\n  File \"C:\\Users\\22305\\AppData\\Roaming\\Python\\Python37\\site-packages\\numpy\\core\\shape_base.py\", line 283, in vstack\r\n    return _nx.concatenate([atleast_2d(_m) for _m in tup], 0)\r\nValueError: need at least one array to concatenate\r\n```\r\n经过测试module.face_detection中use_multi_scale去掉后代码正常运行, 但是use_multi_scale改为True后代码就会报以上错误, 同时如果利用cv2.imread读取本地照片再转为list传入module.face_detection的images里也能正常运行。请求解决办法。",
        "state": "closed",
        "user": "MrFaith2001",
        "closed_by": "WYB27",
        "created_at": "2022-05-10T08:16:10+00:00",
        "updated_at": "2025-06-30T07:11:16+00:00",
        "closed_at": "2025-06-30T07:11:16+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1863,
        "title": "U2Net_Portrait 在paddlepaddle2.2.2和paddlehub2.2.0版本报错了 请帮忙看看~",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）paddlepaddle2.2.2和paddlehub2.2.0\r\n2）MacOS python3.7\r\n\r\n```\r\nimport paddlehub as hub\r\n\r\nmodel = hub.Module(name=\"U2Net_Portrait\")\r\nresult = model.Portrait_GEN(paths=['./test.png'])\r\nprint(result)\r\n\r\n```\r\n\r\n```\r\n[2022-04-22 19:56:48,132] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0422 19:56:48.132697 189269504 analysis_predictor.cc:1350] Deprecated. Please use CreatePredictor instead.\r\nTraceback (most recent call last):\r\n  File \"/Users/chensuilong/Desktop/pythonproject/paddleImageStyleTransfer/main2.py\", line 4, in <module>\r\n    result = model.Portrait_GEN(paths=['./test.png'])\r\n  File \"/Users/chensuilong/.paddlehub/modules/U2Net_Portrait/module.py\", line 47, in Portrait_GEN\r\n    processor = Processor(paths, images, batch_size, face_detection, scale)\r\n  File \"/Users/chensuilong/.paddlehub/modules/U2Net_Portrait/processor.py\", line 14, in __init__\r\n    self.input_datas = self.preprocess(self.imgs, batch_size, face_detection, scale)\r\n  File \"/Users/chensuilong/.paddlehub/modules/U2Net_Portrait/processor.py\", line 91, in preprocess\r\n    input_datas = np.concatenate(input_datas, 0)\r\n  File \"<__array_function__ internals>\", line 6, in concatenate\r\nValueError: need at least one array to concatenate\r\n```\r\n\r\n代码是参考这里的\r\n\r\nhttps://github.com/PaddlePaddle/PaddleHub/tree/release/v2.2/modules/image/Image_gan/style_transfer/U2Net_Portrait\r\n\r\n![image](https://user-images.githubusercontent.com/59047063/167596645-28e2ff5d-7deb-4028-a192-c052569d6759.png)\r\n",
        "state": "closed",
        "user": "duolabmeng6",
        "closed_by": "duolabmeng6",
        "created_at": "2022-05-10T09:27:43+00:00",
        "updated_at": "2024-09-20T23:22:28+00:00",
        "closed_at": "2024-09-20T23:22:28+00:00",
        "comments_count": [
            "haoyuying",
            "duolabmeng6"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1865,
        "title": "请问paddle怎么在android或者树莓派使用呢？",
        "body": "请问paddle怎么在android或者树莓派使用呢？有现成的么？不会训练什么的。类似paddlehub这么简单的",
        "state": "closed",
        "user": "bbhxwl",
        "closed_by": "WYB27",
        "created_at": "2022-05-12T06:59:55+00:00",
        "updated_at": "2025-06-30T07:11:14+00:00",
        "closed_at": "2025-06-30T07:11:14+00:00",
        "comments_count": [
            "haoyuying",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1866,
        "title": "下面这个代码，识别的很慢吗？",
        "body": "只有不到10帧，怎么才能做个火柴人的功能呢。流畅的。\r\n```\r\nimport requests\r\nimport json\r\nimport cv2\r\nimport base64\r\n\r\n\r\ndef cv2_to_base64(image):\r\n    data = cv2.imencode('.jpg', image)[1]\r\n    return base64.b64encode(data.tostring()).decode('utf8')\r\n\r\n\r\ncap = cv2.VideoCapture(0)\r\n\r\nwhile (True):\r\n\r\n    # 开始用摄像头读数据，返回hx为true则表示读成功，frame为读的图像\r\n    hx, frame = cap.read()\r\n    data = {'images': [cv2_to_base64(frame)]}\r\n    headers = {\"Content-type\": \"application/json\"}\r\n    url = \"http://127.0.0.1:8866/predict/human_pose_estimation_resnet50_mpii\"\r\n    r = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n\r\n    # 打印预测结果\r\n    print(r.json()[\"results\"])\r\n    # 如果hx为Flase表示开启摄像头失败，那么就输出\"read vido error\"并退出程序\r\n    if hx is False:\r\n        # 打印报错\r\n        print('read video error')\r\n        # 退出程序\r\n        exit(0)\r\n\r\n    # 显示摄像头图像，其中的video为窗口名称，frame为图像\r\n    cv2.imshow('video', frame)\r\n\r\n    # 监测键盘输入是否为q，为q则退出程序\r\n    if cv2.waitKey(1) & 0xFF == ord('q'):  # 按q退出\r\n        break\r\n\r\n# 释放摄像头\r\ncap.release()\r\n\r\n# 结束所有窗口\r\ncv2.destroyAllWindows()\r\n\r\n# 发送HTTP请求\r\n# data = {'images':[cv2_to_base64(cv2.imread(\"./test_image.jpg\"))]}\r\n# headers = {\"Content-type\": \"application/json\"}\r\n# url = \"http://127.0.0.1:8866/predict/human_pose_estimation_resnet50_mpii\"\r\n# r = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n#\r\n# # 打印预测结果\r\n# print(r.json()[\"results\"])\r\n```\r\nhttps://github.com/PaddlePaddle/PaddleHub/tree/release/v2.2/modules/image/keypoint_detection/human_pose_estimation_resnet50_mpii\r\n\r\n",
        "state": "closed",
        "user": "bbhxwl",
        "closed_by": "WYB27",
        "created_at": "2022-05-12T07:28:57+00:00",
        "updated_at": "2025-06-30T07:11:12+00:00",
        "closed_at": "2025-06-30T07:11:12+00:00",
        "comments_count": [
            "haoyuying",
            "bbhxwl",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1867,
        "title": "按照教程来的conda还是出错。",
        "body": "https://github.com/PaddlePaddle/PaddleHub/blob/release/v2.1/docs/docs_ch/get_start/linux_quickstart.md\r\n\r\n我运行这个命令就出错了。\r\npip install paddlepaddle -i https://mirror.baidu.com/pypi/simple\r\n\r\n从这里开始下面一片红\r\n![image](https://user-images.githubusercontent.com/26525599/168025584-e9118427-e351-4858-b0d2-56dcf8926d85.png)\r\n![image](https://user-images.githubusercontent.com/26525599/168025609-bb139ad0-85f9-4ab7-998a-d4fa253a3995.png)\r\n",
        "state": "closed",
        "user": "bbhxwl",
        "closed_by": "WYB27",
        "created_at": "2022-05-12T08:22:09+00:00",
        "updated_at": "2025-06-30T07:11:10+00:00",
        "closed_at": "2025-06-30T07:11:10+00:00",
        "comments_count": [
            "haoyuying",
            "bbhxwl",
            "Zeref996",
            "bbhxwl",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1868,
        "title": "m1安装的bug反馈",
        "body": "paddlepaddle 2.2已经安装成功了。\r\npaddlehub安装失败\r\n<img width=\"1102\" alt=\"image\" src=\"https://user-images.githubusercontent.com/26525599/168100575-26681eea-a125-426f-9956-02563b915368.png\">\r\n",
        "state": "closed",
        "user": "bbhxwl",
        "closed_by": "WYB27",
        "created_at": "2022-05-12T14:36:53+00:00",
        "updated_at": "2025-06-30T07:11:08+00:00",
        "closed_at": "2025-06-30T07:11:08+00:00",
        "comments_count": [
            "xiaoxinmiao",
            "Arthurlyf",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1869,
        "title": "运行trainer.train()出现label should not out of bound, but gotTensor(shape=[1], dtype=int64, place=CUDAPlace(0), stop_gradient=True,        [2])",
        "body": "\r\n- 版本、环境信息\r\n1）例如PaddleHub2.1.1，PaddlePaddle2.2.2.post101使用erine_tiny\r\n2）系统环境：aistudio平台\r\n- 复现信息：ValueError: label should not out of bound, but gotTensor(shape=[1], dtype=int64, place=CUDAPlace(0), stop_gradient=True,[2]\r\n- \r\n代码：https://aistudio.baidu.com/aistudio/datasetdetail/146374/0\r\n\r\n      \r\n",
        "state": "closed",
        "user": "fatepary",
        "closed_by": "fatepary",
        "created_at": "2022-05-14T02:57:07+00:00",
        "updated_at": "2022-05-25T01:56:52+00:00",
        "closed_at": "2022-05-25T01:56:52+00:00",
        "comments_count": [
            "KPatr1ck",
            "fatepary"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1870,
        "title": "centos 7.6 安装paddlehub报错",
        "body": "paddlepaddle版本 2.3.0\r\n使用pip命令安装paddlehub时出错\r\n报错信息如下：\r\n```\r\nCollecting seqeval\r\n  Using cached http://mirrors.cloud.aliyuncs.com/pypi/packages/9d/2d/233c79d5b4e5ab1dbf111242299153f3caddddbb691219f363ad55ce783d/seqeval-1.2.2.tar.gz (43 kB)\r\n  Preparing metadata (setup.py) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  × python setup.py egg_info did not run successfully.\r\n  │ exit code: 1\r\n  ╰─> [38 lines of output]\r\n      /usr/local/python39/lib/python3.9/site-packages/setuptools/dist.py:772: UserWarning: Usage of dash-separated 'index-url' will not be supported in future versions. Please use the underscore name 'index_url' instead\r\n        warnings.warn(\r\n      /usr/local/python39/lib/python3.9/site-packages/setuptools/installer.py:27: SetuptoolsDeprecationWarning: setuptools.installer is deprecated. Requirements should be satisfied by a PEP 517 installer.\r\n        warnings.warn(\r\n      WARNING: The repository located at mirrors.cloud.aliyuncs.com is not a trusted or secure host and is being ignored. If this repository is available via HTTPS we recommend you use HTTPS instead, otherwise you may silence this warning and allow it anyway with '--trusted-host mirrors.cloud.aliyuncs.com'.\r\n      ERROR: Could not find a version that satisfies the requirement setuptools_scm (from versions: none)\r\n      ERROR: No matching distribution found for setuptools_scm\r\n      Traceback (most recent call last):\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/installer.py\", line 82, in fetch_build_egg\r\n          subprocess.check_call(cmd)\r\n        File \"/usr/local/python39/lib/python3.9/subprocess.py\", line 373, in check_call\r\n          raise CalledProcessError(retcode, cmd)\r\n      subprocess.CalledProcessError: Command '['/usr/local/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmpyfeyl2px', '--quiet', '--index-url', 'http://mirrors.cloud.aliyuncs.com/pypi/simple/', 'setuptools_scm']' returned non-zero exit status 1.\r\n      \r\n      The above exception was the direct cause of the following exception:\r\n      \r\n      Traceback (most recent call last):\r\n        File \"<string>\", line 2, in <module>\r\n        File \"<pip-setuptools-caller>\", line 34, in <module>\r\n        File \"/tmp/pip-install-btei3w6x/seqeval_a31337ad7f3847e180d33dd914c3ee22/setup.py\", line 27, in <module>\r\n          setup(\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/__init__.py\", line 86, in setup\r\n          _install_setup_requires(attrs)\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/__init__.py\", line 80, in _install_setup_requires\r\n          dist.fetch_build_eggs(dist.setup_requires)\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/dist.py\", line 876, in fetch_build_eggs\r\n          resolved_dists = pkg_resources.working_set.resolve(\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 789, in resolve\r\n          dist = best[req.key] = env.best_match(\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 1075, in best_match\r\n          return self.obtain(req, installer)\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 1087, in obtain\r\n          return installer(requirement)\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/dist.py\", line 956, in fetch_build_egg\r\n          return fetch_build_egg(self, req)\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/installer.py\", line 84, in fetch_build_egg\r\n          raise DistutilsError(str(e)) from e\r\n      distutils.errors.DistutilsError: Command '['/usr/local/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmpyfeyl2px', '--quiet', '--index-url', 'http://mirrors.cloud.aliyuncs.com/pypi/simple/', 'setuptools_scm']' returned non-zero exit status 1.\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\n× Encountered error while generating package metadata.\r\n╰─> See above for output.\r\n\r\nnote: This is an issue with the package mentioned above, not pip.\r\nhint: See above for details.\r\n\r\n```\r\n尝试使用pip安装 seqeval，报错\r\n信息如下\r\n```\r\nCollecting seqeval\r\n  Using cached http://mirrors.cloud.aliyuncs.com/pypi/packages/9d/2d/233c79d5b4e5ab1dbf111242299153f3caddddbb691219f363ad55ce783d/seqeval-1.2.2.tar.gz (43 kB)\r\n  Preparing metadata (setup.py) ... error\r\n  error: subprocess-exited-with-error\r\n  \r\n  × python setup.py egg_info did not run successfully.\r\n  │ exit code: 1\r\n  ╰─> [38 lines of output]\r\n      /usr/local/python39/lib/python3.9/site-packages/setuptools/dist.py:772: UserWarning: Usage of dash-separated 'index-url' will not be supported in future versions. Please use the underscore name 'index_url' instead\r\n        warnings.warn(\r\n      /usr/local/python39/lib/python3.9/site-packages/setuptools/installer.py:27: SetuptoolsDeprecationWarning: setuptools.installer is deprecated. Requirements should be satisfied by a PEP 517 installer.\r\n        warnings.warn(\r\n      WARNING: The repository located at mirrors.cloud.aliyuncs.com is not a trusted or secure host and is being ignored. If this repository is available via HTTPS we recommend you use HTTPS instead, otherwise you may silence this warning and allow it anyway with '--trusted-host mirrors.cloud.aliyuncs.com'.\r\n      ERROR: Could not find a version that satisfies the requirement setuptools_scm (from versions: none)\r\n      ERROR: No matching distribution found for setuptools_scm\r\n      Traceback (most recent call last):\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/installer.py\", line 82, in fetch_build_egg\r\n          subprocess.check_call(cmd)\r\n        File \"/usr/local/python39/lib/python3.9/subprocess.py\", line 373, in check_call\r\n          raise CalledProcessError(retcode, cmd)\r\n      subprocess.CalledProcessError: Command '['/usr/local/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmpodn5dybq', '--quiet', '--index-url', 'http://mirrors.cloud.aliyuncs.com/pypi/simple/', 'setuptools_scm']' returned non-zero exit status 1.\r\n      \r\n      The above exception was the direct cause of the following exception:\r\n      \r\n      Traceback (most recent call last):\r\n        File \"<string>\", line 2, in <module>\r\n        File \"<pip-setuptools-caller>\", line 34, in <module>\r\n        File \"/tmp/pip-install-2tfyws9t/seqeval_853eeb8988e64081b702b518c3cde70a/setup.py\", line 27, in <module>\r\n          setup(\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/__init__.py\", line 86, in setup\r\n          _install_setup_requires(attrs)\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/__init__.py\", line 80, in _install_setup_requires\r\n          dist.fetch_build_eggs(dist.setup_requires)\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/dist.py\", line 876, in fetch_build_eggs\r\n          resolved_dists = pkg_resources.working_set.resolve(\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 789, in resolve\r\n          dist = best[req.key] = env.best_match(\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 1075, in best_match\r\n          return self.obtain(req, installer)\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/pkg_resources/__init__.py\", line 1087, in obtain\r\n          return installer(requirement)\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/dist.py\", line 956, in fetch_build_egg\r\n          return fetch_build_egg(self, req)\r\n        File \"/usr/local/python39/lib/python3.9/site-packages/setuptools/installer.py\", line 84, in fetch_build_egg\r\n          raise DistutilsError(str(e)) from e\r\n      distutils.errors.DistutilsError: Command '['/usr/local/bin/python3', '-m', 'pip', '--disable-pip-version-check', 'wheel', '--no-deps', '-w', '/tmp/tmpodn5dybq', '--quiet', '--index-url', 'http://mirrors.cloud.aliyuncs.com/pypi/simple/', 'setuptools_scm']' returned non-zero exit status 1.\r\n      [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: metadata-generation-failed\r\n\r\n× Encountered error while generating package metadata.\r\n╰─> See above for output.\r\n\r\nnote: This is an issue with the package mentioned above, not pip.\r\nhint: See above for details.\r\n\r\n```\r\n尝试使用pip安装 metadata，报错\r\n信息如下：\r\n```\r\nCollecting metadata\r\n  Using cached http://mirrors.cloud.aliyuncs.com/pypi/packages/8a/2b/3982e589808af51d6e8d3f7ebb6c540005ad3466d1e4939e57d25cd1d3c0/metadata-0.2.tar.gz (1.5 kB)\r\n  Preparing metadata (setup.py) ... done\r\n  Using cached http://mirrors.cloud.aliyuncs.com/pypi/packages/cd/ae/bd9c209313be8d9f794089439246c667e82bc6770f306143f4cb88251294/metadata-0.1.1.tar.gz (1.5 kB)\r\n  Preparing metadata (setup.py) ... done\r\n  Using cached http://mirrors.cloud.aliyuncs.com/pypi/packages/72/d2/6b26fa0d9e0a43e6a1182c32bcc4e2854d3dc42b5bb3a61e882635bb910a/metadata-0.1.tar.gz (1.1 kB)\r\n  Preparing metadata (setup.py) ... done\r\nERROR: Cannot install metadata==0.1, metadata==0.1.1 and metadata==0.2 because these package versions have conflicting dependencies.\r\n\r\nThe conflict is caused by:\r\n    metadata 0.2 depends on hachoir-core==1.3.3\r\n    metadata 0.1.1 depends on hachoir-core==1.3.3\r\n    metadata 0.1 depends on hachoir-core==1.3.3\r\n\r\nTo fix this you could try to:\r\n1. loosen the range of package versions you've specified\r\n2. remove package versions to allow pip attempt to solve the dependency conflict\r\n\r\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts\r\n\r\n```",
        "state": "closed",
        "user": "ghost",
        "closed_by": "WYB27",
        "created_at": "2022-05-17T05:03:54+00:00",
        "updated_at": "2025-06-30T07:11:07+00:00",
        "closed_at": "2025-06-30T07:11:07+00:00",
        "comments_count": [
            "ghost",
            "KPatr1ck",
            "zoushanjun",
            "1731368213",
            "sutanglime",
            "zoushanjun",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1871,
        "title": "hub install ***出错",
        "body": "hub version: 2.2.0\r\nsystem: windows 10\r\ntools: pycharm 2021.2.2\r\n错误现象：我在pycharm中的terminal中使用hub install ABC,会出现：FileNotFoundError: [Errno 2] No such file or directory: 'ABC\\\\module.py'\r\n但是：但是我在系统中的cmd,使用hub install ABC，却是正确的\r\n错误原因: 经过我的仔细排查，我发现如果你的pycharm下存在你要安装的包名相同文件夹，就会发生此Bug,比如我要安装ABC,  hub install ABC, 我的pycharm项目下也存在这个ABC目录，则就会在paddlehub/commands/install.py 的第46行： if os.path.exists(_arg) and os.path.isdir(_arg):判断错误， 它返回的实际是我pycharm项目下的目录《Q:\\workspace_pycharm\\paddlehub_use\\ABC》存在，从而导致后续找不到《Q:\\workspace_pycharm\\paddlehub_use\\ABC\\module.py》\r\n![image](https://user-images.githubusercontent.com/44843774/168759326-5b1f5417-91e3-415d-96a3-205890744bfb.png)\r\n\r\n**避免此Bug的方法: 不要在项目下方放与要安装的模块名有相同的文件夹名**\r\n![image](https://user-images.githubusercontent.com/44843774/168760373-d832d137-079b-4046-81c4-d72cd6104b16.png)\r\n\r\n",
        "state": "closed",
        "user": "AndACat",
        "closed_by": "WYB27",
        "created_at": "2022-05-17T07:58:12+00:00",
        "updated_at": "2025-06-30T07:11:05+00:00",
        "closed_at": "2025-06-30T07:11:05+00:00",
        "comments_count": [
            "AndACat",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1874,
        "title": "PaddleHub + Gradio Blocks",
        "body": "Hi, PaddleHub models are on Hugging Face https://huggingface.co/PaddlePaddle using Gradio, it would be great if paddlepaddle developers can join the Gradio Blocks hackathon this month to build demos with paddlehub using Gradio Blocks or share with others who might be interested, thanks, link to hackathon: https://huggingface.co/Gradio-Blocks",
        "state": "closed",
        "user": "AK391",
        "closed_by": "AK391",
        "created_at": "2022-05-22T03:07:38+00:00",
        "updated_at": "2022-06-04T01:20:19+00:00",
        "closed_at": "2022-06-04T01:20:19+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1873,
        "title": "运行出现错误 信息 ",
        "body": "代码如下:\r\n# 1、导入模块\r\nimport os\r\nimport paddlehub as hub\r\n\r\n# 2\\加载模型\r\nhumanseg = hub.Module(name='deeplabv3p_xception65_humanseg')\r\n# 3、获取文件列表\r\npath = './heben/'    # 文件目录\r\n# 拼接图片路径\r\nfiles = [path + i for i in os.listdir(path)]\r\n# 抠图\r\nresults = humanseg.segmentation(data={'image': files})\r\nfor result in results:\r\n    print(result)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nFile \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 850, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\paddlehub\\__init__.py\", line 31, in <module>\r\n    from paddlehub import datasets\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\paddlehub\\datasets\\__init__.py\", line 16, in <module>\r\n    from paddlehub.datasets.chnsenticorp import ChnSentiCorp\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\paddlehub\\datasets\\chnsenticorp.py\", line 19, in <module>\r\n    from paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\paddlehub\\datasets\\base_nlp_dataset.py\", line 21, in <module>\r\n    import paddlenlp\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\paddlenlp\\__init__.py\", line 29, in <module>\r\n    from . import metrics\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\paddlenlp\\metrics\\__init__.py\", line 16, in <module>\r\n    from .chunk import ChunkEvaluator\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\paddlenlp\\metrics\\chunk.py\", line 6, in <module>\r\n    from seqeval.metrics.sequence_labeling import get_entities\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\seqeval\\metrics\\__init__.py\", line 1, in <module>\r\n    from seqeval.metrics.sequence_labeling import (accuracy_score,\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\seqeval\\metrics\\sequence_labeling.py\", line 14, in <module>\r\n    from seqeval.metrics.v1 import SCORES, _precision_recall_fscore_support\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\seqeval\\metrics\\v1.py\", line 5, in <module>\r\n    from sklearn.exceptions import UndefinedMetricWarning\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\sklearn\\__init__.py\", line 82, in <module>\r\n    from .base import clone\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\sklearn\\base.py\", line 17, in <module>\r\n    from .utils import _IS_32BIT\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\sklearn\\utils\\__init__.py\", line 29, in <module>\r\n    from .fixes import parse_version, threadpool_info\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\sklearn\\utils\\fixes.py\", line 19, in <module>\r\n    import scipy.stats\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\scipy\\stats\\__init__.py\", line 468, in <module>\r\n    from ._rvs_sampling import rvs_ratio_uniforms, NumericalInverseHermite  # noqa\r\n  File \"C:\\Users\\aaa\\AppData\\Roaming\\Python\\Python39\\site-packages\\scipy\\stats\\_rvs_sampling.py\", line 3, in <module>\r\n    from ._unuran import unuran_wrapper\r\n  File \"unuran_wrapper.pyx\", line 221, in init scipy.stats._unuran.unuran_wrapper\r\n  File \"unuran_wrapper.pyx\", line 200, in scipy.stats._unuran.unuran_wrapper._setup_unuran\r\n  File \"messagestream.pyx\", line 36, in scipy._lib.messagestream.MessageStream.__cinit__\r\nOSError: Failed to open file b'C:\\\\Users\\\\\\xe6\\x9d\\x8e\\xe6\\x98\\x93\\xe9\\xbe\\x99\\\\AppData\\\\Local\\\\Temp\\\\scipy-lxoegooh'",
        "state": "closed",
        "user": "hankssr",
        "closed_by": "WYB27",
        "created_at": "2022-05-20T16:28:31+00:00",
        "updated_at": "2025-06-30T07:11:03+00:00",
        "closed_at": "2025-06-30T07:11:03+00:00",
        "comments_count": [
            "KPatr1ck",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1872,
        "title": "paddlehub-系统找不到指定的文件",
        "body": "- 版本、环境信息\r\n1）paddlehub==2.2.0,paddlepaddle==2.3.0\r\n2）win10系统，python3.8.5\r\n\r\n在命令窗口输入hub，hub config，hub install deeplabv3p_xception65_humanseg==1.1.2，等命令，都会提示如下。\r\n\r\n> Traceback (most recent call last):\r\n  File \"c:\\users\\yi\\appdata\\local\\programs\\python\\python38\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"c:\\users\\yi\\appdata\\local\\programs\\python\\python38\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\YI\\AppData\\Local\\Programs\\Python\\Python38\\Scripts\\hub.exe\\__main__.py\", line 4, in <module>\r\n  File \"c:\\users\\yi\\appdata\\local\\programs\\python\\python38\\lib\\site-packages\\paddlehub\\__init__.py\", line 18, in <module>\r\n    import paddle\r\n  File \"c:\\users\\yi\\appdata\\local\\programs\\python\\python38\\lib\\site-packages\\paddle\\__init__.py\", line 71, in <module>\r\n    import paddle.dataset  # noqa: F401\r\n  File \"c:\\users\\yi\\appdata\\local\\programs\\python\\python38\\lib\\site-packages\\paddle\\dataset\\__init__.py\", line 27, in <module>\r\n    import paddle.dataset.flowers  # noqa: F401\r\n  File \"c:\\users\\yi\\appdata\\local\\programs\\python\\python38\\lib\\site-packages\\paddle\\dataset\\flowers.py\", line 39, in <module>\r\n    from paddle.dataset.image import load_image_bytes\r\n  File \"c:\\users\\yi\\appdata\\local\\programs\\python\\python38\\lib\\site-packages\\paddle\\dataset\\image.py\", line 48, in <module>\r\n    import_cv2_proc = subprocess.Popen(\r\n  File \"c:\\users\\yi\\appdata\\local\\programs\\python\\python38\\lib\\subprocess.py\", line 854, in __init__\r\n    self._execute_child(args, executable, preexec_fn, close_fds,\r\n  File \"c:\\users\\yi\\appdata\\local\\programs\\python\\python38\\lib\\subprocess.py\", line 1307, in _execute_child\r\n    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\r\nFileNotFoundError: [WinError 2] 系统找不到指定的文件。\r\n\r\n是安装不成功吗？有尝试过卸载重新部署。",
        "state": "closed",
        "user": "Arthurlyf",
        "closed_by": "Arthurlyf",
        "created_at": "2022-05-20T03:14:19+00:00",
        "updated_at": "2023-07-13T08:56:34+00:00",
        "closed_at": "2022-05-20T09:28:52+00:00",
        "comments_count": [
            "Arthurlyf",
            "dingqiaolin",
            "sshimii"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1875,
        "title": "如何将从paddleclas或paddledetection或者paddlex中训练好的模型导入paddlehub中呢",
        "body": "从paddlehub的教程中，只描述了如何创建自己的module等，但是好像没看到有关如何调用已训练好的模型文件，例如我已经在paddleclas、paddledetection、paddlex这三个套件中分别训练好了模型，请问我要怎么把我已经训练好的模型与module结合起来，使我已经训练好的模型能够使用hub serving进行服务化部署呢？\r\n我有尝试paddlehub的Fine-tune，但实在比较慢，用ResNet50做Fine-tune，需要74小时，而且教程中也没有写类似如何恢复训练的方法，而我的ai studio不支持我使用这么长时间的GPU环境，这是我提出该问题的原因",
        "state": "closed",
        "user": "shliar",
        "closed_by": "WYB27",
        "created_at": "2022-05-22T06:23:27+00:00",
        "updated_at": "2025-06-30T07:11:01+00:00",
        "closed_at": "2025-06-30T07:11:01+00:00",
        "comments_count": [
            "KPatr1ck",
            "shliar",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1878,
        "title": "predict_serving_v3 返回错位",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\npredict_serving_v3 方法返回结果msg和results错位\r\n错误位置 paddlehub\\serving\\http_server.py line:159 \r\n![image](https://user-images.githubusercontent.com/22512533/169970400-4b7b613a-18b6-4b0e-8442-6675b96cf3c0.png)\r\n",
        "state": "closed",
        "user": "shawnLang",
        "closed_by": "WYB27",
        "created_at": "2022-05-24T07:12:06+00:00",
        "updated_at": "2025-06-30T07:10:57+00:00",
        "closed_at": "2025-06-30T07:10:57+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1877,
        "title": "PaddleHub 识别出来的，能否直接调用，不要保存图片，然后再读取图片",
        "body": "PaddleHub 识别出来的\r\n我看有自带的画框 能返回带框的图像\r\n\r\n\r\n能否直接调用\r\n\r\n不要保存图片到本地，然后再本地读取图片",
        "state": "closed",
        "user": "monkeycc",
        "closed_by": "WYB27",
        "created_at": "2022-05-24T03:29:22+00:00",
        "updated_at": "2025-06-30T07:10:59+00:00",
        "closed_at": "2025-06-30T07:10:59+00:00",
        "comments_count": [
            "matakk",
            "lishuai199502",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1885
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1882,
        "title": "安装完了下面这个错误见面么，新安装的centos7 系统。",
        "body": "安装完了下面这个错误见面么，新安装的centos7 系统。\r\n![image](https://user-images.githubusercontent.com/26525599/170184542-c9fbf1ba-22f3-40fa-ba6c-fdc95cfe9ce9.png)\r\nImportError: /lib64/libstdc++.so.6: version `CXXABI_1.3.8' not found (required by /usr/local/python3/lib/python3.8/site-packages/paddle/fluid/core_avx.so)\r\n",
        "state": "closed",
        "user": "bbhxwl",
        "closed_by": "WYB27",
        "created_at": "2022-05-25T05:12:12+00:00",
        "updated_at": "2025-06-30T07:10:53+00:00",
        "closed_at": "2025-06-30T07:10:53+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1881,
        "title": "词法分析中的两个介绍好像写反了",
        "body": "词法分析中的两个介绍好像写反了",
        "state": "closed",
        "user": "PeiGuijun",
        "closed_by": "WYB27",
        "created_at": "2022-05-25T01:11:27+00:00",
        "updated_at": "2025-06-30T07:10:55+00:00",
        "closed_at": "2025-06-30T07:10:55+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1883,
        "title": "ace2p model does not support GPU inference",
        "body": "Paddle version: 2.3.0-gpu\r\nHub version: 2.2.0\r\nAce2p version: 1.1.0\r\n\r\ncode:\r\nimport paddlehub as hub\r\nhuman_parser = hub.Module(name=\"ace2p\")\r\nresult = human_parser.segmentation(images=[cv2.imread('file.png')], use_gpu=True)\r\n\r\nerror:\r\nACE2P object has no attribute 'gpu_predictor'",
        "state": "closed",
        "user": "skunkwerk",
        "closed_by": "WYB27",
        "created_at": "2022-05-25T23:42:28+00:00",
        "updated_at": "2025-06-30T07:10:51+00:00",
        "closed_at": "2025-06-30T07:10:51+00:00",
        "comments_count": [
            "haoyuying",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1886,
        "title": "请问报这个错误怎么回事",
        "body": "发生异常: ImportError\r\nDLL load failed while importing shell: 找不到指定的程序。\r\n  File \"C:\\Users\\Administrator\\.paddlehub\\modules\\fastspeech2_baker\\module.py\", line 24, in <module>\r\n    from parakeet.frontend.zh_frontend import Frontend\r\n  File \"F:\\PY工程\\文字转语音.py\", line 6, in <module>\r\n    model = hub.Module(",
        "state": "closed",
        "user": "QL-AR",
        "closed_by": "WYB27",
        "created_at": "2022-05-30T09:46:46+00:00",
        "updated_at": "2025-06-30T07:10:47+00:00",
        "closed_at": "2025-06-30T07:10:47+00:00",
        "comments_count": [
            "QL-AR",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1884,
        "title": "mac M1 安装paddlehub出错！！！   表示很折磨，望各位大佬指点一二～",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）python环境3.8和3.9都尝试过。\r\n安装命令如下，顺序执行。安装paddlepaddle成功，安装paddlehub失败。【也尝试过用pycharm中手动安装，paddlehub依然无法安装】\r\n`!pip install --upgrade paddlepaddle -i https://mirror.baidu.com/pypi/simple\r\n!pip install --upgrade paddlehub -i https://mirror.baidu.com/pypi/simple`\r\n2）系统环境：macBook m1pro。\r\n3)  报错信息如下：\r\n`Collecting platformdirs<3,>=2\r\n  Using cached https://mirror.baidu.com/pypi/packages/ed/22/967181c94c3a4063fe64e15331b4cb366bdd7dfbf46fcb8ad89650026fec/platformdirs-2.5.2-py3-none-any.whl (14 kB)\r\nCollecting scikit-learn>=0.21.3\r\n  Downloading https://mirror.baidu.com/pypi/packages/0f/ae/9d01b5419ae47a429215ff1135118503ae3d119e14b73ae7596ddc1cdf03/scikit_learn-1.1.1-cp38-cp38-macosx_12_0_arm64.whl (7.6 MB)\r\n     |████████████████████████████████| 7.6 MB 1.9 MB/s \r\nCollecting joblib>=1.0.0\r\n  Using cached https://mirror.baidu.com/pypi/packages/3e/d5/0163eb0cfa0b673aa4fe1cd3ea9d8a81ea0f32e50807b0c295871e4aab2e/joblib-1.1.0-py2.py3-none-any.whl (306 kB)\r\nCollecting scipy>=1.3.2\r\n  Downloading https://mirror.baidu.com/pypi/packages/dc/76/239ef199165e234b6422822873e00544a83da5e457db63302f592380b16c/scipy-1.8.1-cp38-cp38-macosx_12_0_arm64.whl (28.6 MB)\r\n     |████████████████████████████████| 28.6 MB 2.2 MB/s \r\nCollecting threadpoolctl>=2.0.0\r\n  Using cached https://mirror.baidu.com/pypi/packages/61/cf/6e354304bcb9c6413c4e02a747b600061c21d38ba51e7e544ac7bc66aecc/threadpoolctl-3.1.0-py3-none-any.whl (14 kB)\r\nBuilding wheels for collected packages: onnx, pyyaml, bce-python-sdk, future, pycryptodome, easydict, jieba, pyzmq, sentencepiece, seqeval, shellcheck-py\r\n  Building wheel for onnx (PEP 517) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /Users/xilongyuan/opt/anaconda3/envs/my_python_env/bin/python /Users/xilongyuan/opt/anaconda3/envs/my_python_env/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py build_wheel /var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/tmptj24o15z\r\n       cwd: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/onnx_8505a113c4b14037ac2558a5c210cb8d\r\n  Complete output (93 lines):\r\n  fatal: not a git repository (or any of the parent directories): .git\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  running create_version\r\n  running cmake_build\r\n  Using cmake args: ['/usr/local/bin/cmake', '-DPYTHON_INCLUDE_DIR=/Users/xilongyuan/opt/anaconda3/envs/my_python_env/include/python3.8', '-DPYTHON_EXECUTABLE=/Users/xilongyuan/opt/anaconda3/envs/my_python_env/bin/python', '-DBUILD_ONNX_PYTHON=ON', '-DCMAKE_EXPORT_COMPILE_COMMANDS=ON', '-DONNX_NAMESPACE=onnx', '-DPY_EXT_SUFFIX=.cpython-38-darwin.so', '-DCMAKE_BUILD_TYPE=Release', '-DONNX_ML=1', '/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/onnx_8505a113c4b14037ac2558a5c210cb8d']\r\n  -- The C compiler identification is AppleClang 13.1.6.13160021\r\n  -- The CXX compiler identification is AppleClang 13.1.6.13160021\r\n  -- Detecting C compiler ABI info\r\n  -- Detecting C compiler ABI info - done\r\n  -- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc - skipped\r\n  -- Detecting C compile features\r\n  -- Detecting C compile features - done\r\n  -- Detecting CXX compiler ABI info\r\n  -- Detecting CXX compiler ABI info - done\r\n  -- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ - skipped\r\n  -- Detecting CXX compile features\r\n  -- Detecting CXX compile features - done\r\n  -- Found PythonInterp: /Users/xilongyuan/opt/anaconda3/envs/my_python_env/bin/python (found version \"3.8.13\")\r\n  -- Found PythonLibs: /Users/xilongyuan/opt/anaconda3/envs/my_python_env/lib/libpython3.8.dylib (found version \"3.8.13\")\r\n  Generated: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/onnx_8505a113c4b14037ac2558a5c210cb8d/.setuptools-cmake-build/onnx/onnx-ml.proto\r\n  CMake Error at CMakeLists.txt:292 (message):\r\n    Protobuf compiler not found\r\n  Call Stack (most recent call first):\r\n    CMakeLists.txt:323 (relative_protobuf_generate_cpp)\r\n  \r\n  \r\n  -- Configuring incomplete, errors occurred!\r\n  See also \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/onnx_8505a113c4b14037ac2558a5c210cb8d/.setuptools-cmake-build/CMakeFiles/CMakeOutput.log\".\r\n  See also \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/onnx_8505a113c4b14037ac2558a5c210cb8d/.setuptools-cmake-build/CMakeFiles/CMakeError.log\".\r\n  /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/dist.py:772: UserWarning: Usage of dash-separated 'license-file' will not be supported in future versions. Please use the underscore name 'license_file' instead\r\n    warnings.warn(\r\n  /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/config/setupcfg.py:459: SetuptoolsDeprecationWarning: The license_file parameter is deprecated, use license_files instead.\r\n    warnings.warn(msg, warning_class)\r\n  Traceback (most recent call last):\r\n    File \"/Users/xilongyuan/opt/anaconda3/envs/my_python_env/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 349, in <module>\r\n      main()\r\n    File \"/Users/xilongyuan/opt/anaconda3/envs/my_python_env/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 331, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n    File \"/Users/xilongyuan/opt/anaconda3/envs/my_python_env/lib/python3.8/site-packages/pip/_vendor/pep517/in_process/_in_process.py\", line 248, in build_wheel\r\n      return _build_backend().build_wheel(wheel_directory, config_settings,\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 244, in build_wheel\r\n      return self._build_with_temp_dir(['bdist_wheel'], '.whl',\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 229, in _build_with_temp_dir\r\n      self.run_setup()\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 281, in run_setup\r\n      super(_BuildMetaLegacyBackend,\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/build_meta.py\", line 174, in run_setup\r\n      exec(compile(code, __file__, 'exec'), locals())\r\n    File \"setup.py\", line 337, in <module>\r\n      setuptools.setup(\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/__init__.py\", line 87, in setup\r\n      return distutils.core.setup(**attrs)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/core.py\", line 148, in setup\r\n      return run_commands(dist)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/core.py\", line 163, in run_commands\r\n      dist.run_commands()\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 967, in run_commands\r\n      self.run_command(cmd)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/dist.py\", line 1229, in run_command\r\n      super().run_command(command)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 986, in run_command\r\n      cmd_obj.run()\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/wheel/bdist_wheel.py\", line 299, in run\r\n      self.run_command('build')\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/dist.py\", line 1229, in run_command\r\n      super().run_command(command)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 986, in run_command\r\n      cmd_obj.run()\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/command/build.py\", line 136, in run\r\n      self.run_command(cmd_name)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/dist.py\", line 1229, in run_command\r\n      super().run_command(command)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 986, in run_command\r\n      cmd_obj.run()\r\n    File \"setup.py\", line 233, in run\r\n      self.run_command('cmake_build')\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/cmd.py\", line 313, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/dist.py\", line 1229, in run_command\r\n      super().run_command(command)\r\n    File \"/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-build-env-sq9j6y7y/overlay/lib/python3.8/site-packages/setuptools/_distutils/dist.py\", line 986, in run_command\r\n      cmd_obj.run()\r\n    File \"setup.py\", line 219, in run\r\n      subprocess.check_call(cmake_args)\r\n    File \"/Users/xilongyuan/opt/anaconda3/envs/my_python_env/lib/python3.8/subprocess.py\", line 364, in check_call\r\n      raise CalledProcessError(retcode, cmd)\r\n  subprocess.CalledProcessError: Command '['/usr/local/bin/cmake', '-DPYTHON_INCLUDE_DIR=/Users/xilongyuan/opt/anaconda3/envs/my_python_env/include/python3.8', '-DPYTHON_EXECUTABLE=/Users/xilongyuan/opt/anaconda3/envs/my_python_env/bin/python', '-DBUILD_ONNX_PYTHON=ON', '-DCMAKE_EXPORT_COMPILE_COMMANDS=ON', '-DONNX_NAMESPACE=onnx', '-DPY_EXT_SUFFIX=.cpython-38-darwin.so', '-DCMAKE_BUILD_TYPE=Release', '-DONNX_ML=1', '/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/onnx_8505a113c4b14037ac2558a5c210cb8d']' returned non-zero exit status 1.\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for onnx\r\n  Building wheel for pyyaml (PEP 517) ... done\r\n  Created wheel for pyyaml: filename=PyYAML-6.0-cp38-cp38-macosx_11_0_arm64.whl size=45336 sha256=c2efca1fb128cc88d6a9d5b7ffcf973b410d38dfd28e0cc4000a9db181de5292\r\n  Stored in directory: /Users/xilongyuan/Library/Caches/pip/wheels/4c/d1/99/5764153d21fcc5482942956a9e84b11c49b72a70d68ba9a82f\r\n  Building wheel for bce-python-sdk (setup.py) ... done\r\n  Created wheel for bce-python-sdk: filename=bce_python_sdk-0.8.64-py3-none-any.whl size=202973 sha256=46c41e2d98c136f978f4f172702a445c0a7554962d78684385e6cd1341dc66f2\r\n  Stored in directory: /Users/xilongyuan/Library/Caches/pip/wheels/e4/da/88/302e8713bb419930687c4ffb5a68425f58b71553a4ba08a252\r\n  Building wheel for future (setup.py) ... done\r\n  Created wheel for future: filename=future-0.18.2-py3-none-any.whl size=491070 sha256=bf9d495271a73bd4c43d7ce2bfe476950bda9f5a04d994784636c3488f6c1b8a\r\n  Stored in directory: /Users/xilongyuan/Library/Caches/pip/wheels/bb/b4/25/d4ed0b0183f33df9bdfb686bbb497a8e991dc982f1dc769246\r\n  Building wheel for pycryptodome (setup.py) ... done\r\n  Created wheel for pycryptodome: filename=pycryptodome-3.14.1-cp35-abi3-macosx_11_0_arm64.whl size=1492038 sha256=55c66788eae374c4ad79ed90ae1240862cba45787abdda406f39cf4932003dbc\r\n  Stored in directory: /Users/xilongyuan/Library/Caches/pip/wheels/94/68/18/0d1e0b81a7e2c922bc4ebd27ba72497a162ea223499f6e4c14\r\n  Building wheel for easydict (setup.py) ... done\r\n  Created wheel for easydict: filename=easydict-1.9-py3-none-any.whl size=6360 sha256=4314fbc828c288b7fe2571bba347f2300f9d50190024ea0ec032c3cb7ca1a9ad\r\n  Stored in directory: /Users/xilongyuan/Library/Caches/pip/wheels/59/72/8c/44c1d450d0904b407eb66e9c52a350f60793104e181bc66f38\r\n  Building wheel for jieba (setup.py) ... done\r\n  Created wheel for jieba: filename=jieba-0.42.1-py3-none-any.whl size=19314478 sha256=e2b3df942fcbabfb2ebb2ed577f65dee29af204090e2b1e3d16d37526e31e39c\r\n  Stored in directory: /Users/xilongyuan/Library/Caches/pip/wheels/05/dc/ba/f944581209d5484a10b6a1a517832e77c26ee1d06237c60307\r\n  Building wheel for pyzmq (PEP 517) ... done\r\n  Created wheel for pyzmq: filename=pyzmq-23.0.0-cp38-cp38-macosx_11_0_arm64.whl size=766774 sha256=1cdca72d6ad4512171a924c67bad77544b9aad916a6c014e9f5155bd743dce45\r\n  Stored in directory: /Users/xilongyuan/Library/Caches/pip/wheels/0b/30/45/debfd6cdd2dd65c65ee57617308cc80958c7930bf60313b2ce\r\n  Building wheel for sentencepiece (setup.py) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /Users/xilongyuan/opt/anaconda3/envs/my_python_env/bin/python -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-wheel-ytvnoxgb\r\n       cwd: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/\r\n  Complete output (162 lines):\r\n  /Users/xilongyuan/opt/anaconda3/envs/my_python_env/lib/python3.8/site-packages/setuptools/dist.py:757: UserWarning: Usage of dash-separated 'description-file' will not be supported in future versions. Please use the underscore name 'description_file' instead\r\n    warnings.warn(\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  creating build\r\n  creating build/lib.macosx-11.1-arm64-3.8\r\n  creating build/lib.macosx-11.1-arm64-3.8/sentencepiece\r\n  copying src/sentencepiece/__init__.py -> build/lib.macosx-11.1-arm64-3.8/sentencepiece\r\n  copying src/sentencepiece/sentencepiece_model_pb2.py -> build/lib.macosx-11.1-arm64-3.8/sentencepiece\r\n  copying src/sentencepiece/sentencepiece_pb2.py -> build/lib.macosx-11.1-arm64-3.8/sentencepiece\r\n  running build_ext\r\n  /bin/sh: pkg-config: command not found\r\n  Cloning into 'sentencepiece'...\r\n  Note: switching to 'd8711f55d9b2cb9c77a00adcc18108482b29b675'.\r\n  \r\n  You are in 'detached HEAD' state. You can look around, make experimental\r\n  changes and commit them, and you can discard any commits you make in this\r\n  state without impacting any branches by switching back to a branch.\r\n  \r\n  If you want to create a new branch to retain commits you create, you may\r\n  do so (now or later) by using -c with the switch command. Example:\r\n  \r\n    git switch -c <new-branch-name>\r\n  \r\n  Or undo this operation with:\r\n  \r\n    git switch -\r\n  \r\n  Turn off this advice by setting config variable advice.detachedHead to false\r\n  \r\n  -- VERSION: 0.1.96\r\n  -- The C compiler identification is AppleClang 13.1.6.13160021\r\n  -- The CXX compiler identification is AppleClang 13.1.6.13160021\r\n  -- Detecting C compiler ABI info\r\n  -- Detecting C compiler ABI info - done\r\n  -- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc - skipped\r\n  -- Detecting C compile features\r\n  -- Detecting C compile features - done\r\n  -- Detecting CXX compiler ABI info\r\n  -- Detecting CXX compiler ABI info - done\r\n  -- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ - skipped\r\n  -- Detecting CXX compile features\r\n  -- Detecting CXX compile features - done\r\n  -- Looking for pthread.h\r\n  -- Looking for pthread.h - found\r\n  -- Performing Test CMAKE_HAVE_LIBC_PTHREAD\r\n  -- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Success\r\n  -- Found Threads: TRUE\r\n  -- Not Found TCMalloc: TCMALLOC_LIB-NOTFOUND\r\n  -- Configuring done\r\n  -- Generating done\r\n  -- Build files have been written to: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/sentencepiece/build\r\n  ./build_bundled.sh: line 16: nproc: command not found\r\n  [  3%] Building CXX object src/CMakeFiles/sentencepiece_train-static.dir/unigram_model_trainer.cc.o\r\n  [  1%] Building CXX object src/CMakeFiles/sentencepiece_train-static.dir/unicode_script.cc.o\r\n  [  4%] Building CXX object src/CMakeFiles/sentencepiece_train-static.dir/trainer_interface.cc.o\r\n  [  6%] Building CXX object src/CMakeFiles/sentencepiece_train-static.dir/builder.cc.o\r\n  [  7%] Building CXX object src/CMakeFiles/sentencepiece_train-static.dir/word_model_trainer.cc.o\r\n  [  9%] Building CXX object src/CMakeFiles/sentencepiece_train-static.dir/char_model_trainer.cc.o\r\n  [ 11%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/extension_set.cc.o\r\n  [ 14%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/bytestream.cc.o\r\n  [ 14%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/arenastring.cc.o\r\n  [ 15%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/arena.cc.o\r\n  [ 19%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/common.cc.o\r\n  [ 19%] Building CXX object src/CMakeFiles/sentencepiece_train-static.dir/trainer_factory.cc.o\r\n  [ 20%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/implicit_weak_message.cc.o\r\n  [ 22%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/coded_stream.cc.o\r\n  [ 23%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/generated_enum_util.cc.o\r\n  [ 25%] Building CXX object src/CMakeFiles/sentencepiece_train-static.dir/pretokenizer_for_training.cc.o\r\n  [ 26%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/generated_message_util.cc.o\r\n  [ 28%] Building CXX object src/CMakeFiles/sentencepiece_train-static.dir/bpe_model_trainer.cc.o\r\n  [ 30%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/io_win32.cc.o\r\n  [ 31%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/generated_message_table_driven_lite.cc.o\r\n  [ 33%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/parse_context.cc.o\r\n  [ 36%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/repeated_field.cc.o\r\n  [ 36%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/int128.cc.o\r\n  [ 38%] Building CXX object src/CMakeFiles/sentencepiece_train-static.dir/sentencepiece_trainer.cc.o\r\n  [ 39%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/time.cc.o\r\n  [ 41%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/message_lite.cc.o\r\n  [ 42%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/strutil.cc.o\r\n  [ 44%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/status.cc.o\r\n  [ 46%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/statusor.cc.o\r\n  [ 47%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/stringprintf.cc.o\r\n  [ 49%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/structurally_valid.cc.o\r\n  [ 50%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/stringpiece.cc.o\r\n  [ 52%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/zero_copy_stream_impl_lite.cc.o\r\n  [ 55%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/zero_copy_stream.cc.o\r\n  [ 55%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/wire_format_lite.cc.o\r\n  [ 57%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/protobuf-lite/zero_copy_stream_impl.cc.o\r\n  [ 58%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/builtin_pb/sentencepiece.pb.cc.o\r\n  [ 60%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/error.cc.o\r\n  [ 61%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/bpe_model.cc.o\r\n  [ 63%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/filesystem.cc.o\r\n  [ 66%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/model_factory.cc.o\r\n  [ 65%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/builtin_pb/sentencepiece_model.pb.cc.o\r\n  [ 68%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/char_model.cc.o\r\n  [ 69%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/model_interface.cc.o\r\n  [ 71%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/normalizer.cc.o\r\n  [ 73%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/util.cc.o\r\n  [ 74%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/absl/strings/string_view.cc.o\r\n  [ 76%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/__/third_party/absl/flags/flag.cc.o\r\n  [ 77%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/sentencepiece_processor.cc.o\r\n  [ 80%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/unigram_model.cc.o\r\n  [ 80%] Building CXX object src/CMakeFiles/sentencepiece-static.dir/word_model.cc.o\r\n  /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/sentencepiece/src/builder.cc:46:15: warning: unused variable 'kMaxUnicode' [-Wunused-const-variable]\r\n  constexpr int kMaxUnicode = 0x10FFFF;\r\n                ^\r\n  /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/sentencepiece/src/builder.cc:48:23: warning: unused variable 'kDefaultNormalizerName' [-Wunused-const-variable]\r\n  static constexpr char kDefaultNormalizerName[] = \"nfkc\";\r\n                        ^\r\n  2 warnings generated.\r\n  [ 82%] Linking CXX static library libsentencepiece.a\r\n  /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: libsentencepiece.a(io_win32.cc.o) has no symbols\r\n  /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: libsentencepiece.a(io_win32.cc.o) has no symbols\r\n  [ 82%] Built target sentencepiece-static\r\n  [ 87%] Building CXX object src/CMakeFiles/spm_export_vocab.dir/spm_export_vocab_main.cc.o\r\n  [ 87%] Building CXX object src/CMakeFiles/spm_encode.dir/spm_encode_main.cc.o\r\n  [ 87%] Building CXX object src/CMakeFiles/spm_decode.dir/spm_decode_main.cc.o\r\n  [ 88%] Linking CXX executable spm_export_vocab\r\n  [ 88%] Built target spm_export_vocab\r\n  [ 90%] Linking CXX static library libsentencepiece_train.a\r\n  [ 90%] Built target sentencepiece_train-static\r\n  [ 93%] Building CXX object src/CMakeFiles/spm_train.dir/spm_train_main.cc.o\r\n  [ 93%] Building CXX object src/CMakeFiles/spm_normalize.dir/spm_normalize_main.cc.o\r\n  [ 95%] Linking CXX executable spm_decode\r\n  [ 95%] Built target spm_decode\r\n  [ 96%] Linking CXX executable spm_encode\r\n  [ 98%] Linking CXX executable spm_normalize\r\n  [ 98%] Built target spm_encode\r\n  [100%] Linking CXX executable spm_train\r\n  [100%] Built target spm_normalize\r\n  [100%] Built target spm_train\r\n  Consolidate compiler generated dependencies of target sentencepiece-static\r\n  [ 66%] Built target sentencepiece-static\r\n  Consolidate compiler generated dependencies of target sentencepiece_train-static\r\n  [ 84%] Built target sentencepiece_train-static\r\n  Consolidate compiler generated dependencies of target spm_encode\r\n  [ 87%] Built target spm_encode\r\n  Consolidate compiler generated dependencies of target spm_decode\r\n  [ 90%] Built target spm_decode\r\n  Consolidate compiler generated dependencies of target spm_normalize\r\n  [ 93%] Built target spm_normalize\r\n  Consolidate compiler generated dependencies of target spm_train\r\n  [ 96%] Built target spm_train\r\n  Consolidate compiler generated dependencies of target spm_export_vocab\r\n  [100%] Built target spm_export_vocab\r\n  Install the project...\r\n  -- Install configuration: \"\"\r\n  -- Installing: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/lib/pkgconfig/sentencepiece.pc\r\n  -- Installing: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/lib/libsentencepiece.a\r\n  /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ranlib: file: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/lib/libsentencepiece.a(io_win32.cc.o) has no symbols\r\n  -- Installing: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/lib/libsentencepiece_train.a\r\n  -- Installing: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/bin/spm_encode\r\n  -- Installing: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/bin/spm_decode\r\n  -- Installing: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/bin/spm_normalize\r\n  -- Installing: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/bin/spm_train\r\n  -- Installing: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/bin/spm_export_vocab\r\n  -- Installing: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/include/sentencepiece_trainer.h\r\n  -- Installing: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/sentencepiece_ab9337508aef4253a8bc547f72eb47ae/bundled/include/sentencepiece_processor.h\r\n  env: pkg-config: No such file or directory\r\n  Failed to find sentencepiece pkg-config\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for sentencepiece\r\n  Running setup.py clean for sentencepiece\r\n  Building wheel for seqeval (setup.py) ... done\r\n  Created wheel for seqeval: filename=seqeval-1.2.2-py3-none-any.whl size=16180 sha256=436c7a1f1ab00bd6b1734beb2a5756a814d08b39bd9c44369bcae6ce5b7c0b11\r\n  Stored in directory: /Users/xilongyuan/Library/Caches/pip/wheels/7c/c8/fc/e48d82a46f498df175b24a2a6901019c392926495959372732\r\n  Building wheel for shellcheck-py (setup.py) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /Users/xilongyuan/opt/anaconda3/envs/my_python_env/bin/python -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/shellcheck-py_1676d9d9396042a89d2f21e6d980c46e/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/shellcheck-py_1676d9d9396042a89d2f21e6d980c46e/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-wheel-cjjhqu7l\r\n       cwd: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-4j9n75nd/shellcheck-py_1676d9d9396042a89d2f21e6d980c46e/\r\n  Complete output (4 lines):\r\n  running bdist_wheel\r\n  running build\r\n  running fetch_binaries\r\n  error: Remote end closed connection without response\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for shellcheck-py\r\n  Running setup.py clean for shellcheck-py\r\nSuccessfully built pyyaml bce-python-sdk future pycryptodome easydict jieba pyzmq seqeval\r\nFailed to build onnx sentencepiece shellcheck-py\r\nERROR: Could not build wheels for onnx which use PEP 517 and cannot be installed directly\r\n(my_python_env) xilongyuan@XilongdeMacBook-Pro my-anaconda % pip --trusted-host https://mirror.baidu.com/pypi/simple install shellcheck-py\r\nCollecting shellcheck-py\r\n  Using cached shellcheck_py-0.8.0.4.tar.gz (4.2 kB)\r\nBuilding wheels for collected packages: shellcheck-py\r\n  Building wheel for shellcheck-py (setup.py) ... error\r\n  ERROR: Command errored out with exit status 1:\r\n   command: /Users/xilongyuan/opt/anaconda3/envs/my_python_env/bin/python -u -c 'import io, os, sys, setuptools, tokenize; sys.argv[0] = '\"'\"'/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-__zeqigy/shellcheck-py_c17f37c4b18a4138867a159915065a24/setup.py'\"'\"'; __file__='\"'\"'/private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-__zeqigy/shellcheck-py_c17f37c4b18a4138867a159915065a24/setup.py'\"'\"';f = getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__) if os.path.exists(__file__) else io.StringIO('\"'\"'from setuptools import setup; setup()'\"'\"');code = f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-wheel-rx3lrrv4\r\n       cwd: /private/var/folders/47/n1ztkz553rgbn6dgp5lxq2_m0000gn/T/pip-install-__zeqigy/shellcheck-py_c17f37c4b18a4138867a159915065a24/\r\n  Complete output (4 lines):\r\n  running bdist_wheel\r\n  running build\r\n  running fetch_binaries\r\n  error: Remote end closed connection without response\r\n  ----------------------------------------\r\n  ERROR: Failed building wheel for shellcheck-py`\r\n",
        "state": "closed",
        "user": "yoeaki",
        "closed_by": "WYB27",
        "created_at": "2022-05-27T04:47:46+00:00",
        "updated_at": "2025-06-30T07:10:49+00:00",
        "closed_at": "2025-06-30T07:10:49+00:00",
        "comments_count": [
            "yoeaki",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 1892
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1887,
        "title": "Hub lac serving没有返回Tag结果",
        "body": "## 基本信息：\r\n- Mac 12.4\r\n- python = \"^3.8.9\"\r\n- paddlepaddle = \"2.3.0\"\r\n- paddlehub = {version = \"^2.2.0\", source = \"baidu\"}\r\n- protobuf = {version = \"3.20.1\", source = \"baidu\"}\r\n- pyahocorasick = {version = \"^1.4.4\", source = \"baidu\"}\r\n- paddlenlp = {version = \"^2.1.0\", source = \"baidu\"}\r\n\r\n## 错误描述：\r\n### 使用paddlehub部署模型正常\r\n<img width=\"783\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5873098/171132906-46b33626-1592-43e5-b0db-428085bcb6b2.png\">\r\n\r\n### 命令调用模型返回结果正常\r\n<img width=\"1202\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5873098/171133170-e327f93b-8038-4323-8c2e-3712b34749df.png\">\r\n\r\n### 代码调用模型返回结果正常\r\n`import paddlehub as hub\r\n\r\nlac = hub.Module(name=\"lac\")\r\ntest_text = [\"今天是个好日子\", \"天气预报说今天要下雨\", \"下一班地铁马上就要到了\"]\r\n\r\nresults = lac.lexical_analysis(\r\n    texts=test_text, use_gpu=False, batch_size=1, return_tag=True)\r\n\r\nfor result in results:\r\n    print(result['word'])\r\n    print(result['tag'])`\r\n\r\n<img width=\"1206\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5873098/171133479-e344d2ba-4731-4bc5-af76-ab6b2eb83728.png\">\r\n\r\n### POST API返回结果没有**Tag**内容\r\n<img width=\"912\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5873098/171133860-b7649974-4d5f-4a16-97c6-0cc714a94692.png\">\r\n\r\n希望能够支持POST API返回内容支持Tag的内容，谢谢\r\n",
        "state": "closed",
        "user": "tomhans2",
        "closed_by": "WYB27",
        "created_at": "2022-05-31T08:54:48+00:00",
        "updated_at": "2025-06-30T07:10:45+00:00",
        "closed_at": "2025-06-30T07:10:45+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1888,
        "title": "paddlehub安装成功却无法使用",
        "body": "\r\n**报错信息如下：**\r\n\r\n\r\n>>> import paddlehub\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/setuptools/depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/util/nest.py:1286: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  _pywrap_tensorflow.RegisterType(\"Mapping\", _collections.Mapping)\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/util/nest.py:1287: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  _pywrap_tensorflow.RegisterType(\"Sequence\", _collections.Sequence)\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/training/tracking/object_identity.py:61: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  class ObjectIdentityDictionary(collections.MutableMapping):\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/training/tracking/object_identity.py:112: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  class ObjectIdentitySet(collections.MutableSet):\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorflow/python/training/tracking/data_structures.py:374: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  class _ListWrapper(List, collections.MutableSequence,\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:541: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:542: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:543: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:544: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:545: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/Users/xiao77/anaconda3/lib/python3.7/site-packages/tensorboard/compat/tensorflow_stub/dtypes.py:550: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/site-packages/paddlehub/__init__.py\", line 31, in <module>\r\n    from paddlehub import datasets\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/site-packages/paddlehub/datasets/__init__.py\", line 16, in <module>\r\n    from paddlehub.datasets.chnsenticorp import ChnSentiCorp\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/site-packages/paddlehub/datasets/chnsenticorp.py\", line 19, in <module>\r\n    from paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/site-packages/paddlehub/datasets/base_nlp_dataset.py\", line 21, in <module>\r\n    import paddlenlp\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/site-packages/paddlenlp/__init__.py\", line 25, in <module>\r\n    from . import datasets\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/site-packages/paddlenlp/datasets/__init__.py\", line 15, in <module>\r\n    from .dataset import *\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/site-packages/paddlenlp/datasets/dataset.py\", line 27, in <module>\r\n    import datasets\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/site-packages/datasets/__init__.py\", line 37, in <module>\r\n    from .arrow_dataset import Dataset, concatenate_datasets\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/site-packages/datasets/arrow_dataset.py\", line 59, in <module>\r\n    from . import config\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/site-packages/datasets/config.py\", line 66, in <module>\r\n    TF_AVAILABLE = importlib.util.find_spec(\"tensorflow\") is not None\r\n  File \"/Users/xiao77/anaconda3/lib/python3.7/importlib/util.py\", line 114, in find_spec\r\n    raise ValueError('{}.__spec__ is None'.format(name))\r\nValueError: tensorflow.__spec__ is None\r\n\r\n\r\n\r\n\r\n确实已经安装：\r\n\r\nshow paddlehub\r\nName: paddlehub\r\nVersion: 2.2.0\r\nSummary: A toolkit for managing pretrained models of PaddlePaddle and helping user getting started with transfer learning more efficiently.\r\nHome-page: https://github.com/PaddlePaddle/PaddleHub\r\nAuthor: PaddlePaddle Author\r\nAuthor-email: UNKNOWN\r\nLicense: Apache 2.0\r\nLocation: /Users/xiao77/anaconda3/lib/python3.7/site-packages\r\nRequires: colorama, colorlog, easydict, filelock, flask, gunicorn, matplotlib, numpy, opencv-python, packaging, paddle2onnx, paddlenlp, Pillow, pyyaml, pyzmq, rarfile, tqdm, visualdl\r\nRequired-by:\r\n\r\n",
        "state": "closed",
        "user": "huluwa997",
        "closed_by": "WYB27",
        "created_at": "2022-06-07T10:24:17+00:00",
        "updated_at": "2025-06-30T07:10:41+00:00",
        "closed_at": "2025-06-30T07:10:41+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1889,
        "title": "paddlehub载入u2_conformer_wenetspeech失败",
        "body": "### 请提出你的问题 Please ask your question\n\n![image](https://user-images.githubusercontent.com/51204375/172295697-5e5b86a0-25b5-4b30-8fc8-0a7a2bbd456a.png)\r\n",
        "state": "closed",
        "user": "xiaotingyun",
        "closed_by": "WYB27",
        "created_at": "2022-06-07T04:25:25+00:00",
        "updated_at": "2025-06-30T07:10:43+00:00",
        "closed_at": "2025-06-30T07:10:43+00:00",
        "comments_count": [
            "paddle-bot-old[bot]",
            "github-actions[bot]"
        ],
        "labels": [
            "status/new-issue",
            "type/question",
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1890,
        "title": "咨询数据增强问题",
        "body": "老师好，请问在使用paddlehub时，若应用数据增强（data_augmentation=True），具体包括哪些数据增强方式呢？各增强方式参数是什么，比如，rotation的范围，resize的范围，随机crop的范围等，谢谢！\r\n",
        "state": "closed",
        "user": "mrhan36",
        "closed_by": "WYB27",
        "created_at": "2022-06-08T01:54:04+00:00",
        "updated_at": "2025-06-30T07:10:39+00:00",
        "closed_at": "2025-06-30T07:10:39+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1891,
        "title": "paddleHub Module Decorator文档笔误",
        "body": "文档地址： https://paddlehub.readthedocs.io/zh_CN/release-v2.1/api/module_decorator.html\r\n![image](https://user-images.githubusercontent.com/26222630/172974331-60aa4e1b-bdcf-4004-b6ca-c521e155ce4c.png)\r\n\r\n这个地方应该是**runnable**",
        "state": "closed",
        "user": "huanmengmie",
        "closed_by": "WYB27",
        "created_at": "2022-06-10T01:53:45+00:00",
        "updated_at": "2025-06-30T07:10:37+00:00",
        "closed_at": "2025-06-30T07:10:37+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1894,
        "title": "sentiment Module: textcnn, Too easy to get neutral results.",
        "body": "这个模型为什么那么容易得到中性的结果呢？\r\n就连“唐山打人事件两名女子仍在医院治疗”这句话的结果都是中性的？而且neutral probs还有0.9几？\r\n\r\n欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "crjhonor",
        "closed_by": "WYB27",
        "created_at": "2022-06-15T01:44:38+00:00",
        "updated_at": "2025-06-30T07:10:34+00:00",
        "closed_at": "2025-06-30T07:10:34+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1895,
        "title": "human_pose_estimation_resnet50_mpii 使用GPU推理单图速度慢，跟pphuman完全没法比",
        "body": "有业务需要快速进行单图姿态检测，用paddlehub的human_pose_estimation_resnet50_mpii速度巨慢，开GPU一张图耗时1秒多，图也不大，800*800的图，代码为以下代码\r\npaddlepaddle-gpu          2.3.0\r\npaddlehub                 1.8.0\r\n显卡GTX1066Ti\r\n\r\nimport os,time\r\nos.environ['CUDA_VISIBLE_DEVICES'] = '0'\r\nimport paddlehub as hub\r\ndetector = hub.Module(name=\"human_pose_estimation_resnet50_mpii\")\r\ntime_start = time.time()\r\nresult = detector.keypoint_detection(paths=['human.jpg'],use_gpu=True)\r\nprint(time.time() - time_start)\r\n\r\npaddlehub跑其他骨骼关键点模型也是慢\r\n\r\npphuman那里的骨骼关键点检测速度比它快的完全不是一个级别的，这是什么原因\r\n\r\n",
        "state": "closed",
        "user": "yueyue0574",
        "closed_by": "yueyue0574",
        "created_at": "2022-06-15T14:02:49+00:00",
        "updated_at": "2023-01-14T23:41:31+00:00",
        "closed_at": "2023-01-14T23:41:31+00:00",
        "comments_count": [
            "haoyuying"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1893,
        "title": "执行：trainer.train(train_dataset, epochs=3, batch_size=32, eval_dataset=dev_dataset, save_interval=1)   # 配置训练参数，启动训练，并指定验证集报错：KeyError -100   ",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "tingaicompass",
        "closed_by": "WYB27",
        "created_at": "2022-06-14T09:43:40+00:00",
        "updated_at": "2025-06-30T07:10:36+00:00",
        "closed_at": "2025-06-30T07:10:36+00:00",
        "comments_count": [
            "tingaicompass",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1896,
        "title": "paddle 2.0.2 hub.Module(name=\"ernie_gen_couplet\")失败",
        "body": "---------------------------------------------------------------------------\r\nValueError                                Traceback (most recent call last)\r\n/tmp/ipykernel_2835/1749205360.py in <module>\r\n----> 1 module = hub.Module(name=\"ernie_gen_couplet\")\r\n      2 \r\n      3 test_texts = [\"人增福寿年增岁\", \"风吹云乱天垂泪\"]\r\n      4 results = module.generate(texts=test_texts, use_gpu=True, beam_width=5)\r\n      5 for result in results:\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    393                     branch=branch,\r\n    394                     ignore_env_mismatch=ignore_env_mismatch,\r\n--> 395                     **kwargs)\r\n    396                 CacheUpdater(\"update_cache\", module=name, version=version).start()\r\n    397             elif directory:\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    509 \r\n    510         user_module_cls.directory = directory\r\n--> 511         return user_module_cls(**kwargs)\r\n    512 \r\n    513     @classmethod\r\n\r\n~/.paddlehub/modules/ernie_gen_couplet/module.py in __init__(self)\r\n     46         assets_path = os.path.join(self.directory, \"assets\")\r\n     47         gen_checkpoint_path = os.path.join(assets_path, \"ernie_gen_couplet.pdparams\")\r\n---> 48         self.model = ErnieForGeneration.from_pretrained(\"ernie-1.0\")\r\n     49         model_state = paddle.load(gen_checkpoint_path)\r\n     50         self.model.set_dict(model_state)\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlenlp/transformers/ernie_gen/modeling.py in from_pretrained(cls, pretrained_model_name_or_path, *args, **kwargs)\r\n    370                                 k)\r\n    371                     m[k] = v  # FIXME: no need to do this in the future\r\n--> 372             model.set_state_dict(m)\r\n    373         else:\r\n    374             raise ValueError('weight file not found in pretrain dir: %s' %\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/framework.py in wrapper(*args, **kwargs)\r\n    270             kwargs['state_dict'] = kwargs['stat_dict']\r\n    271             kwargs.pop('stat_dict')\r\n--> 272         return func(*args, **kwargs)\r\n    273 \r\n    274     return wrapper\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in set_state_dict(self, state_dict, include_sublayers, use_structured_name)\r\n   1331                 global_scope(), executor)\r\n   1332             for param, state in matched_param_state:\r\n-> 1333                 _set_var(param, state)\r\n   1334 \r\n   1335     # [aliases] Compatible with old method names\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py in _set_var(var, ndarray)\r\n   1323                     p.set_place(t._place())\r\n   1324                     place = core.CUDAPlace(p.gpu_device_id())\r\n-> 1325                 t.set(ndarray, place)\r\n   1326 \r\n   1327             executor = Executor(_get_device())._default_executor\r\n\r\nValueError: (InvalidArgument) Input object type error or incompatible array data type. tensor.set() supports array with bool, float16, float32, float64, int8, int16, int32, int64, uint8 or uint16, please check your input or input array data type. (at /paddle/paddle/fluid/pybind/tensor_py.h:355)",
        "state": "closed",
        "user": "reddingit",
        "closed_by": "WYB27",
        "created_at": "2022-06-17T17:12:57+00:00",
        "updated_at": "2025-06-30T07:10:32+00:00",
        "closed_at": "2025-06-30T07:10:32+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1897,
        "title": "photo_restoration , Out of memory error on GPU",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\npaddlehub          2.2.0\r\npaddlenlp          2.2.6\r\npaddlepaddle-gpu   0.0.0.post112\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\nWIN11 anaconda python3.7\r\ncuda11.6 cudnn 8.2\r\n3080TI\r\n\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n看着 3080Ti   16G显存  一直上升 \r\n直接爆了\r\n\r\n导入图片尺寸\r\n1080*1440 \r\n\r\n```\r\n\r\nW0620 20:40:24.009438 24484 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.6, Runtime API Version: 11.2\r\nW0620 20:40:24.027439 24484 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nload pretrained checkpoint success\r\nload pretrained checkpoint success\r\n\r\n Colorization model proccess start..\r\n\r\n SuperResolution model proccess start..\r\nTraceback (most recent call last):\r\n  File \"f:/lao.py\", line 6, in <module>\r\n    res = model.run_image(im,save_path=\"F:/2222222.jpg\")\r\n  File \"C:\\Users\\Huang\\.paddlehub\\modules\\photo_restoration\\module.py\", line 59, in run_image\r\n    output = model.run_image(input)\r\n  File \"C:\\Users\\Huang\\.paddlehub\\modules\\realsr\\module.py\", line 78, in run_image\r\n    out = self.model(x)\r\n  File \"D:\\anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"C:\\Users\\Huang\\.paddlehub\\modules\\realsr\\rrdb.py\", line 134, in forward\r\n    self.upconv2(F.interpolate(fea, scale_factor=2, mode='nearest')))\r\n  File \"D:\\anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\nn\\layer\\conv.py\", line 678, in forward\r\n    use_cudnn=self._use_cudnn)\r\n  File \"D:\\anaconda3\\envs\\paddlehub\\lib\\site-packages\\paddle\\nn\\functional\\conv.py\", line 144, in _conv_nd\r\n    pre_bias = getattr(_C_ops, op_type)(x, weight, *attrs)\r\nSystemError: (Fatal) Operator conv2d raises an struct paddle::memory::allocation::BadAlloc exception.\r\nThe exception content is\r\n:ResourceExhaustedError:\r\n\r\nOut of memory error on GPU 0. Cannot allocate 5.932617GB memory on GPU 0, 13.486816GB memory has been allocated and available memory is only 2.512695GB.\r\n\r\nPlease check whether there is any other process using GPU 0.\r\n1. If yes, please stop them, or start PaddlePaddle on another GPU.\r\n2. If no, please decrease the batch size of your model.\r\n\r\n (at ..\\paddle\\fluid\\memory\\allocation\\cuda_allocator.cc:87)\r\n. (at ..\\paddle\\fluid\\imperative\\tracer.cc:311)\r\n```\r\n",
        "state": "closed",
        "user": "monkeycc",
        "closed_by": "monkeycc",
        "created_at": "2022-06-20T12:47:37+00:00",
        "updated_at": "2022-06-20T13:19:06+00:00",
        "closed_at": "2022-06-20T13:19:06+00:00",
        "comments_count": [
            "monkeycc"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1898,
        "title": "您好！我是Windows10，然后paddlepaddle版本是1.7.2，paddlehub版本是1.6.0，在使用hub命令以及用Python代码安装口罩检测模型时，会提示一个JSONDecode的错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "Ding-Jiaxiong",
        "closed_by": "WYB27",
        "created_at": "2022-06-21T06:04:38+00:00",
        "updated_at": "2025-06-30T07:10:30+00:00",
        "closed_at": "2025-06-30T07:10:30+00:00",
        "comments_count": [
            "Ding-Jiaxiong",
            "Ding-Jiaxiong",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1899,
        "title": "关于hub的api文档查询方式",
        "body": "你好，我想请教下哪里可以查到hub的相关api，我看下官网上的api只有简单的三个函数。\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/api/paddle/hub/Overview_cn.html",
        "state": "closed",
        "user": "983183947",
        "closed_by": "WYB27",
        "created_at": "2022-06-21T08:54:06+00:00",
        "updated_at": "2025-06-30T07:10:28+00:00",
        "closed_at": "2025-06-30T07:10:28+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1900,
        "title": "Rumor Prediction重复下载",
        "body": "1）PaddleHub和PaddlePaddle版本：PaddleHub 2.2.0\r\n2）系统环境：Ubuntu20.04，Python3.8.10\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n执行Rumor Prediction库相关操作都会重复下载https://bj.bcebos.com/paddlehub/paddlehub_dev/rumor_prediction.tar.gz，即使已经下载过",
        "state": "closed",
        "user": "MomentQYC",
        "closed_by": "WYB27",
        "created_at": "2022-06-23T09:28:11+00:00",
        "updated_at": "2025-06-30T07:10:26+00:00",
        "closed_at": "2025-06-30T07:10:26+00:00",
        "comments_count": [
            "MomentQYC",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1901,
        "title": "paddlex 配合paddleHub 预测结果最大值100",
        "body": null,
        "state": "closed",
        "user": "fanyuanxiang",
        "closed_by": "WYB27",
        "created_at": "2022-06-27T09:03:37+00:00",
        "updated_at": "2025-06-30T07:10:24+00:00",
        "closed_at": "2025-06-30T07:10:24+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1903,
        "title": "能方便api调用 PaddleGAN 么？C# 调用最好的方法是什么？http api么？",
        "body": " PaddleGAN 里面不少好玩的功能，能用hub 简单的http api调用么？我主要想C#调用。只能用api吧？",
        "state": "closed",
        "user": "bbhxwl",
        "closed_by": "WYB27",
        "created_at": "2022-06-28T09:20:29+00:00",
        "updated_at": "2025-06-30T07:10:22+00:00",
        "closed_at": "2025-06-30T07:10:22+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1904,
        "title": "安装deeplabv3p_xception65_humanseg出现错误",
        "body": "PaddleHub版本号2.2.0，paddleaddle版本号2.3.0\r\nwindows server 2019，python 3.9.13 64位\r\n安装deeplabv3p_xception65_humanseg时出现错误，如下所示\r\n\r\nC:\\Users\\Administrator>hub install deeplabv3p_xception65_humanseg\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/deeplabv3p_xception65_humanseg.tar.gz\r\n[##################################################] 100.00%\r\nDecompress C:\\Users\\Administrator\\.paddlehub\\tmp\\tmp7lvh3i9f\\deeplabv3p_xception65_humanseg.tar.gz\r\n<traceback object at 0x0000022C8026BA40>\r\n\r\nTraceback (most recent call last):\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\utils\\xarfile.py\", line 228, in unarchive_with_progress\r\n    total_size += file.getxarinfo(filename).size\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\utils\\xarfile.py\", line 153, in getxarinfo\r\n    return XarInfo(self._archive_fp.getmember(name), self.arctype)\r\n  File \"E:\\dev\\python\\lib\\tarfile.py\", line 1799, in getmember\r\n    raise KeyError(\"filename %r not found\" % name)\r\nKeyError: \"filename 'deeplabv3p_xception65_humanseg/deeplabv3p_xception65_humanseg_model/decoder/separable_conv2/pointwise/' not found\"\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\utils\\utils.py\", line 185, in generate_tempdir\r\n    yield _dir\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 374, in _install_from_archive\r\n    for path, ds, ts in xarfile.unarchive_with_progress(archive, _tdir):\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\utils\\xarfile.py\", line 233, in unarchive_with_progress\r\n    yield filename, extract_size, total_size\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\utils\\xarfile.py\", line 109, in __exit__\r\n    raise exit_exception(exit_value)\r\nKeyError: KeyError(\"filename 'deeplabv3p_xception65_humanseg/deeplabv3p_xception65_humanseg_model/decoder/separable_conv2/pointwise/' not found\")\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"E:\\dev\\python\\lib\\shutil.py\", line 627, in _rmtree_unsafe\r\n    os.unlink(fullname)\r\nPermissionError: [WinError 32] 另一个程序正在使用此文件，进程无法访问。: 'C:\\\\Users\\\\Administrator\\\\.paddlehub\\\\tmp\\\\tmp7lvh3i9f\\\\deeplabv3p_xception65_humanseg.tar.gz'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"E:\\dev\\python\\lib\\tempfile.py\", line 805, in onerror\r\n    _os.unlink(path)\r\nPermissionError: [WinError 32] 另一个程序正在使用此文件，进程无法访问。: 'C:\\\\Users\\\\Administrator\\\\.paddlehub\\\\tmp\\\\tmp7lvh3i9f\\\\deeplabv3p_xception65_humanseg.tar.gz'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"E:\\dev\\python\\lib\\runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"E:\\dev\\python\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"E:\\dev\\python\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\commands\\install.py\", line 55, in execute\r\n    manager.install(name=name, version=version, ignore_env_mismatch=args.ignore_env_mismatch)\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 265, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"E:\\dev\\python\\lib\\contextlib.py\", line 137, in __exit__\r\n    self.gen.throw(typ, value, traceback)\r\n  File \"E:\\dev\\python\\lib\\site-packages\\paddlehub\\utils\\utils.py\", line 185, in generate_tempdir\r\n    yield _dir\r\n  File \"E:\\dev\\python\\lib\\tempfile.py\", line 830, in __exit__\r\n    self.cleanup()\r\n  File \"E:\\dev\\python\\lib\\tempfile.py\", line 834, in cleanup\r\n    self._rmtree(self.name)\r\n  File \"E:\\dev\\python\\lib\\tempfile.py\", line 816, in _rmtree\r\n    _shutil.rmtree(name, onerror=onerror)\r\n  File \"E:\\dev\\python\\lib\\shutil.py\", line 759, in rmtree\r\n    return _rmtree_unsafe(path, onerror)\r\n  File \"E:\\dev\\python\\lib\\shutil.py\", line 629, in _rmtree_unsafe\r\n    onerror(os.unlink, fullname, sys.exc_info())\r\n  File \"E:\\dev\\python\\lib\\tempfile.py\", line 808, in onerror\r\n    cls._rmtree(path)\r\n  File \"E:\\dev\\python\\lib\\tempfile.py\", line 816, in _rmtree\r\n    _shutil.rmtree(name, onerror=onerror)\r\n  File \"E:\\dev\\python\\lib\\shutil.py\", line 759, in rmtree\r\n    return _rmtree_unsafe(path, onerror)\r\n  File \"E:\\dev\\python\\lib\\shutil.py\", line 610, in _rmtree_unsafe\r\n    onerror(os.scandir, path, sys.exc_info())\r\n  File \"E:\\dev\\python\\lib\\shutil.py\", line 607, in _rmtree_unsafe\r\n    with os.scandir(path) as scandir_it:\r\nNotADirectoryError: [WinError 267] 目录名称无效。: 'C:\\\\Users\\\\Administrator\\\\.paddlehub\\\\tmp\\\\tmp7lvh3i9f\\\\deeplabv3p_xception65_humanseg.tar.gz'",
        "state": "closed",
        "user": "boxiyang",
        "closed_by": "WYB27",
        "created_at": "2022-06-30T02:58:19+00:00",
        "updated_at": "2025-06-30T07:10:20+00:00",
        "closed_at": "2025-06-30T07:10:20+00:00",
        "comments_count": [
            "mrvegazhou",
            "huanheaha",
            "LeChaPatteImpitoyable",
            "LeChaPatteImpitoyable",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1905,
        "title": "Can't connect to Hub Server: http://paddlepaddle.org.cn/paddlehub",
        "body": "虽然这么多issue还是open状态，但是还是想试试看有大佬帮忙看不？\r\n\r\n## Mac OS\r\n```bash\r\npython3.9.6) ➜  hellopython git:(master) ✗ python --version\r\nPython 3.9.6\r\n(python3.9.6) ➜  hellopython git:(master) ✗ pip -V\r\npip 22.1.2 from /Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/pip (python 3.9)\r\n(python3.9.6) ➜  hellopython git:(master) ✗ pip show paddlepaddle\r\nName: paddlepaddle\r\nVersion: 2.3.0\r\nSummary: Parallel Distributed Deep Learning\r\nHome-page: UNKNOWN\r\nAuthor:\r\nAuthor-email: Paddle-better@baidu.com\r\nLicense: Apache Software License\r\nLocation: /Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages\r\nRequires: astor, decorator, numpy, opt-einsum, paddle-bfloat, Pillow, protobuf, requests, six\r\nRequired-by:\r\n(python3.9.6) ➜  hellopython git:(master) ✗ pip show paddlehub\r\nName: paddlehub\r\nVersion: 2.2.0\r\nSummary: A toolkit for managing pretrained models of PaddlePaddle and helping user getting started with transfer learning more efficiently.\r\nHome-page: https://github.com/PaddlePaddle/PaddleHub\r\nAuthor: PaddlePaddle Author\r\nAuthor-email: UNKNOWN\r\nLicense: Apache 2.0\r\nLocation: /Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages\r\nRequires: colorama, colorlog, easydict, filelock, flask, gunicorn, matplotlib, numpy, opencv-python, packaging, paddle2onnx, paddlenlp, Pillow, pyyaml, pyzmq, rarfile, tqdm, visualdl\r\nRequired-by:\r\n(python3.9.6) ➜  hellopython git:(master) ✗\r\n```\r\n\r\n## 报错\r\n```bash\r\n(python3.9.6) ➜  hellopython git:(master) ✗ python test.py\r\nTraceback (most recent call last):\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 703, in urlopen\r\n    httplib_response = self._make_request(\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 386, in _make_request\r\n    self._validate_conn(conn)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 1040, in _validate_conn\r\n    conn.connect()\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/connection.py\", line 395, in connect\r\n    self.ssl_context = create_urllib3_context(\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/util/ssl_.py\", line 350, in create_urllib3_context\r\n    context.keylog_filename = sslkeylogfile\r\nFileNotFoundError: [Errno 2] No such file or directory: '/Users/liuli/tls/sslkeylog.log'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/requests/adapters.py\", line 489, in send\r\n    resp = conn.urlopen(\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 785, in urlopen\r\n    retries = retries.increment(\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/util/retry.py\", line 550, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/packages/six.py\", line 769, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 703, in urlopen\r\n    httplib_response = self._make_request(\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 386, in _make_request\r\n    self._validate_conn(conn)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/connectionpool.py\", line 1040, in _validate_conn\r\n    conn.connect()\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/connection.py\", line 395, in connect\r\n    self.ssl_context = create_urllib3_context(\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/urllib3/util/ssl_.py\", line 350, in create_urllib3_context\r\n    context.keylog_filename = sslkeylogfile\r\nurllib3.exceptions.ProtocolError: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory'))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/paddlehub/server/server_source.py\", line 117, in request\r\n    result = requests.get(api, params, timeout=self._timeout)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/requests/api.py\", line 73, in get\r\n    return request(\"get\", url, params=params, **kwargs)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/requests/api.py\", line 59, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/requests/sessions.py\", line 587, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/requests/sessions.py\", line 723, in send\r\n    history = [resp for resp in gen]\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/requests/sessions.py\", line 723, in <listcomp>\r\n    history = [resp for resp in gen]\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/requests/sessions.py\", line 266, in resolve_redirects\r\n    resp = self.send(\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/requests/sessions.py\", line 701, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/requests/adapters.py\", line 547, in send\r\n    raise ConnectionError(err, request=request)\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', FileNotFoundError(2, 'No such file or directory'))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/liuli/Devspace/hellopython/test.py\", line 3, in <module>\r\n    lac = hub.Module(name=\"lac\")\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/paddlehub/module/module.py\", line 388, in __new__\r\n    module = cls.init_with_name(\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/paddlehub/module/module.py\", line 487, in init_with_name\r\n    user_module_cls = manager.install(\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 262, in _install_from_name\r\n    result = module_server.search_module(name=name, version=version)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/paddlehub/server/server.py\", line 87, in search_module\r\n    return self.search_resource(\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/paddlehub/server/server.py\", line 113, in search_resource\r\n    result = source.search_resource(name=name, type=type, version=version)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/paddlehub/server/server_source.py\", line 77, in search_resource\r\n    result = self.request(path='search', params=params)\r\n  File \"/Volumes/T7/Applications/anaconda3/envs/python3.9.6/lib/python3.9/site-packages/paddlehub/server/server_source.py\", line 120, in request\r\n    raise ServerConnectionError(self._url)\r\npaddlehub.server.server_source.ServerConnectionError: Can't connect to Hub Server: http://paddlepaddle.org.cn/paddlehub\r\n```",
        "state": "closed",
        "user": "iarno",
        "closed_by": "WYB27",
        "created_at": "2022-06-30T15:37:07+00:00",
        "updated_at": "2025-06-30T07:10:18+00:00",
        "closed_at": "2025-06-30T07:10:18+00:00",
        "comments_count": [
            "UncleLLD",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1907,
        "title": "docker 安装paddlehub后无法import",
        "body": "根据官方教程在 linux里面的docker安装好paddlehub后，输入：import paddlehub，提示：bash: import:  command not found，测试是安装了paddlehub的，这种情况怎么处理呢，小白\r\n\r\n\r\nλ db8d2759dbc3 /home import paddlehub\r\nbash: import: command not found\r\nλ db8d2759dbc3 /home pip show paddlehub\r\nName: paddlehub\r\nVersion: 2.1.0\r\nSummary: A toolkit for managing pretrained models of PaddlePaddle and helping user getting started with transfer learning more efficiently.\r\nHome-page: https://github.com/PaddlePaddle/PaddleHub\r\nAuthor: PaddlePaddle Author\r\nAuthor-email: UNKNOWN\r\nLicense: Apache 2.0\r\nLocation: /usr/local/lib/python3.7/dist-packages\r\nRequires: filelock, colorama, opencv-python, visualdl, packaging, paddlenlp, numpy, gitpython, tqdm, easydict, pyyaml, rarfile, matplotlib, Pillow, flask, paddle2onnx, gunicorn, colorlog, pyzmq\r\nRequired-by:\r\n",
        "state": "closed",
        "user": "a5855631",
        "closed_by": "WYB27",
        "created_at": "2022-07-06T03:48:44+00:00",
        "updated_at": "2025-06-30T07:10:16+00:00",
        "closed_at": "2025-06-30T07:10:16+00:00",
        "comments_count": [
            "buchongyu2",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1908,
        "title": "Paddlehub部署ocr_system识别性能很差",
        "body": "paddle: 2.1.3\r\npaddlehub: 2.1.0\r\nOCR预训练模型：v2.0\r\npaddleOCR: v2.3\r\n---\r\n\r\n\r\nocr_system config.json:\r\n`{\r\n    \"modules_info\": {\r\n        \"ocr_system\": {\r\n            \"init_args\": {\r\n                \"version\": \"1.0.0\",\r\n                \"use_gpu\": true\r\n            },\r\n            \"predict_args\": {\r\n            }\r\n        }\r\n    },\r\n    \"port\": 8868,\r\n    \"use_multiprocess\": false,\r\n    \"workers\": 2\r\n}\r\n`\r\nocr识别性能很差，connectTimeout=30秒，经常超时，请问如何提升识别性能？\r\n\r\n",
        "state": "closed",
        "user": "sjtuzhaoxh",
        "closed_by": "WYB27",
        "created_at": "2022-07-07T12:43:49+00:00",
        "updated_at": "2025-06-30T07:10:14+00:00",
        "closed_at": "2025-06-30T07:10:14+00:00",
        "comments_count": [
            "hkzero",
            "hkzero",
            "sjtuzhaoxh",
            "hkzero",
            "ThanhLV97",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1909,
        "title": "运行paddlehub包下的deeplabv3p_xception65_humanseg模型报错",
        "body": "mac运行，\r\nhumanseg = hub.Module(name=\"deeplabv3p_xception65_humanseg“)\r\n报错：\r\nKeyError: KeyError(\"filename 'deeplabv3p_xception65_humanseg/deeplabv3p_xception65_humanseg_model/decoder/separable_conv2/pointwise/' not found\")",
        "state": "closed",
        "user": "mrvegazhou",
        "closed_by": "WYB27",
        "created_at": "2022-07-07T16:49:51+00:00",
        "updated_at": "2025-06-30T07:10:12+00:00",
        "closed_at": "2025-06-30T07:10:12+00:00",
        "comments_count": [
            "buchongyu2",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1911,
        "title": "请问openpose_body_estimation怎么调用摄像头？",
        "body": "请问openpose_body_estimation怎么调用摄像头？",
        "state": "closed",
        "user": "QL-AR",
        "closed_by": "WYB27",
        "created_at": "2022-07-11T02:54:14+00:00",
        "updated_at": "2025-06-30T07:10:10+00:00",
        "closed_at": "2025-06-30T07:10:10+00:00",
        "comments_count": [
            "buchongyu2",
            "QL-AR",
            "QL-AR",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1913,
        "title": "can't download  when model = hub.Module(name='roberta-wwm-ext')",
        "body": "paddlehub:2.2.0\r\npaddlepaddle-gpu:2.3.1.post116\r\nissue:\r\n[2022-07-12 14:01:18,697] [    INFO] - Downloading model_state.pdparams from [https://bj.bcebos.com/paddlenlp/models/community/roberta-wwm-ext\\model_state.pdparams](https://bj.bcebos.com/paddlenlp/models/community/roberta-wwm-ext/model_state.pdparams)\r\n[2022-07-12 14:01:18,874] [   ERROR] - Downloading from [https://bj.bcebos.com/paddlenlp/models/community/roberta-wwm-ext\\model_state.pdparams](https://bj.bcebos.com/paddlenlp/models/community/roberta-wwm-ext/model_state.pdparams) failed with code 404!\r\n---------------------------------------------------------------------------\r\nRuntimeError                              Traceback (most recent call last)\r\n\r\n",
        "state": "closed",
        "user": "Tygors",
        "closed_by": "WYB27",
        "created_at": "2022-07-12T06:05:01+00:00",
        "updated_at": "2025-06-30T07:10:08+00:00",
        "closed_at": "2025-06-30T07:10:08+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1917,
        "title": "paddlehub http接口性能问题",
        "body": "我本地部署了paddlehub，用模型：chinese_ocr_db_crnn_server，识别图片文字，直接调用方法ocr.recognize_text(images=[img])大概1s就识别出来了，然后我本地启动hub服务，然后调用http接口，居然要20s才能返回结果，这是什么问题呢？",
        "state": "closed",
        "user": "hkzero",
        "closed_by": "hkzero",
        "created_at": "2022-07-15T04:09:46+00:00",
        "updated_at": "2022-07-18T03:41:45+00:00",
        "closed_at": "2022-07-18T03:41:45+00:00",
        "comments_count": [
            "hkzero",
            "hkzero",
            "hkzero",
            "buchongyu2",
            "hkzero",
            "hkzero"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1919,
        "title": "reading_pictures_writing_poems model The use of an error is valueERROR",
        "body": "环境：AIStudio  \r\n\r\nhub版本：最新版本  \r\n\r\n代码情况:和官网地址使用相同代码（https://www.paddlepaddle.org.cn/hubdetail?name=reading_pictures_writing_poems&en_category=TextGeneration）  \r\n情况：报错\r\n![image](https://user-images.githubusercontent.com/61859193/180700644-4c05ad42-f8b8-4ce0-9979-9fa269e11001.png)  \r\n复现情况：稳定复现  \r\n解决方案：  \r\n在下载模型后对下列模型进行版本更新\r\n```\r\n!hub install xception71_imagenet==1.0.0 #图像分类\r\n!hub install ernie_gen_couplet==1.0.0 #文本生成（对联），获取近似词\r\n!hub install ernie_gen_poetry==1.0.0 #生成古诗词\r\n!hub install senta_bow==1.2.0 #情感倾向分析\r\n```  \r\n诉求：  \r\n希望官方对对应的文档进行更新可以快速使用。  \r\n\r\n类似情况还存在于部分1.8时期的模型，特别是多个模型融合生成的那种，希望官方可以对文档等进行修改！！",
        "state": "closed",
        "user": "jhcgt4869",
        "closed_by": "WYB27",
        "created_at": "2022-07-25T04:51:37+00:00",
        "updated_at": "2025-06-30T07:10:04+00:00",
        "closed_at": "2025-06-30T07:10:04+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1918,
        "title": "如何下载模型本地调用，下载好的模型仍然需要联网",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "zpz915",
        "closed_by": "WYB27",
        "created_at": "2022-07-21T13:16:22+00:00",
        "updated_at": "2025-06-30T07:10:06+00:00",
        "closed_at": "2025-06-30T07:10:06+00:00",
        "comments_count": [
            "zpz915",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1921,
        "title": "can not import name \"BaseTask\" from paddlehub",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n\r\n通过from paddlehub import BaseTask导入\"BaseTask\"时can not import name \"BaseTask\" from paddlehub",
        "state": "closed",
        "user": "Chucy2020",
        "closed_by": "WYB27",
        "created_at": "2022-07-27T08:43:51+00:00",
        "updated_at": "2025-06-30T07:10:00+00:00",
        "closed_at": "2025-06-30T07:10:00+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1923,
        "title": "sequence_labeling示例代码报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n\r\npaddlepaddle 2.3.1，paddlehub 2.2.0\r\n\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n\r\nLinux，python3.9.12\r\n\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n直接copy运行PaddleHub/demo/sequence_labeling/train.py里面的代码，报keyerror\r\n```\r\n[2022-08-04 04:12:23,852] [ WARNING] - PaddleHub model checkpoint not found, start from scratch...\r\n[2022-08-04 04:12:29,136] [ WARNING] - Compatibility Warning: The params of ChunkEvaluator.compute has been modified. The old version is `inputs`, `lengths`, `predictions`, `labels` while the current version is `lengths`, `predictions`, `labels`.  Please update the usage.\r\nTraceback (most recent call last):\r\n  File \"/home/team_W/mmt/paddleNERtest.py\", line 55, in <module>\r\n    trainer.train(\r\n  File \"/home/team_W/anaconda3/envs/mmt_test/lib/python3.9/site-packages/paddlehub/finetune/trainer.py\", line 212, in train\r\n    loss, metrics = self.training_step(batch, batch_idx)\r\n  File \"/home/team_W/anaconda3/envs/mmt_test/lib/python3.9/site-packages/paddlehub/finetune/trainer.py\", line 352, in training_step\r\n    result = self.model.training_step(batch, batch_idx)\r\n  File \"/home/team_W/anaconda3/envs/mmt_test/lib/python3.9/site-packages/paddlehub/module/nlp_module.py\", line 504, in training_step\r\n    predictions, avg_loss, metric = self(\r\n  File \"/home/team_W/anaconda3/envs/mmt_test/lib/python3.9/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/team_W/anaconda3/envs/mmt_test/lib/python3.9/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/team_W/.paddlehub/modules/ernie_tiny/module.py\", line 105, in forward\r\n    self.metric.compute(None, seq_lengths, preds, labels)\r\n  File \"/home/team_W/anaconda3/envs/mmt_test/lib/python3.9/site-packages/paddlenlp/metrics/chunk.py\", line 104, in compute\r\n    unpad_labels = [[\r\n  File \"/home/team_W/anaconda3/envs/mmt_test/lib/python3.9/site-packages/paddlenlp/metrics/chunk.py\", line 104, in <listcomp>\r\n    unpad_labels = [[\r\n  File \"/home/team_W/anaconda3/envs/mmt_test/lib/python3.9/site-packages/paddlenlp/metrics/chunk.py\", line 105, in <listcomp>\r\n    self.id2label_dict[index]\r\nKeyError: -100\r\n```\r\n麻烦看看是什么问题😭",
        "state": "closed",
        "user": "maidangdang1",
        "closed_by": "WYB27",
        "created_at": "2022-08-04T08:22:08+00:00",
        "updated_at": "2025-06-30T07:09:58+00:00",
        "closed_at": "2025-06-30T07:09:58+00:00",
        "comments_count": [
            "rainyfly",
            "maidangdang1",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1920,
        "title": "paddlehub敲hub命令时出错",
        "body": "安装了paddlepaddle（2.3.1），paddlehub（2.2.0），python（3.8），windows11，敲hub命令时报如下错误：\r\n![image](https://user-images.githubusercontent.com/49680845/180721256-b04f155e-52c2-4e60-8c0d-dba997c3d321.png)\r\n",
        "state": "closed",
        "user": "linshuijin123",
        "closed_by": "WYB27",
        "created_at": "2022-07-25T07:25:59+00:00",
        "updated_at": "2025-06-30T07:10:02+00:00",
        "closed_at": "2025-06-30T07:10:02+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1929,
        "title": "save_inference_model 出错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.2.0，PaddlePaddle2.3.1\r\n2）系统环境：Linux，python版本3.7\r\n- 复现信息：AttributeError: module 'paddle' has no attribute 'Executor\r\n```python\r\n# coding: utf8\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"pyramidbox_lite_mobile_mask\")\r\n# 将模型保存在test_program文件夹之中\r\nmodule.processor.save_inference_model(dirname=\"test_program\") \r\n#module.save_inference_model(dirname=\"test_program\") \r\n\r\n```\r\n\r\n",
        "state": "closed",
        "user": "tangtang666",
        "closed_by": "tangtang666",
        "created_at": "2022-08-12T07:09:52+00:00",
        "updated_at": "2022-09-01T09:30:34+00:00",
        "closed_at": "2022-08-12T07:27:46+00:00",
        "comments_count": [
            "tangtang666",
            "tangtang666",
            "StrongandSurvive",
            "jm12138"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1930,
        "title": "预测多卡问题",
        "body": "hub预测现在支持多卡吗？\r\n如果不支持的话，以后会考虑支持多卡预测吗？",
        "state": "closed",
        "user": "ZhongliGao",
        "closed_by": "ZhongliGao",
        "created_at": "2022-08-12T08:01:46+00:00",
        "updated_at": "2022-08-30T08:47:40+00:00",
        "closed_at": "2022-08-30T08:47:40+00:00",
        "comments_count": [
            "jm12138",
            "ZhongliGao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1941,
        "title": "语音克隆可以添加下serving方法吗",
        "body": "语音克隆两个模型都没有serving，可以添加下吗",
        "state": "closed",
        "user": "gfhjjk",
        "closed_by": "WYB27",
        "created_at": "2022-08-18T02:40:26+00:00",
        "updated_at": "2025-06-30T07:09:55+00:00",
        "closed_at": "2025-06-30T07:09:55+00:00",
        "comments_count": [
            "bbhxwl",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1943,
        "title": "PaddleGAN 可以添加下api调用么？",
        "body": "rt",
        "state": "closed",
        "user": "bbhxwl",
        "closed_by": "WYB27",
        "created_at": "2022-08-19T15:29:50+00:00",
        "updated_at": "2025-06-30T07:09:53+00:00",
        "closed_at": "2025-06-30T07:09:53+00:00",
        "comments_count": [
            "rainyfly",
            "bbhxwl",
            "bbhxwl",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1945,
        "title": "以config方式启动hubserving，config.json里面都可以填写什么呢，可以自定义url的形式吗",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "PMPBinZhang",
        "closed_by": "WYB27",
        "created_at": "2022-08-24T08:39:52+00:00",
        "updated_at": "2025-06-30T07:09:48+00:00",
        "closed_at": "2025-06-30T07:09:48+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1944,
        "title": "图片生成古诗报错",
        "body": "您好，我使用命令行对图片进行生成古诗，报错如下，可以帮忙看看么？谢谢了\r\n![image](https://user-images.githubusercontent.com/43515926/185733606-6a844a32-3114-4705-b31c-7476635445e9.png)\r\n",
        "state": "closed",
        "user": "zcswdt",
        "closed_by": "WYB27",
        "created_at": "2022-08-20T07:09:04+00:00",
        "updated_at": "2025-06-30T07:09:50+00:00",
        "closed_at": "2025-06-30T07:09:50+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1959,
        "title": "PaddlePaddle2.3.2 cpu, PaddleHub2.3.0 chinese_ocr_db_crnn_server模型严重内存泄漏",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\nPaddlePaddle2.3.2 cpu, PaddleHub2.3.0 chinese_ocr_db_crnn_server模型严重内存泄漏\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n使用docker环境\r\n",
        "state": "closed",
        "user": "microCloudCode",
        "closed_by": "WYB27",
        "created_at": "2022-08-27T14:28:31+00:00",
        "updated_at": "2025-06-30T07:09:46+00:00",
        "closed_at": "2025-06-30T07:09:46+00:00",
        "comments_count": [
            "chenmingang",
            "chenmingang",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1970,
        "title": "文心大模型的paddlehub在哪里呀",
        "body": "听说paddlehub上线了文心大模型文生图，但是没找到在哪里呀",
        "state": "closed",
        "user": "violetweir",
        "closed_by": "WYB27",
        "created_at": "2022-08-30T11:48:23+00:00",
        "updated_at": "2025-06-30T07:09:43+00:00",
        "closed_at": "2025-06-30T07:09:43+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1973,
        "title": "语音克隆怎么更改生成的音频名称",
        "body": "使用ge2e_fastspeech2_pwgan语音克隆模型，生成的音频总是叫1.wav，修改out_dir也是指定文件夹名称然后在下面生成1.wav，在哪里修改生成音频的名称？",
        "state": "closed",
        "user": "gfhjjk",
        "closed_by": "WYB27",
        "created_at": "2022-08-31T06:15:28+00:00",
        "updated_at": "2025-06-30T07:09:41+00:00",
        "closed_at": "2025-06-30T07:09:41+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1977,
        "title": "本地服务器按教程部署后，API调用报404错误",
        "body": "\r\n![image](https://user-images.githubusercontent.com/25855448/187882662-d6972868-b754-4470-b877-522d8c899b00.png)\r\n![5a049e917aacd0469172290920e4ed8](https://user-images.githubusercontent.com/25855448/187882760-2da2d3b5-243a-487f-8cd8-a46a78954aa8.jpg)\r\n本地服务器按教程部署后，API调用报404错误\r\n\r\npaddlefsl          1.1.0\r\npaddlehub          2.3.0\r\npaddlenlp          2.3.7\r\npaddlepaddle       2.3.2\r\npaddlespeech       1.1.3\r\npaddlespeech-feat  0.1.0\r\n",
        "state": "closed",
        "user": "onelyfly",
        "closed_by": "WYB27",
        "created_at": "2022-09-01T09:36:52+00:00",
        "updated_at": "2025-06-30T07:09:39+00:00",
        "closed_at": "2025-06-30T07:09:38+00:00",
        "comments_count": [
            "jm12138",
            "onelyfly",
            "imohuan",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1982,
        "title": "安装风格迁移，在最后一步运行代码的时候报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n------------------------------------------------------------------------------------------------------------------------\r\nwin10，Anaconda  python版本为3.8的可执行环境，paddle使用的百度源。风格迁移模型：stylepro_artistic==1.0.1\r\n\r\n代码内容：\r\nimport paddlehub as hub\r\nimport cv2\r\n\r\n# 待转换图片的绝对地址\r\npicture = 'D:\\\\style_transfer\\\\pic.jpg'  # 注意代码中此处为双反斜杠\r\n# 风格图片的绝对地址\r\nstyle_image = 'D:\\\\style_transfer\\\\fangao.jpg'\r\n\r\n# 创建风格转移网络并加载参数\r\nstylepro_artistic = hub.Module(name=\"stylepro_artistic\")\r\n\r\n# 读入图片并开始风格转换\r\nresult = stylepro_artistic.style_transfer(\r\n                    images=[{'content': cv2.imread(picture),\r\n                             'styles': [cv2.imread(style_image)]}],\r\n                    visualization=True\r\n)\r\n\r\n报错图片\r\n![image](https://user-images.githubusercontent.com/90813017/188051383-703733f9-c26b-4d32-a8b8-47aa9c412e48.png)\r\n\r\n如果看不到报错截图，下面给出报错代码：\r\n(paddle_env) D:\\style_transfer>python style_transfer.py\r\n[2022-09-02 10:45:00,343] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0902 10:45:00.345582 17180 analysis_predictor.cc:1736] Deprecated. Please use CreatePredictor instead.\r\n[ WARN:0@2.744] global D:\\a\\opencv-python\\opencv-python\\opencv\\modules\\imgcodecs\\src\\loadsave.cpp (239) cv::findDecoder imread_('D:\\style_transfer\\pic.jpg'): can't open/read file: check file path/integrity\r\n[ WARN:0@2.748] global D:\\a\\opencv-python\\opencv-python\\opencv\\modules\\imgcodecs\\src\\loadsave.cpp (239) cv::findDecoder imread_('D:\\style_transfer\\fangao.jpg'): can't open/read file: check file path/integrity\r\nTraceback (most recent call last):\r\n  File \"style_transfer.py\", line 10, in <module>\r\n    result = stylepro_artistic.style_transfer(\r\n  File \"D:\\Users\\fy\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\fy\\.paddlehub\\modules\\stylepro_artistic\\module.py\", line 111, in style_transfer\r\n    for component, w, h in reader(images, paths):\r\n  File \"C:\\Users\\fy\\.paddlehub\\modules\\stylepro_artistic\\data_feed.py\", line 36, in reader\r\n    each_res['content_arr'], w, h = _handle_single(\r\n  File \"C:\\Users\\fy\\.paddlehub\\modules\\stylepro_artistic\\data_feed.py\", line 80, in _handle_single\r\n    w, h = im.shape[1], im.shape[0]\r\nUnboundLocalError: local variable 'im' referenced before assignment\r\n",
        "state": "closed",
        "user": "fuyaochangge",
        "closed_by": "WYB27",
        "created_at": "2022-09-02T03:13:53+00:00",
        "updated_at": "2025-06-30T07:09:37+00:00",
        "closed_at": "2025-06-30T07:09:37+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1983,
        "title": "PaddleHub 肺炎CT影像分析，暴No such file or directory: 'C:\\\\Users\\\\Administrator\\\\.paddlehub\\\\modules\\\\pneumonia_ct_lkm_pp\\\\model.pdmodel'",
        "body": "![image](https://user-images.githubusercontent.com/25855448/188055222-c7cccceb-8a48-45d2-a982-69a902701da6.png)\r\n按照教程，在aistudio跑出现没找到模型，\r\n弄到本地跑也一样问题\r\n\r\nwin10环境\r\npaddlehub          2.3.0\r\npaddlenlp          2.3.7\r\npaddlepaddle       2.3.2\r\n\r\n教程用例：\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/4485717\r\n",
        "state": "closed",
        "user": "onelyfly",
        "closed_by": "WYB27",
        "created_at": "2022-09-02T03:50:47+00:00",
        "updated_at": "2025-06-30T07:09:35+00:00",
        "closed_at": "2025-06-30T07:09:35+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1985,
        "title": "paddlehub的API各种问题，不用内测就发布的吗？",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "SoulBelong",
        "closed_by": "WYB27",
        "created_at": "2022-09-03T05:06:30+00:00",
        "updated_at": "2025-06-30T07:09:33+00:00",
        "closed_at": "2025-06-30T07:09:33+00:00",
        "comments_count": [
            "ZeyuChen",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1986,
        "title": "ernie_vilg、baidu_translate、ernie_zeus、几个新模型都报错",
        "body": "os：win 11\r\nPaddleHub Version: 2.3.0和PaddlePaddle Version: 2.3.2\r\n### python文件代码：\r\n```\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"ernie_vilg\")\r\ntext_prompts = [\"宁静的小镇\"]\r\nimages = module.generate_image(text_prompts=text_prompts, style='油画', output_dir='./ernie_vilg_out/')  \r\n```\r\n### python文件执行报错：\r\n[2022-09-04 18:08:04,778] [ WARNING] - An error was encountered while loading ernie_vilg. Detailed error information can be found in the C:\\Users\\Administrator\\.paddlehub\\log\\20220904.log.\r\n[2022-09-04 18:08:04,780] [ WARNING] - An error was encountered while loading ernie_vilg. Detailed error information can be found in the C:\\Users\\Administrator\\.paddlehub\\log\\20220904.log.\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/ernie_vilg.tar.gz\r\n[##################################################] 100.00%\r\nDecompress C:\\Users\\Administrator\\.paddlehub\\tmp\\tmp9g39cm4b\\ernie_vilg.tar.gz\r\n[##################################################] 100.00%\r\n[2022-09-04 18:08:06,412] [    INFO] - Successfully uninstalled ernie_vilg\r\n[2022-09-04 18:08:09,519] [    INFO] - Successfully installed dependent packages.s\\Administrator\\.paddlehub\\tmp\\tmppm2a9gwm\\ernie_vilg\\requirements.txt: -\r\n[2022-09-04 18:08:09,526] [ WARNING] - An error was encountered while loading ernie_vilg. Detailed error information can be found in the C:\\Users\\Administrator\\.paddlehub\\log\\20220904.log.\r\n[2022-09-04 18:08:09,530] [ WARNING] - An error was encountered while loading ernie_vilg. Detailed error information can be found in the C:\\Users\\Administrator\\.paddlehub\\log\\20220904.log.\r\nlog错误提示：\r\n==================================================\r\nRecord at 2022-09-04 18:08:19\r\n==================================================\r\nTraceback (most recent call last):\r\n  File \"F:\\Anaconda3\\envs\\pytorch\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 224, in search\r\n    module = self._local_modules[name] = HubModule.load(module_dir)\r\n  File \"F:\\Anaconda3\\envs\\pytorch\\lib\\site-packages\\paddlehub\\module\\module.py\", line 419, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"F:\\Anaconda3\\envs\\pytorch\\lib\\site-packages\\paddlehub\\utils\\utils.py\", line 250, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"F:\\Anaconda3\\envs\\pytorch\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 972, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 790, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"f:\\Anaconda3\\envs\\pytorch\\myenvs\\paddle\\paddleHub\\ernie_vilg.py\", line 10, in <module>\r\n    module = hub.Module(name=\"ernie_vilg\")\r\n  File \"F:\\Anaconda3\\envs\\pytorch\\lib\\site-packages\\paddlehub\\module\\module.py\", line 390, in __new__\r\n    module = cls.init_with_name(name=name,\r\n  File \"F:\\Anaconda3\\envs\\pytorch\\lib\\site-packages\\paddlehub\\module\\module.py\", line 488, in init_with_name\r\n    user_module_cls = manager.install(name=name,\r\n  File \"F:\\Anaconda3\\envs\\pytorch\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 177, in install\r\n    with lock:\r\n  File \"F:\\Anaconda3\\envs\\pytorch\\lib\\site-packages\\filelock\\_api.py\", line 220, in __enter__\r\n    self.acquire()\r\n  File \"F:\\Anaconda3\\envs\\pytorch\\lib\\site-packages\\filelock\\_api.py\", line 187, in acquire\r\n    time.sleep(poll_interval)\r\nKeyboardInterrupt\r\n### 命令行：使用可以正常生成图片，现在问题是python文件运行报错。\r\n$ hub run ernie_vilg --text_prompts \"宁静的小镇\" --style \"油画\" --output_dir ernie_vilg_out",
        "state": "closed",
        "user": "robotPin",
        "closed_by": "robotPin",
        "created_at": "2022-09-04T10:17:20+00:00",
        "updated_at": "2022-09-06T07:53:47+00:00",
        "closed_at": "2022-09-06T07:53:23+00:00",
        "comments_count": [
            "rainyfly",
            "robotPin",
            "rainyfly",
            "robotPin",
            "rainyfly",
            "robotPin",
            "rainyfly",
            "robotPin",
            "rainyfly",
            "robotPin",
            "robotPin"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1993,
        "title": "pyramidbox_lite_mobile_mask模型导出时遇到问题",
        "body": "- 版本、环境信息\r\n1）版本：paddlehub  2.2.0，paddlepaddle-gpu 2.2.2\r\n2）系统环境：Windows10，python 3.7.13\r\n\r\n1.直接尝试导出最新模型：\r\n`import paddle`\r\n`import paddlehub as hub`\r\n\r\n`module = hub.Module(name=\"pyramidbox_lite_mobile_mask\")`\r\n`module.processor.save_inference_model(dirname=\"test_program\")`\r\n\r\n报错：\r\n`AttributeError: module 'paddle' has no attribute 'Executor'`\r\n\r\n2.尝试按照#1929所述，将模型版本降至1.2.0：\r\n`import paddlehub as hub`\r\n\r\n`module = hub.Module(name=\"pyramidbox_lite_mobile_mask\", version=\"1.2.0\")`\r\n`module.processor.save_inference_model(dirname=\"test_program\")`\r\n\r\n报错：\r\n`\r\n\"In PaddlePaddle 2.x, we turn on dynamic graph mode by default, and '%s()' is only supported in static graph mode. So if you want to use this api, please call 'paddle.enable_static()' before this api to enter static graph mode.\" % func.__name__\r\nAssertionError: In PaddlePaddle 2.x, we turn on dynamic graph mode by default, and 'save_inference_model()' is only supported in static graph mode. So if you want to use this api, please call 'paddle.enable_static()' before this api to enter static graph mode.\r\n`\r\n\r\n3.按照报错修改，增加\r\n`import paddle`\r\n`import paddlehub as hub`\r\n\r\n`module = hub.Module(name=\"pyramidbox_lite_mobile_mask\", version=\"1.2.0\")`\r\n`paddle.enable_static()`\r\n`module.processor.save_inference_model(dirname=\"test_program\")`\r\n报错：\r\n`AttributeError: module 'paddle' has no attribute 'Executor'`\r\n\r\n请帮助查找一下问题所在，谢谢！",
        "state": "closed",
        "user": "StrongandSurvive",
        "closed_by": "StrongandSurvive",
        "created_at": "2022-09-05T09:03:15+00:00",
        "updated_at": "2022-10-26T06:53:48+00:00",
        "closed_at": "2022-09-05T09:39:55+00:00",
        "comments_count": [
            "jm12138",
            "StrongandSurvive",
            "David9591"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2004,
        "title": "Expecting value: line 1 column 1 (char 0)",
        "body": "Esterday everything worked normal and today while using ernie-vilg i'm getting this error, i'm using last version library and cpu generation\r\nExpecting value: line 1 column 1 (char 0)",
        "state": "closed",
        "user": "K0shachiyamyatA",
        "closed_by": "K0shachiyamyatA",
        "created_at": "2022-09-08T07:35:05+00:00",
        "updated_at": "2022-09-13T07:30:44+00:00",
        "closed_at": "2022-09-13T07:30:44+00:00",
        "comments_count": [
            "rainyfly",
            "K0shachiyamyatA"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1996,
        "title": "chinese_text_detection_db_server模型库，load_inference_model和save_inference_model参数问题",
        "body": "https://github.com/PaddlePaddle/PaddleOCR/issues/7456\r\n请提供下述完整信息以便快速定位问题/Please provide the following information to quickly locate the problem\r\n\r\n- 系统环境/System Environment：Windows11\r\n- 版本号/Version： Paddle： 2.3.2\r\n- 问题相关组件/Related components：`chinese_text_detection_db_server` 1.0.3 `chinese_ocr_db_crnn_server` 1.1.3\r\n- 运行指令/Command Code：\r\n```py\r\nimport paddlehub as hub\r\nimport cv2\r\n\r\nocr = hub.Module(name=\"chinese_ocr_db_crnn_server\", enable_mkldnn=True)       # mkldnn加速仅在CPU下有效\r\n\r\nocr.save_inference_model(dirname=\"model/mobilenet\")\r\n```\r\n- 完整报错/Complete Error Message：\r\n```\r\n发生异常: TypeError\r\nmissing a required argument: 'path_prefix'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\n  File \"C:\\Users\\xxx\\.paddlehub\\modules\\chinese_text_detection_db_server\\module.py\", line 242, in save_inference_model\r\n    program, feeded_var_names, target_vars = paddle.static.load_inference_model(dirname=self.pretrained_model_path,\r\n  File \"C:\\Users\\xxx\\.paddlehub\\modules\\chinese_ocr_db_crnn_server\\module.py\", line 422, in _save_detector_model\r\n    self.text_detector_module.save_inference_model(dirname, model_filename, params_filename, combined)\r\n  File \"C:\\Users\\xxx\\.paddlehub\\modules\\chinese_ocr_db_crnn_server\\module.py\", line 416, in save_inference_model\r\n    self._save_detector_model(detector_dir, model_filename, params_filename, combined)\r\n  File \"D:\\WorkSpace\\Python\\console-vscode\\main.py\", line 10, in <module>\r\n    ocr.save_inference_model(dirname=\"model/mobilenet\")\r\n```\r\n`\\chinese_text_detection_db_server\\module.py`中的`save_inference_model`方法中调用的`paddle.static.load_inference_model`和`paddle.static.save_inference_model`的入参与PaddlePaddle官网API文档参数不一致，导致无法保存模型",
        "state": "closed",
        "user": "Zrincet",
        "closed_by": "WYB27",
        "created_at": "2022-09-05T12:00:48+00:00",
        "updated_at": "2025-06-30T07:09:31+00:00",
        "closed_at": "2025-06-30T07:09:31+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 1999,
        "title": "FileNotFoundError: [Errno 2] 没有那个文件或目录: '/opt/conda/envs/python35-paddle120-env/bin/pip'",
        "body": "你好，我再更新pip时：python -m pip install --upgrade pip。出现了这样的错误：FileNotFoundError: [Errno 2] 没有那个文件或目录: '/opt/conda/envs/python35-paddle120-env/bin/pip'。\r\n\r\n应该如何解决？\r\n",
        "state": "closed",
        "user": "stduent-vehicle",
        "closed_by": "WYB27",
        "created_at": "2022-09-06T05:47:58+00:00",
        "updated_at": "2025-06-30T07:09:29+00:00",
        "closed_at": "2025-06-30T07:09:29+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2013
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2009,
        "title": "请问 ERNIE-ViLG 模型并没有开源吗？",
        "body": "我看了下源码，生成图片是网络请求，请问将来有开源计划吗？",
        "state": "closed",
        "user": "Dr-TSNG",
        "closed_by": "WYB27",
        "created_at": "2022-09-09T12:06:42+00:00",
        "updated_at": "2025-06-30T07:09:27+00:00",
        "closed_at": "2025-06-30T07:09:27+00:00",
        "comments_count": [
            "jm12138",
            "kaiwang0112006",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2011,
        "title": "Can someeone explain what this is",
        "body": "lets say i do this \r\n```\r\n!pip install --upgrade paddlepaddle\r\n!pip install --upgrade paddlehub\r\n```\r\nwill this download all 400 models to my computer? Or does it run on a server? Or does it download on demand?",
        "state": "closed",
        "user": "inikishev",
        "closed_by": "inikishev",
        "created_at": "2022-09-11T17:50:38+00:00",
        "updated_at": "2022-11-01T15:40:56+00:00",
        "closed_at": "2022-11-01T15:40:56+00:00",
        "comments_count": [
            "jm12138"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2012,
        "title": "抠图模型报错",
        "body": "环境：\r\nwin10\r\npython3.9\r\npaddlehub          2.2.0\r\npaddlenlp          2.3.7\r\npaddlepaddle       2.3.2\r\npaddlespeech       1.1.3\r\npaddlespeech-feat  0.1.0\r\n\r\n![57f86542bedd92f84d6a625b7e61493](https://user-images.githubusercontent.com/25855448/189795541-719f47b5-819e-4496-8c83-7334bc2bb0e4.jpg)\r\n这个模型是不是也不支持win cpu",
        "state": "closed",
        "user": "onelyfly",
        "closed_by": "WYB27",
        "created_at": "2022-09-13T02:40:47+00:00",
        "updated_at": "2025-06-30T07:09:25+00:00",
        "closed_at": "2025-06-30T07:09:25+00:00",
        "comments_count": [
            "jm12138",
            "onelyfly",
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2014,
        "title": "根据paddlehub的stable diffusion操作报错",
        "body": "windows 11\r\npython 3.7.9 \r\ncuda 10.1\r\n---------------------------------packages\r\npaddle-bfloat           0.1.7\r\npaddle2onnx             1.0.0\r\npaddlefsl               1.1.0\r\npaddlehub               2.3.0\r\npaddlenlp               2.4.0\r\npaddlepaddle            2.3.2\r\npaddlepaddle-gpu        2.3.2\r\n\r\n```\r\nhub run stable_diffusion --text_prompts \"in the morning light,Overlooking TOKYO city by greg rutkowski and thomas kinkade,Trending on artstation.\" --output_dir I:\\test\r\nh:\\program_files\\python37\\lib\\site-packages\\paddlenlp\\transformers\\image_utils.py:213: DeprecationWarning: BILINEAR is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BILINEAR instead.\r\n  resample=Image.BILINEAR,\r\nh:\\program_files\\python37\\lib\\site-packages\\paddlenlp\\transformers\\image_utils.py:379: DeprecationWarning: NEAREST is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.NEAREST or Dither.NONE instead.\r\n  resample=Image.NEAREST,\r\nh:\\program_files\\python37\\lib\\site-packages\\paddlenlp\\transformers\\ernie_vil\\feature_extraction.py:65: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\nh:\\program_files\\python37\\lib\\site-packages\\paddlenlp\\transformers\\clip\\feature_extraction.py:64: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\nW0912 21:26:09.928313 20836 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 11.6, Runtime API Version: 10.2\r\nW0912 21:26:09.936313 20836 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\nTraceback (most recent call last):\r\n  File \"h:\\program_files\\python37\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"h:\\program_files\\python37\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"H:\\program_files\\python37\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"h:\\program_files\\python37\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"h:\\program_files\\python37\\lib\\site-packages\\paddlehub\\commands\\run.py\", line 56, in execute\r\n    result = module._run_func(argv[1:])\r\n  File \"h:\\program_files\\python37\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"h:\\program_files\\python37\\lib\\site-packages\\paddlehub\\module\\module.py\", line 58, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\Lee\\.paddlehub\\modules\\stable_diffusion\\module.py\", line 280, in run_cmd\r\n    output_dir= args.output_dir)\r\n  File \"h:\\program_files\\python37\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\Lee\\.paddlehub\\modules\\stable_diffusion\\module.py\", line 170, in generate_image\r\n    text_input = tokenize(prompts)\r\n  File \"C:\\Users\\Lee\\.paddlehub\\modules\\stable_diffusion\\clip\\clip\\utils.py\", line 63, in tokenize\r\n    result[i, :len(tokens)] = paddle.Tensor(np.array(tokens))\r\n  File \"h:\\program_files\\python37\\lib\\site-packages\\paddle\\fluid\\dygraph\\varbase_patch_methods.py\", line 786, in __setitem__\r\n    return self.__setitem_varbase__(item, value)\r\nValueError: (InvalidArgument) The type of data we are trying to retrieve does not match the type of data currently contained in the container.\r\n  [Hint: Expected dtype() == paddle::experimental::CppTypeToDataType<T>::Type(), but received dtype():5 != paddle::experimental::CppTypeToDataType<T>::Type():7.] (at ..\\paddle\\phi\\core\\dense_tensor.cc:137)\r\n  [operator < set_value > error]\r\n```\r\n",
        "state": "closed",
        "user": "TIMESTICKING",
        "closed_by": "TIMESTICKING",
        "created_at": "2022-09-13T05:54:19+00:00",
        "updated_at": "2022-09-14T09:18:51+00:00",
        "closed_at": "2022-09-14T09:18:51+00:00",
        "comments_count": [
            "rainyfly",
            "TIMESTICKING",
            "rainyfly",
            "TIMESTICKING"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2017,
        "title": "如何去除水印",
        "body": "AI作图功能很好用，但是可以去除右下角的水印吗？\r\n",
        "state": "closed",
        "user": "wuguanggan",
        "closed_by": "rainyfly",
        "created_at": "2022-09-14T01:26:14+00:00",
        "updated_at": "2022-09-16T03:15:13+00:00",
        "closed_at": "2022-09-16T03:15:13+00:00",
        "comments_count": [
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2024,
        "title": "trainer训练时验证结果重复打印太多次，导致打印日志很难看清",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n\r\n1. paddlehub版本2.3.0，代码在项目中公开，[《华为车道检测》](https://aistudio.baidu.com/aistudio/projectdetail/4531250)。主要代码：\r\n\r\nimport paddlehub as hub\r\nmodel = hub.Module(name=\"resnet50_vd_imagenet_ssld\", label_list=['0','1'])\r\n\r\nimport paddle\r\nfrom paddlehub.finetune.trainer import Trainer\r\n\r\noptimizer = paddle.optimizer.Adam(learning_rate=0.001, parameters=model.parameters())\r\ntrainer = Trainer(model, optimizer, checkpoint_dir='resnetv2_50')\r\ntrainer.train(train_ds, epochs=1, batch_size=32, eval_dataset=valid_ds, save_interval=1)\r\n\r\n运行后训练时日志打印正常，验证集明显不对，每次验证，‘Evaluation on validation dataset’重复打印520+次，导致日志很难看loss等信息。（验证集dataset长度200左右）![在这里插入图片描述](https://img-blog.csdnimg.cn/99977326598d444a861c9fec97d0d764.jpeg)\r\n3. 我后来仔细看了那个[桃子分拣教程](https://aistudio.baidu.com/aistudio/projectdetail/1749014)，教程里面，‘Evaluation on validation dataset’也是重复打印多次。希望可以改进",
        "state": "closed",
        "user": "zhxnlp",
        "closed_by": "WYB27",
        "created_at": "2022-09-14T13:13:38+00:00",
        "updated_at": "2025-06-30T07:09:23+00:00",
        "closed_at": "2025-06-30T07:09:23+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2026,
        "title": "Meet an error when installing paddlehub",
        "body": "Hi developer,\r\n\r\nWhen I use the latest pip to install paddlehub as follow\r\n`!pip install --upgrade paddlehub`\r\n\r\nI meet the following problem,\r\n\r\n```\r\nInstalling collected packages: visualdl, rarfile, easydict, paddlehub\r\nERROR: Exception:\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/pip/_internal/cli/base_command.py\", line 164, in exc_logging_wrapper\r\n    status = run_func(*args)\r\n  File \"/usr/local/lib/python3.6/dist-packages/pip/_internal/cli/req_command.py\", line 205, in wrapper\r\n    return func(self, options, args)\r\n  File \"/usr/local/lib/python3.6/dist-packages/pip/_internal/commands/install.py\", line 413, in run\r\n    pycompile=options.compile,\r\n  File \"/usr/local/lib/python3.6/dist-packages/pip/_internal/req/__init__.py\", line 81, in install_given_reqs\r\n    pycompile=pycompile,\r\n  File \"/usr/local/lib/python3.6/dist-packages/pip/_internal/req/req_install.py\", line 810, in install\r\n    requested=self.user_supplied,\r\n  File \"/usr/local/lib/python3.6/dist-packages/pip/_internal/operations/install/wheel.py\", line 737, in install_wheel\r\n    requested=requested,\r\n  File \"/usr/local/lib/python3.6/dist-packages/pip/_internal/operations/install/wheel.py\", line 589, in _install_wheel\r\n    file.save()\r\n  File \"/usr/local/lib/python3.6/dist-packages/pip/_internal/operations/install/wheel.py\", line 383, in save\r\n    if os.path.exists(self.dest_path):\r\n  File \"/usr/lib/python3.6/genericpath.py\", line 19, in exists\r\n    os.stat(path)\r\nUnicodeEncodeError: 'ascii' codec can't encode character '\\u53f3' in position 81: ordinal not in range(128)\r\n```\r\nthe system is Ubuntu 18.04.5 LTS",
        "state": "closed",
        "user": "Kunlun-Zhu",
        "closed_by": "WYB27",
        "created_at": "2022-09-16T02:10:35+00:00",
        "updated_at": "2025-06-30T07:09:21+00:00",
        "closed_at": "2025-06-30T07:09:21+00:00",
        "comments_count": [
            "rainyfly",
            "Kunlun-Zhu",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2028,
        "title": "AssertionError: Error message: '总访问量超限'.",
        "body": " hub run ernie_zeus --task text_cloze --text \"她有着一双[MASK]的眼眸。\"",
        "state": "closed",
        "user": "liuyang77886",
        "closed_by": "WYB27",
        "created_at": "2022-09-16T07:54:11+00:00",
        "updated_at": "2025-06-30T07:09:19+00:00",
        "closed_at": "2025-06-30T07:09:19+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2019,
        "title": "文档报错：零基础Linux安装并实现图像风格迁移",
        "body": "[连接](https://github.com/PaddlePaddle/PaddleHub/blob/develop/docs/docs_ch/get_start/linux_quickstart.md#%E7%AC%AC1%E6%AD%A5%E5%AE%89%E8%A3%85anaconda)\r\n\r\n这篇文档讲的是在linux下安装运行的quickstart，结论处写成了Windows\r\n```第6步：飞桨预训练模型探索之旅\r\n恭喜你，到这里PaddleHub在windows环境下的安装和入门案例就全部完成了，快快开启你更多的深度学习模型探索之旅吧。[【更多模型探索，跳转飞桨官网】](https://www.paddlepaddle.org.cn/hublist)```",
        "state": "closed",
        "user": "wendao365",
        "closed_by": "jm12138",
        "created_at": "2022-09-14T06:12:57+00:00",
        "updated_at": "2022-09-19T07:48:38+00:00",
        "closed_at": "2022-09-19T07:48:38+00:00",
        "comments_count": [
            "jm12138"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2030,
        "title": "在下一版中优化包依赖，避免每次运行出警告",
        "body": "我运行的程序：\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"stable_diffusion\")\r\nresults = module.generate_image(text_prompts=[\"原神中的派蒙\"], style=\"油画\")\r\n\r\n每次都会出现的警告：\r\n/usr/bin/python3 /Users/wisers/PycharmProjects/PlayPaddle/main.py\r\n/Users/wisers/Library/Python/3.9/lib/python/site-packages/paddlenlp/transformers/image_utils.py:213: DeprecationWarning: BILINEAR is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BILINEAR instead.\r\n  resample=Image.BILINEAR,\r\n/Users/wisers/Library/Python/3.9/lib/python/site-packages/paddlenlp/transformers/image_utils.py:379: DeprecationWarning: NEAREST is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.NEAREST or Dither.NONE instead.\r\n  resample=Image.NEAREST,\r\n/Users/wisers/Library/Python/3.9/lib/python/site-packages/paddlenlp/transformers/ernie_vil/feature_extraction.py:65: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\n/Users/wisers/Library/Python/3.9/lib/python/site-packages/paddlenlp/transformers/clip/feature_extraction.py:64: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,",
        "state": "closed",
        "user": "we-enjoy-today",
        "closed_by": "WYB27",
        "created_at": "2022-09-17T05:30:51+00:00",
        "updated_at": "2025-06-30T07:09:15+00:00",
        "closed_at": "2025-06-30T07:09:15+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2039
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2029,
        "title": "希望能多加点test case，方便小白使用",
        "body": null,
        "state": "closed",
        "user": "honestAnt",
        "closed_by": "WYB27",
        "created_at": "2022-09-16T09:34:52+00:00",
        "updated_at": "2025-06-30T07:09:17+00:00",
        "closed_at": "2025-06-30T07:09:17+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2040
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2031,
        "title": "TPU usage",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n请问paddlehub会默认使用TPU么\r\n- 什么样的场景下需要该特性？\r\nCOLAB\r\n",
        "state": "closed",
        "user": "xihajun",
        "closed_by": "xihajun",
        "created_at": "2022-09-17T14:03:40+00:00",
        "updated_at": "2025-06-27T08:26:32+00:00",
        "closed_at": "2025-06-27T08:26:32+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2037,
        "title": "怎么离线加载模型",
        "body": "我要在离线的服务器上使用好像是Chinese-rcnn-ocr-mobile的模型，要怎么离线加载。\r\n",
        "state": "closed",
        "user": "3244we",
        "closed_by": "WYB27",
        "created_at": "2022-09-21T03:54:27+00:00",
        "updated_at": "2025-06-30T07:09:13+00:00",
        "closed_at": "2025-06-30T07:09:13+00:00",
        "comments_count": [
            "3244we",
            "jm12138",
            "3244we",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2046,
        "title": "request Hub-Server unsuccessfully",
        "body": "paddlehub.server_check()  返回连接服务失败，能否支持网页下载paddlehub的模型，本地调用\r\n",
        "state": "closed",
        "user": "universeshu",
        "closed_by": "WYB27",
        "created_at": "2022-09-27T05:41:48+00:00",
        "updated_at": "2025-06-30T07:09:11+00:00",
        "closed_at": "2025-06-30T07:09:11+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2047,
        "title": "InvalidArgumentError: The number of input's channels should be equal to filter's channels * groups for Op(Conv)",
        "body": "# Qustion\r\nlinks: https://www.paddlepaddle.org.cn/hubdetail?name=animegan_v2_hayao_99&en_category=GANs\r\nI imitated the link to re engage, but there was an error, and the online query was unsuccessful\r\nI don’t know where there is a problem\r\n\r\n# animegan_v3 already updated, How do I import a local model? (onnx model)\r\n\r\n# Program\r\n* `win11`\r\n* `Python 3.9.6`\r\n* `paddlepaddle==2.3.2`\r\n* `paddlehub==2.3.0`\r\n\r\n# Code\r\n``` python\r\nimport cv2\r\nimport paddlehub as hub\r\n\r\nmodel = hub.Module(name='animegan_v2_hayao_99')\r\n\r\nresult = model.style_transfer(\r\n    images=[cv2.imread('./data/2.jpg')],\r\n    output_dir='output',\r\n    visualization=True\r\n)\r\n```\r\n\r\n# Error\r\n``` log\r\nE:\\PythonEnv\\paddle\\lib\\site-packages\\paddlenlp\\transformers\\image_utils.py:213: DeprecationWarning: BILINEAR is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BILINEAR instead.\r\n  resample=Image.BILINEAR,\r\nE:\\PythonEnv\\paddle\\lib\\site-packages\\paddlenlp\\transformers\\image_utils.py:379: DeprecationWarning: NEAREST is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.NEAREST or Dither.NONE instead.\r\n  resample=Image.NEAREST,\r\nE:\\PythonEnv\\paddle\\lib\\site-packages\\paddlenlp\\transformers\\ernie_vil\\feature_extraction.py:65: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\nE:\\PythonEnv\\paddle\\lib\\site-packages\\paddlenlp\\transformers\\clip\\feature_extraction.py:64: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\nTraceback (most recent call last):\r\n  File \"G:\\level-2\\Python\\PaddleHub\\demo.py\", line 6, in <module>\r\n    result = model.style_transfer(\r\n  File \"E:\\PythonEnv\\paddle\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\26522\\.paddlehub\\modules\\animegan_v2_hayao_99\\module.py\", line 40, in style_transfer\r\n    outputs = self.model.predict(processor.input_datas)\r\n  File \"C:\\Users\\26522\\.paddlehub\\modules\\animegan_v2_hayao_99\\model.py\", line 68, in predict\r\n    self.predictor.run()\r\nValueError: In user code:\r\n\r\n    File \"c:\\users\\xpk22\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n\r\n    File \"c:\\users\\xpk22\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\paddle\\fluid\\layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n\r\n    File \"c:\\users\\xpk22\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\paddle\\fluid\\layers\\nn.py\", line 2938, in conv2d\r\n    \"data_format\": data_format,\r\n\r\n    File \"Hayao-99\\model_with_code\\x2paddle_model.py\", line 86, in x2paddle_net\r\n    generator_G_MODEL_A_Conv_Conv2D = fluid.layers.conv2d(input=conv2d_transpose_0, bias_attr=False, param_attr='generator_G_MODEL_A_Conv_weights', num_filters=32, filter_size=[7, 7], stride=[1, 1], dilation=[1, 1], padding='VALID')\r\n\r\n    File \"c:\\users\\xpk22\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\x2paddle\\core\\program.py\", line 290, in gen_model\r\n    inputs, outputs = x2paddle_model.x2paddle_net()\r\n\r\n    File \"c:\\users\\xpk22\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\x2paddle\\convert.py\", line 137, in tf2paddle\r\n    program.gen_model(save_dir)\r\n\r\n    File \"c:\\users\\xpk22\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\x2paddle\\convert.py\", line 291, in main\r\n    define_input_shape, params_merge)\r\n\r\n    File \"C:\\Users\\Xpk22\\AppData\\Local\\Programs\\Python\\Python37\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n    sys.exit(main())\r\n\r\n    File \"c:\\users\\xpk22\\appdata\\local\\programs\\python\\python37\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n\r\n    File \"c:\\users\\xpk22\\appdata\\local\\programs\\python\\python37\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n\r\n\r\n    InvalidArgumentError: The number of input's channels should be equal to filter's channels * groups for Op(Conv). But received: the input's channels is 1030, the input's shape is [1, 1030, 582, 3]; the filter's channels is 3, the filter's shape is [32, 3, 7, 7]; the groups is 1, the data_format is NCHW. The error may come from wrong data_format setting.\r\n      [Hint: Expected input_channels == filter_dims[1] * groups, but received input_channels:1030 != filter_dims[1] * groups:3.] (at C:\\home\\workspace\\Paddle_release\\paddle/fluid/operators/conv_op.cc:116)\r\n      [operator < conv2d > error]\r\n```",
        "state": "closed",
        "user": "imohuan",
        "closed_by": "WYB27",
        "created_at": "2022-09-27T06:08:05+00:00",
        "updated_at": "2025-06-30T07:09:09+00:00",
        "closed_at": "2025-06-30T07:09:09+00:00",
        "comments_count": [
            "imohuan",
            "jm12138",
            "jm12138",
            "imohuan",
            "imohuan",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2056,
        "title": "cudaErrorNoKernelImageForDevice: no kernel image is available for execution on the device",
        "body": "# Program\r\n* `win11`\r\n* `Python 3.9.6`\r\n* `torch==1.12.1+cu116`\r\n* `paddlepaddle-gpu==2.3.2`\r\n* `paddlehub==2.3.0`\r\n\r\n# Test\r\n1. Test whether CUDA can be used\r\n``` python\r\nimport torch\r\nprint(\"version: \", torch.__version__)\r\nprint(\"available: \",torch.cuda.is_available())\r\nprint(\"zeros: \", torch.zeros(1).cuda())\r\nprint(\"count: \",torch.cuda.device_count())\r\nprint(\"name: \", torch.cuda.get_device_name(0))\r\n```\r\nprint\r\n```\r\n(gpu) G:\\level-2\\Python\\PaddleHub>python check.py \r\nversion:  1.12.1+cu116\r\navailable:  True\r\nzeros:  tensor([0.], device='cuda:0')\r\ncount:  1\r\nname:  NVIDIA GeForce RTX 3060\r\n```\r\n\r\n2. PaddleHub Code Test\r\n``` python\r\nimport os\r\nimport paddlehub as hub\r\nos.environ[\"CUDA_VISIBLE_DEVICES\"] = \"0\"\r\nmodule = hub.Module(name=\"plato2_en_base\")\r\nwith module.interactive_mode(max_turn=6):\r\n    while True:\r\n        human_utterance = input(\"[Human]: \").strip()\r\n        robot_utterance = module.generate(human_utterance)\r\n        print(\"[Bot]: %s\"%robot_utterance[0])\r\n```\r\nOutput to the Error below\r\n# Error \r\n``` \r\n(gpu) G:\\level-2\\Python\\PaddleHub>python demo2.py\r\nE:\\PythonEnv\\gpu\\lib\\site-packages\\paddlenlp\\transformers\\image_utils.py:213: DeprecationWarning: BILINEAR is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BILINEAR instead.\r\n  resample=Image.BILINEAR,\r\nE:\\PythonEnv\\gpu\\lib\\site-packages\\paddlenlp\\transformers\\image_utils.py:379: DeprecationWarning: NEAREST is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.NEAREST or Dither.NONE instead.\r\n  resample=Image.NEAREST,\r\nE:\\PythonEnv\\gpu\\lib\\site-packages\\paddlenlp\\transformers\\ernie_vil\\feature_extraction.py:65: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\nE:\\PythonEnv\\gpu\\lib\\site-packages\\paddlenlp\\transformers\\clip\\feature_extraction.py:64: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\n[2022-09-28 11:56:53,017] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0928 11:56:53.384904 23944 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.7, Runtime API Version: 10.2\r\nW0928 11:56:53.399408 23944 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\nW0928 11:56:57.577406 23944 operator.cc:288] truncated_gaussian_random raises an exception class thrust::system::system_error, parallel_for failed: cudaErrorNoKernelImageForDevice: no kernel image is available for execution on the device\r\nTraceback (most recent call last):\r\n  File \"G:\\level-2\\Python\\PaddleHub\\demo2.py\", line 5, in <module>\r\n    module = hub.Module(name=\"plato2_en_base\")\r\n  File \"E:\\PythonEnv\\gpu\\lib\\site-packages\\paddlehub\\module\\module.py\", line 390, in __new__\r\n    module = cls.init_with_name(name=name,\r\n  File \"E:\\PythonEnv\\gpu\\lib\\site-packages\\paddlehub\\module\\module.py\", line 504, in init_with_name\r\n    user_module._initialize(**kwargs)\r\n  File \"E:\\PythonEnv\\gpu\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\26522\\.paddlehub\\modules\\plato2_en_base\\module.py\", line 57, in _initialize\r\n    self.model = plato_models.create_model(args, fluid.CUDAPlace(0))\r\n  File \"C:\\Users\\26522\\.paddlehub\\modules\\plato2_en_base\\models\\__init__.py\", line 46, in create_model\r\n    return MODEL_REGISTRY[args.model](args, place)\r\n  File \"C:\\Users\\26522\\.paddlehub\\modules\\plato2_en_base\\models\\plato.py\", line 49, in __init__\r\n    super(Plato, self).__init__(args, place)\r\n  File \"C:\\Users\\26522\\.paddlehub\\modules\\plato2_en_base\\models\\unified_transformer.py\", line 93, in __init__\r\n    super(UnifiedTransformer, self).__init__(args, place)\r\n  File \"C:\\Users\\26522\\.paddlehub\\modules\\plato2_en_base\\models\\model_base.py\", line 84, in __init__\r\n    self._build_programs()\r\n  File \"C:\\Users\\26522\\.paddlehub\\modules\\plato2_en_base\\models\\model_base.py\", line 151, in _build_programs\r\n    self.exe.run(self.startup_program)\r\n  File \"E:\\PythonEnv\\gpu\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1299, in run\r\n    six.reraise(*sys.exc_info())\r\n  File \"E:\\PythonEnv\\gpu\\lib\\site-packages\\six.py\", line 719, in reraise\r\n    raise value\r\n  File \"E:\\PythonEnv\\gpu\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1285, in run\r\n    res = self._run_impl(\r\n  File \"E:\\PythonEnv\\gpu\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1510, in _run_impl\r\n    return self._run_program(\r\n  File \"E:\\PythonEnv\\gpu\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 1607, in _run_program\r\n    self._default_executor.run(program.desc, scope, 0, True, True,\r\nRuntimeError: parallel_for failed: cudaErrorNoKernelImageForDevice: no kernel image is available for execution on the device\r\n```\r\n\r\n# Question\r\nExcuse me, how can I modify that?",
        "state": "closed",
        "user": "imohuan",
        "closed_by": "WYB27",
        "created_at": "2022-09-28T03:58:10+00:00",
        "updated_at": "2025-06-30T07:09:07+00:00",
        "closed_at": "2025-06-30T07:09:07+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2062,
        "title": "语音合成模型一个不能用。。。。",
        "body": "![image](https://user-images.githubusercontent.com/59050960/194527882-72dec4d5-3bb3-46cb-8b79-ba847e926a19.png)\r\n![image](https://user-images.githubusercontent.com/59050960/194527977-f9bb4545-9d1d-4c4a-8f99-10021ec613d2.png)\r\n",
        "state": "closed",
        "user": "SoulBelong",
        "closed_by": "WYB27",
        "created_at": "2022-10-07T09:59:23+00:00",
        "updated_at": "2025-06-30T07:09:05+00:00",
        "closed_at": "2025-06-30T07:09:05+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2060,
        "title": "openpose 身体骨骼关键点是25个关键点，怎么获取呢？",
        "body": "我用https://github.com/CMU-Perceptual-Computing-Lab/openpose 这个身体关键点模型转换过来，但是是25个点，paddlehue 模型是17个点，导致获取关键点不正确，需要怎么获取呢？",
        "state": "closed",
        "user": "z411500976",
        "closed_by": "z411500976",
        "created_at": "2022-10-05T10:48:31+00:00",
        "updated_at": "2022-11-04T00:33:53+00:00",
        "closed_at": "2022-11-04T00:33:53+00:00",
        "comments_count": [
            "jm12138",
            "z411500976"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2057,
        "title": "文图生成",
        "body": "您好，文图生成我看提供了api接口来调用，请问提供了离线模型吗？",
        "state": "closed",
        "user": "zcswdt",
        "closed_by": "jm12138",
        "created_at": "2022-09-29T07:58:56+00:00",
        "updated_at": "2022-10-14T06:52:28+00:00",
        "closed_at": "2022-10-14T06:52:28+00:00",
        "comments_count": [
            "jm12138"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2064,
        "title": "PaddleHub 数据集该怎么定义",
        "body": "操作系统：win10\r\npython：3.7\r\n目前使用paddlehub 的ch_pp_ocrv3，想对预训练模型进行训练，请问该怎么定义数据集。OCR，是只需要一个trains.txt，里面包括图片路径和标签吗？标签等于识别结果吗？",
        "state": "closed",
        "user": "playgit2001",
        "closed_by": "jm12138",
        "created_at": "2022-10-08T09:11:40+00:00",
        "updated_at": "2022-10-12T09:45:27+00:00",
        "closed_at": "2022-10-12T09:45:27+00:00",
        "comments_count": [
            "jm12138",
            "playgit2001",
            "jm12138",
            "playgit2001",
            "playgit2001",
            "playgit2001",
            "jm12138"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2063,
        "title": "使用paddlehub的UGATIT_100w模型生成的结果图尺寸比原图小",
        "body": "我使用paddlehub的UGATIT_100w模型，通过给定一张图片，期望生成动漫风格的效果图。虽然能够成功生成动漫风格的效果图，但是效果图尺寸比原图小得多，这是我设置有问题还是模型本身的输出图就是缩小的图？\r\n",
        "state": "closed",
        "user": "thgpddl",
        "closed_by": "jm12138",
        "created_at": "2022-10-08T04:32:33+00:00",
        "updated_at": "2022-10-12T09:36:03+00:00",
        "closed_at": "2022-10-12T09:36:03+00:00",
        "comments_count": [
            "jm12138",
            "thgpddl"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2067,
        "title": "paddlehub使用disco diffusion ernievil base 报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n环境：\r\nwindows11\r\npython 3.8.13\r\npaddlepaddle 2.3.2\r\npaddlehub2.3.0\r\n代码：\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"disco_diffusion_ernievil_base\")\r\ntext_prompts = [\"孤舟蓑笠翁，独钓寒江雪。\"]\r\nda = module.generate_image(text_prompts=text_prompts, artist='齐白石', output_dir='./disco_diffusion_ernievil_base_out/')  \r\nda[0].save_uri_to_file('disco_diffusion_ernievil_base_out-result.png')\r\nda[0].chunks.plot_image_sprites(skip_empty=True, show_index=True, keep_aspect_ratio=True)\r\nda[0].chunks.save_gif('disco_diffusion_ernievil_base_out-result.gif')\r\n运行提示错误：\r\nC:\\Users\\62845\\.conda\\envs\\paddle2\\lib\\site-packages\\paddlenlp\\transformers\\image_utils.py:213: DeprecationWarning: BILINEAR is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BILINEAR instead.\r\n  resample=Image.BILINEAR,\r\nC:\\Users\\62845\\.conda\\envs\\paddle2\\lib\\site-packages\\paddlenlp\\transformers\\image_utils.py:379: DeprecationWarning: NEAREST is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.NEAREST or Dither.NONE instead.\r\n  resample=Image.NEAREST,\r\nC:\\Users\\62845\\.conda\\envs\\paddle2\\lib\\site-packages\\paddlenlp\\transformers\\ernie_vil\\feature_extraction.py:65: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\nC:\\Users\\62845\\.conda\\envs\\paddle2\\lib\\site-packages\\paddlenlp\\transformers\\clip\\feature_extraction.py:64: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  resample=Image.BICUBIC,\r\nW1011 11:49:58.713550  3056 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.7, Runtime API Version: 11.6\r\nW1011 11:49:58.718113  3056 gpu_resources.cc:91] device: 0, cuDNN Version: 8.4.\r\nTraceback (most recent call last):\r\n  File \"D:/python/envs/paddle2/paddlehub/hub_disco.py\", line 7, in <module>\r\n    da = module.generate_image(text_prompts=text_prompts,\r\n  File \"C:\\Users\\62845\\.conda\\envs\\paddle2\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\62845\\.paddlehub\\modules\\disco_diffusion_ernievil_base\\module.py\", line 139, in generate_image\r\n    return create(text_prompts=text_prompts,\r\n  File \"C:\\Users\\62845\\.paddlehub\\modules\\disco_diffusion_ernievil_base\\reverse_diffusion\\__init__.py\", line 127, in create\r\n    from .config import load_config\r\n  File \"C:\\Users\\62845\\.paddlehub\\modules\\disco_diffusion_ernievil_base\\reverse_diffusion\\config.py\", line 16, in <module>\r\n    default_args = yaml.load(ymlfile, Loader=Loader)\r\n  File \"C:\\Users\\62845\\.conda\\envs\\paddle2\\lib\\site-packages\\yaml\\__init__.py\", line 79, in load\r\n    loader = Loader(stream)\r\n  File \"C:\\Users\\62845\\.conda\\envs\\paddle2\\lib\\site-packages\\yaml\\loader.py\", line 44, in __init__\r\n    Reader.__init__(self, stream)\r\n  File \"C:\\Users\\62845\\.conda\\envs\\paddle2\\lib\\site-packages\\yaml\\reader.py\", line 85, in __init__\r\n    self.determine_encoding()\r\n  File \"C:\\Users\\62845\\.conda\\envs\\paddle2\\lib\\site-packages\\yaml\\reader.py\", line 124, in determine_encoding\r\n    self.update_raw()\r\n  File \"C:\\Users\\62845\\.conda\\envs\\paddle2\\lib\\site-packages\\yaml\\reader.py\", line 178, in update_raw\r\n    data = self.stream.read(size)\r\nUnicodeDecodeError: 'gbk' codec can't decode byte 0x80 in position 70: illegal multibyte sequence",
        "state": "closed",
        "user": "ionescofung",
        "closed_by": "jm12138",
        "created_at": "2022-10-11T04:36:45+00:00",
        "updated_at": "2022-10-12T09:35:38+00:00",
        "closed_at": "2022-10-12T09:35:38+00:00",
        "comments_count": [
            "jm12138",
            "ionescofung"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2078,
        "title": "倾斜图片矫正",
        "body": "请问下，如何将一张图片识别倾斜的角度，并将图片转正过来。可以给几行代码？\r\n",
        "state": "closed",
        "user": "tianchiguaixia",
        "closed_by": "tianchiguaixia",
        "created_at": "2022-10-18T10:03:04+00:00",
        "updated_at": "2022-10-21T07:07:18+00:00",
        "closed_at": "2022-10-21T07:07:18+00:00",
        "comments_count": [
            "jm12138",
            "tianchiguaixia",
            "jm12138",
            "tianchiguaixia",
            "jm12138"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2072,
        "title": "安装模型报错",
        "body": "![image](https://user-images.githubusercontent.com/7626261/195753419-c7031f28-3e5f-44e4-a5f5-f1254e18482b.png)\r\n想试用模型，可是却报错了\r\n\r\npaddlepaddle 2.3.0\r\npaddle hub 2.3.0",
        "state": "closed",
        "user": "hbo-lambda",
        "closed_by": "jm12138",
        "created_at": "2022-10-14T03:11:37+00:00",
        "updated_at": "2022-10-14T06:52:15+00:00",
        "closed_at": "2022-10-14T06:52:15+00:00",
        "comments_count": [
            "jm12138",
            "hbo-lambda",
            "hbo-lambda"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2080,
        "title": "Paddlehub 服务",
        "body": "paddlehub是否能，一个服务中多个模型，通过加参数的方式，不同类型的图片使用不同的模型来预测？\r\n或者是做不到，然后启动多个Paddlehub服务？",
        "state": "closed",
        "user": "playgit2001",
        "closed_by": "WYB27",
        "created_at": "2022-10-20T08:21:54+00:00",
        "updated_at": "2025-06-30T07:09:01+00:00",
        "closed_at": "2025-06-30T07:09:01+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2079,
        "title": "Paddlehub 服务没响应",
        "body": "\r\n![image](https://user-images.githubusercontent.com/108321233/196894305-557d8151-a20e-414f-925d-f927331596a6.png)\r\n我用PaddleOCR训练后的模型，启动ocr_system串联服务，再输入以下指令，没响应是什么情况\r\npython tools/test_hubserving.py --server_url http://127.0.0.1:8868/predict/ocr_system --image_dir C:/Users/zhu_h/workspace/paddlehub/PaddleOCR/datasets/icdar2015/text_localization/train/186.jpg\r\n",
        "state": "closed",
        "user": "playgit2001",
        "closed_by": "WYB27",
        "created_at": "2022-10-20T08:16:51+00:00",
        "updated_at": "2025-06-30T07:09:03+00:00",
        "closed_at": "2025-06-30T07:09:03+00:00",
        "comments_count": [
            "jm12138",
            "playgit2001",
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2083,
        "title": "Cannot access deeplabv3p_xception65_humanseg",
        "body": "Environment:\r\n\r\nPython 3.9.13\r\npaddle-bfloat      0.1.7\r\npaddle2onnx        1.0.1\r\npaddlefsl          1.1.0\r\npaddlehub          2.3.0\r\npaddlenlp          2.4.1\r\npaddlepaddle       2.3.2\r\npaddleseg          2.6.0\r\n\r\nWindows 10\r\n\r\nProblem: I tried to convert deeplabv3p_xception65_humanseg to ONNX. However, two different ways to load the model failed.\r\n\r\n1. According to https://github.com/PaddlePaddle/PaddleHub/blob/develop/modules/image/semantic_segmentation/deeplabv3p_xception65_humanseg/README_en.md use \r\n``` \r\n(.venv) D:\\Local\\devel\\Python\\PaddleSeg>hub install deeplabv3p_xception65_humanseg\r\nTraceback (most recent call last):\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\runpy.py\", line 197, in _run_module_as_\r\nmain\r\n    return _run_code(code, main_globals, None,\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\Scripts\\hub.exe\\__main__.py\", line\r\n 7, in <module>\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\comman\r\nds\\utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\comman\r\nds\\install.py\", line 47, in execute\r\n    manager.install(directory=_arg)\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\module\r\n\\manager.py\", line 192, in install\r\n    return self._install_from_directory(directory)\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\module\r\n\\manager.py\", line 342, in _install_from_directory\r\n    module_info = HubModule.load_module_info(directory)\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\module\r\n\\module.py\", line 457, in load_module_info\r\n    with codecs.open(module_file, 'r', encoding='utf8') as file:\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\codecs.py\", line 905, in open\r\n    file = builtins.open(filename, mode, buffering)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'deeplabv3p_xception65_h\r\numanseg\\\\module.py' \r\n```\r\n\r\n2. Tried to load in a python script using:\r\n```\r\n    model_name = \"deeplabv3p_xception65_humanseg\"\r\n    save_path = './' + model_name\r\n    model = hub.Module(name=model_name)\r\n    paddle.onnx.export(model, save_path,\r\n                      #  input_spec=[input_spec],\r\n                       opset_version=11) \r\n```\r\nresults in \r\n```\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/deeplabv3p_xception65_humanseg_1.1.2.tar.gz\r\n[##################################################] 100.00%\r\nDecompress C:\\Users\\ukoehler\\.paddlehub\\tmp\\tmp9n4mycm6\\deeplabv3p_xception65_humanseg_1.1.2.tar.gz      \r\n<traceback object at 0x0000021BD22A7080>\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\utils\\xarfile.py\", line 228, in unarchive_with_progress\r\n    total_size += file.getxarinfo(filename).size\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\utils\\xarfile.py\", line 153, in getxarinfo\r\n    return XarInfo(self._archive_fp.getmember(name), self.arctype)\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\tarfile.py\", line 1799, in getmember\r\n    raise KeyError(\"filename %r not found\" % name)\r\nKeyError: \"filename 'deeplabv3p_xception65_humanseg/deeplabv3p_xception65_humanseg_model/decoder/separable_conv2/pointwise/' not found\"\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\utils\\utils.py\", line 185, in generate_tempdir\r\n    yield _dir\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 374, in _install_from_archive\r\n    for path, ds, ts in xarfile.unarchive_with_progress(archive, _tdir):\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\utils\\xarfile.py\", line 233, in unarchive_with_progress\r\n    yield filename, extract_size, total_size\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\utils\\xarfile.py\", line 109, in __exit__\r\n    raise exit_exception(exit_value)\r\nKeyError: KeyError(\"filename 'deeplabv3p_xception65_humanseg/deeplabv3p_xception65_humanseg_model/decoder/separable_conv2/pointwise/' not found\")\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\shutil.py\", line 627, in _rmtree_unsafe\r\n    os.unlink(fullname)\r\nPermissionError: [WinError 32] Der Prozess kann nicht auf die Datei zugreifen, da sie von einem anderen Prozess verwendet wird: 'C:\\\\Users\\\\ukoehler\\\\.paddlehub\\\\tmp\\\\tmp9n4mycm6\\\\deeplabv3p_xception65_humanseg_1.1.2.tar.gz'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\tempfile.py\", line 805, in onerror\r\n    _os.unlink(path)\r\nPermissionError: [WinError 32] Der Prozess kann nicht auf die Datei zugreifen, da sie von einem anderen Prozess verwendet wird: 'C:\\\\Users\\\\ukoehler\\\\.paddlehub\\\\tmp\\\\tmp9n4mycm6\\\\deeplabv3p_xception65_humanseg_1.1.2.tar.gz'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"d:\\Local\\devel\\Python\\PaddleSeg\\deeplabv3p_xception65_humanseg\\convert_to_onnx.py\", line 47, in <module>\r\n    model = hub.Module(name=model_name)\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\module\\module.py\", line 390, in __new__\r\n    module = cls.init_with_name(name=name,\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\module\\module.py\", line 488, in init_with_name\r\n    user_module_cls = manager.install(name=name,\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 265, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\contextlib.py\", line 137, in __exit__\r\n    self.gen.throw(typ, value, traceback)\r\n  File \"D:\\Local\\devel\\Python\\PaddleSeg\\.venv\\lib\\site-packages\\paddlehub\\utils\\utils.py\", line 185, in generate_tempdir\r\n    yield _dir\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\tempfile.py\", line 830, in __exit__\r\n    self.cleanup()\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\tempfile.py\", line 834, in cleanup\r\n    self._rmtree(self.name)\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\tempfile.py\", line 816, in _rmtree\r\n    _shutil.rmtree(name, onerror=onerror)\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\shutil.py\", line 759, in rmtree\r\n    return _rmtree_unsafe(path, onerror)\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\shutil.py\", line 629, in _rmtree_unsafe\r\n    onerror(os.unlink, fullname, sys.exc_info())\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\tempfile.py\", line 808, in onerror\r\n    cls._rmtree(path)\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\tempfile.py\", line 816, in _rmtree\r\n    _shutil.rmtree(name, onerror=onerror)\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\shutil.py\", line 759, in rmtree\r\n    return _rmtree_unsafe(path, onerror)\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\shutil.py\", line 610, in _rmtree_unsafe\r\n    onerror(os.scandir, path, sys.exc_info())\r\n  File \"D:\\Local\\Python\\Python3.9.13\\lib\\shutil.py\", line 607, in _rmtree_unsafe\r\n    with os.scandir(path) as scandir_it:\r\nNotADirectoryError: [WinError 267] Der Verzeichnisname ist ungültig: 'C:\\\\Users\\\\ukoehler\\\\.paddlehub\\\\tmp\\\\tmp9n4mycm6\\\\deeplabv3p_xception65_humanseg_1.1.2.tar.gz'\r\n```\r\nThe first error is strange, since the folder 'deeplabv3p_xception65_humanseg/deeplabv3p_xception65_humanseg_model/decoder/separable_conv2/pointwise/' is indeed available in the *.tar.gz file. The secondary error messages reports the *.tar.gz file being locked by another process. This means that the temporary file is not deleted.\r\n\r\nCan you point me in the right direction to fix the problem, please?",
        "state": "closed",
        "user": "ukoehler",
        "closed_by": "ukoehler",
        "created_at": "2022-10-20T12:35:41+00:00",
        "updated_at": "2023-01-10T13:07:54+00:00",
        "closed_at": "2023-01-10T13:07:54+00:00",
        "comments_count": [
            "ukoehler",
            "jm12138",
            "jm12138",
            "jm12138",
            "ukoehler",
            "ukoehler",
            "ukoehler",
            "ukoehler"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2084,
        "title": "使用出现RuntimeError",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddlehub==1.8.3，paddlepaddle==2.3.2\r\n2）系统环境：Windows 7\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n```\r\nimport paddlehub as hub\r\n\r\n\r\ndef genImage():\r\n    module = hub.Module(name=\"ernie_vilg\")\r\n    results = module.generate_image(text_prompts=[\"王者之心\"])\r\n\r\n\r\ndef textAna():\r\n    lac = hub.Module(name=\"lac\")\r\n    test_text = [\"今天是个好天气。\"]\r\n\r\n    results = lac.cut(\r\n        text=test_text, use_gpu=False, batch_size=1, return_tag=True)\r\n    print(results)\r\n    #{'word': ['今天', '是', '个', '好天气', '。'], 'tag': ['TIME', 'v', 'q', 'n', 'w']}\r\n\r\n\r\ngenImage()\r\n#textAna()\r\n```\r\n\r\n无论调用genImage()还是textAna()函数，都会出现RuntimeError\r\n\r\n```\r\n[2022-10-24 09:40:04,237] [    INFO] - Installing ernie_vilg module\r\nTraceback (most recent call last):\r\n  File \"e:/MyProjects/py-demo/aiApp/ai02.py\", line 26, in <module>\r\n    genImage()\r\n  File \"e:/MyProjects/py-demo/aiApp/ai02.py\", line 12, in genImage\r\n    module = hub.Module(name=\"ernie_vilg\")\r\n  File \"E:\\Python37\\lib\\site-packages\\paddlehub\\module\\module.py\", line 102, in __new__\r\n    name=name, version=version, **kwargs)\r\n  File \"E:\\Python37\\lib\\site-packages\\paddlehub\\module\\module.py\", line 171, in init_with_name\r\n    module_name=name, module_version=version, extra=extra)\r\n  File \"E:\\Python37\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 127, in install_module\r\n    self.all_modules(update=True)\r\n  File \"E:\\Python37\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 105, in all_modules\r\n    valid, info = self.check_module_valid(sub_dir_path)\r\n  File \"E:\\Python37\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 72, in check_module_valid\r\n    \"{}.module\".format(basename))\r\n  File \"E:\\Python37\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"C:\\Users\\liaoxuewei\\.paddlehub\\modules\\ernie_vilg\\module.py\", line 29, in <module>\r\n    author_email=\"paddle-dev@baidu.com\")\r\n  File \"E:\\Python37\\lib\\site-packages\\paddlehub\\module\\module.py\", line 80, in _wrapper\r\n    raise RuntimeError\r\nRuntimeError\r\n```\r\n",
        "state": "closed",
        "user": "liaoxuewei",
        "closed_by": "jm12138",
        "created_at": "2022-10-24T01:43:57+00:00",
        "updated_at": "2022-10-24T02:23:36+00:00",
        "closed_at": "2022-10-24T02:23:36+00:00",
        "comments_count": [
            "jm12138",
            "liaoxuewei",
            "jm12138",
            "liaoxuewei"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2086,
        "title": "hub install 报错",
        "body": " \r\n执行：hub install Photo2Cartoon\r\n\r\n错误如下：\r\n\r\n File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\json\\decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\commands\\install.py\", line 55, in execute\r\n    manager.install(name=name, version=version, ignore_env_mismatch=args.ignore_env_mismatch)\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 262, in _install_from_name\r\n    result = module_server.search_module(name=name, version=version)\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\server\\server.py\", line 87, in search_module\r\n    return self.search_resource(\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\server\\server.py\", line 113, in search_resource\r\n    result = source.search_resource(name=name, type=type, version=version)\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\server\\server_source.py\", line 77, in search_resource\r\n    result = self.request(path='search', params=params)\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\server\\server_source.py\", line 118, in request\r\n    return result.json()\r\n  File \"D:\\dev-soft\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\requests\\models.py\", line 917, in json\r\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\r\nrequests.exceptions.JSONDecodeError: [Errno Expecting value] <!doctype html><html lang=\"zh-cmn-Hans-CN\"><head><meta charset=\"utf-8\"/><meta http-equiv=\"refresh\" content=\"4;url=/\"><!--[if IE]><link rel=\"shortcut icon\" href=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/favicon.ico\"><![endif]--><link rel=\"icon\" href=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/favicon-48.png\" sizes=\"48x48\"><link rel=\"icon\" href=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/favicon-64.png\" sizes=\"64x64\"><link rel=\"icon\" href=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/favicon-128.png\" sizes=\"128x128\"><meta name=\"viewport\" content=\"width=device-width\"/><meta name=\"theme-color\" content=\"#fff\"/><link rel=\"manifest\" href=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/manifest.json\"/><title>飞桨PaddlePaddle-源于产业实践的开源深度学习平台</title><meta name=\"keywords\" content=\"飞桨PaddlePaddle\"/><meta name=\"description\" content=\"飞桨PaddlePaddle-源于产业实践的开源深度学习平台\"/><script>if(void 0===_historyPolyfill){var _historyPolyfill=function(t){var n=history[t];function e(t){var n;return\"function\"==typeof Event?n=new Event(t):(n=document.createEvent(\"Event\")).initEvent(t,!0,!0),n}return function(){var i=n.apply(this,arguments),o=t.toLowerCase(),r=\"on\"+o,a=e(o);return a.arguments=arguments,window.dispatchEvent(a),\"function\"==typeof window[r]&&window[r].apply(this,arguments),i}};history.pushState=_historyPolyfill(\"pushState\"),history.replaceState=_historyPolyfill(\"replaceState\")}</script><script>var _hmt=_hmt||{};!function(){var e=function(){_hmt=_hmt||{};var e=document.getElementById(\"baidu-tj\");e&&e.parentNode.removeChild(e);var t=document.createElement(\"script\");t.id=\"baidu-tj\",t.src=\"https://hm.baidu.com/hm.js?89be97848720f62fa00a07b1e0d83ae6\";var n=document.getElementsByTagName(\"script\")[0];n.parentNode.insertBefore(t,n),setTimeout((function(){\"function\"!=typeof _hmt.push&&(_hmt=void 0)}),0)};e(),window.addEventListener(\"popstate\",e),window.addEventListener(\"pushstate\",e),window.addEventListener(\"replacestate\",e)}()</script><script>!function(){var t=function(){var t=document.getElementById(\"baidu-push\");t&&t.parentNode.removeChild(t);var e=document.createElement(\"script\");e.id=\"baidu-push\";var n=window.location.protocol.split(\":\")[0];e.src=\"https\"===n?\"https://zz.bdstatic.com/linksubmit/push.js\":\"http://push.zhanzhang.baidu.com/push.js\";var a=document.getElementsByTagName(\"script\")[0];a.parentNode.insertBefore(e,a)};t(),window.addEventListener(\"popstate\",t),window.addEventListener(\"pushstate\",t),window.addEventListener(\"replacestate\",t)}()</script><style>.paddle-s-e-o{position:absolute;overflow:hidden;height:0;width:0}</style><link href=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/static/css/common.e8f70c71.chunk.css\" rel=\"stylesheet\"><link href=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/static/css/404.4a3f11e8.chunk.css\" rel=\"stylesheet\"></head><body><style>.paddle-logo{position:absolute;overflow:hidden;height:0;width:0}</style><div class=\"paddle-logo\"><img src=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/static/media/paddlelogo.0b483fa7.png\"/></div><noscript>You need to enable JavaScript to run this app.</noscript><div style=\"height:0;overflow:hidden\">\\u200E</div><div id=\"root\"></div><div class=\"paddle-s-e-o\"><div class=\"header\"></div></div><script src=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/static/js/runtime.393fb9ff.js\"></script><script src=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/static/js/common.d9c2232f.chunk.js\"></script><script src=\"https://paddlepaddle-org-cn.cdn.bcebos.com/paddle-site-front/static/js/404.d28ca1b8.chunk.js\"></script></body></html>: 0",
        "state": "closed",
        "user": "javadoge",
        "closed_by": "WYB27",
        "created_at": "2022-10-27T06:52:44+00:00",
        "updated_at": "2025-06-30T07:08:59+00:00",
        "closed_at": "2025-06-30T07:08:59+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2096,
        "title": "版本环境",
        "body": "https://aistudio.baidu.com/aistudio/projectdetail/147006?channelType=0&channel=0\r\n环境一直跑不通：dataset = hub.datasets.ChnSentiCorp()\r\n报错：\r\n![image](https://user-images.githubusercontent.com/29837553/198917284-54d1c995-5f6f-4d3d-89c9-918895983352.png)\r\n请问下，paddlehub文本分类，有跑的通的环境？",
        "state": "closed",
        "user": "tianchiguaixia",
        "closed_by": "jm12138",
        "created_at": "2022-10-31T02:14:28+00:00",
        "updated_at": "2022-11-02T10:00:28+00:00",
        "closed_at": "2022-11-02T06:12:23+00:00",
        "comments_count": [
            "jm12138",
            "tianchiguaixia",
            "tianchiguaixia",
            "jm12138",
            "tianchiguaixia"
        ],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2107
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2108
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2099,
        "title": "通过hub serving start启动PaddleHub Serving，能否多个模型用同一个端口8866，通过url路径参数区分模型，并提供DEMO代码。",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 通过hub serving start启动PaddleHub Serving，能否多个模型用同一个端口8866，通过url路径参数区分模型，并提供DEMO代码。\r\n- 什么样的场景下需要该特性？\r\n- 同一个网站上提供图片识别，一共有三种模型，模型1为验证码识别，模型2为身份证件识别，模型3为动物识别\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 不能\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 没有\r\n- 如果可以的话，简要描述下您的解决方案\r\n- 暂无\r\n",
        "state": "closed",
        "user": "waizao",
        "closed_by": "WYB27",
        "created_at": "2022-11-02T13:52:21+00:00",
        "updated_at": "2025-06-30T07:08:57+00:00",
        "closed_at": "2025-06-30T07:08:57+00:00",
        "comments_count": [
            "rainyfly",
            "waizao",
            "rainyfly",
            "waizao",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2121
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2109,
        "title": "建议提供自动生成api文档的功能，类似fastapi",
        "body": "serving部署hub自带模型，不知道api格式，建议提供自动生成api文档的功能，类似fastapi",
        "state": "closed",
        "user": "233lol",
        "closed_by": "WYB27",
        "created_at": "2022-11-06T02:14:37+00:00",
        "updated_at": "2025-06-30T07:08:55+00:00",
        "closed_at": "2025-06-30T07:08:55+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2110,
        "title": "ERNIE-VILG总访问量超限",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "thomas-yanxin",
        "closed_by": "thomas-yanxin",
        "created_at": "2022-11-06T14:57:40+00:00",
        "updated_at": "2022-11-09T11:20:31+00:00",
        "closed_at": "2022-11-09T11:20:30+00:00",
        "comments_count": [
            "yytdfc",
            "jm12138",
            "wanpower",
            "qiceng"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2119,
        "title": "是文档没更新吗？",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n系统是macos最新版本\r\npaddlepaddle的版本信息：\r\npaddle-bfloat         0.1.7\r\npaddle-serving-app    0.9.0\r\npaddle-serving-client 0.9.0\r\npaddle-serving-server 0.9.0\r\npaddle2onnx           1.0.1\r\npaddlefsl             1.1.0\r\npaddlehub             2.3.0\r\npaddlenlp             2.4.2\r\npaddlepaddle          2.3.2\r\n\r\n\r\n执行官方文档命令：hub serving start -m lac        \r\n\r\n报错信息：\r\n  Traceback (most recent call last):\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 352, in execute\r\n    self.start_serving()\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 245, in start_serving\r\n    self.start_single_app_with_args()\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 221, in start_single_app_with_args\r\n    self.preinstall_modules()\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddlehub/commands/serving.py\", line 152, in preinstall_modules\r\n    m = hub.Module(**init_args)\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddlehub/module/module.py\", line 396, in __new__\r\n    **kwargs)\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddlehub/module/module.py\", line 508, in init_with_name\r\n    return user_module_cls(directory=directory, **kwargs)\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddlehub/compat/module/module_v1.py\", line 50, in __init__\r\n    self._load_model()\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddlehub/compat/module/module_v1.py\", line 115, in _load_model\r\n    self.program, _, _ = paddle.static.load_inference_model(model_path, executor=exe)\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 443, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddle/static/io.py\", line 799, in load_inference_model\r\n    program_bytes = load_from_file(model_path)\r\n  File \"/Users/arno/anaconda3/envs/videoEnh/lib/python3.7/site-packages/paddle/static/io.py\", line 675, in load_from_file\r\n    with open(path, 'rb') as f:\r\nFileNotFoundError: [Errno 2] No such file or directory: '/Users/arno/.paddlehub/modules/lac/model.pdmodel'\r\n",
        "state": "closed",
        "user": "wuxiang666",
        "closed_by": "jm12138",
        "created_at": "2022-11-08T11:36:26+00:00",
        "updated_at": "2022-11-11T02:12:57+00:00",
        "closed_at": "2022-11-11T02:12:57+00:00",
        "comments_count": [
            "wuxiang666",
            "jm12138",
            "wuxiang666"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2123,
        "title": "PaddleHub关于save_inference_model()的问题",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.2.0，PaddlePaddle2.2.0\r\n2）系统环境：BML Codelab，python3.7.4\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nimport paddlehub as hub\r\nface_detector = hub.Module(name=\"pyramidbox_lite_mobile\")\r\nface_detector.save_inference_model(dirname=\"work\")\r\n\r\n报错信息：\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n/tmp/ipykernel_13859/2576957096.py in <module>\r\n      5 # result = face_detector.face_detection(paths=['work/test1/00001.jpg'])\r\n      6 # print(result)\r\n----> 7 face_detector.save_inference_model(dirname=\"work\")\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py in runner(*args, **kwargs)\r\n    218     def runner(*args, **kwargs):\r\n    219         with static_mode_guard():\r\n--> 220             return func(*args, **kwargs)\r\n    221 \r\n    222     return runner\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in save_inference_model(self, dirname, model_filename, params_filename, input_spec, include_sub_modules, combined)\r\n    192         '''\r\n    193         if include_sub_modules:\r\n--> 194             for key, _sub_module in self.sub_modules().items():\r\n    195                 try:\r\n    196                     sub_dirname = os.path.normpath(os.path.join(dirname, key))\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py in runner(*args, **kwargs)\r\n    218     def runner(*args, **kwargs):\r\n    219         with static_mode_guard():\r\n--> 220             return func(*args, **kwargs)\r\n    221 \r\n    222     return runner\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in sub_modules(self, recursive)\r\n    156         '''\r\n    157         _sub_modules = {}\r\n--> 158         for key, item in self.__dict__.items():\r\n    159             if id(item) == id(self):\r\n    160                 continue\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __getattribute__(self, attr)\r\n     88     # execution of the static graph model to fail, so compatibility protection is required.\r\n     89     def __getattribute__(self, attr):\r\n---> 90         _attr = object.__getattribute__(self, attr)\r\n     91 \r\n     92         # If the acquired attribute is a built-in property of the object, skip it.\r\n\r\nTypeError: descriptor '__dict__' for 'PyramidBoxLiteMobile' objects doesn't apply to 'PyramidBoxLiteMobile' object\r\n",
        "state": "closed",
        "user": "TIAN2019CH",
        "closed_by": "WYB27",
        "created_at": "2022-11-13T15:05:15+00:00",
        "updated_at": "2025-06-30T07:08:54+00:00",
        "closed_at": "2025-06-30T07:08:54+00:00",
        "comments_count": [
            "jm12138",
            "TIAN2019CH",
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2125,
        "title": "怎么在代码里调用GPU版本的paddlehub?",
        "body": "我下载了11.6的版本\r\n也装了CUDA \r\nCUDNN\r\n然后在试disco_diffusion_ernievil_base模型的时候超级慢 30分钟才1%\r\n我电脑是2070s显卡  10700Kcup的应该不至于吧 \r\n下面是我的代码\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"disco_diffusion_ernievil_base\")#ernie-vilg disco_diffusion_ernievil_base stable_diffusion\r\nresult = module.generate_image(text_prompts=\"冰雪覆盖城堡，粉色玫瑰氛围，迪斯尼风格，皮克斯风格，童话色彩，3D,色彩生动,鲜活,辛烷渲染\",\r\n                               output_dir='e')\r\n\r\n要怎么样才能快\r\n",
        "state": "closed",
        "user": "vvvtz",
        "closed_by": "WYB27",
        "created_at": "2022-11-16T02:13:05+00:00",
        "updated_at": "2025-06-30T07:08:50+00:00",
        "closed_at": "2025-06-30T07:08:50+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2124,
        "title": "安装resnet_v2_50_imagenet模型报错",
        "body": "python版本：3.7.4\r\npaddlepaddle版本：1.7.2（安装命令：pip install paddlepaddle==1.7.2 -i https://mirror.baidu.com/pypi/simple）\r\npaddlehub版本：1.6.0（安装命令：pip install paddlehub==1.6.0 -i https://mirror.baidu.com/pypi/simple）\r\nresent_v2_50_imagenet版本：1.0.1（安装命令：hub install resnet_v2_50_imagenet==1.0.1）\r\n安装报错信息\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\Scripts\\hub.exe\\__main__.py\", line 4, in <module>\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\__init__.py\", line 25, in <module>\r\n    from . import module\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\__init__.py\", line 16, in <module>\r\n    from . import module\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\module.py\", line 31, in <module>\r\n    from paddlehub.common import utils\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\common\\__init__.py\", line 16, in <module>\r\n    from . import utils\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\common\\utils.py\", line 33, in <module>\r\n    from paddlehub.common.logger import logger\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 155, in <module>\r\n    logger = Logger()\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\common\\logger.py\", line 67, in __init__\r\n    level = json.load(fp).get(\"log_level\", \"DEBUG\")\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\json\\__init__.py\", line 296, in load\r\n    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\json\\__init__.py\", line 348, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\json\\decoder.py\", line 337, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"D:\\anaconda3\\envs\\paddle_env\\lib\\json\\decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)",
        "state": "closed",
        "user": "AdTomato",
        "closed_by": "WYB27",
        "created_at": "2022-11-16T02:06:03+00:00",
        "updated_at": "2025-06-30T07:08:52+00:00",
        "closed_at": "2025-06-30T07:08:52+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2128,
        "title": "ERNIE-VILG 日访问量超限",
        "body": "#2110 \r\n\r\n版本、环境信息：\r\n- paddlepaddle-gpu: 2.3.0.post111\r\n- paddlehub: 2.3.0\r\n- Linux\r\n- python3.8\r\n\r\n```\r\nRuntimeError                              Traceback (most recent call last)\r\nCell In [5], line 2\r\n      1 # 生成并保存图片\r\n----> 2 results = ernie_vilg_module.generate_image(text_prompts=\"戴着眼镜的猫，像素风格\", style=\"卡通\", output_dir='./ernievilg_output')\r\n\r\nFile /usr/local/lib/python3.8/site-packages/paddlehub/compat/paddle_utils.py:221, in run_in_static_mode.<locals>.runner(*args, **kwargs)\r\n    219 def runner(*args, **kwargs):\r\n    220     with static_mode_guard():\r\n--> 221         return func(*args, **kwargs)\r\n\r\nFile ~/.paddlehub/modules/ernie_vilg/module.py:113, in ErnieVilG.generate_image(self, text_prompts, style, resolution, topk, visualization, output_dir)\r\n    111   else:\r\n    112     print(res['msg'])\r\n--> 113     raise RuntimeError(res['msg'])\r\n    115 start_time = time.time()\r\n    116 process_bar = tqdm(total=100, unit='%')\r\n\r\nRuntimeError: 日访问量超限\r\n```",
        "state": "closed",
        "user": "Haibarayu",
        "closed_by": "Haibarayu",
        "created_at": "2022-11-16T10:39:44+00:00",
        "updated_at": "2022-11-17T11:08:45+00:00",
        "closed_at": "2022-11-17T11:08:45+00:00",
        "comments_count": [
            "jm12138",
            "Haibarayu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2129,
        "title": "根据文档安装paddle和pabblehub运行后报错",
        "body": "macOS Big Sur   11.2.3\r\npython 3.10\r\npaddlePaddle 3.2.0\r\npaddleHub 最新版（用下面的命令安装的）\r\n安装参考：\r\n\r\n`pip install --upgrade paddlehub -i https://mirror.baidu.com/pypi/simple\r\n\r\nimport paddlehub as hub\r\n\r\nlac = hub.Module(name=\"lac\")\r\ntest_text = [\"今天是个好天气。\"]`\r\n\r\n错误信息：\r\n![image](https://user-images.githubusercontent.com/80509361/202373132-a0a78a03-8cbf-4549-b20e-88c2267d9d2e.png)\r\n",
        "state": "closed",
        "user": "zswiori",
        "closed_by": "WYB27",
        "created_at": "2022-11-17T06:31:29+00:00",
        "updated_at": "2025-06-30T07:08:48+00:00",
        "closed_at": "2025-06-30T07:08:48+00:00",
        "comments_count": [
            "jm12138",
            "zswiori",
            "zswiori",
            "jm12138",
            "zswiori",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2131,
        "title": " PaddleHub模型下载后在PaddleDetection中部署的问题",
        "body": "我想在PaddleDetection中使用C++运行 PaddleHub模型的模型。我下载了https://www.paddlepaddle.org.cn/hubdetail?name=pyramidbox_lite_mobile_mask&en_category=FaceDetection 中的模型，保存到本地后只有 __model__和__params__两个文件。但是PaddleDetection还需要infer_cfg.yml才可以运行，请问有什么方法能够得到模型对应的这个文件吗？\r\n\r\nPaddleHub版本2.5\r\nPaddleDetection版本2.5\r\n",
        "state": "closed",
        "user": "bittergourd1224",
        "closed_by": "bittergourd1224",
        "created_at": "2022-11-21T08:30:57+00:00",
        "updated_at": "2022-11-23T03:11:42+00:00",
        "closed_at": "2022-11-23T03:11:42+00:00",
        "comments_count": [
            "jm12138",
            "bittergourd1224",
            "jm12138",
            "bittergourd1224",
            "jm12138",
            "bittergourd1224"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2137,
        "title": "jetson nx 使用GPU推理无结果",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n- 版本   paddlehub2.3.0 paddlepaddle2.4.0\r\n- 环境   jetson nx python3.8 \r\n- 报错   同一模型、图片使用GPU推理时无结果并且无报错信息 使用CPU推理时有结果 \r\n",
        "state": "closed",
        "user": "ccLemonTree",
        "closed_by": "WYB27",
        "created_at": "2022-11-25T02:03:28+00:00",
        "updated_at": "2025-06-30T07:08:46+00:00",
        "closed_at": "2025-06-30T07:08:46+00:00",
        "comments_count": [
            "jm12138",
            "ccLemonTree",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2139,
        "title": "PaddleHub一键OCR中文识别",
        "body": "Sir ,I upload new pictures and  adjust corresponding code in the web ,\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/5121515?forkThirdPart=1\r\nwhile there is wrong \r\n[2022-11-25 15:33:00,667] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nI will apprieciate it ,if you could help me solve this problem.\r\nThanks for your reading.",
        "state": "closed",
        "user": "MaxokDavid",
        "closed_by": "WYB27",
        "created_at": "2022-11-25T07:42:14+00:00",
        "updated_at": "2025-06-30T07:08:44+00:00",
        "closed_at": "2025-06-30T07:08:44+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2142,
        "title": "paddlehub的多目标追踪模型fairmot_dla34检测视频时出现问题？",
        "body": "使用fairmot_dla34检测视频得到的结果是下图这样的，这是什么原因？\r\n- 如图所示：（发现所有视频检测的结果都像这样乱成一团）\r\n\r\n![00000](https://user-images.githubusercontent.com/84402194/204079571-557b7f1f-9c9b-4bd6-8bcd-ee3be0ede1fd.jpg)\r\n",
        "state": "closed",
        "user": "zhangmoumou",
        "closed_by": "WYB27",
        "created_at": "2022-11-26T08:23:08+00:00",
        "updated_at": "2025-06-30T07:08:42+00:00",
        "closed_at": "2025-06-30T07:08:42+00:00",
        "comments_count": [
            "jm12138",
            "zhangmoumou",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2149,
        "title": "模型打包问题",
        "body": "你好，请问下为什么我打包paddlehub之后运行时会提示缺少__future__？看了日志是在paddle\\fluid\\__init__.py中调用了__future__,请问我应该如何解决？",
        "state": "closed",
        "user": "CyberAI-XDU",
        "closed_by": "WYB27",
        "created_at": "2022-11-29T14:01:44+00:00",
        "updated_at": "2025-06-30T07:08:38+00:00",
        "closed_at": "2025-06-30T07:08:38+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2144,
        "title": "PaddleHub一键OCR中文识别-五、部署服务器",
        "body": "Sir, thanks for your guidance. I have completed online image recognition according the article\r\nhttps://aistudio.baidu.com/aistudio/projectdetail/5121515\r\nWhile, I am unable to know how to deploy the server through the notebook.I will appreciate it ,if you give me detail steps about deploying the server -\"五、部署服务器\" by this notebook.\r\nThanks for your reading.\r\n",
        "state": "closed",
        "user": "MaxokDavid",
        "closed_by": "WYB27",
        "created_at": "2022-11-28T05:34:47+00:00",
        "updated_at": "2025-06-30T07:08:40+00:00",
        "closed_at": "2025-06-30T07:08:40+00:00",
        "comments_count": [
            "jm12138",
            "MaxokDavid",
            "MaxokDavid",
            "jm12138",
            "MaxokDavid",
            "jm12138",
            "MaxokDavid",
            "jm12138",
            "MaxokDavid",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2155,
        "title": "no module ",
        "body": "\r\n1）PaddleHub2.0.0和PaddlePaddle2.0.0版本\r\n2）系统环境Windows\r\n",
        "state": "closed",
        "user": "MaxokDavid",
        "closed_by": "jm12138",
        "created_at": "2022-12-02T05:39:46+00:00",
        "updated_at": "2022-12-02T09:44:00+00:00",
        "closed_at": "2022-12-02T09:44:00+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2150,
        "title": "hub加载模型报错",
        "body": "PaddleHub2.3.0，PaddlePaddle2.3.2\r\nBML_CodeLab环境，python3.7.4\r\n报错代码\r\nmodel = hub.Module(name='ernie_tiny')\r\n# pairtwise任务需要: query, title_left, title_right (3 slots)\r\n_inputs, outputs, program = module.context(trainable=True, max_seq_len=128, num_slots=3)_\r\n报错信息\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py in runner(*args, **kwargs)\r\n    219     def runner(*args, **kwargs):\r\n    220         with static_mode_guard():\r\n--> 221             return func(*args, **kwargs)\r\n    222 \r\n    223     return runner\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py in runner(*args, **kwargs)\r\n    219     def runner(*args, **kwargs):\r\n    220         with static_mode_guard():\r\n--> 221             return func(*args, **kwargs)\r\n    222 \r\n    223     return runner\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/compat/module/nlp_module.py in context(self, max_seq_len, trainable, num_slots)\r\n    236         startup_program = paddle.static.Program()\r\n    237         with paddle.static.program_guard(module_program, startup_program):\r\n--> 238             with paddle.utils.unique_name.guar.guard():\r\n    239                 input_ids = paddle.static.data(name='input_ids', shape=[-1, max_seq_len, 1], dtype='int64', lod_level=0)\r\n    240                 position_ids = paddle.static.data(name='position_ids',\r\n\r\nAttributeError: module 'paddle.utils.unique_name' has no attribute 'guar'\r\n",
        "state": "closed",
        "user": "fjysm",
        "closed_by": "WYB27",
        "created_at": "2022-11-30T08:48:14+00:00",
        "updated_at": "2025-06-30T07:08:36+00:00",
        "closed_at": "2025-06-30T07:08:36+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2153,
        "title": "ImportError: cannot import name 'save_wav' from 'paddleaudio'",
        "body": "hub serving start -m u2_conformer_wenetspeech\r\n\r\n\r\n[2022-12-02 11:01:50,688] [    INFO] - Successfully uninstalled u2_conformer_wenetspeech\r\n[2022-12-02 11:02:06,662] [ WARNING] - Some errors occurred while installing dependent packages. Detailed error information can be found in the /root/.paddlehub/log/20221202.log.\r\nTraceback (most recent call last):\r\n  File \"/root/anaconda3/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/commands/serving.py\", line 352, in execute\r\n    self.start_serving()\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/commands/serving.py\", line 245, in start_serving\r\n    self.start_single_app_with_args()\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/commands/serving.py\", line 221, in start_single_app_with_args\r\n    self.preinstall_modules()\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/commands/serving.py\", line 152, in preinstall_modules\r\n    m = hub.Module(**init_args)\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/module/module.py\", line 393, in __new__\r\n    module = cls.init_with_name(\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/module/module.py\", line 492, in init_with_name\r\n    user_module_cls = manager.install(\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 265, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 380, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/module/manager.py\", line 364, in _install_from_directory\r\n    hub_module_cls = HubModule.load(self._get_normalized_path(module_info.name))\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/module/module.py\", line 423, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"/root/anaconda3/lib/python3.9/site-packages/paddlehub/utils/utils.py\", line 250, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"/root/anaconda3/lib/python3.9/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1030, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 1007, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 986, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 680, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 850, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 228, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/u2_conformer_wenetspeech/module.py\", line 18, in <module>\r\n    from paddleaudio import load, save_wav\r\nImportError: cannot import name 'save_wav' from 'paddleaudio' (/root/anaconda3/lib/python3.9/site-packages/paddleaudio/__init__.py)\r\n",
        "state": "closed",
        "user": "panusocom",
        "closed_by": "WYB27",
        "created_at": "2022-12-02T03:12:10+00:00",
        "updated_at": "2025-06-30T07:08:34+00:00",
        "closed_at": "2025-06-30T07:08:34+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2156,
        "title": "mismatch PaddleHub2.0.0  and PaddlePaddle2.0.0",
        "body": "\r\n1）PaddleHub2.0.0和PaddlePaddle2.0.0版本\r\n2）系统环境：Windows\r\nwhen run 二、加载预训练模型\r\nthe error\r\nPaddleHub2.0.0和PaddlePaddle2.0.0 is mismatch ，but  this version  following the guidance                    \r\n  https://aistudio.baidu.com/aistudio/projectdetail/507159?channelType=0&channel=0   \r\n",
        "state": "closed",
        "user": "MaxokDavid",
        "closed_by": "jm12138",
        "created_at": "2022-12-02T05:52:52+00:00",
        "updated_at": "2022-12-02T09:43:48+00:00",
        "closed_at": "2022-12-02T09:43:48+00:00",
        "comments_count": [
            "jm12138",
            "MaxokDavid"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2159,
        "title": "部署服务器",
        "body": "If I localize deployment,where can I  use this code in https://aistudio.baidu.com/aistudio/projectdetail/507159?channelType=0&channel=0\r\n\r\ncode:\r\n# coding: utf8\r\nimport requests\r\nimport json\r\nimport cv2\r\nimport base64\r\n\r\ndef cv2_to_base64(image):\r\n    data = cv2.imencode('.jpg', image)[1]\r\n    return base64.b64encode(data.tostring()).decode('utf8')\r\n\r\n# 发送HTTP请求\r\ndata = {'images':[cv2_to_base64(cv2.imread(\"book.jpg\"))]}\r\nheaders = {\"Content-type\": \"application/json\"}\r\nurl = \"http://127.0.0.1:8866/predict/chinese_ocr_db_crnn_mobile\"\r\nr = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n\r\n# 打印预测结果\r\nprint(r.json()[\"results\"])\r\n",
        "state": "closed",
        "user": "MaxokDavid",
        "closed_by": "WYB27",
        "created_at": "2022-12-02T09:56:35+00:00",
        "updated_at": "2025-06-30T07:08:32+00:00",
        "closed_at": "2025-06-30T07:08:32+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2160,
        "title": "pyramidbox_lite_server_mask模型导出问题",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\n                     PaddleHub  2.2.0\r\n                     PaddlePaddle-gpu 2.2.2\r\n2）系统环境：\r\n                      win11专业版 x64 ；\r\n                      python环境：3.7.13\r\n- 问题：\r\n1)  请问该[演示地址](https://www.paddlepaddle.org.cn/hub/scene/maskdetect )使用的模型版本是？我在本地运行pyramidbox_lite_mobile_mask1.3.0 和 pyramidbox_lite_server_mask 1.3.0结果均与演示地址结果不一致 ，在线演示版本判定为戴口罩，置信度为 0.97295445，但在本地代码结果中，判定为未戴口罩，置信度为0.7481，相差极其巨大。\r\n2)  之前由于兼容性问题，推理模型导出存在一些bug，通过指定特定版本的方式暂时解决， \r\npyramidbox_lite_mobile_mask==1.3.0\r\npyramidbox_lite_mobile==1.2.0         \r\n和\r\npyramidbox_lite_server_mask==1.3.0\r\npyramidbox_lite_server==1.2.0  \r\n可以导出模型，但是对侧脸的识别精度较低，在线演示版本对侧脸的识别精度较为理想，但是 pyramidbox_lite_server_mask==1.4.0无法按照[教程](https://www.paddlepaddle.org.cn/hubdetail?name=pyramidbox_lite_server_mask&en_category=FaceDetection)顺利导出，请问可以提供一些帮助吗，十分感谢！！！！\r\n",
        "state": "closed",
        "user": "David9591",
        "closed_by": "WYB27",
        "created_at": "2022-12-02T13:29:46+00:00",
        "updated_at": "2025-06-30T07:08:30+00:00",
        "closed_at": "2025-06-30T07:08:30+00:00",
        "comments_count": [
            "jm12138",
            "David9591",
            "jm12138",
            "David9591",
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2163,
        "title": "paddlehub.module.manager.HubModuleNotFoundError",
        "body": "1）\r\nPaddleHub是这样安装的：pip install --upgrade paddlehub -i https://mirror.baidu.com/pypi/simple\r\npaddle是这样安装的：python38 -m pip install paddlepaddle-gpu==2.4.0 -i https://pypi.tuna.tsinghua.edu.cn/simple\r\n\r\n2）系统环境：Linux，python3.8\r\n\r\n执行：hub serving start -m ace2p use_gpu\r\n\r\n报错信息：\r\nDecompress /home/jovyan/.paddlehub/tmp/tmpk7p3h30i/ace2p_1_2_0.zip\r\n\r\n[##################################################] 100.00%\r\n[##################################################] 100.00%\r\n\u001b[32m[2022-12-05 15:25:31,401] [ INFO]\u001b[0m - Successfully installed ace2p-1.2.0\u001b[0m\r\nTraceback (most recent call last):\r\nFile \"/data/conda/envs/python38/bin/hub\", line 8, in\r\nsys.exit(execute())\r\nFile \"/data/conda/envs/python38/lib/python3.8/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\nstatus = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\nFile \"/data/conda/envs/python38/lib/python3.8/site-packages/paddlehub/commands/serving.py\", line 352, in execute\r\nself.start_serving()\r\nFile \"/data/conda/envs/python38/lib/python3.8/site-packages/paddlehub/commands/serving.py\", line 245, in start_serving\r\nself.start_single_app_with_args()\r\nFile \"/data/conda/envs/python38/lib/python3.8/site-packages/paddlehub/commands/serving.py\", line 221, in start_single_app_with_args\r\nself.preinstall_modules()\r\nFile \"/data/conda/envs/python38/lib/python3.8/site-packages/paddlehub/commands/serving.py\", line 152, in preinstall_modules\r\nm = hub.Module(**init_args)\r\nFile \"/data/conda/envs/python38/lib/python3.8/site-packages/paddlehub/module/module.py\", line 393, in __new__\r\nmodule = cls.init_with_name(\r\nFile \"/data/conda/envs/python38/lib/python3.8/site-packages/paddlehub/module/module.py\", line 492, in init_with_name\r\nuser_module_cls = manager.install(\r\nFile \"/data/conda/envs/python38/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 190, in install\r\nreturn self._install_from_name(name, version, ignore_env_mismatch)\r\nFile \"/data/conda/envs/python38/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 270, in _install_from_name\r\nraise HubModuleNotFoundError(name=name, version=version)\r\npaddlehub.module.manager.HubModuleNotFoundError: No HubModule named \u001b[31muse\u001b[39m was found\r\n",
        "state": "closed",
        "user": "yier2333",
        "closed_by": "WYB27",
        "created_at": "2022-12-05T07:38:09+00:00",
        "updated_at": "2025-06-30T07:08:28+00:00",
        "closed_at": "2025-06-30T07:08:28+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2167,
        "title": "paddleocr is  error: unrecognized arguments: --imgs_en\\254.jpg--use_angle_cls true",
        "body": "https://github.com/PaddlePaddle/PaddleOCR/blob/release/2.6/doc/doc_en/quickstart_en.md#11-install-paddlepaddle\r\n why it is wrong,my download pictures located in D:\\storage\\ppocr_img\\ppocr_img\\imgs_en\r\nmy code is\r\n (paddle_env) D:\\storage\\ppocr_img\\ppocr_img>paddleocr --imgs_en\\254.jpg--use_angle_cls true --lang en --use_gpu false\r\n",
        "state": "closed",
        "user": "MaxokDavid",
        "closed_by": "WYB27",
        "created_at": "2022-12-05T14:39:00+00:00",
        "updated_at": "2025-06-30T07:08:24+00:00",
        "closed_at": "2025-06-30T07:08:24+00:00",
        "comments_count": [
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2164,
        "title": "向容器中的服务发送请求，报错：(External) CUDA error(3), initialization error.",
        "body": "报错信息：\r\n{\"msg\":\"(External) CUDA error(3), initialization error. \r\n  [Hint: 'cudaErrorInitializationError'. The API call failed because the CUDA driver and runtime could not be initialized. ] (at /paddle/paddle/phi/backends/gpu/cuda/cuda_info.cc:172)\r\n\",\"results\":\"\",\"status\":\"101\"}\r\n\r\n欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n1）版本、环境信息\r\n容器（ce）版本：docker  20.10.21, build baeda1f\r\n初始镜像：paddlepaddle/paddle 2.3.2-gpu-cuda11.2-cudnn8\r\n生成容器中的paddle相关信息：\r\npaddle-bfloat       0.1.7           \r\npaddle2onnx         1.0.1           \r\npaddlefsl           1.1.0           \r\npaddlehub           2.3.0           \r\npaddlenlp           2.4.2           \r\npaddlepaddle-gpu    2.3.2.post112\r\npython版本：3.7.13\r\n\r\n我准备利用Knover中的PLATO-2训练一个chitchat服务，我使用的是24层结构的模型，在粗略地完成了模型训练的阶段后，我使用paddlehub部署服务。在此之前，我已经在容器中使用脚本进行了测试，虽然话说的有些奇怪，但功能执行无误，后来使用hub serving start部署服务，使用jmeter测试服务的时候，报出上述错误。\r\n\r\n我的模型名称重新起名为“plato2_cn24”\r\n我的项目中的module.py参考了一位开发者的开源项目，内容如下：\r\n# coding:utf-8\r\n# Copyright (c) 2020 PaddlePaddle Authors. All Rights Reserved.\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the \"License\"\r\n# you may not use this file except in compliance with the License.\r\n# You may obtain a copy of the License at\r\n#\r\n#     http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an \"AS IS\" BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\nimport ast\r\nimport os\r\nimport json\r\nimport sys\r\nimport argparse\r\nimport contextlib\r\nfrom collections import namedtuple\r\n\r\nimport paddle.fluid as fluid\r\nimport paddlehub as hub\r\nfrom paddlehub.module.module import runnable\r\nfrom paddlehub.module.nlp_module import DataFormatError\r\nfrom paddlehub.common.logger import logger\r\nfrom paddlehub.module.module import moduleinfo, serving\r\n\r\nimport plato2_cn_small.models as plato_models\r\nfrom plato2_cn_small.tasks.dialog_generation import DialogGeneration\r\nfrom plato2_cn_small.utils import check_cuda, Timer\r\nfrom plato2_cn_small.utils.args import parse_args\r\n\r\nimport translate as trans\r\nimport jieba\r\nfrom collections import namedtuple\r\n\r\n\r\n@moduleinfo(\r\n    name=\"plato2_cn_small\",\r\n    version=\"1.0.0\",\r\n    summary=\r\n    \"A novel pre-training model for dialogue generation, incorporated with latent discrete variables for one-to-many relationship modeling. \"\r\n    \"This model is a minor revision from plato2_en_base, making it be able to do conversation in Chinese and English (translated)\",\r\n    author=\"baidu-nlp, Dongyang Yan\",\r\n    author_email=\"dongyangyan@bjtu.edu.cn\",\r\n    type=\"nlp/text_generation\",\r\n)\r\nclass Plato(hub.NLPPredictionModule):\r\n    def _initialize(self):\r\n        \"\"\"\r\n        initialize with the necessary elements\r\n        \"\"\"\r\n        if \"CUDA_VISIBLE_DEVICES\" not in os.environ:\r\n            raise RuntimeError(\r\n                \"The module only support GPU. Please set the environment variable CUDA_VISIBLE_DEVICES.\"\r\n            )\r\n\r\n        args = self.setup_args()\r\n        self.task = DialogGeneration(args)\r\n        self.model = plato_models.create_model(args, fluid.CUDAPlace(0))\r\n        self.Example = namedtuple(\"Example\", [\"src\", \"data_id\"])\r\n        self._interactive_mode = False\r\n        self._from_lang = \"cn\"\r\n        self._to_lang = \"cn\"\r\n        self._trans_en2cn = trans.Translator(\"zh-cn\", 'en')\r\n        self._trans_cn2en = trans.Translator('en', 'zh-cn')\r\n\r\n    def setup_args(self, tokenized=False):\r\n        \"\"\"\r\n        Setup arguments.\r\n        \"\"\"\r\n        assets_path = os.path.join(self.directory, \"assets\")\r\n        vocab_path = os.path.join(assets_path, \"vocab.txt\")\r\n        init_pretraining_params = os.path.join(assets_path, \"12L\", \"Plato\")\r\n        spm_model_file = os.path.join(assets_path, \"spm.model\")\r\n        nsp_inference_model_path = os.path.join(assets_path, \"12L\", \"NSP\")\r\n        config_path = os.path.join(assets_path, \"12L.json\")\r\n\r\n        # ArgumentParser.parse_args use argv[1:], it will drop the first one arg, so the first one in sys.argv should be \"\"\r\n        if not tokenized:\r\n            sys.argv = [\r\n                \"\", \"--model\", \"Plato\", \"--vocab_path\",\r\n                \"%s\" % vocab_path, \"--do_lower_case\", \"False\",\r\n                \"--init_pretraining_params\",\r\n                \"%s\" % init_pretraining_params, \"--spm_model_file\",\r\n                \"%s\" % spm_model_file, \"--nsp_inference_model_path\",\r\n                \"%s\" % nsp_inference_model_path, \"--ranking_score\", \"nsp_score\",\r\n                \"--do_generation\", \"True\", \"--batch_size\", \"1\", \"--config_path\",\r\n                \"%s\" % config_path\r\n            ]\r\n        else:\r\n            sys.argv = [\r\n                \"\", \"--model\", \"Plato\", \"--data_format\", \"tokenized\", \"--vocab_path\",\r\n                \"%s\" % vocab_path, \"--do_lower_case\", \"False\",\r\n                \"--init_pretraining_params\",\r\n                \"%s\" % init_pretraining_params, \"--spm_model_file\",\r\n                \"%s\" % spm_model_file, \"--nsp_inference_model_path\",\r\n                \"%s\" % nsp_inference_model_path, \"--ranking_score\", \"nsp_score\",\r\n                \"--do_generation\", \"True\", \"--batch_size\", \"1\", \"--config_path\",\r\n                \"%s\" % config_path\r\n            ]\r\n\r\n        parser = argparse.ArgumentParser()\r\n        plato_models.add_cmdline_args(parser)\r\n        DialogGeneration.add_cmdline_args(parser)\r\n        args = parse_args(parser)\r\n\r\n        args.load(args.config_path, \"Model\")\r\n        args.run_infer = True  # only build infer program\r\n\r\n        return args\r\n\r\n    @serving\r\n    def generate(self, texts):\r\n        \"\"\"\r\n        Get the robot responses of the input texts.\r\n\r\n        Args:\r\n             texts(list or str): If not in the interactive mode, texts should be a list in which every element is the chat context separated with '\\t'.\r\n                                 Otherwise, texts shoule be one sentence. The module can get the context automatically.\r\n\r\n        Returns:\r\n             results(list): the robot responses.\r\n        \"\"\"\r\n        if not texts:\r\n            return []\r\n        if self._from_lang == 'cn':\r\n            if not self._interactive_mode:\r\n                texts = [' '.join(list(jieba.cut(text))) for text in texts]\r\n            else:\r\n                texts = ' '.join(list(jieba.cut(texts)))\r\n\r\n        if self._interactive_mode:\r\n            if isinstance(texts, str):\r\n                if self._from_lang == 'en':\r\n                    texts = self._trans_en2cn.translate(texts)\r\n                self.context.append(texts.strip())\r\n                texts = [\" [SEP] \".join(self.context[-self.max_turn:])]\r\n            else:\r\n                raise ValueError(\r\n                    \"In the interactive mode, the input data should be a string.\"\r\n                )\r\n        elif not isinstance(texts, list):\r\n            raise ValueError(\r\n                \"If not in the interactive mode, the input data should be a list.\"\r\n            )\r\n        else:\r\n            if self._from_lang == 'en':\r\n                texts = [self._trans_en2cn.translate(text) for text in texts]\r\n\r\n        bot_responses = []\r\n        for i, text in enumerate(texts):\r\n            example = self.Example(src=text.replace(\"\\t\", \" [SEP] \"), data_id=i)\r\n            record = self.task.reader._convert_example_to_record(\r\n                example, is_infer=True)\r\n            data = self.task.reader._pad_batch_records([record], is_infer=True)\r\n            pred = self.task.infer_step(self.model, data)[0]  # batch_size is 1\r\n            bot_response = pred[\"response\"]  # ignore data_id and score\r\n            bot_responses.append(bot_response)\r\n\r\n        if self._interactive_mode:\r\n            self.context.append(bot_responses[0].strip())\r\n        if self._to_lang == 'en':\r\n            bot_responses = [self._trans_cn2en.translate(resp) for resp in bot_responses]\r\n        if self._to_lang == 'cn':\r\n            bot_responses = [''.join(resp.split()) for resp in bot_responses]\r\n        return bot_responses\r\n\r\n    @serving\r\n    def generate_for_test(self, records):\r\n        \"\"\"\r\n        Get the robot responses of the input texts.\r\n        Args:\r\n             list of dicts: numerical data, [field_values, ...]\r\n             field_values = {\r\n            \"token_ids\": src_token_ids,\r\n            \"type_ids\": src_type_ids,\r\n            \"pos_ids\": src_pos_ids,\r\n            \"tgt_start_idx\": tgt_start_idx\r\n        }\r\n        Returns:\r\n             results(list): the robot responses.\r\n        \"\"\"\r\n        if not records:\r\n            return []\r\n\r\n        if self._interactive_mode:\r\n            print(\"Warning: This function is not suitable for interactive mode.\")\r\n        elif not isinstance(records, list):\r\n            raise ValueError(\r\n                \"If not in the interactive mode, the input data should be a list.\")\r\n        fields = [\"token_ids\", \"type_ids\", \"pos_ids\", \"tgt_start_idx\", \"data_id\"]\r\n        Record = namedtuple(\"Record\", fields, defaults=(None,) * len(fields))\r\n        record_all = []\r\n        for i, record in enumerate(records):\r\n            record[\"data_id\"] = i\r\n            record = Record(**record)\r\n            record_all.append(record)\r\n        data = self.task.reader._pad_batch_records(record_all, is_infer=True)\r\n        pred = self.task.infer_step(self.model, data)\r\n        bot_responses = [p[\"response\"] for p in pred]\r\n        return bot_responses\r\n\r\n    def set_dialog_mode(self, from_lang='cn', to_lang='cn'):\r\n        \"\"\"\r\n        To set the mode of dialog, from_lang is the language type of input, and\r\n        to_lang is the language type from the robot. \"cn\": Chinese; \"en\": English.\r\n        Default: from_lang is \"cn\", to_lang is \"cn\".\r\n        \"\"\"\r\n        self._from_lang = from_lang\r\n        self._to_lang = to_lang\r\n\r\n    @contextlib.contextmanager\r\n    def interactive_mode(self, max_turn=6):\r\n        \"\"\"\r\n        Enter the interactive mode.\r\n        Args:\r\n            max_turn(int): the max dialogue turns. max_turn = 1 means the robot can only remember the last one utterance you have said.\r\n        \"\"\"\r\n        self._interactive_mode = True\r\n        self.max_turn = max_turn\r\n        self.context = []\r\n        yield\r\n        self.context = []\r\n        self._interactive_mode = False\r\n\r\n    @runnable\r\n    def run_cmd(self, argvs):\r\n        \"\"\"\r\n        Run as a command\r\n        \"\"\"\r\n        self.parser = argparse.ArgumentParser(\r\n            description='Run the %s module.' % self.name,\r\n            prog='hub run %s' % self.name,\r\n            usage='%(prog)s',\r\n            add_help=True)\r\n        self.arg_input_group = self.parser.add_argument_group(\r\n            title=\"Input options\", description=\"Input data. Required\")\r\n        self.arg_config_group = self.parser.add_argument_group(\r\n            title=\"Config options\",\r\n            description=\"Run configuration for controlling module behavior, optional.\")\r\n        self.add_module_input_arg()\r\n        args = self.parser.parse_args(argvs)\r\n        try:\r\n            input_data = self.check_input_data(args)\r\n        except DataFormatError and RuntimeError:\r\n            self.parser.print_help()\r\n            return None\r\n        results = self.generate(texts=input_data)\r\n        return results\r\n\r\nif __name__ == \"__main__\":\r\n    module = Plato()\r\n    for result in module.generate([\r\n            \"你是机器人吗？\",\r\n            \"如果你不是机器人，那你得皮肤是什么颜色的呢？\"\r\n    ]):\r\n        print(result)\r\n\r\n    \"\"\"\r\n    import paddlehub as hub\r\n    import os\r\n\r\n    os.environ[\"CUDA_VISIBLE_DEVICES\"] = \"0\"\r\n    module = hub.Module(\"plato2_en&cn_base\")\r\n    \r\n    # change the dialog language.\r\n    module.set_dialog_mode(from_lang='en', to_lang='cn')\r\n    \"\"\"\r\n    with module.interactive_mode(max_turn=3):\r\n        while True:\r\n            human_utterance = input()\r\n            robot_utterance = module.generate(human_utterance)\r\n            print(\"Robot: %s\" % robot_utterance[0])\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "what-is-perfect",
        "closed_by": "WYB27",
        "created_at": "2022-12-05T09:46:47+00:00",
        "updated_at": "2025-06-30T07:08:26+00:00",
        "closed_at": "2025-06-30T07:08:26+00:00",
        "comments_count": [
            "jm12138",
            "what-is-perfect",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2172,
        "title": "PaddleHub一键OCR中文识别（超轻量8.1M模型，火爆）",
        "body": "Hi,sir\r\nI used anaconde prompt, into python interpret, after step \"一、定义待预测数据\"\r\nI put code \r\nwith open('test.txt', 'r') as f:\r\n    test_img_path=[]\r\n    for line in f:\r\n        test_img_path.append(line.strip())\r\nprint(test_img_path)\r\ninto interpret in anaconda prompt, while it show SyntaxError: invalid syntax \r\nWhat is wrong with it?",
        "state": "closed",
        "user": "MaxokDavid",
        "closed_by": "WYB27",
        "created_at": "2022-12-07T15:45:28+00:00",
        "updated_at": "2025-06-30T07:08:23+00:00",
        "closed_at": "2025-06-30T07:08:23+00:00",
        "comments_count": [
            "jm12138",
            "MaxokDavid",
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2176,
        "title": "stable_diffusion模型报错",
        "body": "1）PaddleHub2.1.0，PaddlePaddle2.1.2.post112\r\n2）系统环境：Windows。python版本：3.7\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n- 运行出错，运行方式：\r\n- module = hub.Module(name=\"stable_diffusion_img2img\")\r\n    text_prompts = [\"A fantasy landscape, trending on artstation\"]\r\n    da = module.generate_image(text_prompts=text_prompts, init_image='./image/img.png', batch_size=2,\r\n                               output_dir='./stable_diffusion_img2img_out/')\r\n    da[0].chunks[-1].chunks.plot_image_sprites(skip_empty=True, show_index=True, keep_aspect_ratio=True)\r\n    da[0].chunks[-1].chunks.save_gif('stable_diffusion_img2img_out-merged-result.gif')\r\n    da[0].chunks[0].chunks.plot_image_sprites(skip_empty=True, show_index=True, keep_aspect_ratio=True)\r\n    da[0].chunks[0].chunks.save_gif('stable_diffusion_img2img-image-0-result.gif')\r\n错误：\r\nTraceback (most recent call last):\r\n  File \"D:/metaire/stable_diffusion/imgtoimg.py\", line 12, in <module>\r\n    output_dir='./stable_diffusion_img2img_out/')\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\Administrator\\.paddlehub\\modules\\stable_diffusion_img2img\\module.py\", line 205, in generate_image\r\n    init_latents = self.scheduler.add_noise(init_latents, noise, timesteps)\r\n  File \"C:\\Users\\Administrator\\.paddlehub\\modules\\stable_diffusion_img2img\\diffusers\\schedulers\\scheduling_pndm.py\", line 255, in add_noise\r\n    sqrt_alpha_prod = self.match_shape(sqrt_alpha_prod, original_samples)\r\n  File \"C:\\Users\\Administrator\\.paddlehub\\modules\\stable_diffusion_img2img\\diffusers\\schedulers\\scheduling_utils.py\", line 73, in match_shape\r\n    values = values[..., None]\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\dygraph\\varbase_patch_methods.py\", line 569, in __getitem__\r\n    return self._getitem_index_not_tensor(item)\r\nValueError: (InvalidArgument) too many indices (2) for tensor of dimension 1\r\n  [Hint: Expected size <= rank == true, but received size <= rank:0 != true:1.] (at C:\\home\\workspace\\Paddle_release2\\paddle\\fluid\\pybind\\imperative.cc:421)\r\n\r\n",
        "state": "closed",
        "user": "metaire",
        "closed_by": "WYB27",
        "created_at": "2022-12-09T06:06:57+00:00",
        "updated_at": "2025-06-30T07:08:21+00:00",
        "closed_at": "2025-06-30T07:08:21+00:00",
        "comments_count": [
            "jm12138",
            "VVsxmja",
            "hjj-lmx",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2175,
        "title": "执行模型是报错“Out of memory error on GPU”但系统可用显存还有还多",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddlehub2.3.1，paddlepaddle-gpu2.4.0.post117\r\n2）系统环境：Windows 10，python3.9.15\r\n- 报错：\r\n```File \"C:\\Users\\Administrator\\.paddlehub\\modules\\animegan_v2_shinkai_53\\model.py\", line 35, in __call__\r\n    return self.forward(*input_datas, batch_size=batch_size)\r\n  File \"C:\\Users\\Administrator\\.paddlehub\\modules\\animegan_v2_shinkai_53\\model.py\", line 143, in forward\r\n    self.predictor.run()\r\nRuntimeError:\r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\nNot support stack backtrace yet.\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nresourceexhaustederror:\r\n\r\nOut of memory error on GPU 0. Cannot allocate 72.000000MB memory on GPU 0, 7.999390GB memory has been allocated and available memory is only 0.000000B.`\r\n```\r\n- 报错时系统状态：\r\n1)GPU状态：\r\n```\r\n`+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 516.94       Driver Version: 516.94       CUDA Version: 11.7     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name            TCC/WDDM | Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|                               |                      |               MIG M. |\r\n|===============================+======================+======================|\r\n|   0  NVIDIA GeForce ... WDDM  | 00000000:81:00.0  On |                  N/A |\r\n|  0%   33C    P8    11W / 200W |   1102MiB /  8192MiB |     23%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n\r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                                  |\r\n|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\r\n|        ID   ID                                                   Usage      |\r\n|=============================================================================|\r\n|    0   N/A  N/A      4844    C+G   ...y\\ShellExperienceHost.exe    N/A      |\r\n|    0   N/A  N/A      5332    C+G   ...e6\\promecefpluginhost.exe    N/A      |\r\n|    0   N/A  N/A      6016    C+G   ...wekyb3d8bbwe\\Video.UI.exe    N/A      |\r\n|    0   N/A  N/A      6420    C+G   ...418.62\\msedgewebview2.exe    N/A      |\r\n|    0   N/A  N/A      7660    C+G   ...5n1h2txyewy\\SearchApp.exe    N/A      |\r\n|    0   N/A  N/A     13136    C+G   C:\\Windows\\explorer.exe         N/A      |\r\n|    0   N/A  N/A     16244    C+G   ...nputApp\\TextInputHost.exe    N/A      |\r\n|    0   N/A  N/A     16568    C+G   ...C Manager\\MSPCManager.exe    N/A      |\r\n|    0   N/A  N/A     16832    C+G   ...ge\\Application\\msedge.exe    N/A      |\r\n|    0   N/A  N/A     18204    C+G   ...les\\Feishu\\app\\Feishu.exe    N/A      |\r\n|    0   N/A  N/A     23240    C+G   ...bbwe\\Microsoft.Photos.exe    N/A      |\r\n|    0   N/A  N/A     26984    C+G   ...5n1h2txyewy\\SearchApp.exe    N/A      |\r\n|    0   N/A  N/A     27972    C+G   ...e6\\promecefpluginhost.exe    N/A      |\r\n|    0   N/A  N/A     28416    C+G   ...icrosoft VS Code\\Code.exe    N/A      |\r\n|    0   N/A  N/A     37084    C+G   ...m-windows-x64\\trilium.exe    N/A      |\r\n+-----------------------------------------------------------------------------+\r\n```\r\n2)windows 任务管理 性能监视器中没有看到模型运行过程中GPU有太大的显存占用的波动，占用率在1-6%徘徊。\r\n- 尝试过的解决的方式\r\n1)尝试更换模型，由animegan_v2_hayao_99更换为animegan_v2_shinkai_53同样失败；\r\n2)尝试修改batch_size,未找到具体修改位置，查看模型源码“C:\\Users\\Administrator\\.paddlehub\\modules\\animegan_v2_shinkai_53\\model.py”处，发现默认batch_size为1，未发现有其它地方修改batch size,如果有其它地方修改batch_size，请不吝赐教;\r\n`    # 类调用函数\r\n    def __call__(self, *input_datas, batch_size=1):\r\n        '''\r\n        call function\r\n        '''\r\n        return self.forward(*input_datas, batch_size=batch_size)`\r\n- 未尝试的解决方案\r\n1) 减小图像分辨率。\r\n经过资料查询，图片过大也可能造成Out of memory error。但是我发现我的报错一次申请显存为72.000000MB，并不大，而且系统报错“7.999390GB memory has been allocated and available memory is only 0.000000B”的时候，我的windows 性能监视器中并无任何内存波动。\r\n2)排查GPU被其它进程占用\r\n我的电脑只有一块显卡，windows有其它进程使用GPU非常正常，而且空闲显存接近8GB，模型不应该没有空闲内存可分配。根据报错提示：“Please check whether there is any other process using GPU 0”，如果paddlehub要求独占GPU，请请教独占方式。",
        "state": "closed",
        "user": "ZanePoe",
        "closed_by": "jm12138",
        "created_at": "2022-12-09T03:00:22+00:00",
        "updated_at": "2024-06-08T11:54:20+00:00",
        "closed_at": "2022-12-12T09:02:00+00:00",
        "comments_count": [
            "jm12138",
            "ZanePoe",
            "Sunshine-hero"
        ],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2192
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2193
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2178,
        "title": "我该怎么使用gpu调用动物识别模型",
        "body": "查看了很多官方文档，发现都是使用cpu调用的，GPU调用aistudio中也没有找到，请问有GPU调用的环境安装教程以及使用gpu调用该模型的方式吗？抱歉可能因为我是一个初学者才会问出这个问题。",
        "state": "closed",
        "user": "Nkomol",
        "closed_by": "WYB27",
        "created_at": "2022-12-10T09:07:23+00:00",
        "updated_at": "2025-06-30T07:08:19+00:00",
        "closed_at": "2025-06-30T07:08:19+00:00",
        "comments_count": [
            "jm12138",
            "Nkomol",
            "jm12138",
            "Nkomol",
            "jm12138",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2189,
        "title": "关于PaddleHub Serving的服务部署后开启并发就出现requests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))的问题",
        "body": "机器：4个单核CPU\r\n部署环境：使用的是CPU的环境\r\n没有任何问题\r\n使用并发的方式启动服务器\r\n`hub serving start --modules ocr_system==1.0.0 --port 8866 --workers 4 --use_multiprocess`\r\n如图片较大就会出现：\r\n```\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 699, in urlopen\r\n    httplib_response = self._make_request(\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 445, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 3, in raise_from\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 440, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 1347, in getresponse\r\n    response.begin()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 307, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 276, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nhttp.client.RemoteDisconnected: Remote end closed connection without response\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\adapters.py\", line 439, in send\r\n    resp = conn.urlopen(\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 755, in urlopen\r\n    retries = retries.increment(\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\util\\retry.py\", line 532, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\packages\\six.py\", line 734, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 699, in urlopen\r\n    httplib_response = self._make_request(\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 445, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 3, in raise_from\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 440, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 1347, in getresponse\r\n    response.begin()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 307, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 276, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nurllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/test_hubserving.py\", line 158, in <module>\r\n    main(args)\r\n  File \"tools/test_hubserving.py\", line 115, in main\r\n    r = requests.post(\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\api.py\", line 119, in post\r\n    return request('post', url, data=data, json=json, **kwargs)\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\api.py\", line 61, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\sessions.py\", line 542, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\sessions.py\", line 655, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\adapters.py\", line 498, in send\r\n    raise ConnectionError(err, request=request)\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\r\nPS E:\\PaddleOCR-release-2.6> python tools/test_hubserving.py --server_url=http://192.168.10.6:8866/predict/ocr_system --image_dir=./doc/imgs/tests/test1.png\r\nD:\\anaconda\\lib\\site-packages\\win32\\lib\\pywintypes.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp, sys, os\r\nD:\\anaconda\\lib\\site-packages\\paddle\\fluid\\framework.py:634: UserWarning: You are using GPU version Paddle, but your CUDA device is not set properly. CPU device will be used by default.\r\n  warnings.warn(\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 699, in urlopen\r\n    httplib_response = self._make_request(\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 445, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 3, in raise_from\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 440, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 1347, in getresponse\r\n    response.begin()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 307, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 276, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nhttp.client.RemoteDisconnected: Remote end closed connection without response\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\adapters.py\", line 439, in send\r\n    resp = conn.urlopen(\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 755, in urlopen\r\n    retries = retries.increment(\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\util\\retry.py\", line 532, in increment\r\n    raise six.reraise(type(error), error, _stacktrace)\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\packages\\six.py\", line 734, in reraise\r\n    raise value.with_traceback(tb)\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 699, in urlopen\r\n    httplib_response = self._make_request(\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 445, in _make_request\r\n    six.raise_from(e, None)\r\n  File \"<string>\", line 3, in raise_from\r\n  File \"D:\\anaconda\\lib\\site-packages\\urllib3\\connectionpool.py\", line 440, in _make_request\r\n    httplib_response = conn.getresponse()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 1347, in getresponse\r\n    response.begin()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 307, in begin\r\n    version, status, reason = self._read_status()\r\n  File \"D:\\anaconda\\lib\\http\\client.py\", line 276, in _read_status\r\n    raise RemoteDisconnected(\"Remote end closed connection without\"\r\nurllib3.exceptions.ProtocolError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/test_hubserving.py\", line 158, in <module>\r\n    main(args)\r\n  File \"tools/test_hubserving.py\", line 115, in main\r\n    r = requests.post(\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\api.py\", line 119, in post\r\n    return request('post', url, data=data, json=json, **kwargs)\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\api.py\", line 61, in request\r\n    return session.request(method=method, url=url, **kwargs)\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\sessions.py\", line 542, in request\r\n    resp = self.send(prep, **send_kwargs)\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\sessions.py\", line 655, in send\r\n    r = adapter.send(request, **kwargs)\r\n  File \"D:\\anaconda\\lib\\site-packages\\requests\\adapters.py\", line 498, in send\r\n    raise ConnectionError(err, request=request)\r\nrequests.exceptions.ConnectionError: ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))\r\n```\r\n\r\n如果使用：\r\n`hub serving start --modules ocr_system==1.0.0 --port 8866`\r\n进行启动服务就无法并发，但是对于出现以上情况的图片有响应结果",
        "state": "closed",
        "user": "Absurd2",
        "closed_by": "WYB27",
        "created_at": "2022-12-28T06:44:02+00:00",
        "updated_at": "2025-06-30T07:08:17+00:00",
        "closed_at": "2025-06-30T07:08:17+00:00",
        "comments_count": [
            "rainyfly",
            "Absurd2",
            "rainyfly",
            "Absurd2",
            "rainyfly",
            "Absurd2",
            "Absurd2",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2190,
        "title": "paddlehub.module.manager.EnvironmentMismatchError: ernie cannot be installed because some conditions are not met:",
        "body": "通过下面代码调用ernie模型时，报错\r\n`model = paddlehub.Module(name='ernie', task='seq-cls', num_classes=len(MyDataset.label_list))\r\n`\r\n\r\npaddlehub版本为2.3.1，paddlepaddle 版本尝试过2.0.2/2.4.1，尝试过安装cuda 10 gpu版本和cpu版本，均会报如下错\r\n\r\n\r\npaddlehub.module.manager.EnvironmentMismatchError: ernie cannot be installed because some conditions are not met:\r\n\r\n",
        "state": "closed",
        "user": "rrryan2016",
        "closed_by": "WYB27",
        "created_at": "2022-12-31T18:17:58+00:00",
        "updated_at": "2025-06-30T07:08:15+00:00",
        "closed_at": "2025-06-30T07:08:15+00:00",
        "comments_count": [
            "rrryan2016",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2191,
        "title": "yolov3_darknet53_pedestrian行人检测模型预测出错",
        "body": "操作系统： Ubuntu20.04\r\nCPU or GPU： CPU\r\n版本信息如下：\r\npaddlehub： 2.3.1\r\npaddlepaddle： 2.4.1\r\n报错信息如下：\r\nPython 3.8.10 (default, Jun 22 2022, 20:18:18)\r\n[GCC 9.4.0] on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub as hub\r\n/home/app/py4pphub/lib/python3.8/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n>>> import cv2\r\n>>>\r\n>>> pedestrian_detector = hub.Module(name=\"yolov3_darknet53_pedestrian\")\r\n>>> result = pedestrian_detector.object_detection(images=[cv2.imread('baideng.jpeg')])\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/app/py4pphub/lib/python3.8/site-packages/paddlehub/compat/paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/home/app/.paddlehub/modules/yolov3_darknet53_pedestrian/module.py\", line 105, in object_detection\r\n    feed_data = np.array(feed_data)\r\nValueError: setting an array element with a sequence. The requested array has an inhomogeneous shape after 2 dimensions. The detected shape was (1, 2) + inhomogeneous part.\r\n>>> result = pedestrian_detector.object_detection(images=[cv2.imread('000000014439.jpg')])\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/app/py4pphub/lib/python3.8/site-packages/paddlehub/compat/paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/home/app/.paddlehub/modules/yolov3_darknet53_pedestrian/module.py\", line 105, in object_detection\r\n    feed_data = np.array(feed_data)\r\nValueError: setting an array element with a sequence. The requested array has an inhomogeneous shape after 2 dimensions. The detected shape was (1, 2) + inhomogeneous part.\r\n部署为服务通过http接口请求报错如下：\r\n{'msg': 'setting an array element with a sequence. The requested array has an inhomogeneous shape after 2 dimensions. The detected shape was (1, 2) + inhomogeneous part.', 'results': '', 'status': '101'}",
        "state": "closed",
        "user": "tianmaxingkong168",
        "closed_by": "tianmaxingkong168",
        "created_at": "2023-01-02T03:22:33+00:00",
        "updated_at": "2023-04-11T06:42:52+00:00",
        "closed_at": "2023-01-28T09:40:12+00:00",
        "comments_count": [
            "rainyfly",
            "tianmaxingkong168",
            "tianmaxingkong168",
            "rainyfly",
            "wanghchen",
            "tianmaxingkong168",
            "kenJPG",
            "rainyfly",
            "tianmaxingkong168",
            "tianmaxingkong168",
            "kenJPG"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2195,
        "title": "paddlehub 引用sklearn 报 cannot load any more object with static TLS 错误",
        "body": "系统环境\r\npaddle.__version__  2.4.0-rc0\r\n\r\n\r\n####    具体代码\r\n!/usr/bin/env python\r\n#-*- coding=utf8 -*-\r\nimport os\r\nimport sys\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"lac\")\r\ntest_text = '小明硕士毕业于中国科学院计算所，后在日本京都大学深造'\r\nresults = module.lexical_analysis(texts=test_text)\r\n###############\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/sklearn/__check_build/__init__.py\", line 44, in <module>\r\n    from ._check_build import check_build  # noqa\r\nImportError: dlopen: cannot load any more object with static TLS\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"test_lac.py\", line 5, in <module>\r\n    import paddlehub as hub\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/paddlehub/__init__.py\", line 31, in <module>\r\n    from paddlehub import datasets\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/paddlehub/datasets/__init__.py\", line 16, in <module>\r\n    from paddlehub.datasets.chnsenticorp import ChnSentiCorp\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/paddlehub/datasets/chnsenticorp.py\", line 19, in <module>\r\n    from paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/paddlehub/datasets/base_nlp_dataset.py\", line 21, in <module>\r\n    import paddlenlp\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/paddlenlp/__init__.py\", line 29, in <module>\r\n    from . import metrics\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/paddlenlp/metrics/__init__.py\", line 16, in <module>\r\n    from .chunk import ChunkEvaluator\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/paddlenlp/metrics/chunk.py\", line 6, in <module>\r\n    from seqeval.metrics.sequence_labeling import get_entities\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/seqeval/metrics/__init__.py\", line 1, in <module>\r\n    from seqeval.metrics.sequence_labeling import (accuracy_score,\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/seqeval/metrics/sequence_labeling.py\", line 14, in <module>\r\n    from seqeval.metrics.v1 import SCORES, _precision_recall_fscore_support\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/seqeval/metrics/v1.py\", line 5, in <module>\r\n    from sklearn.exceptions import UndefinedMetricWarning\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/sklearn/__init__.py\", line 79, in <module>\r\n    from . import __check_build  # noqa: F401\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/sklearn/__check_build/__init__.py\", line 46, in <module>\r\n    raise_build_error(e)\r\n  File \"/ssd4/liuyaping/python38/lib/python3.8/site-packages/sklearn/__check_build/__init__.py\", line 31, in raise_build_error\r\n    raise ImportError(\"\"\"%s\r\nImportError: dlopen: cannot load any more object with static TLS\r\n___________________________________________________________________________\r\nContents of /ssd4/liuyaping/python38/lib/python3.8/site-packages/sklearn/__check_build:\r\n_check_build.cpython-38-x86_64-linux-gnu.sosetup.py                  __pycache__\r\n__init__.py\r\n___________________________________________________________________________\r\nIt seems that scikit-learn has not been built correctly.",
        "state": "closed",
        "user": "hnlslyp",
        "closed_by": "WYB27",
        "created_at": "2023-01-12T06:42:38+00:00",
        "updated_at": "2025-06-30T07:08:11+00:00",
        "closed_at": "2025-06-30T07:08:11+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2194,
        "title": "PaddleHub引入报错",
        "body": "硬件：Jetson Nano 2G\r\ncuda：10.2\r\ncudnn：8.0.0\r\npaddlepaddle-gpu：2.0.2\r\npaddlehub：2.0.0\r\npaddlenlp：2.3.3\r\n\r\n在Python终端中输入import paddlehub后输出以下报错\r\n\r\n/usr/lib/python3/dist-packages/apport/report.py:13: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import fnmatch, glob, traceback, errno, sys, atexit, locale, imp, stat\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"/home/tringai/.local/lib/python3.6/site-packages/paddlehub/__init__.py\", line 24, in <module>\r\n    from paddlehub import datasets\r\n  File \"/home/tringai/.local/lib/python3.6/site-packages/paddlehub/datasets/__init__.py\", line 18, in <module>\r\n    from paddlehub.datasets.chnsenticorp import ChnSentiCorp\r\n  File \"/home/tringai/.local/lib/python3.6/site-packages/paddlehub/datasets/chnsenticorp.py\", line 19, in <module>\r\n    from paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n  File \"/home/tringai/.local/lib/python3.6/site-packages/paddlehub/datasets/base_nlp_dataset.py\", line 23, in <module>\r\n    from paddlenlp.transformers import PretrainedTokenizer\r\n  File \"/home/tringai/.local/lib/python3.6/site-packages/paddlenlp/__init__.py\", line 24, in <module>\r\n    from . import data\r\n  File \"/home/tringai/.local/lib/python3.6/site-packages/paddlenlp/data/__init__.py\", line 16, in <module>\r\n    from .data_collator import *\r\n  File \"/home/tringai/.local/lib/python3.6/site-packages/paddlenlp/data/data_collator.py\", line 23, in <module>\r\n    from ..transformers.tokenizer_utils_base import BatchEncoding, PretrainedTokenizerBase, PaddingStrategy\r\n  File \"/home/tringai/.local/lib/python3.6/site-packages/paddlenlp/transformers/__init__.py\", line 26, in <module>\r\n    from .electra.modeling import *\r\n  File \"/home/tringai/.local/lib/python3.6/site-packages/paddlenlp/transformers/electra/modeling.py\", line 20, in <module>\r\n    from paddle.nn.layer.transformer import _convert_attention_mask\r\nImportError: cannot import name '_convert_attention_mask'\r\n\r\n求解答",
        "state": "closed",
        "user": "Gray-web",
        "closed_by": "WYB27",
        "created_at": "2023-01-11T06:18:03+00:00",
        "updated_at": "2025-06-30T07:08:13+00:00",
        "closed_at": "2025-06-30T07:08:13+00:00",
        "comments_count": [
            "rainyfly",
            "Gray-web",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2196,
        "title": "PaddleHub一键OCR中文识别（超轻量8.1M模型，火爆）（2020/09/21更新版）检测，运行程序只输出了killed就退出了",
        "body": "![image](https://user-images.githubusercontent.com/102135980/213173061-316b4cb1-87d8-4b7c-85ca-d0211143770a.png)",
        "state": "closed",
        "user": "washingxian",
        "closed_by": "WYB27",
        "created_at": "2023-01-18T12:37:01+00:00",
        "updated_at": "2025-06-30T07:08:09+00:00",
        "closed_at": "2025-06-30T07:08:09+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2197,
        "title": "PaddleHub U2Net module.py does not have meta=ImageSegmentationModule in the @moduleinfo",
        "body": "hi, I noticed that the U2Net module.py does not have the meta=SegmentationModule in the @moduleinfo decorator.  I believe as a result, we cannot access the training_step method to perform fine tuning of the pre-trained model with our customize images set.  \r\n\r\nIs this exclusion deliberate or is it a missed-out?  Is there any quick way to get around this to continue with the fine-tuning?  I had tried changing the downloaded copy at ~/.paddlehub/modules/U2Net/module.py, but it seem that hub.Module(name='U2Net') will detect that the code had been changed and re-download the model https://bj.bcebos.com/paddlehub/paddlehub_dev/U2Net.tar.gz and overwrite the changes..",
        "state": "closed",
        "user": "szekongchan",
        "closed_by": "szekongchan",
        "created_at": "2023-01-25T05:49:27+00:00",
        "updated_at": "2023-02-02T13:49:33+00:00",
        "closed_at": "2023-02-02T13:49:33+00:00",
        "comments_count": [
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2198,
        "title": "调用openpose_body_estimation返回数据使用问题",
        "body": "输入预测图片进入openpose_body_estimation模型返回结果包含以下数据：\r\nres (dict): 识别结果的列表，列表元素为 dict, 有以下两个字段：\r\ndata : 可视化图片内容(numpy.ndarray，BGR格式);\r\ncandidate: 图片中所有肢体关键点坐标;\r\nsubset: 不同的人不同关键点对应的关键点坐标的索引。\r\n\r\n想请教下candidate中的数据含义是什么，该如何解析使用。",
        "state": "closed",
        "user": "Gray-web",
        "closed_by": "Gray-web",
        "created_at": "2023-01-30T08:10:03+00:00",
        "updated_at": "2023-01-31T02:31:04+00:00",
        "closed_at": "2023-01-31T02:31:03+00:00",
        "comments_count": [
            "rainyfly",
            "Gray-web"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2199,
        "title": "使用创建在线 API 服务时出现错误    ",
        "body": "\r\n\r\n版本：PaddlePaddle 2.1.0\r\n\r\n错误信息： \"result\": \"too many values to unpack (expected 3)\",\r\n\r\n自定义转换器代码：\r\n\r\n输入函数：\r\n\r\nimport re\r\nimport base64\r\nimport numpy as np\r\nimport paddle.fluid as fluid\r\n\r\n\r\nfrom PIL import Image\r\nfrom io import BytesIO\r\n\r\n\r\n# 将 Base64 转成 PIL Image \r\ndef base64_to_pil(image_base64):\r\n    \"\"\"read image from memory\"\"\"\r\n    image_base64 = re.sub('^data:image/.+;base64,', '', image_base64)  # 需要去除头部格式信息\r\n    image_mem = BytesIO(base64.b64decode(image_base64))  # python3\r\n    image_pil = Image.open(image_mem).convert('RGB')\r\n    return image_pil\r\n\r\n# 预处理代码\r\ndef preprocess(img):\r\n    # 图像缩放\r\n    if img.mode != 'RGB': \r\n        img = img.convert('RGB') \r\n    img = img.resize((224, 224), Image.BILINEAR)\r\n    img = np.array(img).astype('float32') \r\n    img = img.transpose((2, 0, 1)) / 255 # HWC to CHW 及归一化\r\n    return img\r\n\r\n# def feed(data_args = None):\r\ndef reader_infer(data_args):\r\n    \"\"\"\r\n    用于输入待预测数据，返回值会直接复值给paddle.static.Executor的run方法的feed参数。\r\n    模型加载方式选择：\r\n    paddle2.x：paddle.static.load_inference_model\r\n    paddle1.x：paddle.fluid.io.load_inference_model\r\n\r\n    :param data_args: 客户端请求参数，以k-v形式\r\n    :return dict\r\n    \"\"\"\r\n    def reader():\r\n    # x <type 'base64'> default value:'' \r\n        image = data_args['imagebase']\r\n    \r\n    # todo\r\n        \r\n        # 格式转换\r\n        image = base64_to_pil(image)\r\n        \r\n        # 预处理\r\n        image = preprocess(image)\r\n        \r\n        image = image[np.newaxis,:, : ,:]  #reshape(-1,3,224,224)\r\n       \r\n        \r\n        # 根据输入 Tensor 的名称和 Shape 构建 DataFeeder\r\n        c, h, w = image.shape\r\n        print(\"image shape:\", image.shape)\r\n        \r\n        img = fluid.layers.data(name='x', shape=[c, h, w], dtype='float32')\r\n        feeder = fluid.DataFeeder([img], fluid.CPUPlace())\r\n\r\n        return [[image]], feeder\r\n    # return image, feeder\r\n    # arg_x = None\r\n    return reader\r\n\r\n\r\n\r\n\r\n输出函数：\r\ndef output(results, data_args):\r\n    \"\"\"\r\n    模型评测结果输出转换\r\n    :param results\r\n    :param data_args 请求参数\r\n    :return dict\r\n    \"\"\"\r\n    # todo\r\n    \r\n    lab = np.argmax(result.numpy())\r\n    \r\n    \r\n    return {'lable': lab}\r\n\r\n\r\n\r\n不知道是那里出了问题\r\n\r\n",
        "state": "closed",
        "user": "yuzhaoOvO",
        "closed_by": "WYB27",
        "created_at": "2023-02-03T08:13:19+00:00",
        "updated_at": "2025-06-30T07:08:07+00:00",
        "closed_at": "2025-06-30T07:08:07+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2204
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2205
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2201,
        "title": "disco_diffusion_clip_rn50.reverse_diffusion-2069714227 Output()之后进度条不动",
        "body": "paddlepaddle 以及paddlehub版本满足要求\r\n终端：\r\nUserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n\r\nW0204 12:21:43.541858 19944 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.6, Runtime API Version: 11.6\r\nW0204 12:21:43.552976 19944 gpu_resources.cc:91] device: 0, cuDNN Version: 8.4.\r\ndisco_diffusion_clip_rn101.reverse_diffusion-828390671\r\n环境安装都没有问题，但是进度条不动并且自动退出\r\ndisco_diffusion_clip_rn50.reverse_diffusion - INFO - creating artwork...\r\ndisco_diffusion_clip_rn50.reverse_diffusion-2069714227 Output()\r\n  0%|                                                                                                 | 0/250 [00:00<?, ?it/s]",
        "state": "closed",
        "user": "TimeToBed",
        "closed_by": "WYB27",
        "created_at": "2023-02-03T15:20:55+00:00",
        "updated_at": "2025-06-30T07:08:03+00:00",
        "closed_at": "2025-06-30T07:08:03+00:00",
        "comments_count": [
            "TimeToBed",
            "rainyfly",
            "TimeToBed",
            "rainyfly",
            "TimeToBed",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2200,
        "title": "auto_punc能否支持c++部署",
        "body": null,
        "state": "closed",
        "user": "hhxdestiny",
        "closed_by": "WYB27",
        "created_at": "2023-02-03T10:00:58+00:00",
        "updated_at": "2025-06-30T07:08:05+00:00",
        "closed_at": "2025-06-30T07:08:05+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2202,
        "title": "Question about news_lda.model file",
        "body": "I saw the content of `news_lda.model` file as follows:\r\n\r\n```\r\n287789 732:175 \r\n```\r\n\r\nthat line can be described as\r\n\r\n```\r\nterm_id : 287789\r\ntopic_id : 732\r\ntopic_count : 175\r\n```\r\n\r\nI want to create my own `news_lda.model` so I want to know: how to calculate `topic_count`?",
        "state": "closed",
        "user": "ardiantovn",
        "closed_by": "WYB27",
        "created_at": "2023-02-06T10:29:48+00:00",
        "updated_at": "2025-06-30T07:08:01+00:00",
        "closed_at": "2025-06-30T07:08:01+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2203,
        "title": "PaddleHub 初始化模型是退出",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub 2.3.1 PaddlePaddle版本：2.4.1\r\n2）系统环境：windows 10，python版本 3.7.4  硬件是笔记本，显存4个g\r\n- 复现信息：\r\n- module = hub.Module(name='stable_diffusion') \r\n- \r\n执行到这个代码时退出了，没有错误提示，使用cpu的版本是正常的\r\n里面应该是执行到get_up_block 时闪退的，再具体就没看了\r\n",
        "state": "closed",
        "user": "tanglaoya321",
        "closed_by": "WYB27",
        "created_at": "2023-02-07T13:06:24+00:00",
        "updated_at": "2025-06-30T07:07:59+00:00",
        "closed_at": "2025-06-30T07:07:59+00:00",
        "comments_count": [
            "rainyfly",
            "tanglaoya321",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2206,
        "title": "paddle hub 如何 调用gpu",
        "body": "同时装了paddlepaddle和paddlepaddle-gpu，\r\nmodel = hub.Module(directory='./baidu_translate')，使用的是cpu，速度比较慢。\r\n如果卸载paddlepaddle，只留paddlepaddle-gpu，hub会报错\r\n\r\nFile \"/home/chenqun/.conda/envs/end2endtrans/lib/python3.9/site-packages/paddlehub/__init__.py\", line 20, in <module>\r\n    _paddle_version = Version(paddle.__version__)\r\nAttributeError: module 'paddle' has no attribute '__version__'",
        "state": "closed",
        "user": "terminator123",
        "closed_by": "WYB27",
        "created_at": "2023-02-15T03:42:11+00:00",
        "updated_at": "2025-06-30T07:07:57+00:00",
        "closed_at": "2025-06-30T07:07:57+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2208,
        "title": "Error: Can not import paddle core while this file exists: D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\libpaddle.pyd",
        "body": "1.平台环境：\r\nWin10\r\nconda 4.11.0\r\nPython 3.7.12\r\npaddlehub            2.3.1\r\npaddlenlp            2.5.1\r\npaddlepaddle         2.4.2\r\n\r\n2.官网参考文档：\r\n[①](https://www.paddlepaddle.org.cn/hubdetail?name=lac&en_category=LexicalAnalysis)\r\n[②](https://www.paddlepaddle.org.cn/hub)\r\n\r\n3.实际操作：\r\n```\r\n(lac) D:\\PycharmProjects\\lac>python\r\nPython 3.7.12 | packaged by conda-forge | (default, Oct 26 2021, 05:35:01) [MSC v.1916 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub as hub\r\nError: Can not import paddle core while this file exists: D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\libpaddle.pyd\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddlehub\\__init__.py\", line 18, in <module>\r\n    import paddle\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\__init__.py\", line 25, in <module>\r\n    from .framework import monkey_patch_variable\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\framework\\__init__.py\", line 17, in <module>\r\n    from . import random  # noqa: F401\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\framework\\random.py\", line 16, in <module>\r\n    import paddle.fluid as fluid\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\__init__.py\", line 36, in <module>\r\n    from . import framework\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 37, in <module>\r\n    from . import core\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\core.py\", line 338, in <module>\r\n    raise e\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\core.py\", line 274, in <module>\r\n    from . import libpaddle\r\nImportError: DLL load failed: The specified module could not be found.\r\n```\r\n\r\n当我移动libpaddle.pyd文件后：\r\n```\r\n(lac) D:\\PycharmProjects\\lac>python\r\nPython 3.7.12 | packaged by conda-forge | (default, Oct 26 2021, 05:35:01) [MSC v.1916 64 bit (AMD64)] on win32\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub as hub\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddlehub\\__init__.py\", line 18, in <module>\r\n    import paddle\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\__init__.py\", line 25, in <module>\r\n    from .framework import monkey_patch_variable\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\framework\\__init__.py\", line 17, in <module>\r\n    from . import random  # noqa: F401\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\framework\\random.py\", line 16, in <module>\r\n    import paddle.fluid as fluid\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\__init__.py\", line 36, in <module>\r\n    from . import framework\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 37, in <module>\r\n    from . import core\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\core.py\", line 338, in <module>\r\n    raise e\r\n  File \"D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\core.py\", line 274, in <module>\r\n    from . import libpaddle\r\nImportError: cannot import name 'libpaddle' from 'paddle.fluid' (D:\\Program Files\\miniconda3\\envs\\lac\\lib\\site-packages\\paddle\\fluid\\__init__.py)\r\n>>>\r\n``` ",
        "state": "closed",
        "user": "water-2022",
        "closed_by": "water-2022",
        "created_at": "2023-02-20T08:59:54+00:00",
        "updated_at": "2023-03-10T03:47:27+00:00",
        "closed_at": "2023-03-10T03:47:27+00:00",
        "comments_count": [
            "rainyfly",
            "water-2022"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2210,
        "title": "HubModuleNotFoundError: No HubModule named picodet_lcnet_x1_0_fgd_layout was found",
        "body": "---------------------------------------------------------------------------\r\nHubModuleNotFoundError                    Traceback (most recent call last)\r\nCell In[2], line 1\r\n----> 1 model = hub.Module(name='picodet_lcnet_x1_0_fgd_layout')\r\n\r\nFile C:\\Python310\\lib\\site-packages\\paddlehub\\module\\module.py:393, in Module.__new__(cls, name, directory, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    391 # This branch come from hub.Module(name='xxx') or hub.Module(directory='xxx')\r\n    392 if name:\r\n--> 393     module = cls.init_with_name(\r\n    394         name=name,\r\n    395         version=version,\r\n    396         source=source,\r\n    397         update=update,\r\n    398         branch=branch,\r\n    399         ignore_env_mismatch=ignore_env_mismatch,\r\n    400         **kwargs)\r\n    401     CacheUpdater(\"update_cache\", module=name, version=version).start()\r\n    402 elif directory:\r\n\r\nFile C:\\Python310\\lib\\site-packages\\paddlehub\\module\\module.py:492, in Module.init_with_name(cls, name, version, source, update, branch, ignore_env_mismatch, **kwargs)\r\n    490 user_module_cls = manager.search(name, source=source, branch=branch)\r\n    491 if not user_module_cls or not user_module_cls.version.match(version):\r\n--> 492     user_module_cls = manager.install(\r\n    493         name=name,\r\n    494         version=version,\r\n    495         source=source,\r\n    496         update=update,\r\n    497         branch=branch,\r\n    498         ignore_env_mismatch=ignore_env_mismatch)\r\n    500 directory = manager._get_normalized_path(user_module_cls.name)\r\n    502 # The HubModule in the old version will use the _initialize method to initialize,\r\n    503 # this function will be obsolete in a future version\r\n\r\nFile C:\\Python310\\lib\\site-packages\\paddlehub\\module\\manager.py:190, in LocalModuleManager.install(self, name, directory, archive, url, version, source, update, branch, ignore_env_mismatch)\r\n    188         if source:\r\n    189             return self._install_from_source(name, version, source, update, branch)\r\n--> 190         return self._install_from_name(name, version, ignore_env_mismatch)\r\n    191 elif directory:\r\n    192     return self._install_from_directory(directory)\r\n\r\nFile C:\\Python310\\lib\\site-packages\\paddlehub\\module\\manager.py:270, in LocalModuleManager._install_from_name(self, name, version, ignore_env_mismatch)\r\n    268 # The HubModule with the specified name cannot be found\r\n    269 if not module_infos:\r\n--> 270     raise HubModuleNotFoundError(name=name, version=version)\r\n    272 valid_infos = {}\r\n    273 if version:\r\n\r\n",
        "state": "closed",
        "user": "MP2902",
        "closed_by": "MP2902",
        "created_at": "2023-02-22T13:19:34+00:00",
        "updated_at": "2023-02-25T14:09:22+00:00",
        "closed_at": "2023-02-25T14:09:22+00:00",
        "comments_count": [
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2209,
        "title": "百度翻译模型使用-RuntimeError: Invalid Sign",
        "body": "import paddlehub as hub\r\n\r\nmodule = hub.Module(name='baidu_translate')\r\nresult = module.translate(\"I like panda\")\r\nprint(result)\r\n\r\n运行会报错：\r\n\r\nRuntimeError: Invalid Sign\r\n\r\nFile \"/xxx/baidu_translate/module.py\", line 68, in translateraise RuntimeError(result['error_msg'])\r\n\r\nRuntimeError: Invalid Sign\r\n\r\n请教一下这个签名要咋弄呢！我看以前的老版本模型也会提示这个！！！！\r\n",
        "state": "closed",
        "user": "zgz757183190",
        "closed_by": "WYB27",
        "created_at": "2023-02-22T11:10:19+00:00",
        "updated_at": "2025-06-30T07:07:55+00:00",
        "closed_at": "2025-06-30T07:07:55+00:00",
        "comments_count": [
            "rainyfly",
            "zgz757183190",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2211,
        "title": "jieba_paddle加载用户字典不正常",
        "body": "paddlehub版本 = 2.3.1\r\njieba_paddle 模块的 load_userdict(user_dict) API 不能使用\r\n查看 PaddleHub/modules/text/lexical_analysis/jieba_paddle/module.py 第120行，发现传入参数 user_dict 没用上，而是一个字符串\"userdict.txt\"。在代码中把 load_userdict 的参数改成\"userdict.txt\"，并配置同名用户字典文件，就能正常用了。",
        "state": "closed",
        "user": "Mrluzhe",
        "closed_by": "WYB27",
        "created_at": "2023-02-23T12:23:31+00:00",
        "updated_at": "2025-06-30T07:07:53+00:00",
        "closed_at": "2025-06-30T07:07:53+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2212,
        "title": "wav2lip输出报错，",
        "body": "执行代码为\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"wav2lip\")\r\nface_input_path = \"1.MP4\"\r\naudio_input_path = \"1.wav\"\r\nmodule.wav2lip_transfer(face=face_input_path, audio=audio_input_path, output_dir='./transfer_result/', use_gpu=False)  \r\n\r\n包版本为\r\npaddlepaddle版本：2.4.1\r\npaddlehub：2.3.1\r\nPython：3.7.4（更换过3.9.16无效）\r\n系统：win10\r\n\r\n每次module.wav2lip_transfer显示Model loaded时到0/8会卡住，然后过一会py崩溃，报错会显示超过int32过大或者过小，求帮忙看看，中间有段时间突然可以使用了，不知道为啥，后来重装环境后又不行了。\r\n![image](https://user-images.githubusercontent.com/126392345/221409077-3a0a853d-860c-434c-a25f-eea60555f449.png)\r\n\r\n",
        "state": "closed",
        "user": "zjjzff123",
        "closed_by": "WYB27",
        "created_at": "2023-02-26T12:02:37+00:00",
        "updated_at": "2025-06-30T07:07:51+00:00",
        "closed_at": "2025-06-30T07:07:51+00:00",
        "comments_count": [
            "rainyfly",
            "zjjzff123",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2213,
        "title": "hub启动服务并推理，显卡利用率为0，推理速度很慢",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\npaddle-bfloat                0.1.7\r\npaddle2onnx                  1.0.5\r\npaddlefsl                    1.1.0\r\npaddlehub                    2.3.1\r\npaddlenlp                    2.5.0\r\npaddlepaddle-gpu             2.3.2.post116\r\npaddleslim                   2.2.1\r\npaddlex                      2.1.0\r\nx2paddle                     1.4.0\r\n\r\n2）系统环境：Linux  python3.8  Ubuntu20.04   3090显卡\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n![image](https://user-images.githubusercontent.com/51695758/221508784-4134a074-61eb-4c4d-af04-958e7f7d2768.png)\r\nhub serving start -c config.json 启动服务，客户端预测但是显卡利用率为0\r\n`{\r\n  \"modules_info\": {\r\n    \"helmet_hub\": {\r\n      \"init_args\": {\r\n        \"version\": \"1.0.0\"\r\n      },\r\n      \"predict_args\": {\r\n        \"batch_size\": 100,\r\n        \"use_gpu\": true\r\n      }\r\n    }\r\n  },\r\n  \"port\": 8866,\r\n  \"use_multiprocess\": false,\r\n  \"workers\": 2,\r\n  \"gpu\": \"1,2,3\"\r\n}`",
        "state": "closed",
        "user": "gitmhg",
        "closed_by": "WYB27",
        "created_at": "2023-02-27T08:15:52+00:00",
        "updated_at": "2025-06-30T07:07:49+00:00",
        "closed_at": "2025-06-30T07:07:49+00:00",
        "comments_count": [
            "rainyfly",
            "gitmhg",
            "gitmhg",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2214,
        "title": "paddlehub预训练时报错：AttributeError: 'MobileNetV3Small' object has no attribute 'parameters'",
        "body": "```\r\nmodel = hub.Module(name=\"mobilenet_v3_small_imagenet_ssld\")\r\n\r\ntransforms = T.Compose([T.Resize((256, 256)),\r\n                        T.CenterCrop(224),\r\n                        T.Normalize(mean=[0.485, 0.456, 0.406], std=[0.229, 0.224, 0.225])],\r\n                       to_rgb=True)\r\n\r\ntrain_dataset = Dataset(path=\"dataset/flower_photos\",transforms=transforms)\r\ntest_dataset = Dataset(path=\"dataset/flower_photos\",transforms=transforms, mode=\"test\")\r\nval_dataset = Dataset(path=\"dataset/flower_photos\",transforms=transforms, mode=\"val\")\r\n\r\noptimizer = paddle.optimizer.Adam(learning_rate=0.001, parameters=model.parameters())\r\ntrainer = Trainer(model, optimizer, checkpoint_dir='img_classification_ckpt')\r\n\r\ntrainer.train(train_dataset, epochs=100, batch_size=32, eval_dataset=val_dataset, save_interval=1)\r\n```\r\n我尝试用上面的代码对[https://www.paddlepaddle.org.cn/hubdetail?name=mobilenet_v3_small_imagenet_ssld&en_category=ImageClassification](https://www.paddlepaddle.org.cn/hubdetail?name=mobilenet_v3_small_imagenet_ssld&en_category=ImageClassification)进行预训练，但是报错AttributeError: 'MobileNetV3Small' object has no attribute 'parameters'，但是mobilenet_v3_small_imagenet_ssld页面没有提供预训练的代码，请问如何才能使用mobilenet_v3_small_imagenet_ssld预训练？",
        "state": "closed",
        "user": "thgpddl",
        "closed_by": "WYB27",
        "created_at": "2023-02-27T08:52:41+00:00",
        "updated_at": "2025-06-30T07:07:47+00:00",
        "closed_at": "2025-06-30T07:07:47+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2215,
        "title": "ge2e_fastspeech2_pwgan UnicodeDecodeError: 'gbk' codec can't decode byte 0x8c in position 2448: illegal multibyte sequence",
        "body": "```\r\nimport paddlehub as hub\r\nimport os\r\n\r\nmodel = hub.Module(name='ge2e_fastspeech2_pwgan', output_dir='D:/HUB/', speaker_audio='D:/334292423-1-208.wav')  # 指定目标音色音频文件\r\ntexts = [\r\n    '语音的表现形式在未来将变得越来越重要']\r\nwavs = model.generate(texts, use_gpu=True)\r\n\r\nfor text, wav in zip(texts, wavs):\r\n    print('='*30)\r\n    print(f'Text: {text}')\r\n    print(f'Wav: {wav}')\r\n\r\n```\r\n```\r\n\r\nD:\\anaconda31114\\envs\\paddHUB\\lib\\site-packages\\_distutils_hack\\__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[nltk_data] Error loading averaged_perceptron_tagger: <urlopen error\r\n[nltk_data]     [Errno 11004] getaddrinfo failed>\r\n[nltk_data] Error loading cmudict: <urlopen error [Errno 11004]\r\n[nltk_data]     getaddrinfo failed>\r\nW0228 17:21:57.891395 22916 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.7, Runtime API Version: 11.6\r\nW0228 17:21:57.895401 22916 gpu_resources.cc:91] device: 0, cuDNN Version: 8.4.\r\nTraceback (most recent call last):\r\n  File \"f:/qian_HUB/sy.py\", line 6, in <module>\r\n    model = hub.Module(name='ge2e_fastspeech2_pwgan', output_dir='D:/HUB/', speaker_audio='D:/334292423-1-208.wav')  # 指定目标音色音频文件\r\n  File \"D:\\anaconda31114\\envs\\paddHUB\\lib\\site-packages\\paddlehub\\module\\module.py\", line 393, in __new__\r\n    module = cls.init_with_name(\r\n  File \"D:\\anaconda31114\\envs\\paddHUB\\lib\\site-packages\\paddlehub\\module\\module.py\", line 516, in init_with_name\r\n    return user_module_cls(**kwargs)\r\n  File \"C:\\Users\\monke\\.paddlehub\\modules\\ge2e_fastspeech2_pwgan\\module.py\", line 77, in __init__\r\n    phn_id = [line.strip().split() for line in f.readlines()]\r\nUnicodeDecodeError: 'gbk' codec can't decode byte 0x8c in position 2448: illegal multibyte sequence\r\n```\r\n\r\n```\r\n\r\n-------------------- -------------\r\naiofiles             23.1.0\r\naiohttp              3.8.4\r\naiosignal            1.3.1\r\naltair               4.2.2\r\nanyio                3.6.2\r\nastor                0.8.1\r\nasync-timeout        4.0.2\r\nattrs                22.2.0\r\naudioread            3.0.0\r\nBabel                2.11.0\r\nbce-python-sdk       0.8.79\r\nBottleneck           1.3.6\r\ncertifi              2022.12.7\r\ncffi                 1.15.1\r\ncharset-normalizer   3.0.1\r\nclick                8.1.3\r\ncolorama             0.4.6\r\ncolorlog             6.7.0\r\ncontourpy            1.0.7\r\ncycler               0.11.0\r\nCython               0.29.33\r\ndatasets             2.10.0\r\ndecorator            4.4.2\r\ndill                 0.3.4\r\nDistance             0.1.3\r\neasydict             1.10\r\neditdistance         0.6.2\r\nentrypoints          0.4\r\nfastapi              0.92.0\r\nffmpeg               1.4\r\nffmpy                0.3.0\r\nfilelock             3.9.0\r\nFlask                2.2.3\r\nFlask-Babel          2.0.0\r\nfonttools            4.38.0\r\nfrozenlist           1.3.3\r\nfsspec               2023.1.0\r\nfuture               0.18.3\r\ng2p-en               2.1.0\r\ng2pM                 0.1.2.5\r\ngradio               3.19.1\r\nh11                  0.14.0\r\nh5py                 3.8.0\r\nhttpcore             0.16.3\r\nhttpx                0.23.3\r\nhuggingface-hub      0.12.1\r\nidna                 3.4\r\nimageio              2.26.0\r\nimageio-ffmpeg       0.4.8\r\nimportlib-metadata   6.0.0\r\nimportlib-resources  5.12.0\r\ninflect              6.0.2\r\nitsdangerous         2.1.2\r\njieba                0.42.1\r\nJinja2               3.1.2\r\njoblib               1.2.0\r\njsonlines            3.1.0\r\njsonschema           4.17.3\r\nkaldiio              2.17.2\r\nkiwisolver           1.4.4\r\nlibrosa              0.8.1\r\nlinkify-it-py        2.0.0\r\nllvmlite             0.39.1\r\nloguru               0.6.0\r\nlxml                 4.9.2\r\nmarkdown-it-py       2.2.0\r\nMarkupSafe           2.1.2\r\nmatplotlib           3.7.0\r\nmdit-py-plugins      0.3.3\r\nmdurl                0.1.1\r\nmock                 5.0.1\r\nmoviepy              1.0.3\r\nmultidict            6.0.4\r\nmultiprocess         0.70.12.2\r\nnara-wpe             0.0.9\r\nnltk                 3.8.1\r\nnumba                0.56.4\r\nnumpy                1.23.5\r\nopencv-python        4.7.0.72\r\nopt-einsum           3.3.0\r\norjson               3.8.6\r\npackaging            23.0\r\npaddle-bfloat        0.1.7\r\npaddle2onnx          1.0.5\r\npaddleaudio          1.1.0\r\npaddlefsl            1.1.0\r\npaddlehub            2.3.1\r\npaddlenlp            2.5.1\r\npaddlepaddle-gpu     2.4.1.post116\r\npaddlespeech         0.1.0a13\r\npaddlespeech-feat    0.1.0\r\npandas               1.5.3\r\nparameterized        0.8.1\r\npathos               0.2.8\r\nPillow               9.4.0\r\npip                  22.3.1\r\npkgutil_resolve_name 1.3.10\r\nplatformdirs         3.0.0\r\npooch                1.7.0\r\nportalocker          2.7.0\r\npox                  0.3.2\r\nppft                 1.7.6.6\r\npraatio              4.4.0\r\nproglog              0.1.10\r\nprotobuf             3.20.0\r\npyarrow              11.0.0\r\npybind11             2.10.3\r\npycparser            2.21\r\npycryptodome         3.17\r\npydantic             1.10.5\r\npydub                0.25.1\r\npyglet               2.0.3\r\nPygments             2.14.0\r\npyparsing            3.0.9\r\npypinyin             0.48.0\r\npyrsistent           0.19.3\r\npython-dateutil      2.8.2\r\npython-multipart     0.0.5\r\npytz                 2022.7.1\r\npywin32              305\r\npyworld              0.3.2\r\nPyYAML               6.0\r\npyzmq                25.0.0\r\nrarfile              4.0\r\nregex                2022.10.31\r\nrequests             2.28.2\r\nresampy              0.2.2\r\nresponses            0.18.0\r\nrfc3986              1.5.0\r\nrich                 13.3.1\r\nsacrebleu            2.3.1\r\nscikit-learn         1.2.1\r\nscipy                1.10.1\r\nsentencepiece        0.1.96\r\nseqeval              1.2.2\r\nsetuptools           65.6.3\r\nsix                  1.16.0\r\nsniffio              1.3.0\r\nsoundfile            0.12.1\r\nstarlette            0.25.0\r\ntabulate             0.9.0\r\nTextGrid             1.5\r\nthreadpoolctl        3.1.0\r\ntimer                0.2.2\r\ntoolz                0.12.0\r\ntqdm                 4.64.1\r\ntypeguard            2.13.3\r\ntyper                0.7.0\r\ntyping_extensions    4.5.0\r\nuc-micro-py          1.0.1\r\nurllib3              1.26.14\r\nuvicorn              0.20.0\r\nvisualdl             2.4.2\r\nwebrtcvad            2.0.10\r\nwebsockets           10.4\r\nWerkzeug             2.2.3\r\nwheel                0.38.4\r\nwin32-setctime       1.1.0\r\nwincertstore         0.2\r\nxxhash               3.2.0\r\nyacs                 0.1.8\r\nyarl                 1.8.2\r\nzipp                 3.15.0\r\n```",
        "state": "closed",
        "user": "monkeycc",
        "closed_by": "WYB27",
        "created_at": "2023-02-28T09:24:31+00:00",
        "updated_at": "2025-06-30T07:07:45+00:00",
        "closed_at": "2025-06-30T07:07:45+00:00",
        "comments_count": [
            "pyqf66",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2218,
        "title": "pyramidbox_lite_mobile使用gpu对视频进行推断出错",
        "body": "paddlehub版本为2.3.1\r\npaddlepaddle-gpu版本为2.4，在aistudio上GPU环境下运行\r\n采用模型为paddlehub中pyramidbox_lite_mobile，并成功实现GPU对图像推断\r\n后期二次开发中，对视频进行推断出错，报错为AttributeError: 'PyramidBoxLiteMobile' object has no attribute 'gpu_predictor'\r\n经过查阅资料，可能是动态静态问题，请问这个问题应该如何解决呢，下面是ipynb文件\r\n非常感谢您的指导！\r\n\r\n[face_detect.ipynb.zip](https://github.com/PaddlePaddle/PaddleHub/files/10877728/face_detect.ipynb.zip)\r\n",
        "state": "closed",
        "user": "wuhaoranran",
        "closed_by": "WYB27",
        "created_at": "2023-03-03T02:48:10+00:00",
        "updated_at": "2025-06-30T07:07:40+00:00",
        "closed_at": "2025-06-30T07:07:40+00:00",
        "comments_count": [
            "rainyfly",
            "wuhaoranran",
            "wuhaoranran",
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2216,
        "title": "wav2lip FileNotFoundError: [WinError 2] 系统找不到指定的文件。",
        "body": "```\r\nimport paddlehub as hub\r\nimport os\r\n\r\n\r\n# 获取当前文件夹路径\r\nparent = os.path.dirname(os.path.abspath(__file__)) + \"/\"\r\n\r\n\r\nmodule = hub.Module(name=\"wav2lip\")\r\nface_input_path = parent + \"1.jpg\"\r\naudio_input_path = parent +  \"334292423-1-208.wav\"\r\n\r\nprint(face_input_path)\r\nprint(audio_input_path)\r\nprint( parent + '/transfer_result/')\r\n\r\nmodule.wav2lip_transfer(face=face_input_path, audio=audio_input_path, output_dir= parent + '/transfer_result/', use_gpu=True)  \r\n\r\n\r\n```\r\n\r\n\r\nD:\\anaconda31114\\envs\\paddHUB\\lib\\site-packages\\_distutils_hack\\__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[02/28 17:47:46] ppgan INFO: Found C:\\Users\\monke\\.cache\\ppgan\\GPEN-512.pdparams\r\nW0228 17:47:47.090358 14692 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.7, Runtime API Version: 11.6\r\nW0228 17:47:47.096369 14692 gpu_resources.cc:91] device: 0, cuDNN Version: 8.4.\r\n\r\nf:/HUB/1.jpg\r\nf:/HUB/334292423-1-208.wav\r\nf:/HUB//transfer_result/\r\n\r\nNumber of frames available for inference: 1\r\nLength of mel chunks: 2346\r\nModel loaded\r\n100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 1/1 [00:02<00:00,  2.68s/it] \r\n100%|███████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 19/19 [03:04<00:00,  9.72s/it] \r\nTraceback (most recent call last):\r\n  File \"f:/qian_HUB/wav2lip2.py\", line 16, in <module>\r\n  File \"D:\\anaconda31114\\envs\\paddHUB\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\monke\\.paddlehub\\modules\\wav2lip\\module.py\", line 70, in wav2lip_transfer\r\n    self.network.run(face, audio, output_dir, visualization)\r\n  File \"C:\\Users\\monke\\.paddlehub\\modules\\wav2lip\\model.py\", line 290, in run\r\n    subprocess.call(command, shell=platform.system() != 'Windows')\r\n  File \"D:\\anaconda31114\\envs\\paddHUB\\lib\\subprocess.py\", line 340, in call\r\n    with Popen(*popenargs, **kwargs) as p:\r\n  File \"D:\\anaconda31114\\envs\\paddHUB\\lib\\subprocess.py\", line 858, in __init__\r\n    self._execute_child(args, executable, preexec_fn, close_fds,\r\n  File \"D:\\anaconda31114\\envs\\paddHUB\\lib\\subprocess.py\", line 1311, in _execute_child\r\n    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\r\nFileNotFoundError: [WinError 2] 系统找不到指定的文件。\r\n\r\n\r\n```\r\n\r\n-------------------- -------------\r\naiofiles             23.1.0\r\naiohttp              3.8.4\r\naiosignal            1.3.1\r\naltair               4.2.2\r\nanyio                3.6.2\r\nastor                0.8.1\r\nasync-timeout        4.0.2\r\nattrs                22.2.0\r\naudioread            3.0.0\r\nBabel                2.11.0\r\nbce-python-sdk       0.8.79\r\nBottleneck           1.3.6\r\ncertifi              2022.12.7\r\ncffi                 1.15.1\r\ncharset-normalizer   3.0.1\r\nclick                8.1.3\r\ncolorama             0.4.6\r\ncolorlog             6.7.0\r\ncontourpy            1.0.7\r\ncycler               0.11.0\r\nCython               0.29.33\r\ndatasets             2.10.0\r\ndecorator            4.4.2\r\ndill                 0.3.4\r\nDistance             0.1.3\r\neasydict             1.10\r\neditdistance         0.6.2\r\nentrypoints          0.4\r\nfastapi              0.92.0\r\nffmpeg               1.4\r\nffmpy                0.3.0\r\nfilelock             3.9.0\r\nFlask                2.2.3\r\nFlask-Babel          2.0.0\r\nfonttools            4.38.0\r\nfrozenlist           1.3.3\r\nfsspec               2023.1.0\r\nfuture               0.18.3\r\ng2p-en               2.1.0\r\ng2pM                 0.1.2.5\r\ngradio               3.19.1\r\nh11                  0.14.0\r\nh5py                 3.8.0\r\nhttpcore             0.16.3\r\nhttpx                0.23.3\r\nhuggingface-hub      0.12.1\r\nidna                 3.4\r\nimageio              2.26.0\r\nimageio-ffmpeg       0.4.8\r\nimportlib-metadata   6.0.0\r\nimportlib-resources  5.12.0\r\ninflect              6.0.2\r\nitsdangerous         2.1.2\r\njieba                0.42.1\r\nJinja2               3.1.2\r\njoblib               1.2.0\r\njsonlines            3.1.0\r\njsonschema           4.17.3\r\nkaldiio              2.17.2\r\nkiwisolver           1.4.4\r\nlibrosa              0.8.1\r\nlinkify-it-py        2.0.0\r\nllvmlite             0.39.1\r\nloguru               0.6.0\r\nlxml                 4.9.2\r\nmarkdown-it-py       2.2.0\r\nMarkupSafe           2.1.2\r\nmatplotlib           3.7.0\r\nmdit-py-plugins      0.3.3\r\nmdurl                0.1.1\r\nmock                 5.0.1\r\nmoviepy              1.0.3\r\nmultidict            6.0.4\r\nmultiprocess         0.70.12.2\r\nnara-wpe             0.0.9\r\nnltk                 3.8.1\r\nnumba                0.56.4\r\nnumpy                1.23.5\r\nopencv-python        4.7.0.72\r\nopt-einsum           3.3.0\r\norjson               3.8.6\r\npackaging            23.0\r\npaddle-bfloat        0.1.7\r\npaddle2onnx          1.0.5\r\npaddleaudio          1.1.0\r\npaddlefsl            1.1.0\r\npaddlehub            2.3.1\r\npaddlenlp            2.5.1\r\npaddlepaddle-gpu     2.4.1.post116\r\npaddlespeech         0.1.0a13\r\npaddlespeech-feat    0.1.0\r\npandas               1.5.3\r\nparameterized        0.8.1\r\npathos               0.2.8\r\nPillow               9.4.0\r\npip                  22.3.1\r\npkgutil_resolve_name 1.3.10\r\nplatformdirs         3.0.0\r\npooch                1.7.0\r\nportalocker          2.7.0\r\npox                  0.3.2\r\nppft                 1.7.6.6\r\npraatio              4.4.0\r\nproglog              0.1.10\r\nprotobuf             3.20.0\r\npyarrow              11.0.0\r\npybind11             2.10.3\r\npycparser            2.21\r\npycryptodome         3.17\r\npydantic             1.10.5\r\npydub                0.25.1\r\npyglet               2.0.3\r\nPygments             2.14.0\r\npyparsing            3.0.9\r\npypinyin             0.48.0\r\npyrsistent           0.19.3\r\npython-dateutil      2.8.2\r\npython-multipart     0.0.5\r\npytz                 2022.7.1\r\npywin32              305\r\npyworld              0.3.2\r\nPyYAML               6.0\r\npyzmq                25.0.0\r\nrarfile              4.0\r\nregex                2022.10.31\r\nrequests             2.28.2\r\nresampy              0.2.2\r\nresponses            0.18.0\r\nrfc3986              1.5.0\r\nrich                 13.3.1\r\nsacrebleu            2.3.1\r\nscikit-learn         1.2.1\r\nscipy                1.10.1\r\nsentencepiece        0.1.96\r\nseqeval              1.2.2\r\nsetuptools           65.6.3\r\nsix                  1.16.0\r\nsniffio              1.3.0\r\nsoundfile            0.12.1\r\nstarlette            0.25.0\r\ntabulate             0.9.0\r\nTextGrid             1.5\r\nthreadpoolctl        3.1.0\r\ntimer                0.2.2\r\ntoolz                0.12.0\r\ntqdm                 4.64.1\r\ntypeguard            2.13.3\r\ntyper                0.7.0\r\ntyping_extensions    4.5.0\r\nuc-micro-py          1.0.1\r\nurllib3              1.26.14\r\nuvicorn              0.20.0\r\nvisualdl             2.4.2\r\nwebrtcvad            2.0.10\r\nwebsockets           10.4\r\nWerkzeug             2.2.3\r\nwheel                0.38.4\r\nwin32-setctime       1.1.0\r\nwincertstore         0.2\r\nxxhash               3.2.0\r\nyacs                 0.1.8\r\nyarl                 1.8.2\r\nzipp                 3.15.0\r\n```",
        "state": "closed",
        "user": "monkeycc",
        "closed_by": "WYB27",
        "created_at": "2023-02-28T09:53:19+00:00",
        "updated_at": "2025-06-30T07:07:43+00:00",
        "closed_at": "2025-06-30T07:07:43+00:00",
        "comments_count": [
            "yapianwan",
            "mmhzlrj",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2217,
        "title": "paddlehub和paddlepaddle2.2.0版本numpy冲突",
        "body": "安装paddlehub和paddlepaddle，paddlepaddle numpy版本要求<16,paddlehub要求大于>19，这个怎么解决呢",
        "state": "closed",
        "user": "winbina",
        "closed_by": "WYB27",
        "created_at": "2023-03-02T06:12:58+00:00",
        "updated_at": "2025-06-30T07:07:42+00:00",
        "closed_at": "2025-06-30T07:07:42+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2219,
        "title": "ImportError: cannot import name '_print_arguments' from 'paddle.distributed.utils'",
        "body": "PaddleHub 2.0.4\r\npaddlenlp  2.5.2\r\npaddlepaddle  2.0.0\r\nwin10\r\npython 3.7\r\n![image](https://user-images.githubusercontent.com/116543487/223445384-bd9d9b92-70f1-442e-9c0e-296ab6360062.png)\r\n",
        "state": "closed",
        "user": "Monstercat-023",
        "closed_by": "Monstercat-023",
        "created_at": "2023-03-07T14:05:45+00:00",
        "updated_at": "2023-04-03T08:57:58+00:00",
        "closed_at": "2023-03-14T07:28:48+00:00",
        "comments_count": [
            "rainyfly",
            "wuxi-dixi",
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2220,
        "title": "paddlehub2是否支持国产gpu驱动下的训练和预测？",
        "body": "目前paddlehub2是基于CUDA下的paddlepaddle-gpu下实现预测和训练，那如果环境为国产驱动下的gpu资源例如海光 DCU、昇腾 NPU、Graphcore IPU、寒武纪 MLU、百度昆仑等，paddlehub2和paddlehub1.8是否适配这些版本的下的paddlepaddle来进行训练和预测。烦请hub的技术解惑。非常感谢。",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2023-03-08T03:28:28+00:00",
        "updated_at": "2025-06-30T07:07:38+00:00",
        "closed_at": "2025-06-30T07:07:38+00:00",
        "comments_count": [
            "suntao2015005848",
            "rainyfly",
            "suntao2015005848",
            "zgz757183190",
            "rainyfly",
            "suntao2015005848",
            "suntao2015005848",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2221,
        "title": "multi_languages_ocr_db_crnn类型错误",
        "body": "我在ai studio上使用paddlehub的multi_languages_ocr_db_crnn，但是出现报错如下：\r\n```\r\n---------------------------------------------------------------------------\r\nTypeError                                 Traceback (most recent call last)\r\n/tmp/ipykernel_26157/1143782944.py in <module>\r\n      3 \r\n      4 ocr = hub.Module(name=\"multi_languages_ocr_db_crnn\", lang='en')       # mkldnn加速仅在CPU下有效\r\n----> 5 result = ocr.recognize_text(paths=['/home/aistudio/test/test4.jpg'])\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py in runner(*args, **kwargs)\r\n    219     def runner(*args, **kwargs):\r\n    220         with static_mode_guard():\r\n--> 221             return func(*args, **kwargs)\r\n    222 \r\n    223     return runner\r\n\r\n~/.paddlehub/modules/multi_languages_ocr_db_crnn/module.py in recognize_text(self, images, paths, output_dir, visualization)\r\n     95                     boxes = line[0]\r\n     96                     text, score = line[1]\r\n---> 97                     rec_res_final.append({'text': text, 'confidence': float(score), 'text_box_position': boxes})\r\n     98                 elif self.det and not self.rec:\r\n     99                     boxes = line\r\n\r\nTypeError: float() argument must be a string or a number, not 'tuple'\r\n```\r\n我的环境为：\r\npaddlepaddle-ocr 2.4.0.post112\r\n\r\npaddlehub 2.3.0\r\n\r\npaddleocr 2.5.0.2",
        "state": "closed",
        "user": "xiehuanyi",
        "closed_by": "WYB27",
        "created_at": "2023-03-10T02:56:23+00:00",
        "updated_at": "2025-06-30T07:07:36+00:00",
        "closed_at": "2025-06-30T07:07:36+00:00",
        "comments_count": [
            "xiehuanyi",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2224,
        "title": "win10电脑pip安装paddlehub报错：",
        "body": "电脑：机械革命z2 GTX1650 4G i7-9750 8GB*2RAM\r\nWin10 家庭中文版 版本号：22H2\r\npython版本：3.10.10\r\npaddlepaddle：2.4.2\r\npip：23.0.1\r\n\r\n使用pycharm的软件包安装paddlehub失败\r\n使用命令提示符下方语句安装报错\r\n`pip install paddlehub`\r\n\r\n错误提示码如下\r\n![}UTI86_7BOEIOQJ@8U%O`@O](https://user-images.githubusercontent.com/127609457/225006439-3c788e33-34e1-459c-9434-eed2e72bc899.png)\r\n\r\n经过检查，发现是为了加速pip下载时，在%APPDATA%文件夹新建的文件夹pip中的pip.ini文件，提供url时使用的是http，而非https，从而导致报错\r\n修改pip.ini文件内如下后，问题解决，paddlehub成功安装\r\n\r\n`\r\n[global]\r\nindex-url=https://mirrors.aliyun.com/pypi/simple/\r\n\r\n[install]\r\ntrusted-host=mirrors.aliyun.com\r\n`\r\n\r\n\r\n",
        "state": "closed",
        "user": "sutanglime",
        "closed_by": "rainyfly",
        "created_at": "2023-03-14T12:58:09+00:00",
        "updated_at": "2023-04-03T08:59:57+00:00",
        "closed_at": "2023-04-03T08:59:57+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2222,
        "title": "hub serving配置use_multiprocess配置true后lac模型预测无法启动WORKER TIMEOUT",
        "body": "1.测试环境：\r\nCentOS Linux release 7.9.2009 (Core)\r\nCPU(s):                8\r\nmem: 32g\r\nconda 4.6.14\r\nPython 3.10.4\r\npaddlehub              2.3.1\r\npaddlenlp              2.5.1\r\npaddlepaddle           2.4.2\r\nlac 2.4.0\r\n\r\n2.配置文件：\r\n```\r\n{\r\n  \"modules_info\": {\r\n    \"lac\": {\r\n      \"init_args\": {\r\n        \"version\": \"2.4.0\",\r\n        \"user_dict\": \"./dict.txt\"\r\n      },\r\n      \"predict_args\": {}\r\n    }\r\n  },\r\n  \"port\": 8866,\r\n  \"use_multiprocess\": true,\r\n  \"workers\": 2,\r\n  \"timeout\": 3000\r\n}\r\n```\r\n3.运行命令及报错信息\r\n```\r\n(paddlepaddle-test) [root@nlp68 hub]# hub serving start -c serving_config.json\r\n/root/.conda/envs/paddlepaddle-test/lib/python3.10/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[2023-03-10 11:25:06 +0800] [21115] [INFO] Starting gunicorn 20.1.0\r\n[2023-03-10 11:25:06 +0800] [21115] [INFO] Listening at: http://0.0.0.0:8866 (21115)\r\n[2023-03-10 11:25:06 +0800] [21115] [INFO] Using worker: sync\r\n[2023-03-10 11:25:06 +0800] [21158] [INFO] Booting worker with pid: 21158\r\n[2023-03-10 11:25:06 +0800] [21160] [INFO] Booting worker with pid: 21160\r\n[2023-03-10 11:36:02 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:21158)\r\n[2023-03-10 11:36:03 +0800] [21115] [WARNING] Worker with pid 21158 was terminated due to signal 9\r\n[2023-03-10 11:36:03 +0800] [22783] [INFO] Booting worker with pid: 22783\r\n[2023-03-10 11:36:18 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:21160)\r\n[2023-03-10 11:36:19 +0800] [21115] [WARNING] Worker with pid 21160 was terminated due to signal 9\r\n[2023-03-10 11:36:19 +0800] [22819] [INFO] Booting worker with pid: 22819\r\n[2023-03-10 11:36:49 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:22819)\r\n[2023-03-10 11:36:50 +0800] [22819] [INFO] Worker exiting (pid: 22819)\r\n[2023-03-10 11:36:51 +0800] [21115] [WARNING] Worker with pid 22819 was terminated due to signal 9\r\n[2023-03-10 11:36:51 +0800] [22902] [INFO] Booting worker with pid: 22902\r\n[2023-03-10 11:37:02 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:22783)\r\n[2023-03-10 11:37:03 +0800] [21115] [WARNING] Worker with pid 22783 was terminated due to signal 9\r\n[2023-03-10 11:37:04 +0800] [22939] [INFO] Booting worker with pid: 22939\r\n[2023-03-10 11:37:36 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:22902)\r\n[2023-03-10 11:37:37 +0800] [21115] [WARNING] Worker with pid 22902 was terminated due to signal 9\r\n[2023-03-10 11:37:37 +0800] [23028] [INFO] Booting worker with pid: 23028\r\n[2023-03-10 11:37:38 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:22939)\r\n[2023-03-10 11:37:38 +0800] [22939] [INFO] Worker exiting (pid: 22939)\r\n[2023-03-10 11:37:39 +0800] [21115] [WARNING] Worker with pid 22939 was terminated due to signal 9\r\n[2023-03-10 11:37:39 +0800] [23032] [INFO] Booting worker with pid: 23032\r\n[2023-03-10 11:38:09 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:23032)\r\n[2023-03-10 11:38:10 +0800] [23032] [INFO] Worker exiting (pid: 23032)\r\n[2023-03-10 11:38:10 +0800] [21115] [WARNING] Worker with pid 23032 was terminated due to signal 9\r\n[2023-03-10 11:38:10 +0800] [23103] [INFO] Booting worker with pid: 23103\r\n[2023-03-10 11:38:54 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:23028)\r\n[2023-03-10 11:38:55 +0800] [21115] [WARNING] Worker with pid 23028 was terminated due to signal 9\r\n[2023-03-10 11:38:55 +0800] [23219] [INFO] Booting worker with pid: 23219\r\n[2023-03-10 11:39:02 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:23103)\r\n[2023-03-10 11:39:03 +0800] [21115] [WARNING] Worker with pid 23103 was terminated due to signal 9\r\n[2023-03-10 11:39:03 +0800] [23241] [INFO] Booting worker with pid: 23241\r\n[2023-03-10 11:39:25 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:23219)\r\n[2023-03-10 11:39:27 +0800] [21115] [WARNING] Worker with pid 23219 was terminated due to signal 9\r\n[2023-03-10 11:39:27 +0800] [23294] [INFO] Booting worker with pid: 23294\r\n[2023-03-10 11:40:20 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:23294)\r\n[2023-03-10 11:40:21 +0800] [21115] [WARNING] Worker with pid 23294 was terminated due to signal 9\r\n[2023-03-10 11:40:21 +0800] [23432] [INFO] Booting worker with pid: 23432\r\n[2023-03-10 11:40:25 +0800] [21115] [CRITICAL] WORKER TIMEOUT (pid:23241)\r\n[2023-03-10 11:40:26 +0800] [23241] [INFO] Worker exiting (pid: 23241)\r\n[2023-03-10 11:40:26 +0800] [21115] [WARNING] Worker with pid 23241 was terminated due to signal 9\r\n[2023-03-10 11:40:26 +0800] [23446] [INFO] Booting worker with pid: 23446\r\n```\r\n\r\n4.解决尝试均未成功\r\n* 之前设置的workers为8，之后设置为2问题依旧。\r\n* 配置文件中 \"timeout\": 3000之后问题依旧。\r\n* 可能是内存不足，查看内存可用还剩下一半16G。",
        "state": "closed",
        "user": "water-2022",
        "closed_by": "WYB27",
        "created_at": "2023-03-10T04:38:11+00:00",
        "updated_at": "2025-06-30T07:07:34+00:00",
        "closed_at": "2025-06-30T07:07:34+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2223,
        "title": "paddlehub和flask冲突吗",
        "body": "在windows上同时使用flask框架和paddle时，这两者似乎会有冲突。若是先import paddlehub，会弹出该警告：\r\n[\"UserWarning: Setuptools is replacing distutils\"]\r\nflask框会报一个找不到根目录的错，\r\n若是先import flask，也会一直发出该警告，但程序可以正常运行。\r\n该问题如何解决？",
        "state": "closed",
        "user": "Bbbyi",
        "closed_by": "WYB27",
        "created_at": "2023-03-10T08:05:36+00:00",
        "updated_at": "2025-06-30T07:07:32+00:00",
        "closed_at": "2025-06-30T07:07:32+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2225,
        "title": "hub install lstm_tacotron2 下拉出错，zipfile.BadZipFile: File is not a zip file",
        "body": "registry.baidubce.com/paddlepaddle/paddle:2.3.0-gpu-cuda11.2-cudnn8镜像创建容器中:\r\npaddlepaddle-gpu:2.3.0.post112\r\npaddlehub :2.3.1\r\nPython 3.7.13\r\n执行命令 hub install lstm_tacotron2\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/commands/install.py\", line 55, in execute\r\n    manager.install(name=name, version=version, ignore_env_mismatch=args.ignore_env_mismatch)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/module/manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/module/manager.py\", line 265, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/module/manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/module/manager.py\", line 380, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/module/manager.py\", line 364, in _install_from_directory\r\n    hub_module_cls = HubModule.load(self._get_normalized_path(module_info.name))\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/module/module.py\", line 423, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/utils/utils.py\", line 250, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"/usr/lib/python3.7/importlib/__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1006, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 983, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 967, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 677, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 728, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"/root/.paddlehub/modules/ge2e_fastspeech2_pwgan/module.py\", line 27, in <module>\r\n    from paddlespeech.t2s.frontend.zh_frontend import Frontend\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlespeech/t2s/__init__.py\", line 19, in <module>\r\n    from . import frontend\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlespeech/t2s/frontend/__init__.py\", line 16, in <module>\r\n    from .phonectic import *\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlespeech/t2s/frontend/phonectic.py\", line 18, in <module>\r\n    from g2p_en import G2p\r\n  File \"/usr/local/lib/python3.7/dist-packages/g2p_en/__init__.py\", line 1, in <module>\r\n    from .g2p import G2p\r\n  File \"/usr/local/lib/python3.7/dist-packages/g2p_en/g2p.py\", line 26, in <module>\r\n    nltk.data.find('corpora/cmudict.zip')\r\n  File \"/usr/local/lib/python3.7/dist-packages/nltk/data.py\", line 542, in find\r\n    return ZipFilePathPointer(p, zipentry)\r\n  File \"/usr/local/lib/python3.7/dist-packages/nltk/compat.py\", line 41, in _decorator\r\n    return init_func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/nltk/data.py\", line 394, in __init__\r\n    zipfile = OpenOnDemandZipFile(os.path.abspath(zipfile))\r\n  File \"/usr/local/lib/python3.7/dist-packages/nltk/compat.py\", line 41, in _decorator\r\n    return init_func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/nltk/data.py\", line 935, in __init__\r\n    zipfile.ZipFile.__init__(self, filename)\r\n  File \"/usr/lib/python3.7/zipfile.py\", line 1258, in __init__\r\n    self._RealGetContents()\r\n  File \"/usr/lib/python3.7/zipfile.py\", line 1325, in _RealGetContents\r\n    raise BadZipFile(\"File is not a zip file\")\r\nzipfile.BadZipFile: File is not a zip file\r\n",
        "state": "closed",
        "user": "zhangxiudan",
        "closed_by": "WYB27",
        "created_at": "2023-03-16T08:54:35+00:00",
        "updated_at": "2025-06-30T07:07:30+00:00",
        "closed_at": "2025-06-30T07:07:30+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2226,
        "title": "official project BUG",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n地址：https://aistudio.baidu.com/aistudio/projectdetail/4445054?channelType=0&channel=0\r\nbug复现：\r\n```\r\n!hub run ernie_zeus \\\r\n    --task text_cloze \\\r\n    --text \"她有着一双[MASK]的眼眸。\"\r\n```\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/commands/run.py\", line 47, in execute\r\n    module = Module(name=module_name)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 396, in __new__\r\n    **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 511, in init_with_name\r\n    return user_module_cls(**kwargs)\r\n  File \"/home/aistudio/.paddlehub/modules/ernie_zeus/module.py\", line 54, in __init__\r\n    self.access_token = get_access_token(ak, sk)\r\n  File \"/home/aistudio/.paddlehub/modules/ernie_zeus/module.py\", line 27, in get_access_token\r\n    'Please go to the wenxin official website to apply for AK and SK and set the parameters “ak” and “sk” correctly, or set the environment variables “WENXIN_AK” and “WENXIN_SK”.'\r\nAssertionError: Please go to the wenxin official website to apply for AK and SK and set the parameters “ak” and “sk” correctly, or set the environment variables “WENXIN_AK” and “WENXIN_SK”.\r\n问题：现在收费了？还是我来晚了？\r\n",
        "state": "closed",
        "user": "ucas010",
        "closed_by": "WYB27",
        "created_at": "2023-03-17T03:55:42+00:00",
        "updated_at": "2025-06-30T07:07:28+00:00",
        "closed_at": "2025-06-30T07:07:28+00:00",
        "comments_count": [
            "rainyfly",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2227,
        "title": "paddlehub使用问题 ",
        "body": "环境 Python3.6\r\npaddlepaddle==2.1.0\r\npaddlehub==2.1.0\r\npaddlenlp==2.0.3\r\n\r\nocr = hub.Module(name=\"chinese_ocr_db_crnn\")\r\n之前我单机代码这么写的没有问题，模型自动下载到用户默认路径下 ~/.paddlehub \r\n现在要部署到镜像里，只能指定路径，\r\n\r\nocr = hub.Module(directory=\"/usr/src/app/paddlehub_bak/modules/chinese_ocr_db_crnn\")\r\n按指定目录初始化 但执行recognize_text时报错\r\npaddlehub.module.manager.HubModuleNotFoundError: No HubModule named chinese_text_detection_db was found\r\npaddlehub_bak/modules/下目录文件都有，chinese_text_detection_db 要怎么指定 ？\r\ndrwxr-xr-x. 6 root root 175 Mar 21 10:12 chinese_ocr_db_crnn\r\ndrwxr-xr-x. 5 root root 151 Mar 21 10:12 chinese_ocr_db_crnn_server\r\ndrwxr-xr-x. 4 root root 119 Mar 21 10:12 chinese_text_detection_db\r\ndrwxr-xr-x. 4 root root 121 Mar 21 10:12 chinese_text_detection_db_server\r\n\r\n报错信息\r\n2023-03-21 17:25:00 results = ocr_c.recognize_text(paths=[f1], visualization=False)\r\n2023-03-21 17:25:00 File \"/usr/local/lib/python3.6/site-packages/paddlehub/compat/paddle_utils.py\", line 220, in runner\r\n2023-03-21 17:25:00 return func(*args, **kwargs)\r\n2023-03-21 17:25:00 File \"/usr/local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 63, in _wrapper\r\n2023-03-21 17:25:00 return func(*args, **kwargs)\r\n2023-03-21 17:25:00 File \"/usr/src/app/paddlehub_bak/modules/chinese_ocr_db_crnn/module.py\", line 195, in recognize_text\r\n2023-03-21 17:25:00 detection_results = self.text_detector_module.detect_text(\r\n2023-03-21 17:25:00 File \"/usr/local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 90, in getattribute\r\n2023-03-21 17:25:00 _attr = object.getattribute(self, attr)\r\n2023-03-21 17:25:00 File \"/usr/src/app/paddlehub_bak/modules/chinese_ocr_db_crnn/module.py\", line 95, in text_detector_module\r\n2023-03-21 17:25:00 name='chinese_text_detection_db')\r\n2023-03-21 17:25:00 File \"/usr/local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 395, in new\r\n2023-03-21 17:25:00 **kwargs)\r\n2023-03-21 17:25:00 File \"/usr/local/lib/python3.6/site-packages/paddlehub/module/module.py\", line 493, in init_with_name\r\n2023-03-21 17:25:00 ignore_env_mismatch=ignore_env_mismatch)\r\n2023-03-21 17:25:00 File \"/usr/local/lib/python3.6/site-packages/paddlehub/module/manager.py\", line 190, in install\r\n2023-03-21 17:25:00 return self._install_from_name(name, version, ignore_env_mismatch)\r\n2023-03-21 17:25:00 File \"/usr/local/lib/python3.6/site-packages/paddlehub/module/manager.py\", line 270, in _install_from_name\r\n2023-03-21 17:25:00 raise HubModuleNotFoundError(name=name, version=version)\r\n2023-03-21 17:25:00paddlehub.module.manager.HubModuleNotFoundError: No HubModule named chinese_text_detection_db was found",
        "state": "closed",
        "user": "Matiz7",
        "closed_by": "Matiz7",
        "created_at": "2023-03-22T04:58:11+00:00",
        "updated_at": "2023-03-22T06:40:35+00:00",
        "closed_at": "2023-03-22T06:40:35+00:00",
        "comments_count": [
            "Matiz7"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2230,
        "title": "AttributeError: 'DummyComm' object has no attribute 'kernel'",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n- Mac OS \r\n\r\n```\r\nconda info --envs\r\n\r\nconda create --name paddle_env -y python=3.8 --channel https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\r\n\r\nconda activate --name paddle_env \r\nconda init zsh    \r\nconda list -n paddle_env\r\nexport PATH=\"$HOME/anaconda3/envs/paddle_env/bin:$PATH\"\r\n\r\n# 查看当前python的位置\r\nwhich python\r\nwhich pip   \r\npip install paddlepaddle -i https://mirror.baidu.com/pypi/simple\r\npip install paddlehub -i https://mirror.baidu.com/pypi/simple\r\nhub install stylepro_artistic==1.0.1\r\nhub install disco_diffusion_ernievil_base==1.0.0\r\n\r\nmkdir style_transfer\r\n\r\npython style_transfer.py\r\nhttps://bj.bcebos.com/paddlehub/paddlehub_dev/stylepro_artistic_1.0.3.tar.gz\r\nhttps://bj.bcebos.com/paddlehub/paddlehub_dev/disco_diffusion_cnclip_vitb16.tar.gz\r\npip install paddle_lpips\r\npip install docarray IPython ipywidgets ipykernel\r\npip install --upgrade ipywidgets\r\njupyter nbextension enable --py widgetsnbextension\r\n\r\nhub run disco_diffusion_cnclip_vitb16 --text_prompts \"一群性感、丰满、暴露、活波的美少女,在一眼望不到边的花海中跳舞,花海一直绵延到天际\" --output_dir disco_diffusion_cnclip_vitb16_out\r\n\r\n```\r\nerror\r\n```\r\nLoading text model config from /Users/51pwn/.paddlehub/modules/disco_diffusion_cnclip_vitb16/cn_clip/clip/model_configs/RoBERTa-wwm-ext-base-chinese.json\r\n2023-03-24 23:43:51,030 - disco_diffusion_cnclip_vitb16.reverse_diffusion - INFO - preparing models...\r\nSetting up [LPIPS] perceptual loss: trunk [vgg], v[0.1], spatial [off]\r\nLoading model from: /Users/51pwn/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddle_lpips/weights/v0.1/vgg.pdparams\r\n2023-03-24 23:43:57,670 - disco_diffusion_cnclip_vitb16.reverse_diffusion - INFO - creating artwork...\r\ndisco_diffusion_cnclip_vitb16.reverse_diffusion-4106516610 Output()\r\n  0%|                                                                              | 0/250 [00:00<?, ?it/s]\r\n\r\n\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/51pwn/anaconda3/envs/paddle_env/bin/hub\", line 8, in <module>\r\n    sys.exit(execute())\r\n  File \"/Users/51pwn/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/commands/utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"/Users/51pwn/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/commands/run.py\", line 56, in execute\r\n    result = module._run_func(argv[1:])\r\n  File \"/Users/51pwn/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/compat/paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/Users/51pwn/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/module/module.py\", line 57, in _wrapper\r\n    return func(*args, **kwargs)\r\n  File \"/Users/51pwn/.paddlehub/modules/disco_diffusion_cnclip_vitb16/module.py\", line 193, in run_cmd\r\n    results = self.generate_image(text_prompts=args.text_prompts,\r\n  File \"/Users/51pwn/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/compat/paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"/Users/51pwn/.paddlehub/modules/disco_diffusion_cnclip_vitb16/module.py\", line 137, in generate_image\r\n    return create(text_prompts=text_prompts,\r\n  File \"/Users/51pwn/.paddlehub/modules/disco_diffusion_cnclip_vitb16/reverse_diffusion/__init__.py\", line 154, in create\r\n    return do_run(_args, (model, diffusion, clip_models, secondary_model))\r\n  File \"/Users/51pwn/.paddlehub/modules/disco_diffusion_cnclip_vitb16/reverse_diffusion/runner.py\", line 243, in do_run\r\n    with image_display:\r\n  File \"/Users/51pwn/anaconda3/envs/paddle_env/lib/python3.8/site-packages/ipywidgets/widgets/widget_output.py\", line 115, in __enter__\r\n    kernel = self.comm.kernel\r\nAttributeError: 'DummyComm' object has no attribute 'kernel'\r\n  0%|                                                                              | 0/250 [10:28<?, ?it/s]\r\n```",
        "state": "closed",
        "user": "hktalent",
        "closed_by": "hktalent",
        "created_at": "2023-03-24T15:56:44+00:00",
        "updated_at": "2023-03-29T11:25:16+00:00",
        "closed_at": "2023-03-29T11:25:16+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2228,
        "title": "关于paddlehub中ernie_zeus模型的ak和sk问题",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub2..3.1，PaddlePaddle2.4.1\r\n2）系统环境：Windows10，python3.9\r\n\r\nimport paddlehub as hub\r\nmodel = hub.Module(name='ernie_zeus')\r\n谁有ernie_zeus模型能用的ak和sk，默认的也行，或者知道如何申请一个可用的，我申请的不可用Error message: '日访问量超限'.",
        "state": "closed",
        "user": "Fly-betterme",
        "closed_by": "WYB27",
        "created_at": "2023-03-22T09:03:34+00:00",
        "updated_at": "2025-06-30T07:07:26+00:00",
        "closed_at": "2025-06-30T07:07:26+00:00",
        "comments_count": [
            "rainyfly",
            "rainyfly",
            "Fly-betterme",
            "rainyfly",
            "Fly-betterme",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2229,
        "title": "hub.Module加载预训练模型报错",
        "body": "paddlehub                      2.0.0rc0\r\npaddlenlp                      2.0.7\r\npaddlepaddle-gpu               2.0.2.post101\r\n在运行官方的：PaddleHub2.0——使用动态图版预训练模型ERNIE实现快递单时候，执行到\r\nmodel = hub.Module(name='ernie', task='token-cls', label_map=label_map)\r\n报一下错误：\r\n`[2023-03-23 17:06:29,394] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\n---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)/tmp/ipykernel_1093/3000876241.py in <module>\r\n      1 # 选择所需要的模型\r\n----> 2 model = hub.Module(name='ernie', task='token-cls', label_map=label_map)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in __new__(cls, name, directory, version, source, update, branch, **kwargs)\r\n    170             if name:\r\n    171                 module = cls.init_with_name(\r\n--> 172                     name=name, version=version, source=source, update=update, branch=branch, **kwargs)\r\n    173                 CacheUpdater(\"update_cache\", module=name, version=version).start()\r\n    174             elif directory:\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py in init_with_name(cls, name, version, source, update, branch, **kwargs)\r\n    272             )\r\n    273             user_module = user_module_cls(directory=directory)\r\n--> 274             user_module._initialize(**kwargs)\r\n    275             return user_module\r\n    276 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/compat/paddle_utils.py in runner(*args, **kwargs)\r\n    218     def runner(*args, **kwargs):\r\n    219         with static_mode_guard():\r\n--> 220             return func(*args, **kwargs)\r\n    221 \r\n    222     return runner\r\nTypeError: _initialize() got an unexpected keyword argument 'task'\r\n`\r\n并在多次跟换hub版本任然报次错误。如何解决。",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2023-03-23T09:15:44+00:00",
        "updated_at": "2025-06-30T07:07:24+00:00",
        "closed_at": "2025-06-30T07:07:24+00:00",
        "comments_count": [
            "smartparrot",
            "suntao2015005848",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2233,
        "title": "stable_diffusion 无输出",
        "body": "安装好模型后，运行命令行$ hub run stable_diffusion_waifu --text_prompts \"Goku\" --output_dir stable_diffusion_waifu_out 未生成结果图片，控制台输出为:\r\n(base) C:\\Users\\XXX> hub run stable_diffusion_waifu --text_prompts \"Goku\" --output_dir stable_diffusion_waifu_out\r\nD:\\Apps\\Anaconda3\\lib\\site-packages\\_distutils_hack\\__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\nW0406 23:32:01.233232  3608 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 12.1, Runtime API Version: 11.7\r\nW0406 23:32:01.254985  3608 gpu_resources.cc:91] device: 0, cuDNN Version: 8.8.\r\n",
        "state": "closed",
        "user": "sunf71",
        "closed_by": "WYB27",
        "created_at": "2023-04-06T15:47:29+00:00",
        "updated_at": "2025-06-30T07:07:22+00:00",
        "closed_at": "2025-06-30T07:07:22+00:00",
        "comments_count": [
            "michaelowenliu",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2234,
        "title": "运行时报错“future feature annotations is not defined”",
        "body": "版本信息：PaddleHub 2.3.1 PaddlePaddle2.0.2\r\n系统环境：在jetson nano jetpack4.4下的ubantu18.02 python版本3.6.9\r\n在执行face_detector = hub.Module(name=\"pyramidbox_lite_mobile\")时报错，查询网站发现可能是python版本过低，那是不是意味着python3.6无法使用paddlehub2.0以上的版本？",
        "state": "closed",
        "user": "Lo2001",
        "closed_by": "WYB27",
        "created_at": "2023-04-10T16:23:38+00:00",
        "updated_at": "2025-06-30T07:07:20+00:00",
        "closed_at": "2025-06-30T07:07:20+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2235,
        "title": "PaddleHub serving启动以后， Gradio APP页面无法访问",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\n```\r\n% pip list | grep paddle\r\npaddle-bfloat        0.1.7\r\npaddle2onnx          1.0.6\r\npaddlefsl            1.1.0\r\npaddlehub            2.3.1\r\npaddlenlp            2.5.2\r\npaddlepaddle         2.4.2\r\n```\r\n2）系统环境：\r\n操作系统版本：macos\r\n设备：macbook pro m2\r\npython版本\r\n```\r\n% python --version\r\nPython 3.8.16\r\n% pip --version\r\npip 23.0.1\r\n```\r\n3）复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n\r\n\r\n### 模型1：chinese_ocr_db_crnn_server\r\n\r\n参考文档：https://www.paddlepaddle.org.cn/hubdetail?name=chinese_ocr_db_crnn_server\r\n\r\n文档反馈：**从 PaddleHub 2.3.1 开始支持使用链接 http://127.0.0.1:8866/gradio/chinese_ocr_db_crnn_server 在浏览器中访问 chinese_ocr_db_crnn_server 的 Gradio App。**\r\n\r\n实际操作，hub serving可以正常运行，但是访问，http://127.0.0.1:8866/gradio/chinese_ocr_db_crnn_server ，报错。\r\n\r\n```\r\n\r\n127.0.0.1 - - [10/Apr/2023 20:40:19] \"GET /gradio/chinese_ocr_db_crnn_server HTTP/1.1\" 500 -\r\nError on request:\r\nTraceback (most recent call last):\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 2528, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 1825, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 1823, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 1799, in dispatch_request\r\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/serving/app_compat.py\", line 229, in gradio_app\r\n    create_gradio_app(module_info)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/serving/app_compat.py\", line 101, in create_gradio_app\r\n    process.start()\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/multiprocessing/process.py\", line 121, in start\r\n    self._popen = self._Popen(self)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/multiprocessing/context.py\", line 224, in _Popen\r\n    return _default_context.get_context().Process._Popen(process_obj)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/multiprocessing/context.py\", line 284, in _Popen\r\n    return Popen(process_obj)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/multiprocessing/popen_spawn_posix.py\", line 32, in __init__\r\n    super().__init__(process_obj)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/multiprocessing/popen_fork.py\", line 19, in __init__\r\n    self._launch(process_obj)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/multiprocessing/popen_spawn_posix.py\", line 47, in _launch\r\n    reduction.dump(process_obj, fp)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/multiprocessing/reduction.py\", line 60, in dump\r\n    ForkingPickler(file, protocol).dump(obj)\r\nTypeError: cannot pickle 'module' object\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/werkzeug/serving.py\", line 333, in run_wsgi\r\n    execute(self.server.app)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/werkzeug/serving.py\", line 320, in execute\r\n    application_iter = app(environ, start_response)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 2551, in __call__\r\n    return self.wsgi_app(environ, start_response)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 2531, in wsgi_app\r\n    response = self.handle_exception(e)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 1721, in handle_exception\r\n    self.log_exception(exc_info)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 1744, in log_exception\r\n    self.logger.error(\r\nTypeError: __call__() got an unexpected keyword argument 'exc_info'\r\n\r\n\r\n```\r\n\r\n### 模型2：lac——已解决\r\n\r\n参考文档：https://www.paddlepaddle.org.cn/hubdetail?name=lac\r\n\r\nhub run可以正常运行，运行如下\r\n\r\n```\r\n%  hub run lac --input_text \"今天是个好日子\"\r\n/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[{'word': ['今天', '是', '个', '好日子'], 'tag': ['TIME', 'v', 'q', 'n']}]\r\n```\r\nhub serving可以正常运行，运行如下：\r\n\r\n```\r\nhub serving start -c serving_config.json\r\n/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[2023-04-11 08:41:17,408] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nW0411 08:41:17.421156 3862870656 analysis_predictor.cc:2166] Deprecated. Please use CreatePredictor instead.\r\n * Serving Flask app 'paddlehub.serving.app_compat'\r\n * Debug mode: off\r\nWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\r\n * Running on all addresses (0.0.0.0)\r\n * Running on http://127.0.0.1:8866\r\n * Running on http://198.18.0.1:8866\r\nPress CTRL+C to quit\r\n\r\n```\r\n\r\n**但是按照教程访问gradio app，失败。访问地址： http://127.0.0.1:8866/gradio/lac** \r\n\r\n错误信息：\r\n```\r\n127.0.0.1 - - [11/Apr/2023 08:41:29] \"GET /gradio/lac HTTP/1.1\" 500 -\r\nError on request:\r\nTraceback (most recent call last):\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/serving/app_compat.py\", line 86, in create_gradio_app\r\n    serving_method = getattr(module_info[\"module\"], 'create_gradio_app')\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/module/module.py\", line 95, in __getattribute__\r\n    _attr = object.__getattribute__(self, attr)\r\nAttributeError: 'LAC' object has no attribute 'create_gradio_app'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 2528, in wsgi_app\r\n    response = self.full_dispatch_request()\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 1825, in full_dispatch_request\r\n    rv = self.handle_user_exception(e)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 1823, in full_dispatch_request\r\n    rv = self.dispatch_request()\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 1799, in dispatch_request\r\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/serving/app_compat.py\", line 229, in gradio_app\r\n    create_gradio_app(module_info)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddlehub/serving/app_compat.py\", line 88, in create_gradio_app\r\n    raise RuntimeError('Module {} is not supported for gradio app.'.format(module_name))\r\nRuntimeError: Module lac is not supported for gradio app.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/werkzeug/serving.py\", line 333, in run_wsgi\r\n    execute(self.server.app)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/werkzeug/serving.py\", line 320, in execute\r\n    application_iter = app(environ, start_response)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 2551, in __call__\r\n    return self.wsgi_app(environ, start_response)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 2531, in wsgi_app\r\n    response = self.handle_exception(e)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 1721, in handle_exception\r\n    self.log_exception(exc_info)\r\n  File \"/Users/xxx/anaconda3/envs/paddle_env/lib/python3.8/site-packages/flask/app.py\", line 1744, in log_exception\r\n    self.logger.error(\r\nTypeError: __call__() got an unexpected keyword argument 'exc_info'\r\n```\r\n\r\n",
        "state": "closed",
        "user": "xwdreamer",
        "closed_by": "xwdreamer",
        "created_at": "2023-04-11T01:00:02+00:00",
        "updated_at": "2023-04-14T05:02:32+00:00",
        "closed_at": "2023-04-14T05:02:32+00:00",
        "comments_count": [
            "rainyfly",
            "xwdreamer",
            "xwdreamer",
            "xwdreamer",
            "rainyfly",
            "xwdreamer"
        ],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2240
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2236,
        "title": "libprotobuf FATAL",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.3.1，paddlepaddle-gpu=2.4.2\r\n2）系统环境：Linux python=3.8.10\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n安装步骤：\r\npython -m pip install paddlepaddle-gpu==2.4.2 -i https://pypi.tuna.tsinghua.edu.cn/simple\r\npip install paddlehub -i https://mirror.baidu.com/pypi/simple\r\n\r\n使用如下代码：\r\n```\r\nimport paddlehub as hub\r\n\r\nmodel = hub.Module(\r\n    name='auto_punc',\r\n    version='1.0.0')\r\n\r\ntexts = [\r\n    '今天的天气真好啊你下午有空吗我想约你一起去逛街',\r\n    '我最喜欢的诗句是先天下之忧而忧后天下之乐而乐',\r\n]\r\npunc_texts = model.add_puncs(texts)\r\nprint(punc_texts)\r\n```\r\n报错信息：\r\n```\r\n[libprotobuf FATAL google/protobuf/stubs/common.cc:83] This program was compiled against version 3.1.0 of the Protocol Buffer runtime library, which is not compatible with the installed version (3.20.0).  Contact the program author for an update.  If you compiled the program yourself, make sure that your headers are from the same version of Protocol Buffers as your link-time library.  (Version verification failed in \"/paddle/build/paddle/fluid/framework/framework.pb.cc\".)\r\nterminate called after throwing an instance of 'google::protobuf::FatalException'\r\n  what():  This program was compiled against version 3.1.0 of the Protocol Buffer runtime library, which is not compatible with the installed version (3.20.0).  Contact the program author for an update.  If you compiled the program yourself, make sure that your headers are from the same version of Protocol Buffers as your link-time library.  (Version verification failed in \"/paddle/build/paddle/fluid/framework/framework.pb.cc\".)\r\n```",
        "state": "closed",
        "user": "KajiMaCN",
        "closed_by": "KajiMaCN",
        "created_at": "2023-04-12T02:18:44+00:00",
        "updated_at": "2023-06-02T16:09:06+00:00",
        "closed_at": "2023-06-02T16:09:06+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2238,
        "title": "I'm having trouble creating API key",
        "body": "I'm logged on but can't create an API key. I clicked the blue text but does nothing.\r\n\r\n![when_i_click_does_nothing2](https://user-images.githubusercontent.com/16793796/231589489-e33269a5-7286-4c71-9d0a-9ea2baddd553.png)\r\n",
        "state": "closed",
        "user": "teetone",
        "closed_by": "WYB27",
        "created_at": "2023-04-12T21:30:15+00:00",
        "updated_at": "2025-06-30T07:07:16+00:00",
        "closed_at": "2025-06-30T07:07:16+00:00",
        "comments_count": [
            "rainyfly",
            "teetone",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2237,
        "title": "关于paddleHub是否支持部署华为昇腾 NPU",
        "body": "大佬好，请教一下，\r\n    1、飞桨是不是所有的应用都可以部署在华为昇腾NPU服务器呢？\r\n    2、如果可以的话，帮忙分享一个关于如何部署，谢谢！",
        "state": "closed",
        "user": "zgz757183190",
        "closed_by": "WYB27",
        "created_at": "2023-04-12T02:45:41+00:00",
        "updated_at": "2025-06-30T07:07:18+00:00",
        "closed_at": "2025-06-30T07:07:18+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2239,
        "title": "plato-mini导出.pdmodel、.pdparams以及onnx模型失败",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：\r\npaddle-bfloat 0.1.7\r\npaddle2onnx 1.0.6\r\npaddlefsl 1.1.0\r\npaddlehub 2.3.1\r\npaddlenlp 2.5.2\r\npaddlepaddle 2.4.2\r\n2）系统环境：Linux，Python 3.8.16\r\n- 复现信息：\r\n- 测试代码：\r\n- 测试代码：\r\nimport paddlehub as hub\r\nimport paddle\r\nimport paddle.static as static\r\n\r\nmodel = hub.Module(name='plato-mini')\r\n\r\ninput_ids = paddle.static.InputSpec([1,7],'float32','input_ids')\r\ntoken_type_ids = paddle.static.InputSpec([1,7],'float32','token_type_ids')\r\nposition_ids = paddle.static.InputSpec([1,7],'float32','position_ids')\r\nattention_mask = paddle.static.InputSpec([1,1,7,7],'float32','attention_mask')\r\n\r\nsave_path = 'checkpoint/plato-mini' # 需要保存的路径\r\npaddle.onnx.export(model, save_path, input_spec=[input_ids,token_type_ids,position_ids,attention_mask], opset_version=11)\r\n\r\nmodel.save_inference_model(dirname=\"checkpoint/\",\r\nmodel_filename = \"checkpoint/plato-mini.pdparams\",\r\nparams_filename = \"checkpoint/plato-mini.pdmodel\",\r\ninput_spec=[input_ids,token_type_ids,position_ids,attention_mask])\r\n\r\npaddle.save(model.state_dict(),'checkpoint/plato-mini.pdparams')\r\npaddle.save(model,'checkpoint/plato-mini.pdmodel')\r\n\r\ndata = [[\"你是谁？\"]]\r\nresult = model.predict(data)\r\nprint(result)\r\n\r\n运行如上测试代码会报如下错误：\r\n![image](https://user-images.githubusercontent.com/51819537/231620056-7a9890a2-00e7-4ff6-801d-e27b0220d39a.png)\r\n\r\n",
        "state": "closed",
        "user": "Francis235",
        "closed_by": "WYB27",
        "created_at": "2023-04-13T01:13:03+00:00",
        "updated_at": "2025-06-30T07:07:14+00:00",
        "closed_at": "2025-06-30T07:07:14+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2241,
        "title": "[2023-04-14 23:21:22,924] [    INFO] - Request Hub-Server unsuccessfully.  下载模型失败",
        "body": "\r\n![image](https://user-images.githubusercontent.com/37268917/232086824-99c843e0-5b87-4c14-b4e5-cd2297ea27eb.png)\r\n\r\n![image](https://user-images.githubusercontent.com/37268917/232086707-7b3c5aff-738a-4202-bed5-799b3a6b8906.png)\r\n\r\n[2023-04-14 23:21:22,924] [    INFO] - Request Hub-Server unsuccessfully.\r\n",
        "state": "closed",
        "user": "qingshanjianke",
        "closed_by": "WYB27",
        "created_at": "2023-04-14T15:24:47+00:00",
        "updated_at": "2025-06-30T07:07:12+00:00",
        "closed_at": "2025-06-30T07:07:12+00:00",
        "comments_count": [
            "Goodfeelings6",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2242,
        "title": "Gradio App 支持报错",
        "body": "- 版本、环境信息\r\n1）PPaddleHub2.3.1，PaddlePaddle2.4.2\r\n2）系统环境：Linux，python：3.7.3\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n打开gradio连接比如 http://127.0.0.1:8866/gradio/ch_pp-ocrv3 \r\n会报\"GET /theme.css HTTP/1.1\" 404 -。页面也无法展示",
        "state": "closed",
        "user": "metaire",
        "closed_by": "metaire",
        "created_at": "2023-04-18T08:20:28+00:00",
        "updated_at": "2023-04-18T08:32:36+00:00",
        "closed_at": "2023-04-18T08:32:36+00:00",
        "comments_count": [
            "metaire"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2243,
        "title": "运行 predict/chinese_ocr_db_crnn_server 模型提示np.int 函数错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle2.4版本：\r\n2）系统环境：请您描述系统类型，linux，python 3.10版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n运行模型提示使用np.int函数错误\r\n\r\nmodule 'numpy' has no attribute 'int'.\\n`np.int` was a deprecated alias for the builtin `int`. To avoid this error in existing code, use `int` by itself. Doing this will not modify any behavior and is safe. When\r\n replacing `np.int`, you may wish to use e.g. `np.int64` or `np.int32` to specify the precision. If you wish to review your current use, check the release note link for additional information.\\nThe aliases was originally deprecated\r\nin NumPy 1.20; for more details and guidance see the original release note at:\\n    https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\"",
        "state": "closed",
        "user": "736048546",
        "closed_by": "WYB27",
        "created_at": "2023-04-19T03:36:48+00:00",
        "updated_at": "2025-06-30T07:07:11+00:00",
        "closed_at": "2025-06-30T07:07:11+00:00",
        "comments_count": [
            "736048546",
            "736048546",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2249,
        "title": "fastspeech2_baker运行hub install fastspeech2_baker错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本\r\n1） paddlepaddle-gpu==2.3.2 paddlehub==2.1.0\r\n2）win10  conda 22.9.0  python 3.8\r\n使用命令：\r\nconda install paddlepaddle-gpu==2.3.2  -c https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/Paddle/ -c conda-forge\r\n环境下执行：\r\nhub install fastspeech2_baker\r\n报错信息：\r\n`[nltk_data] Error loading averaged_perceptron_tagger: <urlopen error\r\n[nltk_data]     [Errno 11004] getaddrinfo failed>\r\n[nltk_data] Error loading cmudict: <urlopen error [Errno 11004]\r\n[nltk_data]     getaddrinfo failed>\r\nTraceback (most recent call last):\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 78, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\commands\\install.py\", line 55, in execute\r\n    manager.install(name=name, version=version, ignore_env_mismatch=args.ignore_env_mismatch)\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 265, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 380, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 364, in _install_from_directory\r\n    hub_module_cls = HubModule.load(self._get_normalized_path(module_info.name))\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\module\\module.py\", line 418, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\utils\\utils.py\", line 248, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 843, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"C:\\Users\\cjl84\\.paddlehub\\modules\\fastspeech2_baker\\module.py\", line 24, in <module>\r\n    from parakeet.frontend.zh_frontend import Frontend\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\parakeet\\__init__.py\", line 20, in <module>\r\n    from . import models\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\parakeet\\models\\__init__.py\", line 15, in <module>\r\n    from .fastspeech2 import *\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\parakeet\\models\\fastspeech2\\__init__.py\", line 15, in <module>\r\n    from .fastspeech2 import *\r\n  File \"e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\parakeet\\models\\fastspeech2\\fastspeech2.py\", line 22, in <module>    from typeguard import check_argument_types\r\nImportError: cannot import name 'check_argument_types' from 'typeguard' (e:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\typeguard\\__init__.py)`\r\n",
        "state": "closed",
        "user": "cjl84914",
        "closed_by": "WYB27",
        "created_at": "2023-04-22T00:26:09+00:00",
        "updated_at": "2025-06-30T07:07:09+00:00",
        "closed_at": "2025-06-30T07:07:09+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2250,
        "title": "在安装 PaddleHub 过程中，出现了报错",
        "body": "问题描述：根据 https://aistudio.baidu.com/aistudio/projectdetail/3345856?channelType=0&channel=0 文档一步一步进行安装，在安装Parakeet 时报错如图所示\r\n![N33Q3H4OT ~G0(@59@6G DT](https://user-images.githubusercontent.com/50907156/234527054-69822738-8025-47ae-8781-528d1360c127.jpg)\r\n\r\n\r\npaddlepaddle：2.4.2\r\n系统：Centos 7.9\r\nPython：3.7.2/3.8.10\r\npip：23.1.1 \r\n\r\n",
        "state": "closed",
        "user": "F5Psyche",
        "closed_by": "WYB27",
        "created_at": "2023-04-26T09:06:42+00:00",
        "updated_at": "2025-06-30T07:07:07+00:00",
        "closed_at": "2025-06-30T07:07:07+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2251,
        "title": "chinese_ocr_db_crnn_mobile 接口",
        "body": "\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub2.3.1，PaddlePaddle2.4.2\r\n2）系统环境：Linux\r\n需要基于http://127.0.0.1:8866/predict/chinese_ocr_db_crnn_mobile的方式，识别图片上的文字，但不知道访问这个服务的接口文档，请问具体在哪能看到，实在是找不到了\r\n![1682662984065](https://user-images.githubusercontent.com/33677456/235070389-ce1102f5-6eed-4545-b772-ab25b76c99c4.jpg)\r\n\r\n",
        "state": "closed",
        "user": "xiaoguisir",
        "closed_by": "WYB27",
        "created_at": "2023-04-28T06:23:51+00:00",
        "updated_at": "2025-06-30T07:07:05+00:00",
        "closed_at": "2025-06-30T07:07:05+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2253,
        "title": "服务化部署，客户端发送post请求后返回空结果： {'msg': 'list index out of range', 'results': '', 'status': '101'}",
        "body": "按照demo进行服务化部署，在服务端使用hub serving start开启服务后，能正常看到启动的日志。\r\n此时再客户端使用脚本读取两张图片并按照demo演示向服务端发送post请求，但是没有收到正确的推理结果，\r\n通过 print(r.json())打印结果，得到 {'msg': 'list index out of range', 'results': '', 'status': '101'}，不知道为什么。\r\n客户端发动的请求代码如下： \r\nimport requests\r\nimport json\r\nimport cv2\r\nimport base64\r\n\r\n\r\ndef cv2_to_base64(image):\r\n    data = cv2.imencode('.jpg', image)[1]\r\n    return base64.b64encode(data.tostring()).decode('utf8')\r\n\r\n\r\nif __name__ == '__main__':\r\n    # 获取图片的base64编码格式\r\n    img1 = cv2_to_base64(cv2.imread(\"/home/aistudio/demo_file/132-img1.jpg\"))\r\n    print(img1)\r\n    img2 = cv2_to_base64(cv2.imread(\"/home/aistudio/demo_file/bd37ad819a264c20933d7b7bc6ed3793.jpg\"))\r\n    print(img2)\r\n    data = {'images': [img1, img2]}\r\n    # 指定content-type\r\n    headers = {\"Content-type\": \"application/json\"}\r\n    # 发送HTTP请求\r\n    url = \"http://127.0.0.1:8866/predict/fire\"\r\n    r = requests.post(url=url, headers=headers, data=json.dumps(data))\r\n\r\n    # 打印预测结果\r\n    print(r.json())\r\n",
        "state": "closed",
        "user": "liyongchao911",
        "closed_by": "WYB27",
        "created_at": "2023-05-13T13:50:17+00:00",
        "updated_at": "2025-06-30T07:07:01+00:00",
        "closed_at": "2025-06-30T07:07:01+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2252,
        "title": "执行hub serving start -m chinese_ocr_db_crnn_mobile -p 8866报错 Illegal instruction (core dumped）",
        "body": "执行hub serving start -m chinese_ocr_db_crnn_mobile -p 8866报错 Illegal instruction (core dumped\r\n\r\n服务器内核信息：\r\nLinux nts-backend-foundation-algorithm-engine-6849f9c657-hp7jt 5.4.0-148-generic #165-Ubuntu SMP Tue Apr 18 08:53:12 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux  \r\n\r\npaddlehub              2.3.1\r\npaddlepaddle           2.4.2\r\n\r\n无gpu 纯cpu环境 \r\n",
        "state": "closed",
        "user": "whisky-12",
        "closed_by": "WYB27",
        "created_at": "2023-05-10T06:26:01+00:00",
        "updated_at": "2025-06-30T07:07:03+00:00",
        "closed_at": "2025-06-30T07:07:03+00:00",
        "comments_count": [
            "mlick",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2254,
        "title": "AttributeError: module 'paddle' has no attribute '__version__'",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n",
        "state": "closed",
        "user": "HuangXinzhe",
        "closed_by": "HuangXinzhe",
        "created_at": "2023-05-15T06:40:12+00:00",
        "updated_at": "2023-09-15T08:45:13+00:00",
        "closed_at": "2023-05-15T14:34:50+00:00",
        "comments_count": [
            "dineshresearch",
            "HuangXinzhe",
            "Haeppypuppy"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2255,
        "title": "多目标追踪模型：fairmot_dla34，jde_darknet53 为什么不支持PaddleHub Serving 在线部署服务",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n多目标追踪模型：fairmot_dla34，jde_darknet53 支持PaddleHub Serving 在线部署服务\r\n- 什么样的场景下需要该特性？\r\nPaddleHub Serving在线部署多目标追踪服务\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "carrytameng",
        "closed_by": "WYB27",
        "created_at": "2023-05-15T07:12:44+00:00",
        "updated_at": "2025-06-30T07:06:59+00:00",
        "closed_at": "2025-06-30T07:06:59+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2256,
        "title": "hub serving部署成功一段时间后，会出现post请求超时错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\npaddle-bfloat             0.1.7\r\npaddle-serving-app        0.9.0\r\npaddle-serving-client     0.9.0\r\npaddle-serving-server     0.9.0\r\npaddle-serving-server-gpu 0.9.0.post1028\r\npaddle2onnx               1.0.0\r\npaddlefsl                 1.1.0\r\npaddlehub                 2.3.0\r\npaddlenlp                 2.4.0\r\npaddlepaddle              2.3.2\r\ntb-paddle                 0.4.0\r\n\r\n\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\nLinux系统，Python 3.6.8 \r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\nhub serving部署OCR成功后，可以通过post正常请求。\r\n但是一般正常运行几天后，则通过post请求一直提示超时，客户端(客户端和hub serving部署一台机器上，是本地调用)\r\n在linux上通过 ps | grep  serving 查看进程后，发现进程仍在，是正常的，但是post请求会一直超时。\r\n已经发生多次这个情况了，不是一两次。\r\n客户端调用异常信息如下：\r\n\r\n2023-05-20 20:14:31.303 [http-nio-9030-exec-762] ERROR c.y.r.controller.ai.image.ImageOcr - Failed to post request.models=2001\r\norg.springframework.web.client.ResourceAccessException: I/O error on POST request for \"http://127.0.0.1:8867/predict/paddle_ch_ocr_system\": Read timed out; nested exception is java.net.SocketTimeoutException: Read timed out\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n\tat org.springframework.web.client.RestTemplate.postForEntity(RestTemplate.java:468)\r\n",
        "state": "closed",
        "user": "waizao",
        "closed_by": "WYB27",
        "created_at": "2023-05-21T02:40:29+00:00",
        "updated_at": "2025-06-30T07:06:57+00:00",
        "closed_at": "2025-06-30T07:06:57+00:00",
        "comments_count": [
            "waizao",
            "waizao",
            "waizao",
            "736048546",
            "736048546",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2257,
        "title": "Not found: bin/opencv_videoio_ffmpeg\\df33_64\\.dll",
        "body": "操作系统：win11\r\npython : 3.7.4\r\ncuda 版本 11.6\r\npaddle版本：paddlepaddle-gpu==2.4.2\r\n\r\n使用命令：pip install paddlehub==2.1.0 时报错\r\n\r\n\r\n>  Copying files from CMake output\r\n  Traceback (most recent call last):\r\n    File \"c:\\users\\l\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 207, in <module>\r\n      main()\r\n    File \"c:\\users\\l\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 197, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n    File \"c:\\users\\l\\appdata\\local\\programs\\python\\python37\\lib\\site-packages\\pip\\_vendor\\pep517\\_in_process.py\", line 141, in build_wheel\r\n      metadata_directory)\r\n    File \"C:\\Users\\L\\AppData\\Local\\Temp\\pip-build-env-vpxlg1k6\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 231, in build_wheel\r\n      wheel_directory, config_settings)\r\n    File \"C:\\Users\\L\\AppData\\Local\\Temp\\pip-build-env-vpxlg1k6\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 215, in _build_with_temp_dir\r\n      self.run_setup()\r\n    File \"C:\\Users\\L\\AppData\\Local\\Temp\\pip-build-env-vpxlg1k6\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 268, in run_setup\r\n      self).run_setup(setup_script=setup_script)\r\n    File \"C:\\Users\\L\\AppData\\Local\\Temp\\pip-build-env-vpxlg1k6\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 158, in run_setup\r\n      exec(compile(code, __file__, 'exec'), locals())\r\n    File \"setup.py\", line 512, in <module>\r\n      main()\r\n    File \"setup.py\", line 304, in main\r\n      cmake_source_dir=cmake_source_dir,\r\n    File \"C:\\Users\\L\\AppData\\Local\\Temp\\pip-build-env-vpxlg1k6\\overlay\\Lib\\site-packages\\skbuild\\setuptools_wrap.py\", line 716, in setup\r\n      cmake_install_dir,\r\n    File \"setup.py\", line 425, in _classify_installed_files_override\r\n      raise Exception(\"Not found: '%s'\" % relpath_re)\r\n  Exception: Not found: 'bin/opencv_videoio_ffmpeg\\d{3}_64\\.dll'\r\n\r\n",
        "state": "closed",
        "user": "lvsh2012",
        "closed_by": "WYB27",
        "created_at": "2023-05-23T01:53:18+00:00",
        "updated_at": "2025-06-30T07:06:55+00:00",
        "closed_at": "2025-06-30T07:06:55+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2258,
        "title": "PaddleHub使用预训练模型和Finetune的工具 问题求助",
        "body": "在学习PaddleHub使用预训练模型和Finetune的工具 使用自己的数据进行fine-tune时，loss 结果不正确，loss一直很大还存在负值情况\r\n\r\n- 版本、环境信息\r\n1）PaddleHub2.1，PaddlePaddle2.4.2\r\n2）系统环境：使用的是window系统，cuda10.2，cudnn7.6与cudnn8.0都有尝试问题一样\r\n\r\n以下为我的代码块：\r\n```\r\nimport os\r\nimport cv2\r\nimport paddlehub as hub\r\nimport matplotlib.pyplot as plt\r\nimport matplotlib.image as mpimg\r\n\r\nimport paddle\r\nimport paddle.vision.transforms as T\r\nfrom paddlehub.finetune.trainer import Trainer\r\n\r\nfrom PIL import Image\r\n\r\nos.environ['CUDA_VISIBLE_DEVICES']='0'\r\n\r\nclass DemoDataset(paddle.io.Dataset):\r\n    def __init__(self, transforms, num_classes=4, mode='train'):\r\n        # 数据集存放位置\r\n        self.dataset_dir = \"./peach/peach-classification\"  # dataset_dir为数据集实际路径，需要填写全路径\r\n        self.transforms = transforms\r\n        self.num_classes = num_classes\r\n        self.mode = mode\r\n\r\n        if self.mode == 'train':\r\n            self.file = 'train_list.txt'\r\n        elif self.mode == 'test':\r\n            self.file = 'test_list.txt'\r\n        else:\r\n            self.file = 'validate_list.txt'\r\n\r\n        self.file = os.path.join(self.dataset_dir, self.file)\r\n        with open(self.file, 'r') as file:\r\n            self.data = file.read().split('\\n')[:-1]\r\n\r\n    def __getitem__(self, idx):\r\n        img_path, grt = self.data[idx].split(' ')\r\n        img_path = os.path.join(self.dataset_dir, img_path)\r\n        #print(img_path)\r\n        img = cv2.imread(img_path)\r\n        img = cv2.cvtColor(img,cv2.COLOR_BGR2RGB)\r\n        img = img.astype('float32')\r\n        img = img/255.0\r\n        im = self.transforms(img)\r\n        return im, int(grt)\r\n\r\n    def __len__(self):\r\n        return len(self.data)\r\n\r\nif __name__ == '__main__':\r\n    print('fine-tune')\r\n    transforms = T.Compose(\r\n        [T.Resize((256, 256)),\r\n         T.CenterCrop(224),\r\n         T.Transpose((2,0,1)),\r\n         T.Normalize(mean=[0.485, 0.456, 0.406], std=[0.229, 0.224, 0.225])],\r\n        )\r\n\r\n    peach_train = DemoDataset(transforms)\r\n    img,t = peach_train[0]\r\n    peach_validate = DemoDataset(transforms, mode='val')\r\n    model = hub.Module(name='resnet50_vd_imagenet_ssld', label_list=[\"R0\", \"B1\", \"M2\", \"S3\"])\r\n\r\n    optimizer = paddle.optimizer.Adam(learning_rate=0.001, parameters=model.parameters())\r\n    trainer = Trainer(model, optimizer, checkpoint_dir='img_classification_ckpt', use_gpu=True)\r\n    trainer.train(peach_train, epochs=10, batch_size=16, eval_dataset=peach_validate, save_interval=1)\r\n\r\n    result = model.predict(['./peach/peach-classification/test/M2/0.png'])\r\n    print(result)\r\n```\r\n\r\n10个epoch结束依然发现loss在很大范围内波动\r\n训练的输出为：\r\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\_distutils_hack\\__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\nfine-tune\r\nW0524 17:55:10.098229 19612 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.7, Runtime API Version: 10.2\r\nW0524 17:55:10.105249 19612 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\nload pretrained parameters success\r\n[2023-05-24 17:55:13,402] [ WARNING] - PaddleHub model checkpoint not found, start from scratch...\r\n[2023-05-24 17:55:18,730] [   TRAIN] - Epoch=1/10, Step=10/375 loss=-128960672122.5853 acc=0.0000 lr=0.001000 step/sec=2.39 | ETA 00:26:11\r\n[2023-05-24 17:55:20,207] [   TRAIN] - Epoch=1/10, Step=20/375 loss=-12402729.9590 acc=0.0000 lr=0.001000 step/sec=6.77 | ETA 00:17:42\r\n[2023-05-24 17:55:21,697] [   TRAIN] - Epoch=1/10, Step=30/375 loss=235926904.1966 acc=0.0000 lr=0.001000 step/sec=6.71 | ETA 00:14:54\r\n[2023-05-24 17:55:23,129] [   TRAIN] - Epoch=1/10, Step=40/375 loss=64.1373 acc=0.0000 lr=0.001000 step/sec=6.98 | ETA 00:13:25\r\n[2023-05-24 17:55:24,606] [   TRAIN] - Epoch=1/10, Step=50/375 loss=-181.9779 acc=0.0000 lr=0.001000 step/sec=6.77 | ETA 00:12:35\r\n[2023-05-24 17:55:26,148] [   TRAIN] - Epoch=1/10, Step=60/375 loss=33682076467.9539 acc=0.0000 lr=0.001000 step/sec=6.48 | ETA 00:12:05\r\n\r\n\r\n期待能够指出我的问题所在\r\n",
        "state": "closed",
        "user": "qingchunnianshao",
        "closed_by": "qingchunnianshao",
        "created_at": "2023-05-24T10:21:43+00:00",
        "updated_at": "2023-05-25T12:18:36+00:00",
        "closed_at": "2023-05-25T12:18:36+00:00",
        "comments_count": [
            "qingchunnianshao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2259,
        "title": "测试国产加速卡寒武纪MLU下，跑ernie的序列标注任务的无法调用mlu加速任务bug，希望官方开发能够答复，非常感谢！！",
        "body": "\r\n1）PaddlePaddle版本：docker环境下的 ，PaddlePaddle-mlu==0.0.0\r\n2)  PaddleHub版本：2.1.0\r\n2）系统环境：centos7.6 linux\r\n任务启动日志：\r\n```\r\n/opt/py37env/lib/python3.7/site-packages/paddle/fluid/framework.py:193: UserWarning: We will fallback into legacy dygraph on NPU/XPU/MLU/IPU/ROCM devices. Because we only support new eager dygraph mode on CPU/GPU currently. \r\n  \"We will fallback into legacy dygraph on NPU/XPU/MLU/IPU/ROCM devices. Because we only support new eager dygraph mode on CPU/GPU currently. \"\r\n[2023-05-29 16:37:34,910] [    INFO] - Already cached /root/.paddlenlp/models/ernie-1.0/ernie_v1_chn_base.pdparams\r\nW0529 16:37:34.916133  5170 device_context.cc:48] Please NOTE: device: 0, MLU Compute Capability: 3.0, Driver API Version: 4.20.18, Runtime API Version: 6.0.2, Cnnl API Version: 1.13.0, MluOp API Version: 0.2.0\r\n[2023-05-29 16:37:54,520] [    INFO] - Loaded parameters from /home/suntao_test/v2_nlp_es005/nlp_mod_005/best_model/model.pdparams\r\n * Serving Flask app 'hub_serving'\r\n * Debug mode: off\r\nINFO:werkzeug:WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\r\n * Running on all addresses (0.0.0.0)\r\n * Running on http://127.0.0.1:8867\r\nINFO:werkzeug:Press CTRL+C to quit\r\nINFO:werkzeug:127.0.0.1 - - [29/May/2023 16:38:04] \"POST /predict/NLP_ES005 HTTP/1.1\" 200 -\r\nINFO:werkzeug:127.0.0.1 - - [29/May/2023 16:38:05] \"POST /predict/NLP_ES005 HTTP/1.1\" 200 -\r\n```\r\n\r\n报错信息：\r\n```\r\n{\r\n    \"msg\": \"The device should not be 'gpu', since PaddlePaddle is not compiled with CUDA\", \r\n    \"status\": \"000\", \r\n    \"results\": \"\"\r\n}\r\n```\r\n",
        "state": "closed",
        "user": "suntao2015005848",
        "closed_by": "WYB27",
        "created_at": "2023-05-29T09:24:01+00:00",
        "updated_at": "2025-06-30T07:06:53+00:00",
        "closed_at": "2025-06-30T07:06:53+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2260,
        "title": "官方好，安装完paddlepaddle、paddlehub后 引入paddlehub报错",
        "body": "\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddlehub-2.3.1   paddlepaddle-2.4.2\r\n2）系统环境：Windows  python3.9.13\r\n安装完paddlepaddle、paddlehub后 \r\n引入paddlehub报错\r\n\r\n![image](https://github.com/PaddlePaddle/PaddleHub/assets/13504729/0fcf075b-5454-4ec4-aa31-9d4f2d8e6ed5)\r\n\r\n",
        "state": "closed",
        "user": "data2",
        "closed_by": "rainyfly",
        "created_at": "2023-05-30T07:59:00+00:00",
        "updated_at": "2023-09-20T11:02:32+00:00",
        "closed_at": "2023-09-20T11:02:32+00:00",
        "comments_count": [
            "rainyfly",
            "data2",
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2261,
        "title": "ace2p模型无法转onnx",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub2.3.1和PaddlePaddle2.3.2\r\n2）系统环境：ubuntu20.04，python3.8.10\r\n\r\nace2p模型转onnx时，有算子不支持，如conv，好像说是paddle2onnx只支持paddlepaddle2.0以上的模型转onnx，ace2p的模型是1.x的。请问能否提供paddle2.x版本的ace2p模型，或者训练代码。谢谢\r\n",
        "state": "closed",
        "user": "jstzwjr",
        "closed_by": "WYB27",
        "created_at": "2023-06-02T02:00:24+00:00",
        "updated_at": "2025-06-30T07:06:51+00:00",
        "closed_at": "2025-06-30T07:06:51+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2263,
        "title": "安装paddlehub时提示No matching distribution found for starlette<0.28.0,>=0.27.0",
        "body": "执行安装paddlehub时提示No matching distribution found for starlette<0.28.0,>=0.27.0\r\n执行命令:pip install --upgrade paddlehub -i https://mirror.baidu.com/pypi/simple\r\nPaddlePaddle版本:2.4.2,尝试过指定paddlehub和PaddlePaddle版本，还是会报这个错误\r\n操作系统:windows，linux，docker  。python版本:3.7.9\r\n复现环境：docker\r\n复现步骤:\r\nFROM paddlepaddle/paddle:2.4.2\r\nRUN pip install --upgrade paddlehub -i https://mirror.baidu.com/pypi/simple\r\n...\r\n报错信息:\r\n![image](https://github.com/PaddlePaddle/PaddleHub/assets/30817957/223268ae-d86d-4562-8e55-83f4d82e4ece)\r\n烦请帮忙看下是不是我的环境配置有问题导致的",
        "state": "closed",
        "user": "benshiqingdengbuguike",
        "closed_by": "sijunhe",
        "created_at": "2023-06-06T15:12:58+00:00",
        "updated_at": "2024-04-17T08:56:09+00:00",
        "closed_at": "2024-04-17T08:56:09+00:00",
        "comments_count": [
            "halay",
            "halay",
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2264,
        "title": "ImportError: cannot import name '_print_arguments' from 'paddle.distributed.utils' ",
        "body": "paddlepaddle 2.4.1\r\npaddlehub 2.3.1\r\n在使用 PaddleOCR 時出現的錯誤\r\n<img width=\"856\" alt=\"image\" src=\"https://github.com/PaddlePaddle/PaddleHub/assets/119124535/4c3b8127-f8df-48ba-8e73-c58f076f277f\">\r\n\r\n",
        "state": "closed",
        "user": "ShihPing0803",
        "closed_by": "ShihPing0803",
        "created_at": "2023-06-17T19:07:03+00:00",
        "updated_at": "2025-02-27T10:11:17+00:00",
        "closed_at": "2023-06-19T15:24:31+00:00",
        "comments_count": [
            "ShihPing0803",
            "daqiudi",
            "oowwkk"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2267,
        "title": "> > 你好，请问当前是什么平台？",
        "body": "              > > 你好，请问当前是什么平台？\r\n> > 是否有用conda管理python环境？\r\n> > 如果是linux或mac os，执行一下`which python`和`which hub`看一下返回信息。\r\n> \r\n> 没有用conda管理，是单独装的python，用pip直接安装的paddlehub\r\n> \r\n> which hub\r\n> /usr/bin/which: no hub in (/usr/local/openssl/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin:/usr/local/automake-1.15/bin:/root/bin:/root/bin)\r\n> \r\n> 直接pip安装完paddlehub在变量里是没有hub的\r\n\r\n你好，尝试选择其中一种方案解决：\r\n1. 用conda创建环境后，再`pip install paddlehub`安装\r\n2. 创建一个文本文件，命名为`hub`，然后添加可执行权限，将其路径添加到`PATH`里，内容如下(第一行填你当前的python解释器路径)\r\n   ```python\r\n   #!/usr/bin/python\r\n   # -*- coding: utf-8 -*-\r\n   import re\r\n   import sys\r\n   from paddlehub.commands.utils import execute\r\n\r\n   if __name__ == '__main__':\r\n       sys.argv[0] = re.sub(r'(-script\\.pyw|\\.exe)?$', '', sys.argv[0])\r\n       sys.exit(execute())\r\n   ```\r\n\r\n_Originally posted by @KPatr1ck in https://github.com/PaddlePaddle/PaddleHub/issues/1235#issuecomment-776026699_\r\n            ",
        "state": "closed",
        "user": "leon-cjf",
        "closed_by": "leon-cjf",
        "created_at": "2023-07-02T15:22:46+00:00",
        "updated_at": "2023-07-02T15:23:17+00:00",
        "closed_at": "2023-07-02T15:23:17+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2265,
        "title": "请问PaddleHub 模型列表中推荐指数(96分）是如何计算得来的",
        "body": "https://www.paddlepaddle.org.cn/hublist\r\n请问PaddleHub 模型列表中推荐指数(96分）是如何计算得来的",
        "state": "closed",
        "user": "zed-2018",
        "closed_by": "WYB27",
        "created_at": "2023-06-27T06:58:54+00:00",
        "updated_at": "2025-06-30T07:06:49+00:00",
        "closed_at": "2025-06-30T07:06:49+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2266,
        "title": "安装paddlehub后import paddlehub出错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\npaddlehub 2.3.1\r\npaddlepaddle 2.5.0\r\nPython 3.9.13\r\nconda 22.9.0\r\nWindows 10 系统\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n![image](https://github.com/PaddlePaddle/PaddleHub/assets/59084123/fca5dfb9-f5bd-4413-bf18-f87caafc5210)\r\n",
        "state": "closed",
        "user": "JAC-z",
        "closed_by": "rainyfly",
        "created_at": "2023-06-27T10:29:39+00:00",
        "updated_at": "2023-09-20T11:07:46+00:00",
        "closed_at": "2023-09-20T11:07:46+00:00",
        "comments_count": [
            "wb-hwang",
            "jctml",
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2268,
        "title": "paddleHub 启动chinese_ocr_db_crnn_server模型的gpu服务化报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\nPaddleHub：2.3.1\r\nPaddlePaddle-gpu: 2.4.0.post117\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n- 系统类型: Linux\r\n- python 版本：3.8.16\r\n- 复现步骤：\r\n- 执行命令：hub serving start -m chinese_ocr_db_crnn_server -p 8868 --use_gpu  --gpu 1\r\n报错信息：\r\n/home/yhao/anaconda3/envs/paddleNlp_recompute/lib/python3.8/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[2023-07-03 14:39:29 +0800] [1295] [INFO] Starting gunicorn 20.1.0\r\n[2023-07-03 14:39:29 +0800] [1295] [INFO] Listening at: http://0.0.0.0:8868 (1295)\r\n[2023-07-03 14:39:29 +0800] [1295] [INFO] Using worker: sync\r\n[2023-07-03 14:39:29 +0800] [1301] [INFO] Booting worker with pid: 1301\r\n/home/yhao/anaconda3/envs/paddleNlp_recompute/lib/python3.8/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[2023-07-03 14:39:59 +0800] [1295] [CRITICAL] WORKER TIMEOUT (pid:1301)\r\n[2023-07-03 14:39:59 +0800] [1295] [WARNING] Worker with pid 1301 was terminated due to signal 6\r\n[2023-07-03 14:39:59 +0800] [1333] [INFO] Booting worker with pid: 1333\r\n[2023-07-03 14:40:29 +0800] [1295] [CRITICAL] WORKER TIMEOUT (pid:1333)\r\n[2023-07-03 14:40:29 +0800] [1295] [WARNING] Worker with pid 1333 was terminated due to signal 6\r\n[2023-07-03 14:40:29 +0800] [1340] [INFO] Booting worker with pid: 1340\r\n[2023-07-03 14:40:59 +0800] [1295] [CRITICAL] WORKER TIMEOUT (pid:1340)\r\n[2023-07-03 14:40:59 +0800] [1295] [WARNING] Worker with pid 1340 was terminated due to signal 6\r\n[2023-07-03 14:40:59 +0800] [1342] [INFO] Booting worker with pid: 1342\r\n\r\n",
        "state": "closed",
        "user": "LANSEYOUYUMOWANG",
        "closed_by": "WYB27",
        "created_at": "2023-07-03T06:43:31+00:00",
        "updated_at": "2025-06-30T07:06:47+00:00",
        "closed_at": "2025-06-30T07:06:47+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2275,
        "title": "套件开发者证书发放活动 2023H1",
        "body": "各位飞桨开发者大家好～为了感谢大家近期对飞桨套件代码库，文档的贡献，我们会为在2023年1.1-6.30日之间合入飞桨套件PR的开发者发放电子版飞桨开源证书🎉🎉🎉 如果您有PR合入，请填写这张问卷补充如下信息，方便我们发放证书：\r\n\r\n* GitHubID\r\n* 邮箱\r\n* 合入PR的链接及描述信息\r\n\r\n感谢您对飞桨套件开源工作的支持！\r\n问卷链接：https://wj.qq.com/s2/12744729/af61/",
        "state": "closed",
        "user": "KevinLi43",
        "closed_by": "sijunhe",
        "created_at": "2023-07-12T08:29:29+00:00",
        "updated_at": "2024-04-17T08:54:19+00:00",
        "closed_at": "2024-04-17T08:54:19+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2274,
        "title": "Fine-tune 之后，使用预测后的模型报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddlePaddle 2.4.0，paddleHub 2.3.0\r\n2）系统环境：AIStudio，python 1.7.4，\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n直接运行教程里面[迁移学习-图像分类](https://paddlehub.readthedocs.io/zh_CN/release-v2.1/finetune/image_classification.html) 的代码，完成迁移学习后，加载模型报错。\r\n使用AIstudio、本地 运行都出现一样的错误。\r\n\r\n迁移学习成功：\r\n```\r\n[2023-07-10 11:45:44,857] [    EVAL] - Saving best model to img_classification_ckpt/best_model [best acc=0.6710]\r\n[2023-07-10 11:45:44,860] [    INFO] - Saving model checkpoint to img_classification_ckpt/epoch_1\r\n```\r\n加载模型的代码：\r\n\r\n```\r\nimport paddle\r\nimport paddlehub as hub\r\n\r\nif __name__ == '__main__':\r\n\r\n    model = hub.Module(name='resnet50_vd_imagenet_ssld', label_list=[\"roses\", \"tulips\", \"daisy\", \"sunflowers\", \"dandelion\"], load_checkpoint='img_classification_ckpt/')\r\n    result = model.predict(['flower.jpg']) \r\n```\r\n\r\n报错：\r\n\r\n```\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/setuptools/depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\nTraceback (most recent call last):\r\n  File \"untitled.py\", line 6, in <module>\r\n    model = hub.Module(name='resnet50_vd_imagenet_ssld', label_list=[\"roses\", \"tulips\", \"daisy\", \"sunflowers\", \"dandelion\"], load_checkpoint='img_classification_ckpt/')\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 396, in __new__\r\n    **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlehub/module/module.py\", line 511, in init_with_name\r\n    return user_module_cls(**kwargs)\r\n  File \"/home/aistudio/.paddlehub/modules/resnet50_vd_imagenet_ssld/module.py\", line 240, in __init__\r\n    self.model_dict = paddle.load(load_checkpoint)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/framework/io.py\", line 1103, in load\r\n    load_result = _legacy_load(path, **configs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/framework/io.py\", line 1150, in _legacy_load\r\n    load_result = _load_state_dict_from_save_params(model_path)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/framework/io.py\", line 147, in _load_state_dict_from_save_params\r\n    attrs={'file_path': os.path.join(model_path, name)},\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/tracer.py\", line 314, in trace_op\r\n    stop_gradient, inplace_map)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/tracer.py\", line 176, in eager_legacy_trace_op\r\n    returns = function_ptr(*arg_list, *attrs_list)\r\nValueError: (InvalidArgument) Deserialize to tensor failed, maybe the loaded file is not a paddle model(expected file format: 0, but 1667433344 found).\r\n  [Hint: Expected version == 0U, but received version:1667433344 != 0U:0.] (at /paddle/paddle/phi/core/serialization.cc:106)\r\n  [operator < load > error]\r\n```\r\n迁移学习后，生成的文件结构是：\r\n```\r\n-img_classification_ckpy/\r\n  -- best_model/\r\n    --- model.pdopt\r\n    --- model.pdparams\r\n  -- epoch_1/\r\n  -- visualization/\r\n  -- metrics.pkl\r\n```\r\n做过以下尝试，依旧不行\r\n1. 切换paddle-gpu、paddle-cpu\r\n2. AIstudio、本地（windows 11)跑\r\n3. 切换paddle 版本到2.3.0",
        "state": "closed",
        "user": "wb-hwang",
        "closed_by": "WYB27",
        "created_at": "2023-07-10T04:00:35+00:00",
        "updated_at": "2025-06-30T07:06:45+00:00",
        "closed_at": "2025-06-30T07:06:45+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2269,
        "title": "paddlehub 使用模型ch_pp-ocrv3识别失败",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\npaddlepaddle 2.4.2 paddlehub:2.3.1 \r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\nubuntu 18.04\r\n\r\n使用如下测试图片：\r\n![test](https://github.com/PaddlePaddle/PaddleHub/assets/46236818/2b898841-2766-4de2-b09e-f57b51a79f44)\r\n\r\n1,运行模型目录~/.paddlehub/modules/ch_pp_ocrv3下的test.py识别结果失败\r\npython test.py\r\n失败信息如下 : results的data为[]\r\nFFFF..[2023-07-05 12:18:27,939] [    INFO] - Paddle Inference model saved in inference/model/_text_detector_module.\r\n[2023-07-05 12:18:28,305] [    INFO] - Paddle Inference model saved in ./inference/model.\r\n.E\r\n======================================================================\r\nERROR: tearDownClass (__main__.TestHubModule)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 30, in tearDownClass\r\n    shutil.rmtree('ocr_result')\r\n  File \"/data/conda/paddlehub/lib/python3.8/shutil.py\", line 709, in rmtree\r\n    onerror(os.lstat, path, sys.exc_info())\r\n  File \"/data/conda/paddlehub/lib/python3.8/shutil.py\", line 707, in rmtree\r\n    orig_st = os.lstat(path)\r\nFileNotFoundError: [Errno 2] No such file or directory: 'ocr_result'\r\n\r\n======================================================================\r\nFAIL: test_recognize_text1 (__main__.TestHubModule)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 38, in test_recognize_text1\r\n    self.assertEqual(results[0]['data'], [{\r\nAssertionError: Lists differ: [] != [{'text': 'GIVE.', 'confidence': 0.9509768[202 chars]9]]}]\r\n\r\nSecond list contains 2 additional elements.\r\nFirst extra element 0:\r\n{'text': 'GIVE.', 'confidence': 0.9509768486022949, 'text_box_position': [[283, 162], [352, 162], [352, 202], [283, 202]]}\r\n\r\n- []\r\n+ [{'confidence': 0.9509768486022949,\r\n+   'text': 'GIVE.',\r\n+   'text_box_position': [[283, 162], [352, 162], [352, 202], [283, 202]]},\r\n+  {'confidence': 0.9943074584007263,\r\n+   'text': 'THANKS',\r\n+   'text_box_position': [[261, 202], [376, 202], [376, 239], [261, 239]]}]\r\n\r\n======================================================================\r\nFAIL: test_recognize_text2 (__main__.TestHubModule)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 54, in test_recognize_text2\r\n    self.assertEqual(results[0]['data'], [{\r\nAssertionError: Lists differ: [] != [{'text': 'GIVE.', 'confidence': 0.9509768[202 chars]9]]}]\r\n\r\nSecond list contains 2 additional elements.\r\nFirst extra element 0:\r\n{'text': 'GIVE.', 'confidence': 0.9509768486022949, 'text_box_position': [[283, 162], [352, 162], [352, 202], [283, 202]]}\r\n\r\n- []\r\n+ [{'confidence': 0.9509768486022949,\r\n+   'text': 'GIVE.',\r\n+   'text_box_position': [[283, 162], [352, 162], [352, 202], [283, 202]]},\r\n+  {'confidence': 0.9943074584007263,\r\n+   'text': 'THANKS',\r\n+   'text_box_position': [[261, 202], [376, 202], [376, 239], [261, 239]]}]\r\n\r\n======================================================================\r\nFAIL: test_recognize_text3 (__main__.TestHubModule)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 70, in test_recognize_text3\r\n    self.assertEqual(results[0]['data'], [{\r\nAssertionError: Lists differ: [] != [{'text': 'GIVE.', 'confidence': 0.9509768[202 chars]9]]}]\r\n\r\nSecond list contains 2 additional elements.\r\nFirst extra element 0:\r\n{'text': 'GIVE.', 'confidence': 0.9509768486022949, 'text_box_position': [[283, 162], [352, 162], [352, 202], [283, 202]]}\r\n\r\n- []\r\n+ [{'confidence': 0.9509768486022949,\r\n+   'text': 'GIVE.',\r\n+   'text_box_position': [[283, 162], [352, 162], [352, 202], [283, 202]]},\r\n+  {'confidence': 0.9943074584007263,\r\n+   'text': 'THANKS',\r\n+   'text_box_position': [[261, 202], [376, 202], [376, 239], [261, 239]]}]\r\n\r\n======================================================================\r\nFAIL: test_recognize_text4 (__main__.TestHubModule)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 86, in test_recognize_text4\r\n    self.assertEqual(results[0]['data'], [{\r\nAssertionError: Lists differ: [] != [{'text': 'GIVE.', 'confidence': 0.9509768[202 chars]9]]}]\r\n\r\nSecond list contains 2 additional elements.\r\nFirst extra element 0:\r\n{'text': 'GIVE.', 'confidence': 0.9509768486022949, 'text_box_position': [[283, 162], [352, 162], [352, 202], [283, 202]]}\r\n\r\n- []\r\n+ [{'confidence': 0.9509768486022949,\r\n+   'text': 'GIVE.',\r\n+   'text_box_position': [[283, 162], [352, 162], [352, 202], [283, 202]]},\r\n+  {'confidence': 0.9943074584007263,\r\n+   'text': 'THANKS',\r\n+   'text_box_position': [[261, 202], [376, 202], [376, 239], [261, 239]]}]\r\n\r\n----------------------------------------------------------------------\r\nRan 7 tests in 6.740s\r\n\r\nFAILED (failures=4, errors=1)\r\n\r\n\r\n2,换成本地图片也是识别不到文字，results.data 还是为[]\r\nimport paddlehub as hub\r\nimport cv2\r\nocr = hub.Module(name=\"ch_pp-ocrv3\")    \r\nresult = ocr.recognize_text(images=[cv2.imread(\"/home/robert/test.jpg\")])\r\nprint(result)\r\n---\r\n[{'save_path': '', 'data': []}]\r\n\r\n\r\n3. hub run ch_pp-ocrv3 --input_path \"/home/robert/test.jpg\" ,data为[]\r\n\r\n/data/conda/paddlehub/lib/python3.8/site-packages/pkg_resources/__init__.py:121: DeprecationWarning: pkg_resources is deprecated as an API\r\n  warnings.warn(\"pkg_resources is deprecated as an API\", DeprecationWarning)\r\n/data/conda/paddlehub/lib/python3.8/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('mpl_toolkits')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/data/conda/paddlehub/lib/python3.8/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('google')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/data/conda/paddlehub/lib/python3.8/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('sphinxcontrib')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/data/conda/paddlehub/lib/python3.8/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('zope')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/data/conda/paddlehub/lib/python3.8/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n[{'save_path': '', 'data': []}]\r\n  \r\n\r\n\r\n",
        "state": "closed",
        "user": "zouxiaodong",
        "closed_by": "zouxiaodong",
        "created_at": "2023-07-05T03:44:27+00:00",
        "updated_at": "2023-07-05T04:59:03+00:00",
        "closed_at": "2023-07-05T04:58:27+00:00",
        "comments_count": [
            "zouxiaodong"
        ],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2281
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2276,
        "title": "fastspeech2_baker  语音能否发男声,女声，童声",
        "body": "fastspeech2_baker  语音能否发男声,女声，童声?\r\n",
        "state": "closed",
        "user": "shihzenq",
        "closed_by": "WYB27",
        "created_at": "2023-07-13T03:36:25+00:00",
        "updated_at": "2025-06-30T07:06:43+00:00",
        "closed_at": "2025-06-30T07:06:43+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2278,
        "title": "paddle本地到底如何安装？",
        "body": "想跑下stable_diffusion，本地linux服务器装了paddlepaddle 2.4.2GPU版和paddlehub2.3.1，要么就是JSONDecoderError， hub install stable_diffusion==1.0.0的时候要么就是找不到stable_diffusion要么就是can't find module pelease check your spelling；搞了一天没搞出来，网上教程都不管用\r\n",
        "state": "closed",
        "user": "wzf19947",
        "closed_by": "rainyfly",
        "created_at": "2023-07-17T12:20:20+00:00",
        "updated_at": "2023-09-20T11:05:53+00:00",
        "closed_at": "2023-09-20T11:05:53+00:00",
        "comments_count": [
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2277,
        "title": "dependency conflicts for Paddlehub",
        "body": "I had to downgrade protobuf but then downgrading it causes another conflict.  The server works but I'm afraid of something breaking or not working later on.\r\n\r\n```\r\n(paddlehub) nobu@LAPTOP-DNCQ5AAC:/mnt/d/chatgpt/ocr$ pip install paddlehub==2.1.0\r\nCollecting paddlehub==2.1.0\r\n  Using cached paddlehub-2.1.0-py3-none-any.whl (211 kB)\r\nCollecting colorama (from paddlehub==2.1.0)\r\n  Using cached colorama-0.4.6-py2.py3-none-any.whl (25 kB)\r\nCollecting colorlog (from paddlehub==2.1.0)\r\n  Using cached colorlog-6.7.0-py2.py3-none-any.whl (11 kB)\r\nCollecting easydict (from paddlehub==2.1.0)\r\n  Using cached easydict-1.10-py3-none-any.whl\r\nCollecting filelock (from paddlehub==2.1.0)\r\n  Using cached filelock-3.12.2-py3-none-any.whl (10 kB)\r\nCollecting flask>=1.1.0 (from paddlehub==2.1.0)\r\n  Using cached Flask-2.3.2-py3-none-any.whl (96 kB)\r\nCollecting gitpython (from paddlehub==2.1.0)\r\n  Using cached GitPython-3.1.32-py3-none-any.whl (188 kB)\r\nRequirement already satisfied: numpy in /home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages (from paddlehub==2.1.0) (1.24.4)\r\nCollecting matplotlib (from paddlehub==2.1.0)\r\n  Using cached matplotlib-3.7.2-cp38-cp38-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (9.2 MB)\r\nCollecting opencv-python (from paddlehub==2.1.0)\r\n  Using cached opencv_python-4.8.0.74-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (61.7 MB)\r\nCollecting packaging (from paddlehub==2.1.0)\r\n  Using cached packaging-23.1-py3-none-any.whl (48 kB)\r\nCollecting paddle2onnx>=0.5.1 (from paddlehub==2.1.0)\r\n  Using cached paddle2onnx-1.0.6-cp38-cp38-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (3.1 MB)\r\nCollecting paddlenlp>=2.0.0rc5 (from paddlehub==2.1.0)\r\n  Using cached paddlenlp-2.6.0rc0-py3-none-any.whl (2.5 MB)\r\nRequirement already satisfied: Pillow in /home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages (from paddlehub==2.1.0) (10.0.0)\r\nCollecting pyyaml (from paddlehub==2.1.0)\r\n  Using cached PyYAML-6.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_12_x86_64.manylinux2010_x86_64.whl (701 kB)\r\nCollecting pyzmq (from paddlehub==2.1.0)\r\n  Using cached pyzmq-25.1.0-cp38-cp38-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (1.1 MB)\r\nCollecting rarfile (from paddlehub==2.1.0)\r\n  Using cached rarfile-4.0-py3-none-any.whl (28 kB)\r\nCollecting tqdm (from paddlehub==2.1.0)\r\n  Using cached tqdm-4.65.0-py3-none-any.whl (77 kB)\r\nCollecting visualdl>=2.0.0 (from paddlehub==2.1.0)\r\n  Using cached visualdl-2.5.3-py3-none-any.whl (6.3 MB)\r\nCollecting gunicorn>=19.10.0 (from paddlehub==2.1.0)\r\n  Using cached gunicorn-20.1.0-py3-none-any.whl (79 kB)\r\nCollecting Werkzeug>=2.3.3 (from flask>=1.1.0->paddlehub==2.1.0)\r\n  Using cached Werkzeug-2.3.6-py3-none-any.whl (242 kB)\r\nCollecting Jinja2>=3.1.2 (from flask>=1.1.0->paddlehub==2.1.0)\r\n  Using cached Jinja2-3.1.2-py3-none-any.whl (133 kB)\r\nCollecting itsdangerous>=2.1.2 (from flask>=1.1.0->paddlehub==2.1.0)\r\n  Using cached itsdangerous-2.1.2-py3-none-any.whl (15 kB)\r\nCollecting click>=8.1.3 (from flask>=1.1.0->paddlehub==2.1.0)\r\n  Using cached click-8.1.5-py3-none-any.whl (98 kB)\r\nCollecting blinker>=1.6.2 (from flask>=1.1.0->paddlehub==2.1.0)\r\n  Using cached blinker-1.6.2-py3-none-any.whl (13 kB)\r\nCollecting importlib-metadata>=3.6.0 (from flask>=1.1.0->paddlehub==2.1.0)\r\n  Using cached importlib_metadata-6.8.0-py3-none-any.whl (22 kB)\r\nRequirement already satisfied: setuptools>=3.0 in /home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages (from gunicorn>=19.10.0->paddlehub==2.1.0) (67.8.0)\r\nCollecting jieba (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached jieba-0.42.1-py3-none-any.whl\r\nCollecting seqeval (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached seqeval-1.2.2-py3-none-any.whl\r\nCollecting dill<0.3.5 (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached dill-0.3.4-py2.py3-none-any.whl (86 kB)\r\nCollecting multiprocess<=0.70.12.2 (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached multiprocess-0.70.12.2-py38-none-any.whl (128 kB)\r\nCollecting datasets>=2.0.0 (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached datasets-2.13.1-py3-none-any.whl (486 kB)\r\nCollecting paddlefsl (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached paddlefsl-1.1.0-py3-none-any.whl (101 kB)\r\nCollecting sentencepiece (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached sentencepiece-0.1.99-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.3 MB)\r\nCollecting huggingface-hub>=0.11.1 (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached huggingface_hub-0.16.4-py3-none-any.whl (268 kB)\r\nCollecting protobuf==3.20.2 (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached protobuf-3.20.2-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.whl (1.0 MB)\r\nCollecting Flask-Babel (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached flask_babel-3.1.0-py3-none-any.whl (9.6 kB)\r\nCollecting fastapi (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached fastapi-0.100.0-py3-none-any.whl (65 kB)\r\nCollecting uvicorn (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached uvicorn-0.23.0-py3-none-any.whl (59 kB)\r\nCollecting typer (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached typer-0.9.0-py3-none-any.whl (45 kB)\r\nCollecting rich (from paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached rich-13.4.2-py3-none-any.whl (239 kB)\r\nCollecting bce-python-sdk (from visualdl>=2.0.0->paddlehub==2.1.0)\r\n  Using cached bce_python_sdk-0.8.87-py3-none-any.whl (231 kB)\r\nRequirement already satisfied: requests in /home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages (from visualdl>=2.0.0->paddlehub==2.1.0) (2.31.0)\r\nRequirement already satisfied: six>=1.14.0 in /home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages (from visualdl>=2.0.0->paddlehub==2.1.0) (1.16.0)\r\nCollecting pandas (from visualdl>=2.0.0->paddlehub==2.1.0)\r\n  Using cached pandas-2.0.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (12.4 MB)\r\nCollecting psutil (from visualdl>=2.0.0->paddlehub==2.1.0)\r\n  Using cached psutil-5.9.5-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (282 kB)\r\nCollecting gitdb<5,>=4.0.1 (from gitpython->paddlehub==2.1.0)\r\n  Using cached gitdb-4.0.10-py3-none-any.whl (62 kB)\r\nCollecting contourpy>=1.0.1 (from matplotlib->paddlehub==2.1.0)\r\n  Using cached contourpy-1.1.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (300 kB)\r\nCollecting cycler>=0.10 (from matplotlib->paddlehub==2.1.0)\r\n  Using cached cycler-0.11.0-py3-none-any.whl (6.4 kB)\r\nCollecting fonttools>=4.22.0 (from matplotlib->paddlehub==2.1.0)\r\n  Using cached fonttools-4.41.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.4 MB)\r\nCollecting kiwisolver>=1.0.1 (from matplotlib->paddlehub==2.1.0)\r\n  Using cached kiwisolver-1.4.4-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.whl (1.2 MB)\r\nCollecting pyparsing<3.1,>=2.3.1 (from matplotlib->paddlehub==2.1.0)\r\n  Using cached pyparsing-3.0.9-py3-none-any.whl (98 kB)\r\nCollecting python-dateutil>=2.7 (from matplotlib->paddlehub==2.1.0)\r\n  Using cached python_dateutil-2.8.2-py2.py3-none-any.whl (247 kB)\r\nCollecting importlib-resources>=3.2.0 (from matplotlib->paddlehub==2.1.0)\r\n  Using cached importlib_resources-6.0.0-py3-none-any.whl (31 kB)\r\nCollecting pyarrow>=8.0.0 (from datasets>=2.0.0->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached pyarrow-12.0.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (39.0 MB)\r\nCollecting xxhash (from datasets>=2.0.0->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached xxhash-3.2.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (213 kB)\r\nCollecting fsspec[http]>=2021.11.1 (from datasets>=2.0.0->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached fsspec-2023.6.0-py3-none-any.whl (163 kB)\r\nCollecting aiohttp (from datasets>=2.0.0->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached aiohttp-3.8.4-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.0 MB)\r\nCollecting Babel>=2.12 (from Flask-Babel->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached Babel-2.12.1-py3-none-any.whl (10.1 MB)\r\nCollecting pytz>=2022.7 (from Flask-Babel->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached pytz-2023.3-py2.py3-none-any.whl (502 kB)\r\nCollecting smmap<6,>=3.0.1 (from gitdb<5,>=4.0.1->gitpython->paddlehub==2.1.0)\r\n  Using cached smmap-5.0.0-py3-none-any.whl (24 kB)\r\nCollecting typing-extensions>=3.7.4.3 (from huggingface-hub>=0.11.1->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached typing_extensions-4.7.1-py3-none-any.whl (33 kB)\r\nCollecting zipp>=0.5 (from importlib-metadata>=3.6.0->flask>=1.1.0->paddlehub==2.1.0)\r\n  Using cached zipp-3.16.2-py3-none-any.whl (7.2 kB)\r\nCollecting MarkupSafe>=2.0 (from Jinja2>=3.1.2->flask>=1.1.0->paddlehub==2.1.0)\r\n  Using cached MarkupSafe-2.1.3-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (25 kB)\r\nRequirement already satisfied: charset-normalizer<4,>=2 in /home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages (from requests->visualdl>=2.0.0->paddlehub==2.1.0) (3.2.0)\r\nRequirement already satisfied: idna<4,>=2.5 in /home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages (from requests->visualdl>=2.0.0->paddlehub==2.1.0) (3.4)\r\nRequirement already satisfied: urllib3<3,>=1.21.1 in /home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages (from requests->visualdl>=2.0.0->paddlehub==2.1.0) (2.0.3)\r\nRequirement already satisfied: certifi>=2017.4.17 in /home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages (from requests->visualdl>=2.0.0->paddlehub==2.1.0) (2023.5.7)\r\nCollecting pycryptodome>=3.8.0 (from bce-python-sdk->visualdl>=2.0.0->paddlehub==2.1.0)\r\n  Using cached pycryptodome-3.18.0-cp35-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)\r\nCollecting future>=0.6.0 (from bce-python-sdk->visualdl>=2.0.0->paddlehub==2.1.0)\r\n  Using cached future-0.18.3-py3-none-any.whl\r\nCollecting pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,<3.0.0,>=1.7.4 (from fastapi->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached pydantic-2.0.3-py3-none-any.whl (364 kB)\r\nCollecting starlette<0.28.0,>=0.27.0 (from fastapi->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached starlette-0.27.0-py3-none-any.whl (66 kB)\r\nCollecting tzdata>=2022.1 (from pandas->visualdl>=2.0.0->paddlehub==2.1.0)\r\n  Using cached tzdata-2023.3-py2.py3-none-any.whl (341 kB)\r\nCollecting markdown-it-py>=2.2.0 (from rich->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached markdown_it_py-3.0.0-py3-none-any.whl (87 kB)\r\nCollecting pygments<3.0.0,>=2.13.0 (from rich->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached Pygments-2.15.1-py3-none-any.whl (1.1 MB)\r\nCollecting scikit-learn>=0.21.3 (from seqeval->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached scikit_learn-1.3.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (11.1 MB)\r\nCollecting h11>=0.8 (from uvicorn->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached h11-0.14.0-py3-none-any.whl (58 kB)\r\nCollecting attrs>=17.3.0 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached attrs-23.1.0-py3-none-any.whl (61 kB)\r\nCollecting multidict<7.0,>=4.5 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached multidict-6.0.4-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (121 kB)\r\nCollecting async-timeout<5.0,>=4.0.0a3 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached async_timeout-4.0.2-py3-none-any.whl (5.8 kB)\r\nCollecting yarl<2.0,>=1.0 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached yarl-1.9.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (266 kB)\r\nCollecting frozenlist>=1.1.1 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached frozenlist-1.4.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (220 kB)\r\nCollecting aiosignal>=1.1.2 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached aiosignal-1.3.1-py3-none-any.whl (7.6 kB)\r\nCollecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached mdurl-0.1.2-py3-none-any.whl (10.0 kB)\r\nCollecting annotated-types>=0.4.0 (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,<3.0.0,>=1.7.4->fastapi->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached annotated_types-0.5.0-py3-none-any.whl (11 kB)\r\nCollecting pydantic-core==2.3.0 (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,<3.0.0,>=1.7.4->fastapi->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached pydantic_core-2.3.0-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.9 MB)\r\nCollecting scipy>=1.5.0 (from scikit-learn>=0.21.3->seqeval->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached scipy-1.10.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (34.5 MB)\r\nCollecting joblib>=1.1.1 (from scikit-learn>=0.21.3->seqeval->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached joblib-1.3.1-py3-none-any.whl (301 kB)\r\nCollecting threadpoolctl>=2.0.0 (from scikit-learn>=0.21.3->seqeval->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached threadpoolctl-3.2.0-py3-none-any.whl (15 kB)\r\nCollecting anyio<5,>=3.4.0 (from starlette<0.28.0,>=0.27.0->fastapi->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached anyio-3.7.1-py3-none-any.whl (80 kB)\r\nCollecting sniffio>=1.1 (from anyio<5,>=3.4.0->starlette<0.28.0,>=0.27.0->fastapi->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached sniffio-1.3.0-py3-none-any.whl (10 kB)\r\nCollecting exceptiongroup (from anyio<5,>=3.4.0->starlette<0.28.0,>=0.27.0->fastapi->paddlenlp>=2.0.0rc5->paddlehub==2.1.0)\r\n  Using cached exceptiongroup-1.1.2-py3-none-any.whl (14 kB)\r\nInstalling collected packages: sentencepiece, rarfile, pytz, paddle2onnx, jieba, easydict, zipp, xxhash, tzdata, typing-extensions, tqdm, threadpoolctl, sniffio, smmap, scipy, pyzmq, pyyaml, python-dateutil, pyparsing, pygments, pycryptodome, pyarrow, psutil, protobuf, packaging, opencv-python, multidict, mdurl, MarkupSafe, kiwisolver, joblib, itsdangerous, h11, gunicorn, future, fsspec, frozenlist, fonttools, filelock, exceptiongroup, dill, cycler, contourpy, colorlog, colorama, click, blinker, Babel, attrs, async-timeout, yarl, Werkzeug, uvicorn, typer, scikit-learn, pydantic-core, pandas, paddlefsl, multiprocess, markdown-it-py, Jinja2, importlib-resources, importlib-metadata, huggingface-hub, gitdb, bce-python-sdk, anyio, annotated-types, aiosignal, starlette, seqeval, rich, pydantic, matplotlib, gitpython, flask, aiohttp, Flask-Babel, fastapi, visualdl, datasets, paddlenlp, paddlehub\r\n  Attempting uninstall: protobuf\r\n    Found existing installation: protobuf 3.20.0\r\n    Uninstalling protobuf-3.20.0:\r\n      Successfully uninstalled protobuf-3.20.0\r\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\r\npaddlepaddle-gpu 2.4.2.post117 requires protobuf<=3.20.0,>=3.1.0, but you have protobuf 3.20.2 which is incompatible.\r\nSuccessfully installed Babel-2.12.1 Flask-Babel-3.1.0 Jinja2-3.1.2 MarkupSafe-2.1.3 Werkzeug-2.3.6 aiohttp-3.8.4 aiosignal-1.3.1 annotated-types-0.5.0 anyio-3.7.1 async-timeout-4.0.2 attrs-23.1.0 bce-python-sdk-0.8.87 blinker-1.6.2 click-8.1.5 colorama-0.4.6 colorlog-6.7.0 contourpy-1.1.0 cycler-0.11.0 datasets-2.13.1 dill-0.3.4 easydict-1.10 exceptiongroup-1.1.2 fastapi-0.100.0 filelock-3.12.2 flask-2.3.2 fonttools-4.41.0 frozenlist-1.4.0 fsspec-2023.6.0 future-0.18.3 gitdb-4.0.10 gitpython-3.1.32 gunicorn-20.1.0 h11-0.14.0 huggingface-hub-0.16.4 importlib-metadata-6.8.0 importlib-resources-6.0.0 itsdangerous-2.1.2 jieba-0.42.1 joblib-1.3.1 kiwisolver-1.4.4 markdown-it-py-3.0.0 matplotlib-3.7.2 mdurl-0.1.2 multidict-6.0.4 multiprocess-0.70.12.2 opencv-python-4.8.0.74 packaging-23.1 paddle2onnx-1.0.6 paddlefsl-1.1.0 paddlehub-2.1.0 paddlenlp-2.6.0rc0 pandas-2.0.3 protobuf-3.20.2 psutil-5.9.5 pyarrow-12.0.1 pycryptodome-3.18.0 pydantic-2.0.3 pydantic-core-2.3.0 pygments-2.15.1 pyparsing-3.0.9 python-dateutil-2.8.2 pytz-2023.3 pyyaml-6.0 pyzmq-25.1.0 rarfile-4.0 rich-13.4.2 scikit-learn-1.3.0 scipy-1.10.1 sentencepiece-0.1.99 seqeval-1.2.2 smmap-5.0.0 sniffio-1.3.0 starlette-0.27.0 threadpoolctl-3.2.0 tqdm-4.65.0 typer-0.9.0 typing-extensions-4.7.1 tzdata-2023.3 uvicorn-0.23.0 visualdl-2.5.3 xxhash-3.2.0 yarl-1.9.2 zipp-3.16.2\r\n(paddlehub) nobu@LAPTOP-DNCQ5AAC:/mnt/d/chatgpt/ocr$ pip install -U protobuf===3.20.0\r\nCollecting protobuf===3.20.0\r\n  Using cached protobuf-3.20.0-cp38-cp38-manylinux_2_5_x86_64.manylinux1_x86_64.whl (1.0 MB)\r\nInstalling collected packages: protobuf\r\n  Attempting uninstall: protobuf\r\n    Found existing installation: protobuf 3.20.2\r\n    Uninstalling protobuf-3.20.2:\r\n      Successfully uninstalled protobuf-3.20.2\r\nERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\r\npaddlenlp 2.6.0rc0 requires protobuf==3.20.2, but you have protobuf 3.20.0 which is incompatible.\r\nSuccessfully installed protobuf-3.20.0\r\n(paddlehub) nobu@LAPTOP-DNCQ5AAC:/mnt/d/chatgpt/ocr$ python\r\nPython 3.8.17 (default, Jul  5 2023, 21:04:15)\r\n[GCC 11.2.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> import paddlehub\r\n/home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages/pkg_resources/__init__.py:121: DeprecationWarning: pkg_resources is deprecated as an API\r\n  warnings.warn(\"pkg_resources is deprecated as an API\", DeprecationWarning)\r\n/home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('mpl_toolkits')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('google')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/home/nobu/miniconda3/envs/paddlehub/lib/python3.8/site-packages/_distutils_hack/__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\n>>> paddlehub.server_check()\r\n[2023-07-17 09:29:43,593] [    INFO] - Request Hub-Server successfully.\r\nTrue\r\n>>> exit()\r\n(paddlehub) nobu@LAPTOP-DNCQ5AAC:/mnt/d/chatgpt/ocr$\r\n```",
        "state": "closed",
        "user": "nyck33",
        "closed_by": "rainyfly",
        "created_at": "2023-07-17T00:31:25+00:00",
        "updated_at": "2023-09-20T11:08:30+00:00",
        "closed_at": "2023-09-20T11:08:30+00:00",
        "comments_count": [
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2279,
        "title": "import paddlehub as hub 非法指令 直接推出",
        "body": "系统版本：Linux localhost.localdomain 3.10.0-1160.90.1.el7.x86_64 #1 SMP Thu May 4 15:21:22 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux\r\n安装都成功\r\npaddlehub                          2.3.1\r\npaddlepaddle                       2.5.0\r\npython中引用import paddlehub as hub 非法指令 直接推出   \r\n是什么原因？之前别的系统版本安装都好使，就这不行 降版本也不好使。\r\n\r\n",
        "state": "closed",
        "user": "dlwslb",
        "closed_by": "dlwslb",
        "created_at": "2023-07-21T06:55:16+00:00",
        "updated_at": "2023-07-24T02:09:23+00:00",
        "closed_at": "2023-07-24T02:09:23+00:00",
        "comments_count": [
            "dlwslb"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2282,
        "title": "ImportError: cannot import name 'RNNCell' from 'paddle.fluid.layers' (D:\\software\\lib\\site-packages\\paddle\\fluid\\layers\\__init__.py)",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "dididiskq",
        "closed_by": "rainyfly",
        "created_at": "2023-07-26T00:48:00+00:00",
        "updated_at": "2023-09-20T11:09:10+00:00",
        "closed_at": "2023-09-20T11:09:10+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2280,
        "title": "进度条不动，提示这个",
        "body": "0%|          | 1/250 [08:20<34:37:38, 500.64s/it][2023-07-22 23:39:32,174] [   ERROR] base.py:102 - Please report this session_id: [yellow bold]f3069ae4-28a5-11ee-b7a8-58ce2ae4e9d7[/] to https://github.com/jina-ai/jina-hubble-sdk/issues\r\n",
        "state": "closed",
        "user": "xwj625189675",
        "closed_by": "WYB27",
        "created_at": "2023-07-22T15:47:31+00:00",
        "updated_at": "2025-06-30T07:06:41+00:00",
        "closed_at": "2025-06-30T07:06:41+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2284,
        "title": "本地装libpaddle后使用报错：找不到指定模块",
        "body": "import paddlehub时报错如下：\r\nFile \"D:\\soft\\python\\lib\\site-packages\\paddle\\fluid\\core.py\", line 269, in <module>\r\n    from . import libpaddle\r\nImportError: DLL load failed while importing libpaddle: 找不到指定的模块。\r\n\r\n版本为：\r\npaddlehub==2.3.1\r\npaddlenlp==2.5.2\r\npaddlepaddle==2.5.1\r\nnumpy==1.24.4\r\npython==3.8.6\r\n\r\n请问是什么原因呢？缺少的DLL要怎么解决呢？",
        "state": "closed",
        "user": "Gnaixzl",
        "closed_by": "rainyfly",
        "created_at": "2023-08-03T08:04:23+00:00",
        "updated_at": "2024-12-16T03:01:02+00:00",
        "closed_at": "2023-09-20T11:00:17+00:00",
        "comments_count": [
            "rainyfly",
            "wqw547243068"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2283,
        "title": "ImportError: cannot import name 'RNNCell' from 'paddle.fluid.layers' (D:\\software\\lib\\site-packages\\paddle\\fluid\\layers\\__init__.py)",
        "body": "How to solve it",
        "state": "closed",
        "user": "dididiskq",
        "closed_by": "rainyfly",
        "created_at": "2023-07-26T00:51:33+00:00",
        "updated_at": "2023-09-20T11:08:56+00:00",
        "closed_at": "2023-09-20T11:08:56+00:00",
        "comments_count": [
            "TTyb",
            "hcx1002",
            "PhilanthropistBright",
            "fuzhao123232",
            "qq545622333",
            "whisky-12",
            "GuanghuiMin",
            "monkeycc",
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2285,
        "title": "__init__() got an unexpected keyword argument 'inference'",
        "body": "code：\r\n\r\nimport paddlehub as hub\r\n\r\nFOM_Module = hub.Module(name=\"first_order_motion\")\r\nFOM_Module.generate(source_image=\"input_data/test.jpg\", # 输入图像\r\n                    driving_video=\"input_data/zimeng.mp4\", # 输入驱动视频\r\n                    ratio=0.4,\r\n                    image_size=256,\r\n                    output_dir='./output/', # 输出文件夹\r\n                    filename='FOM.mp4', # 输出文件名\r\n                    use_gpu=True)\r\n\r\nerror：\r\n\r\nTraceback (most recent call last):\r\n  File \"G:/Project/Modality/DigitalHuman/PaddleHub/ExpressionTransfer00.py\", line 3, in <module>\r\n    FOM_Module = hub.Module(name=\"first_order_motion\")\r\n  File \"G:\\Project\\Modality\\DigitalHuman\\PaddleHub\\paddlehub\\module\\module.py\", line 400, in __new__\r\n    **kwargs)\r\n  File \"G:\\Project\\Modality\\DigitalHuman\\PaddleHub\\paddlehub\\module\\module.py\", line 516, in init_with_name\r\n    return user_module_cls(**kwargs)\r\n  File \"C:\\Users\\wuq.DN\\.paddlehub\\modules\\first_order_motion\\module.py\", line 35, in __init__\r\n    face_enhancement=True)\r\n  File \"C:\\Users\\wuq.DN\\.paddlehub\\modules\\first_order_motion\\model.py\", line 103, in __init__\r\n    self.cfg, self.weight_path)\r\n  File \"C:\\Users\\wuq.DN\\.paddlehub\\modules\\first_order_motion\\model.py\", line 221, in load_checkpoints\r\n    **config['model']['common_params'], inference=True)\r\nTypeError: __init__() got an unexpected keyword argument 'inference'",
        "state": "closed",
        "user": "WestbrookZero",
        "closed_by": "WYB27",
        "created_at": "2023-08-03T09:54:59+00:00",
        "updated_at": "2025-06-30T07:06:39+00:00",
        "closed_at": "2025-06-30T07:06:39+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2286,
        "title": "UnicodeDecodeError",
        "body": "- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：paddlepaddle 2.4.0；paddlehub  2.1.1\r\n2）系统环境：win10，python 3.9，使用disco_diffusion_cnclip_vitb16模型\r\n\r\n错误：\r\nTraceback (most recent call last):\r\n  File \"d:\\files\\python_learn_aliyun\\paddlehub2\\test.py\", line 13, in <module>\r\n    da = module.generate_image(text_prompts=\"girl\", artist='a',\r\n  File \"D:\\files\\python_learn_aliyun\\paddlehub2\\paddlehub_py_3.9\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 220, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\manager\\.paddlehub\\modules\\disco_diffusion_cnclip_vitb16\\module.py\", line 137, in generate_image\r\n    return create(text_prompts=text_prompts,\r\n  File \"C:\\Users\\manager\\.paddlehub\\modules\\disco_diffusion_cnclip_vitb16\\reverse_diffusion\\__init__.py\", line 127, in create\r\n    from .config import load_config\r\n  File \"C:\\Users\\manager\\.paddlehub\\modules\\disco_diffusion_cnclip_vitb16\\reverse_diffusion\\config.py\", line 16, in <module>\r\n    default_args = yaml.load(ymlfile, Loader=Loader)\r\n  File \"D:\\files\\python_learn_aliyun\\paddlehub2\\paddlehub_py_3.9\\lib\\site-packages\\yaml\\__init__.py\", line 79, in load\r\n    loader = Loader(stream)\r\n  File \"D:\\files\\python_learn_aliyun\\paddlehub2\\paddlehub_py_3.9\\lib\\site-packages\\yaml\\loader.py\", line 44, in __init__\r\n    Reader.__init__(self, stream)\r\n  File \"D:\\files\\python_learn_aliyun\\paddlehub2\\paddlehub_py_3.9\\lib\\site-packages\\yaml\\reader.py\", line 85, in __init__\r\n    self.determine_encoding()\r\n  File \"D:\\files\\python_learn_aliyun\\paddlehub2\\paddlehub_py_3.9\\lib\\site-packages\\yaml\\reader.py\", line 124, in determine_encoding\r\n    self.update_raw()\r\n  File \"D:\\files\\python_learn_aliyun\\paddlehub2\\paddlehub_py_3.9\\lib\\site-packages\\yaml\\reader.py\", line 178, in update_raw\r\n    data = self.stream.read(size)\r\nUnicodeDecodeError: 'gbk' codec can't decode byte 0x80 in position 70: illegal multibyte sequence",
        "state": "closed",
        "user": "notjiangjiu",
        "closed_by": "WYB27",
        "created_at": "2023-08-07T03:25:27+00:00",
        "updated_at": "2025-06-30T07:06:37+00:00",
        "closed_at": "2025-06-30T07:06:37+00:00",
        "comments_count": [
            "w5688414",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2288,
        "title": "Paddlehub Installation Issues",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n您好！我在安装paddlehub时出现如下问题，不知道如何解决\r\n![4fbfb81d1e683d1a865fa2f28ca1352](https://github.com/PaddlePaddle/PaddleHub/assets/123282841/9a8f62f6-02a2-4815-b670-51c0186f61e6)\r\n版本信息：PaddlePaddle 2.5.1\r\n系统环境：Windows python3.11\r\n",
        "state": "closed",
        "user": "GrailWang",
        "closed_by": "rainyfly",
        "created_at": "2023-08-07T05:11:28+00:00",
        "updated_at": "2023-09-20T11:07:24+00:00",
        "closed_at": "2023-09-20T11:07:24+00:00",
        "comments_count": [
            "fatongxue",
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2287,
        "title": "da[0].save_uri_to_file TypeError ",
        "body": "## 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：PaddleHub 2.2.0，PaddlePaddle 2.4.2\r\n2）系统环境：win10，python 3.9\r\n3）使用模型：disco_diffusion_ernievil_base\r\n\r\n## test.py代码内容（使用示例代码）:\r\n\r\nimport paddlehub as hub\r\n\r\nmodule = hub.Module(name=\"disco_diffusion_ernievil_base\")\r\ntext_prompts = [\"孤舟蓑笠翁，独钓寒江雪。\"]\r\nda = module.generate_image(text_prompts=text_prompts, artist='齐白石', output_dir='./disco_diffusion_ernievil_base_out/')  \r\nda[0].save_uri_to_file('disco_diffusion_ernievil_base_out-result.png')\r\n\r\n## 运行及报错内容：\r\n╭─────────────────────────┬────────────────────────────────────────────────────────────╮\r\n│                Argument │ Value                                                      │\r\n├─────────────────────────┼────────────────────────────────────────────────────────────┤\r\n│              batch_name │                                                            │\r\n│              batch_size │ 1                                                          │\r\n│              clamp_grad │ True                                                       │\r\n│               clamp_max │ 0.05                                                       │\r\n│           clip_denoised │ False                                                      │\r\n│     clip_guidance_scale │ 5000                                                       │\r\n│             clip_models │ ['vit_b_16x']                                              │\r\n│              cut_ic_pow │ 1                                                          │\r\n│            cut_icgray_p │ [0.2]*400+[0]*600                                          │\r\n│            cut_innercut │ [4]*400+[12]*600                                           │\r\n│            cut_overview │ [12]*400+[4]*600                                           │\r\n│            cutn_batches │ 4                                                          │\r\n│         diffusion_model │ 512x512_diffusion_uncond_finetune_008100                   │\r\n│ diffusion_sampling_mode │ ddim                                                       │\r\n│            display_rate │ 10                                                         │\r\n│                     eta │ 0.8                                                        │\r\n│            fuzzy_prompt │ False                                                      │\r\n│              init_image │ None                                                       │\r\n│              init_scale │ 1000                                                       │\r\n│               n_batches │ 1                                                          │\r\n│           name_docarray │ disco_diffusion_ernievil_base.reverse_diffusion-4153915605 │\r\n│              output_dir │ ./disco_diffusion_ernievil_base_out/                       │\r\n│             perlin_init │ False                                                      │\r\n│             perlin_mode │ mixed                                                      │\r\n│                rand_mag │ 0.05                                                       │\r\n│         randomize_class │ True                                                       │\r\n│             range_scale │ 0                                                          │\r\n│               sat_scale │ 0                                                          │\r\n│                    seed │ 4153915605                                                 │\r\n│              skip_steps │ 0                                                          │\r\n│                   steps │ 250                                                        │\r\n│            text_prompts │ ['孤舟蓑笠翁，独钓寒江雪，由齐白石所作']                   │\r\n│                tv_scale │ 0                                                          │\r\n│     use_secondary_model │ True                                                       │\r\n│            width_height │ [1280, 768]                                                │\r\n╰─────────────────────────┴────────────────────────────────────────────────────────────╯\r\n2023-08-07 12:42:21,510 - disco_diffusion_ernievil_base.reverse_diffusion - INFO - preparing models...\r\n[2023-08-07 12:42:21,510] [    INFO] runner.py:33 - preparing models...\r\nSetting up [LPIPS] perceptual loss: trunk [vgg], v[0.1], spatial [off]\r\nLoading model from: D:\\files\\python_learn_aliyun\\paddlehub2\\paddlehub_py_3.9\\lib\\site-packages\\paddle_lpips\\weights\\v0.1\\vgg.pdparams\r\n2023-08-07 12:42:46,164 - disco_diffusion_ernievil_base.reverse_diffusion - INFO - creating artwork...\r\n[2023-08-07 12:42:46,164] [    INFO] runner.py:194 - creating artwork...\r\ndisco_diffusion_ernievil_base.reverse_diffusion-4153915605 Output()\r\n  0%|                                                                                                      | 0/250 [07:50<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"D:\\files\\python_learn_aliyun\\paddlehub2\\test.py\", line 29, in <module>\r\n    da[0].save_uri_to_file('disco_diffusion_ernievil_base_out-result.png')\r\nTypeError: 'NoneType' object is not subscriptable",
        "state": "closed",
        "user": "notjiangjiu",
        "closed_by": "WYB27",
        "created_at": "2023-08-07T05:01:43+00:00",
        "updated_at": "2025-06-30T07:06:35+00:00",
        "closed_at": "2025-06-30T07:06:35+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2290,
        "title": "Process finished with exit code -1073740791 (0xC0000409)",
        "body": "**code：**\r\nimport paddlehub as hub\r\n\r\nW2F_Module = hub.Module(name=\"wav2lip\")\r\nW2F_Module.wav2lip_transfer(face='output/FOM.mp4',\r\n                            audio='wavs/1.wav',\r\n                            output_dir='./transfer_result/',\r\n                            use_gpu=True)\r\n\r\n**environment:**\r\nwin10 、python3.7 、paddlehub=2.3.1 、paddlepaddle=2.4、paddlepaddle-gpu=2.4、typeguard=2.13.3\r\ncuda=10.2  cudnn=7.6\r\n\r\n**error:**\r\n[08/08 13:27:38] ppgan INFO: Found C:\\Users\\wuq.DN\\.cache\\ppgan\\GPEN-512.pdparams\r\nW0808 13:27:40.043895 14896 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 11.4, Runtime API Version: 10.2\r\nW0808 13:27:40.055925 14896 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\nReading video frames...\r\nNumber of frames available for inference: 300\r\nLength of mel chunks: 123\r\nModel loaded\r\n  0%|          | 0/1 [00:00<?, ?it/s]\r\n  0%|          | 0/8 [00:00<?, ?it/s]\r\nProcess finished with exit code -1073740791 (0xC0000409)\r\n",
        "state": "closed",
        "user": "WestbrookZero",
        "closed_by": "WYB27",
        "created_at": "2023-08-08T07:03:25+00:00",
        "updated_at": "2025-06-30T07:06:31+00:00",
        "closed_at": "2025-06-30T07:06:31+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2289,
        "title": "Hub 服务运行一段时间后，无故退出",
        "body": "本人在 Deepin 20.9 系统中的 Anaconda3-2023.03 虚拟环境 Python 3.9.17 中安装的本 OCR 服务。\r\n其它各种依赖环境/软件等版本如下：\r\nch_ppocr_mobile_v2.0\r\nch_PP-OCRv2\r\n\r\npaddlepaddle-gpu    2.4.2.post117\r\npaddlehub                 2.3.1\r\n\r\nNvidia Driver             535.54.03\r\nCUDA Version           11.7.1\r\n\r\n找到一条退出时的日志信息如下：\r\nkernel: traps: hub[197635] general protection fault ip:7ff2a1b149c8 sp:7fff9800e670 error:0 in _multiarray_umath.cpython-39-x86_64-linux-gnu.so[7ff2a1ae8000+36c000]\r\n\r\n发生了多次进程退出的情况，其中有一次进程退出后，占用的端口 8866 还在，无法释放，最后只能重启服务器解决。\r\n\r\n另外第二种情况：偶尔还会出现 watchdog 错误，报 hard lookup  某个 CPU 内核，然后还有 soft lookup。有时能恢复正常，有时 load average 会越来越高，最后死机。watchdog_thresh 改到最大也没有。\r\n\r\n还有第三种情况：有时服务一段时间后进程还在，系统也正常，但是对接口请求没有任何影响。只能停止服务再重新启动。\r\n\r\n还有一个问题就是：hubserving 的多进程不能用，只要在配置文件 config.json 中 把 use_multiprocess 改为 true，就不能正常服务器，所有请求都出错。网上说应该是多进程和cuda框架的加载顺序问题，不过对本系统不熟，不清楚如何改。",
        "state": "closed",
        "user": "huye",
        "closed_by": "WYB27",
        "created_at": "2023-08-07T05:36:36+00:00",
        "updated_at": "2025-06-30T07:06:33+00:00",
        "closed_at": "2025-06-30T07:06:33+00:00",
        "comments_count": [
            "736048546",
            "huye",
            "huye",
            "w5688414",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2291,
        "title": "PADDLEHUB支持python3.11吗？",
        "body": "paddlehub支持python3.11吗",
        "state": "closed",
        "user": "QL-AR",
        "closed_by": "WYB27",
        "created_at": "2023-08-11T12:56:56+00:00",
        "updated_at": "2025-06-30T07:06:29+00:00",
        "closed_at": "2025-06-30T07:06:29+00:00",
        "comments_count": [
            "w5688414",
            "leftsl",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2292,
        "title": "有没有可以进行文档问答的模型呢",
        "body": "我想找一个文档问答的模型，就是自己添加文档和问题然后返回的这一种",
        "state": "closed",
        "user": "1042312930",
        "closed_by": "WYB27",
        "created_at": "2023-08-15T03:30:53+00:00",
        "updated_at": "2025-06-30T07:06:28+00:00",
        "closed_at": "2025-06-30T07:06:27+00:00",
        "comments_count": [
            "w5688414",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2293,
        "title": "怎么实现多卡多进程预测，关于use_gpu : true写在config外层不能正常启动服务",
        "body": "PaddleHub2.3.1，PaddlePaddle2.4.2.post112，python3.7\r\n您好，请问我按照下面的这个评论\r\nhttps://github.com/PaddlePaddle/PaddleHub/issues/1726#issuecomment-990760523\r\n设置了一模一样的config，如下\r\n{\r\n    \"modules_info\": {\r\n        \"ocr_system\": {\r\n            \"init_args\": {\r\n                \"version\": \"1.0.0\",\r\n                \"use_gpu\": true\r\n            },\r\n            \"predict_args\": {\r\n            }\r\n        }\r\n    },\r\n    \"port\": 8868,\r\n    \"use_multiprocess\": false,\r\n    \"use_gpu\": true,\r\n    \"gpu\": \"0,1,2,3\"\r\n}\r\n\r\n为什么hub serving start时，显示内容如下\r\n 599329892daa /paddle/gjz/PaddleOCR hub serving start -c deploy/hubserving/ocr_system/config.json\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\n[2023-08-15 11:04:08 +0000] [15418] [INFO] Starting gunicorn 21.2.0\r\n[2023-08-15 11:04:08 +0000] [15418] [INFO] Listening at: http://0.0.0.0:8868 (15418)\r\n[2023-08-15 11:04:08 +0000] [15418] [INFO] Using worker: sync\r\n[2023-08-15 11:04:08 +0000] [15423] [INFO] Booting worker with pid: 15423\r\n[2023-08-15 11:04:08 +0000] [15436] [INFO] Booting worker with pid: 15436\r\n[2023-08-15 11:04:08 +0000] [15454] [INFO] Booting worker with pid: 15454\r\n[2023-08-15 11:04:08 +0000] [15456] [INFO] Booting worker with pid: 15456\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\nuse gpu:  True\r\nCUDA_VISIBLE_DEVICES:  1\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\nuse gpu:  True\r\nCUDA_VISIBLE_DEVICES:  3\r\nuse gpu:  True\r\nCUDA_VISIBLE_DEVICES:  0\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\nuse gpu:  True\r\nCUDA_VISIBLE_DEVICES:  2\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script`\r\n\r\n向其发送请求返回的错误如下：\r\n599329892daa /paddle/gjz/PaddleOCR python3 tools/test_hubserving.py --server_url=http://127.0.0.1:8868/predict/ocr_system --image_dir=./doc/64pic/ --visualize=false\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\n[2023/08/15 11:04:33] ppocr INFO: Predict time of ./doc/64pic/1.jpg: 0.041s\r\nTraceback (most recent call last):\r\n  File \"tools/test_hubserving.py\", line 158, in <module>\r\n    main(args)\r\n  File \"tools/test_hubserving.py\", line 119, in main\r\n    res = r.json()[\"results\"][0]\r\nIndexError: string index out of range\r\n————————————————————————————————————————————————————————\r\n\r\n而正常只设置单卡时成功启动服务的输出如下：\r\nλ 599329892daa /paddle/gjz/PaddleOCR hub serving start -c deploy/hubserving/ocr_system/config.json\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\n[2023-08-15 11:12:20,073] [ WARNING] - The _initialize method in HubModule will soon be deprecated, you can use the __init__() to handle the initialization of the object\r\nuse gpu:  True\r\nCUDA_VISIBLE_DEVICES:  1\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\n * Serving Flask app \"paddlehub.serving.app_compat\" (lazy loading)\r\n * Environment: production\r\n   WARNING: This is a development server. Do not use it in a production deployment.\r\n   Use a production WSGI server instead.\r\n * Debug mode: off\r\n * Running on http://0.0.0.0:8868/ (Press CTRL+C to quit)`\r\n\r\n————————————————————————————————————————————————————————\r\n\r\n而且我发现当我把config中的use_gpu : true写在最外层，即使是单卡，也会不能成功启动服务，输出如下\r\nλ 599329892daa /paddle/gjz/PaddleOCR hub serving start -c deploy/hubserving/ocr_system/config.json\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\n[2023-08-15 11:11:19 +0000] [15953] [INFO] Starting gunicorn 21.2.0\r\n[2023-08-15 11:11:19 +0000] [15953] [INFO] Listening at: http://0.0.0.0:8868 (15953)\r\n[2023-08-15 11:11:19 +0000] [15953] [INFO] Using worker: sync\r\n[2023-08-15 11:11:19 +0000] [15959] [INFO] Booting worker with pid: 15959\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\nuse gpu:  True\r\nCUDA_VISIBLE_DEVICES:  1\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\n\r\n\r\n只有把在外层的use_gpu : true 去掉，才可以正常启动服务。那么，该怎样实现多卡多进程呢？",
        "state": "closed",
        "user": "JeremyGe07",
        "closed_by": "WYB27",
        "created_at": "2023-08-15T11:20:32+00:00",
        "updated_at": "2025-06-30T07:06:26+00:00",
        "closed_at": "2025-06-30T07:06:26+00:00",
        "comments_count": [
            "w5688414",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2296,
        "title": "真的要疯 PaddleHub还有研发维护嘛 ，不维护可不可以保持下之前稳定的版本 ，现在一直出现各种包冲突",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n真的要疯 PaddleHub还有研发维护嘛 ，不维护可不可以保持下之前稳定的版本 ，现在一直出现各种包冲突\r\n真的要疯 PaddleHub还有研发维护嘛 ，不维护可不可以保持下之前稳定的版本 ，现在一直出现各种包冲突\r\n",
        "state": "closed",
        "user": "whisky-12",
        "closed_by": "rainyfly",
        "created_at": "2023-08-23T09:12:11+00:00",
        "updated_at": "2023-09-20T11:00:30+00:00",
        "closed_at": "2023-09-20T11:00:30+00:00",
        "comments_count": [
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2294,
        "title": "GPU利用率问题，有什么设置的地方吗，单个服务的GPU利用率有地方限制了",
        "body": "PaddleHub2.3.1，PaddlePaddle2.4.2.post112，python3.7 ， A10\r\n\r\n启动单个OCR识别服务，请求一组图片，观察推理的这段时间GPU利用率在20%左右，一直不会超过30%。\r\n这样的话同时向该服务发送2个请求，每个请求的推理时间的都会变慢。\r\n请问有什么地方可以修改这个GPU利用率限制吗，否则是不是只能启动多个服务了",
        "state": "closed",
        "user": "JeremyGe07",
        "closed_by": "JeremyGe07",
        "created_at": "2023-08-17T08:07:38+00:00",
        "updated_at": "2023-08-17T08:38:50+00:00",
        "closed_at": "2023-08-17T08:36:55+00:00",
        "comments_count": [
            "JeremyGe07"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2295,
        "title": "docker 部署 hubserving 启动hub启动报错 ModuleNotFoundError: No module named 'paddle.nn.layer.layers'",
        "body": "## docker 部署 hubserving 启动hub启动报错 `ModuleNotFoundError: No module named 'paddle.nn.layer.layers'`\r\n\r\n**版本:**\r\n- PaddleHub 2.3.1\r\n- PaddlePaddle 2.3.2\r\n\r\n**系统环境:** \r\n- CentOS7\r\n- docker镜像 `registry.baidubce.com/paddlepaddle/paddle:2.3.2`\r\n\r\n```docker file\r\nFROM registry.baidubce.com/paddlepaddle/paddle:2.3.2\r\n\r\nRUN pip3.7 install --upgrade pip -i https://mirror.baidu.com/pypi/simple\r\n\r\nRUN pip3.7 install paddlehub==2.3.1 --upgrade -i https://mirror.baidu.com/pypi/simple\r\n\r\nCMD hub\r\n```\r\n\r\n**错误信息：**\r\n```shell\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/hub\", line 5, in <module>\r\n    from paddlehub.commands.utils import execute\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/__init__.py\", line 31, in <module>\r\n    from paddlehub import datasets\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/datasets/__init__.py\", line 16, in <module>\r\n    from paddlehub.datasets.chnsenticorp import ChnSentiCorp\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/datasets/chnsenticorp.py\", line 19, in <module>\r\n    from paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlehub/datasets/base_nlp_dataset.py\", line 21, in <module>\r\n    import paddlenlp\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/__init__.py\", line 35, in <module>\r\n    from . import (\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/data/__init__.py\", line 16, in <module>\r\n    from .data_collator import *\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/data/data_collator.py\", line 26, in <module>\r\n    from ..transformers import BertTokenizer\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/transformers/__init__.py\", line 17, in <module>\r\n    from .model_utils import PretrainedModel, register_base_model\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/transformers/model_utils.py\", line 63, in <module>\r\n    from .generation_utils import GenerationMixin\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddlenlp/transformers/generation_utils.py\", line 29, in <module>\r\n    from paddle.nn.layer.layers import in_declarative_mode\r\nModuleNotFoundError: No module named 'paddle.nn.layer.layers'\r\n```\r\n**解决方法：**\r\n\r\n`pip3.7 install paddlehub==2.3.1`  会安装最新版本 `paddlenlp 2.6.0`将paddlenlp降级到2.5.2解决\r\n\r\n![image](https://github.com/PaddlePaddle/PaddleHub/assets/55480703/36e1fec1-ef94-4b82-910f-cc0c15e40df4)\r\n\r\n\r\n**起因：**\r\n\r\n之前构建的镜像突然不能正常运行，可能和更新最新版本有关，不知道我这样构建镜像是否能锁定运行环境版本\r\n\r\n",
        "state": "closed",
        "user": "szzii",
        "closed_by": "sijunhe",
        "created_at": "2023-08-18T09:01:06+00:00",
        "updated_at": "2024-04-17T08:58:25+00:00",
        "closed_at": "2024-04-17T08:58:24+00:00",
        "comments_count": [
            "SeuHkx",
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2297,
        "title": "真的要疯 PaddleHub还有研发维护嘛 ，不维护可不可以保持下之前稳定的版本 ，现在一直出现各种包冲突",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n真的要疯 PaddleHub还有研发维护嘛 ，不维护可不可以保持下之前稳定的版本 ，现在一直出现各种包冲突\r\n真的要疯 PaddleHub还有研发维护嘛 ，不维护可不可以保持下之前稳定的版本 ，现在一直出现各种包冲突\r\n真的要疯 PaddleHub还有研发维护嘛 ，不维护可不可以保持下之前稳定的版本 ，现在一直出现各种包冲突真的要疯 PaddleHub还有研发维护嘛 ，不维护可不可以保持下之前稳定的版本 ，现在一直出现各种包冲突",
        "state": "closed",
        "user": "whisky-12",
        "closed_by": "rainyfly",
        "created_at": "2023-08-23T09:12:12+00:00",
        "updated_at": "2023-09-20T10:39:08+00:00",
        "closed_at": "2023-09-20T10:39:08+00:00",
        "comments_count": [
            "C4a15Wh",
            "C4a15Wh",
            "whisky-12",
            "schild",
            "Eason-zz",
            "736048546",
            "git8949",
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2298,
        "title": "有效版本",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nPython 3.9.5\r\npip install paddlehub==2.3.1 -i https://mirror.baidu.com/pypi/simple\r\npip install paddlepaddle==2.4.0 -i https://mirror.baidu.com/pypi/simple\r\npip install paddlenlp==2.5.2 -i https://mirror.baidu.com/pypi/simple\r\n\r\nhub install stylepro_artistic==1.0.1\r\n\r\n",
        "state": "closed",
        "user": "kenkieo",
        "closed_by": "rainyfly",
        "created_at": "2023-08-24T10:14:47+00:00",
        "updated_at": "2023-09-20T10:59:39+00:00",
        "closed_at": "2023-09-20T10:59:39+00:00",
        "comments_count": [
            "SeuHkx",
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2299,
        "title": "python 3.9版本和3.8版本安装最新版本paddleHub一直提示包冲突，降级为3.7版本后安装paddlehub==2.1.0和paddle为2.4.2版本又提示另一个包冲突",
        "body": "![1694468953101](https://github.com/PaddlePaddle/PaddleHub/assets/54653996/7091ab71-d382-4afc-97ec-a1f10f57e23e)\r\n\r\n请问现在能跑的版本是多少呢 ",
        "state": "closed",
        "user": "736048546",
        "closed_by": "rainyfly",
        "created_at": "2023-09-11T21:52:27+00:00",
        "updated_at": "2023-09-25T07:39:03+00:00",
        "closed_at": "2023-09-20T11:00:54+00:00",
        "comments_count": [
            "736048546",
            "rainyfly",
            "736048546"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2300,
        "title": "bug::AttributeError: module 'paddle' has no attribute 'version' ",
        "body": "when I install paddleHub \r\n`import paddlehub as hub`\r\n <AttributeError                            Traceback (most recent call last)\r\n[<ipython-input-47-e6d9344ab8a2>](https://localhost:8080/#) in <cell line: 1>()\r\n----> 1 import paddlehub as hub\r\n\r\n8 frames\r\n[/usr/local/lib/python3.10/dist-packages/paddlenlp/transformers/ernie_ctm/modeling.py](https://localhost:8080/#) in <module>\r\n     33 )\r\n     34 \r\n---> 35 if compare_version(paddle.version.full_version, \"2.2.0\") >= 0:\r\n     36     # paddle.text.ViterbiDecoder is supported by paddle after version 2.2.0\r\n     37     from paddle.text import ViterbiDecoder\r\n\r\nAttributeError: module 'paddle' has no attribute 'version'>",
        "state": "closed",
        "user": "Haeppypuppy",
        "closed_by": "rainyfly",
        "created_at": "2023-09-15T08:41:39+00:00",
        "updated_at": "2023-09-20T11:01:25+00:00",
        "closed_at": "2023-09-20T11:01:24+00:00",
        "comments_count": [
            "rainyfly"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2302,
        "title": "PaddleHub有效版本",
        "body": "Paddle框架在2.5.0之后逐渐移除了paddle.fluid接口。PaddleHub也把能够移除或者替换的fluid接口都进行了相应的移除和替换，并且将移除fluid后的代码从Develop分支checkout了新的release/v2.4分支，发布v2.4.0版本。对于v1版本的使用静态图以及paddle.fluid有关接口的模块不再维护，如果需要跑，可以切换到paddlehub v2.2 ,  paddle 2.2之前更早的版本跑这些v1版本的模块。\r\n\r\n版本关系如下：\r\npaddlehub <= 2.3  配合 paddlepaddle <=2.4\r\npaddlehub >= 2.4 配合paddlepaddle >= 2.5\r\n\r\n现阶段有效版本可按如下方式安装（以anaconda作为环境管理工具为例）：\r\n```bash\r\nconda create -n py38 python==3.8\r\nconda activate py38\r\npython -m pip install paddlepaddle-gpu==2.5.1 -i https://pypi.tuna.tsinghua.edu.cn/simple\r\npip install paddlehub==2.4.0\r\n```",
        "state": "closed",
        "user": "rainyfly",
        "closed_by": "WYB27",
        "created_at": "2023-09-20T10:56:55+00:00",
        "updated_at": "2025-06-30T07:06:24+00:00",
        "closed_at": "2025-06-30T07:06:24+00:00",
        "comments_count": [
            "tonyliu088",
            "kalixim",
            "w5688414",
            "wkk778",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2303,
        "title": "多模型串联部署启动后如何调用",
        "body": "<img width=\"1249\" alt=\"微信图片_20230921175504\" src=\"https://github.com/PaddlePaddle/PaddleHub/assets/23415009/e7209f38-c3dc-40ba-a9df-2240372c35a3\">\r\n多模型串联部署启动后，我应该如何调用测试",
        "state": "closed",
        "user": "TD111111",
        "closed_by": "WYB27",
        "created_at": "2023-09-21T09:55:55+00:00",
        "updated_at": "2025-06-30T07:06:22+00:00",
        "closed_at": "2025-06-30T07:06:22+00:00",
        "comments_count": [
            "w5688414",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2306,
        "title": "face_landmark_localization 安装报错",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？        paddlepaddle 2.1.2  paddlehub 2.0.4环境下 安装\r\n- 什么样的场景下需要该特性？  由于使用多个模型，需要对齐安装环境。\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "FlameFlowing",
        "closed_by": "FlameFlowing",
        "created_at": "2023-10-09T01:03:11+00:00",
        "updated_at": "2023-10-09T16:10:55+00:00",
        "closed_at": "2023-10-09T16:10:55+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2307,
        "title": "paddlehub调用stable_diffusion生成图片时怎么更改保存的图片名",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "xujili8691",
        "closed_by": "sijunhe",
        "created_at": "2023-10-10T08:39:46+00:00",
        "updated_at": "2024-04-17T08:57:34+00:00",
        "closed_at": "2024-04-17T08:57:33+00:00",
        "comments_count": [
            "w5688414",
            "sijunhe"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2308,
        "title": "paddlehub.module.manager.EnvironmentMismatchError: tsn_kinetics400 cannot be installed because some conditions are not met:",
        "body": "+---------------+----------+-----------------------------------+-----------------------------------+\r\n|     Name      | Version  |   PaddlePaddle Version Required   |    PaddleHub Version Required     |\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n|tsn_kinetics400|  1.0.0   |         <=2.1.0(Mismatch)         |              <=2.2.0              |\r\n+---------------+----------+-----------------------------------+-----------------------------------+\r\n\r\n请问这是必须要把PaddlePaddle 降到 <=2.1.0么",
        "state": "closed",
        "user": "tonyliu088",
        "closed_by": "WYB27",
        "created_at": "2023-10-16T01:51:30+00:00",
        "updated_at": "2025-06-30T07:06:20+00:00",
        "closed_at": "2025-06-30T07:06:20+00:00",
        "comments_count": [
            "w5688414",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2309,
        "title": "Can't Download",
        "body": "`python3 -m pip install paddlepaddle-gpu==2.5.1.post120 -f https://www.paddlepaddle.org.cn/whl/linux/cudnnin/stable.html`\r\n\r\nThe download from server is too slow.",
        "state": "closed",
        "user": "satpalsr",
        "closed_by": "sijunhe",
        "created_at": "2023-10-17T12:55:31+00:00",
        "updated_at": "2024-03-17T05:40:24+00:00",
        "closed_at": "2024-03-17T05:40:24+00:00",
        "comments_count": [
            "w5688414"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2313,
        "title": "Enable Private Vulnerability Reporting in GitHub",
        "body": "\nIn your repository, we have found a bug that may require your attention. We do not want to disclose the details. Therefore, we request you to enable private vulnerability reporting in your repository.\n\n### Sponsorship and Support:\nThis work is done by the security researchers from OpenRefactory and is supported by the [Open Source Security Foundation (OpenSSF)](https://openssf.org/): [Project Alpha-Omega](https://alpha-omega.dev/). Alpha-Omega is a project partnering with open source software project maintainers to systematically find new, as-yet-undiscovered vulnerabilities in open source code - and get them fixed - to improve global software supply chain security.\n\nThe bug is found by running the iCR tool by [OpenRefactory, Inc.](https://openrefactory.com/) and then manually triaging the results. \n    ",
        "state": "closed",
        "user": "ZuhairORZaki",
        "closed_by": "sijunhe",
        "created_at": "2023-11-16T10:48:54+00:00",
        "updated_at": "2024-03-04T03:48:02+00:00",
        "closed_at": "2024-03-04T03:48:02+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2311,
        "title": "ERROR: Could not build wheels for onnx, which is required to install pyproject.toml-based projects",
        "body": "pip install paddlehub==2.1.0 下载失败，在此之前pip install paddlepaddle -U是下载成功了\r\n系统:Windows 10 教育版\r\npython版本:3.11.3\r\nconda版本:23.5.2\r\n部分错误代码：      Traceback (most recent call last):\r\n        File \"F:\\anaconda\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 353, in <module>\r\n          main()\r\n        File \"F:\\anaconda\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 335, in main\r\n          json_out['return_val'] = hook(**hook_input['kwargs'])\r\n                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"F:\\anaconda\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 251, in build_wheel\r\n          return _build_backend().build_wheel(wheel_directory, config_settings,\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 434, in build_wheel      \r\n          return self._build_with_temp_dir(\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 419, in _build_with_temp_dir\r\n          self.run_setup()\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 507, in run_setup        \r\n          super(_BuildMetaLegacyBackend, self).run_setup(setup_script=setup_script)\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 341, in run_setup        \r\n          exec(code, locals())\r\n        File \"<string>\", line 337, in <module>\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\__init__.py\", line 103, in setup\r\n          return distutils.core.setup(**attrs)\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\core.py\", line 185, in setup       \r\n          return run_commands(dist)\r\n                 ^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\core.py\", line 201, in run_commands          dist.run_commands()\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 969, in run_commands          self.run_command(cmd)\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\dist.py\", line 989, in run_command\r\n          super().run_command(command)\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command \r\n          cmd_obj.run()\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\wheel\\bdist_wheel.py\", line 364, in run\r\n          self.run_command(\"build\")\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 318, in run_command  \r\n          self.distribution.run_command(command)\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\dist.py\", line 989, in run_command\r\n          super().run_command(command)\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command \r\n          cmd_obj.run()\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\command\\build.py\", line 131, in run          self.run_command(cmd_name)\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 318, in run_command  \r\n          self.distribution.run_command(command)\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\dist.py\", line 989, in run_command\r\n          super().run_command(command)\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command \r\n          cmd_obj.run()\r\n        File \"<string>\", line 233, in run\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 318, in run_command  \r\n          self.distribution.run_command(command)\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\dist.py\", line 989, in run_command\r\n          super().run_command(command)\r\n        File \"C:\\Users\\Administrator\\AppData\\Local\\Temp\\pip-build-env-0oie5k26\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command \r\n          cmd_obj.run()\r\n        File \"<string>\", line 227, in run\r\n        File \"F:\\anaconda\\Lib\\subprocess.py\", line 413, in check_call\r\n          raise CalledProcessError(retcode, cmd)\r\n      subprocess.CalledProcessError: Command '['F:\\\\anaconda\\\\Library\\\\bin\\\\cmake.exe', '--build', '.', '--config', 'Release', '--', '/maxcpucount:4']' returned non-zero exit status 1.\r\n      [end of output]\r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  ERROR: Failed building wheel for onnx\r\nFailed to build onnx\r\nERROR: Could not build wheels for onnx, which is required to install pyproject.toml-based projects",
        "state": "closed",
        "user": "dlaoy",
        "closed_by": "WYB27",
        "created_at": "2023-10-24T09:14:54+00:00",
        "updated_at": "2025-06-30T07:06:18+00:00",
        "closed_at": "2025-06-30T07:06:18+00:00",
        "comments_count": [
            "ahbon123",
            "willove",
            "w5688414",
            "itmeicn",
            "w5688414",
            "itmeicn",
            "itmeicn",
            "dlaoy",
            "itmeicn",
            "yoyalin",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2312,
        "title": "PaddleHub与PaddlePaddle版本兼容问题",
        "body": "1）PaddleHub和PaddlePaddle版本：\r\nPaddleHub2.4.0，PaddlePaddle2.5.1\r\n2）系统环境：\r\nWindows10，python3.8\r\n3）复现信息：\r\n使用hub install命令，安装https://www.paddlepaddle.org.cn/hublist 中大部分模型，都会有不同内容的报错，举例如下：\r\n- hub install ge2e_fastspeech2_pwgan\r\n- 报错如下：\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 224, in search\r\n    module = self._local_modules[name] = HubModule.load(module_dir)\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\module\\module.py\", line 423, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\utils\\utils.py\", line 250, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 843, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"D:\\PaddleHub\\modules\\ge2e_fastspeech2_pwgan\\module.py\", line 27, in <module>\r\n    from paddlespeech.t2s.frontend.zh_frontend import Frontend\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\__init__.py\", line 19, in <module>\r\n    from . import models\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\models\\__init__.py\", line 14, in <module>\r\n    from .ernie_sat import *\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\models\\ernie_sat\\__init__.py\", line 14, in <module>\r\n    from .ernie_sat import *\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\models\\ernie_sat\\ernie_sat.py\", line 21, in <module>\r\n    from paddlespeech.t2s.modules.activation import get_activation\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\modules\\__init__.py\", line 16, in <module>\r\n    from .losses import *\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\modules\\losses.py\", line 16, in <module>\r\n    import librosa\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\librosa\\__init__.py\", line 211, in <module>\r\n    from . import core\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\librosa\\core\\__init__.py\", line 9, in <module>\r\n    from .constantq import *  # pylint: disable=wildcard-import\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\librosa\\core\\constantq.py\", line 1059, in <module>\r\n    dtype=np.complex,\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\numpy\\__init__.py\", line 305, in __getattr__\r\n    raise AttributeError(__former_attrs__[attr])\r\nAttributeError: module 'numpy' has no attribute 'complex'.\r\n`np.complex` was a deprecated alias for the builtin `complex`. To avoid this error in existing code, use `complex` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.complex128` here.\r\nThe aliases was originally deprecated in NumPy 1.20; for more details and guidance see the original release note at:\r\n    https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n**以及以下错误：**\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 84, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\commands\\install.py\", line 55, in execute\r\n    manager.install(name=name, version=version, ignore_env_mismatch=args.ignore_env_mismatch)\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 265, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 380, in _install_from_archive\r\n    return self._install_from_directory(directory)\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\module\\manager.py\", line 364, in _install_from_directory\r\n    hub_module_cls = HubModule.load(self._get_normalized_path(module_info.name))\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\module\\module.py\", line 423, in load\r\n    py_module = utils.load_py_module(dirname, '{}.module'.format(basename))\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlehub\\utils\\utils.py\", line 250, in load_py_module\r\n    py_module = importlib.import_module(py_module_name)\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\importlib\\__init__.py\", line 127, in import_module\r\n    return _bootstrap._gcd_import(name[level:], package, level)\r\n  File \"<frozen importlib._bootstrap>\", line 1014, in _gcd_import\r\n  File \"<frozen importlib._bootstrap>\", line 991, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 975, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 671, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap_external>\", line 843, in exec_module\r\n  File \"<frozen importlib._bootstrap>\", line 219, in _call_with_frames_removed\r\n  File \"D:\\PaddleHub\\modules\\ge2e_fastspeech2_pwgan\\module.py\", line 28, in <module>\r\n    from paddlespeech.t2s.models.fastspeech2 import FastSpeech2\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\__init__.py\", line 20, in <module>\r\n    from . import models\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\models\\__init__.py\", line 14, in <module>\r\n    from .fastspeech2 import *\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\models\\fastspeech2\\__init__.py\", line 14, in <module>\r\n    from .fastspeech2 import *\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\models\\fastspeech2\\fastspeech2.py\", line 27, in <module>\r\n    from paddlespeech.t2s.modules.nets_utils import initialize\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\modules\\__init__.py\", line 16, in <module>\r\n    from .losses import *\r\n  File \"D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddlespeech\\t2s\\modules\\losses.py\", line 18, in <module>\r\n    from paddle.fluid.layers import sequence_mask\r\nImportError: cannot import name 'sequence_mask' from 'paddle.fluid.layers' (D:\\anaconda3\\envs\\paddle_env_wal2lip\\lib\\site-packages\\paddle\\fluid\\layers\\__init__.py)\r\n",
        "state": "closed",
        "user": "shenmejianghu",
        "closed_by": "sijunhe",
        "created_at": "2023-11-01T02:59:55+00:00",
        "updated_at": "2024-03-17T05:40:15+00:00",
        "closed_at": "2024-03-17T05:40:14+00:00",
        "comments_count": [
            "w5688414"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2316,
        "title": "请问ernie_skep_sentiment_analysis 有没有文本输入长度限制。",
        "body": "请问在哪里可以查阅ernie_skep_sentiment_analysis相关文档或者指南呢？有自己动手复现的例子吗？",
        "state": "closed",
        "user": "thehzzz",
        "closed_by": "thehzzz",
        "created_at": "2023-12-13T06:35:25+00:00",
        "updated_at": "2023-12-13T06:40:02+00:00",
        "closed_at": "2023-12-13T06:40:02+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2314,
        "title": "运行代码时报错：生成图片超限，如何解决？",
        "body": "PaddleHub2.4.0，PaddlePaddle2.5.2\r\n系统环境：Windows\r\npython版本：3.9.18\r\n报错：在进行预测代码示例中，运行images = module.generate_image(text_prompts=text_prompts, style='油画', output_dir='./ernie_vilg_out/')后报错\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\n  File \"C:\\Users\\k\\anaconda3\\envs\\wm\\lib\\site-packages\\paddlehub\\compat\\paddle_utils.py\", line 221, in runner\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\k\\.paddlehub\\modules\\ernie_vilg\\module.py\", line 121, in generate_image\r\n    raise RuntimeError(res['msg'])\r\nRuntimeError: 生成图片超限",
        "state": "closed",
        "user": "wm-95",
        "closed_by": "WYB27",
        "created_at": "2023-12-04T08:56:45+00:00",
        "updated_at": "2025-06-30T07:06:16+00:00",
        "closed_at": "2025-06-30T07:06:16+00:00",
        "comments_count": [
            "michaelowenliu",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2315,
        "title": "如何微调？",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "closed",
        "user": "lk2003atnet",
        "closed_by": "WYB27",
        "created_at": "2023-12-12T06:05:55+00:00",
        "updated_at": "2025-06-30T07:06:14+00:00",
        "closed_at": "2025-06-30T07:06:14+00:00",
        "comments_count": [
            "michaelowenliu",
            "leftsl",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2318,
        "title": "在windows图像风格迁移时候最后一步运行style_transfer.py出现报错，     UnimplementedError: There are no kernels which are registered in the pad2d operator.       [Hint: Expected kernels_iter != all_op_kernels.end(), but received kernels_iter == all_op_kernels.end().] (at ..\\paddle\\fluid\\framework\\operator.cc:2273)       [operator < pad2d > error]",
        "body": "\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：我的paddlepaddle版本是2.6.0，paddlehub版本是2.4.0，stylepro_artistic版本是1.0.3，numpy版本是1.24.4\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本3.8\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n复现环境 windows11,集成显卡intel(R)Irs(R)xeGraphics，使用工具conda prompt，style_transfer.py代码为import paddlehub as hub\r\nimport cv2\r\n\r\n# 待转换图片的绝对地址\r\npicture = 'D:\\\\style_transfer\\\\pic.jpg'  # 注意代码中此处为双反斜杠\r\n# 风格图片的绝对地址\r\nstyle_image = 'D:\\\\style_transfer\\\\fangao.jpg'\r\n\r\n# 创建风格转移网络并加载参数\r\nstylepro_artistic = hub.Module(name=\"stylepro_artistic\")\r\n\r\n# 读入图片并开始风格转换\r\nresult = stylepro_artistic.style_transfer(\r\n                    images=[{'content': cv2.imread(picture),\r\n                             'styles': [cv2.imread(style_image)]}],\r\n                    visualization=True\r\n)\r\n复现步骤，当我在conda prompt执行python style_transfer.py时候预期会创建新文件夹transfer_result，并将转换后的文件保存到该目录下，实际上出现问题conda提示pad2d中没有注册内核，运算符pad2d错误。 我的stylepro_artistic已经是最新1.0.3，paddlepaddle,paddlehub也都升级为最新\r\n",
        "state": "closed",
        "user": "brant3479",
        "closed_by": "sijunhe",
        "created_at": "2024-01-20T09:16:41+00:00",
        "updated_at": "2024-03-17T05:40:02+00:00",
        "closed_at": "2024-03-17T05:40:02+00:00",
        "comments_count": [
            "w5688414"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2319,
        "title": "hub install 命令 或 search 命令 报错",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub 2.4.0，python3.8 conda 23.7.4 \r\n2）系统环境：Windows\r\n根据 https://github.com/PaddlePaddle/PaddleHub/blob/develop/docs/docs_ch/get_start/windows_quickstart.md 文档 进行安装后，输入  hub install 模型  或  hub search 模型 时 会报josn error \r\n\r\n```python\r\nplacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\site-packages\\requests\\models.py\", line 971, in json\r\n    return complexjson.loads(self.text, **kwargs)\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\json\\__init__.py\", line 357, in loads\r\n    return _default_decoder.decode(s)\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\json\\decoder.py\", line 337, in decode\r\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\json\\decoder.py\", line 355, in raw_decode\r\n    raise JSONDecodeError(\"Expecting value\", s, err.value) from None\r\njson.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\Scripts\\hub.exe\\__main__.py\", line 7, in <module>\r\n    sys.exit(execute())\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\commands\\utils.py\", line 84, in execute\r\n    status = 0 if com['_entry']().execute(sys.argv[idx:]) else 1\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\commands\\search.py\", line 36, in execute\r\n    results = module_server.search_module(name=argv)\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\server\\server.py\", line 87, in search_module\r\n    return self.search_resource(\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\server\\server.py\", line 113, in search_resource\r\n    result = source.search_resource(name=name, type=type, version=version)\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\server\\server_source.py\", line 87, in search_resource\r\n    result = self.request(path='search', params=params)\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\site-packages\\paddlehub\\server\\server_source.py\", line 131, in request\r\n    return result.json()\r\n  File \"C:\\Users\\YanJinTao\\.conda\\envs\\paddle_env\\lib\\site-packages\\requests\\models.py\", line 975, in json\r\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\r\nrequests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\r\n\r\n``` \r\n/",
        "state": "closed",
        "user": "yanjintao",
        "closed_by": "sijunhe",
        "created_at": "2024-01-24T04:28:19+00:00",
        "updated_at": "2024-03-17T05:39:49+00:00",
        "closed_at": "2024-03-17T05:39:49+00:00",
        "comments_count": [
            "w5688414"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2320,
        "title": "yolov3_darknet53_pedestrian 每次加载都需要下载很长时间，且推理错误",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n- \r\n○ → \r\n\r\n`import paddlehub as hub\r\nimport cv2\r\n\r\npedestrian_detector = hub.Module(name=\"yolov3_darknet53_pedestrian\")\r\nresult = pedestrian_detector.object_detection(images=[cv2.imread('/home/ai02/test/people/8.jpg')])\r\nprint(result)`\r\n/bin/python3 /home/ai02/test/people/test.py\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/yolov3_darknet53_pedestrian_1_1_0.zip\r\n[##################################################] 100.00%\r\nDecompress /home/ai02/.paddlehub/tmp/tmp7dw1rgc9/yolov3_darknet53_pedestrian_1_1_0.zip\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/ai02/test/people/test.py\", line 4, in <module>\r\n    pedestrian_detector = hub.Module(name=\"yolov3_darknet53_pedestrian\")\r\n  File \"/home/ai02/.local/lib/python3.8/site-packages/paddlehub/module/module.py\", line 388, in __new__\r\n    module = cls.init_with_name(\r\n  File \"/home/ai02/.local/lib/python3.8/site-packages/paddlehub/module/module.py\", line 487, in init_with_name\r\n    user_module_cls = manager.install(\r\n  File \"/home/ai02/.local/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 190, in install\r\n    return self._install_from_name(name, version, ignore_env_mismatch)\r\n  File \"/home/ai02/.local/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 265, in _install_from_name\r\n    return self._install_from_url(item['url'])\r\n  File \"/home/ai02/.local/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 258, in _install_from_url\r\n    return self._install_from_archive(file)\r\n  File \"/home/ai02/.local/lib/python3.8/site-packages/paddlehub/module/manager.py\", line 374, in _install_from_archive\r\n    for path, ds, ts in xarfile.unarchive_with_progress(archive, _tdir):\r\n  File \"/home/ai02/.local/lib/python3.8/site-packages/paddlehub/utils/xarfile.py\", line 225, in unarchive_with_progress\r\n    with open(name, mode='r') as file:\r\n  File \"/home/ai02/.local/lib/python3.8/site-packages/paddlehub/utils/xarfile.py\", line 162, in open\r\n    return XarFile(name, mode, **kwargs)\r\n  File \"/home/ai02/.local/lib/python3.8/site-packages/paddlehub/utils/xarfile.py\", line 91, in __init__\r\n    if self.arctype in ['tar.gz', 'tar.bz2', 'tar.xz', 'tar', 'tgz', 'txz']:\r\nAttributeError: 'XarFile' object has no attribute 'arctype'\r\nException ignored in: <function XarFile.__del__ at 0x7fd670f1fb80>\r\nTraceback (most recent call last):\r\n  File \"/home/ai02/.local/lib/python3.8/site-packages/paddlehub/utils/xarfile.py\", line 101, in __del__\r\n    self._archive_fp.close()\r\nAttributeError: 'XarFile' object has no attribute '_archive_fp'",
        "state": "closed",
        "user": "sun-rabbit",
        "closed_by": "sijunhe",
        "created_at": "2024-02-27T02:21:25+00:00",
        "updated_at": "2024-03-17T05:39:36+00:00",
        "closed_at": "2024-03-17T05:39:36+00:00",
        "comments_count": [
            "sun-rabbit",
            "sun-rabbit",
            "michaelowenliu",
            "w5688414"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleSpeech",
        "number": 3693,
        "title": "Failed to customize PaddleSpeech service for PaddleHub",
        "body": "### env:\r\n#### OS:\r\n- Windows 10\r\n\r\n#### Python:\r\n- 3.8.10\r\n\r\n#### Requirements:\r\n- paddlepaddle==2.4.2\r\n- paddlenlp==2.5.2\r\n- paddlehub==2.3.1\r\n- paddlespeech==1.4.1\r\n\r\n\r\n### File Structure:\r\n![image](https://github.com/PaddlePaddle/PaddleHub/assets/65639657/a746dfd9-fb13-46eb-be7a-68e6d5cb652c)\r\n#### module.py:\r\n``` python\r\nfrom __future__ import absolute_import\r\nfrom __future__ import division\r\nfrom __future__ import print_function\r\n\r\nimport os\r\nimport base64\r\nimport io\r\nimport sys\r\nimport time\r\nimport paddlehub as hub\r\nfrom paddlehub.module.module import moduleinfo, runnable, serving\r\nfrom paddlehub.utils.log import logger\r\n\r\n# from paddlespeech.cli.asr.infer import ASRExecutor\r\nfrom paddlespeech.server.engine.asr.python.asr_engine import ASREngine\r\nfrom paddlespeech.server.engine.asr.python.asr_engine import PaddleASRConnectionHandler\r\nfrom yacs.config import CfgNode\r\n\r\n\r\ndef base64_to_audio(b64str) -> io.BytesIO:\r\n    data = base64.b64decode(b64str.encode('utf8'))\r\n    # return io.BytesIO(data)\r\n    return data\r\n\r\n@moduleinfo(\r\n    name=\"ASR\",\r\n    version=\"1.0.0\",\r\n    summary=\"This is a PaddleHub Self-Custom Module for Automatic Speech Recognition. Powered By Mercedes-Benz RDCP/SI Team.\",\r\n    author=\"ruitian\",\r\n    author_email=\"\",\r\n    type=\"audio/asr\"\r\n)\r\nclass ASR(hub.Module):\r\n    def _initialize(self):\r\n        _config = dict()\r\n        _config['device'] = 'gpu'\r\n        _config['model'] = 'conformer_online_aishell'\r\n        _config['lang'] = 'zh'\r\n        _config['sample_rate'] = 16000\r\n        _config['cfg_path'] = None\r\n        _config['decode_method'] = 'attention_rescoring'\r\n        _config['ckpt_path'] = None\r\n        _config['force_yes'] = False\r\n        config = CfgNode(_config)\r\n        asr_engine = ASREngine()\r\n        asr_engine.init(config)\r\n        self.connection_handler = PaddleASRConnectionHandler(asr_engine)\r\n\r\n    @serving\r\n    def speech_recognize(self, audios, **kwargs):\r\n        def predict(audios, **kwargs):\r\n            res = []\r\n            if isinstance(audios, io.BytesIO):\r\n                # if not self.asr._check(audios, sample_rate=16000):\r\n                #     sys.exit(-1)\r\n\r\n                # self.asr.preprocess(self.model, audios)\r\n                # self.asr.infer(self.model)\r\n                # _result = self.asr.postprocess()\r\n                self.connection_handler.run(audios)\r\n                asr_results = self.connection_handler.postprocess()\r\n                res.append(asr_results)\r\n\r\n            elif isinstance(audios, list):\r\n                for audio in audios:\r\n                    # if not self.asr._check(audio, sample_rate=16000):\r\n                    #     sys.exit(-1)\r\n\r\n                    # self.asr.preprocess(self.model, audio)\r\n                    # self.asr.infer(self.model)\r\n                    self.connection_handler.run(audio)\r\n                    asr_results = self.connection_handler.postprocess()\r\n                    res.append(asr_results)\r\n            else:\r\n                raise RuntimeError('The audio format cannot be used in serving. make sure the base64 data converted by audio file.')\r\n\r\n            return res\r\n        audio_decode = [base64_to_audio(audio) for audio in audios]\r\n        starttime = time.time()\r\n        results = predict(audio_decode, **kwargs)\r\n        elapse = time.time() - starttime\r\n        logger.info(\"Predict time: {}\".format(elapse))\r\n        return [{\"results\": results, \"elapse\": elapse}]\r\n\r\nif __name__ == '__main__':\r\n    lib = ASR()\r\n    lib._initialize()\r\n    def readwav2base64(wav_file):\r\n        \"\"\"\r\n        read wave file and covert to base64 string\r\n        \"\"\"\r\n        with open(wav_file, 'rb') as f:\r\n            base64_bytes = base64.b64encode(f.read())\r\n            base64_string = base64_bytes.decode('utf-8')\r\n        return base64_string\r\n\r\n    file_path = r\"C:\\Users\\user\\Desktop\\zh.wav\"\r\n    b64_data = readwav2base64(file_path)\r\n    a = lib.speech_recognize([b64_data])\r\n    # a = lib.speech_recognize([b64_data])\r\n    print(a)\r\n```\r\n\r\n\r\n### Run \"__main__\" error logs:\r\n```\r\n2024-01-11 15:31:57.691 | INFO     | paddlespeech.s2t.modules.ctc:<module>:45 - paddlespeech_ctcdecoders not installed!\r\n2024-01-11 15:31:57.803 | INFO     | paddlespeech.s2t.modules.embedding:__init__:150 - max len: 5000\r\n[2024-01-11 15:32:00,635] [    INFO] - Initialize ASR server engine successfully on device: gpu.\r\n[2024-01-11 15:32:00] [CRITICAL] [transformation.py:149] Catch a exception from 0th func: LogMelSpectrogramKaldi(fs=16000, n_mels=80, n_frame_shift=10.0, n_frame_length=25.0, dither=0.1))\r\n[2024-01-11 15:32:00,642] [    INFO] - When the type of 'input' in assign is numpy.ndarray, the data type of 'input' must be bool, float32, int32 or int64, but received int16.\r\n```\r\nNOTE:\r\n### If \"@moduleinfo\" is commented out, then the main method executes successfully",
        "state": "closed",
        "user": "pinnnkman",
        "closed_by": "stale[bot]",
        "created_at": "2024-01-11T07:43:07+00:00",
        "updated_at": "2025-06-27T06:33:41+00:00",
        "closed_at": "2025-06-27T06:33:41+00:00",
        "comments_count": [
            "pinnnkman",
            "w5688414",
            "pinnnkman",
            "pinnnkman",
            "w5688414",
            "pinnnkman",
            "stale[bot]",
            "stale[bot]"
        ],
        "labels": [
            "Stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2321,
        "title": "已经停止更新了吗？",
        "body": "`import paddlehub as hub\r\n\r\npp_model = hub.Module(name=\"ch_pp-ocrv3\")`\r\n\r\n想知道还有效果更好中文OCR模型能够使用吗？",
        "state": "closed",
        "user": "1193700079",
        "closed_by": "sijunhe",
        "created_at": "2024-02-29T02:08:20+00:00",
        "updated_at": "2024-03-17T05:39:25+00:00",
        "closed_at": "2024-03-17T05:39:25+00:00",
        "comments_count": [
            "jzhang533",
            "michaelowenliu",
            "1193700079",
            "michaelowenliu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2322,
        "title": "DiffSinger 只能使用实例中的那句歌词吗？",
        "body": "DiffSinger 只能使用实例中的那句歌词吗？",
        "state": "closed",
        "user": "dddlli",
        "closed_by": "WYB27",
        "created_at": "2024-03-27T06:50:49+00:00",
        "updated_at": "2025-06-30T07:06:12+00:00",
        "closed_at": "2025-06-30T07:06:12+00:00",
        "comments_count": [
            "w5688414",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2323,
        "title": "请各位大神帮忙看一下安装报错",
        "body": "使用环境：win11、python3.12.3、pip24\r\n安装paddlehub报如下错误：\r\n\r\nCollecting paddlehub\r\n  Downloading paddlehub-2.4.0-py3-none-any.whl.metadata (1.7 kB)\r\nCollecting colorama (from paddlehub)\r\n  Downloading colorama-0.4.6-py2.py3-none-any.whl.metadata (17 kB)\r\nCollecting colorlog (from paddlehub)\r\n  Downloading colorlog-6.8.2-py3-none-any.whl.metadata (10 kB)\r\nCollecting easydict (from paddlehub)\r\n  Downloading easydict-1.13-py3-none-any.whl.metadata (4.2 kB)\r\nCollecting filelock (from paddlehub)\r\n  Downloading filelock-3.13.4-py3-none-any.whl.metadata (2.8 kB)\r\nCollecting flask>=1.1.0 (from paddlehub)\r\n  Downloading flask-3.0.3-py3-none-any.whl.metadata (3.2 kB)\r\nRequirement already satisfied: numpy in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from paddlehub) (1.26.4)\r\nCollecting matplotlib (from paddlehub)\r\n  Downloading matplotlib-3.8.4-cp312-cp312-win_amd64.whl.metadata (5.9 kB)\r\nRequirement already satisfied: opencv-python in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from paddlehub) (4.9.0.80)\r\nRequirement already satisfied: packaging in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from paddlehub) (24.0)\r\nCollecting paddle2onnx>=0.5.1 (from paddlehub)\r\n  Downloading paddle2onnx-0.9.2-py3-none-any.whl.metadata (770 bytes)\r\nCollecting paddlenlp>=2.0.0 (from paddlehub)\r\n  Downloading paddlenlp-2.7.2-py3-none-any.whl.metadata (28 kB)\r\nRequirement already satisfied: Pillow in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from paddlehub) (10.3.0)\r\nCollecting pyyaml (from paddlehub)\r\n  Downloading PyYAML-6.0.1-cp312-cp312-win_amd64.whl.metadata (2.1 kB)\r\nCollecting pyzmq (from paddlehub)\r\n  Downloading pyzmq-26.0.0-cp312-cp312-win_amd64.whl.metadata (6.2 kB)\r\nCollecting rarfile (from paddlehub)\r\n  Downloading rarfile-4.2-py3-none-any.whl.metadata (4.4 kB)\r\nCollecting tqdm (from paddlehub)\r\n  Downloading tqdm-4.66.2-py3-none-any.whl.metadata (57 kB)\r\n     -------------------------------------- 57.6/57.6 kB 378.8 kB/s eta 0:00:00\r\nCollecting visualdl>=2.0.0 (from paddlehub)\r\n  Downloading visualdl-2.5.3-py3-none-any.whl.metadata (25 kB)\r\nCollecting gradio (from paddlehub)\r\n  Downloading gradio-4.26.0-py3-none-any.whl.metadata (15 kB)\r\nCollecting Werkzeug>=3.0.0 (from flask>=1.1.0->paddlehub)\r\n  Downloading werkzeug-3.0.2-py3-none-any.whl.metadata (4.1 kB)\r\nCollecting Jinja2>=3.1.2 (from flask>=1.1.0->paddlehub)\r\n  Downloading Jinja2-3.1.3-py3-none-any.whl.metadata (3.3 kB)\r\nCollecting itsdangerous>=2.1.2 (from flask>=1.1.0->paddlehub)\r\n  Downloading itsdangerous-2.1.2-py3-none-any.whl.metadata (2.9 kB)\r\nCollecting click>=8.1.3 (from flask>=1.1.0->paddlehub)\r\n  Downloading click-8.1.7-py3-none-any.whl.metadata (3.0 kB)\r\nCollecting blinker>=1.6.2 (from flask>=1.1.0->paddlehub)\r\n  Downloading blinker-1.7.0-py3-none-any.whl.metadata (1.9 kB)\r\nCollecting six (from paddle2onnx>=0.5.1->paddlehub)\r\n  Downloading six-1.16.0-py2.py3-none-any.whl.metadata (1.8 kB)\r\nRequirement already satisfied: protobuf in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from paddle2onnx>=0.5.1->paddlehub) (3.20.2)\r\nCollecting onnx<=1.9.0 (from paddle2onnx>=0.5.1->paddlehub)\r\n  Downloading onnx-1.9.0.tar.gz (9.8 MB)\r\n     ---------------------------------------- 9.8/9.8 MB 1.3 MB/s eta 0:00:00\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\n  Installing backend dependencies: started\r\n  Installing backend dependencies: finished with status 'done'\r\n  Preparing metadata (pyproject.toml): started\r\n  Preparing metadata (pyproject.toml): finished with status 'done'\r\nCollecting jieba (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading jieba-0.42.1.tar.gz (19.2 MB)\r\n     ---------------------------------------- 19.2/19.2 MB 1.3 MB/s eta 0:00:00\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\n  Installing backend dependencies: started\r\n  Installing backend dependencies: finished with status 'done'\r\n  Preparing metadata (pyproject.toml): started\r\n  Preparing metadata (pyproject.toml): finished with status 'done'\r\nCollecting seqeval (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading seqeval-1.2.2.tar.gz (43 kB)\r\n     -------------------------------------- 43.6/43.6 kB 709.9 kB/s eta 0:00:00\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\n  Installing backend dependencies: started\r\n  Installing backend dependencies: finished with status 'done'\r\n  Preparing metadata (pyproject.toml): started\r\n  Preparing metadata (pyproject.toml): finished with status 'done'\r\nCollecting dill<0.3.5 (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading dill-0.3.4-py2.py3-none-any.whl.metadata (9.6 kB)\r\nCollecting multiprocess<=0.70.12.2 (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading multiprocess-0.70.12.2-py39-none-any.whl.metadata (6.9 kB)\r\nCollecting datasets>=2.0.0 (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading datasets-2.18.0-py3-none-any.whl.metadata (20 kB)\r\nCollecting paddlefsl (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading paddlefsl-1.1.0-py3-none-any.whl.metadata (3.6 kB)\r\nCollecting sentencepiece (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading sentencepiece-0.2.0-cp312-cp312-win_amd64.whl.metadata (8.3 kB)\r\nCollecting huggingface-hub>=0.11.1 (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading huggingface_hub-0.22.2-py3-none-any.whl.metadata (12 kB)\r\nINFO: pip is looking at multiple versions of paddlenlp to determine which version is compatible with other requirements. This could take a while.\r\nCollecting paddlenlp>=2.0.0 (from paddlehub)\r\n  Downloading paddlenlp-2.7.1-py3-none-any.whl.metadata (28 kB)\r\n  Downloading paddlenlp-2.7.0-py3-none-any.whl.metadata (28 kB)\r\n  Downloading paddlenlp-2.6.1-py3-none-any.whl.metadata (28 kB)\r\n  Downloading paddlenlp-2.6.0-py3-none-any.whl.metadata (28 kB)\r\n  Downloading paddlenlp-2.5.2-py3-none-any.whl.metadata (24 kB)\r\nCollecting Flask-Babel<3.0.0 (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading Flask_Babel-2.0.0-py3-none-any.whl.metadata (2.1 kB)\r\nCollecting fastapi (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading fastapi-0.110.1-py3-none-any.whl.metadata (24 kB)\r\nCollecting uvicorn (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading uvicorn-0.29.0-py3-none-any.whl.metadata (6.3 kB)\r\nCollecting typer (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading typer-0.12.3-py3-none-any.whl.metadata (15 kB)\r\nCollecting rich (from paddlenlp>=2.0.0->paddlehub)\r\n  Downloading rich-13.7.1-py3-none-any.whl.metadata (18 kB)\r\nCollecting bce-python-sdk (from visualdl>=2.0.0->paddlehub)\r\n  Downloading bce_python_sdk-0.9.6-py3-none-any.whl.metadata (318 bytes)\r\nINFO: pip is looking at multiple versions of visualdl to determine which version is compatible with other requirements. This could take a while.\r\nCollecting visualdl>=2.0.0 (from paddlehub)\r\n  Downloading visualdl-2.5.2-py3-none-any.whl.metadata (25 kB)\r\n  Downloading visualdl-2.5.1-py3-none-any.whl.metadata (25 kB)\r\n  Downloading visualdl-2.5.0-py3-none-any.whl.metadata (25 kB)\r\n  Downloading visualdl-2.4.2-py3-none-any.whl.metadata (21 kB)\r\nCollecting requests (from visualdl>=2.0.0->paddlehub)\r\n  Downloading requests-2.31.0-py3-none-any.whl.metadata (4.6 kB)\r\nCollecting pandas (from visualdl>=2.0.0->paddlehub)\r\n  Downloading pandas-2.2.2-cp312-cp312-win_amd64.whl.metadata (19 kB)\r\nCollecting aiofiles<24.0,>=22.0 (from gradio->paddlehub)\r\n  Downloading aiofiles-23.2.1-py3-none-any.whl.metadata (9.7 kB)\r\nCollecting altair<6.0,>=4.2.0 (from gradio->paddlehub)\r\n  Downloading altair-5.3.0-py3-none-any.whl.metadata (9.2 kB)\r\nCollecting ffmpy (from gradio->paddlehub)\r\n  Downloading ffmpy-0.3.2.tar.gz (5.5 kB)\r\n  Installing build dependencies: started\r\n  Installing build dependencies: finished with status 'done'\r\n  Getting requirements to build wheel: started\r\n  Getting requirements to build wheel: finished with status 'done'\r\n  Installing backend dependencies: started\r\n  Installing backend dependencies: finished with status 'done'\r\n  Preparing metadata (pyproject.toml): started\r\n  Preparing metadata (pyproject.toml): finished with status 'done'\r\nCollecting gradio-client==0.15.1 (from gradio->paddlehub)\r\n  Downloading gradio_client-0.15.1-py3-none-any.whl.metadata (7.1 kB)\r\nRequirement already satisfied: httpx>=0.24.1 in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from gradio->paddlehub) (0.27.0)\r\nCollecting importlib-resources<7.0,>=1.3 (from gradio->paddlehub)\r\n  Downloading importlib_resources-6.4.0-py3-none-any.whl.metadata (3.9 kB)\r\nCollecting markupsafe~=2.0 (from gradio->paddlehub)\r\n  Downloading MarkupSafe-2.1.5-cp312-cp312-win_amd64.whl.metadata (3.1 kB)\r\nCollecting orjson~=3.0 (from gradio->paddlehub)\r\n  Downloading orjson-3.10.0-cp312-none-win_amd64.whl.metadata (50 kB)\r\n     -------------------------------------- 50.7/50.7 kB 430.7 kB/s eta 0:00:00\r\nCollecting pydantic>=2.0 (from gradio->paddlehub)\r\n  Downloading pydantic-2.7.0-py3-none-any.whl.metadata (103 kB)\r\n     ------------------------------------ 103.4/103.4 kB 854.4 kB/s eta 0:00:00\r\nCollecting pydub (from gradio->paddlehub)\r\n  Downloading pydub-0.25.1-py2.py3-none-any.whl.metadata (1.4 kB)\r\nCollecting python-multipart>=0.0.9 (from gradio->paddlehub)\r\n  Downloading python_multipart-0.0.9-py3-none-any.whl.metadata (2.5 kB)\r\nCollecting ruff>=0.2.2 (from gradio->paddlehub)\r\n  Downloading ruff-0.3.7-py3-none-win_amd64.whl.metadata (24 kB)\r\nCollecting semantic-version~=2.0 (from gradio->paddlehub)\r\n  Downloading semantic_version-2.10.0-py2.py3-none-any.whl.metadata (9.7 kB)\r\nCollecting tomlkit==0.12.0 (from gradio->paddlehub)\r\n  Downloading tomlkit-0.12.0-py3-none-any.whl.metadata (2.7 kB)\r\nCollecting typing-extensions~=4.0 (from gradio->paddlehub)\r\n  Using cached typing_extensions-4.11.0-py3-none-any.whl.metadata (3.0 kB)\r\nCollecting fsspec (from gradio-client==0.15.1->gradio->paddlehub)\r\n  Downloading fsspec-2024.3.1-py3-none-any.whl.metadata (6.8 kB)\r\nCollecting websockets<12.0,>=10.0 (from gradio-client==0.15.1->gradio->paddlehub)\r\n  Downloading websockets-11.0.3-py3-none-any.whl.metadata (6.6 kB)\r\nCollecting contourpy>=1.0.1 (from matplotlib->paddlehub)\r\n  Downloading contourpy-1.2.1-cp312-cp312-win_amd64.whl.metadata (5.8 kB)\r\nCollecting cycler>=0.10 (from matplotlib->paddlehub)\r\n  Downloading cycler-0.12.1-py3-none-any.whl.metadata (3.8 kB)\r\nCollecting fonttools>=4.22.0 (from matplotlib->paddlehub)\r\n  Downloading fonttools-4.51.0-cp312-cp312-win_amd64.whl.metadata (162 kB)\r\n     ------------------------------------ 162.8/162.8 kB 651.8 kB/s eta 0:00:00\r\nCollecting kiwisolver>=1.3.1 (from matplotlib->paddlehub)\r\n  Downloading kiwisolver-1.4.5-cp312-cp312-win_amd64.whl.metadata (6.5 kB)\r\nCollecting pyparsing>=2.3.1 (from matplotlib->paddlehub)\r\n  Downloading pyparsing-3.1.2-py3-none-any.whl.metadata (5.1 kB)\r\nCollecting python-dateutil>=2.7 (from matplotlib->paddlehub)\r\n  Downloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl.metadata (8.4 kB)\r\nCollecting jsonschema>=3.0 (from altair<6.0,>=4.2.0->gradio->paddlehub)\r\n  Downloading jsonschema-4.21.1-py3-none-any.whl.metadata (7.8 kB)\r\nCollecting toolz (from altair<6.0,>=4.2.0->gradio->paddlehub)\r\n  Downloading toolz-0.12.1-py3-none-any.whl.metadata (5.1 kB)\r\nCollecting pyarrow>=12.0.0 (from datasets>=2.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading pyarrow-15.0.2-cp312-cp312-win_amd64.whl.metadata (3.1 kB)\r\nCollecting pyarrow-hotfix (from datasets>=2.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading pyarrow_hotfix-0.6-py3-none-any.whl.metadata (3.6 kB)\r\nCollecting xxhash (from datasets>=2.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading xxhash-3.4.1-cp312-cp312-win_amd64.whl.metadata (12 kB)\r\nCollecting fsspec (from gradio-client==0.15.1->gradio->paddlehub)\r\n  Downloading fsspec-2024.2.0-py3-none-any.whl.metadata (6.8 kB)\r\nCollecting aiohttp (from datasets>=2.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading aiohttp-3.9.4-cp312-cp312-win_amd64.whl.metadata (7.7 kB)\r\nCollecting pytz (from Flask-Babel<3.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading pytz-2024.1-py2.py3-none-any.whl.metadata (22 kB)\r\nCollecting Babel>=2.3 (from Flask-Babel<3.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading Babel-2.14.0-py3-none-any.whl.metadata (1.6 kB)\r\nRequirement already satisfied: anyio in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from httpx>=0.24.1->gradio->paddlehub) (4.3.0)\r\nRequirement already satisfied: certifi in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from httpx>=0.24.1->gradio->paddlehub) (2024.2.2)\r\nRequirement already satisfied: httpcore==1.* in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from httpx>=0.24.1->gradio->paddlehub) (1.0.5)\r\nRequirement already satisfied: idna in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from httpx>=0.24.1->gradio->paddlehub) (3.7)\r\nRequirement already satisfied: sniffio in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from httpx>=0.24.1->gradio->paddlehub) (1.3.1)\r\nRequirement already satisfied: h11<0.15,>=0.13 in d:\\code of python\\pythonproject\\.venv\\lib\\site-packages (from httpcore==1.*->httpx>=0.24.1->gradio->paddlehub) (0.14.0)\r\nCollecting tzdata>=2022.7 (from pandas->visualdl>=2.0.0->paddlehub)\r\n  Downloading tzdata-2024.1-py2.py3-none-any.whl.metadata (1.4 kB)\r\nCollecting annotated-types>=0.4.0 (from pydantic>=2.0->gradio->paddlehub)\r\n  Downloading annotated_types-0.6.0-py3-none-any.whl.metadata (12 kB)\r\nCollecting pydantic-core==2.18.1 (from pydantic>=2.0->gradio->paddlehub)\r\n  Downloading pydantic_core-2.18.1-cp312-none-win_amd64.whl.metadata (6.7 kB)\r\nCollecting charset-normalizer<4,>=2 (from requests->visualdl>=2.0.0->paddlehub)\r\n  Downloading charset_normalizer-3.3.2-cp312-cp312-win_amd64.whl.metadata (34 kB)\r\nCollecting urllib3<3,>=1.21.1 (from requests->visualdl>=2.0.0->paddlehub)\r\n  Downloading urllib3-2.2.1-py3-none-any.whl.metadata (6.4 kB)\r\nCollecting shellingham>=1.3.0 (from typer->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading shellingham-1.5.4-py2.py3-none-any.whl.metadata (3.5 kB)\r\nCollecting markdown-it-py>=2.2.0 (from rich->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading markdown_it_py-3.0.0-py3-none-any.whl.metadata (6.9 kB)\r\nCollecting pygments<3.0.0,>=2.13.0 (from rich->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading pygments-2.17.2-py3-none-any.whl.metadata (2.6 kB)\r\nCollecting pycryptodome>=3.8.0 (from bce-python-sdk->visualdl>=2.0.0->paddlehub)\r\n  Downloading pycryptodome-3.20.0-cp35-abi3-win_amd64.whl.metadata (3.4 kB)\r\nCollecting future>=0.6.0 (from bce-python-sdk->visualdl>=2.0.0->paddlehub)\r\n  Downloading future-1.0.0-py3-none-any.whl.metadata (4.0 kB)\r\nCollecting starlette<0.38.0,>=0.37.2 (from fastapi->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading starlette-0.37.2-py3-none-any.whl.metadata (5.9 kB)\r\nCollecting scikit-learn>=0.21.3 (from seqeval->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading scikit_learn-1.4.2-cp312-cp312-win_amd64.whl.metadata (11 kB)\r\nCollecting aiosignal>=1.1.2 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading aiosignal-1.3.1-py3-none-any.whl.metadata (4.0 kB)\r\nCollecting attrs>=17.3.0 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading attrs-23.2.0-py3-none-any.whl.metadata (9.5 kB)\r\nCollecting frozenlist>=1.1.1 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading frozenlist-1.4.1-cp312-cp312-win_amd64.whl.metadata (12 kB)\r\nCollecting multidict<7.0,>=4.5 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading multidict-6.0.5-cp312-cp312-win_amd64.whl.metadata (4.3 kB)\r\nCollecting yarl<2.0,>=1.0 (from aiohttp->datasets>=2.0.0->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading yarl-1.9.4-cp312-cp312-win_amd64.whl.metadata (32 kB)\r\nCollecting jsonschema-specifications>=2023.03.6 (from jsonschema>=3.0->altair<6.0,>=4.2.0->gradio->paddlehub)\r\n  Downloading jsonschema_specifications-2023.12.1-py3-none-any.whl.metadata (3.0 kB)\r\nCollecting referencing>=0.28.4 (from jsonschema>=3.0->altair<6.0,>=4.2.0->gradio->paddlehub)\r\n  Downloading referencing-0.34.0-py3-none-any.whl.metadata (2.8 kB)\r\nCollecting rpds-py>=0.7.1 (from jsonschema>=3.0->altair<6.0,>=4.2.0->gradio->paddlehub)\r\n  Downloading rpds_py-0.18.0-cp312-none-win_amd64.whl.metadata (4.2 kB)\r\nCollecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading mdurl-0.1.2-py3-none-any.whl.metadata (1.6 kB)\r\nCollecting scipy>=1.6.0 (from scikit-learn>=0.21.3->seqeval->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading scipy-1.13.0-cp312-cp312-win_amd64.whl.metadata (60 kB)\r\n     -------------------------------------- 60.6/60.6 kB 215.1 kB/s eta 0:00:00\r\nCollecting joblib>=1.2.0 (from scikit-learn>=0.21.3->seqeval->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading joblib-1.4.0-py3-none-any.whl.metadata (5.4 kB)\r\nCollecting threadpoolctl>=2.0.0 (from scikit-learn>=0.21.3->seqeval->paddlenlp>=2.0.0->paddlehub)\r\n  Downloading threadpoolctl-3.4.0-py3-none-any.whl.metadata (13 kB)\r\nDownloading paddlehub-2.4.0-py3-none-any.whl (213 kB)\r\n   -------------------------------------- 213.9/213.9 kB 482.5 kB/s eta 0:00:00\r\nDownloading flask-3.0.3-py3-none-any.whl (101 kB)\r\n   -------------------------------------- 101.7/101.7 kB 732.0 kB/s eta 0:00:00\r\nDownloading paddle2onnx-0.9.2-py3-none-any.whl (100 kB)\r\n   -------------------------------------- 100.9/100.9 kB 305.2 kB/s eta 0:00:00\r\nDownloading paddlenlp-2.5.2-py3-none-any.whl (2.3 MB)\r\n   ---------------------------------------- 2.3/2.3 MB 655.7 kB/s eta 0:00:00\r\nDownloading visualdl-2.4.2-py3-none-any.whl (4.9 MB)\r\n   ---------------------------------------- 4.9/4.9 MB 2.7 MB/s eta 0:00:00\r\nDownloading colorama-0.4.6-py2.py3-none-any.whl (25 kB)\r\nDownloading colorlog-6.8.2-py3-none-any.whl (11 kB)\r\nDownloading easydict-1.13-py3-none-any.whl (6.8 kB)\r\nDownloading filelock-3.13.4-py3-none-any.whl (11 kB)\r\nDownloading gradio-4.26.0-py3-none-any.whl (17.1 MB)\r\n   ---------------------------------------- 17.1/17.1 MB 9.8 MB/s eta 0:00:00\r\nDownloading gradio_client-0.15.1-py3-none-any.whl (313 kB)\r\n   ---------------------------------------- 313.6/313.6 kB 1.3 MB/s eta 0:00:00\r\nDownloading tomlkit-0.12.0-py3-none-any.whl (37 kB)\r\nDownloading matplotlib-3.8.4-cp312-cp312-win_amd64.whl (7.7 MB)\r\n   ---------------------------------------- 7.7/7.7 MB 3.8 MB/s eta 0:00:00\r\nDownloading PyYAML-6.0.1-cp312-cp312-win_amd64.whl (138 kB)\r\n   ---------------------------------------- 138.7/138.7 kB 4.1 MB/s eta 0:00:00\r\nDownloading pyzmq-26.0.0-cp312-cp312-win_amd64.whl (770 kB)\r\n   ---------------------------------------- 770.4/770.4 kB 3.0 MB/s eta 0:00:00\r\nDownloading rarfile-4.2-py3-none-any.whl (29 kB)\r\nDownloading tqdm-4.66.2-py3-none-any.whl (78 kB)\r\n   ---------------------------------------- 78.3/78.3 kB 1.1 MB/s eta 0:00:00\r\nDownloading aiofiles-23.2.1-py3-none-any.whl (15 kB)\r\nDownloading altair-5.3.0-py3-none-any.whl (857 kB)\r\n   ---------------------------------------- 857.8/857.8 kB 2.1 MB/s eta 0:00:00\r\nDownloading blinker-1.7.0-py3-none-any.whl (13 kB)\r\nDownloading click-8.1.7-py3-none-any.whl (97 kB)\r\n   ---------------------------------------- 97.9/97.9 kB 233.9 kB/s eta 0:00:00\r\nDownloading contourpy-1.2.1-cp312-cp312-win_amd64.whl (189 kB)\r\n   -------------------------------------- 189.9/189.9 kB 575.8 kB/s eta 0:00:00\r\nDownloading cycler-0.12.1-py3-none-any.whl (8.3 kB)\r\nDownloading datasets-2.18.0-py3-none-any.whl (510 kB)\r\n   -------------------------------------- 510.5/510.5 kB 444.7 kB/s eta 0:00:00\r\nDownloading dill-0.3.4-py2.py3-none-any.whl (86 kB)\r\n   ---------------------------------------- 86.9/86.9 kB 306.7 kB/s eta 0:00:00\r\nDownloading Flask_Babel-2.0.0-py3-none-any.whl (9.3 kB)\r\nDownloading fonttools-4.51.0-cp312-cp312-win_amd64.whl (2.2 MB)\r\n   ---------------------------------------- 2.2/2.2 MB 111.5 kB/s eta 0:00:00\r\nDownloading huggingface_hub-0.22.2-py3-none-any.whl (388 kB)\r\n   --------------------------------------- 388.9/388.9 kB 41.1 kB/s eta 0:00:00\r\nDownloading importlib_resources-6.4.0-py3-none-any.whl (38 kB)\r\nDownloading itsdangerous-2.1.2-py3-none-any.whl (15 kB)\r\nDownloading Jinja2-3.1.3-py3-none-any.whl (133 kB)\r\n   --------------------------------------- 133.2/133.2 kB 56.7 kB/s eta 0:00:00\r\nDownloading kiwisolver-1.4.5-cp312-cp312-win_amd64.whl (56 kB)\r\n   ---------------------------------------- 56.0/56.0 kB 63.6 kB/s eta 0:00:00\r\nDownloading MarkupSafe-2.1.5-cp312-cp312-win_amd64.whl (17 kB)\r\nDownloading multiprocess-0.70.12.2-py39-none-any.whl (128 kB)\r\n   --------------------------------------- 128.7/128.7 kB 57.9 kB/s eta 0:00:00\r\nDownloading orjson-3.10.0-cp312-none-win_amd64.whl (139 kB)\r\n   --------------------------------------- 139.4/139.4 kB 64.0 kB/s eta 0:00:00\r\nDownloading pandas-2.2.2-cp312-cp312-win_amd64.whl (11.5 MB)\r\n   ---------------------------------------- 11.5/11.5 MB 81.9 kB/s eta 0:00:00\r\nDownloading pydantic-2.7.0-py3-none-any.whl (407 kB)\r\n   -------------------------------------- 407.9/407.9 kB 438.5 kB/s eta 0:00:00\r\nDownloading pydantic_core-2.18.1-cp312-none-win_amd64.whl (1.9 MB)\r\n   ---------------------------------------- 1.9/1.9 MB 424.9 kB/s eta 0:00:00\r\nDownloading pyparsing-3.1.2-py3-none-any.whl (103 kB)\r\n   ---------------------------------------- 103.2/103.2 kB 1.5 MB/s eta 0:00:00\r\nDownloading python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)\r\n   -------------------------------------- 229.9/229.9 kB 878.6 kB/s eta 0:00:00\r\nDownloading python_multipart-0.0.9-py3-none-any.whl (22 kB)\r\nDownloading requests-2.31.0-py3-none-any.whl (62 kB)\r\n   ---------------------------------------- 62.6/62.6 kB 1.7 MB/s eta 0:00:00\r\nDownloading ruff-0.3.7-py3-none-win_amd64.whl (8.7 MB)\r\n   ---------------------------------------- 8.7/8.7 MB 1.0 MB/s eta 0:00:00\r\nDownloading semantic_version-2.10.0-py2.py3-none-any.whl (15 kB)\r\nDownloading six-1.16.0-py2.py3-none-any.whl (11 kB)\r\nDownloading typer-0.12.3-py3-none-any.whl (47 kB)\r\n   ---------------------------------------- 47.2/47.2 kB 1.2 MB/s eta 0:00:00\r\nDownloading rich-13.7.1-py3-none-any.whl (240 kB)\r\n   -------------------------------------- 240.7/240.7 kB 866.3 kB/s eta 0:00:00\r\nUsing cached typing_extensions-4.11.0-py3-none-any.whl (34 kB)\r\nDownloading uvicorn-0.29.0-py3-none-any.whl (60 kB)\r\n   ---------------------------------------- 60.8/60.8 kB 802.7 kB/s eta 0:00:00\r\nDownloading werkzeug-3.0.2-py3-none-any.whl (226 kB)\r\n   ---------------------------------------- 226.8/226.8 kB 1.4 MB/s eta 0:00:00\r\nDownloading bce_python_sdk-0.9.6-py3-none-any.whl (330 kB)\r\n   -------------------------------------- 331.0/331.0 kB 789.9 kB/s eta 0:00:00\r\nDownloading fastapi-0.110.1-py3-none-any.whl (91 kB)\r\n   ---------------------------------------- 91.9/91.9 kB 749.0 kB/s eta 0:00:00\r\nDownloading paddlefsl-1.1.0-py3-none-any.whl (101 kB)\r\n   ---------------------------------------- 101.0/101.0 kB 1.4 MB/s eta 0:00:00\r\nDownloading pydub-0.25.1-py2.py3-none-any.whl (32 kB)\r\nDownloading sentencepiece-0.2.0-cp312-cp312-win_amd64.whl (991 kB)\r\n   ---------------------------------------- 992.0/992.0 kB 1.0 MB/s eta 0:00:00\r\nDownloading annotated_types-0.6.0-py3-none-any.whl (12 kB)\r\nDownloading Babel-2.14.0-py3-none-any.whl (11.0 MB)\r\n   ---------------------------------------- 11.0/11.0 MB 1.0 MB/s eta 0:00:00\r\nDownloading charset_normalizer-3.3.2-cp312-cp312-win_amd64.whl (100 kB)\r\n   -------------------------------------- 100.4/100.4 kB 385.3 kB/s eta 0:00:00\r\nDownloading fsspec-2024.2.0-py3-none-any.whl (170 kB)\r\n   -------------------------------------- 170.9/170.9 kB 934.4 kB/s eta 0:00:00\r\nDownloading aiohttp-3.9.4-cp312-cp312-win_amd64.whl (368 kB)\r\n   -------------------------------------- 368.8/368.8 kB 818.7 kB/s eta 0:00:00\r\nDownloading future-1.0.0-py3-none-any.whl (491 kB)\r\n   ---------------------------------------- 491.3/491.3 kB 1.6 MB/s eta 0:00:00\r\nDownloading jsonschema-4.21.1-py3-none-any.whl (85 kB)\r\n   ---------------------------------------- 85.5/85.5 kB 482.6 kB/s eta 0:00:00\r\nDownloading markdown_it_py-3.0.0-py3-none-any.whl (87 kB)\r\n   ---------------------------------------- 87.5/87.5 kB 224.7 kB/s eta 0:00:00\r\nDownloading pyarrow-15.0.2-cp312-cp312-win_amd64.whl (25.3 MB)\r\n   ---------------------------------------- 25.3/25.3 MB 1.3 MB/s eta 0:00:00\r\nDownloading pycryptodome-3.20.0-cp35-abi3-win_amd64.whl (1.8 MB)\r\n   ---------------------------------------- 1.8/1.8 MB 290.8 kB/s eta 0:00:00\r\nDownloading pygments-2.17.2-py3-none-any.whl (1.2 MB)\r\n   ---------------------------------------- 1.2/1.2 MB 692.8 kB/s eta 0:00:00\r\nDownloading pytz-2024.1-py2.py3-none-any.whl (505 kB)\r\n   -------------------------------------- 505.5/505.5 kB 487.4 kB/s eta 0:00:00\r\nDownloading scikit_learn-1.4.2-cp312-cp312-win_amd64.whl (10.6 MB)\r\n   ---------------------------------------- 10.6/10.6 MB 618.3 kB/s eta 0:00:00\r\nDownloading shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)\r\nDownloading starlette-0.37.2-py3-none-any.whl (71 kB)\r\n   ---------------------------------------- 71.9/71.9 kB 978.9 kB/s eta 0:00:00\r\nDownloading tzdata-2024.1-py2.py3-none-any.whl (345 kB)\r\n   -------------------------------------- 345.4/345.4 kB 933.5 kB/s eta 0:00:00\r\nDownloading urllib3-2.2.1-py3-none-any.whl (121 kB)\r\n   -------------------------------------- 121.1/121.1 kB 394.4 kB/s eta 0:00:00\r\nDownloading websockets-11.0.3-py3-none-any.whl (118 kB)\r\n   -------------------------------------- 118.1/118.1 kB 528.5 kB/s eta 0:00:00\r\nDownloading pyarrow_hotfix-0.6-py3-none-any.whl (7.9 kB)\r\nDownloading toolz-0.12.1-py3-none-any.whl (56 kB)\r\n   ---------------------------------------- 56.1/56.1 kB 976.2 kB/s eta 0:00:00\r\nDownloading xxhash-3.4.1-cp312-cp312-win_amd64.whl (29 kB)\r\nDownloading aiosignal-1.3.1-py3-none-any.whl (7.6 kB)\r\nDownloading attrs-23.2.0-py3-none-any.whl (60 kB)\r\n   ---------------------------------------- 60.8/60.8 kB 814.7 kB/s eta 0:00:00\r\nDownloading frozenlist-1.4.1-cp312-cp312-win_amd64.whl (50 kB)\r\n   ---------------------------------------- 50.5/50.5 kB 638.3 kB/s eta 0:00:00\r\nDownloading joblib-1.4.0-py3-none-any.whl (301 kB)\r\n   ---------------------------------------- 301.2/301.2 kB 1.3 MB/s eta 0:00:00\r\nDownloading jsonschema_specifications-2023.12.1-py3-none-any.whl (18 kB)\r\nDownloading mdurl-0.1.2-py3-none-any.whl (10.0 kB)\r\nDownloading multidict-6.0.5-cp312-cp312-win_amd64.whl (27 kB)\r\nDownloading referencing-0.34.0-py3-none-any.whl (26 kB)\r\nDownloading rpds_py-0.18.0-cp312-none-win_amd64.whl (206 kB)\r\n   -------------------------------------- 206.3/206.3 kB 291.8 kB/s eta 0:00:00\r\nDownloading scipy-1.13.0-cp312-cp312-win_amd64.whl (45.9 MB)\r\n   ---------------------------------------- 45.9/45.9 MB 1.3 MB/s eta 0:00:00\r\nDownloading threadpoolctl-3.4.0-py3-none-any.whl (17 kB)\r\nDownloading yarl-1.9.4-cp312-cp312-win_amd64.whl (76 kB)\r\n   ---------------------------------------- 76.4/76.4 kB 1.1 MB/s eta 0:00:00\r\nBuilding wheels for collected packages: onnx, ffmpy, jieba, seqeval\r\n  Building wheel for onnx (pyproject.toml): started\r\n  Building wheel for onnx (pyproject.toml): finished with status 'error'\r\n  Building wheel for ffmpy (pyproject.toml): started\r\n  Building wheel for ffmpy (pyproject.toml): finished with status 'done'\r\n  Created wheel for ffmpy: filename=ffmpy-0.3.2-py3-none-any.whl size=5607 sha256=59e03f96891223685eda952d2b3fcee43dca262428d142fc4f5833c42a4eb806\r\n  Stored in directory: c:\\users\\15487\\appdata\\local\\pip\\cache\\wheels\\8a\\63\\a8\\fad16a1c5c990569a478f40782ce543788ddac224288008635\r\n  Building wheel for jieba (pyproject.toml): started\r\n  Building wheel for jieba (pyproject.toml): finished with status 'done'\r\n  Created wheel for jieba: filename=jieba-0.42.1-py3-none-any.whl size=19314474 sha256=888a3c273d7d1e174d342173f12205183ac8b54fde2e58e29e78201c1fe759c3\r\n  Stored in directory: c:\\users\\15487\\appdata\\local\\pip\\cache\\wheels\\08\\a1\\a3\\5c8ac52cc2f5782ffffc34c95c57c8e5ecb3063dc69541ee7c\r\n  Building wheel for seqeval (pyproject.toml): started\r\n  Building wheel for seqeval (pyproject.toml): finished with status 'done'\r\n  Created wheel for seqeval: filename=seqeval-1.2.2-py3-none-any.whl size=16186 sha256=54af15fabceff5a4b3df08f2e7941b785dca9fbc0a333b76183932ee98019669\r\n  Stored in directory: c:\\users\\15487\\appdata\\local\\pip\\cache\\wheels\\5f\\b8\\73\\0b2c1a76b701a677653dd79ece07cfabd7457989dbfbdcd8d7\r\nSuccessfully built ffmpy jieba seqeval\r\nFailed to build onnx\r\n\r\nWARNING: typer 0.12.3 does not provide the extra 'all'\r\n  error: subprocess-exited-with-error\r\n  \r\n  Building wheel for onnx (pyproject.toml) did not run successfully.\r\n  exit code: 1\r\n  \r\n  [106 lines of output]\r\n  fatal: not a git repository (or any of the parent directories): .git\r\n  C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\dist.py:476: SetuptoolsDeprecationWarning: Invalid dash-separated options\r\n  !!\r\n  \r\n          ********************************************************************************\r\n          Usage of dash-separated 'license-file' will not be supported in future\r\n          versions. Please use the underscore name 'license_file' instead.\r\n  \r\n          By 2024-Sep-26, you need to update your project and remove deprecated calls\r\n          or your builds will no longer be supported.\r\n  \r\n          See https://setuptools.pypa.io/en/latest/userguide/declarative_config.html for details.\r\n          ********************************************************************************\r\n  \r\n  !!\r\n    opt = self.warn_dash_deprecation(opt, section)\r\n  running bdist_wheel\r\n  running build\r\n  running build_py\r\n  running create_version\r\n  running cmake_build\r\n  Using cmake args: ['D:\\\\Python\\\\Scripts\\\\cmake.exe', '-DPYTHON_INCLUDE_DIR=D:\\\\Python\\\\include', '-DPYTHON_EXECUTABLE=D:\\\\Code Of Python\\\\pythonProject\\\\.venv\\\\Scripts\\\\python.exe', '-DBUILD_ONNX_PYTHON=ON', '-DCMAKE_EXPORT_COMPILE_COMMANDS=ON', '-DONNX_NAMESPACE=onnx', '-DPY_EXT_SUFFIX=.cp312-win_amd64.pyd', '-DCMAKE_BUILD_TYPE=Release', '-DPY_VERSION=3.12', '-DONNX_USE_MSVC_STATIC_RUNTIME=ON', '-A', 'x64', '-T', 'host=x64', '-DONNX_ML=1', 'C:\\\\Users\\\\15487\\\\AppData\\\\Local\\\\Temp\\\\pip-install-nlcx8vlp\\\\onnx_23ac968013fd49669ec3c84e87c89b70']\r\n  -- Building for: NMake Makefiles\r\n  CMake Deprecation Warning at CMakeLists.txt:2 (cmake_minimum_required):\r\n    Compatibility with CMake < 3.5 will be removed from a future version of\r\n    CMake.\r\n  \r\n    Update the VERSION argument <min> value or use a ...<max> suffix to tell\r\n    CMake that the project does not need compatibility with older versions.\r\n  \r\n  \r\n  CMake Error at CMakeLists.txt:17 (project):\r\n    Generator\r\n  \r\n      NMake Makefiles\r\n  \r\n    does not support platform specification, but platform\r\n  \r\n      x64\r\n  \r\n    was specified.\r\n  \r\n  \r\n  CMake Error: CMAKE_C_COMPILER not set, after EnableLanguage\r\n  CMake Error: CMAKE_CXX_COMPILER not set, after EnableLanguage\r\n  -- Configuring incomplete, errors occurred!\r\n  Traceback (most recent call last):\r\n    File \"D:\\Code Of Python\\pythonProject\\.venv\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 353, in <module>\r\n      main()\r\n    File \"D:\\Code Of Python\\pythonProject\\.venv\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 335, in main\r\n      json_out['return_val'] = hook(**hook_input['kwargs'])\r\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"D:\\Code Of Python\\pythonProject\\.venv\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 251, in build_wheel\r\n      return _build_backend().build_wheel(wheel_directory, config_settings,\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 410, in build_wheel\r\n      return self._build_with_temp_dir(\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 395, in _build_with_temp_dir\r\n      self.run_setup()\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 487, in run_setup\r\n      super().run_setup(setup_script=setup_script)\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 311, in run_setup\r\n      exec(code, locals())\r\n    File \"<string>\", line 337, in <module>\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\__init__.py\", line 104, in setup\r\n      return distutils.core.setup(**attrs)\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\core.py\", line 184, in setup\r\n      return run_commands(dist)\r\n             ^^^^^^^^^^^^^^^^^^\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\core.py\", line 200, in run_commands\r\n      dist.run_commands()\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 969, in run_commands\r\n      self.run_command(cmd)\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\dist.py\", line 967, in run_command\r\n      super().run_command(command)\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n      cmd_obj.run()\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\wheel\\bdist_wheel.py\", line 368, in run\r\n      self.run_command(\"build\")\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 316, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\dist.py\", line 967, in run_command\r\n      super().run_command(command)\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n      cmd_obj.run()\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\command\\build.py\", line 132, in run\r\n      self.run_command(cmd_name)\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 316, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\dist.py\", line 967, in run_command\r\n      super().run_command(command)\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n      cmd_obj.run()\r\n    File \"<string>\", line 233, in run\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\cmd.py\", line 316, in run_command\r\n      self.distribution.run_command(command)\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\dist.py\", line 967, in run_command\r\n      super().run_command(command)\r\n    File \"C:\\Users\\15487\\AppData\\Local\\Temp\\pip-build-env-uhcowxny\\overlay\\Lib\\site-packages\\setuptools\\_distutils\\dist.py\", line 988, in run_command\r\n      cmd_obj.run()\r\n    File \"<string>\", line 219, in run\r\n    File \"D:\\Python\\Lib\\subprocess.py\", line 413, in check_call\r\n      raise CalledProcessError(retcode, cmd)\r\n  subprocess.CalledProcessError: Command '['D:\\\\Python\\\\Scripts\\\\cmake.exe', '-DPYTHON_INCLUDE_DIR=D:\\\\Python\\\\include', '-DPYTHON_EXECUTABLE=D:\\\\Code Of Python\\\\pythonProject\\\\.venv\\\\Scripts\\\\python.exe', '-DBUILD_ONNX_PYTHON=ON', '-DCMAKE_EXPORT_COMPILE_COMMANDS=ON', '-DONNX_NAMESPACE=onnx', '-DPY_EXT_SUFFIX=.cp312-win_amd64.pyd', '-DCMAKE_BUILD_TYPE=Release', '-DPY_VERSION=3.12', '-DONNX_USE_MSVC_STATIC_RUNTIME=ON', '-A', 'x64', '-T', 'host=x64', '-DONNX_ML=1', 'C:\\\\Users\\\\15487\\\\AppData\\\\Local\\\\Temp\\\\pip-install-nlcx8vlp\\\\onnx_23ac968013fd49669ec3c84e87c89b70']' returned non-zero exit status 1.\r\n  [end of output]\r\n  \r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\n  ERROR: Failed building wheel for onnx\r\nERROR: Could not build wheels for onnx, which is required to install pyproject.toml-based projects\r\n\r\n",
        "state": "closed",
        "user": "lanlan1234",
        "closed_by": "WYB27",
        "created_at": "2024-04-15T15:40:20+00:00",
        "updated_at": "2025-06-30T07:06:10+00:00",
        "closed_at": "2025-06-30T07:06:10+00:00",
        "comments_count": [
            "w5688414",
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2324,
        "title": "下载hub模型失败",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n已安装paddlepaddle 2.3.2\r\npaddlehub 2.1.0\r\n使用hub install ace2p，或其他模型，均下载失败Max retries exceeded with url: /paddlehub/paddlehub_dev/ace2p_1_2_0.zip (Caused by SSLError(SSLZeroReturnError(6, 'TLS/SSL connection has been closed (EOF) (_ssl.c:1135)')))\r\n\r\n检查网络问题, ping baidu成功。ping http://paddlepaddle.org.cn/paddlehub无响应。\r\n\r\n请问如何解决",
        "state": "closed",
        "user": "Wangjunyue",
        "closed_by": "WYB27",
        "created_at": "2024-04-28T08:12:21+00:00",
        "updated_at": "2025-06-30T07:06:08+00:00",
        "closed_at": "2025-06-30T07:06:08+00:00",
        "comments_count": [
            "github-actions[bot]"
        ],
        "labels": [
            "stale"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleHub",
        "number": 7,
        "title": "hub自动解压会报错？",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：ubuntu, python=3.8.1\r\n- conda 创建 python=3.8.1的版本，\r\n- 然后activate，然后 按照官网的 pip install paddlepaddle = xxx --channel = xxxx，\r\n- 然后 pip install paddlehub\r\n- 然后再跑 这个示例代码：\r\n import paddlehub as hub\r\n\r\nlac = hub.Module(name=\"lac\")\r\ntest_text = [\"今天是个好天气。\"]\r\n\r\nresults = lac.cut(text=test_text, use_gpu=False, batch_size=1, return_tag=True)\r\nprint(results)\r\n#{'word': ['今天', '是', '个', '好天气', '。'], 'tag': ['TIME', 'v', 'q', 'n', 'w']}\r\n\r\n然后就报错了。：\r\n不知道源码是free了啥东西？\r\n\r\n\r\nTIPS:我手动解压到 ~/.paddlehub/modules ，然后再跑就没报错了。是自动解压出了啥问题吗？\r\n\r\n/home/ubuntu/miniconda3/envs/paddle_env/lib/python3.8/site-packages/_distutils_hack/__init__.py:26: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\nDownload https://bj.bcebos.com/paddlehub/paddlehub_dev/lac_2.4.0.zip\r\n[##################################################] 100.00%\r\nDecompress /home/ubuntu/.paddlehub/tmp/tmpb9b049u1/lac_2.4.0.zip\r\nfree(): invalid pointer\r\nAborted (core dumped)\r\n(paddle_env) (base) ubuntu@VM-12-2-ubuntu:~/.paddlehub$ ",
        "state": "open",
        "user": "allenxln",
        "closed_by": null,
        "created_at": "2024-05-11T13:33:45+00:00",
        "updated_at": "2025-06-25T13:36:41+00:00",
        "closed_at": null,
        "comments_count": [
            "w5688414"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2326,
        "title": "pip install paddlehub is error",
        "body": "Collecting onnx<=1.9.0 (from paddle2onnx>=0.5.1->paddlehub)\r\n  Using cached https://mirrors.163.com/pypi/packages/73/e9/5b953497c0e36df589fc60cc6c6b35a65eb67d9ad1e45a9163663e43426e/onnx-1.9.0.tar.gz (9.8 MB)\r\n  Installing build dependencies ... done\r\n  Getting requirements to build wheel ... error\r\n  error: subprocess-exited-with-error\r\n\r\n  × Getting requirements to build wheel did not run successfully.\r\n  │ exit code: 1\r\n  ╰─> [21 lines of output]\r\n      fatal: not a git repository (or any of the parent directories): .git\r\n      Traceback (most recent call last):\r\n        File \"D:\\python\\pyside6Test\\.venv\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 353, in <module>\r\n          main()\r\n        File \"D:\\python\\pyside6Test\\.venv\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 335, in main\r\n          json_out['return_val'] = hook(**hook_input['kwargs'])\r\n                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"D:\\python\\pyside6Test\\.venv\\Lib\\site-packages\\pip\\_vendor\\pyproject_hooks\\_in_process\\_in_process.py\", line 118, in get_requires_for_build_wheel\r\n          return hook(config_settings)\r\n                 ^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\zspym\\AppData\\Local\\Temp\\pip-build-env-qszjaty2\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 325, in get_requires_for_build_wheel  \r\n          return self._get_build_requires(config_settings, requirements=['wheel'])\r\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n        File \"C:\\Users\\zspym\\AppData\\Local\\Temp\\pip-build-env-qszjaty2\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 295, in _get_build_requires\r\n          self.run_setup()\r\n        File \"C:\\Users\\zspym\\AppData\\Local\\Temp\\pip-build-env-qszjaty2\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 487, in run_setup\r\n          super().run_setup(setup_script=setup_script)\r\n        File \"C:\\Users\\zspym\\AppData\\Local\\Temp\\pip-build-env-qszjaty2\\overlay\\Lib\\site-packages\\setuptools\\build_meta.py\", line 311, in run_setup\r\n          exec(code, locals())\r\n        File \"<string>\", line 86, in <module>\r\n      AssertionError: Could not find \"cmake\" executable!\r\n      [end of output]\r\n\r\n  note: This error originates from a subprocess, and is likely not a problem with pip.\r\nerror: subprocess-exited-with-error\r\n\r\n× Getting requirements to build wheel did not run successfully.\r\n│ exit code: 1\r\n╰─> See above for output.\r\nwin11x64, 2.4.0",
        "state": "closed",
        "user": "itmeicn",
        "closed_by": "itmeicn",
        "created_at": "2024-05-15T08:39:55+00:00",
        "updated_at": "2024-05-15T08:52:25+00:00",
        "closed_at": "2024-05-15T08:52:25+00:00",
        "comments_count": [
            "itmeicn",
            "itmeicn"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2330,
        "title": "http://paddlepaddle.org.cn/paddlehub网址不存在",
        "body": "使用时报错如下：paddlehub.server.server_source.ServerConnectionError: Can't connect to Hub Server: http://paddlepaddle.org.cn/paddlehub\r\n前面均有正常安装，运行paddlehub.server_check()也没任何问题\r\n我手动输入网址http://paddlepaddle.org.cn/paddlehub发现页面根本不存在，这个要怎么解决：\r\n![image](https://github.com/PaddlePaddle/PaddleHub/assets/73813197/a2a0caf6-2942-485b-9771-84dd85bb0087)\r\n\r\n\r\n",
        "state": "closed",
        "user": "zrg0712",
        "closed_by": "zrg0712",
        "created_at": "2024-06-13T07:34:46+00:00",
        "updated_at": "2025-06-27T12:52:21+00:00",
        "closed_at": "2024-06-13T08:06:02+00:00",
        "comments_count": [
            "WYB27"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2329,
        "title": "cudaErrorInitializationError",
        "body": "将use_multiprocess设置为false就可以正常使用，设置为true就报这个错\r\n详细见https://github.com/PaddlePaddle/PaddleOCR/issues/12525",
        "state": "closed",
        "user": "sheiy",
        "closed_by": "sheiy",
        "created_at": "2024-05-29T09:19:50+00:00",
        "updated_at": "2025-06-27T12:52:27+00:00",
        "closed_at": "2024-06-03T07:39:33+00:00",
        "comments_count": [
            "WYB27"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleHub",
        "number": 9,
        "title": "import paddlehub is error",
        "body": "python3.8和python3.9 win11x64都试了全报错，\r\npip install paddlepaddle-gpu==2.5.1\r\npip install paddlehub==2.4.0\r\n\r\n````pythonimport paddlehub as hub\r\nimport cv2\r\nimport sys\r\nimport os\r\n\r\nif __name__ == '__main__':\r\n    print('111')\r\n````\r\nerror:\r\nD:\\python\\test2\\.venv\\lib\\site-packages\\_distutils_hack\\__init__.py:33: UserWarning: Setuptools is replacing distutils.\r\n  warnings.warn(\"Setuptools is replacing distutils.\")\r\nTraceback (most recent call last):\r\n  File \"D:\\python\\test2\\main.py\", line 2, in <module>\r\n    import paddlehub as hub\r\n  File \"D:\\python\\test2\\.venv\\lib\\site-packages\\paddlehub\\__init__.py\", line 31, in <module>\r\n    from paddlehub import datasets\r\n  File \"D:\\python\\test2\\.venv\\lib\\site-packages\\paddlehub\\datasets\\__init__.py\", line 16, in <module>\r\n    from paddlehub.datasets.chnsenticorp import ChnSentiCorp\r\n  File \"D:\\python\\test2\\.venv\\lib\\site-packages\\paddlehub\\datasets\\chnsenticorp.py\", line 19, in <module>\r\n    from paddlehub.datasets.base_nlp_dataset import TextClassificationDataset\r\n  File \"D:\\python\\test2\\.venv\\lib\\site-packages\\paddlehub\\datasets\\base_nlp_dataset.py\", line 21, in <module>\r\n    import paddlenlp\r\n  File \"D:\\python\\test2\\.venv\\lib\\site-packages\\paddlenlp\\__init__.py\", line 35, in <module>\r\n    from . import (\r\n  File \"D:\\python\\test2\\.venv\\lib\\site-packages\\paddlenlp\\data\\__init__.py\", line 18, in <module>\r\n    from .data_collator import *\r\n  File \"D:\\python\\test2\\.venv\\lib\\site-packages\\paddlenlp\\data\\data_collator.py\", line 26, in <module>\r\n    from ..transformers import BertTokenizer\r\n  File \"D:\\python\\test2\\.venv\\lib\\site-packages\\paddlenlp\\transformers\\__init__.py\", line 51, in <module>\r\n    from .gpt.tokenizer import *\r\n  File \"D:\\python\\test2\\.venv\\lib\\site-packages\\paddlenlp\\transformers\\gpt\\tokenizer.py\", line 22, in <module>\r\n    import jieba\r\nModuleNotFoundError: No module named 'jieba'",
        "state": "open",
        "user": "itmeicn",
        "closed_by": null,
        "created_at": "2024-05-16T09:20:37+00:00",
        "updated_at": "2025-06-27T12:28:19+00:00",
        "closed_at": null,
        "comments_count": [
            "itmeicn",
            "w5688414",
            "itmeicn",
            "w5688414",
            "github-actions[bot]"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleHub",
        "number": 8,
        "title": "paddleHub不支持python3.12.3会导致安装出错，但是没有在官网有提示不支持",
        "body": "欢迎您对PaddleHub提出建议，非常感谢您对PaddleHub的贡献！\r\n在留下您的建议时，辛苦您同步提供如下信息：\r\n- 您想要增加什么新特性？\r\n- 什么样的场景下需要该特性？\r\n- 没有该特性的条件下，PaddleHub目前是否能间接满足该需求？\r\n- 增加该特性，PaddleHub可能需要变化的部分。\r\n- 如果可以的话，简要描述下您的解决方案\r\n",
        "state": "open",
        "user": "yoyalin",
        "closed_by": null,
        "created_at": "2024-05-29T04:58:24+00:00",
        "updated_at": "2025-06-27T12:25:20+00:00",
        "closed_at": null,
        "comments_count": [
            "yoyalin",
            "itmeicn",
            "github-actions[bot]"
        ],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2335
    },
    {
        "repo": "PaddlePaddle/PaddleHub",
        "number": 5,
        "title": "paddlepadlle2.6.1与最新版paddlehub最新版 运行ch_pp-ocrv3_det这类OCR文字识别的时候 输出为空",
        "body": "paddlepadlle2.6.1与最新版paddlehub最新版 运行ch_pp-ocrv3_det这类OCR文字识别的时候 输出为空\r\npaddlehub是不是已经没有进行维护了呢",
        "state": "open",
        "user": "y-yunheng",
        "closed_by": null,
        "created_at": "2024-07-04T06:53:12+00:00",
        "updated_at": "2025-06-25T13:35:49+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleHub",
        "number": 4,
        "title": "小白请教ernie_skep_sentiment_analysis怎么指定使用那张显卡？",
        "body": "我有两张显卡，我在学习ernie_skep_sentiment_analysis预测代码示例：\r\n\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"ernie_skep_sentiment_analysis\")\r\n\r\ntest_texts = ['你不是不聪明，而是不认真', '虽然小明很努力，但是他还是没有考100分']\r\nresults = module.predict_sentiment(test_texts, use_gpu=False)\r\n\r\nfor result in results:\r\n    print(result['text'])\r\n    print(result['sentiment_label'])\r\n    print(result['positive_probs'])\r\n    print(result['negative_probs'])\r\n\r\n\r\n我想在代码示例中加入显卡指定，好像不能通过os.environ[\"CUDA_VISIBLE_DEVICES\"]=\"1\"来指定运行显卡。\r\n\r\n另外我也尝试修改了model.py 中的\r\n_places = os.environ[\"CUDA_VISIBLE_DEVICES\"]\r\nint(_places[0])\r\n\r\n也不能指定显卡。\r\n\r\n请问要怎么做才能够在预测代码示例中加入指定显卡？",
        "state": "open",
        "user": "thehzzz",
        "closed_by": null,
        "created_at": "2024-07-04T07:36:34+00:00",
        "updated_at": "2025-06-25T13:15:54+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleHub",
        "number": 6,
        "title": "paddlepaddle 2.6.1，paddlehub 2.4.0，启动报 Illegal instruction (core dumped) 错误",
        "body": "CPU推理，paddlepaddle 2.6.1，paddlehub 2.4.0，启动报 Illegal instruction (core dumped) 错误\r\n\r\n\r\n以下是部署过程：\r\n\r\n$ docker pull registry.baidubce.com/paddlepaddle/paddle:2.5.1\r\n\r\n$ docker run -p 8866:8866 --name paddleOCR-v4-demo -itd registry.baidubce.com/paddlepaddle/paddle:2.5.1 /bin/bash\r\n\r\n$ docker exec -it <容器ID> /bin/bash\r\n\r\n#======================================================================\r\n\r\n同步下来的PaddleOCR版本为2.8.0\r\n$ git clone https://github.com/PaddlePaddle/PaddleOCR.git\r\n\r\n$ cd PaddleOCR/\r\n$ pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/\r\n$ pip install paddlehub==2.4.0 --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple/\r\n\r\n#======================================================================\r\n\r\n$ cd /opt/\r\n$ mkdir -p /opt/PaddleOCR/inference/\r\n\r\n文本检测模型\r\n$ wget https://paddleocr.bj.bcebos.com/PP-OCRv4/chinese/ch_PP-OCRv4_det_infer.tar && tar -xf ch_PP-OCRv4_det_infer.tar -C /opt/PaddleOCR/inference/\r\n\r\n文本方向分类模型\r\n$ wget https://paddleocr.bj.bcebos.com/dygraph_v2.0/ch/ch_ppocr_mobile_v2.0_cls_infer.tar && tar -xf ch_ppocr_mobile_v2.0_cls_infer.tar -C /opt/PaddleOCR/inference/\r\n\r\n文本识别模型\r\n$ wget https://paddleocr.bj.bcebos.com/PP-OCRv4/chinese/ch_PP-OCRv4_rec_infer.tar && tar -xf ch_PP-OCRv4_rec_infer.tar -C /opt/PaddleOCR/inference/\r\n\r\n基于SLANet的中文表格识别模型\r\n$ wget https://paddleocr.bj.bcebos.com/ppstructure/models/slanet/ch_ppstructure_mobile_v2.0_SLANet_infer.tar && tar -xf ch_ppstructure_mobile_v2.0_SLANet_infer.tar -C /opt/PaddleOCR/inference/\r\n\r\n#======================================================================\r\n\r\n修改本地模型路径配置\r\n$ vim PaddleOCR/deploy/hubserving/ocr_system/params.py\r\n\r\n3阶段串联修改位置\r\n`def read_params():\r\n    cfg = Config()\r\n\r\n    # params for text detector\r\n    cfg.det_algorithm = \"DB\"\r\n    # 模型路径\r\n    # cfg.det_model_dir = \"./inference/ch_PP-OCRv3_det_infer/\"\r\n    cfg.det_model_dir = \"/opt/PaddleOCR/inference/ch_PP-OCRv4_det_infer/\"\r\n\r\n    # params for text recognizer\r\n    cfg.rec_algorithm = \"CRNN\"\r\n    # 模型路径\r\n    # cfg.rec_model_dir = \"./inference/ch_PP-OCRv3_rec_infer/\"\r\n    cfg.rec_model_dir = \"/opt/PaddleOCR/inference/ch_PP-OCRv4_rec_infer/\"\r\n    \r\n    # params for text classifier\r\n    cfg.use_angle_cls = True\r\n    # 模型路径\r\n\t# cfg.cls_model_dir = \"./inference/ch_ppocr_mobile_v2.0_cls_infer/\"\r\n    cfg.cls_model_dir = \"/opt/PaddleOCR/inference/ch_ppocr_mobile_v2.0_cls_infer/\"`\r\n\r\n表格识别\r\n$ vim PaddleOCR/deploy/hubserving/structure_table/params.py\r\n\r\n修改位置\r\n`def read_params():\r\n    cfg = pp_ocr_read_params()\r\n\r\n    # params for table structure model\r\n    cfg.table_max_len = 488\r\n    # 模型路径\r\n    cfg.table_model_dir = \"/opt/PaddleOCR/inference/ch_ppstructure_mobile_v2.0_SLANet_infer/\"\r\n    # 语言字典，根据模型选择\r\n    # 字典文件在 PaddleOCR/ppocr/utils/dict/ 目录\r\n    cfg.table_char_dict_path = \"./ppocr/utils/dict/table_structure_dict_ch.txt\"\r\n    cfg.show_log = False\r\n    return cfg`\r\n\r\n#======================================================================\r\n\r\n$ pip uninstall protobuf -y\r\n$ pip install protobuf==3.20.2 -i https://pypi.tuna.tsinghua.edu.cn/simple/\r\n\r\n#======================================================================\r\n$ cd /opt/PaddleOCR/\r\n\r\n文本检测+文本方向分类+文本识别3阶段串联服务\r\n$ hub install deploy/hubserving/ocr_system/\r\n\r\n表格识别服务\r\n$ hub install deploy/hubserving/structure_table\r\n\r\n#======================================================================\r\n\r\n报错：Illegal instruction (core dumped) \r\n$ hub serving start -m ocr_system structure_table -p 8866\r\n\r\n",
        "state": "open",
        "user": "dp9212",
        "closed_by": null,
        "created_at": "2024-06-28T06:10:53+00:00",
        "updated_at": "2025-06-25T13:36:15+00:00",
        "closed_at": null,
        "comments_count": [
            "pjd206",
            "hyp530"
        ],
        "labels": []
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2336
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2338
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 2340
    },
    {
        "repo": "PaddlePaddle/PaddleHub",
        "number": 3,
        "title": "使用ernie_vilg，提供了AK，SK，依然不能连接",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\n在aistudio里运行\r\n\r\n# os.environ[\"WENXIN_AK\"] = \"\"  # 替换为你的 API Key\r\n# os.environ[\"WENXIN_SK\"] = \"\"  # 替换为你的 Secret Key\r\n\r\nimport paddlehub as hub\r\nmodule = hub.Module(name=\"ernie_vilg\")\r\nresults = module.generate_image(text_prompts=[\"波涛汹涌的大海\"])\r\n\r\n----\r\n/.paddlehub/modules/ernie_vilg/module.py in _apply_token(self, ak, sk)\r\n     51             if res['code'] != 0:\r\n     52                 print('Request access token error.')\r\n---> 53                 raise RuntimeError(\"Request access token error.\")\r\n     54         else:\r\n     55             print('Request access token error.')\r\nRuntimeError: Request access token error.\r\n\r\n\r\n\r\n",
        "state": "open",
        "user": "BarryYin",
        "closed_by": null,
        "created_at": "2024-11-27T08:43:33+00:00",
        "updated_at": "2025-06-25T13:14:12+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2390,
        "title": "[Question]:",
        "body": "### 请提出你的问题\n\n![Image](https://github.com/user-attachments/assets/86515ab6-8518-4c35-9255-93df1956618b)",
        "state": "closed",
        "user": "lugimzzz",
        "closed_by": "lugimzzz",
        "created_at": "2025-06-28T08:45:00+00:00",
        "updated_at": "2025-06-28T08:49:49+00:00",
        "closed_at": "2025-06-28T08:49:49+00:00",
        "comments_count": [],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleHub",
        "number": 1,
        "title": "没有任何更改的官方教程运行错误",
        "body": "环境：在BML codelab中的vscode运行的代码，使用的全部默认配置\r\n\r\ncode如下：\r\n```\r\nimport paddlehub as hub\r\nlac = hub.Module(name=\"lac\")\r\ntest_text = [\"今天是个好天气。\"]\r\nresults = lac.cut(text=test_text, use_gpu=False, batch_size=1, return_tag=True)\r\nprint(results)\r\n#{'word': ['今天', '是', '个', '好天气', '。'], 'tag': ['TIME', 'v', 'q', 'n', 'w']}\r\n```\r\n\r\n报错内容如下：\r\n  File \"/home/aistudio/.paddlehub/modules/lac/module.py\", line 208, in cut\r\n    predictor.run()\r\nValueError: In user code:\r\n\r\n\r\n    InvalidArgumentError: The type of data we are trying to retrieve (float32) does not match the type of data (int64) currently contained in the container.\r\n      [Hint: Expected dtype() == phi::CppTypeToDataType<T>::Type(), but received dtype():9 != phi::CppTypeToDataType<T>::Type():10.] (at ../paddle/phi/core/dense_tensor.cc:160)\r\n      [operator < pd_kernel.phi_kernel > error]",
        "state": "open",
        "user": "leftsl",
        "closed_by": null,
        "created_at": "2025-01-02T10:39:07+00:00",
        "updated_at": "2025-06-25T13:11:11+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleHub",
        "number": 2,
        "title": "hub命令使用不了",
        "body": "欢迎您反馈PaddleHub使用问题，非常感谢您对PaddleHub的贡献！\r\n在留下您的问题时，辛苦您同步提供如下信息：\r\n- 版本、环境信息\r\n1）PaddleHub和PaddlePaddle版本：请提供您的PaddleHub和PaddlePaddle版本号，例如PaddleHub1.4.1，PaddlePaddle1.6.2\r\n2）系统环境：请您描述系统类型，例如Linux/Windows/MacOS/，python版本\r\n- 复现信息：如为报错，请给出复现环境、复现步骤\r\n\r\nlinux系统，python3.11\r\n\r\npaddle2onnx              1.3.1\r\npaddlefsl                1.1.0\r\npaddlehub                2.4.0\r\npaddlenlp                2.6.1\r\npaddleocr                2.9.1\r\npaddlepaddle-gpu         2.6.2\r\n以上是使用的版本。\r\n\r\n在python的解释器中，输入import paddle，再输入 paddle.utils.run_check()。出现 PaddlePaddle is installed successfully!\r\n在python的解释器中再输入，import paddlehub，print(paddlehub.__version__)。出现2.4.0\r\n\r\n但在bash命令行中输入hub serving start -m chinese_ocr_db_crnn_server，提示hub: command not found\r\n",
        "state": "open",
        "user": "geqiang996",
        "closed_by": null,
        "created_at": "2024-12-24T08:05:41+00:00",
        "updated_at": "2025-06-25T13:13:57+00:00",
        "closed_at": null,
        "comments_count": [
            "Yuseshu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2397,
        "title": "[Bug]: Tokenizer class Ernie4_5_Tokenizer does not exist or is not currently imported",
        "body": "### 软件环境\n\n```Markdown\n- paddlepaddle:3.1.0\n- paddlepaddle-gpu: \n- paddleformers: 0.1\n```\n\n### 重复问题\n\n- [x] I have searched the existing issues\n\n### 错误描述\n\n```Markdown\nTraceback (most recent call last):\n  File \"/home/ov/ERNIE/test_tok.py\", line 2, in <module>\n    tokenizer = AutoTokenizer.from_pretrained(\"./ERNIE-4.5-0.3B-Base-Paddle\")\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ov/miniconda3/envs/ernie/lib/python3.11/site-packages/paddleformers/transformers/auto/tokenizer.py\", line 389, in from_pretrained\n    raise ValueError(\nValueError: Tokenizer class Ernie4_5_Tokenizer does not exist or is not currently imported.\n```\n\n### 稳定复现步骤 & 代码\n\n1. Download ERNIE-4.5-0.3B-Base-Paddle from Modelscope by the command:\n> git clone https://oauth2:Hyzfyt-YJmCmTCSJyJgs@www.modelscope.cn/PaddlePaddle/ERNIE-4.5-0.3B-Base-Paddle.git \n\n2. Run the test code\n```python\nfrom paddleformers.transformers import AutoTokenizer\ntokenizer = AutoTokenizer.from_pretrained(\"./ERNIE-4.5-0.3B-Base-Paddle\")\n\ntext = \"你好，我是小度。\"\n\ntokens = tokenizer.encode(text)\nprint(tokens)\n\ndecoded_text = tokenizer.decode(tokens)\nprint(decoded_text)\n```\n\nYou will get the error:\n\n![Image](https://github.com/user-attachments/assets/d7b1b5e5-979f-4dea-b575-dff8fa63d6ec)",
        "state": "open",
        "user": "openvino-book",
        "closed_by": null,
        "created_at": "2025-06-30T12:21:14+00:00",
        "updated_at": "2025-07-02T05:33:24+00:00",
        "closed_at": null,
        "comments_count": [
            "lugimzzz"
        ],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleFormers",
        "number": 2401,
        "title": "[CI] test CI, not merge",
        "body": "<!-- Demo: https://github.com/PaddlePaddle/PaddleFormers/pull/ -->\r\n#### Before submitting\r\n\r\n- [ ] Lint code. If there are lint issues, please format the code first.\r\n\r\n```shell\r\n# Install and register `pre-commit` in the project folder\r\npip install pre-commit && pre-commit install\r\n\r\n# Process previous code files separately\r\npre-commit run --file XXXX.py\r\n```\r\n\r\n- [ ] Add test cases into `tests` folder. If there are codecov issues, please add tests cases first.\r\n\r\n### PR types\r\n<!-- One of [ New features | Bug fixes | Function optimization | Performance optimization | Breaking changes | Others ] -->\r\n\r\n### PR changes\r\n<!-- One of [ Models | APIs | Docs | Others ] -->\r\n\r\n### Description\r\n<!-- Describe what this PR does -->\r\n",
        "state": "open",
        "user": "Liujie0926",
        "closed_by": null,
        "created_at": "2025-07-08T10:24:26+00:00",
        "updated_at": "2025-07-08T12:36:43+00:00",
        "closed_at": null,
        "comments_count": [
            "paddle-bot[bot]",
            "codecov-commenter"
        ],
        "labels": [
            "contributor"
        ]
    }
]