[
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 8,
        "title": "训练错误",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有报过同样bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\r\n\r\n\r\n### bug描述 Describe the Bug\r\n\r\n使用yolov7 yolov7_l_300e_coco.yml 训练\r\n\r\nPaddleDetection/ppdet/modeling/architectures/yolov5.py\", line 88, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/work/ptm-online/PaddleDetection/ppdet/modeling/heads/yolo_head.py\", line 726, in forward\r\n    return self.loss(yolo_outputs + yolo_outputs_aux, targets,\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/work/ptm-online/PaddleDetection/ppdet/modeling/losses/yolo_loss.py\", line 512, in forward\r\n    bs, as_, gjs, gis, targets, anchors = self.build_targets(\r\n  File \"/work/ptm-online/PaddleDetection/ppdet/modeling/losses/yolo_loss.py\", line 593, in build_targets\r\n    indices, anch = self.find_3_positive(p, targets, anchors)\r\n  File \"/work/ptm-online/PaddleDetection/ppdet/modeling/losses/yolo_loss.py\", line 783, in find_3_positive\r\n    gxi = gain[[2, 3]] - gxy  # inverse\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddle/fluid/dygraph/math_op_patch.py\", line 299, in __impl__\r\n    return math_op(self, other_var, 'axis', axis)\r\nValueError: (InvalidArgument) Broadcast dimension mismatch. Operands could not be broadcast together with the shape of X = [2] and the shape of Y = [0, 2, 7]. Received [2] in X is not equal to [7] in Y at i:2.\r\n  [Hint: Expected x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1 == true, but received x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1:0 != true:1.] (at /paddle/paddle/phi/kernels/funcs/common_shape.h:84)\r\n  [operator < elementwise_sub > error]\r\n\r\n### 复现环境 Environment\r\n\r\n_No response_\r\n\r\n### 是否愿意提交PR Are you willing to submit a PR?\r\n\r\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "JackYang825",
        "closed_by": "nemonameless",
        "created_at": "2022-08-19T08:09:04+00:00",
        "updated_at": "2022-11-01T15:14:36+00:00",
        "closed_at": "2022-11-01T15:14:36+00:00",
        "comments_count": [
            "nemonameless",
            "JackYang825",
            "nemonameless",
            "Dandelion111",
            "JackYang825",
            "nemonameless",
            "nemonameless",
            "JackYang825",
            "JackYang825",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 14,
        "title": "请问 YOLO5模型中的anchor大小 有程序可以根据我自己标注的数据集进行计算吗？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n![image](https://user-images.githubusercontent.com/77281977/187108124-6aca9fe6-bfde-4706-8a14-fc004d98816c.png)\r\n",
        "state": "closed",
        "user": "gutao0315",
        "closed_by": "nemonameless",
        "created_at": "2022-08-29T01:58:26+00:00",
        "updated_at": "2022-09-01T11:08:15+00:00",
        "closed_at": "2022-09-01T11:08:15+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 7,
        "title": "cannot download the onnx models?",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nHow to download the onnx models? I tried the corresponding links, but failed.",
        "state": "closed",
        "user": "coffezhou",
        "closed_by": "nemonameless",
        "created_at": "2022-08-12T13:54:24+00:00",
        "updated_at": "2022-08-27T10:37:08+00:00",
        "closed_at": "2022-08-27T10:37:08+00:00",
        "comments_count": [
            "nemonameless",
            "coffezhou",
            "nemonameless",
            "BackT0TheFuture",
            "coffezhou"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 11,
        "title": "非原来PaddleDetection的模型训练loss_box loss_cls map均为零",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n训练`ppyolo` `ppyolov2` `ppyoloe` `yolov3` `yolox`均正常，训练`yolov5` `yolov6mt` `yolov7`时均存在以下问题：\r\n无论训练多久，`map`以及几个`Loss`均为零\r\n```\r\n[08/21 23:02:22] reader WARNING: Shared memory size is less than 1G, disable shared_memory in DataLoader\r\nW0821 23:02:22.648579 52836 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 11.2, Runtime API Version: 10.1\r\nW0821 23:02:22.654331 52836 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\n[08/21 23:02:34] ppdet.engine INFO: Epoch: [0] [ 0/25] learning_rate: 0.000000 loss_box: 0.000000 loss_obj: 3.835117 loss_cls: 0.000000 loss: 122.723740 eta: 21:29:05 batch_cost: 10.3127 data_cost: 7.5710 ips: 3.1030 images/s\r\n[08/21 23:03:21] ppdet.engine INFO: Epoch: [1] [ 0/25] learning_rate: 0.000033 loss_box: 0.000000 loss_obj: 3.812787 loss_cls: 0.000000 loss: 122.009171 eta: 4:25:58 batch_cost: 2.1349 data_cost: 1.6881 ips: 14.9888 images/s\r\n[08/21 23:04:02] ppdet.engine INFO: Epoch: [2] [ 0/25] learning_rate: 0.000133 loss_box: 0.000000 loss_obj: 3.618636 loss_cls: 0.000000 loss: 115.796364 eta: 3:50:44 batch_cost: 1.8583 data_cost: 1.4974 ips: 17.2201 images/s\r\n[08/21 23:04:58] ppdet.engine INFO: Epoch: [3] [ 0/25] learning_rate: 0.000300 loss_box: 0.000000 loss_obj: 3.113248 loss_cls: 0.000000 loss: 99.623932 eta: 4:02:38 batch_cost: 1.9607 data_cost: 1.6221 ips: 16.3207 images/s\r\n[08/21 23:05:44] ppdet.engine INFO: Epoch: [4] [ 0/25] learning_rate: 0.000297 loss_box: 0.000000 loss_obj: 2.070968 loss_cls: 0.000000 loss: 66.270981 eta: 3:55:00 batch_cost: 1.8214 data_cost: 1.5075 ips: 17.5694 images/s\r\n[08/21 23:06:30] ppdet.engine INFO: Epoch: [5] [ 0/25] learning_rate: 0.000296 loss_box: 0.000000 loss_obj: 0.311432 loss_cls: 0.000000 loss: 9.965838 eta: 3:49:56 batch_cost: 1.8020 data_cost: 1.5098 ips: 17.7583 images/s\r\n[08/21 23:07:19] ppdet.engine INFO: Epoch: [6] [ 0/25] learning_rate: 0.000295 loss_box: 0.000000 loss_obj: 0.061897 loss_cls: 0.000000 loss: 1.980716 eta: 3:50:17 batch_cost: 1.8910 data_cost: 1.5825 ips: 16.9226 images/s\r\n[08/21 23:08:04] ppdet.engine INFO: Epoch: [7] [ 0/25] learning_rate: 0.000294 loss_box: 0.000000 loss_obj: 0.032299 loss_cls: 0.000000 loss: 1.033568 eta: 3:45:54 batch_cost: 1.7666 data_cost: 1.4625 ips: 18.1143 images/s\r\n[08/21 23:08:59] ppdet.engine INFO: Epoch: [8] [ 0/25] learning_rate: 0.000293 loss_box: 0.000000 loss_obj: 0.023415 loss_cls: 0.000000 loss: 0.749269 eta: 3:48:07 batch_cost: 1.8442 data_cost: 1.5283 ips: 17.3521 images/s\r\n[08/21 23:09:50] ppdet.engine INFO: Epoch: [9] [ 0/25] learning_rate: 0.000292 loss_box: 0.000000 loss_obj: 0.019228 loss_cls: 0.000000 loss: 0.615304 eta: 3:48:10 batch_cost: 1.8959 data_cost: 1.5644 ips: 16.8784 images/s\r\n[08/21 23:10:27] ppdet.utils.checkpoint INFO: Save checkpoint: output/yolov5_s_300e_coco\r\n[08/21 23:10:38] ppdet.engine INFO: Eval iter: 0\r\n[08/21 23:12:30] ppdet.metrics.metrics INFO: Accumulating evaluatation results...\r\n[08/21 23:12:30] ppdet.metrics.metrics INFO: mAP(0.50, 11point) = 0.00%\r\n[08/21 23:12:30] ppdet.engine INFO: Total sample number: 201, averge FPS: 1.6465216304954717\r\n[08/21 23:12:30] ppdet.engine INFO: Best test bbox ap is 0.000.\r\n[08/21 23:12:30] ppdet.utils.checkpoint INFO: Save checkpoint: output/yolov5_s_300e_coco\r\n[08/21 23:12:31] ppdet.engine INFO: Epoch: [10] [ 0/25] learning_rate: 0.000291 loss_box: 0.000000 loss_obj: 0.016256 loss_cls: 0.000000 loss: 0.520206 eta: 3:42:01 batch_cost: 1.7734 data_cost: 1.4456 ips: 18.0449 images/s\r\n```\r\n\r\n训练命令：\r\n```\r\n# YOLOv5\r\n!python PaddleDetection/tools/train.py -c PaddleDetection/configs/yolov5/yolov5_s_300e_coco.yml  --use_vdl=true --eval\r\n```\r\n改动为把`coco.yml`的读取更改为`voc.yml`的读取\r\n\r\n训练环境：\r\nAI Studio 100G V100版本  Paddle 2.3.1",
        "state": "closed",
        "user": "Feng1909",
        "closed_by": "Feng1909",
        "created_at": "2022-08-21T15:25:15+00:00",
        "updated_at": "2022-09-11T08:24:31+00:00",
        "closed_at": "2022-09-11T08:24:31+00:00",
        "comments_count": [
            "nemonameless",
            "Feng1909",
            "Feng1909"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 10,
        "title": "python tools/export_model.py 报错 NotImplementedError: ProgramTranslator hasn't implemented multiple decorators. Please remove staticmethod in forward",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有报过同样bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### bug描述 Describe the Bug\n\npython tools/export_model.py -c configs/yolov7/yolov7p6_e6e_300e_coco.yml --output_dir=inference_model -o weights=output/yolov7p6_e6_300e_coco/yolov7p6_e6e_300e_coco.pdparams\r\n\r\n\r\n\r\n(paddle) G:\\work_py\\notebook\\paddle\\PaddleDetection_YOLOSeries-develop>python tools/export_model.py -c configs/yolov7/yolov7p6_e6e_300e_coco.yml --output_dir=inference_model -o weights=output/yolov7p6_e6_300e_coco/yolov7p6_e6e_300e_coco.pdparams\r\nC:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\urllib3\\util\\selectors.py:14: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working\r\n  from collections import namedtuple, Mapping\r\nC:\\Users\\Administrator\\AppData\\Roaming\\Python\\Python37\\site-packages\\urllib3\\_collections.py:2: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working\r\n  from collections import Mapping, MutableMapping\r\nWarning: import ppdet from source directory without installing, run 'python setup.py install' to install ppdet firstly\r\nParams:  Tensor(shape=[1], dtype=float32, place=Place(cpu), stop_gradient=False,\r\n       [166.40467834])\r\n[08/21 15:35:43] ppdet.utils.checkpoint INFO: Finish loading model weights: output/yolov7p6_e6_300e_coco/yolov7p6_e6e_300e_coco.pdparams\r\n[08/21 15:35:43] ppdet.data.source.category WARNING: anno_file 'dataset/coco\\annotations/instances_val2017.json' is None or not set or not exist, please recheck TrainDataset/EvalDataset/TestDataset.anno_path, otherwise the default categories will be used by metric_type.\r\n[08/21 15:35:43] ppdet.data.source.category WARNING: metric_type: COCO, load default categories of COCO.\r\n[08/21 15:35:43] ppdet.engine INFO: Export inference config file to inference_model\\yolov7p6_e6e_300e_coco\\infer_cfg.yml\r\nTraceback (most recent call last):\r\n  File \"tools/export_model.py\", line 108, in <module>\r\n    main()\r\n  File \"tools/export_model.py\", line 104, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/export_model.py\", line 73, in run\r\n    trainer.export(FLAGS.output_dir)\r\n  File \"G:\\work_py\\notebook\\paddle\\PaddleDetection_YOLOSeries-develop\\ppdet\\engine\\trainer.py\", line 875, in export\r\n    save_dir)\r\n  File \"G:\\work_py\\notebook\\paddle\\PaddleDetection_YOLOSeries-develop\\ppdet\\engine\\trainer.py\", line 834, in _get_infer_cfg_and_input_spec\r\n    input_spec, static_model.forward.main_program,\r\n  File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 580, in main_program\r\n    concrete_program = self.concrete_program\r\n  File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 488, in concrete_program\r\n    return self.concrete_program_specify_input_spec(input_spec=None)\r\n  File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 528, in concrete_program_specify_input_spec\r\n    *desired_input_spec, with_hook=with_hook)\r\n  File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 436, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 801, in __getitem__\r\n    self._caches[item_id] = self._build_once(item)\r\n  File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 790, in _build_once\r\n    **cache_key.kwargs)\r\n  File \"<decorator-gen-104>\", line 2, in from_func_spec\r\n  File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 51, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 740, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\error.py\", line 336, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nNotImplementedError: In transformed code:\r\n\r\n    File \"G:\\work_py\\notebook\\paddle\\PaddleDetection_YOLOSeries-develop\\ppdet\\modeling\\architectures\\yolov5.py\", line 101, in get_pred\r\n        return self._forward()\r\n    File \"G:\\work_py\\notebook\\paddle\\PaddleDetection_YOLOSeries-develop\\ppdet\\modeling\\architectures\\yolov5.py\", line 84, in _forward\r\n        body_feats = self.backbone(self.inputs)\r\n    File \"G:\\work_py\\notebook\\paddle\\PaddleDetection_YOLOSeries-develop\\ppdet\\modeling\\backbones\\csp_darknet.py\", line 999, in forward\r\n        x = self.stem(x)\r\n    File \"G:\\work_py\\notebook\\paddle\\PaddleDetection_YOLOSeries-develop\\ppdet\\modeling\\backbones\\csp_darknet.py\", line 150, in forward\r\n        return self.conv(outputs)\r\n    File \"G:\\work_py\\notebook\\paddle\\PaddleDetection_YOLOSeries-develop\\ppdet\\modeling\\backbones\\csp_darknet.py\", line 87, in forward\r\n            if isinstance(self.act, nn.Silu):\r\n                self.act = SiLU()\r\n            y = self.act(x)\r\n            ~~~~~~~~~~~~~~~ <--- HERE\r\n        return y\r\n\r\n    File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\convert_call_func.py\", line 246, in convert_call\r\n        forward_func = convert_to_static(forward_func)\r\n    File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 140, in convert_to_static\r\n        static_func = _FUNCTION_CACHE.convert_with_cache(function)\r\n    File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 77, in convert_with_cache\r\n        static_func = self._convert(func)\r\n    File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 115, in _convert\r\n        root_wrapper = self._dygraph_to_static.get_static_ast(root)\r\n    File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\ast_transformer.py\", line 62, in get_static_ast\r\n        self.transfer_from_node_type(self.static_analysis_root)\r\n    File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\ast_transformer.py\", line 74, in transfer_from_node_type\r\n        self.visit(node_wrapper.node)\r\n    File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\ast.py\", line 271, in visit\r\n        return visitor(node)\r\n    File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\ast.py\", line 326, in generic_visit\r\n        value = self.visit(value)\r\n    File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\ast.py\", line 271, in visit\r\n        return visitor(node)\r\n    File \"E:\\pfile\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\ast_transformer.py\", line 111, in visit_FunctionDef\r\n        + d.id + \" in \" + self.decorate_func_name)\r\n\r\n    NotImplementedError: ProgramTranslator hasn't implemented multiple decorators. Please remove staticmethod in forward\r\n\n\n### 复现环境 Environment\n\npaddlepaddle-gpu:  2.3.1.post101\r\npython:3.7\r\ncuda10.1\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "liuyang77886",
        "closed_by": "nemonameless",
        "created_at": "2022-08-21T07:45:41+00:00",
        "updated_at": "2023-06-13T10:15:36+00:00",
        "closed_at": "2022-08-27T10:37:30+00:00",
        "comments_count": [
            "nemonameless",
            "STNPSG"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 13,
        "title": "yolov5p6在coco上的预训练权重",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n请问有yolov5p6在coco上的pretrain_weights吗？",
        "state": "closed",
        "user": "FrankerSun",
        "closed_by": "nemonameless",
        "created_at": "2022-08-29T01:47:34+00:00",
        "updated_at": "2022-09-05T09:26:04+00:00",
        "closed_at": "2022-09-05T09:26:04+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 12,
        "title": "YOLOv5模型改动v7的neck部分后导出报错",
        "body": "想用yolov7进行训练，所以改了v7的neck部分，也就是改动了yolo_fpn.py里的class ELANFPN(nn.Layer)。\r\n这个函数在yolov5里并不调用吧？\r\n为什么把这个类改了，yolov5模型导出时就会报错（报错信息如下），而把这个类还原则导出正常。\r\n\r\nps（导出yolov5只是用来测试，为什么改了neck部分，v7能进行训练但是不能导出呢）\r\n\r\n```\r\n命令：\r\npython tools/export_model.py -c configs/yolov5/yolov5_s_300e_coco.yml --output_dir=output_inference -o weights=/home/bxy/PaddleDetection_YOLOSeries/output/yolov5_s_300e_coco/best_model.pdparams\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 733, in from_func_spec\r\n    outputs = static_func(*inputs)\r\n  File \"/tmp/tmpxtr9pgcj.py\", line 101, in forward\r\n    false_fn_5, (), (inputs, self), (out,))\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\", line 211, in convert_ifelse\r\n    out = _run_py_ifelse(pred, true_fn, false_fn, true_args, false_args)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\", line 257, in _run_py_ifelse\r\n    return true_fn(*true_args) if pred else false_fn(*false_args)\r\n  File \"/tmp/tmpxtr9pgcj.py\", line 84, in false_fn_5\r\n    for_loop_body_0, [__for_loop_var_index_0, inputs_list])\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\", line 45, in convert_while_loop\r\n    loop_vars = _run_py_while(cond, body, loop_vars)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\", line 59, in _run_py_while\r\n    loop_vars = body(*loop_vars)\r\n  File \"/tmp/tmpxtr9pgcj.py\", line 79, in for_loop_body_0\r\n    dy2static.convert_call(self.get_pred)())\r\n  File \"/tmp/tmpba5askf6.py\", line 7, in get_pred\r\n    return paddle.jit.dy2static.convert_call(self._forward)()\r\n  File \"/tmp/tmp90e4iv_c.py\", line 11, in _forward\r\n    neck_feats = paddle.jit.dy2static.convert_call(self.neck)(body_feats,\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_call_func.py\", line 246, in convert_call\r\n    forward_func = convert_to_static(forward_func)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 140, in convert_to_static\r\n    static_func = _FUNCTION_CACHE.convert_with_cache(function)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 77, in convert_with_cache\r\n    static_func = self._convert(func)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 104, in _convert\r\n    source_code = func_to_source_code(func)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/utils.py\", line 550, in func_to_source_code\r\n    source_code_list, _ = inspect.getsourcelines(function)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/inspect.py\", line 955, in getsourcelines\r\n    lines, lnum = findsource(object)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/inspect.py\", line 782, in findsource\r\n    lines = linecache.getlines(file, module.__dict__)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/linecache.py\", line 47, in getlines\r\n    return updatecache(filename, module_globals)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/linecache.py\", line 137, in updatecache\r\n    lines = fp.readlines()\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/codecs.py\", line 322, in decode\r\n    (result, consumed) = self._buffer_decode(data, self.errors, final)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xb8 in position 1268: invalid start byte\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/export_model.py\", line 108, in <module>\r\n    main()\r\n  File \"tools/export_model.py\", line 104, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/export_model.py\", line 73, in run\r\n    trainer.export(FLAGS.output_dir)\r\n  File \"/home/yaozhuohan/bxy/PaddleDetection_YOLOSeries/ppdet/engine/trainer.py\", line 875, in export\r\n    save_dir)\r\n  File \"/home/yaozhuohan/bxy/PaddleDetection_YOLOSeries/ppdet/engine/trainer.py\", line 834, in _get_infer_cfg_and_input_spec\r\n    input_spec, static_model.forward.main_program,\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 580, in main_program\r\n    concrete_program = self.concrete_program\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 488, in concrete_program\r\n    return self.concrete_program_specify_input_spec(input_spec=None)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 528, in concrete_program_specify_input_spec\r\n    *desired_input_spec, with_hook=with_hook)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 436, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 801, in __getitem__\r\n    self._caches[item_id] = self._build_once(item)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 790, in _build_once\r\n    **cache_key.kwargs)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 51, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 740, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 327, in raise_new_exception\r\n    new_exception = self.create_exception()\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 161, in create_exception\r\n    new_exception = self.error_type(message)\r\nTypeError: function takes exactly 5 arguments (1 given)\r\n```\r\n\r\n### 复现环境 Environment\r\n\r\n-PaddlePaddle:2.3.1\r\n-Python:3.7.13\r\n-CUDA:10.1",
        "state": "closed",
        "user": "NwTbbetter",
        "closed_by": "nemonameless",
        "created_at": "2022-08-26T14:02:33+00:00",
        "updated_at": "2022-11-01T15:14:51+00:00",
        "closed_at": "2022-11-01T15:14:51+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 6,
        "title": "训练错误",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有报过同样bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### bug描述 Describe the Bug\n\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 172, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 168, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 132, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/aistudio/PaddleDetection_YOLOSeries/ppdet/engine/trainer.py\", line 487, in train\r\n    outputs = model(data)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleDetection_YOLOSeries/ppdet/modeling/architectures/meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"/home/aistudio/PaddleDetection_YOLOSeries/ppdet/modeling/architectures/yolov5.py\", line 98, in get_loss\r\n    return self._forward()\r\n  File \"/home/aistudio/PaddleDetection_YOLOSeries/ppdet/modeling/architectures/yolov5.py\", line 88, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleDetection_YOLOSeries/ppdet/modeling/heads/yolo_head.py\", line 727, in forward\r\n    self.anchors)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleDetection_YOLOSeries/ppdet/modeling/losses/yolo_loss.py\", line 513, in forward\r\n    inputs, targets, gt_targets['image'], anchors)\r\n  File \"/home/aistudio/PaddleDetection_YOLOSeries/ppdet/modeling/losses/yolo_loss.py\", line 593, in build_targets\r\n    indices, anch = self.find_3_positive(p, targets, anchors)\r\n  File \"/home/aistudio/PaddleDetection_YOLOSeries/ppdet/modeling/losses/yolo_loss.py\", line 779, in find_3_positive\r\n    gxi = gain[[2, 3]] - gxy  # inverse\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/math_op_patch.py\", line 299, in __impl__\r\n    return math_op(self, other_var, 'axis', axis)\r\nValueError: (InvalidArgument) Broadcast dimension mismatch. Operands could not be broadcast together with the shape of X = [2] and the shape of Y = [0, 2, 7]. Received [2] in X is not equal to [7] in Y at i:2.\r\n  [Hint: Expected x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1 == true, but received x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1:0 != true:1.] (at /paddle/paddle/phi/kernels/funcs/common_shape.h:84)\r\n  [operator < elementwise_sub > error]\n\n### 复现环境 Environment\n\npaddle-bfloat          0.1.7\r\npaddledet              2.4.0\r\npaddlefsl              1.0.0\r\npaddlehub              2.0.4\r\npaddlenlp              2.1.1\r\npaddlepaddle-gpu       2.3.1.post101\r\ntb-paddle              0.3.6\r\n\r\npythonn 3.7.4\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "fanyuanxiang",
        "closed_by": "nemonameless",
        "created_at": "2022-08-12T05:53:36+00:00",
        "updated_at": "2022-09-01T05:43:58+00:00",
        "closed_at": "2022-09-01T05:43:58+00:00",
        "comments_count": [
            "fanyuanxiang",
            "nemonameless",
            "wawatt",
            "nemonameless",
            "nemonameless",
            "seyosum",
            "nemonameless",
            "JackYang825",
            "nemonameless",
            "NwTbbetter",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 9,
        "title": "YOLOV7训练报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有报过同样bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### bug描述 Describe the Bug\n\nTraceback (most recent call last):\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/tools/train.py\", line 172, in <module>\r\n    main()\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/tools/train.py\", line 168, in main\r\n    run(FLAGS, cfg)\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/tools/train.py\", line 132, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/ppdet/engine/trainer.py\", line 509, in train\r\n    outputs = model(data)\r\n  File \"/home/zhaohaibin/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/zhaohaibin/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/ppdet/modeling/architectures/meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/ppdet/modeling/architectures/yolov5.py\", line 98, in get_loss\r\n    return self._forward()\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/ppdet/modeling/architectures/yolov5.py\", line 88, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"/home/zhaohaibin/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/zhaohaibin/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/ppdet/modeling/heads/yolo_head.py\", line 727, in forward\r\n    self.anchors)\r\n  File \"/home/zhaohaibin/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/zhaohaibin/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/ppdet/modeling/losses/yolo_loss.py\", line 513, in forward\r\n    inputs, targets, gt_targets['image'], anchors)\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/ppdet/modeling/losses/yolo_loss.py\", line 593, in build_targets\r\n    indices, anch = self.find_3_positive(p, targets, anchors)\r\n  File \"/home/zhaohaibin/paddle/PaddleDetection_YOLOSeries-develop/ppdet/modeling/losses/yolo_loss.py\", line 784, in find_3_positive\r\n    gxi = gain[[2, 3]] - gxy  # inverse\r\n  File \"/home/zhaohaibin/miniconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/math_op_patch.py\", line 264, in __impl__\r\n    return math_op(self, other_var, 'axis', axis)\r\nRuntimeError: (PreconditionNotMet) The Tensor's element number must be equal or greater than zero. The Tensor's shape is [-1, 2] now\r\n  [Hint: Expected numel() >= 0, but received numel():-2 < 0:0.] (at /paddle/paddle/fluid/framework/tensor.cc:59)\r\n  [operator < elementwise_sub > error]\r\n\n\n### 复现环境 Environment\n\n--paddlepaddle:2.2.2\r\n--python: 3.7\r\n--CUDA: 10.2\r\n--cudnn: 8.3\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "Dandelion111",
        "closed_by": "nemonameless",
        "created_at": "2022-08-20T01:41:20+00:00",
        "updated_at": "2022-09-01T05:44:24+00:00",
        "closed_at": "2022-09-01T05:44:24+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 23,
        "title": "剪枝提上日程了吗",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n1. 任务目标（请描述你正在做的项目是什么，如模型、论文、项目是什么？）; 2. 需求场景（请描述你的项目中为什么需要用此功能）; 3. 功能描述（请简单描述或设计这个功能）\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "sdreamforchen",
        "closed_by": "sdreamforchen",
        "created_at": "2022-09-13T06:36:01+00:00",
        "updated_at": "2022-09-13T06:36:17+00:00",
        "closed_at": "2022-09-13T06:36:17+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 16,
        "title": "YOLOV7更换inception结构后导出onnx报错",
        "body": "### bug描述 Describe the Bug\r\n\r\n修改了csp-darknet.py，将v7最后一层C5的bottlenecks换成了inception结构，训练正常，但导出onnx时报错\r\n导出命令：\r\n```\r\npython tools/export_model.py -c configs/yolov7/yolov7_tiny_300e_coco.yml --output_dir=output_inference -o weights=/home/yaozhuohan/PaddleDetection_YOLOSeries/output/yolov7_tiny_300e_coco/best_model.pdparams\r\n```\r\n报错信息：\r\n```\r\n[09/01 12:17:23] ppdet.engine INFO: Export inference config file to output_inference/yolov7_tiny_300e_coco/infer_cfg.yml\r\nTraceback (most recent call last):\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 733, in from_func_spec\r\n    outputs = static_func(*inputs)\r\n  File \"/tmp/tmp1ngpwsbj.py\", line 101, in forward\r\n    false_fn_5, (), (inputs, self), (out,))\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\", line 211, in convert_ifelse\r\n    out = _run_py_ifelse(pred, true_fn, false_fn, true_args, false_args)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\", line 257, in _run_py_ifelse\r\n    return true_fn(*true_args) if pred else false_fn(*false_args)\r\n  File \"/tmp/tmp1ngpwsbj.py\", line 84, in false_fn_5\r\n    for_loop_body_0, [__for_loop_var_index_0, inputs_list])\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\", line 45, in convert_while_loop\r\n    loop_vars = _run_py_while(cond, body, loop_vars)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_operators.py\", line 59, in _run_py_while\r\n    loop_vars = body(*loop_vars)\r\n  File \"/tmp/tmp1ngpwsbj.py\", line 79, in for_loop_body_0\r\n    dy2static.convert_call(self.get_pred)())\r\n  File \"/tmp/tmpw0tsf946.py\", line 7, in get_pred\r\n    return paddle.jit.dy2static.convert_call(self._forward)()\r\n  File \"/tmp/tmpls7f98pk.py\", line 10, in _forward\r\n    body_feats = paddle.jit.dy2static.convert_call(self.backbone)(self.inputs)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_call_func.py\", line 246, in convert_call\r\n    forward_func = convert_to_static(forward_func)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 140, in convert_to_static\r\n    static_func = _FUNCTION_CACHE.convert_with_cache(function)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 77, in convert_with_cache\r\n    static_func = self._convert(func)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 104, in _convert\r\n    source_code = func_to_source_code(func)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/utils.py\", line 550, in func_to_source_code\r\n    source_code_list, _ = inspect.getsourcelines(function)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/inspect.py\", line 955, in getsourcelines\r\n    lines, lnum = findsource(object)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/inspect.py\", line 782, in findsource\r\n    lines = linecache.getlines(file, module.__dict__)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/linecache.py\", line 47, in getlines\r\n    return updatecache(filename, module_globals)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/linecache.py\", line 137, in updatecache\r\n    lines = fp.readlines()\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/codecs.py\", line 322, in decode\r\n    (result, consumed) = self._buffer_decode(data, self.errors, final)\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xb0 in position 5455: invalid start byte\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/export_model.py\", line 108, in <module>\r\n    main()\r\n  File \"tools/export_model.py\", line 104, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/export_model.py\", line 73, in run\r\n    trainer.export(FLAGS.output_dir)\r\n  File \"/home/yaozhuohan/PaddleDetection_YOLOSeries/ppdet/engine/trainer.py\", line 875, in export\r\n    save_dir)\r\n  File \"/home/yaozhuohan/PaddleDetection_YOLOSeries/ppdet/engine/trainer.py\", line 834, in _get_infer_cfg_and_input_spec\r\n    input_spec, static_model.forward.main_program,\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 580, in main_program\r\n    concrete_program = self.concrete_program\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 488, in concrete_program\r\n    return self.concrete_program_specify_input_spec(input_spec=None)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 528, in concrete_program_specify_input_spec\r\n    *desired_input_spec, with_hook=with_hook)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 436, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 801, in __getitem__\r\n    self._caches[item_id] = self._build_once(item)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 790, in _build_once\r\n    **cache_key.kwargs)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 51, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 740, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 327, in raise_new_exception\r\n    new_exception = self.create_exception()\r\n  File \"/home/yaozhuohan/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 161, in create_exception\r\n    new_exception = self.error_type(message)\r\nTypeError: function takes exactly 5 arguments (1 given)\r\n```\r\n\r\n### 复现环境 Environment\r\n\r\n-Paddle：2.3.1\r\n-Python：3.7.13\r\n",
        "state": "closed",
        "user": "RAKDSYMCA",
        "closed_by": "nemonameless",
        "created_at": "2022-09-01T04:21:30+00:00",
        "updated_at": "2022-11-01T15:14:59+00:00",
        "closed_at": "2022-11-01T15:14:59+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 15,
        "title": "C++部署的问题",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n我把训练出来的模型转成inference 在paddleDetection release2.3里的depoly CPP里部署 没有用\r\n训练出来的inference模型是不是得在这个版本的CPP里部署才行",
        "state": "closed",
        "user": "gutao0315",
        "closed_by": "nemonameless",
        "created_at": "2022-08-30T07:30:14+00:00",
        "updated_at": "2022-09-15T05:37:34+00:00",
        "closed_at": "2022-09-15T05:37:34+00:00",
        "comments_count": [
            "nemonameless",
            "gutao0315",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 18,
        "title": "AttributeError: '_DataLoaderIterMultiProcess' object has no attribute '_shutdown'",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 172, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 168, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 123, in run\r\n    trainer = Trainer(cfg, mode='train')\r\n  File \"/home/hik/zhangle16/PaddleDetection_YOLOSeries/ppdet/engine/trainer.py\", line 94, in __init__\r\n    self.dataset, cfg.worker_num)\r\n  File \"/home/hik/zhangle16/PaddleDetection_YOLOSeries/ppdet/data/reader.py\", line 197, in __call__\r\n    self.loader = iter(self.dataloader)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/reader.py\", line 566, in __iter__\r\n    return _DataLoaderIterMultiProcess(self)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 381, in __init__\r\n    self._try_put_indices()\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 695, in _try_put_indices\r\n    indices = next(self._sampler_iter)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dataloader/batch_sampler.py\", line 262, in __iter__\r\n    assert len(indices) == self.total_size\r\nAssertionError\r\nException ignored in: <bound method _DataLoaderIterMultiProcess.__del__ of <paddle.fluid.dataloader.dataloader_iter._DataLoaderIterMultiProcess object at 0x7fd205cfbbe0>>\r\nTraceback (most recent call last):\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 712, in __del__\r\n    self._try_shutdown_all()\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 503, in _try_shutdown_all\r\n    if not self._shutdown:\r\nAttributeError: '_DataLoaderIterMultiProcess' object has no attribute '_shutdown'\r\nINFO 2022-09-05 16:27:07,857 launch_utils.py:343] terminate all the procs\r\n\r\nAs a beginner, I can't solve this problem alone. Please help me. Thank you！",
        "state": "closed",
        "user": "ZhangLe-fighting",
        "closed_by": "nemonameless",
        "created_at": "2022-09-05T08:52:24+00:00",
        "updated_at": "2022-09-12T04:52:44+00:00",
        "closed_at": "2022-09-12T04:52:44+00:00",
        "comments_count": [
            "ZhangLe-fighting",
            "nemonameless",
            "ZhangLe-fighting",
            "ZhangLe-fighting",
            "nemonameless",
            "ZhangLe-fighting",
            "nemonameless",
            "ZhangLe-fighting",
            "ZhangLe-fighting",
            "nemonameless",
            "ZhangLe-fighting",
            "nemonameless",
            "ZhangLe-fighting",
            "ZhangLe-fighting",
            "ZhangLe-fighting",
            "ZhangLe-fighting",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 21,
        "title": "infer.py: error: unrecognized arguments: --video_file\u0000=XXXXX ",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\ninfer.py直接检测视频提示参数不支持，infer_img不支持视频，直接检测视频参数是否变化\n\n### 复现环境 Environment\n\ndocker\r\n2.3.2\r\ngpu\r\ncuda11.2\r\ncudnn8 \u0000\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "DenySu",
        "closed_by": "nemonameless",
        "created_at": "2022-09-07T02:50:43+00:00",
        "updated_at": "2022-11-01T15:15:09+00:00",
        "closed_at": "2022-11-01T15:15:09+00:00",
        "comments_count": [
            "nemonameless",
            "DenySu",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 24,
        "title": "YOLO系列的剪枝提上日程了吗",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n您好，我看YOLO系列的量化已经做好了。YOLO系列的剪枝会有更新吗？还是我们自己利用现有paddle的剪枝模型操作即可\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "sdreamforchen",
        "closed_by": "nemonameless",
        "created_at": "2022-09-13T06:37:48+00:00",
        "updated_at": "2022-09-22T03:08:57+00:00",
        "closed_at": "2022-09-22T03:08:57+00:00",
        "comments_count": [
            "yghstill"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 22,
        "title": "yolov7的head和数据增强换成ppyoloe之后训练Loss上涨且不能评估测试集",
        "body": "为啥把yolov7的head和数据增强换成ppyoloe之后，会出现这样的问题？\r\n![image](https://user-images.githubusercontent.com/99952437/188812395-377e62b3-04e9-4b44-91f5-fe45710b0eee.png)\r\n\r\n\r\n### 复现环境 Environment\r\n\r\n- paddle:2.3.1\r\n- python:3.7.13",
        "state": "closed",
        "user": "NwTbbetter",
        "closed_by": "nemonameless",
        "created_at": "2022-09-07T07:12:32+00:00",
        "updated_at": "2022-09-22T03:21:33+00:00",
        "closed_at": "2022-09-22T03:21:33+00:00",
        "comments_count": [
            "NwTbbetter",
            "nemonameless",
            "NwTbbetter",
            "nemonameless",
            "NwTbbetter",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 20,
        "title": "yolov7的FPN必须要3个branch",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nTraining\n\n### Bug描述 Describe the Bug\n\nyoloV7 tiny \r\n我想使用两个header进行预测，因为我的目标都是小目标，大小都很一致，所以我希望使用两个header即可，进行加速\r\n\r\n但是配置文件修改后，无法训练\r\n\r\n  File \"/raid/zhangss/Tim.Zhang/002_PaddleKit/PaddleDetection_YOLOSeries/ppdet/modeling/necks/yolo_fpn.py\", line 1150, in __init__\r\n    self.in_channels[2], out_ch, 1, 1, act=act)  # 512->256\r\n\r\n这里的2对fpn进行了限制，必须要有3个header\r\n\n\n### 复现环境 Environment\n\n-os ubuntu\r\n-paddle 2.3\r\n\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "TimZhang001",
        "closed_by": "nemonameless",
        "created_at": "2022-09-06T12:27:05+00:00",
        "updated_at": "2022-09-22T03:09:20+00:00",
        "closed_at": "2022-09-22T03:09:20+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 19,
        "title": "ResourceExhaustedError",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nINFO 2022-09-05 16:54:20,902 launch_utils.py:566] details about PADDLE_TRAINER_ENDPOINTS can be found in ./yolo7_dygraph//endpoints.log, and detail running logs maybe found in ./yolo7_dygraph//workerlog.0\r\nINFO 2022-09-05 16:54:20,902 launch_utils.py:566] details about PADDLE_TRAINER_ENDPOINTS can be found in ./yolo7_dygraph//endpoints.log, and detail running logs maybe found in ./yolo7_dygraph//workerlog.0\r\nlaunch proc_id:20498 idx:0\r\nlaunch proc_id:20503 idx:1\r\nlaunch proc_id:20508 idx:2\r\nlaunch proc_id:20513 idx:3\r\nserver not ready, wait 3 sec to retry...\r\nnot ready endpoints:['127.0.0.1:42005', '127.0.0.1:55637', '127.0.0.1:54941']\r\nI0905 16:54:27.121857 20498 nccl_context.cc:83] init nccl context nranks: 4 local rank: 0 gpu id: 4 ring id: 0\r\nW0905 16:54:28.339090 20498 gpu_resources.cc:61] Please NOTE: device: 4, GPU Compute Capability: 6.1, Driver API Version: 11.2, Runtime API Version: 11.2\r\nW0905 16:54:28.343943 20498 gpu_resources.cc:91] device: 4, cuDNN Version: 8.1.\r\nParams:  Tensor(shape=[1], dtype=float32, place=Place(gpu:4), stop_gradient=False,\r\n       [164.94364929])\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 172, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 168, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 132, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/hik/zhangle16/PaddleDetection_YOLOSeries/ppdet/engine/trainer.py\", line 520, in train\r\n    outputs = model(data)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/parallel.py\", line 752, in forward\r\n    outputs = self._layers(*inputs, **kwargs)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/hik/zhangle16/PaddleDetection_YOLOSeries/ppdet/modeling/architectures/meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"/home/hik/zhangle16/PaddleDetection_YOLOSeries/ppdet/modeling/architectures/yolov5.py\", line 98, in get_loss\r\n    return self._forward()\r\n  File \"/home/hik/zhangle16/PaddleDetection_YOLOSeries/ppdet/modeling/architectures/yolov5.py\", line 85, in _forward\r\n    neck_feats = self.neck(body_feats, self.for_mot)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/hik/zhangle16/PaddleDetection_YOLOSeries/ppdet/modeling/necks/yolo_fpn.py\", line 1448, in forward\r\n    fpn_out2 = self.elan_fpn2(f_out2)  # 512 -> 128*4 + 256*2 -> 1024 -> 256\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/hik/zhangle16/PaddleDetection_YOLOSeries/ppdet/modeling/backbones/csp_darknet.py\", line 519, in forward\r\n    return self.elan_layer1(x) + self.elan_layer2(x)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/hik/zhangle16/PaddleDetection_YOLOSeries/ppdet/modeling/backbones/csp_darknet.py\", line 493, in forward\r\n    y = self.conv3(x_all)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/hik/zhangle16/PaddleDetection_YOLOSeries/ppdet/modeling/backbones/csp_darknet.py\", line 83, in forward\r\n    x = self.bn(self.conv(x))\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/nn/layer/conv.py\", line 678, in forward\r\n    use_cudnn=self._use_cudnn)\r\n  File \"/home/hik/anaconda3/envs/paddle_env/lib/python3.6/site-packages/paddle/nn/functional/conv.py\", line 144, in _conv_nd\r\n    pre_bias = getattr(_C_ops, op_type)(x, weight, *attrs)\r\nSystemError: (Fatal) Operator conv2d raises an paddle::memory::allocation::BadAlloc exception.\r\nThe exception content is\r\n:ResourceExhaustedError: \r\n\r\nOut of memory error on GPU 4. Cannot allocate 31.250000MB memory on GPU 4, 22.364380GB memory has been allocated and available memory is only 17.937500MB.\r\n\r\nPlease check whether there is any other process using GPU 4.\r\n1. If yes, please stop them, or start PaddlePaddle on another GPU.\r\n2. If no, please decrease the batch size of your model. \r\nIf the above ways do not solve the out of memory problem, you can try to use CUDA managed memory. The command is `export FLAGS_use_cuda_managed_memory=false`.\r\n (at /paddle/paddle/fluid/memory/allocation/cuda_allocator.cc:87)\r\n. (at /paddle/paddle/fluid/imperative/tracer.cc:307)\r\n\r\n\r\nThe four cards used are not occupied. By looking at the GPU situation, we can find that the video memory occupation will always show an upward trend and then overflow and report an error. My batchsize is set to 4. Do developers encounter this situation?",
        "state": "closed",
        "user": "ZhangLe-fighting",
        "closed_by": "nemonameless",
        "created_at": "2022-09-05T09:01:12+00:00",
        "updated_at": "2022-09-12T04:53:04+00:00",
        "closed_at": "2022-09-12T04:53:04+00:00",
        "comments_count": [
            "ZhangLe-fighting",
            "ZhangLe-fighting",
            "nemonameless",
            "ZhangLe-fighting",
            "ZhangLe-fighting",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 25,
        "title": "yolov7训练自定义数据集到一定数量的epoch会报错shape concat不匹配和IndexError",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\npython tools/train.py -c configs/yolov7/yolov7_l_300e_coco.yml --eval\r\n修改了数据集和batch_size=16，在单卡上训练的\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 172, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 168, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 132, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/paddle/tmp/PaddleDetection_YOLOSeries/ppdet/engine/trainer.py\", line 535, in train\r\n    outputs = model(data)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/paddle/tmp/PaddleDetection_YOLOSeries/ppdet/modeling/architectures/meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"/paddle/tmp/PaddleDetection_YOLOSeries/ppdet/modeling/architectures/yolov5.py\", line 98, in get_loss\r\n    return self._forward()\r\n  File \"/paddle/tmp/PaddleDetection_YOLOSeries/ppdet/modeling/architectures/yolov5.py\", line 84, in _forward\r\n    body_feats = self.backbone(self.inputs)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/paddle/tmp/PaddleDetection_YOLOSeries/ppdet/modeling/backbones/csp_darknet.py\", line 1003, in forward\r\n    x = layer(x)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/fluid/dygraph/container.py\", line 98, in forward\r\n    input = layer(input)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/paddle/tmp/PaddleDetection_YOLOSeries/ppdet/modeling/backbones/csp_darknet.py\", line 546, in forward\r\n    x = paddle.concat([x_2, x_1], axis=1)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/tensor/manipulation.py\", line 331, in concat\r\n    return paddle.fluid.layers.concat(input=x, axis=axis, name=name)\r\n  File \"/root/anaconda3/envs/paddleseg/lib/python3.8/site-packages/paddle/fluid/layers/tensor.py\", line 343, in concat\r\n    _C_ops.concat(input, out, 'axis', axis)\r\nValueError: (InvalidArgument) The 2-th dimension of input[0] and input[1] is expected to be equal.But received input[0]'s shape = [16, 256, 45, 45], input[1]'s shape = [16, 256, 44, 44].\r\n  [Hint: Expected inputs_dims[0][j] == inputs_dims[i][j], but received inputs_dims[0][j]:45 != inputs_dims[i][j]:44.] (at /paddle/paddle/phi/kernels/funcs/concat_funcs.h:83)\r\n  [operator < concat > error]",
        "state": "closed",
        "user": "WKangei",
        "closed_by": "nemonameless",
        "created_at": "2022-09-13T08:38:34+00:00",
        "updated_at": "2022-09-22T03:21:10+00:00",
        "closed_at": "2022-09-22T03:21:10+00:00",
        "comments_count": [
            "nemonameless",
            "WKangei",
            "nemonameless",
            "WKangei",
            "nemonameless",
            "WKangei",
            "nemonameless",
            "WKangei",
            "nemonameless",
            "WKangei",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 32,
        "title": "请问怎么单独实现一个优化器呢",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n您好，我想在自己的代码中使用yolov5的优化器，\r\n我这样实现好像不对（base_lr还是0.1），请问该怎么实现呢？\r\n![image](https://user-images.githubusercontent.com/65444591/191886130-75913a36-1f13-4642-a244-bff4fd46c337.png)\r\n",
        "state": "closed",
        "user": "diaoa1900",
        "closed_by": "nemonameless",
        "created_at": "2022-09-23T03:31:57+00:00",
        "updated_at": "2024-03-04T08:32:07+00:00",
        "closed_at": "2024-03-04T08:32:06+00:00",
        "comments_count": [
            "nemonameless",
            "diaoa1900",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 31,
        "title": "可以转成TinyYolo2_model吗",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n可以转成TinyYolo2_model吗",
        "state": "closed",
        "user": "wangjunjx8868",
        "closed_by": "nemonameless",
        "created_at": "2022-09-22T02:53:17+00:00",
        "updated_at": "2022-10-14T04:20:55+00:00",
        "closed_at": "2022-10-14T04:20:55+00:00",
        "comments_count": [
            "nemonameless",
            "wangjunjx8868",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 36,
        "title": "关于 v7 隐性知识",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n你好，我在用 paddle 实现 v7 加了隐性知识（use_implicit），特别是 ImplicitM obj loss 会炸掉，请问你们也遇到类似情况吗？",
        "state": "closed",
        "user": "FL77N",
        "closed_by": "nemonameless",
        "created_at": "2022-09-27T06:25:03+00:00",
        "updated_at": "2022-10-14T04:14:41+00:00",
        "closed_at": "2022-10-14T04:14:41+00:00",
        "comments_count": [
            "nemonameless",
            "FL77N",
            "nemonameless",
            "FL77N",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 34,
        "title": "OSError: (External) CUDA error(719)",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nTraining\n\n### Bug描述 Describe the Bug\n\n代码改动\r\n![image](https://user-images.githubusercontent.com/35223774/192406664-a8d1da4d-3fa9-4072-9ded-042826d4172f.png)\r\n![image](https://user-images.githubusercontent.com/35223774/192406690-33013fa3-4632-4fee-9020-99d102bcf6f0.png)\r\n![image](https://user-images.githubusercontent.com/35223774/192406712-ea1b5e6a-c25b-41da-9eaf-64565bb85bcc.png)\r\n\r\nshell\r\n(ppyolo) D:\\Code\\_Paddle\\PaddleYOLO>python tools/train.py -c configs/yolov7/yolov7_l_300e_coco.yml --eval\r\nW0927 08:44:37.201936 15152 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.7, Runtime API Version: 11.6\r\nW0927 08:44:37.207935 15152 gpu_resources.cc:91] device: 0, cuDNN Version: 8.4.\r\nParams:  Tensor(shape=[1], dtype=float32, place=Place(gpu:0), stop_gradient=False,\r\n       [37.20547867])\r\nError: ../paddle/phi/kernels/funcs/gather.cu.h:67 Assertion `index_value >= 0 && index_value < input_dims[j]` failed. The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than [7] and greater than or equal to 0, but received [0]\r\nError: ../paddle/phi/kernels/funcs/gather.cu.h:67 Assertion `index_value >= 0 && index_value < input_dims[j]` failed. The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than [7] and greater than or equal to 0, but received [0]\r\nError: ../paddle/phi/kernels/funcs/gather.cu.h:67 Assertion `index_value >= 0 && index_value < input_dims[j]` failed. The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than [7] and greater than or equal to 0, but received [0]\r\n...............................................................................................................................................................................................................................................................\r\nError: ../paddle/phi/kernels/funcs/gather.cu.h:67 Assertion `index_value >= 0 && index_value < input_dims[j]` failed. The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than [7] and greater than or equal to 0, but received [0]\r\nError: ../paddle/phi/kernels/funcs/gather.cu.h:67 Assertion `index_value >= 0 && index_value < input_dims[j]` failed. The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than [7] and greater than or equal to 0, but received [0]\r\nTraceback (most recent call last):\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\tools\\train.py\", line 172, in <module>\r\n    main()\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\tools\\train.py\", line 168, in main\r\n    run(FLAGS, cfg)\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\tools\\train.py\", line 132, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\ppdet\\engine\\trainer.py\", line 535, in train\r\n    outputs = model(data)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\ppyolo\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\ppyolo\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\ppdet\\modeling\\architectures\\meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\ppdet\\modeling\\architectures\\yolov5.py\", line 91, in get_loss\r\n    return self._forward()\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\ppdet\\modeling\\architectures\\yolov5.py\", line 81, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\ppyolo\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\ppyolo\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\ppdet\\modeling\\heads\\yolo_head.py\", line 755, in forward\r\n    return self.loss(yolo_outputs, targets, self.anchors)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\ppyolo\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\ppyolo\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\ppdet\\modeling\\losses\\yolo_loss.py\", line 512, in forward\r\n    bs, as_, gjs, gis, targets, anchors = self.build_targets(\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\ppdet\\modeling\\losses\\yolo_loss.py\", line 593, in build_targets\r\n    indices, anch = self.find_3_positive(p, targets, anchors)\r\n  File \"D:\\Code\\_Paddle\\PaddleYOLO\\ppdet\\modeling\\losses\\yolo_loss.py\", line 784, in find_3_positive\r\n    j = np.stack([np.ones_like(j), j, k, l, m])\r\n  File \"<__array_function__ internals>\", line 180, in ones_like\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\ppyolo\\lib\\site-packages\\numpy\\core\\numeric.py\", line 280, in ones_like\r\n    res = empty_like(a, dtype=dtype, order=order, subok=subok, shape=shape)\r\n  File \"<__array_function__ internals>\", line 180, in empty_like\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\ppyolo\\lib\\site-packages\\paddle\\fluid\\dygraph\\varbase_patch_methods.py\", line 692, in __array__\r\n    array = self.numpy()\r\nOSError: (External) CUDA error(719), unspecified launch failure.\r\n  [Hint: 'cudaErrorLaunchFailure'. An exception occurred on the device while executing a kernel. Common causes include dereferencing an invalid device pointerand accessing out of bounds shared memory. Less common cases can be system specific - more information about these cases canbe found in the system specific user guide. This leaves the process in an inconsistent state and any further CUDA work willreturn the same error. To continue using CUDA, the process must be terminated and relaunched.] (at ..\\paddle\\phi\\backends\\gpu\\cuda\\cuda_info.cc:258)\n\n### 复现环境 Environment\n\nWindows 10\r\n\r\npython 3.9\r\npaddlepaddle-gpu   2.3.2.post116\r\npaddledet          2.4.0\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "mr-abccc",
        "closed_by": "nemonameless",
        "created_at": "2022-09-27T00:57:06+00:00",
        "updated_at": "2023-11-24T11:16:24+00:00",
        "closed_at": "2022-10-14T04:14:28+00:00",
        "comments_count": [
            "nemonameless",
            "mr-abccc",
            "mr-abccc",
            "nemonameless",
            "nemonameless",
            "Plusmile",
            "nemonameless",
            "Zhw1997"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 39,
        "title": "yolov5s 开启--eval, 验证会卡住",
        "body": "### 问题描述 Please describe your issue\n\n![image](https://user-images.githubusercontent.com/82866148/193400164-fb198887-1966-4e4a-a158-01c156cfa85d.png)\r\nYOLOv5 reader 按照默认配置\r\n",
        "state": "closed",
        "user": "Tongfengyu",
        "closed_by": "nemonameless",
        "created_at": "2022-10-01T08:19:12+00:00",
        "updated_at": "2022-10-12T17:00:06+00:00",
        "closed_at": "2022-10-12T17:00:06+00:00",
        "comments_count": [
            "Tongfengyu",
            "nemonameless",
            "Tongfengyu",
            "Tongfengyu",
            "Tongfengyu",
            "nemonameless",
            "Tongfengyu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 41,
        "title": "关于 v6 300 epoch",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n请问关于 v6 s 等小模型的 300 epoch 后面会训吗",
        "state": "closed",
        "user": "FL77N",
        "closed_by": "nemonameless",
        "created_at": "2022-10-10T01:16:25+00:00",
        "updated_at": "2022-10-14T04:14:46+00:00",
        "closed_at": "2022-10-14T04:14:46+00:00",
        "comments_count": [
            "nemonameless",
            "FL77N",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 42,
        "title": "yolov7-x,yolov7-l训练到第9个epoch error",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\r\n\r\n\r\n### Bug组件 Bug Component\r\n\r\nTraining\r\n\r\n### Bug描述 Describe the Bug\r\n\r\nlinux paddle2.3.2容器环境下，运行\r\n自己voc 标准格式的数据，开启amp，开启预训练，config只是改了数据，其他还没有动过\r\n\r\n命令：CUDA_VISIBLE_DEVICES=0  python3.7 tools/train.py -c configs/yolov7/yolov7_l_300e_zykj.yml --amp -o pretrain_weights=https://paddledet.bj.bcebos.com/models/yolov7_l_300e_coco.pdparams\r\n##################################################################\r\nconfig.yml:\r\n\r\n_BASE_: [\r\n  **'../datasets/zykj_detection.yml',**\r\n  '../runtime.yml',\r\n  '_base_/optimizer_300e.yml',\r\n  '_base_/yolov7_elannet.yml',\r\n  '_base_/yolov7_reader.yml',\r\n]\r\nlog_iter: 100\r\nsnapshot_epoch: 10\r\nweights: output/yolov7_l_300e_coco/model_final\r\n\r\narch: L\r\n\r\nTrainReader:\r\n  batch_size: 32 # 一块3090显卡能几乎跑满，再大的模型或者batch显卡性能不够\r\n\r\n##########################################################\r\n\r\n[10/18 05:15:43] ppdet.engine INFO: Epoch: [6] [100/107] eta: 3 days, 5:00:56 lr: 0.009850 loss_box: 0.072392 loss_obj: 0.006819 loss_cls: 0.234330 loss: 10.098155 batch_cost: 7.9959 data_cost: 6.6045 ips: 4.0020 images/s\r\n[10/18 05:17:18] ppdet.engine INFO: Epoch: [7] [  0/107] eta: 3 days, 5:21:48 lr: 0.009820 loss_box: 0.072360 loss_obj: 0.006701 loss_cls: 0.235074 loss: 10.109240 batch_cost: 8.8357 data_cost: 7.4409 ips: 3.6217 images/s\r\n[10/18 05:31:33] ppdet.engine INFO: Epoch: [7] [100/107] eta: 3 days, 4:44:26 lr: 0.009820 loss_box: 0.071314 loss_obj: 0.007220 loss_cls: 0.217982 loss: 9.457106 batch_cost: 8.5153 data_cost: 7.0825 ips: 3.7580 images/s\r\n[10/18 05:33:09] ppdet.engine INFO: Epoch: [8] [  0/107] eta: 3 days, 5:03:17 lr: 0.009790 loss_box: 0.070992 loss_obj: 0.007268 loss_cls: 0.219685 loss: 9.510744 batch_cost: 9.3629 data_cost: 7.9285 ips: 3.4178 images/s\r\n[10/18 05:47:04] ppdet.engine INFO: Epoch: [8] [100/107] eta: 3 days, 4:17:59 lr: 0.009790 loss_box: 0.070877 loss_obj: 0.006961 loss_cls: 0.206957 loss: 9.059731 batch_cost: 8.3161 data_cost: 6.9136 ips: 3.8480 images/s\r\n[10/18 05:48:40] ppdet.engine INFO: Epoch: [9] [  0/107] eta: 3 days, 4:34:15 lr: 0.009760 loss_box: 0.070877 loss_obj: 0.006922 loss_cls: 0.203878 loss: 9.042969 batch_cost: 9.1522 data_cost: 7.7467 ips: 3.4964 images/s\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 172, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 168, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 132, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/shiyy/PaddleYOLO/ppdet/engine/trainer.py\", line 403, in train\r\n    outputs = model(data)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/shiyy/PaddleYOLO/ppdet/modeling/architectures/meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"/shiyy/PaddleYOLO/ppdet/modeling/architectures/yolov5.py\", line 92, in get_loss\r\n    return self._forward()\r\n  File \"/shiyy/PaddleYOLO/ppdet/modeling/architectures/yolov5.py\", line 77, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/shiyy/PaddleYOLO/ppdet/modeling/heads/yolov7_head.py\", line 206, in forward\r\n    return self.loss(yolo_outputs, targets, self.anchors)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/shiyy/PaddleYOLO/ppdet/modeling/losses/yolov7_loss.py\", line 119, in forward\r\n    inputs, targets, gt_targets['image'], anchors)\r\n  File \"/shiyy/PaddleYOLO/ppdet/modeling/losses/yolov7_loss.py\", line 300, in build_targets\r\n    matching_matrix[gt_idx, pos_idx] = 1.0\r\nIndexError: index 140613145985136 is out of bounds for axis 1 with size 9\r\n\r\n\r\n\r\n### 复现环境 Environment\r\n\r\nlinux\r\npaddle2.3.2，容器环境\r\ncuda11.2\r\n\r\n### Bug描述确认 Bug description confirmation\r\n\r\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\r\n\r\n\r\n### 是否愿意提交PR？ Are you willing to submit a PR?\r\n\r\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "skycat88",
        "closed_by": "nemonameless",
        "created_at": "2022-10-18T06:47:38+00:00",
        "updated_at": "2023-01-07T16:40:26+00:00",
        "closed_at": "2022-11-28T08:11:50+00:00",
        "comments_count": [
            "nemonameless",
            "skycat88",
            "skycat88",
            "nemonameless",
            "pwy1327347084",
            "nemonameless",
            "nemonameless",
            "pwy1327347084"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 43,
        "title": "🚀 Train Custom Data Tutorial 自定义数据集训练教程 🚀",
        "body": "## Train Custom Data Tutorial (English version)\r\n\r\nNote：The Chinese version of the tutorial is located in the second reply below. 中文版教程请看下面第二条回复。\r\n\r\n### 0. Examples\r\n\r\nThe PaddleDetection team provides various **feature detection models based on PP-YOLOE** , which can also be used as a reference to modify on your custom dataset. Please refer to [PP-YOLOE application](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/ppyoloe/application), [pphuman](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/pphuman), [ppvehicle](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/ppvehicle), [visdrone](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/visdrone) and [smalldet](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/smalldet).\r\n\r\n|Scenarios | Related Datasets | Links|\r\n| :--------: | :---------: | :------: |\r\n|Agriculture | [Embrapa WGISD](https://github.com/thsant/wgisd) | [application](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/ppyoloe/application) |\r\n|Low light | [ExDark](https://github.com/cs-chan/Exclusively-Dark-Image-Dataset/tree/master/Dataset) | [application](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/ppyoloe/application) |\r\n|Industry PCB Flaw | [PKU-Market-PCB](https://robotics.pkusz.edu.cn/resources/dataset/) | [application](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/ppyoloe/application) |\r\n|Pedestrian |[CrowdHuman](http://www.crowdhuman.org/) | [pphuman](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/pphuman) |\r\n|Vehicle | [BDD100K](https://www.bdd100k.com/), [UA-DETRAC](https://detrac-db.rit.albany.edu/) | [ppvehicle](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/ppvehicle) |\r\n|VisDrone | [VisDrone-DET](https://github.com/VisDrone/VisDrone-Dataset) | [visdrone](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/visdrone) |\r\n|Small Object |[DOTA](https://captain-whu.github.io/DOAI2019/dataset.html), [xView](http://xviewdataset.org) | [smalldet](https://github.com/PaddlePaddle/PaddleDetection/tree/release/2.5/configs/smalldet) |\r\n\r\nPaddleDetection also provides **various YOLO models  for VOC dataset** , which can also be used as a reference to modify on your custom dataset. Please refer to [voc](https://github.com/PaddlePaddle/PaddleYOLO/tree/release/2.5/configs/voc).\r\n\r\n\r\n### 1. Custom data preparation：\r\n\r\n1.For the annotation of custom dataset, please refer to [DetAnnoTools](https://github.com/PaddlePaddle/PaddleDetection/blob/release/2.5/docs/tutorials/data/DetAnnoTools_en.md);\r\n\r\n2.For training preparation of custom dataset，please refer to [PrepareDataSet](https://github.com/PaddlePaddle/PaddleDetection/blob/release/2.5/docs/tutorials/data/PrepareDetDataSet_en.md).\r\n\r\n**Note:**\r\n- For the format of COCO style custom dataset, please refer to [format-data](https://cocodataset.org/#format-data) and [format-results](https://cocodataset.org/#format-results).\r\n- The evaluation metric is COCO, please refer to [detection-eval](https://cocodataset.org/#detection-eval), and install  [cocoapi](https://github.com/cocodataset/cocoapi) at first.\r\n\r\n\r\n### 2. **Run script**\r\n```\r\nmodel_type=ppyoloe # modify to 'yolov7'\r\njob_name=ppyoloe_plus_crn_s_80e_coco # modify to 'yolov7_tiny_300e_coco'\r\n\r\nconfig=configs/${model_type}/${job_name}.yml\r\nlog_dir=log_dir/${job_name}\r\n# weights=https://bj.bcebos.com/v1/paddledet/models/${job_name}.pdparams\r\nweights=output/${job_name}/model_final.pdparams\r\n\r\n# 1.training（single GPU / multi GPU）\r\n# CUDA_VISIBLE_DEVICES=0 python tools/train.py -c ${config} --eval --amp\r\npython -m paddle.distributed.launch --log_dir=${log_dir} --gpus 0,1,2,3,4,5,6,7 tools/train.py -c ${config} --eval --amp\r\n\r\n# 2.eval\r\nCUDA_VISIBLE_DEVICES=0 python tools/eval.py -c ${config} -o weights=${weights} --classwise\r\n\r\n# 3.infer\r\nCUDA_VISIBLE_DEVICES=0 python tools/infer.py -c ${config} -o weights=${weights} --infer_img=demo/000000014439_640x640.jpg --draw_threshold=0.5\r\n\r\n# 4.export\r\nCUDA_VISIBLE_DEVICES=0 python tools/export_model.py -c ${config} -o weights=${weights} # exclude_nms=True trt=True\r\n\r\n# 5.deploy infer\r\nCUDA_VISIBLE_DEVICES=0 python deploy/python/infer.py --model_dir=output_inference/${job_name} --image_file=demo/000000014439_640x640.jpg --device=GPU\r\n\r\n# 6.deploy speed\r\nCUDA_VISIBLE_DEVICES=0 python deploy/python/infer.py --model_dir=output_inference/${job_name} --image_file=demo/000000014439_640x640.jpg --device=GPU --run_benchmark=True # --run_mode=trt_fp16\r\n\r\n# 7.export onnx\r\npaddle2onnx --model_dir output_inference/${job_name} --model_filename model.pdmodel --params_filename model.pdiparams --opset_version 12 --save_file ${job_name}.onnx\r\n\r\n# 8.onnx speed\r\n/usr/local/TensorRT-8.0.3.4/bin/trtexec --onnx=${job_name}.onnx --workspace=4096 --avgRuns=10 --shapes=input:1x3x640x640 --fp16\r\n\r\n```\r\n\r\n**Note:**\r\n- Write the above commands in a script file, such as ```run.sh```, and run as：```sh run.sh```. You can also run the command line sentence by sentence.\r\n- If you want to switch models, just modify the first two lines, such as:\r\n  ```\r\n  model_type=yolov7\r\n  job_name=yolov7_tiny_300e_coco\r\n  ```\r\n- For **FLOPs(G) and Params(M)**, you should first install [PaddleSlim](https://github.com/PaddlePaddle/PaddleSlim), `pip install paddleslim`, then set `print_flops: True` and `print_params: True` in [runtime.yml](https://github.com/PaddlePaddle/PaddleYOLO/blob/release/2.5/configs/runtime.yml). Make sure **single scale** like 640x640.\r\n\r\n\r\n### 3. Fintune for training：\r\n\r\nIn addition to changing the path of the dataset, it is generally recommended to load **the COCO pre training weight of the corresponding model** to fintune, which will converge faster and achieve higher accuracy, such as：\r\n\r\n```base\r\n# fintune with single GPU：\r\n# CUDA_VISIBLE_DEVICES=0 python tools/train.py -c ${config} --eval --amp -o pretrain_weights=https://paddledet.bj.bcebos.com/models/ppyoloe_plus_crn_s_80e_coco.pdparams\r\n\r\n# fintune with multi GPU：\r\npython -m paddle.distributed.launch --log_dir=./log_dir --gpus 0,1,2,3,4,5,6,7 tools/train.py -c ${config} --eval --amp -o pretrain_weights=https://paddledet.bj.bcebos.com/models/ppyoloe_plus_crn_s_80e_coco.pdparams\r\n```\r\n\r\n**Note:**\r\n- The fintune training will show that the channels of the last layer of the head classification branch is not matched, which is a normal situation, because the number of custom dataset is generally inconsistent with that of COCO dataset;\r\n- In general, the number of epochs for fintune training can be set less, and the lr setting is also smaller, such as 1/10. The highest accuracy may occur in one of the middle epochs;\r\n\r\n\r\n### 4. Predict and export:\r\n\r\nWhen using custom dataset to predict and export models, if the path of the TestDataset dataset is set incorrectly, COCO 80 categories will be used by default.\r\n\r\nIn addition to the correct path setting of the TestDataset dataset, you can also modify and add the corresponding `label_list`. Txt file (one category is recorded in one line), and `anno_path` in TestDataset can also be set as an absolute path, such as:\r\n```\r\nTestDataset:\r\n  !ImageFolder\r\n    anno_path: label_list.txt # if not set dataset_dir, the anno_path will be relative path of PaddleDetection root directory\r\n    # dataset_dir: dataset/my_coco # if set dataset_dir, the anno_path will be dataset_dir/anno_path\r\n```\r\none line in `label_list.txt` records a corresponding category：\r\n```\r\nperson\r\nvehicle\r\n```\r\n",
        "state": "closed",
        "user": "nemonameless",
        "closed_by": "nemonameless",
        "created_at": "2022-10-19T05:31:21+00:00",
        "updated_at": "2024-10-13T04:57:37+00:00",
        "closed_at": "2024-03-04T08:36:09+00:00",
        "comments_count": [
            "nemonameless",
            "Zhw1997",
            "nemonameless",
            "zmdcs",
            "nemonameless",
            "zmdcs",
            "zmdcs",
            "nemonameless",
            "zmdcs",
            "ziishuo",
            "zmdcs",
            "nemonameless",
            "leslie2046"
        ],
        "labels": [
            "documentation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 46,
        "title": "🚀 PP-YOLOE+高精度云边一体模型已经发布，欢迎大家试用讨论 🚀 ",
        "body": "## PP-YOLOE+\r\n\r\nPP-YOLOE+是基于飞桨云边一体高精度模型PP-YOLOE迭代优化升级版本，具备以下特点\r\n\r\n**1. 超强性能**\r\n\r\n使用Objects365预训练模型，升级版骨干网络等改动大幅提升模型精度，最高精度提升2.4% mAP，达到54.9% mAP\r\n\r\n**2. 训练收敛加速**\r\n\r\n基于Objects365预训练模型，减少训练轮数，训练收敛速度提升3.75倍\r\n\r\n**3. 下游任务泛化性显著提升**\r\n\r\n在农业、夜间安防、工业等不同场景数据集上验证，精度最高提升8.1%\r\n\r\n**4. 高性能部署能力**\r\n\r\n本次升级PP-YOLOE+支持多种部署方式，包括Python/C++、Serving、ONNX Runtime、ONNX-TRT、INT8量化等部署能力。\r\n\r\nPP-YOLOE+教程文档：https://github.com/PaddlePaddle/PaddleDetection/blob/release/2.5/configs/ppyoloe/README_cn.md\r\n\r\n为了方便大家相互交流沟通，欢迎大家扫码加入微信群，相关意见、建议和使用中的疑问可以在微信群中交流或者在github中提issue\r\n\r\n<img width=\"300\" alt=\"ppyoloe_map_fps\" src=\"https://user-images.githubusercontent.com/22989727/196740057-c5dddc49-34b3-47dc-b159-36d2691a63a2.jpg\">\r\n\r\n",
        "state": "closed",
        "user": "nemonameless",
        "closed_by": "nemonameless",
        "created_at": "2022-10-25T04:07:48+00:00",
        "updated_at": "2024-02-26T08:58:01+00:00",
        "closed_at": "2024-02-26T08:58:01+00:00",
        "comments_count": [],
        "labels": [
            "help wanted"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 44,
        "title": "🚀 Roadmap of PaddleYOLO 🚀",
        "body": "## Roadmap of PaddleYOLO\r\n\r\nThis issue is used to collect user's functional requirements and show the future development plan.\r\n\r\nWelcome to provide functional requirements and any suggestions through the message, thank you.\r\n\r\n此issue用于收集广大用户的功能需求，以及展示之后的研发计划。\r\n\r\n欢迎通过留言提供您的功能需求和任何建议，谢谢。\r\n\r\n\r\n### Roadmap\r\n\r\n  - [x] `VOC` dataset Model Zoo and Tutorial\r\n  - [x] Speed up YOLOv5/YOLOv7 training\r\n  - [ ] support DAMO-YOLO\r\n\r\n\r\n### Collected features\r\n\r\n  - [ ] -\r\n",
        "state": "closed",
        "user": "nemonameless",
        "closed_by": "nemonameless",
        "created_at": "2022-10-19T05:32:05+00:00",
        "updated_at": "2024-03-04T08:37:11+00:00",
        "closed_at": "2024-03-04T08:36:32+00:00",
        "comments_count": [
            "clintonfang",
            "nemonameless",
            "WilliamQf-AI",
            "nemonameless",
            "huilin66",
            "nemonameless"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 47,
        "title": "是否支持win系统 voc数据集训练？",
        "body": "在win系统下自定义 voc数据集训练，总是内存溢出，将bs调到1依然不行！\r\n![image](https://user-images.githubusercontent.com/59632939/197832033-4c9a9c8d-8f9f-4186-aad0-95c103cc43aa.png)\r\n",
        "state": "closed",
        "user": "Gaoang112",
        "closed_by": "nemonameless",
        "created_at": "2022-10-25T16:35:42+00:00",
        "updated_at": "2022-11-01T15:15:25+00:00",
        "closed_at": "2022-11-01T15:15:25+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 48,
        "title": "输出onnx模型问题",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n训练YOLOX再导出模型时候按照教程关闭NMS，\r\n![image](https://user-images.githubusercontent.com/88640736/198279075-851c5b0d-d9c0-4a86-b996-d9590f046c51.png)\r\n但输出的onnx任然包含NMS\r\n![image](https://user-images.githubusercontent.com/88640736/198278522-d5f04761-ddce-403c-a4cf-aa5f7974aef7.png)\r\n请问如何解决？\r\n",
        "state": "closed",
        "user": "Superyanzhuang",
        "closed_by": "Superyanzhuang",
        "created_at": "2022-10-27T12:02:17+00:00",
        "updated_at": "2022-10-28T00:25:48+00:00",
        "closed_at": "2022-10-28T00:25:48+00:00",
        "comments_count": [
            "nemonameless",
            "Superyanzhuang",
            "Superyanzhuang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 49,
        "title": "项目能开一个develop分支么？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n对于单个版本分支作为main没啥毛病，后续每个分支都是一个release,对于本地git clone后某个版本，更新代码其实很麻烦。希望能改进",
        "state": "closed",
        "user": "BeyondYourself",
        "closed_by": "BeyondYourself",
        "created_at": "2022-10-31T02:09:36+00:00",
        "updated_at": "2022-10-31T08:21:43+00:00",
        "closed_at": "2022-10-31T08:21:43+00:00",
        "comments_count": [
            "nemonameless",
            "BeyondYourself"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 50,
        "title": "混淆矩阵，F1-score，P-R过程图等",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n像官方yolov5、yolov7一样，训练结束时，能够生成混淆矩阵、P-R图、F1-score过程图等\r\n方便训练自己数据集时，后续进行优化与调整\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "Ss-shuang123",
        "closed_by": "Ss-shuang123",
        "created_at": "2022-11-03T08:55:13+00:00",
        "updated_at": "2022-11-03T13:29:56+00:00",
        "closed_at": "2022-11-03T13:29:56+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 51,
        "title": "yolov7训练",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nconfig：yolov7p6_e6e_300e_coco.yml\r\n\r\n![image](https://user-images.githubusercontent.com/28383188/200794147-81c8fa5e-d4e5-460c-8a70-8173f698ceb7.png)\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/28383188/200794283-22ab588e-e1f0-4c08-aaa7-d5e9a093cd5d.png)\r\n\r\n很奇怪怎么没有这个网络层尼，导致训练不了模型",
        "state": "closed",
        "user": "LeFuGang",
        "closed_by": "nemonameless",
        "created_at": "2022-11-09T09:36:28+00:00",
        "updated_at": "2022-11-09T13:53:50+00:00",
        "closed_at": "2022-11-09T13:53:50+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 52,
        "title": "yolov6 开启了dfl后 map为0",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n```\r\n_BASE_: [\r\n  '../datasets/voc.yml',\r\n  '../runtime.yml',\r\n  '_base_/optimizer_300e.yml',\r\n  '_base_/yolov6_cspbep.yml',\r\n  '_base_/yolov6_reader_fintune.yml',\r\n]\r\ndepth_mult: 1.0\r\nwidth_mult: 1.0\r\n\r\nlog_iter: 20\r\nsnapshot_epoch: 10\r\npretrain_weights: /home/zq/segmentation/PaddleYOLO/output/iter1_L2_old_mosaic/yolov6_l_silu_300e_coco/best_model.pdparams\r\nweights: \r\n\r\n\r\nact: 'silu'\r\ntraining_mode: \"conv_silu\" # Note: L use silu\r\n\r\n\r\nCSPBepBackbone:\r\n  csp_e: 0.50\r\n\r\nCSPRepPAN:\r\n  csp_e: 0.50\r\n\r\nEffiDeHead:\r\n  reg_max: 16\r\n  use_dfl: True\r\n  iou_type: 'giou'\r\n  loss_weight: {cls: 1.0, iou: 2.5, dfl: 0.5, cwd: 10.0}\r\n  distill_weight: {cls: 2.0, dfl: 1.0} # 2:1 in L-relu version, will not work default (self_distill=False)\r\n\r\n\r\n# Step 1: Training the base model, get 51.0+ mAP\r\nTrainReader:\r\n  batch_size: 16 # total batch_size = 32 * gpu_num\r\n\r\nEvalReader:\r\n  batch_size: 8\r\n\r\n\r\n# Step 2: Self-distillation training, get 52.0+ mAP\r\n# Please cancel the following comment and train again\r\n#\r\n#self_distill: False\r\n#pretrain_weights: /home/zq/segmentation/PaddleYOLO/output/iter1_L2_old_mosaic/yolov6_l_silu_300e_coco/best_model.pdparams\r\n#save_dir: output_distill\r\n#weights:\r\n\r\n#TrainReader:\r\n#   batch_size: 16\r\n#\r\n```\r\n以上为配置文件 开启了自蒸馏后一样是map为0",
        "state": "closed",
        "user": "Yamabukiss",
        "closed_by": "Yamabukiss",
        "created_at": "2022-11-09T13:41:38+00:00",
        "updated_at": "2022-11-10T08:32:33+00:00",
        "closed_at": "2022-11-10T08:32:33+00:00",
        "comments_count": [
            "nemonameless",
            "Yamabukiss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 53,
        "title": "yolov5版本提问",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n配置文件在PaddleYOLO/configs/yolov5/yolov5_s_300e_coco.yml\r\n请问，yolov5_s_300e_coco对应yolov5的pytorch中的6.2版本吗？因为在自己数据集上做实验需要与pytorch做一个对比；需要版本一致。非常感谢。",
        "state": "closed",
        "user": "fan-min-97",
        "closed_by": "nemonameless",
        "created_at": "2022-11-14T16:12:13+00:00",
        "updated_at": "2022-11-25T02:54:08+00:00",
        "closed_at": "2022-11-25T02:54:08+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 54,
        "title": "单卡训练",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n单卡怎么训练呢？\r\n已经在官网查询过[教程文档]，但是没有找到解答，都是默认8卡训练；\r\n![image](https://user-images.githubusercontent.com/78461277/202187391-d8b14c88-9c57-465a-9316-48e1eeb9aca0.png)\r\n3090单卡默认配置训练，训不动",
        "state": "closed",
        "user": "wexin-c",
        "closed_by": "wexin-c",
        "created_at": "2022-11-16T13:02:29+00:00",
        "updated_at": "2022-11-19T01:25:40+00:00",
        "closed_at": "2022-11-19T01:25:40+00:00",
        "comments_count": [
            "nemonameless",
            "wexin-c"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 55,
        "title": "导出的yolov5模型stem前有额外的mul算子",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n在yolov5页面下载了你们提供的yolov5_n_300e_coco预训练权重后，未修改任何配置，直接执行export脚本导出模型。用Netron打开模型结构后发现，模型并不是以stem的卷积开始的，而是在一开始的img输入后，先进行了elementwise_mul与elementwise_add。其中elementwise_mul的other输入为\r\ntype: float32[1,3,1,1]\r\n[\r\n    [\r\n        [\r\n            [\r\n                0.003921568859368563\r\n            ]\r\n        ],\r\n        [\r\n            [\r\n                0.003921568859368563\r\n            ]\r\n        ],\r\n        [\r\n            [\r\n                0.003921568859368563\r\n            ]\r\n        ]\r\n    ]\r\n]\r\nelementwise_add的输入为：\r\ntype: float32[1,3,1,1]\r\n[\r\n    [\r\n        [\r\n            [\r\n                0\r\n            ]\r\n        ],\r\n        [\r\n            [\r\n                0\r\n            ]\r\n        ],\r\n        [\r\n            [\r\n                0\r\n            ]\r\n        ]\r\n    ]\r\n]\r\n想请教下导出的模型为什么会包含这两个算子，\r\n![image_4](https://user-images.githubusercontent.com/53223428/202351093-b773656b-7e37-429e-9c46-0fb5f2807995.png)\r\n",
        "state": "closed",
        "user": "rysngl",
        "closed_by": "rysngl",
        "created_at": "2022-11-17T03:54:38+00:00",
        "updated_at": "2022-11-17T07:38:22+00:00",
        "closed_at": "2022-11-17T07:38:22+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 56,
        "title": "同一张图片有较低概率（0.2%）出现不同的结果",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nDeploy\n\n### Bug描述 Describe the Bug\n\n用自己的数据集训练的模型，模型转换后，出现了预测同一张图片得到不同的结果：\r\n结果1：[0, 0.95495987, 0.8209882, 980.28625, 908.0034, 1480.1486]\r\n\r\n结果2：[0, 0.97286224, 101.02287, 0.46325487, 1358.9056, 696.56476]\r\n\n\n### 复现环境 Environment\n\nOS：linux\r\npaddlepaddle-gpu:2.3.2\r\ncuda:11.2\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "xmxxiong",
        "closed_by": "nemonameless",
        "created_at": "2022-11-17T09:37:22+00:00",
        "updated_at": "2024-03-04T09:29:37+00:00",
        "closed_at": "2024-03-04T09:29:36+00:00",
        "comments_count": [
            "nemonameless",
            "xmxxiong",
            "xmxxiong",
            "xmxxiong",
            "nemonameless",
            "xmxxiong",
            "nemonameless",
            "xmxxiong",
            "xmxxiong",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 57,
        "title": " yolov5模型导出",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nExport\n\n### Bug描述 Describe the Bug\n\n模型训练完后使用导出命令行代码：\r\npython tools/export_model.py -c configs/yolov5/yolov5_x_300e_coco.yml  -o weights=output/yolov5_x_300e_coco/best_model.pdparams TestReader.inputs_def.image_shape=[3,640,640] --output_dir=./inference_model\r\n![image](https://user-images.githubusercontent.com/78461277/202607755-a41d457c-45cd-49ee-98e6-03041dda5bc6.png)\r\n![image](https://user-images.githubusercontent.com/78461277/202607830-55629408-42c0-4f40-bbf7-8cf008a3462a.png)\r\n![image](https://user-images.githubusercontent.com/78461277/202607861-90121ad6-15d5-48cc-a1a1-c7e8c0e4f8b0.png)\r\n![image](https://user-images.githubusercontent.com/78461277/202607890-03f32716-f1df-4169-8032-29f0c2325499.png)\r\n![image](https://user-images.githubusercontent.com/78461277/202607919-b21dd417-03b9-4fb2-9022-b9b2ac5e3248.png)\r\n\r\n\n\n### 复现环境 Environment\n\n-OS: Windows10\r\n-PaddlePaddle: develop\r\n-PaddleYOLO: PaddleYOLO-release-2.5\r\n-Python: 3.8.0\r\n-CUDA: 11.1\r\nCUDNN: 8.0.5\r\n\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "wexin-c",
        "closed_by": "nemonameless",
        "created_at": "2022-11-18T03:08:28+00:00",
        "updated_at": "2024-03-04T08:44:34+00:00",
        "closed_at": "2024-03-04T08:44:33+00:00",
        "comments_count": [
            "nemonameless",
            "wexin-c",
            "wexin-c",
            "wexin-c",
            "nemonameless",
            "wexin-c",
            "nemonameless"
        ],
        "labels": [
            "windows"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 58,
        "title": "训练batchsize大小问题",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n您好，我使用官方版本的yolov7代码可以batchsize=32大小训练，精度提升也很快。相同显存下，paddle的yolov7为什么batchsize只能调为8？",
        "state": "closed",
        "user": "isLiuHao",
        "closed_by": "nemonameless",
        "created_at": "2022-11-19T03:56:47+00:00",
        "updated_at": "2022-11-25T02:56:38+00:00",
        "closed_at": "2022-11-25T02:56:38+00:00",
        "comments_count": [
            "nemonameless",
            "isLiuHao"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 59,
        "title": "yolov7训练报错",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\r\n\r\n\r\n### Bug组件 Bug Component\r\n\r\n_No response_\r\n\r\n### Bug描述 Describe the Bug\r\n\r\n\r\n```\r\n[11/23 03:43:27] ppdet.engine INFO: Epoch: [0] [ 0/82] eta: 0:51:19 lr: 0.000000 loss_box: 0.133824 loss_obj: 5.553813 loss_cls: 0.000000 loss: 34.125824 batch_cost: 1.8780 data_cost: 0.0010 ips: 3.1949 images/s\r\nTraceback (most recent call last):\r\n  File \"I:\\DeepLearningSystem\\PaddleYOLO\\train.py\", line 513, in <module>\r\n    main()\r\n  File \"I:\\DeepLearningSystem\\PaddleYOLO\\train.py\", line 509, in main\r\n    run(FLAGS, cfg, logger, infer_output)\r\n  File \"I:\\DeepLearningSystem\\PaddleYOLO\\train.py\", line 279, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"I:\\DeepLearningSystem\\PaddleYOLO\\ppdet\\engine\\trainer.py\", line 403, in train\r\n    outputs = model(data)\r\n  File \"C:\\Program Files\\Python\\Python39\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"C:\\Program Files\\Python\\Python39\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"I:\\DeepLearningSystem\\PaddleYOLO\\ppdet\\modeling\\architectures\\meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"I:\\DeepLearningSystem\\PaddleYOLO\\ppdet\\modeling\\architectures\\yolov5.py\", line 92, in get_loss\r\n    return self._forward()\r\n  File \"I:\\DeepLearningSystem\\PaddleYOLO\\ppdet\\modeling\\architectures\\yolov5.py\", line 77, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"C:\\Program Files\\Python\\Python39\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"C:\\Program Files\\Python\\Python39\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"I:\\DeepLearningSystem\\PaddleYOLO\\ppdet\\modeling\\heads\\yolov7_head.py\", line 205, in forward\r\n    return self.loss(yolo_outputs + yolo_outputs_aux, targets,\r\n  File \"C:\\Program Files\\Python\\Python39\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"C:\\Program Files\\Python\\Python39\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"I:\\DeepLearningSystem\\PaddleYOLO\\ppdet\\modeling\\losses\\yolov7_loss.py\", line 118, in forward\r\n    bs, as_, gjs, gis, targets, anchors = self.build_targets(\r\n  File \"I:\\DeepLearningSystem\\PaddleYOLO\\ppdet\\modeling\\losses\\yolov7_loss.py\", line 255, in build_targets\r\n    pxyxys = paddle.concat(pxyxys, 0)\r\n  File \"C:\\Program Files\\Python\\Python39\\lib\\site-packages\\paddle\\tensor\\manipulation.py\", line 345, in concat\r\n    return paddle.fluid.layers.concat(input=x, axis=axis, name=name)\r\n  File \"C:\\Program Files\\Python\\Python39\\lib\\site-packages\\paddle\\fluid\\layers\\tensor.py\", line 327, in concat\r\n    return _C_ops.concat(input, 'axis', axis)\r\nValueError: (InvalidArgument) concat(): argument 'X' (position 0) must be list of Tensors, but got empty list (at ..\\paddle/fluid/pybind/op_function.h:848)\r\n\r\n```\r\n[yolov7_loss.py](https://github.com/PaddlePaddle/PaddleYOLO/blob/release/2.5/ppdet/modeling/losses/yolov7_loss.py)第255行，如果pxyxys为空会报错\r\n```\r\n            pxyxys, p_cls, p_obj = [], [], []\r\n            from_which_layer = []\r\n            all_b, all_a, all_gj, all_gi = [], [], [], []\r\n            all_anch = []\r\n\r\n            empty_feats_num = 0\r\n            for i, pi in enumerate(p):\r\n                idx = (indices[i][0] == batch_idx)\r\n                if idx.sum() == 0:\r\n                    empty_feats_num += 1\r\n                    continue\r\n                b, a, gj, gi = indices[i][0][idx], indices[i][1][idx], indices[\r\n                    i][2][idx], indices[i][3][idx]\r\n                all_b.append(b)\r\n                all_a.append(a)\r\n                all_gj.append(gj)\r\n                all_gi.append(gi)\r\n                all_anch.append(anch[i][idx])\r\n                from_which_layer.append(paddle.ones([len(b)]) * i)\r\n\r\n                fg_pred = pi[b, a, gj, gi]\r\n                if len(fg_pred.shape) == 1:  # paddle2.3 index\r\n                    fg_pred = fg_pred.unsqueeze(0)\r\n\r\n                p_obj.append(fg_pred[:, 4:5])\r\n                p_cls.append(fg_pred[:, 5:])\r\n\r\n                grid = paddle.stack([gi, gj], 1)\r\n                pxy = (F.sigmoid(fg_pred[:, :2]) * 2. - 0.5 + grid\r\n                       ) * self.downsample_ratios[i]\r\n                pwh = (F.sigmoid(fg_pred[:, 2:4]) *\r\n                       2)**2 * anch[i][idx] * self.downsample_ratios[i]\r\n                pxywh = paddle.concat([pxy, pwh], -1)\r\n                pxyxy = self.xywh2xyxy(pxywh)\r\n                pxyxys.append(pxyxy)\r\n\r\n            if empty_feats_num == 3:  # note\r\n                continue\r\n            pxyxys = paddle.concat(pxyxys, 0)           #<----------------报错\r\n            if pxyxys.shape[0] == 0:\r\n                continue\r\n```\r\n前面应该增加一个判断条件判断pxyxys是否为空：\r\n```\r\nif len(pxyxys) == 0: \r\n    continue\r\n```\r\n\r\n### 复现环境 Environment\r\n\r\n-windows\r\n-paddle 2.2.2\r\n-release 2.5\r\n-cuda 11.2\r\n\r\n### Bug描述确认 Bug description confirmation\r\n\r\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\r\n\r\n\r\n### 是否愿意提交PR？ Are you willing to submit a PR?\r\n\r\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "mrljwlm",
        "closed_by": "nemonameless",
        "created_at": "2022-11-23T00:35:56+00:00",
        "updated_at": "2022-12-04T10:13:30+00:00",
        "closed_at": "2022-12-04T10:13:30+00:00",
        "comments_count": [
            "nemonameless",
            "linhandev",
            "nemonameless"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 62,
        "title": "ap_per_class()函数应该如何调用？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nppdet/metrics/map_utils.py/ap_per_class()函数为啥写了但是全局都没有调用过啊\r\n我想要统计Predicted object classes和Target object classes(在这个函数中有进行计算)\r\n请问应该在哪里怎么调用\r\n\r\n![image](https://user-images.githubusercontent.com/99952437/203827106-54d3450c-40c1-4f81-b2ba-7809d6bc64a2.png)\r\n",
        "state": "closed",
        "user": "NwTbbetter",
        "closed_by": "nemonameless",
        "created_at": "2022-11-24T16:10:49+00:00",
        "updated_at": "2023-01-28T15:47:58+00:00",
        "closed_at": "2023-01-28T15:47:58+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 64,
        "title": "ppyoloe 评估出现错误 ValueError: (InvalidArgument) multiclass_nms3(): argument (position 4) must be double, but got str (at /paddle/paddle/fluid/pybind/op_function_common.cc:211)",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\naistudio@jupyter-894455-5140321:~/PaddleYOLO$ python ./tools/eval.py -c ./configs/ppyoloe/ppyoloe_crn_s_400e_coco_tea.yml\r\nW1129 16:28:18.003080  4451 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 11.2, Runtime API Version: 11.2\r\nW1129 16:28:18.007580  4451 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nloading annotations into memory...\r\nDone (t=0.01s)\r\ncreating index...\r\nindex created!\r\n[11/29 16:28:19] ppdet.data.source.coco WARNING: Found an invalid bbox in annotations: im_id: 112, area: 0.0 x1: 320.00064000000003, y1: 272.00016, x2: 320.00064000000003, y2: 273.00024.\r\n[11/29 16:28:20] ppdet.utils.checkpoint INFO: Finish loading model weights: output/ppyoloe_crn_s_400e_coco_tea/model_final.pdparams\r\n[11/29 16:28:20] ppdet.engine INFO: Eval loader length is 68, eval batch_size is 2.\r\n[11/29 16:28:20] ppdet.engine INFO: Starting evaluation ......\r\n\r\nTraceback (most recent call last):\r\n  File \"./tools/eval.py\", line 193, in <module>\r\n    main()\r\n  File \"./tools/eval.py\", line 189, in main\r\n    run(FLAGS, cfg)\r\n  File \"./tools/eval.py\", line 154, in run\r\n    trainer.evaluate()\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/engine/trainer.py\", line 529, in evaluate\r\n    self._eval_with_loader(self.loader)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/engine/trainer.py\", line 503, in _eval_with_loader\r\n    outs = self.model(data)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/architectures/meta_arch.py\", line 75, in forward\r\n    outs.append(self.get_pred())\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/architectures/yolo.py\", line 102, in get_pred\r\n    return self._forward()\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/architectures/yolo.py\", line 94, in _forward\r\n    yolo_head_outs, self.inputs['scale_factor'])\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/heads/ppyoloe_head.py\", line 391, in post_process\r\n    bbox_pred, bbox_num, _ = self.nms(pred_bboxes, pred_scores)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/layers.py\", line 214, in __call__\r\n    return ops.multiclass_nms(bboxes, score, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/ops.py\", line 229, in multiclass_nms\r\n    rois_num, *attrs)\r\nValueError: (InvalidArgument) multiclass_nms3(): argument (position 4) must be double, but got str (at /paddle/paddle/fluid/pybind/op_function_common.cc:211)",
        "state": "closed",
        "user": "BainOuO",
        "closed_by": "nemonameless",
        "created_at": "2022-11-29T08:30:39+00:00",
        "updated_at": "2022-12-02T07:18:28+00:00",
        "closed_at": "2022-12-02T07:18:28+00:00",
        "comments_count": [
            "logchen",
            "nemonameless",
            "logchen"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 67,
        "title": "PaddleYOLO yolov5 训练出错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n环境：ubuntu 22.04\r\npaddle版本：2.4.0\r\n\r\nW1130 14:21:26.796521 3913171 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.9, Driver API Version: 11.8, Runtime API Version: 11.7\r\nW1130 14:21:26.804353 3913171 gpu_resources.cc:91] device: 0, cuDNN Version: 8.4.\r\nParams:  Tensor(shape=[1], dtype=float32, place=Place(gpu:0), stop_gradient=True,\r\n       [46.13829422])\r\nloading annotations into memory...\r\nDone (t=0.00s)\r\ncreating index...\r\nindex created!\r\n[11-30 14:21:31 MainThread @logger.py:242] Argv: tools/train.py -c configs/yolov5/yolov5_l_300e_coco.yml --eval --amp\r\n[11-30 14:21:31 MainThread @utils.py:73] paddlepaddle version: 2.4.0.\r\nWARNING:root:cannot import name 'layers' from 'parl' (/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/parl/__init__.py)\r\n<class 'ppdet.modeling.architectures.yolov5.YOLOv5'>\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 172, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 168, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 132, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/data/lwh/PaddleYOLO/ppdet/engine/trainer.py\", line 361, in train\r\n    self._flops(flops_loader)\r\n  File \"/data/lwh/PaddleYOLO/ppdet/engine/trainer.py\", line 1018, in _flops\r\n    flops = flops(self.model, input_spec) / (1000**3)\r\n  File \"/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/paddleslim/analysis/flops.py\", line 133, in dygraph_flops\r\n    program = dygraph2program(model, inputs)\r\n  File \"/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 534, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/paddleslim/core/dygraph.py\", line 145, in dygraph2program\r\n    return _dy2prog(layer, inputs, feed_prefix, fetch_prefix, tmp_prefix,\r\n  File \"/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/paddleslim/core/dygraph.py\", line 202, in _dy2prog\r\n    outputs = layer(*inputs)\r\n  File \"/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 950, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 935, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/data/lwh/PaddleYOLO/ppdet/modeling/architectures/meta_arch.py\", line 75, in forward\r\n    outs.append(self.get_pred())\r\n  File \"/data/lwh/PaddleYOLO/ppdet/modeling/architectures/yolov5.py\", line 95, in get_pred\r\n    return self._forward()\r\n  File \"/data/lwh/PaddleYOLO/ppdet/modeling/architectures/yolov5.py\", line 80, in _forward\r\n    yolo_head_outs = self.yolo_head(neck_feats)\r\n  File \"/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 950, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/ubuntu/miniconda3/envs/lwh-paddle/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 935, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/data/lwh/PaddleYOLO/ppdet/modeling/heads/yolov5_head.py\", line 124, in forward\r\n    assert len(feats) == len(self.anchors)\r\nTypeError: object of type 'Variable' has no len()",
        "state": "closed",
        "user": "lwh104",
        "closed_by": "nemonameless",
        "created_at": "2022-11-30T06:25:22+00:00",
        "updated_at": "2023-01-28T15:53:46+00:00",
        "closed_at": "2023-01-28T15:53:46+00:00",
        "comments_count": [
            "nemonameless",
            "lwh104",
            "nemonameless",
            "lwh104",
            "nemonameless",
            "lwh104"
        ],
        "labels": [
            "question",
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 68,
        "title": "Out of memory error on GPU 0. ",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\npython tools/train.py -c configs/yolov7/yolov7_l_300e_rice.yml --eval\r\n\r\nD:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\vision\\transforms\\functional_pil.py:36: DeprecationWarning: NEAREST is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.NEAREST or Dither.NONE instead.\r\n  'nearest': Image.NEAREST,\r\nD:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\vision\\transforms\\functional_pil.py:37: DeprecationWarning: BILINEAR is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BILINEAR instead.\r\n  'bilinear': Image.BILINEAR,\r\nD:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\vision\\transforms\\functional_pil.py:38: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  'bicubic': Image.BICUBIC,\r\nD:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\vision\\transforms\\functional_pil.py:39: DeprecationWarning: BOX is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BOX instead.\r\n  'box': Image.BOX,\r\nD:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\vision\\transforms\\functional_pil.py:40: DeprecationWarning: LANCZOS is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.LANCZOS instead.\r\n  'lanczos': Image.LANCZOS,\r\nD:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\vision\\transforms\\functional_pil.py:41: DeprecationWarning: HAMMING is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.HAMMING instead.\r\n  'hamming': Image.HAMMING\r\nWarning: import ppdet from source directory without installing, run 'python setup.py install' to install ppdet firstly\r\nloading annotations into memory...\r\nDone (t=0.01s)\r\ncreating index...\r\nindex created!\r\nW1203 23:05:08.491394  7588 device_context.cc:447] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.8, Runtime API Version: 11.2\r\nW1203 23:05:08.496448  7588 device_context.cc:465] device: 0, cuDNN Version: 8.1.\r\nW1203 23:05:09.667534  7588 device_context.h:397] WARNING: device: 0. The installed Paddle is compiled with CUDNN 8.2, but CUDNN version in your machine is 8.1, which may cause serious incompatible bug. Please recompile or reinstall Paddle with compatible CUDNN version.\r\nD:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\tensor\\creation.py:130: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  if data.dtype == np.object:\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 172, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 168, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 132, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"D:\\pkg\\PaddleYOLO\\ppdet\\engine\\trainer.py\", line 411, in train\r\n    outputs = model(data)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\pkg\\PaddleYOLO\\ppdet\\modeling\\architectures\\meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"D:\\pkg\\PaddleYOLO\\ppdet\\modeling\\architectures\\yolov5.py\", line 92, in get_loss\r\n    return self._forward()\r\n  File \"D:\\pkg\\PaddleYOLO\\ppdet\\modeling\\architectures\\yolov5.py\", line 73, in _forward\r\n    body_feats = self.backbone(self.inputs)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\pkg\\PaddleYOLO\\ppdet\\modeling\\backbones\\yolov7_elannet.py\", line 594, in forward\r\n    x = layer(x)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\container.py\", line 98, in forward\r\n    input = layer(input)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\pkg\\PaddleYOLO\\ppdet\\modeling\\backbones\\yolov7_elannet.py\", line 79, in forward\r\n    x_2 = self.bottlenecks[i](x_2)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\pkg\\PaddleYOLO\\ppdet\\modeling\\backbones\\csp_darknet.py\", line 85, in forward\r\n    x = self.bn(self.conv(x))\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\nn\\layer\\conv.py\", line 677, in forward\r\n    use_cudnn=self._use_cudnn)\r\n  File \"D:\\soft\\anaconda3\\envs\\paddle\\lib\\site-packages\\paddle\\nn\\functional\\conv.py\", line 123, in _conv_nd\r\n    pre_bias = getattr(_C_ops, op_type)(x, weight, *attrs)\r\nSystemError: (Fatal) Operator conv2d raises an struct paddle::memory::allocation::BadAlloc exception.\r\nThe exception content is\r\n:ResourceExhaustedError:\r\n\r\nOut of memory error on GPU 0. Cannot allocate 21.001465MB memory on GPU 0, 9.999512GB memory has been allocated and available memory is only 0.000000B.\r\n\r\nPlease check whether there is any other process using GPU 0.\r\n1. If yes, please stop them, or start PaddlePaddle on another GPU.\r\n2. If no, please decrease the batch size of your model.\r\n\r\n (at ..\\paddle\\fluid\\memory\\allocation\\cuda_allocator.cc:79)\r\n. (at ..\\paddle\\fluid\\imperative\\tracer.cc:221)\n\n### 复现环境 Environment\n\nwin11\r\ncuda 11.2\r\npaddle2.2.2\r\n\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "cunjing56",
        "closed_by": "nemonameless",
        "created_at": "2022-12-04T03:40:39+00:00",
        "updated_at": "2023-01-28T15:53:07+00:00",
        "closed_at": "2023-01-28T15:53:07+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": [
            "question",
            "windows",
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 70,
        "title": "yolov5训练出错",
        "body": "### 问题描述 Please describe your issue\n\n在aistudio平台上面，选择是V100_32G的显卡，按照教程安装好环境之后，训练自己的制作的coco数据集，使用的是configs/yolov5/yolov5_m_300e_coco.yml，使用的训练batch_size是16，加载预训练权重，然后开始训练，打印了如下日志：\r\n\r\n[12/07 12:01:13] ppdet.utils.checkpoint INFO: Finish loading model weights: /home/aistudio/.cache/paddle/weights/ppyoloe_crn_l_300e_coco.pdparams\r\n[12/07 12:02:20] ppdet.engine INFO: Epoch: [0] [  0/767] eta: 180 days, 2:09:08 lr: 0.000000 loss_box: 0.053673 loss_obj: 2.675744 loss_cls: 0.209312 loss: 47.019657 batch_cost: 67.6217 data_cost: 65.2064 ips: 0.2366 images/s\r\n^C[12/07 12:05:13] reader WARNING: fail to map sample transform [Decode_190192] with error: 'bytes' object has no attribute 'shape' and stack:\r\nTraceback (most recent call last):\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/reader.py\", line 54, in __call__\r\n    data = f(data)\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/transform/operators.py\", line 101, in __call__\r\n    sample[i] = self.apply(sample[i], context)\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/transform/operators.py\", line 458, in apply\r\n    elif sample['h'] != im.shape[0]:\r\nAttributeError: 'bytes' object has no attribute 'shape'\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 745, in __next__\r\n    self._reader.read_next_list()[0])\r\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at /paddle/paddle/fluid/operators/reader/blocking_queue.h:175)\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 172, in <module>\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 536, in _thread_loop\r\n    batch = self._get_data()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 674, in _get_data\r\n    batch.reraise()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/worker.py\", line 172, in reraise\r\n    raise self.exc_type(msg)\r\nAttributeError: DataLoader worker(1) caught AttributeError with message:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/worker.py\", line 339, in _worker_loop\r\n    batch = fetcher.fetch(indices)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/fetcher.py\", line 125, in fetch\r\n    data.append(self.dataset[idx])\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/source/dataset.py\", line 94, in __getitem__\r\n    return self.transform(roidb)\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/reader.py\", line 60, in __call__\r\n    raise e\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/reader.py\", line 54, in __call__\r\n    data = f(data)\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/transform/operators.py\", line 101, in __call__\r\n    sample[i] = self.apply(sample[i], context)\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/transform/operators.py\", line 458, in apply\r\n    elif sample['h'] != im.shape[0]:\r\nAttributeError: 'bytes' object has no attribute 'shape'\r\n我不知道是为什么，感谢解答",
        "state": "closed",
        "user": "YLiyu",
        "closed_by": "nemonameless",
        "created_at": "2022-12-07T04:40:17+00:00",
        "updated_at": "2023-01-28T15:52:48+00:00",
        "closed_at": "2023-01-28T15:52:48+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 69,
        "title": "训练yolov5出错",
        "body": "### 问题描述 Please describe your issue\n\n在aistudio平台上面，选择是V100_32G的显卡，按照教程安装好环境之后，训练自己的制作的coco数据集，使用的是configs/yolov5/yolov5_m_300e_coco.yml，使用的训练batch_size是16，加载预训练权重，然后开始训练，打印了如下日志：\r\n\r\n[12/07 12:01:13] ppdet.utils.checkpoint INFO: Finish loading model weights: /home/aistudio/.cache/paddle/weights/ppyoloe_crn_l_300e_coco.pdparams\r\n[12/07 12:02:20] ppdet.engine INFO: Epoch: [0] [  0/767] eta: 180 days, 2:09:08 lr: 0.000000 loss_box: 0.053673 loss_obj: 2.675744 loss_cls: 0.209312 loss: 47.019657 batch_cost: 67.6217 data_cost: 65.2064 ips: 0.2366 images/s\r\n^C[12/07 12:05:13] reader WARNING: fail to map sample transform [Decode_190192] with error: 'bytes' object has no attribute 'shape' and stack:\r\nTraceback (most recent call last):\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/reader.py\", line 54, in __call__\r\n    data = f(data)\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/transform/operators.py\", line 101, in __call__\r\n    sample[i] = self.apply(sample[i], context)\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/transform/operators.py\", line 458, in apply\r\n    elif sample['h'] != im.shape[0]:\r\nAttributeError: 'bytes' object has no attribute 'shape'\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 745, in __next__\r\n    self._reader.read_next_list()[0])\r\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at /paddle/paddle/fluid/operators/reader/blocking_queue.h:175)\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 172, in <module>\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 926, in _bootstrap_inner\r\n    self.run()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 536, in _thread_loop\r\n    batch = self._get_data()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 674, in _get_data\r\n    batch.reraise()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/worker.py\", line 172, in reraise\r\n    raise self.exc_type(msg)\r\nAttributeError: DataLoader worker(1) caught AttributeError with message:\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/worker.py\", line 339, in _worker_loop\r\n    batch = fetcher.fetch(indices)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dataloader/fetcher.py\", line 125, in fetch\r\n    data.append(self.dataset[idx])\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/source/dataset.py\", line 94, in __getitem__\r\n    return self.transform(roidb)\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/reader.py\", line 60, in __call__\r\n    raise e\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/reader.py\", line 54, in __call__\r\n    data = f(data)\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/transform/operators.py\", line 101, in __call__\r\n    sample[i] = self.apply(sample[i], context)\r\n  File \"/home/aistudio/work/PaddleYOLO/ppdet/data/transform/operators.py\", line 458, in apply\r\n    elif sample['h'] != im.shape[0]:\r\nAttributeError: 'bytes' object has no attribute 'shape'\r\n我不知道是为什么，感谢解答",
        "state": "closed",
        "user": "YLiyu",
        "closed_by": "nemonameless",
        "created_at": "2022-12-07T04:14:39+00:00",
        "updated_at": "2022-12-09T05:10:49+00:00",
        "closed_at": "2022-12-09T05:10:49+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 71,
        "title": "关于anchors",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n我的检测目标非常小，使用默认的anchors可能会有些不太合适，我想知道我们的PaddleYOLO里面有集成好的K-means方法吗？我搜索了教程里面，好像没有提到相关的配置",
        "state": "closed",
        "user": "YLiyu",
        "closed_by": "YLiyu",
        "created_at": "2022-12-08T11:17:51+00:00",
        "updated_at": "2022-12-10T03:12:18+00:00",
        "closed_at": "2022-12-10T03:12:18+00:00",
        "comments_count": [
            "nemonameless",
            "YLiyu"
        ],
        "labels": [
            "documentation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 73,
        "title": "关于小目标评估",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\n训练完成以后，使用评估命令：\r\npython tools/eval.py -c configs/yolov5/yolov5_m_300e_coco.yml -o weights=output/yolov5_m_300e_coco/best_model.pdparams\r\n\r\n是能够正常出来评估结果，但是当我加上参数--slice_infer之后，会出现以下问题:\r\n[12/10 11:01:26] ppdet.utils.checkpoint INFO: Finish loading model weights: ..//output/yolov5_m_300e_coco/best_model.pdparams\r\nTraceback (most recent call last):\r\n  File \"/home/shtf/projects/PaddleYOLO-release-2.5/ppdet/engine/trainer.py\", line 620, in evaluate_slice\r\n    match_metric)\r\n  File \"/home/shtf/projects/PaddleYOLO-release-2.5/ppdet/engine/trainer.py\", line 563, in _eval_with_loader_slice\r\n    shift_amount = data['st_pix']\r\nKeyError: 'st_pix'\r\n\r\n出现错误的代码在trainer.py :563\r\nshift_amount = data['st_pix'],我调试看过这个data里面有五个参数:\r\nim_id,curr_iter,image,im_shape,scale_factor，确实似乎没有st_pix\r\n\r\n这是我的配置文件内容:\r\n1.configs/yolov5/yolov5_m_300e_coco.yml:\r\n_BASE_: [\r\n  '../datasets/coco_detection.yml',\r\n  '../runtime.yml',\r\n  '_base_/optimizer_300e_high.yml',\r\n  '_base_/yolov5_cspdarknet.yml',\r\n  '_base_/yolov5_reader_high_aug.yml',\r\n]\r\ndepth_mult: 0.67\r\nwidth_mult: 0.75\r\n\r\nlog_iter: 100\r\nsnapshot_epoch: 10\r\nweights: output/yolov5_m_300e_coco/model_final\r\n#pretrain_weights: https://paddledet.bj.bcebos.com/models/ppyoloe_crn_l_300e_coco.pdparams\r\n\r\n\r\nTrainReader:\r\n  batch_size: 8 # default 8 gpus, total bs = 128\r\n\r\n\r\nYOLOv5Loss:\r\n  obj_weight: 0.7\r\n  cls_weght: 0.3\r\n\r\n2.coco_detection.yml\r\nmetric: COCO\r\nnum_classes: 9\r\n\r\nTrainDataset:\r\n  !COCODataSet\r\n    image_dir: train_640\r\n    anno_path: annotations/640_train_annos_own.json\r\n    dataset_dir: ../own_dataset\r\n    data_fields: ['image', 'gt_bbox', 'gt_class', 'is_crowd']\r\n\r\nEvalDataset:\r\n  !COCODataSet\r\n    image_dir: train\r\n    anno_path: annotations/train_annos_own.json\r\n    dataset_dir: ../own_dataset\r\n\r\nTestDataset:\r\n  !ImageFolder\r\n    anno_path: annotations/eval_annos_own.json # also support txt (like VOC's label_list.txt)\r\n    dataset_dir: ../own_dataset # if set, anno_path will be 'dataset_dir/anno_path'\r\n\n\n### 复现环境 Environment\n\n环境就是按照安装文档进行安装的默认配置\r\nUbuntu18.04\r\ncuda 10.2\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "YLiyu",
        "closed_by": "nemonameless",
        "created_at": "2022-12-10T03:11:40+00:00",
        "updated_at": "2023-01-28T15:54:31+00:00",
        "closed_at": "2023-01-28T15:54:31+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 75,
        "title": "数据增强",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n你好，关于代码我有一些疑问进去请教\r\n1、进行马赛克数据增强时，是使用4张图进行送入的，但前面是对单张图进行解码的\r\n<img width=\"438\" alt=\"企业微信截图_16715869836265\" src=\"https://user-images.githubusercontent.com/88084847/208800707-bcd0f3d4-97d9-402f-af86-5f80ef01bf84.png\">\r\n2、进行数据增强时的sample['gt_bbox']代表什么的，传统的yolov5的数据标签应该是类别 归一化的宽高一类  麻烦解答一下，谢谢！",
        "state": "closed",
        "user": "lyc728",
        "closed_by": "nemonameless",
        "created_at": "2022-12-21T01:44:39+00:00",
        "updated_at": "2023-01-28T15:48:57+00:00",
        "closed_at": "2023-01-28T15:48:57+00:00",
        "comments_count": [
            "nemonameless",
            "lyc728",
            "lyc728",
            "nemonameless",
            "lyc728",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 78,
        "title": "加入PaddleYOLO中的指标对比图",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n1. 任务目标 给PaddleYOLO绘制相关网络指标参数的折现对比图; \r\n2. 需求场景 ; 用于学术论文及实验结果的对比\r\n3. 功能描述 目前绘图程序已经基本实现在这个[仓库](https://github.com/isLinXu/model-metrics-plot)中，后续更多模型指标参数可以一起整理验证，会以PR的形式进行提交更新\r\n\r\n![!img](https://user-images.githubusercontent.com/59380685/212228293-3fd389cc-4f95-4df5-9ad5-e715ac8b21be.png)\r\n\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [X] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "isLinXu",
        "closed_by": "nemonameless",
        "created_at": "2023-01-13T03:27:11+00:00",
        "updated_at": "2024-03-04T08:36:25+00:00",
        "closed_at": "2024-03-04T08:36:24+00:00",
        "comments_count": [
            "nemonameless",
            "isLinXu",
            "isLinXu",
            "isLinXu",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 89,
        "title": "yolov6_v20中voc/yolov6_s_40e_voc.yml文件中pretrain_weights:地址不存在",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nTraining\n\n### Bug描述 Describe the Bug\n\nversion:yolov6_v20\r\n报错位置：../configs/voc/yolov6_s_40e_voc.yml\r\npretrain_weights: https://bj.bcebos.com/v1/paddledet/models/yolov6_s_400e_coco.pdparams\r\n\r\n该预训练权重地址不存在。\r\n![image](https://user-images.githubusercontent.com/19793717/217212742-c654cf7b-298a-4d8c-8293-e017dfbf4dcd.png)\r\n\n\n### 复现环境 Environment\n\n-OS: Windows10\r\n-PaddlePaddle: 2.2.2\r\n-PaddleYOLO: PaddleYOLO-release-2.5\r\n-Python:3.7.4\r\n-CUDA: 10.2\r\nCUDNN: 7.6\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "Grubby-Wang",
        "closed_by": "Grubby-Wang",
        "created_at": "2023-02-07T09:59:24+00:00",
        "updated_at": "2023-02-08T12:28:00+00:00",
        "closed_at": "2023-02-08T12:28:00+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 90,
        "title": "multiclass_nms employ error",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n我对yolov5进行修改，训练可以跑通，但在验证时报错了，错误信息显示:\r\n![image](https://user-images.githubusercontent.com/95759947/218227145-635e33bc-e21b-4be2-bcc4-e14e2c0894c1.png)\r\n\r\nC:\\Users\\ming\\.conda\\envs\\pp2.4\\python.exe C:\\Users\\ming\\mycode\\A\\PaddleYOLO\\run.py \r\nC:\\Users\\ming\\.conda\\envs\\pp2.4\\lib\\site-packages\\win32\\lib\\pywintypes.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp, sys, os\r\nW0211 08:34:03.420482 23736 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.6, Runtime API Version: 11.2\r\nW0211 08:34:03.426468 23736 gpu_resources.cc:91] device: 0, cuDNN Version: 8.1.\r\nloading annotations into memory...\r\nDone (t=0.01s)\r\ncreating index...\r\nindex created!\r\nParams:  Tensor(shape=[1], dtype=float32, place=Place(gpu:0), stop_gradient=True,\r\n       [34.26572800])\r\n[02/11 08:34:07] ppdet.utils.checkpoint INFO: Finish loading model weights: C:\\Users\\ming/.cache/paddle/weights\\convnext_tiny_22k_224.pdparams\r\nW0211 08:34:07.139884 23736 gpu_resources.cc:217] WARNING: device:  . The installed Paddle is compiled with CUDNN 8.2, but CUDNN version in your machine is 8.1, which may cause serious incompatible bug. Please recompile or reinstall Paddle with compatible CUDNN version.\r\nTraceback (most recent call last):\r\n  File \"tools/eval.py\", line 193, in <module>\r\n    main()\r\n  File \"tools/eval.py\", line 189, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/eval.py\", line 154, in run\r\n    trainer.evaluate()\r\n  File \"C:\\Users\\ming\\mycode\\A\\PaddleYOLO\\ppdet\\engine\\trainer.py\", line 651, in evaluate\r\n    self._eval_with_loader(self.loader)\r\n  File \"C:\\Users\\ming\\mycode\\A\\PaddleYOLO\\ppdet\\engine\\trainer.py\", line 625, in _eval_with_loader\r\n    outs = self.model(data)\r\n  File \"C:\\Users\\ming\\.conda\\envs\\pp2.4\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"C:\\Users\\ming\\mycode\\A\\PaddleYOLO\\ppdet\\modeling\\architectures\\meta_arch.py\", line 75, in forward\r\n    outs.append(self.get_pred())\r\n  File \"C:\\Users\\ming\\mycode\\A\\PaddleYOLO\\ppdet\\modeling\\architectures\\yolov5.py\", line 94, in get_pred\r\n    return self._forward()\r\n  File \"C:\\Users\\ming\\mycode\\A\\PaddleYOLO\\ppdet\\modeling\\architectures\\yolov5.py\", line 87, in _forward\r\n    self.inputs['scale_factor'])\r\n  File \"C:\\Users\\ming\\mycode\\A\\PaddleYOLO\\ppdet\\modeling\\heads\\yolo_head.py\", line 623, in post_process\r\n    self.nms(pred_bboxes_and_keypoints, pred_scores)\r\n  File \"C:\\Users\\ming\\mycode\\A\\PaddleYOLO\\ppdet\\modeling\\layers.py\", line 564, in __call__\r\n    return ops.multiclass_nms(bboxes, score, **kwargs)\r\n  File \"C:\\Users\\ming\\mycode\\A\\PaddleYOLO\\ppdet\\modeling\\ops.py\", line 500, in multiclass_nms\r\n    rois_num, *attrs)\r\nValueError: (InvalidArgument) multiclass_nms3(): argument (position 4) must be double, but got str (at ..\\paddle\\fluid\\pybind\\op_function_common.cc:211)\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n\r\n尝试之后发现自己无法解决这个问题，如有建议，不胜感激！！！",
        "state": "closed",
        "user": "MINGtoMING",
        "closed_by": "nemonameless",
        "created_at": "2023-02-11T00:38:42+00:00",
        "updated_at": "2023-02-21T08:18:02+00:00",
        "closed_at": "2023-02-21T08:18:02+00:00",
        "comments_count": [
            "MINGtoMING",
            "nemonameless",
            "MINGtoMING"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 93,
        "title": "我该使用什么版本的 paddlepaddle-gpu ",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n\r\n我在 Ubuntu 22.10  paddleyolo2.5   python3.9下  cuda11.7  gcc版本12.2.0\r\n使用paddlepaddle-gpu2.4.1post11.7  python  tools/infer.py ... 的时候报错如下：\r\nValueError: (InvalidArgument) multiclass_nms3(): argument (position 4) must be double, but got str (at /paddle/paddle/fluid/pybind/op_function_common.cc:211)\r\n我在paddledetect下找到解决方案降级到paddlepaddle-gpu2.3.2post11.6  解决问题，但是报另外一个错误：\r\n from . import core_avx\r\nImportError: /home/paddle/.conda/envs/paddledetect/lib/python3.9/site-packages/paddle/fluid/core_avx.so: undefined symbol: _dl_sym, version GLIBC_PRIVATE\r\n我也在paddledetection的问题下找到了对应的解决方案，说是升级到paddlepaddle-gpu2.4版本就可以解决问题\r\n可是现在问题是有两个bug 一个bug在2.3.2可以解决，另一个bug要在2.4以上解决 能否在升级版本的时候统一一下 \r\n或者有那个版本可以解决这两个bug问题吗",
        "state": "closed",
        "user": "MRQinhao66666",
        "closed_by": "nemonameless",
        "created_at": "2023-02-20T09:09:54+00:00",
        "updated_at": "2023-02-21T08:17:54+00:00",
        "closed_at": "2023-02-21T08:17:54+00:00",
        "comments_count": [
            "nemonameless",
            "MRQinhao66666",
            "nemonameless",
            "MRQinhao66666",
            "nemonameless",
            "nemonameless",
            "MRQinhao66666"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 94,
        "title": "yolov5检测所有图片都没结果",
        "body": "\r\n### Bug描述 Describe the Bug\r\n\r\nyolov5为什么测试都没有检测结果呢？保存了图片，但是图片上的目标都没有标记，打印推理结果，bbox_num=0\r\n\r\n### 复现环境 Environment\r\n\r\nos:kylin v10\r\ncuda:10.2\r\ncudnn:8.1\r\n\r\n\r\n\r\n### 是否愿意提交PR？ Are you willing to submit a PR?\r\n\r\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "xman1991",
        "closed_by": "nemonameless",
        "created_at": "2023-02-21T07:17:55+00:00",
        "updated_at": "2023-02-28T11:13:13+00:00",
        "closed_at": "2023-02-28T11:11:45+00:00",
        "comments_count": [
            "nemonameless",
            "xman1991",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 95,
        "title": "yolov5检测结果为0",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\n在ppdet/engine/trainer.py，改动如下：\r\n         print(\"outs::\",len(outs))\r\n         print(outs)\r\n         batch_res = get_infer_results(outs, clsid2catid)\r\n         bbox_num = outs['bbox_num']\r\n         print(\"bbox_num::\",bbox_num)\r\n执行命令：\r\nCUDA_VISIBLE_DEVICES=0 python tools/infer.py -c configs/yolov5/yolov5_s_300e_coco.yml -o weights=https://paddledet.bj.bcebos.com/models/yolov5_s_300e_coco.pdparams --infer_img=../../val2014/COCO_val2014_000000290979.jpg\r\n![yolov5](https://user-images.githubusercontent.com/63028986/220334670-992166cd-62f1-4934-a207-db0e43b34228.png)\r\n\n\n### 复现环境 Environment\n\nos:kylin v10\r\npaddlepaddle:2.3.2\r\npaddlepaddledetection:\r\npython:3.6.15\r\ncuda:10.2\r\ncudnn:8.2.1\r\ngcc:9.3.0\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "xman1991",
        "closed_by": "nemonameless",
        "created_at": "2023-02-21T11:41:30+00:00",
        "updated_at": "2023-03-30T07:18:54+00:00",
        "closed_at": "2023-03-30T07:18:54+00:00",
        "comments_count": [
            "nemonameless",
            "xman1991",
            "xman1991",
            "xman1991",
            "xman1991",
            "nemonameless",
            "xman1991",
            "xman1991",
            "xman1991",
            "xman1991",
            "xman1991",
            "xman1991",
            "xman1991",
            "nemonameless",
            "xman1991",
            "nemonameless",
            "xman1991",
            "xman1991",
            "nemonameless",
            "xman1991",
            "xman1991",
            "xman1991",
            "xman1991",
            "nemonameless"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 104,
        "title": "【飞桨黑客松第四期】PaddleYOLO任务专区",
        "body": "2023飞桨黑客马拉松PaddlePaddle Hackathon第四期现已正式启动，本次活动由深度学习技术及应用国家工程研究中心主办，飞桨承办，英特尔作为顶级赞助方，OpenVINO、Arm、Hugging Face、Jina、TVM、瑞芯微、算能、地平线等共同出品，旨在鼓励开发者了解与参与深度学习开源项目的共建。\r\n![image](https://user-images.githubusercontent.com/61035602/224205748-244c9a65-e54e-48bc-b502-3dc3787829a2.png)\r\n本次活动上线200+个开发任务，从框架开发、模型套件开发、模型复现、硬件项目开发到产业落地方案应有尽有，根据开发难度分为基础任务和进阶任务。同时提供高达100w的现金奖池以及飞桨黑客松证书，欢迎大家来PaddleYOLO专区领取任务:\r\n[黑客松PaddleYOLO任务专区](https://github.com/PaddlePaddle/Paddle/issues/51281#detection)",
        "state": "closed",
        "user": "nemonameless",
        "closed_by": "nemonameless",
        "created_at": "2023-03-10T13:15:51+00:00",
        "updated_at": "2023-05-24T09:19:03+00:00",
        "closed_at": "2023-05-24T09:19:03+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 99,
        "title": "yolov5的问题",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n请问你们的yolov5是哪个tag的呢？",
        "state": "closed",
        "user": "xman1991",
        "closed_by": "nemonameless",
        "created_at": "2023-03-07T11:42:58+00:00",
        "updated_at": "2023-03-14T02:56:54+00:00",
        "closed_at": "2023-03-14T02:56:54+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 103,
        "title": "训练YOLOv8",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n想请问一下，什么时候可以实现训练yolov8呢？我觉得pdyolo的实现比官方或者mmyolo更好，所以一直想等着用用！\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "WanShaw",
        "closed_by": "nemonameless",
        "created_at": "2023-03-09T08:53:34+00:00",
        "updated_at": "2023-03-27T03:37:06+00:00",
        "closed_at": "2023-03-27T03:37:06+00:00",
        "comments_count": [
            "nemonameless",
            "WanShaw",
            "nemonameless",
            "WanShaw"
        ],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 100,
        "title": "为什么在aistudio中无法使用yolov7进行多卡训练，会卡着一直没有训练的log",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n为什么在aistudio中无法使用yolov7进行多卡训练，会卡着一直没有训练的log",
        "state": "closed",
        "user": "wjfwjfwjf",
        "closed_by": "nemonameless",
        "created_at": "2023-03-08T16:40:32+00:00",
        "updated_at": "2023-03-29T03:54:49+00:00",
        "closed_at": "2023-03-29T03:54:49+00:00",
        "comments_count": [
            "nemonameless",
            "wjfwjfwjf",
            "wjfwjfwjf",
            "nemonameless"
        ],
        "labels": [
            "installation"
        ]
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 105,
        "title": "yolov7训练出错，但paddledection下模型可以正常训练",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nWarning: import ppdet from source directory without installing, run 'python setup.py install' to install ppdet firstly\r\nloading annotations into memory...\r\nDone (t=0.00s)\r\ncreating index...\r\nindex created!\r\n[03/14 10:29:24] ppdet.data.source.coco INFO: Load [148 samples valid, 0 samples invalid] in file truck_waste_dataset/train.json.\r\nW0314 10:29:24.923347 19138 gpu_context.cc:244] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 11.2, Runtime API Version: 11.2\r\nW0314 10:29:24.928413 19138 gpu_context.cc:272] device: 0, cuDNN Version: 8.2.\r\n[03/14 10:29:32] ppdet.engine INFO: Epoch: [0] [0/5] eta: 0:51:34 lr: 0.000000 loss_box: 0.070696 loss_cls: 0.000000 loss_obj: 2.573034 loss: 84.599358 batch_cost: 2.0629 data_cost: 0.0154 ips: 15.5121 images/s\r\nFound inf or nan, current scale is: 1024.0, decrease to: 1024.0*0.5\r\n[03/14 10:29:41] ppdet.engine INFO: Epoch: [1] [0/5] eta: 0:39:31 lr: 0.001111 loss_box: 0.069338 loss_cls: 0.000000 loss_obj: 2.558958 loss: 84.025085 batch_cost: 1.5864 data_cost: 0.3137 ips: 20.1710 images/s\r\n[03/14 10:29:49] ppdet.engine INFO: Epoch: [2] [0/5] eta: 0:39:14 lr: 0.004444 loss_box: 0.067980 loss_cls: 0.000000 loss_obj: 2.362961 loss: 67.014153 batch_cost: 1.5802 data_cost: 0.3583 ips: 20.2510 images/s\r\n[03/14 10:29:58] ppdet.engine INFO: Epoch: [3] [0/5] eta: 0:38:38 lr: 0.010000 loss_box: 0.068115 loss_cls: 0.000000 loss_obj: 1.317498 loss: 42.949432 batch_cost: 1.5610 data_cost: 0.3690 ips: 20.5003 images/s\r\n[03/14 10:30:06] ppdet.engine INFO: Epoch: [4] [0/5] eta: 0:38:08 lr: 0.009910 loss_box: 0.067980 loss_cls: 0.000000 loss_obj: 0.335433 loss: 12.828411 batch_cost: 1.5460 data_cost: 0.3696 ips: 20.6981 images/s\r\n[03/14 10:30:15] ppdet.engine INFO: Epoch: [5] [0/5] eta: 0:37:55 lr: 0.009880 loss_box: 0.068115 loss_cls: 0.000000 loss_obj: 0.149012 loss: 7.009061 batch_cost: 1.5427 data_cost: 0.3748 ips: 20.7431 images/s\r\nTraceback (most recent call last):\r\n  File \"PaddleYOLO-release-2.6/tools/train.py\", line 188, in <module>\r\n    main()\r\n  File \"PaddleYOLO-release-2.6/tools/train.py\", line 184, in main\r\n    run(FLAGS, cfg)\r\n  File \"PaddleYOLO-release-2.6/tools/train.py\", line 137, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/aistudio/PaddleYOLO-release-2.6/ppdet/engine/trainer.py\", line 414, in train\r\n    outputs = model(data)\r\n  File \"/home/aistudio/.data/webide/pip/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 921, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/aistudio/.data/webide/pip/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 911, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO-release-2.6/ppdet/modeling/architectures/meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"/home/aistudio/PaddleYOLO-release-2.6/ppdet/modeling/architectures/yolov7.py\", line 95, in get_loss\r\n    return self._forward()\r\n  File \"/home/aistudio/PaddleYOLO-release-2.6/ppdet/modeling/architectures/yolov7.py\", line 77, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"/home/aistudio/.data/webide/pip/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 921, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/aistudio/.data/webide/pip/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 911, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO-release-2.6/ppdet/modeling/heads/yolov7_head.py\", line 208, in forward\r\n    return self.loss(yolo_outputs, targets, self.anchors)\r\n  File \"/home/aistudio/.data/webide/pip/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 921, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/home/aistudio/.data/webide/pip/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 911, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO-release-2.6/ppdet/modeling/losses/yolov7_loss.py\", line 132, in forward\r\n    inputs, targets_labels, anchors, batch_images)\r\n  File \"/home/aistudio/PaddleYOLO-release-2.6/ppdet/modeling/losses/yolov7_loss.py\", line 362, in build_targets\r\n    matching_matrix[gt_idx, pos_idx.numpy()] = 1.0\r\nIndexError: index 139966984950297 is out of bounds for axis 1 with size 6\r\n",
        "state": "closed",
        "user": "Nefefilibata",
        "closed_by": "Nefefilibata",
        "created_at": "2023-03-14T02:30:43+00:00",
        "updated_at": "2023-03-14T03:11:47+00:00",
        "closed_at": "2023-03-14T03:11:47+00:00",
        "comments_count": [
            "Nefefilibata",
            "nemonameless",
            "Nefefilibata"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 109,
        "title": "yolov5s训练CPU利用率太高",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n训练yolov5s时，发现该模型对CPU的利用率非常高，导致在多卡训练时CPU成为瓶颈，扩展率不高。\r\n下图时两张卡训练时的CPU 利用率，已经达到86%了。\r\n![截图 2023-03-21 19-10-49](https://user-images.githubusercontent.com/23703930/226592804-85b0ba3b-7bff-4759-b1bc-8b61bb9c967d.png)\r\n\r\nCPU型号：Intel(R) Xeon(R) Gold 6330 CPU @ 2.00GHz\r\n加速卡：MLU370 X8\r\n容器地址：[registry.baidubce.com/device/paddle-mlu](http://registry.baidubce.com/device/paddle-mlu):cntoolkit3.0.2-cnnl1.13.0\r\nPaddleYOLO分支: [release/2.6](https://github.com/Yingl-Liu/PaddleYOLO)\r\nPaddle分支: release/2.4\r\n模型配置文件：[yolov5_s_300e_coco,yml;](https://github.com/PaddlePaddle/PaddleYOLO/blob/release/2.6/configs/yolov5/yolov5_s_300e_coco.yml)\r\n其中batch_size改为32, work_num改为8, norm_type改为bn.\r\n\r\n训练命令：python -m paddle.distributed.launch --mlus=\"0,1,2,3\"  tools/train.py -c configs/yolov5/yolov5_s_300e_coco.yml -o use_mlu=True use_gpu=False --eval --amp\r\n\r\n请问这么高的CPU利用率正常吗？",
        "state": "closed",
        "user": "Yingl-Liu",
        "closed_by": "nemonameless",
        "created_at": "2023-03-21T11:38:28+00:00",
        "updated_at": "2024-03-04T09:30:21+00:00",
        "closed_at": "2024-03-04T09:30:21+00:00",
        "comments_count": [
            "nemonameless",
            "Yingl-Liu",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 110,
        "title": "YoV5训练问题",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n请问一下，我用YoloV5训练过程中，想把Epcoh值增加进行，发现训练到300轮之后就自动停止了，请问这是怎么回事呢？如何修改配置文件\r\n![image](https://user-images.githubusercontent.com/87969070/226847654-26719399-f195-4732-90d4-e8101e08a3d9.png)\r\n",
        "state": "closed",
        "user": "Hold-on-li",
        "closed_by": "nemonameless",
        "created_at": "2023-03-22T08:43:07+00:00",
        "updated_at": "2023-03-27T03:36:55+00:00",
        "closed_at": "2023-03-27T03:36:55+00:00",
        "comments_count": [
            "nemonameless",
            "Hold-on-li",
            "nemonameless",
            "nemonameless",
            "Hold-on-li"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 111,
        "title": "关于YoLoV5训练问题",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n请问一下，YoloV5配置文件并没有像PaddleDetection中配置预训练模型参数的形式，YoloV5具体在哪配置预训练模型呢？\r\n",
        "state": "closed",
        "user": "Hold-on-li",
        "closed_by": "nemonameless",
        "created_at": "2023-03-23T03:09:04+00:00",
        "updated_at": "2023-03-27T03:36:44+00:00",
        "closed_at": "2023-03-27T03:36:44+00:00",
        "comments_count": [
            "nemonameless",
            "Hold-on-li"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 116,
        "title": "\"暂未支持完全训练\" 是什么意思？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n在许多模型的说明页面中，会有这样一句\"暂未支持完全训练\"。\r\n请问这是什么意思呢？是指训练出来的精度会不如原始版本吗？\r\n",
        "state": "closed",
        "user": "tino926",
        "closed_by": "nemonameless",
        "created_at": "2023-03-31T01:41:00+00:00",
        "updated_at": "2023-05-23T02:36:54+00:00",
        "closed_at": "2023-05-23T02:36:54+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 119,
        "title": "读取自定义coco格式数据集时出现\"RuntimeError: fileds number not same among samples in a batch\"",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n终端信息报错如下:\r\n\r\n\r\n(ppdet) yinghan.huang@ar-gpu01:~/Projects/VisionDetect/PaddleYOLO$ sh run.sh\r\nLAUNCH INFO 2023-04-05 14:31:37,642 -----------  Configuration  ----------------------\r\nLAUNCH INFO 2023-04-05 14:31:37,643 devices: 1\r\nLAUNCH INFO 2023-04-05 14:31:37,643 elastic_level: -1\r\nLAUNCH INFO 2023-04-05 14:31:37,643 elastic_timeout: 30\r\nLAUNCH INFO 2023-04-05 14:31:37,643 gloo_port: 6767\r\nLAUNCH INFO 2023-04-05 14:31:37,643 host: None\r\nLAUNCH INFO 2023-04-05 14:31:37,643 ips: None\r\nLAUNCH INFO 2023-04-05 14:31:37,643 job_id: default\r\nLAUNCH INFO 2023-04-05 14:31:37,643 legacy: False\r\nLAUNCH INFO 2023-04-05 14:31:37,643 log_dir: log_dir/yolov7_l_300e_bottle1_coco\r\nLAUNCH INFO 2023-04-05 14:31:37,644 log_level: INFO\r\nLAUNCH INFO 2023-04-05 14:31:37,644 master: None\r\nLAUNCH INFO 2023-04-05 14:31:37,644 max_restart: 3\r\nLAUNCH INFO 2023-04-05 14:31:37,644 nnodes: 1\r\nLAUNCH INFO 2023-04-05 14:31:37,644 nproc_per_node: None\r\nLAUNCH INFO 2023-04-05 14:31:37,644 rank: -1\r\nLAUNCH INFO 2023-04-05 14:31:37,644 run_mode: collective\r\nLAUNCH INFO 2023-04-05 14:31:37,644 server_num: None\r\nLAUNCH INFO 2023-04-05 14:31:37,644 servers: \r\nLAUNCH INFO 2023-04-05 14:31:37,644 start_port: 6070\r\nLAUNCH INFO 2023-04-05 14:31:37,644 trainer_num: None\r\nLAUNCH INFO 2023-04-05 14:31:37,644 trainers: \r\nLAUNCH INFO 2023-04-05 14:31:37,644 training_script: tools/train.py\r\nLAUNCH INFO 2023-04-05 14:31:37,644 training_script_args: ['-c', 'configs/yolov7/yolov7_l_300e_bottle1_coco.yml', '--eval', '--amp']\r\nLAUNCH INFO 2023-04-05 14:31:37,644 with_gloo: 1\r\nLAUNCH INFO 2023-04-05 14:31:37,645 --------------------------------------------------\r\nLAUNCH INFO 2023-04-05 14:31:37,645 Job: default, mode collective, replicas 1[1:1], elastic False\r\nLAUNCH INFO 2023-04-05 14:31:37,654 Run Pod: ycqvdk, replicas 1, status ready\r\nLAUNCH INFO 2023-04-05 14:31:37,669 Watching Pod: ycqvdk, replicas 1, status running\r\nWarning: import ppdet from source directory without installing, run 'python setup.py install' to install ppdet firstly\r\nloading annotations into memory...\r\nDone (t=1.65s)\r\ncreating index...\r\nindex created!\r\n[04/05 14:31:41] ppdet.data.source.coco INFO: Load [1800 samples valid, 0 samples invalid] in file /home/yinghan.huang/Projects/VisionDetect/datasets/yolo/train.json.\r\nW0405 14:31:41.656965 16264 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 11.7, Runtime API Version: 11.2\r\nW0405 14:31:41.663031 16264 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 536, in _thread_loop\r\n    batch = self._get_data()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 674, in _get_data\r\n    batch.reraise()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/worker.py\", line 172, in reraise\r\n    raise self.exc_type(msg)\r\nRuntimeError: DataLoader worker(2) caught RuntimeError with message:\r\nTraceback (most recent call last):\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/worker.py\", line 339, in _worker_loop\r\n    batch = fetcher.fetch(indices)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/fetcher.py\", line 138, in fetch\r\n    data = self.collate_fn(data)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/reader.py\", line 95, in __call__\r\n    batch_data = default_collate_fn(data)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 60, in default_collate_fn\r\n    return {\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 61, in <dictcomp>\r\n    key: default_collate_fn([d[key] for d in batch])\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 67, in default_collate_fn\r\n    raise RuntimeError(\r\nRuntimeError: fileds number not same among samples in a batch\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 188, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 184, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 137, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/engine/trainer.py\", line 384, in train\r\n    for step_id, data in enumerate(self.loader):\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/reader.py\", line 213, in __next__\r\n    return next(self.loader)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 745, in __next__\r\n    self._reader.read_next_list()[0])\r\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at /paddle/paddle/fluid/operators/reader/blocking_queue.h:175)\r\n\r\nLAUNCH INFO 2023-04-05 14:31:45,680 Pod failed\r\nLAUNCH ERROR 2023-04-05 14:31:45,680 Container failed !!!\r\nContainer rank 0 status failed cmd ['/home/yinghan.huang/anaconda3/envs/ppdet/bin/python', '-u', 'tools/train.py', '-c', 'configs/yolov7/yolov7_l_300e_bottle1_coco.yml', '--eval', '--amp'] code 1 log log_dir/yolov7_l_300e_bottle1_coco/workerlog.0 \r\nenv {'LESSOPEN': '| /usr/bin/lesspipe %s', 'CONDA_PROMPT_MODIFIER': '(ppdet) ', 'MAIL': '/var/mail/yinghan.huang', 'USER': 'yinghan.huang', 'SSH_CLIENT': '10.3.130.22 39540 22', 'LC_TIME': 'en_US.UTF-8', 'LD_LIBRARY_PATH': '/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/cv2/../../lib64:/home/yinghan.huang/anaconda3/pkgs/cudatoolkit-11.2.2-hbe64b41_11/lib:/home/yinghan.huang/anaconda3/pkgs/cudnn-8.2.1.32-h86fa8c9_0/lib', 'SHLVL': '1', 'CONDA_SHLVL': '2', 'OLDPWD': '/home/yinghan.huang/Projects/VisionDetect', 'HOME': '/home/yinghan.huang', 'SSH_TTY': '/dev/pts/9', 'LC_MONETARY': 'C.UTF-8', 'LC_CTYPE': 'en_US.UTF-8', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1223/bus', '_CE_M': '', 'CUDA_VISIBLE_DEVICES': '1', 'LOGNAME': 'yinghan.huang', '_': '/bin/sh', 'XDG_SESSION_ID': '680', 'TERM': 'xterm-256color', '_CE_CONDA': '', 'LC_COLLATE': 'en_US.UTF-8', 'CUDADIR': '/usr/local/cuda', 'PATH': '/home/yinghan.huang/anaconda3/envs/ppdet/bin:/home/yinghan.huang/anaconda3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/cuda/bin', 'LC_ADDRESS': 'C.UTF-8', 'XDG_RUNTIME_DIR': '/run/user/1223', 'LANG': 'C.UTF-8', 'CONDA_PREFIX_1': '/home/yinghan.huang/anaconda3', 'LC_TELEPHONE': 'C.UTF-8', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'CONDA_PYTHON_EXE': '/home/yinghan.huang/anaconda3/bin/python', 'LC_MESSAGES': 'en_US.UTF-8', 'LC_NAME': 'C.UTF-8', 'SHELL': '/bin/bash', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'CONDA_DEFAULT_ENV': 'ppdet', 'LC_MEASUREMENT': 'C.UTF-8', 'LC_IDENTIFICATION': 'C.UTF-8', 'PWD': '/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO', 'CONDA_EXE': '/home/yinghan.huang/anaconda3/bin/conda', 'SSH_CONNECTION': '10.3.130.22 39540 10.3.15.202 22', 'XDG_DATA_DIRS': '/usr/local/share:/usr/share:/var/lib/snapd/desktop', 'LC_NUMERIC': 'en_US.UTF-8', 'LC_PAPER': 'C.UTF-8', 'CONDA_PREFIX': '/home/yinghan.huang/anaconda3/envs/ppdet', 'CUSTOM_DEVICE_ROOT': '', 'OMP_NUM_THREADS': '1', 'QT_QPA_PLATFORM_PLUGIN_PATH': '/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/cv2/qt/plugins', 'QT_QPA_FONTDIR': '/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/cv2/qt/fonts', 'POD_NAME': 'ycqvdk', 'PADDLE_MASTER': '10.3.15.202:54366', 'PADDLE_GLOBAL_SIZE': '1', 'PADDLE_LOCAL_SIZE': '1', 'PADDLE_GLOBAL_RANK': '0', 'PADDLE_LOCAL_RANK': '0', 'PADDLE_NNODES': '1', 'PADDLE_TRAINER_ENDPOINTS': '10.3.15.202:54367', 'PADDLE_CURRENT_ENDPOINT': '10.3.15.202:54367', 'PADDLE_TRAINER_ID': '0', 'PADDLE_TRAINERS_NUM': '1', 'PADDLE_RANK_IN_NODE': '0', 'FLAGS_selected_gpus': '0'}\r\nLAUNCH INFO 2023-04-05 14:31:45,681 ------------------------- ERROR LOG DETAIL -------------------------\r\n GPU Compute Capability: 6.1, Driver API Version: 11.7, Runtime API Version: 11.2\r\nW0405 14:31:41.663031 16264 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 536, in _thread_loop\r\n    batch = self._get_data()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 674, in _get_data\r\n    batch.reraise()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/worker.py\", line 172, in reraise\r\n    raise self.exc_type(msg)\r\nRuntimeError: DataLoader worker(2) caught RuntimeError with message:\r\nTraceback (most recent call last):\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/worker.py\", line 339, in _worker_loop\r\n    batch = fetcher.fetch(indices)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/fetcher.py\", line 138, in fetch\r\n    data = self.collate_fn(data)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/reader.py\", line 95, in __call__\r\n    batch_data = default_collate_fn(data)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 60, in default_collate_fn\r\n    return {\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 61, in <dictcomp>\r\n    key: default_collate_fn([d[key] for d in batch])\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 67, in default_collate_fn\r\n    raise RuntimeError(\r\nRuntimeError: fileds number not same among samples in a batch\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 188, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 184, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 137, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/engine/trainer.py\", line 384, in train\r\n    for step_id, data in enumerate(self.loader):\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/reader.py\", line 213, in __next__\r\n    return next(self.loader)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 745, in __next__\r\n    self._reader.read_next_list()[0])\r\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at /paddle/paddle/fluid/operators/reader/blocking_queue.h:175)\r\n\r\nLAUNCH INFO 2023-04-05 14:31:45,681 Exit code 1\r\n\r\n\r\n",
        "state": "closed",
        "user": "ge35tay",
        "closed_by": "nemonameless",
        "created_at": "2023-04-05T12:34:24+00:00",
        "updated_at": "2023-04-07T05:40:15+00:00",
        "closed_at": "2023-04-07T05:40:15+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 118,
        "title": "如何遍历优化器的不同参数组",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\ntorch的优化器中可以加入不同的参数分组并进行遍历，如下所示：\r\n![image](https://user-images.githubusercontent.com/71805205/229432227-346b4b32-0e94-49cb-80cc-eebae089203c.png)\r\n![image](https://user-images.githubusercontent.com/71805205/229432283-82c07664-9496-4887-adcd-e35bfa7875c9.png)\r\n我想问下，paddle中如何遍历优化器的不同参数分组",
        "state": "closed",
        "user": "Yang-Changhui",
        "closed_by": "nemonameless",
        "created_at": "2023-04-03T06:49:56+00:00",
        "updated_at": "2024-03-04T09:03:46+00:00",
        "closed_at": "2024-03-04T09:03:46+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 121,
        "title": "Failed, NCCL error /paddle/paddle/fluid/distributed/collective/NCCLTools.h:227 'unhandled cuda error'",
        "body": "### 问题描述 Please describe your issue\n\n(paddle) ubuntu@ubuntu:~/data1/paddle/PaddleYOLO$ sh train.sh \r\nLAUNCH INFO 2023-04-06 22:26:19,689 -----------  Configuration  ----------------------\r\nLAUNCH INFO 2023-04-06 22:26:19,689 devices: 0,1,2,3\r\nLAUNCH INFO 2023-04-06 22:26:19,689 elastic_level: -1\r\nLAUNCH INFO 2023-04-06 22:26:19,689 elastic_timeout: 30\r\nLAUNCH INFO 2023-04-06 22:26:19,689 gloo_port: 6767\r\nLAUNCH INFO 2023-04-06 22:26:19,689 host: None\r\nLAUNCH INFO 2023-04-06 22:26:19,689 ips: None\r\nLAUNCH INFO 2023-04-06 22:26:19,689 job_id: default\r\nLAUNCH INFO 2023-04-06 22:26:19,689 legacy: False\r\nLAUNCH INFO 2023-04-06 22:26:19,689 log_dir: log\r\nLAUNCH INFO 2023-04-06 22:26:19,689 log_level: INFO\r\nLAUNCH INFO 2023-04-06 22:26:19,689 master: None\r\nLAUNCH INFO 2023-04-06 22:26:19,689 max_restart: 3\r\nLAUNCH INFO 2023-04-06 22:26:19,689 nnodes: 1\r\nLAUNCH INFO 2023-04-06 22:26:19,689 nproc_per_node: None\r\nLAUNCH INFO 2023-04-06 22:26:19,689 rank: -1\r\nLAUNCH INFO 2023-04-06 22:26:19,689 run_mode: collective\r\nLAUNCH INFO 2023-04-06 22:26:19,689 server_num: None\r\nLAUNCH INFO 2023-04-06 22:26:19,689 servers: \r\nLAUNCH INFO 2023-04-06 22:26:19,689 start_port: 6070\r\nLAUNCH INFO 2023-04-06 22:26:19,689 trainer_num: None\r\nLAUNCH INFO 2023-04-06 22:26:19,689 trainers: \r\nLAUNCH INFO 2023-04-06 22:26:19,689 training_script: tools/train.py\r\nLAUNCH INFO 2023-04-06 22:26:19,689 training_script_args: ['-c', 'configs/custom/yolov7_l_300e_garbroom.yml', '--use_vdl=true', '--vdl_log_dir=vdl_dir/scalar', '-o', 'use_gpu=true', '--amp', '--eval', '-o', 'pretrain_weights=https://paddledet.bj.bcebos.com/models/yolov7_l_300e_coco.pdparams']\r\nLAUNCH INFO 2023-04-06 22:26:19,689 with_gloo: 1\r\nLAUNCH INFO 2023-04-06 22:26:19,689 --------------------------------------------------\r\nLAUNCH INFO 2023-04-06 22:26:19,690 Job: default, mode collective, replicas 1[1:1], elastic False\r\nLAUNCH INFO 2023-04-06 22:26:19,696 Run Pod: wqaevk, replicas 4, status ready\r\nLAUNCH INFO 2023-04-06 22:26:19,749 Watching Pod: wqaevk, replicas 4, status running\r\nI0406 22:26:20.925828 62343 tcp_utils.cc:181] The server starts to listen on IP_ANY:55485\r\nI0406 22:26:20.926013 62343 tcp_utils.cc:130] Successfully connected to 127.0.1.1:55485\r\nFailed, NCCL error /paddle/paddle/fluid/distributed/collective/NCCLTools.h:227 'unhandled cuda error'\r\nLAUNCH INFO 2023-04-06 22:26:22,754 Pod failed\r\nLAUNCH ERROR 2023-04-06 22:26:22,754 Container failed !!!\r\nContainer rank 0 status failed cmd ['/home/ubuntu/anaconda3/envs/paddle/bin/python', '-u', 'tools/train.py', '-c', 'configs/custom/yolov7_l_300e_garbroom.yml', '--use_vdl=true', '--vdl_log_dir=vdl_dir/scalar', '-o', 'use_gpu=true', '--amp', '--eval', '-o', 'pretrain_weights=https://paddledet.bj.bcebos.com/models/yolov7_l_300e_coco.pdparams'] code 1 log log/workerlog.0 \r\nenv {'LESSOPEN': '| /usr/bin/lesspipe %s', 'CONDA_PROMPT_MODIFIER': '(paddle) ', 'LANGUAGE': 'zh_CN:en', 'USER': 'ubuntu', 'LC_TIME': 'zh_CN.UTF-8', 'LIBVA_DRIVERS_PATH': '/opt/intel/mediasdk/lib64', 'SSH_AGENT_PID': '8591', 'XDG_SESSION_TYPE': 'x11', 'SHLVL': '1', 'LD_LIBRARY_PATH': '/usr/local/cuda-11.6/lib64::/home/ubuntu/TensorRT-8.4.2.4/lib:/usr/include/nccl.h', 'QT4_IM_MODULE': 'fcitx', 'HOME': '/home/ubuntu', 'CONDA_SHLVL': '2', 'DESKTOP_SESSION': 'ubuntu', 'GNOME_SHELL_SESSION_MODE': 'ubuntu', 'GTK_MODULES': 'gail:atk-bridge', 'LC_MONETARY': 'zh_CN.UTF-8', 'MANAGERPID': '8412', 'DBUS_STARTER_BUS_TYPE': 'session', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1000/bus,guid=f59584064ecf2b3bbf046a7f642e0871', 'COLORTERM': 'truecolor', '_CE_M': '', 'IM_CONFIG_PHASE': '1', 'GTK_IM_MODULE': 'fcitx', 'LOGNAME': 'ubuntu', 'JOURNAL_STREAM': '8:113415', '_': '/usr/bin/sh', 'PKG_CONFIG_PATH': ':/usr/local/lib/pkgconfig', 'XDG_SESSION_CLASS': 'user', 'USERNAME': 'ubuntu', 'TERM': 'xterm-256color', 'GNOME_DESKTOP_SESSION_ID': 'this-is-deprecated', '_CE_CONDA': '', 'WINDOWPATH': '2', 'PATH': '/home/ubuntu/anaconda3/envs/paddle/bin:/home/ubuntu/anaconda3/condabin:/usr/local/cuda-11.6/bin:/home/ubuntu/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin', 'SESSION_MANAGER': 'local/ubuntu:@/tmp/.ICE-unix/8714,unix/ubuntu:/tmp/.ICE-unix/8714', 'INVOCATION_ID': '7660e1261ca64774b019405ac9777ffd', 'PAPERSIZE': 'a4', 'XDG_MENU_PREFIX': 'gnome-', 'LC_ADDRESS': 'zh_CN.UTF-8', 'GNOME_TERMINAL_SCREEN': '/org/gnome/Terminal/screen/6935613b_781b_4b1f_b950_f6d5fd6cc9e4', 'XDG_RUNTIME_DIR': '/run/user/1000', 'DISPLAY': ':1', 'LANG': 'zh_CN.UTF-8', 'XDG_CURRENT_DESKTOP': 'ubuntu:GNOME', 'LC_TELEPHONE': 'zh_CN.UTF-8', 'CONDA_PREFIX_1': '/home/ubuntu/anaconda3', 'XMODIFIERS': '@im=fcitx', 'LIBVA_DRIVER_NAME': 'iHD', 'XDG_SESSION_DESKTOP': 'ubuntu', 'XAUTHORITY': '/run/user/1000/gdm/Xauthority', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'GNOME_TERMINAL_SERVICE': ':1.97', 'SSH_AUTH_SOCK': '/run/user/1000/keyring/ssh', 'CONDA_PYTHON_EXE': '/home/ubuntu/anaconda3/bin/python', 'SHELL': '/bin/bash', 'LC_NAME': 'zh_CN.UTF-8', 'QT_ACCESSIBILITY': '1', 'GDMSESSION': 'ubuntu', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'CONDA_DEFAULT_ENV': 'paddle', 'LC_MEASUREMENT': 'zh_CN.UTF-8', 'GPG_AGENT_INFO': '/run/user/1000/gnupg/S.gpg-agent:0:1', 'LC_IDENTIFICATION': 'zh_CN.UTF-8', 'QT_IM_MODULE': 'fcitx', 'PWD': '/home/ubuntu/data1/paddle/PaddleYOLO', 'XDG_CONFIG_DIRS': '/etc/xdg/xdg-ubuntu:/etc/xdg', 'CONDA_EXE': '/home/ubuntu/anaconda3/bin/conda', 'CLUTTER_IM_MODULE': 'fcitx', 'DBUS_STARTER_ADDRESS': 'unix:path=/run/user/1000/bus,guid=f59584064ecf2b3bbf046a7f642e0871', 'XDG_DATA_DIRS': '/usr/share/ubuntu:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop', 'LC_NUMERIC': 'zh_CN.UTF-8', 'CONDA_PREFIX': '/home/ubuntu/anaconda3/envs/paddle', 'LC_PAPER': 'zh_CN.UTF-8', 'VTE_VERSION': '6003', 'CUSTOM_DEVICE_ROOT': '', 'OMP_NUM_THREADS': '1', 'QT_QPA_PLATFORM_PLUGIN_PATH': '/home/ubuntu/anaconda3/envs/paddle/lib/python3.8/site-packages/cv2/qt/plugins', 'QT_QPA_FONTDIR': '/home/ubuntu/anaconda3/envs/paddle/lib/python3.8/site-packages/cv2/qt/fonts', 'POD_NAME': 'wqaevk', 'PADDLE_MASTER': '127.0.1.1:55485', 'PADDLE_GLOBAL_SIZE': '4', 'PADDLE_LOCAL_SIZE': '4', 'PADDLE_GLOBAL_RANK': '0', 'PADDLE_LOCAL_RANK': '0', 'PADDLE_NNODES': '1', 'PADDLE_TRAINER_ENDPOINTS': '127.0.1.1:55486,127.0.1.1:55487,127.0.1.1:55488,127.0.1.1:55489', 'PADDLE_CURRENT_ENDPOINT': '127.0.1.1:55486', 'PADDLE_TRAINER_ID': '0', 'PADDLE_TRAINERS_NUM': '4', 'PADDLE_RANK_IN_NODE': '0', 'FLAGS_selected_gpus': '0'}\r\nLAUNCH INFO 2023-04-06 22:26:22,754 ------------------------- ERROR LOG DETAIL -------------------------\r\nI0406 22:26:20.925828 62343 tcp_utils.cc:181] The server starts to listen on IP_ANY:55485\r\nI0406 22:26:20.926013 62343 tcp_utils.cc:130] Successfully connected to 127.0.1.1:55485\r\nFailed, NCCL error /paddle/paddle/fluid/distributed/collective/NCCLTools.h:227 'unhandled cuda error'\r\nLAUNCH INFO 2023-04-06 22:26:22,955 Exit code 1\r\n",
        "state": "closed",
        "user": "jia0511",
        "closed_by": "jia0511",
        "created_at": "2023-04-06T14:34:56+00:00",
        "updated_at": "2023-06-13T02:46:19+00:00",
        "closed_at": "2023-06-13T02:46:18+00:00",
        "comments_count": [
            "nemonameless",
            "jia0511",
            "lvcaiwen",
            "jia0511",
            "nemonameless",
            "jia0511",
            "jia0511",
            "nemonameless",
            "jia0511"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 120,
        "title": "读取自己制作的coco数据集时，报错\"RuntimeError: fileds number not same among samples in a batch\"",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\n我们自己创建了一个coco数据集，在paddle/paddleDetection的框架下读取需要修改ppdet/data/source/coco.py中59行load_crowd=true后跑通，训练没有问题(如果不修改他会报 \"'not found any coco record in\"错误)。但是在本框架下按照该方式修改会出现\"RuntimeError: fileds number not same among samples in a batch\"错误。具体报错信息如下:\r\n\r\ndet) yinghan.huang@ar-gpu01:~/Projects/VisionDetect/PaddleYOLO$ sh run.sh\r\nLAUNCH INFO 2023-04-05 14:31:37,642 -----------  Configuration  ----------------------\r\nLAUNCH INFO 2023-04-05 14:31:37,643 devices: 1\r\nLAUNCH INFO 2023-04-05 14:31:37,643 elastic_level: -1\r\nLAUNCH INFO 2023-04-05 14:31:37,643 elastic_timeout: 30\r\nLAUNCH INFO 2023-04-05 14:31:37,643 gloo_port: 6767\r\nLAUNCH INFO 2023-04-05 14:31:37,643 host: None\r\nLAUNCH INFO 2023-04-05 14:31:37,643 ips: None\r\nLAUNCH INFO 2023-04-05 14:31:37,643 job_id: default\r\nLAUNCH INFO 2023-04-05 14:31:37,643 legacy: False\r\nLAUNCH INFO 2023-04-05 14:31:37,643 log_dir: log_dir/yolov7_l_300e_bottle1_coco\r\nLAUNCH INFO 2023-04-05 14:31:37,644 log_level: INFO\r\nLAUNCH INFO 2023-04-05 14:31:37,644 master: None\r\nLAUNCH INFO 2023-04-05 14:31:37,644 max_restart: 3\r\nLAUNCH INFO 2023-04-05 14:31:37,644 nnodes: 1\r\nLAUNCH INFO 2023-04-05 14:31:37,644 nproc_per_node: None\r\nLAUNCH INFO 2023-04-05 14:31:37,644 rank: -1\r\nLAUNCH INFO 2023-04-05 14:31:37,644 run_mode: collective\r\nLAUNCH INFO 2023-04-05 14:31:37,644 server_num: None\r\nLAUNCH INFO 2023-04-05 14:31:37,644 servers: \r\nLAUNCH INFO 2023-04-05 14:31:37,644 start_port: 6070\r\nLAUNCH INFO 2023-04-05 14:31:37,644 trainer_num: None\r\nLAUNCH INFO 2023-04-05 14:31:37,644 trainers: \r\nLAUNCH INFO 2023-04-05 14:31:37,644 training_script: tools/train.py\r\nLAUNCH INFO 2023-04-05 14:31:37,644 training_script_args: ['-c', 'configs/yolov7/yolov7_l_300e_bottle1_coco.yml', '--eval', '--amp']\r\nLAUNCH INFO 2023-04-05 14:31:37,644 with_gloo: 1\r\nLAUNCH INFO 2023-04-05 14:31:37,645 --------------------------------------------------\r\nLAUNCH INFO 2023-04-05 14:31:37,645 Job: default, mode collective, replicas 1[1:1], elastic False\r\nLAUNCH INFO 2023-04-05 14:31:37,654 Run Pod: ycqvdk, replicas 1, status ready\r\nLAUNCH INFO 2023-04-05 14:31:37,669 Watching Pod: ycqvdk, replicas 1, status running\r\nWarning: import ppdet from source directory without installing, run 'python setup.py install' to install ppdet firstly\r\nloading annotations into memory...\r\nDone (t=1.65s)\r\ncreating index...\r\nindex created!\r\n[04/05 14:31:41] ppdet.data.source.coco INFO: Load [1800 samples valid, 0 samples invalid] in file /home/yinghan.huang/Projects/VisionDetect/datasets/yolo/train.json.\r\nW0405 14:31:41.656965 16264 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 11.7, Runtime API Version: 11.2\r\nW0405 14:31:41.663031 16264 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 536, in _thread_loop\r\n    batch = self._get_data()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 674, in _get_data\r\n    batch.reraise()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/worker.py\", line 172, in reraise\r\n    raise self.exc_type(msg)\r\nRuntimeError: DataLoader worker(2) caught RuntimeError with message:\r\nTraceback (most recent call last):\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/worker.py\", line 339, in _worker_loop\r\n    batch = fetcher.fetch(indices)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/fetcher.py\", line 138, in fetch\r\n    data = self.collate_fn(data)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/reader.py\", line 95, in __call__\r\n    batch_data = default_collate_fn(data)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 60, in default_collate_fn\r\n    return {\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 61, in <dictcomp>\r\n    key: default_collate_fn([d[key] for d in batch])\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 67, in default_collate_fn\r\n    raise RuntimeError(\r\nRuntimeError: fileds number not same among samples in a batch\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 188, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 184, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 137, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/engine/trainer.py\", line 384, in train\r\n    for step_id, data in enumerate(self.loader):\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/reader.py\", line 213, in __next__\r\n    return next(self.loader)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 745, in __next__\r\n    self._reader.read_next_list()[0])\r\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at /paddle/paddle/fluid/operators/reader/blocking_queue.h:175)\r\n\r\nLAUNCH INFO 2023-04-05 14:31:45,680 Pod failed\r\nLAUNCH ERROR 2023-04-05 14:31:45,680 Container failed !!!\r\nContainer rank 0 status failed cmd ['/home/yinghan.huang/anaconda3/envs/ppdet/bin/python', '-u', 'tools/train.py', '-c', 'configs/yolov7/yolov7_l_300e_bottle1_coco.yml', '--eval', '--amp'] code 1 log log_dir/yolov7_l_300e_bottle1_coco/workerlog.0 \r\nenv {'LESSOPEN': '| /usr/bin/lesspipe %s', 'CONDA_PROMPT_MODIFIER': '(ppdet) ', 'MAIL': '/var/mail/yinghan.huang', 'USER': 'yinghan.huang', 'SSH_CLIENT': '10.3.130.22 39540 22', 'LC_TIME': 'en_US.UTF-8', 'LD_LIBRARY_PATH': '/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/cv2/../../lib64:/home/yinghan.huang/anaconda3/pkgs/cudatoolkit-11.2.2-hbe64b41_11/lib:/home/yinghan.huang/anaconda3/pkgs/cudnn-8.2.1.32-h86fa8c9_0/lib', 'SHLVL': '1', 'CONDA_SHLVL': '2', 'OLDPWD': '/home/yinghan.huang/Projects/VisionDetect', 'HOME': '/home/yinghan.huang', 'SSH_TTY': '/dev/pts/9', 'LC_MONETARY': 'C.UTF-8', 'LC_CTYPE': 'en_US.UTF-8', 'DBUS_SESSION_BUS_ADDRESS': 'unix:path=/run/user/1223/bus', '_CE_M': '', 'CUDA_VISIBLE_DEVICES': '1', 'LOGNAME': 'yinghan.huang', '_': '/bin/sh', 'XDG_SESSION_ID': '680', 'TERM': 'xterm-256color', '_CE_CONDA': '', 'LC_COLLATE': 'en_US.UTF-8', 'CUDADIR': '/usr/local/cuda', 'PATH': '/home/yinghan.huang/anaconda3/envs/ppdet/bin:/home/yinghan.huang/anaconda3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/cuda/bin', 'LC_ADDRESS': 'C.UTF-8', 'XDG_RUNTIME_DIR': '/run/user/1223', 'LANG': 'C.UTF-8', 'CONDA_PREFIX_1': '/home/yinghan.huang/anaconda3', 'LC_TELEPHONE': 'C.UTF-8', 'LS_COLORS': 'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:', 'CONDA_PYTHON_EXE': '/home/yinghan.huang/anaconda3/bin/python', 'LC_MESSAGES': 'en_US.UTF-8', 'LC_NAME': 'C.UTF-8', 'SHELL': '/bin/bash', 'LESSCLOSE': '/usr/bin/lesspipe %s %s', 'CONDA_DEFAULT_ENV': 'ppdet', 'LC_MEASUREMENT': 'C.UTF-8', 'LC_IDENTIFICATION': 'C.UTF-8', 'PWD': '/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO', 'CONDA_EXE': '/home/yinghan.huang/anaconda3/bin/conda', 'SSH_CONNECTION': '10.3.130.22 39540 10.3.15.202 22', 'XDG_DATA_DIRS': '/usr/local/share:/usr/share:/var/lib/snapd/desktop', 'LC_NUMERIC': 'en_US.UTF-8', 'LC_PAPER': 'C.UTF-8', 'CONDA_PREFIX': '/home/yinghan.huang/anaconda3/envs/ppdet', 'CUSTOM_DEVICE_ROOT': '', 'OMP_NUM_THREADS': '1', 'QT_QPA_PLATFORM_PLUGIN_PATH': '/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/cv2/qt/plugins', 'QT_QPA_FONTDIR': '/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/cv2/qt/fonts', 'POD_NAME': 'ycqvdk', 'PADDLE_MASTER': '10.3.15.202:54366', 'PADDLE_GLOBAL_SIZE': '1', 'PADDLE_LOCAL_SIZE': '1', 'PADDLE_GLOBAL_RANK': '0', 'PADDLE_LOCAL_RANK': '0', 'PADDLE_NNODES': '1', 'PADDLE_TRAINER_ENDPOINTS': '10.3.15.202:54367', 'PADDLE_CURRENT_ENDPOINT': '10.3.15.202:54367', 'PADDLE_TRAINER_ID': '0', 'PADDLE_TRAINERS_NUM': '1', 'PADDLE_RANK_IN_NODE': '0', 'FLAGS_selected_gpus': '0'}\r\nLAUNCH INFO 2023-04-05 14:31:45,681 ------------------------- ERROR LOG DETAIL -------------------------\r\n GPU Compute Capability: 6.1, Driver API Version: 11.7, Runtime API Version: 11.2\r\nW0405 14:31:41.663031 16264 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 536, in _thread_loop\r\n    batch = self._get_data()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 674, in _get_data\r\n    batch.reraise()\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/worker.py\", line 172, in reraise\r\n    raise self.exc_type(msg)\r\nRuntimeError: DataLoader worker(2) caught RuntimeError with message:\r\nTraceback (most recent call last):\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/worker.py\", line 339, in _worker_loop\r\n    batch = fetcher.fetch(indices)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/fetcher.py\", line 138, in fetch\r\n    data = self.collate_fn(data)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/reader.py\", line 95, in __call__\r\n    batch_data = default_collate_fn(data)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 60, in default_collate_fn\r\n    return {\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 61, in <dictcomp>\r\n    key: default_collate_fn([d[key] for d in batch])\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/utils.py\", line 67, in default_collate_fn\r\n    raise RuntimeError(\r\nRuntimeError: fileds number not same among samples in a batch\r\n\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 188, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 184, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 137, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/engine/trainer.py\", line 384, in train\r\n    for step_id, data in enumerate(self.loader):\r\n  File \"/home/yinghan.huang/Projects/VisionDetect/PaddleYOLO/ppdet/data/reader.py\", line 213, in __next__\r\n    return next(self.loader)\r\n  File \"/home/yinghan.huang/anaconda3/envs/ppdet/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 745, in __next__\r\n    self._reader.read_next_list()[0])\r\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at /paddle/paddle/fluid/operators/reader/blocking_queue.h:175)\r\n\r\nLAUNCH INFO 2023-04-05 14:31:45,681 Exit code 1\r\n\n\n### 复现环境 Environment\n\n- OS: Linus\r\n- PaddlePaddle-gpu: 2.4.2.post112\r\n- PaddleDetection: releases/2.4\r\n- Python 3.7.0\r\n- CUDA: 10.2\r\n- CUDNN: 8.2.1\r\n- GCC: 7.5.0\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "ge35tay",
        "closed_by": "nemonameless",
        "created_at": "2023-04-05T13:20:23+00:00",
        "updated_at": "2024-03-04T09:57:02+00:00",
        "closed_at": "2024-03-04T09:57:01+00:00",
        "comments_count": [
            "nemonameless",
            "ge35tay",
            "kaixin-bai",
            "kaixin-bai",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 126,
        "title": "什么时候能够支持YOLOv8的训练？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nYOLOv8 training not supported yet.",
        "state": "closed",
        "user": "Monday-Leo",
        "closed_by": "nemonameless",
        "created_at": "2023-04-14T08:11:57+00:00",
        "updated_at": "2023-07-07T02:47:36+00:00",
        "closed_at": "2023-07-07T02:47:36+00:00",
        "comments_count": [
            "maybe2122",
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 124,
        "title": "paddleyolo 训练出来的模型放到 fastdeploy部署报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n源代码：\r\n```python\r\nimport cv2\r\nimport fastdeploy.vision as vision\r\n\r\nif __name__ == '__main__':\r\n    model = vision.detection.PPYOLOE(\"inference_model3/yolov7u_l_300e_coco/model.pdmodel\",\r\n                                     \"inference_model3/yolov7u_l_300e_coco/model.pdiparams\",\r\n                                     \"inference_model3/yolov7u_l_300e_coco/infer_cfg.yml\")\r\n    im = cv2.imread(\"DJI_0001.JPG\")\r\n    result = model.predict(im)\r\n    print(result)\r\n\r\n    vis_im = vision.vis_detection(im, result, score_threshold=0.0, line_size=5)\r\n    cv2.imwrite(\"vis_image.jpg\", vis_im)\r\n``` \r\n\r\n控制台报错：\r\n\r\n<details><summary>Details</summary>\r\n<p>\r\n\r\nC:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python37\\python.exe \"C:/Program Files/JetBrains/PyCharm 2022.3.3/plugins/python/helpers/pydev/pydevconsole.py\" --mode=client --host=127.0.0.1 --port=63533 \r\nimport sys; print('Python %s on %s' % (sys.version, sys.platform))\r\nsys.path.extend(['C:\\\\Users\\\\ASUS\\\\PycharmProjects\\\\pythonProject'])\r\nPyDev console: starting.\r\nPython 3.7.8 (tags/v3.7.8:4b47a5b6ba, Jun 28 2020, 08:53:46) [MSC v.1916 64 bit (AMD64)] on win32\r\nrunfile('C:\\\\Users\\\\ASUS\\\\PycharmProjects\\\\pythonProject\\\\fastDeploy.py', wdir='C:\\\\Users\\\\ASUS\\\\PycharmProjects\\\\pythonProject')\r\n[FastDeploy][INFO]:  Successfully found CUDA ToolKit from system PATH env -> C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v11.2\\bin\r\n[INFO] fastdeploy/vision/common/processors/transform.cc(45)::fastdeploy::vision::FuseNormalizeCast\tNormalize and Cast are fused to Normalize in preprocessing pipeline.\r\n[INFO] fastdeploy/vision/common/processors/transform.cc(93)::fastdeploy::vision::FuseNormalizeHWC2CHW\tNormalize and HWC2CHW are fused to NormalizeAndPermute  in preprocessing pipeline.\r\n[INFO] fastdeploy/vision/common/processors/transform.cc(159)::fastdeploy::vision::FuseNormalizeColorConvert\tBGR2RGB and NormalizeAndPermute are fused to NormalizeAndPermute with swap_rb=1\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python37\\lib\\code.py\", line 90, in runcode\r\n    exec(code, self.locals)\r\n  File \"<input>\", line 1, in <module>\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm 2022.3.3\\plugins\\python\\helpers\\pydev\\_pydev_bundle\\pydev_umd.py\", line 198, in runfile\r\n    pydev_imports.execfile(filename, global_vars, local_vars)  # execute the script\r\n  File \"C:\\Program Files\\JetBrains\\PyCharm 2022.3.3\\plugins\\python\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"C:\\Users\\ASUS\\PycharmProjects\\pythonProject\\fastDeploy.py\", line 7, in <module>\r\n    \"inference_model3/yolov7u_l_300e_coco/infer_cfg.yml\")\r\n  File \"C:\\Users\\ASUS\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\fastdeploy\\vision\\detection\\ppdet\\__init__.py\", line 106, in __init__\r\n    model_format)\r\nRuntimeError: Check 'creator_it != CREATORS_MAP.end()' failed at C:\\Jenkins\\workspace\\private-ci\\ie\\build-windows-vs2019\\b\\repos\\openvino\\src\\frontends\\paddle\\src\\frontend.cpp:40:\r\nFrontEnd API failed with OpConversionFailure: :\r\nNo creator found for flip node.\r\n\r\n\r\n</p>\r\n</details> ",
        "state": "closed",
        "user": "zhang7249",
        "closed_by": "nemonameless",
        "created_at": "2023-04-12T06:18:35+00:00",
        "updated_at": "2024-03-04T09:27:34+00:00",
        "closed_at": "2024-03-04T09:27:34+00:00",
        "comments_count": [
            "nemonameless",
            "MystericQ",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 127,
        "title": "yolov7_L训练多卡出现训练不到一个epoch就训练迭代不动的问题",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\nTrainReader:\r\n       batch_size: 24\r\n\r\n\r\n\r\n\n\n### 复现环境 Environment\n\nI0417 01:46:07.710219   289 nccl_context.cc:83] init nccl context nranks: 4 local rank: 0 gpu id: 0 ring id: 0\r\nW0417 01:46:08.102859   289 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 11.6, Runtime API Version: 10.1\r\nW0417 01:46:08.106501   289 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\n\r\n4张卡 Tesla P40 24G\r\n\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "Daniel-deng-yi",
        "closed_by": "nemonameless",
        "created_at": "2023-04-17T01:59:51+00:00",
        "updated_at": "2024-03-04T09:23:41+00:00",
        "closed_at": "2024-03-04T09:23:41+00:00",
        "comments_count": [
            "nemonameless",
            "Daniel-deng-yi",
            "Daniel-deng-yi",
            "nemonameless",
            "Daniel-deng-yi",
            "Daniel-deng-yi",
            "nemonameless",
            "Daniel-deng-yi",
            "Daniel-deng-yi"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 130,
        "title": "FLOPs不一致",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n你好，按照提示将params和flops设置为True，计算的flops和params比工程给出的略小，是设置的有问题还是paddle有哪里进行了优化呢？\r\n\r\n| mode | Params | FLOPs |\r\n| -- | -- | -- |\r\n| PPYOLOE+ -s (given) | [7.93](https://github.com/PaddlePaddle/PaddleYOLO/blob/5436cb4fed03ac6b22da6565ff2520111b1f3ea4/docs/MODEL_ZOO_en.md#pp-yoloe) | 17.36|\r\n| PPYOLOE+ -s (run code) | 7.61 | 16.16(doubled) |\r\n| YOLOv5 -n (given) | [1.87](https://github.com/PaddlePaddle/PaddleYOLO/blob/5436cb4fed03ac6b22da6565ff2520111b1f3ea4/docs/MODEL_ZOO_en.md#yolov5) | 4.52 |\r\n| YOLOv5 -n (run code) | 1.76 | 4.18(doubled) |",
        "state": "closed",
        "user": "GaoShanwen",
        "closed_by": "nemonameless",
        "created_at": "2023-05-01T05:50:14+00:00",
        "updated_at": "2024-03-04T09:24:05+00:00",
        "closed_at": "2024-03-04T09:24:04+00:00",
        "comments_count": [
            "nemonameless",
            "GaoShanwen",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 128,
        "title": "PP-YOLOE+ 训练时提示显存不足，需要EB级别的显存。",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n环境：\r\n    基于paddlepaddle/paddle:2.4.2-gpu-cuda10.2-cudnn7.6-trt7.0的docker镜像，安装了quirements.txt内的库。\r\n系统：\r\n    Ubuntu 22.04\r\n硬件：\r\n    3080Ti 12G \r\n    驱动版本：525.105.17 \r\n    CUDA版本：12.0\r\n配置：\r\n    bs=4，lr=0.000025\r\n运行命令：\r\n    ```python tools/train.py -c configs/ppyoloe/ppyoloe_plus_crn_x_80e_coco.yml --eval```\r\n\r\n报错如下：\r\n```\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\nWarning: import ppdet from source directory without installing, run 'python setup.py install' to install ppdet firstly\r\nW0418 05:10:45.465602   518 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 12.0, Runtime API Version: 10.2\r\nW0418 05:10:45.470810   518 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\n[04/18 05:10:47] ppdet.utils.checkpoint INFO: The shape [365] in pretrained weight yolo_head.pred_cls.0.bias is unmatched with the shape [7] in model yolo_head.pred_cls.0.bias. And the weight yolo_head.pred_cls.0.bias will not be loaded\r\n[04/18 05:10:47] ppdet.utils.checkpoint INFO: The shape [365, 960, 3, 3] in pretrained weight yolo_head.pred_cls.0.weight is unmatched with the shape [7, 960, 3, 3] in model yolo_head.pred_cls.0.weight. And the weight yolo_head.pred_cls.0.weight will not be loaded\r\n[04/18 05:10:47] ppdet.utils.checkpoint INFO: The shape [365] in pretrained weight yolo_head.pred_cls.1.bias is unmatched with the shape [7] in model yolo_head.pred_cls.1.bias. And the weight yolo_head.pred_cls.1.bias will not be loaded\r\n[04/18 05:10:47] ppdet.utils.checkpoint INFO: The shape [365, 480, 3, 3] in pretrained weight yolo_head.pred_cls.1.weight is unmatched with the shape [7, 480, 3, 3] in model yolo_head.pred_cls.1.weight. And the weight yolo_head.pred_cls.1.weight will not be loaded\r\n[04/18 05:10:47] ppdet.utils.checkpoint INFO: The shape [365] in pretrained weight yolo_head.pred_cls.2.bias is unmatched with the shape [7] in model yolo_head.pred_cls.2.bias. And the weight yolo_head.pred_cls.2.bias will not be loaded\r\n[04/18 05:10:47] ppdet.utils.checkpoint INFO: The shape [365, 240, 3, 3] in pretrained weight yolo_head.pred_cls.2.weight is unmatched with the shape [7, 240, 3, 3] in model yolo_head.pred_cls.2.weight. And the weight yolo_head.pred_cls.2.weight will not be loaded\r\n[04/18 05:10:47] ppdet.utils.checkpoint INFO: Finish loading model weights: ./ppyoloe_crn_x_obj365_pretrained.pdparams\r\nterminate called after throwing an instance of 'paddle::memory::allocation::BadAlloc'\r\n  what():  \r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   masked_select_ad_func(paddle::experimental::Tensor const&, paddle::experimental::Tensor const&)\r\n1   paddle::experimental::masked_select(paddle::experimental::Tensor const&, paddle::experimental::Tensor const&)\r\n2   void phi::MaskedSelectKernel<float, phi::GPUContext>(phi::GPUContext const&, phi::DenseTensor const&, phi::DenseTensor const&, phi::DenseTensor*)\r\n3   phi::DenseTensor::mutable_data(phi::Place const&, paddle::experimental::DataType, unsigned long)\r\n4   paddle::memory::AllocShared(phi::Place const&, unsigned long)\r\n5   paddle::memory::allocation::AllocatorFacade::AllocShared(phi::Place const&, unsigned long)\r\n6   paddle::memory::allocation::AllocatorFacade::Alloc(phi::Place const&, unsigned long)\r\n7   paddle::memory::allocation::StatAllocator::AllocateImpl(unsigned long)\r\n8   paddle::memory::allocation::Allocator::Allocate(unsigned long)\r\n9   paddle::memory::allocation::Allocator::Allocate(unsigned long)\r\n10  paddle::memory::allocation::Allocator::Allocate(unsigned long)\r\n11  paddle::memory::allocation::CUDAAllocator::AllocateImpl(unsigned long)\r\n12  std::string phi::enforce::GetCompleteTraceBackString<std::string >(std::string&&, char const*, int)\r\n13  phi::enforce::GetCurrentTraceBackString[abi:cxx11](bool)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nResourceExhaustedError: \r\n\r\nOut of memory error on GPU 0. Cannot allocate 15.877086EB memory on GPU 0, 6.362915GB memory has been allocated and available memory is only 5.399963GB.\r\n\r\nPlease check whether there is any other process using GPU 0.\r\n1. If yes, please stop them, or start PaddlePaddle on another GPU.\r\n2. If no, please decrease the batch size of your model. \r\nIf the above ways do not solve the out of memory problem, you can try to use CUDA managed memory. The command is `export FLAGS_use_cuda_managed_memory=false`.\r\n (at /paddle/paddle/fluid/memory/allocation/cuda_allocator.cc:95)\r\n\r\n\r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::pybind::ThrowExceptionToPython(std::__exception_ptr::exception_ptr)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nFatalError: `Process abort signal` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 1681794658 (unix time) try \"date -d @1681794658\" if you are using GNU date ***]\r\n  [SignalInfo: *** SIGABRT (@0x206) received by PID 518 (TID 0x7fd2dbb2f700) from PID 518 ***]\r\n\r\nAborted (core dumped)\r\n```\r\n\r\n加入```--amp```后，报错如下：\r\n```\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\nWarning: import ppdet from source directory without installing, run 'python setup.py install' to install ppdet firstly\r\nW0418 05:15:57.127051   620 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 12.0, Runtime API Version: 10.2\r\nW0418 05:15:57.131618   620 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\n[04/18 05:15:58] ppdet.utils.checkpoint INFO: The shape [365] in pretrained weight yolo_head.pred_cls.0.bias is unmatched with the shape [7] in model yolo_head.pred_cls.0.bias. And the weight yolo_head.pred_cls.0.bias will not be loaded\r\n[04/18 05:15:58] ppdet.utils.checkpoint INFO: The shape [365, 960, 3, 3] in pretrained weight yolo_head.pred_cls.0.weight is unmatched with the shape [7, 960, 3, 3] in model yolo_head.pred_cls.0.weight. And the weight yolo_head.pred_cls.0.weight will not be loaded\r\n[04/18 05:15:58] ppdet.utils.checkpoint INFO: The shape [365] in pretrained weight yolo_head.pred_cls.1.bias is unmatched with the shape [7] in model yolo_head.pred_cls.1.bias. And the weight yolo_head.pred_cls.1.bias will not be loaded\r\n[04/18 05:15:58] ppdet.utils.checkpoint INFO: The shape [365, 480, 3, 3] in pretrained weight yolo_head.pred_cls.1.weight is unmatched with the shape [7, 480, 3, 3] in model yolo_head.pred_cls.1.weight. And the weight yolo_head.pred_cls.1.weight will not be loaded\r\n[04/18 05:15:58] ppdet.utils.checkpoint INFO: The shape [365] in pretrained weight yolo_head.pred_cls.2.bias is unmatched with the shape [7] in model yolo_head.pred_cls.2.bias. And the weight yolo_head.pred_cls.2.bias will not be loaded\r\n[04/18 05:15:58] ppdet.utils.checkpoint INFO: The shape [365, 240, 3, 3] in pretrained weight yolo_head.pred_cls.2.weight is unmatched with the shape [7, 240, 3, 3] in model yolo_head.pred_cls.2.weight. And the weight yolo_head.pred_cls.2.weight will not be loaded\r\n[04/18 05:15:58] ppdet.utils.checkpoint INFO: Finish loading model weights: ./ppyoloe_crn_x_obj365_pretrained.pdparams\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 188, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 184, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 137, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/work/PaddleYOLO-release-2.6/ppdet/engine/trainer.py\", line 414, in train\r\n    outputs = model(data)\r\n  File \"/usr/local/python3.7.0/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 1012, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/work/PaddleYOLO-release-2.6/ppdet/modeling/architectures/meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"/work/PaddleYOLO-release-2.6/ppdet/modeling/architectures/yolo.py\", line 108, in get_loss\r\n    return self._forward()\r\n  File \"/work/PaddleYOLO-release-2.6/ppdet/modeling/architectures/yolo.py\", line 83, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"/usr/local/python3.7.0/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 1012, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/work/PaddleYOLO-release-2.6/ppdet/modeling/heads/ppyoloe_head.py\", line 239, in forward\r\n    return self.forward_train(feats, targets)\r\n  File \"/work/PaddleYOLO-release-2.6/ppdet/modeling/heads/ppyoloe_head.py\", line 176, in forward_train\r\n    ], targets)\r\n  File \"/work/PaddleYOLO-release-2.6/ppdet/modeling/heads/ppyoloe_head.py\", line 391, in get_loss\r\n    assigned_scores_sum)\r\n  File \"/work/PaddleYOLO-release-2.6/ppdet/modeling/heads/ppyoloe_head.py\", line 296, in _bbox_loss\r\n    bbox_mask).reshape([-1, 4])\r\n  File \"/usr/local/python3.7.0/lib/python3.7/site-packages/paddle/tensor/search.py\", line 801, in masked_select\r\n    return _C_ops.masked_select(x, mask)\r\nRuntimeError: (PreconditionNotMet) The Tensor's element number must be equal or greater than zero. The Tensor's shape is [-4656394580360012950] now\r\n  [Hint: Expected numel() >= 0, but received numel():-4656394580360012950 < 0:0.] (at /paddle/paddle/phi/core/dense_tensor_impl.cc:110)\r\n```",
        "state": "closed",
        "user": "dium6i",
        "closed_by": "nemonameless",
        "created_at": "2023-04-18T05:22:54+00:00",
        "updated_at": "2024-03-04T09:41:02+00:00",
        "closed_at": "2024-03-04T09:41:01+00:00",
        "comments_count": [
            "nemonameless",
            "dium6i",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 129,
        "title": "%run tools/infer.py 报错：TypeError: 'numpy.float32' object cannot be interpreted as an integer",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nInference\n\n### Bug描述 Describe the Bug\n\nmodel_name='yolov8' \r\njob_name='yolov8_x_500e_coco' \r\n\r\nconfig=f'configs/{model_name}/{job_name}.yml'\r\nweights=f'../pretrain/{job_name}.pdparams'\r\n\r\n%run tools/infer.py -c {config} -o weights={weights} use_gpu=false --infer_img=demo/000000014439_640x640.jpg --draw_threshold=0.5\r\n<img width=\"1086\" alt=\"1\" src=\"https://user-images.githubusercontent.com/56420014/233585026-946d6898-a675-44b8-8522-ae75268c19ab.png\">\r\n<img width=\"1089\" alt=\"2\" src=\"https://user-images.githubusercontent.com/56420014/233585101-f0ddf0d4-a99f-451d-8f98-e9426d378415.png\">\r\n\n\n### 复现环境 Environment\n\nOS：macOS-13.1-x86_64-i386-64bit\r\npaddlepaddle：2.4.1\r\nPaddleyolo :2.6\r\nPython 3.10.9 \r\nNO GPU\r\n\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "overman1",
        "closed_by": "nemonameless",
        "created_at": "2023-04-21T08:30:56+00:00",
        "updated_at": "2023-05-22T04:08:26+00:00",
        "closed_at": "2023-05-22T04:08:26+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 131,
        "title": "YOLOv5 旋转框 训练报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nTraining\n\n### Bug描述 Describe the Bug\n\n我从DOTA数据集中挑选个别图片作为新数据集，此前用PP-YOLOE-R能够正常训练，而现在用YOLOv5进行训练报错了。\r\n训练命令为python -m paddle.distributed.launch tools/train.py -c configs/yolov5/yolov5_l_300e_coco.yml --eval --use_vdl True --vdl_log_dir output/yolov5_l_100e_dota/scalar\r\n\r\n以下为报错内容:\r\nException in thread Thread-1:\r\nTraceback (most recent call last):\r\n  File \"/home/gyc/anaconda3/envs/yoloer/lib/python3.8/threading.py\", line 932, in _bootstrap_inner\r\n    self.run()\r\n  File \"/home/gyc/anaconda3/envs/yoloer/lib/python3.8/threading.py\", line 870, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"/home/gyc/anaconda3/envs/yoloer/lib/python3.8/site-packages/paddle/fluid/dataloader/dataloader_iter.py\", line 217, in _thread_loop\r\n    batch = self._dataset_fetcher.fetch(indices,\r\n  File \"/home/gyc/anaconda3/envs/yoloer/lib/python3.8/site-packages/paddle/fluid/dataloader/fetcher.py\", line 134, in fetch\r\n    data = self.collate_fn(data)\r\n  File \"/home/gyc/PaddleYOLO/ppdet/data/reader.py\", line 91, in __call__\r\n    batch_data = default_collate_fn(data)\r\n  File \"/home/gyc/PaddleYOLO/ppdet/data/utils.py\", line 60, in default_collate_fn\r\n    return {\r\n  File \"/home/gyc/PaddleYOLO/ppdet/data/utils.py\", line 61, in <dictcomp>\r\n    key: default_collate_fn([d[key] for d in batch])\r\n  File \"/home/gyc/PaddleYOLO/ppdet/data/utils.py\", line 67, in default_collate_fn\r\n    raise RuntimeError(\r\nRuntimeError: fileds number not same among samples in a batch\r\n\n\n### 复现环境 Environment\n\nPaddlePaddle版本为2.3.2，其余环境都为推荐配置。\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "gyc137",
        "closed_by": "nemonameless",
        "created_at": "2023-05-04T02:50:41+00:00",
        "updated_at": "2023-05-22T04:09:03+00:00",
        "closed_at": "2023-05-22T04:09:03+00:00",
        "comments_count": [
            "nemonameless",
            "gyc137",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 132,
        "title": "paddleYOLOV5 :  The meta data must be valid when call the mutable data function.",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\n(PaddleYOLO) D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO>python tools/train.py -c configs/yolov5/yolov5_x_300e_coco.yml  --eval\r\nloading annotations into memory...\r\nDone (t=0.01s)\r\ncreating index...\r\nindex created!\r\n[05/06 13:56:41] ppdet.data.source.coco INFO: Load [230 samples valid, 0 samples invalid] in file dataset/coco2/annotations/train.json.\r\nW0506 13:56:41.844275 10804 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 12.1, Runtime API Version: 10.2\r\nW0506 13:56:41.851253 10804 gpu_resources.cc:91] device: 0, cuDNN Version: 7.6.\r\n[05/06 13:56:45] ppdet.engine INFO: Epoch: [0] [  0/230] eta: 17:05:51 lr: 0.000000 loss_box: 0.117473 loss_obj: 2.690734 loss_cls: 0.000000 loss: 2.808207 batch_cost: 1.3381 data_cost: 0.0000 ips: 0.7473 images/s\r\nTraceback (most recent call last):\r\n  File \"D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO\\tools\\train.py\", line 188, in <module>\r\n    main()\r\n  File \"D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO\\tools\\train.py\", line 184, in main\r\n    run(FLAGS, cfg)\r\n  File \"D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO\\tools\\train.py\", line 137, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO\\ppdet\\engine\\trainer.py\", line 433, in train\r\n    outputs = model(data)\r\n  File \"D:\\Program Files (x86)\\python_package\\PaddleYOLO\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\Program Files (x86)\\python_package\\PaddleYOLO\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO\\ppdet\\modeling\\architectures\\meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO\\ppdet\\modeling\\architectures\\yolov5.py\", line 95, in get_loss\r\n    return self._forward()\r\n  File \"D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO\\ppdet\\modeling\\architectures\\yolov5.py\", line 77, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"D:\\Program Files (x86)\\python_package\\PaddleYOLO\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\Program Files (x86)\\python_package\\PaddleYOLO\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO\\ppdet\\modeling\\heads\\yolov5_head.py\", line 132, in forward\r\n    return self.loss(yolo_outputs, targets, self.anchors)\r\n  File \"D:\\Program Files (x86)\\python_package\\PaddleYOLO\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 930, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"D:\\Program Files (x86)\\python_package\\PaddleYOLO\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 915, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO\\ppdet\\modeling\\losses\\yolov5_loss.py\", line 201, in forward\r\n    tcls, tbox, indices, anch = self.build_targets_paddle(inputs, targets, anchors)\r\n  File \"D:\\project\\GitHub\\PaddleYOLO\\PaddleYOLO\\ppdet\\modeling\\losses\\yolov5_loss.py\", line 282, in build_targets_paddle\r\n    gxi = gain[[2, 3]] - gxy  # inverse\r\n  File \"D:\\Program Files (x86)\\python_package\\PaddleYOLO\\lib\\site-packages\\paddle\\fluid\\dygraph\\math_op_patch.py\", line 303, in __impl__\r\n    return math_op(self, other_var, 'axis', axis)\r\nRuntimeError: (PreconditionNotMet) The meta data must be valid when call the mutable data function. (at ..\\paddle\\phi\\core\\dense_tensor.cc:105)\r\n  [operator < elementwise_sub > error]\n\n### 复现环境 Environment\n\npython 3.9.10\r\npaddle 2.3.1\r\ncuda 10.1\r\ncuDNN 7.6\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "zhangxp12",
        "closed_by": "nemonameless",
        "created_at": "2023-05-06T06:04:53+00:00",
        "updated_at": "2023-05-25T10:12:41+00:00",
        "closed_at": "2023-05-25T10:12:41+00:00",
        "comments_count": [
            "nemonameless",
            "zhangxp12",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 133,
        "title": "关于PaddleYOLOv8和官方YOLOv8在RK3588上的部署问题",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n开发者们好！我想问一下PaddleYOLOv8和官方YOLOv8是否都支持在Fast Deploy中转换为RKNN模型以用于在RK3588平台上进行部署。YOLOv8的pose模型现在支持转换了吗。\r\n",
        "state": "closed",
        "user": "7288Fzq",
        "closed_by": "nemonameless",
        "created_at": "2023-05-07T11:18:20+00:00",
        "updated_at": "2024-03-04T09:30:58+00:00",
        "closed_at": "2024-03-04T09:30:58+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 137,
        "title": "参考本仓库configs/yolov8的readme，无法导出模型",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\n参考yolov8 readme中的命令【python tools/export_model.py -c configs/yolov8/yolov8_s_500e_coco.yml -o weights=https://paddledet.bj.bcebos.com/models/yolov8_s_500e_coco.pdparams】  尝试导出模型。\r\n报错信息：\r\n```shell\r\nTraceback (most recent call last):\r\n  File \"tools/export_model.py\", line 110, in <module>\r\n    main()\r\n  File \"tools/export_model.py\", line 106, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/export_model.py\", line 64, in run\r\n    trainer = Trainer(cfg, mode='test')\r\n  File \"/root/projects/PaddleYOLO/ppdet/engine/trainer.py\", line 96, in __init__\r\n    self.model.yolo_head._initialize_biases()  # Note: must added\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/dygraph/layers.py\", line 1144, in __getattr__\r\n    return object.__getattribute__(self, name)\r\nAttributeError: 'YOLOv8Head' object has no attribute '_initialize_biases'\r\n```\n\n### 复现环境 Environment\n\n- OS: ubuntu18.04\r\n- PaddleYOLO version: release/2.6\r\n- PaddleDetection version: release/2.6\r\n- paddlepaddle: 2.4.1\r\n- python: 3.7.5\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "Yi-sir",
        "closed_by": "nemonameless",
        "created_at": "2023-05-18T07:21:27+00:00",
        "updated_at": "2023-05-19T13:55:50+00:00",
        "closed_at": "2023-05-19T13:55:50+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 139,
        "title": "yolov5训练在自定义数据集上比原版收敛慢太多，可能是哪方面原因导致的呢？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n同样的数据集，同样的超参，paddle版的yolov5在自定义数据集上比原版收敛慢太多，可能是哪方面原因导致的呢？\r\n是否是预训练模型不同导致的？\r\n预训练模型是根据原yolo预训练模型转的还是paddle团队自己训练的呢？\r\n或者是其他什么原因导致的？",
        "state": "closed",
        "user": "hengyanchen",
        "closed_by": "nemonameless",
        "created_at": "2023-05-19T10:26:19+00:00",
        "updated_at": "2024-03-04T09:34:55+00:00",
        "closed_at": "2024-03-04T09:34:55+00:00",
        "comments_count": [
            "nemonameless",
            "Guiltytrees",
            "nemonameless",
            "hengyanchen",
            "hengyanchen",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 140,
        "title": "自定义数据集coco，用yolov5p6_l_300e_coco或者_x,_m等模型训练报错！",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n## 使用自定义coco数据集，BML CodeLab训练yolov5p6_l_300e_coco等报错！\r\n```\r\n报错出在../yolov5_loss.py\", line 237, in build_targets_paddle\r\n    gt_nums = targets['pad_gt_mask'].sum(1).squeeze(-1)\r\n```\r\n\r\n\r\nLAUNCH INFO 2023-05-21 00:45:08,423 ------------------------- ERROR LOG DETAIL -------------------------\r\nWarning: import ppdet from source directory without installing, run 'python setup.py install' to install ppdet firstly\r\nloading annotations into memory...\r\nDone (t=0.18s)\r\ncreating index...\r\nindex created!\r\n[05/21 00:44:56] ppdet.data.source.coco INFO: Load [166 samples valid, 0 samples invalid] in file dataset/coco/Annotations/train.json.\r\nW0521 00:44:57.043891  2118 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 11.2, Runtime API Version: 11.2\r\nW0521 00:44:57.053210  2118 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 188, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 184, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 137, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/aistudio/work/PaddleYOLO-develop/ppdet/engine/trainer.py\", line 424, in train\r\n    outputs = model(data)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/work/PaddleYOLO-develop/ppdet/modeling/architectures/meta_arch.py\", line 59, in forward\r\n    out = self.get_loss()\r\n  File \"/home/aistudio/work/PaddleYOLO-develop/ppdet/modeling/architectures/yolov5.py\", line 95, in get_loss\r\n    return self._forward()\r\n  File \"/home/aistudio/work/PaddleYOLO-develop/ppdet/modeling/architectures/yolov5.py\", line 77, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/work/PaddleYOLO-develop/ppdet/modeling/heads/yolov5_head.py\", line 132, in forward\r\n    return self.loss(yolo_outputs, targets, self.anchors)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/work/PaddleYOLO-develop/ppdet/modeling/losses/yolov5_loss.py\", line 202, in forward\r\n    anchors)\r\n  File \"/home/aistudio/work/PaddleYOLO-develop/ppdet/modeling/losses/yolov5_loss.py\", line 237, in build_targets_paddle\r\n    gt_nums = targets['pad_gt_mask'].sum(1).squeeze(-1)\r\nKeyError: 'pad_gt_mask'\r\nLAUNCH INFO 2023-05-21 00:45:08,423 Exit code 1\r\n\r\n\r\n### 复现环境 Environment\r\nOS: windos\r\nPaddlePaddle-gpu: 2.4.0.post112\r\nPaddleYolo: develop\r\nPython 3.7.0\r\nCUDA: 11.2\r\nCUDNN: 8.2\r\n",
        "state": "closed",
        "user": "Grubby-Wang",
        "closed_by": "nemonameless",
        "created_at": "2023-05-20T16:58:51+00:00",
        "updated_at": "2023-05-23T02:35:38+00:00",
        "closed_at": "2023-05-23T02:35:38+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 148,
        "title": "yolov7_L训练打电话数据准确率很低的问题",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.026\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.044\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.026\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.007\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.022\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.034\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.200\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.407\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.495\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.291\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.466\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.575\r\n[05/31 06:51:43] ppdet.engine INFO: Total sample number: 12362, average FPS: 41.24864364260208\r\n\r\nProcess finished with exit code 0\r\n\r\n训练检测打电话模型，10w数据训练，1w数据测试，正样本：负样本比列大概为1：3\r\n想问下准确率很低大概会发生在哪？",
        "state": "closed",
        "user": "Daniel-deng-yi",
        "closed_by": "nemonameless",
        "created_at": "2023-05-31T07:28:40+00:00",
        "updated_at": "2024-03-04T09:23:24+00:00",
        "closed_at": "2024-03-04T09:23:24+00:00",
        "comments_count": [
            "nemonameless",
            "Daniel-deng-yi",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 149,
        "title": "PCB_coco数据 训练报错",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n![Snip20230531_2](https://github.com/PaddlePaddle/PaddleYOLO/assets/7626261/5066fb65-e162-41b3-bc8d-27c4f81a0bc7)\r\n\r\n配置文件修改：\r\n![Snip20230531_4](https://github.com/PaddlePaddle/PaddleYOLO/assets/7626261/b2c5973e-0e7e-4ca6-892b-2a8bf417230d)\r\n\r\n因为报错，所以在358行代码中添加了打印\r\n![Snip20230531_3](https://github.com/PaddlePaddle/PaddleYOLO/assets/7626261/c2119885-003b-4a4f-8a70-b03d258d98fb)\r\n\r\n第一个batch有值，第二个batch就成了[]，好纳闷\r\n\r\n执行的命令:\r\n```\r\npython tools/train.py -c configs/yolov5u/yolov5up6_s_300e_coco.yml\r\n```\r\n\r\n-------------------------------------------\r\n有可能是我有遗漏，也许是本来就有bug。同样的数据集，换成\r\npython tools/train.py -c configs/ppyoloe/ppyoloe_plus_crn_s_80e_coco.yml 就可以执行训练\r\n",
        "state": "closed",
        "user": "hbo-lambda",
        "closed_by": "nemonameless",
        "created_at": "2023-05-31T07:53:23+00:00",
        "updated_at": "2024-03-04T09:32:18+00:00",
        "closed_at": "2024-03-04T09:32:17+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless",
            "hbo-lambda",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 150,
        "title": "YOLOv8提供的baseline模型下载链接失效？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nYOLOv8提供的baseline模型下载链接失效，无法下载\r\n顺便想问一下 想试试paddle的YOLO系列其他模型放进pphumanv2里是直接替换模型文件就可以吗",
        "state": "closed",
        "user": "ShiMinghao0208",
        "closed_by": "nemonameless",
        "created_at": "2023-06-01T06:27:16+00:00",
        "updated_at": "2024-03-04T09:03:30+00:00",
        "closed_at": "2024-03-04T09:03:29+00:00",
        "comments_count": [
            "nemonameless",
            "ShiMinghao0208",
            "ShiMinghao0208",
            "ShiMinghao0208",
            "ShiMinghao0208",
            "ShiMinghao0208",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 153,
        "title": "关于Yolov5s 的qat量化问题。我使用配置qat的方式进行训练是正常的，但是验证和推理时都有问题。",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n在YOLOv5s上，我使用官方配置的文档训练roadsign_voc数据集，能正常训练 验证 和推理。\r\n\r\n但是我想将 YOLOv5s 进行QAT量化。我也是使用配置文件 configs/slim/quant/yolov5_s_qat.yml\r\n\r\n配置如下：\r\n\r\npretrain_weights: output/yolov5_s_75e_roadsign_voc/best_model\r\nslim: QAT\r\nQAT:\r\n  quant_config: {\r\n    'weight_quantize_type': 'channel_wise_abs_max', 'activation_quantize_type': 'moving_average_abs_max',\r\n    'weight_bits': 8, 'activation_bits': 8, 'dtype': 'int8', 'window_size': 10000, 'moving_rate': 0.9,\r\n    'quantizable_layer_type': ['Conv2D', 'Linear']}\r\n  print_model: True\r\nepoch: 20\r\n\r\n\r\n基本上就是正常配置，量化卷积和激活。在训练的时候，还会正常显示精度，但是在我用 eval.py的时候验证有问题，在infer.py的时候，推理图片也会出错。\r\n\r\n\r\n请问我要如何量化yolov5s 这个模型呢？（用ptq量化后的精度也是直接都没了）\r\n",
        "state": "closed",
        "user": "sg-goldrush",
        "closed_by": "sg-goldrush",
        "created_at": "2023-06-08T08:34:03+00:00",
        "updated_at": "2023-06-12T01:44:16+00:00",
        "closed_at": "2023-06-12T01:44:16+00:00",
        "comments_count": [
            "nemonameless",
            "sg-goldrush"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 151,
        "title": "yolov8训练自己的数据集",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n我在训练自己的数据集的过程中进行了eval 给出的数据是这样的 精度为0是为什么呢\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/101607550/25cdff3a-d2d6-4eae-8331-7238270e1ca4)\r\n",
        "state": "closed",
        "user": "iyangiii",
        "closed_by": "nemonameless",
        "created_at": "2023-06-01T12:49:07+00:00",
        "updated_at": "2024-03-04T09:06:20+00:00",
        "closed_at": "2024-03-04T09:06:19+00:00",
        "comments_count": [
            "nemonameless",
            "iyangiii",
            "iyangiii",
            "nemonameless",
            "iyangiii",
            "LDX17",
            "thanhhuyenpt",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 157,
        "title": "请问如何在paddleDetection 中使用paddleYOLO中的yolov7？",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n我想在paddleDetection中测试yolov7的效果，根据文档说明，1）paddleYOLO是基于paddleDetection的；2）YOLOV7并不在paddleDetection中，那么我的理解是paddleDetection默认不包含yolov7相关的文件，但是我把paddleYOLO关于YOLOV7的文件拷过去应该能运行。不知道我的理解是否有问题？\r\n按照上面的理解，我的paddleDetection版本是2.6，将paddleYOLO develop版本下的configs/yolov7文件夹考到paddleDetection的configs文件夹，然后在命令行运行`python tools/train.py -c configs/yolov7/yolov7_l_300e_coco.yml`，会报错，提示\r\n_yaml.constructor.ConstructorError: could not determine a constructor for the tag '!YOLOv5LRDecay'\r\n  in \"configs/yolov7\\_base_/optimizer_300e.yml\", line 6, column 5_。\r\n请问是我的调用方式有问题吗？或者是否有其它说明文档或示例代码演示如何在paddleDetection中使用YOLOV7的？\r\n",
        "state": "closed",
        "user": "dcckAyou",
        "closed_by": "dcckAyou",
        "created_at": "2023-06-13T09:28:17+00:00",
        "updated_at": "2023-06-13T09:47:09+00:00",
        "closed_at": "2023-06-13T09:47:09+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 154,
        "title": "YOLOV8训练报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nYOLOV8训练报错如图，请问是啥原因？\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/66930694/c858f231-7f97-4388-97f0-7eb63c027c5d)\r\npaddle版本：paddle develop\r\npaddleyolo 2.6",
        "state": "closed",
        "user": "LDX17",
        "closed_by": "LDX17",
        "created_at": "2023-06-09T14:51:26+00:00",
        "updated_at": "2023-09-26T08:42:56+00:00",
        "closed_at": "2023-07-11T09:52:44+00:00",
        "comments_count": [
            "nemonameless",
            "sdreamforchen",
            "LorenzoSun-V",
            "LDX17"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 158,
        "title": "NotImplementedError: ProgramTranslator hasn't implemented multiple decorators. Please remove staticmethod in forward",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\ndef forward(self, x):\r\n            return self.act(self.bn(self.conv(x)))\r\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n\r\nNotImplementedError: ProgramTranslator hasn't implemented multiple decorators. Please remove staticmethod in forward",
        "state": "closed",
        "user": "STNPSG",
        "closed_by": "nemonameless",
        "created_at": "2023-06-13T10:21:51+00:00",
        "updated_at": "2024-03-04T08:53:26+00:00",
        "closed_at": "2024-03-04T08:53:26+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 161,
        "title": "数据增强MosaicPerspective 可能导致的多卡训练时的多线程bug ",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n我发现PaddleYOLO里的算法，只要用了MosaicPerspective数据增强(如yolov5,yolov7,yolov8) 单卡训练时正常，但换到多卡时有时候会报线程错误并强制退出。\r\n而不用MosaicPerspective数据增强(如ppyoloe,rtdetr) 单卡训练时正常，多卡也正常。\r\n大佬们修一下吧，好几个版本都这样。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/95759947/1fbd4f61-8112-4bf6-9483-34ea2c312750)\r\n当然也可能是我自己操作的问题，拜托大佬们-_^",
        "state": "open",
        "user": "MINGtoMING",
        "closed_by": null,
        "created_at": "2023-06-29T18:21:06+00:00",
        "updated_at": "2024-03-04T09:55:07+00:00",
        "closed_at": null,
        "comments_count": [
            "nemonameless",
            "MINGtoMING",
            "MINGtoMING",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 164,
        "title": "YOLOV8训练时loss为0",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\r\n\r\n\r\n### Bug组件 Bug Component\r\n\r\nTraining\r\n\r\n### Bug描述 Describe the Bug\r\n\r\n在paddleyolo中使用yolov8训练自定义数据集时，显示loss全为0，对保存的checkpoint进行推理无法推理出结果。同样的数据集在paddledetection的yolov3上可以顺利训练并推理。\r\n\r\n训练命令：\r\n```bash\r\npython3 tools/train.py -c ./configs/yolov8/yolov8_l_500e_domainR_RGB_coco.yml --use_vdl=true --vdl_log_dir=vdl_dir/yolov8_l_500e_domainR_RGB_coco/scalar\r\n```\r\n推理命令：\r\n```bash\r\npython3 tools/infer.py -c ./configs/yolov8/yolov8_l_500e_domainR_RGB_coco.yml --output_dir=./ --draw_threshold=0.0 --infer_img=./ceshi/input/rgb_0900.png -o weights=./output/yolov8_l_500e_domainR_RGB_coco/9.pdparams\r\n```\r\n\r\n配置文件：\r\n```bash\r\n_BASE_: [\r\n  '../datasets/coco_detection_domainR_RGB.yml',\r\n  '../runtime.yml',\r\n  '_base_/optimizer_500e_high.yml',\r\n  '_base_/yolov8_cspdarknet.yml',\r\n  '_base_/yolov8_reader_high_aug.yml',\r\n]\r\ndepth_mult: 1.0\r\nwidth_mult: 1.0\r\n\r\nlog_iter: 50\r\nsnapshot_epoch: 10\r\nweights: output/yolov8_l_500e_domainR_RGB_coco/model_final\r\n\r\n\r\nYOLOv8CSPDarkNet:\r\n  last_stage_ch: 512 # The actual channel is int(512 * width_mult), not int(1024 * width_mult) as in YOLOv5\r\n\r\n\r\nTrainReader:\r\n  batch_size: 8  # 16 # default 8 gpus, total bs = 128\r\n```\r\n\r\n\r\n```bash\r\n(paddle) kb@ar-gpu01:/data-r10/kb/Projects/SynDataGen/PaddleYOLO$ python3 tools/train.py -c ./configs/yolov8/yolov8_l_500e_domainR_RGB_coco.yml --use_vdl=true --vdl_log_dir=vdl_dir/yolov8_l_500e_domainR_RGB_coco/scalar\r\n/data-r10/kb/anaconda3/envs/paddle/lib/python3.8/site-packages/pkg_resources/__init__.py:121: DeprecationWarning: pkg_resources is deprecated as an API\r\n  warnings.warn(\"pkg_resources is deprecated as an API\", DeprecationWarning)\r\n/data-r10/kb/anaconda3/envs/paddle/lib/python3.8/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('mpl_toolkits')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/data-r10/kb/anaconda3/envs/paddle/lib/python3.8/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('google')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\nWarning: import ppdet from source directory without installing, run 'python setup.py install' to install ppdet firstly\r\nloading annotations into memory...\r\nDone (t=3.93s)\r\ncreating index...\r\nindex created!\r\n[07/07 16:50:19] ppdet.data.source.coco INFO: Load [900 samples valid, 0 samples invalid] in file /data-r10/kb/Projects/SynDataGen/datasets/domain_randomization_rgb_mps1/train.json.\r\nW0707 16:50:20.097818 25033 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 11.7, Runtime API Version: 11.2\r\nW0707 16:50:20.101763 25033 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\n[07/07 16:50:26] ppdet.engine INFO: Epoch: [0] [  0/113] eta: 2 days, 16:35:47 lr: 0.000000 loss: 478.704224 loss_cls: 478.704224 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 4.1159 data_cost: 1.6733 ips: 1.9437 images/s\r\n[07/07 16:51:08] ppdet.engine INFO: Epoch: [0] [ 50/113] eta: 13:29:23 lr: 0.000218 loss: 247.558243 loss_cls: 247.558243 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.7952 data_cost: 0.2914 ips: 10.0607 images/s\r\n[07/07 16:51:53] ppdet.engine INFO: Epoch: [0] [100/113] eta: 13:30:54 lr: 0.000870 loss: 1.999204 loss_cls: 1.999204 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8651 data_cost: 0.3560 ips: 9.2475 images/s\r\n[07/07 16:52:07] ppdet.engine INFO: Epoch: [1] [  0/113] eta: 13:46:36 lr: 0.001111 loss: 1.268529 loss_cls: 1.268529 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.9100 data_cost: 0.3909 ips: 8.7912 images/s\r\n[07/07 16:52:51] ppdet.engine INFO: Epoch: [1] [ 50/113] eta: 13:34:34 lr: 0.002312 loss: 0.301968 loss_cls: 0.301968 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8401 data_cost: 0.3263 ips: 9.5229 images/s\r\n[07/07 16:53:35] ppdet.engine INFO: Epoch: [1] [100/113] eta: 13:31:01 lr: 0.003948 loss: 0.102459 loss_cls: 0.102459 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8547 data_cost: 0.3380 ips: 9.3601 images/s\r\n[07/07 16:53:49] ppdet.engine INFO: Epoch: [2] [  0/113] eta: 13:39:27 lr: 0.004444 loss: 0.079679 loss_cls: 0.079679 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.9041 data_cost: 0.3965 ips: 8.8488 images/s\r\n[07/07 16:54:32] ppdet.engine INFO: Epoch: [2] [ 50/113] eta: 13:30:48 lr: 0.006629 loss: 0.042159 loss_cls: 0.042159 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8269 data_cost: 0.3053 ips: 9.6741 images/s\r\n[07/07 16:55:17] ppdet.engine INFO: Epoch: [2] [100/113] eta: 13:29:32 lr: 0.009248 loss: 0.012407 loss_cls: 0.012407 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8614 data_cost: 0.3499 ips: 9.2871 images/s\r\n[07/07 16:55:31] ppdet.engine INFO: Epoch: [3] [  0/113] eta: 13:34:04 lr: 0.010000 loss: 0.011372 loss_cls: 0.011372 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.9075 data_cost: 0.3917 ips: 8.8153 images/s\r\n[07/07 16:56:14] ppdet.engine INFO: Epoch: [3] [ 50/113] eta: 13:26:51 lr: 0.009946 loss: 0.004152 loss_cls: 0.004152 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8156 data_cost: 0.3029 ips: 9.8085 images/s\r\n[07/07 16:56:58] ppdet.engine INFO: Epoch: [3] [100/113] eta: 13:25:00 lr: 0.009946 loss: 0.001564 loss_cls: 0.001564 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8520 data_cost: 0.3256 ips: 9.3893 images/s\r\n[07/07 16:57:12] ppdet.engine INFO: Epoch: [4] [  0/113] eta: 13:27:49 lr: 0.009946 loss: 0.001540 loss_cls: 0.001540 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8985 data_cost: 0.3776 ips: 8.9034 images/s\r\n[07/07 16:57:55] ppdet.engine INFO: Epoch: [4] [ 50/113] eta: 13:24:32 lr: 0.009946 loss: 0.001526 loss_cls: 0.001526 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8372 data_cost: 0.3240 ips: 9.5555 images/s\r\n[07/07 16:58:40] ppdet.engine INFO: Epoch: [4] [100/113] eta: 13:22:30 lr: 0.009946 loss: 0.001526 loss_cls: 0.001526 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8464 data_cost: 0.3216 ips: 9.4520 images/s\r\n[07/07 16:58:55] ppdet.engine INFO: Epoch: [5] [  0/113] eta: 13:27:25 lr: 0.009928 loss: 0.001525 loss_cls: 0.001525 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.9087 data_cost: 0.3855 ips: 8.8035 images/s\r\n[07/07 16:59:38] ppdet.engine INFO: Epoch: [5] [ 50/113] eta: 13:24:35 lr: 0.009928 loss: 0.001523 loss_cls: 0.001523 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8382 data_cost: 0.3152 ips: 9.5445 images/s\r\n[07/07 17:00:23] ppdet.engine INFO: Epoch: [5] [100/113] eta: 13:23:55 lr: 0.009928 loss: 0.001500 loss_cls: 0.001500 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8646 data_cost: 0.3505 ips: 9.2525 images/s\r\n[07/07 17:00:36] ppdet.engine INFO: Epoch: [6] [  0/113] eta: 13:25:56 lr: 0.009910 loss: 0.001483 loss_cls: 0.001483 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.9161 data_cost: 0.4078 ips: 8.7323 images/s\r\n[07/07 17:01:20] ppdet.engine INFO: Epoch: [6] [ 50/113] eta: 13:23:23 lr: 0.009910 loss: 0.000978 loss_cls: 0.000978 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8377 data_cost: 0.3267 ips: 9.5498 images/s\r\n[07/07 17:02:03] ppdet.engine INFO: Epoch: [6] [100/113] eta: 13:20:28 lr: 0.009910 loss: 0.000144 loss_cls: 0.000144 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8274 data_cost: 0.3139 ips: 9.6688 images/s\r\n[07/07 17:02:17] ppdet.engine INFO: Epoch: [7] [  0/113] eta: 13:22:47 lr: 0.009892 loss: 0.000080 loss_cls: 0.000080 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8882 data_cost: 0.3785 ips: 9.0067 images/s\r\n[07/07 17:03:01] ppdet.engine INFO: Epoch: [7] [ 50/113] eta: 13:20:49 lr: 0.009892 loss: 0.000017 loss_cls: 0.000017 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8421 data_cost: 0.3204 ips: 9.5006 images/s\r\n[07/07 17:03:46] ppdet.engine INFO: Epoch: [7] [100/113] eta: 13:20:00 lr: 0.009892 loss: 0.000007 loss_cls: 0.000007 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8613 data_cost: 0.3310 ips: 9.2879 images/s\r\n[07/07 17:04:00] ppdet.engine INFO: Epoch: [8] [  0/113] eta: 13:21:21 lr: 0.009874 loss: 0.000005 loss_cls: 0.000005 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.9011 data_cost: 0.3771 ips: 8.8778 images/s\r\n[07/07 17:04:42] ppdet.engine INFO: Epoch: [8] [ 50/113] eta: 13:18:15 lr: 0.009874 loss: 0.000000 loss_cls: 0.000000 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8158 data_cost: 0.3034 ips: 9.8058 images/s\r\n[07/07 17:05:27] ppdet.engine INFO: Epoch: [8] [100/113] eta: 13:16:58 lr: 0.009874 loss: 0.000000 loss_cls: 0.000000 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8500 data_cost: 0.3314 ips: 9.4116 images/s\r\n[07/07 17:05:41] ppdet.engine INFO: Epoch: [9] [  0/113] eta: 13:18:17 lr: 0.009856 loss: 0.000000 loss_cls: 0.000000 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8904 data_cost: 0.3790 ips: 8.9844 images/s\r\n[07/07 17:06:24] ppdet.engine INFO: Epoch: [9] [ 50/113] eta: 13:16:09 lr: 0.009856 loss: 0.000000 loss_cls: 0.000000 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8305 data_cost: 0.3138 ips: 9.6330 images/s\r\n[07/07 17:07:09] ppdet.engine INFO: Epoch: [9] [100/113] eta: 13:14:56 lr: 0.009856 loss: 0.000000 loss_cls: 0.000000 loss_iou: 0.000000 loss_dfl: 0.000000 loss_l1: 0.000000 batch_cost: 0.8496 data_cost: 0.3301 ips: 9.4162 images/s\r\n```\r\n\r\n### 复现环境 Environment\r\n\r\ncudatoolkit               11.2.2              hbe64b41_10    conda-forge\r\ncudnn                     8.2.1.32             h86fa8c9_0    conda-forge\r\npaddlepaddle-gpu          2.4.2.post112            pypi_0    pypi\r\n\r\n\r\n### Bug描述确认 Bug description confirmation\r\n\r\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\r\n\r\n\r\n### 是否愿意提交PR？ Are you willing to submit a PR?\r\n\r\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "kaixin-bai",
        "closed_by": "kaixin-bai",
        "created_at": "2023-07-07T15:29:43+00:00",
        "updated_at": "2023-09-07T06:57:36+00:00",
        "closed_at": "2023-07-10T20:17:43+00:00",
        "comments_count": [
            "kaixin-bai",
            "nemonameless",
            "54wb",
            "54wb"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleDetection",
        "number": 8390,
        "title": "我想同时加载RGB图以及深度图，从而实现2D目标检测。请问如何实现？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n我想基于RT-DERT框架，同时加载RGB图以及深度图，并利用两个主干网络分别提取深层特征，从而实现更高精度的2D目标检测。请问如何实现？在数据集加载处理部分如何编写？是否可以提供一个实例？",
        "state": "closed",
        "user": "LYKlyk",
        "closed_by": "paddle-bot[bot]",
        "created_at": "2023-06-24T02:55:23+00:00",
        "updated_at": "2025-03-04T09:24:02+00:00",
        "closed_at": "2025-03-04T06:46:34+00:00",
        "comments_count": [
            "lyuwenyu",
            "paddle-bot[bot]"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 165,
        "title": "Aistudio  paddlepaddle2.5.0训练yolov8报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nAistudio  paddlepaddle2.5.0训练yolov8报错如下：\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/66930694/7010c020-6319-448e-9c87-22327f72dc36)\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/66930694/3ff1b5e7-67fd-4782-8534-3fcb8562fc52)\r\n环境：Aistudio  paddlepaddle2.5.0   paddleyolo2.6\r\n代码改动：\r\n1）yolov8_s_500e_coco-my.yml文件\r\n_BASE_: [\r\n  '../datasets/kitticoco_detection.yml',\r\n  '../runtime.yml',\r\n  '_base_/optimizer_500e.yml',\r\n  '_base_/yolov8_cspdarknet.yml',\r\n  '_base_/yolov8_reader.yml',\r\n]\r\ndepth_mult: 0.33\r\nwidth_mult: 0.50\r\n\r\n\r\nsave_dir: /home/aistudio/output\r\nprint_flops: true\r\nprint_params: true\r\nlog_iter: 50\r\nsnapshot_epoch: 10\r\nweights: /home/aistudio/output/yolov8_s_500e_coco-my/model_final\r\npretrain_weights: https://paddledet.bj.bcebos.com/models/yolov8_s_500e_coco.pdparams\r\n\r\nepoch: 200\r\n\r\nLearningRate:\r\n  base_lr: 0.00125\r\n  schedulers:\r\n  - !YOLOv5LRDecay\r\n    max_epochs: 200\r\n    min_lr_ratio: 0.01\r\n  - !ExpWarmup\r\n    epochs: 1\r\n\r\nTrainReader:\r\n  batch_size: 16 # default 8 gpus, total bs = 128\r\n\r\nmosaic_epoch: &mosaic_epoch 190 # last 10 epochs close mosaic, totally 500 epochs as default\r\n\r\n2）kitticoco_detection.yml文件\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/66930694/23f4ce40-631f-491e-aba6-c71f7ca3756d)\r\n\r\n运行命令：\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/66930694/055d5705-b551-47ea-8b20-3f6ecd393d3b)\r\n\r\n\r\n",
        "state": "closed",
        "user": "LDX17",
        "closed_by": "nemonameless",
        "created_at": "2023-07-08T08:52:58+00:00",
        "updated_at": "2024-03-04T08:48:39+00:00",
        "closed_at": "2024-03-04T08:48:39+00:00",
        "comments_count": [
            "nemonameless",
            "LDX17",
            "nemonameless",
            "LDX17",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleDetection",
        "number": 8462,
        "title": "跑RTDETR的SwingL模型，加了amp就会报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\n跑RTDETR的SwingL模型，加了amp就会报错，不加可以跑\r\nTraceback (most recent call last):\r\n  File \"tools/train.py\", line 198, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 194, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 147, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/data1/project/face_detection/train/paddle/PaddleYOLO/ppdet/engine/trainer.py\", line 431, in train\r\n    scaler.minimize(self.optimizer, scaled_loss)\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddle/amp/grad_scaler.py\", line 715, in minimize\r\n    return super().minimize(optimizer, *args, **kwargs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddle/amp/grad_scaler.py\", line 249, in minimize\r\n    optimize_ops, params_grads = optimizer.minimize(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddle/fluid/dygraph/base.py\", line 347, in _decorate_function\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddle/optimizer/optimizer.py\", line 1476, in minimize\r\n    params_grads = self.backward(\r\n  File \"/usr/local/lib/python3.8/dist-packages/paddle/optimizer/optimizer.py\", line 1132, in backward\r\n    grads = core.eager.get_all_grads(parameter_list)\r\nValueError: (InvalidArgument) argument (position 1) must be list of Tensor, but got dict at pos 0 (at ../paddle/fluid/pybind/eager_utils.cc:268)\n\n### 复现环境 Environment\n\npaddlepaddle: 2.5\r\npaddleYOLO: 2.6\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "leoxxxxxD",
        "closed_by": "leoxxxxxD",
        "created_at": "2023-07-21T02:45:54+00:00",
        "updated_at": "2023-07-24T03:17:23+00:00",
        "closed_at": "2023-07-24T03:17:23+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 168,
        "title": "训练yolo出现'Tensor.numpy()[0]' to 'float(Tensor)' 异常打印",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n报错如下：\r\nI0723 22:47:29.653092 43348 eager_method.cc:140] Warning:: 0D Tensor cannot be used as 'Tensor.numpy()[0]' . In order to avoid this problem, 0D Tensor will be changed to 1D numpy currently, but it's not correct and will be removed in release 2.6. For Tensor contain only one element, Please modify  'Tensor.numpy()[0]' to 'float(Tensor)' as soon as possible, otherwise 'Tensor.numpy()[0]' will raise error in release 2.6.\r\nI0723 22:47:29.653215 43348 eager_method.cc:140] Warning:: 0D Tensor cannot be used as 'Tensor.numpy()[0]' . In order to avoid this problem, 0D Tensor will be changed to 1D numpy currently, but it's not correct and will be removed in release 2.6. For Tensor contain only one element, Please modify  'Tensor.numpy()[0]' to 'float(Tensor)' as soon as possible, otherwise 'Tensor.numpy()[0]' will raise error in release 2.6.\r\nI0723 22:47:30.037526 43348 eager_method.cc:140] Warning:: 0D Tensor cannot be used as 'Tensor.numpy()[0]' . In order to avoid this problem, 0D Tensor will be changed to 1D numpy currently, but it's not correct and will be removed in release 2.6. For Tensor contain only one element, Please modify  'Tensor.numpy()[0]' to 'float(Tensor)' as soon as possible, otherwise 'Tensor.numpy()[0]' will raise error in release 2.6.\r\nI0723 22:47:30.037608 43348 eager_method.cc:140] Warning:: 0D Tensor cannot be used as 'Tensor.numpy()[0]' . In order to avoid this problem, 0D Tensor will be changed to 1D numpy currently, but it's not correct and will be removed in release 2.6. For Tensor contain only one element, Please modify  'Tensor.numpy()[0]' to 'float(Tensor)' as soon as possible, otherwise 'Tensor.numpy()[0]' will raise error in release 2.6.\r\nI0723 22:47:30.422574 43348 eager_method.cc:140] Warning:: 0D Tensor cannot be used as 'Tensor.numpy()[0]' . In order to avoid this problem, 0D Tensor will be changed to 1D numpy currently, but it's not correct and will be removed in release 2.6. For Tensor contain only one element, Please modify  'Tensor.numpy()[0]' to 'float(Tensor)' as soon as possible, otherwise 'Tensor.numpy()[0]' will raise error in release 2.6.\r\nI0723 22:47:30.422659 43348 eager_method.cc:140] Warning:: 0D Tensor cannot be used as 'Tensor.numpy()[0]' . In order to avoid this problem, 0D Tensor will be changed to 1D numpy currently, but it's not correct and will be removed in release 2.6. For Tensor contain only one element, Please modify  'Tensor.numpy()[0]' to 'float(Tensor)' as soon as possible, otherwise 'Tensor.numpy()[0]' will raise error in release 2.6.\r\n\r\n我的conda环境：\r\n------------------- ------------- --------------------------------------------------\r\naiohttp             3.8.4\r\naiosignal           1.3.1\r\nanyio               3.6.2\r\nastor               0.8.1\r\nasync-timeout       4.0.2\r\nattrs               23.1.0\r\nBabel               2.12.1\r\nbce-python-sdk      0.8.83\r\nbcrypt              4.0.1\r\nblinker             1.6.2\r\nBrotli              1.0.9\r\ncertifi             2023.5.7\r\ncffi                1.15.1\r\ncharset-normalizer  3.1.0\r\nclick               8.1.3\r\ncoloredlogs         15.0.1\r\ncontourpy           1.0.7\r\ncryptography        40.0.2\r\ncycler              0.11.0\r\nCython              0.29.34\r\ndecorator           5.1.1\r\nfastapi             0.95.1\r\nffmpy               0.3.0\r\nFlask               2.3.2\r\nflask-babel         3.1.0\r\nflatbuffers         23.3.3\r\nfonttools           4.39.4\r\nfrozenlist          1.3.3\r\nfsspec              2023.5.0\r\nfuture              0.18.3\r\ngevent              22.10.2\r\ngeventhttpclient    2.0.2\r\ngradio              3.11.0\r\ngreenlet            2.0.2\r\ngrpcio              1.54.0\r\nh11                 0.12.0\r\nhttpcore            0.15.0\r\nhttpx               0.24.0\r\nhumanfriendly       10.0\r\nidna                3.4\r\nimportlib-metadata  6.6.0\r\nimportlib-resources 5.12.0\r\nitsdangerous        2.1.2\r\nJinja2              3.1.2\r\nkiwisolver          1.4.4\r\nlinkify-it-py       2.0.2\r\nmarkdown-it-py      2.2.0\r\nMarkupSafe          2.1.2\r\nmatplotlib          3.7.1\r\nmdit-py-plugins     0.3.5\r\nmdurl               0.1.2\r\nmpmath              1.2.1\r\nmultidict           6.0.4\r\nnumpy               1.24.4\r\nonnx                1.14.0\r\nonnxruntime         1.14.1\r\nopencv-python       4.7.0.72\r\nopt-einsum          3.3.0\r\norjson              3.8.12\r\npackaging           23.1\r\npaddle-bfloat       0.1.7\r\npaddle2onnx         1.0.6\r\npaddlepaddle-gpu    2.5.0.post116\r\npandas              2.0.1\r\nparamiko            3.1.0\r\nPillow              9.5.0\r\npip                 23.2.1\r\nprotobuf            3.20.3\r\npsutil              5.9.5\r\npycocotools         2.0.6\r\npycparser           2.21\r\npycryptodome        3.17\r\npydantic            1.10.7\r\npydub               0.25.1\r\nPyNaCl              1.5.0\r\npyparsing           3.0.9\r\npython-dateutil     2.8.2\r\npython-multipart    0.0.6\r\npython-rapidjson    1.10\r\npytz                2023.3\r\nPyYAML              6.0\r\nrarfile             4.0\r\nrequests            2.30.0\r\nscipy               1.10.1\r\nsetuptools          67.8.0\r\nshapely             2.0.1\r\nsix                 1.16.0\r\nsniffio             1.3.0\r\nstarlette           0.26.1\r\nsympy               1.11.1\r\ntensorrt            8.4.2.4\r\nterminaltables      3.1.10\r\ntqdm                4.65.0\r\ntritonclient        2.33.0\r\ntypeguard           3.0.2\r\ntyping_extensions   4.5.0\r\ntzdata              2023.3\r\nuc-micro-py         1.0.2\r\nurllib3             2.0.2\r\nuvicorn             0.22.0\r\nvisualdl            2.5.2\r\nwebsockets          11.0.3\r\nWerkzeug            2.3.4\r\nwheel               0.38.4\r\nx2paddle            1.4.1\r\nyarl                1.9.2\r\nyolox               0.3.0         /home/ubuntu/lingpu/TensorRT-For-YOLO-Series/YOLOX\r\nzipp                3.15.0\r\nzope.event          4.6\r\nzope.interface      6.0\r\n我的cuda环境：\r\n\r\ncuda11.6 cudnn8.6  python3.8\r\n",
        "state": "closed",
        "user": "jia0511",
        "closed_by": "jia0511",
        "created_at": "2023-07-23T14:49:27+00:00",
        "updated_at": "2023-07-23T23:30:39+00:00",
        "closed_at": "2023-07-23T23:30:39+00:00",
        "comments_count": [
            "nemonameless",
            "jia0511"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 171,
        "title": "YOLOv6怎么将网络融合",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n我用convert_to_deploy()融合RepConv输出结果不对",
        "state": "closed",
        "user": "Ywenjun123",
        "closed_by": "nemonameless",
        "created_at": "2023-07-24T08:55:47+00:00",
        "updated_at": "2024-03-04T09:26:04+00:00",
        "closed_at": "2024-03-04T09:26:04+00:00",
        "comments_count": [
            "nemonameless",
            "Ywenjun123",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 170,
        "title": "模型推理和导出时报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n训练正常，训练后单张推理图片如下：\r\npython tools/infer.py -c configs/custom/yolov5_s_100e_coco_zhatuche.yml -o weights=output/yolov5_s_100e_coco_zhatuche/model_final.pdparams --infer_img=test0626/5.jpg --save_results True\r\n导出模型推理如下：\r\npython tools/export_model.py -c configs/custom/yolov5_s_100e_coco_zhatuche.yml --output_dir=inference_model -o weights=output/yolov5_s_100e_coco_zhatuche/model_final.pdparams\r\n\r\n报错信息如下：\r\nTraceback (most recent call last):\r\n  File \"tools/export_model.py\", line 107, in <module>\r\n    main()\r\n  File \"tools/export_model.py\", line 103, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/export_model.py\", line 64, in run\r\n    trainer = Trainer(cfg, mode='test')\r\n  File \"/home/ubuntu/data1/PaddleYOLO/ppdet/engine/trainer.py\", line 83, in __init__\r\n    self.dataset = self.cfg['{}Dataset'.format(capital_mode)] = create(\r\n  File \"/home/ubuntu/data1/PaddleYOLO/ppdet/core/workspace.py\", line 292, in create\r\n    return cls(**cls_kwargs)\r\n  File \"/home/ubuntu/data1/PaddleYOLO/ppdet/data/source/dataset.py\", line 278, in __init__\r\n    type = dataset_args.pop(\"name\")\r\nKeyError: 'name'\r\n",
        "state": "closed",
        "user": "jia0511",
        "closed_by": "jia0511",
        "created_at": "2023-07-24T06:44:00+00:00",
        "updated_at": "2023-07-26T11:51:29+00:00",
        "closed_at": "2023-07-26T11:51:29+00:00",
        "comments_count": [
            "nemonameless",
            "jia0511",
            "jia0511"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 173,
        "title": "yolov6不支持训练吗",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nyolov6不支持训练吗 ",
        "state": "closed",
        "user": "WainBK",
        "closed_by": "nemonameless",
        "created_at": "2023-07-25T09:54:55+00:00",
        "updated_at": "2024-03-04T08:51:38+00:00",
        "closed_at": "2024-03-04T08:51:38+00:00",
        "comments_count": [
            "nemonameless",
            "WainBK",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 174,
        "title": "你好，我在浮现您的代码时候，出现了下面这个问题，可以帮忙解答一下吗",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n  File \"/media/server/li/Code/lg/PaddleYOLO-release-2.6/PaddleYOLO-release-2.6/tools/train.py\", line 147, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/media/server/li/Code/lg/PaddleYOLO-release-2.6/PaddleYOLO-release-2.6/ppdet/engine/trainer.py\", line 373, in train\r\n    for step_id, data in enumerate(self.loader):\r\n  File \"/media/server/li/Code/lg/PaddleYOLO-release-2.6/PaddleYOLO-release-2.6/ppdet/data/reader.py\", line 214, in __next__\r\n    return next(self.loader)\r\n  File \"/home/server/conda/envs/paddleyolo/lib/python3.7/site-packages/paddle/io/dataloader/dataloader_iter.py\", line 825, in __next__\r\n    self._reader.read_next_list()[0]\r\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\r\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at ../paddle/fluid/operators/reader/blocking_queue.h:175)",
        "state": "closed",
        "user": "WainBK",
        "closed_by": "nemonameless",
        "created_at": "2023-07-25T12:10:24+00:00",
        "updated_at": "2024-03-04T09:41:27+00:00",
        "closed_at": "2024-03-04T09:41:27+00:00",
        "comments_count": [
            "nemonameless",
            "WainBK"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 180,
        "title": "你好，大佬，我下载了看您发布的v20好像没有yolov6lite ",
        "body": "### 问题描述 Please describe your issue\n\nRTMdet trainning not supported yet",
        "state": "closed",
        "user": "WainBK",
        "closed_by": "nemonameless",
        "created_at": "2023-07-27T13:26:51+00:00",
        "updated_at": "2024-03-04T08:46:00+00:00",
        "closed_at": "2024-03-04T08:46:00+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 179,
        "title": "hello  YOLOv6 training not supported yet.",
        "body": "### 问题描述 Please describe your issue\n\nTraceback (most recent call last):\r\n  File \"/media/server/li/Code/lg/PaddleYOLO-release-2.6/PaddleYOLO-release-2.6/tools/train.py\", line 198, in <module>\r\n    main()\r\n  File \"/media/server/li/Code/lg/PaddleYOLO-release-2.6/PaddleYOLO-release-2.6/tools/train.py\", line 194, in main\r\n    run(FLAGS, cfg)\r\n  File \"/media/server/li/Code/lg/PaddleYOLO-release-2.6/PaddleYOLO-release-2.6/tools/train.py\", line 138, in run\r\n    trainer = Trainer(cfg, mode='train')\r\n  File \"/media/server/li/Code/lg/PaddleYOLO-release-2.6/PaddleYOLO-release-2.6/ppdet/engine/trainer.py\", line 76, in __init__\r\n    self.cfg.architecture))\r\nNotImplementedError: YOLOv6 training not supported yet.\r\n",
        "state": "closed",
        "user": "WainBK",
        "closed_by": "nemonameless",
        "created_at": "2023-07-27T12:48:23+00:00",
        "updated_at": "2024-03-04T08:46:25+00:00",
        "closed_at": "2024-03-04T08:46:25+00:00",
        "comments_count": [
            "nemonameless",
            "WainBK"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 182,
        "title": "onnx trt测速问题",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n请问说明文档里ppyoloe-s的trt-fp16的耗时是2.9ms，是什么样的环境测试出来的。\r\n我自己按照流程，使用onnx trt测速，测试了很多次，出来的耗时都是3.4ms\r\n\r\ntrtexec --onnx=onnxfiles/convert/ppyoloe_crn_s_300e_coco.onnx --saveEngine=onnxfiles/convert/ppyoloe_s_bs1.engine --workspace=4096 --avgRuns=1000 --shapes=image:1x3x640x640,scale_factor:1x2 --fp16\r\n\r\n我自己本地的环境配置：\r\nGPU：T4\r\nCUDA：11.2\r\nCuDNN：8.2.0\r\npaddle：2.3.2\r\nTensorRT：8.0.3.4",
        "state": "closed",
        "user": "laonazzzzz",
        "closed_by": "nemonameless",
        "created_at": "2023-08-03T02:04:53+00:00",
        "updated_at": "2024-03-04T09:41:19+00:00",
        "closed_at": "2024-03-04T09:41:19+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 183,
        "title": "文档链接失效",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n1.自定义数据集的标注制作，请参考[DetAnnoTools](https://github.com/PaddlePaddle/PaddleYOLO/blob/release/2.6/tutorials/data/DetAnnoTools.md);\r\n\r\n2.自定义数据集的训练准备，请参考[PrepareDataSet](https://github.com/PaddlePaddle/PaddleYOLO/blob/release/2.6/tutorials/PrepareDataSet.md)。\r\n以上\r\n\r\nhttps://github.com/PaddlePaddle/PaddleYOLO/blob/release/2.6/docs/MODEL_ZOO_cn.md#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E9%9B%86",
        "state": "closed",
        "user": "jia0511",
        "closed_by": "nemonameless",
        "created_at": "2023-08-09T00:10:20+00:00",
        "updated_at": "2024-02-29T07:39:39+00:00",
        "closed_at": "2024-02-29T07:39:39+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 187,
        "title": "yolov5u infer出错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\npython tools/infer.py -c configs/yolov5u/yolov5u_n_300e_coco.yml  -o weights=output/yolov5u_n_300e_coco/69.pdparams  --infer_img=./demo/2.jpg                 \r\nW0908 20:41:52.889870 31864 gpu_resources.cc:119] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 12.2, Runtime API Version: 11.8\r\nW0908 20:41:52.894870 31864 gpu_resources.cc:149] device: 0, cuDNN Version: 8.6.\r\n[09/08 20:41:54] ppdet.utils.checkpoint INFO: Finish loading model weights: output/yolov5u_n_300e_coco/69.pdparams\r\nloading annotations into memory...\r\nDone (t=0.04s)\r\ncreating index...\r\nindex created!\r\n[09/08 20:41:55] ppdet.engine INFO: Test loader length is 1, test batch_size is 1.\r\n[09/08 20:41:55] ppdet.engine INFO: Starting predicting ......\r\n\r\n  0%|                                                                                                                                                          | 0/1 [00:02<?, ?it/s] \r\nTraceback (most recent call last):\r\n  File \"E:\\play\\DNF\\yolov8\\PaddleYOLO-develop\\tools\\infer.py\", line 236, in <module>\r\n    main()\r\n  File \"E:\\play\\DNF\\yolov8\\PaddleYOLO-develop\\tools\\infer.py\", line 232, in main\r\n    run(FLAGS, cfg)\r\n  File \"E:\\play\\DNF\\yolov8\\PaddleYOLO-develop\\tools\\infer.py\", line 182, in run\r\n    trainer.predict(\r\n  File \"E:\\play\\DNF\\yolov8\\PaddleYOLO-develop\\ppdet\\engine\\trainer.py\", line 890, in predict\r\n    outs = self.model(data)\r\n  File \"e:\\anaconda3\\envs\\ppdet\\lib\\site-packages\\paddle\\nn\\layer\\layers.py\", line 1254, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"E:\\play\\DNF\\yolov8\\PaddleYOLO-develop\\ppdet\\modeling\\architectures\\meta_arch.py\", line 76, in forward\r\n    outs.append(self.get_pred())\r\n  File \"E:\\play\\DNF\\yolov8\\PaddleYOLO-develop\\ppdet\\modeling\\architectures\\yolov5.py\", line 96, in get_pred\r\n    return self._forward()\r\n  File \"E:\\play\\DNF\\yolov8\\PaddleYOLO-develop\\ppdet\\modeling\\architectures\\yolov5.py\", line 81, in _forward\r\n    post_outs = self.yolo_head.post_process(yolo_head_outs, self.inputs)\r\nTypeError: YOLOv8Head.post_process() missing 1 required positional argument: 'scale_factor'\n\n### 复现环境 Environment\n\nwindows\r\npython=3.10\r\n\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "1340896123",
        "closed_by": "nemonameless",
        "created_at": "2023-09-08T12:48:16+00:00",
        "updated_at": "2023-10-07T07:39:06+00:00",
        "closed_at": "2023-10-07T07:39:06+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 188,
        "title": "多卡训练卡住不继续运行",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\n在进行多卡训练时，卡在`W0913 14:56:13.162582 18935 gpu_resources.cc:149] device: 0, cuDNN Version: 8.8.`之后就没有新的打印信息了，也不会继续运行。\r\n\r\n训练命令：\r\n```bash\r\n(paddleseg) kb@gpu01:/data-r10/kb/Projects/PaddleYOLO$ python -m paddle.distributed.launch --log_dir=./log_vima_dir --gpus 0,1,2,3,4,5,6,7 tools/train.py -c ./configs/yolov5/yolov5_s_80e_ssod_finetune_vima_coco.yml --eval --amp --use_vdl=True --vdl_log_dir=vdl_vima_dir/scalar\r\n```\r\n\r\n打印信息：\r\n```bash\r\nLAUNCH INFO 2023-09-13 14:56:09,577 -----------  Configuration  ----------------------\r\nLAUNCH INFO 2023-09-13 14:56:09,577 auto_parallel_config: None\r\nLAUNCH INFO 2023-09-13 14:56:09,577 devices: 0,1,2,3,4,5,6,7\r\nLAUNCH INFO 2023-09-13 14:56:09,577 elastic_level: -1\r\nLAUNCH INFO 2023-09-13 14:56:09,577 elastic_timeout: 30\r\nLAUNCH INFO 2023-09-13 14:56:09,577 gloo_port: 6767\r\nLAUNCH INFO 2023-09-13 14:56:09,577 host: None\r\nLAUNCH INFO 2023-09-13 14:56:09,577 ips: None\r\nLAUNCH INFO 2023-09-13 14:56:09,577 job_id: default\r\nLAUNCH INFO 2023-09-13 14:56:09,577 legacy: False\r\nLAUNCH INFO 2023-09-13 14:56:09,577 log_dir: ./log_vima_dir\r\nLAUNCH INFO 2023-09-13 14:56:09,577 log_level: INFO\r\nLAUNCH INFO 2023-09-13 14:56:09,577 log_overwrite: False\r\nLAUNCH INFO 2023-09-13 14:56:09,577 master: None\r\nLAUNCH INFO 2023-09-13 14:56:09,577 max_restart: 3\r\nLAUNCH INFO 2023-09-13 14:56:09,577 nnodes: 1\r\nLAUNCH INFO 2023-09-13 14:56:09,577 nproc_per_node: None\r\nLAUNCH INFO 2023-09-13 14:56:09,577 rank: -1\r\nLAUNCH INFO 2023-09-13 14:56:09,577 run_mode: collective\r\nLAUNCH INFO 2023-09-13 14:56:09,577 server_num: None\r\nLAUNCH INFO 2023-09-13 14:56:09,577 servers: \r\nLAUNCH INFO 2023-09-13 14:56:09,578 start_port: 6070\r\nLAUNCH INFO 2023-09-13 14:56:09,578 trainer_num: None\r\nLAUNCH INFO 2023-09-13 14:56:09,578 trainers: \r\nLAUNCH INFO 2023-09-13 14:56:09,578 training_script: tools/train.py\r\nLAUNCH INFO 2023-09-13 14:56:09,578 training_script_args: ['-c', './configs/yolov5/yolov5_s_80e_ssod_finetune_vima_coco.yml', '--eval', '--amp', '--use_vdl=True', '--vdl_log_dir=vdl_vima_dir/scalar']\r\nLAUNCH INFO 2023-09-13 14:56:09,578 with_gloo: 1\r\nLAUNCH INFO 2023-09-13 14:56:09,578 --------------------------------------------------\r\nLAUNCH INFO 2023-09-13 14:56:09,579 Job: default, mode collective, replicas 1[1:1], elastic False\r\nLAUNCH INFO 2023-09-13 14:56:09,590 Run Pod: rqvwxn, replicas 8, status ready\r\nLAUNCH INFO 2023-09-13 14:56:09,744 Watching Pod: rqvwxn, replicas 8, status running\r\nWarning: import ppdet from source directory without installing, run 'python setup.py install' to install ppdet firstly\r\n======================= Modified FLAGS detected =======================\r\nFLAGS(name='FLAGS_selected_gpus', current_value='0', default_value='')\r\n=======================================================================\r\nI0913 14:56:11.313481 18935 tcp_utils.cc:181] The server starts to listen on IP_ANY:41751\r\nI0913 14:56:11.313777 18935 tcp_utils.cc:130] Successfully connected to 10.3.15.202:41751\r\nW0913 14:56:13.161374 18935 gpu_resources.cc:96] The GPU architecture in your current machine is Pascal, which is not compatible with Paddle installation with arch: 70 75 80 86 , it is recommended to install the corresponding wheel package according to the installation information on the official Paddle website.\r\nW0913 14:56:13.161420 18935 gpu_resources.cc:119] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 11.7, Runtime API Version: 11.7\r\nW0913 14:56:13.162582 18935 gpu_resources.cc:149] device: 0, cuDNN Version: 8.8.\r\n\r\n```\r\n\r\nGPU信息：\r\n```bash\r\nWed Sep 13 15:01:54 2023       \r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 515.86.01    Driver Version: 515.86.01    CUDA Version: 11.7     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|                               |                      |               MIG M. |\r\n|===============================+======================+======================|\r\n|   0  NVIDIA GeForce ...  Off  | 00000000:1A:00.0 Off |                  N/A |\r\n| 34%   60C    P2    79W / 250W |    205MiB / 11264MiB |    100%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n|   1  NVIDIA GeForce ...  Off  | 00000000:1B:00.0 Off |                  N/A |\r\n| 36%   63C    P2    75W / 250W |    205MiB / 11264MiB |    100%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n|   2  NVIDIA GeForce ...  Off  | 00000000:3D:00.0 Off |                  N/A |\r\n| 29%   52C    P2    73W / 250W |    205MiB / 11264MiB |    100%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n|   3  NVIDIA GeForce ...  Off  | 00000000:3E:00.0 Off |                  N/A |\r\n| 33%   59C    P2    79W / 250W |    205MiB / 11264MiB |    100%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n|   4  NVIDIA GeForce ...  Off  | 00000000:88:00.0 Off |                  N/A |\r\n| 31%   55C    P2    82W / 250W |    205MiB / 11264MiB |    100%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n|   5  NVIDIA GeForce ...  Off  | 00000000:89:00.0 Off |                  N/A |\r\n| 37%   64C    P2    79W / 250W |    205MiB / 11264MiB |    100%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n|   6  NVIDIA GeForce ...  Off  | 00000000:B1:00.0 Off |                  N/A |\r\n| 31%   55C    P2    77W / 250W |    205MiB / 11264MiB |    100%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n|   7  NVIDIA GeForce ...  Off  | 00000000:B2:00.0 Off |                  N/A |\r\n| 32%   57C    P2    75W / 250W |    205MiB / 11264MiB |    100%      Default |\r\n|                               |                      |                  N/A |\r\n+-------------------------------+----------------------+----------------------+\r\n                                                                               \r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                                  |\r\n|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\r\n|        ID   ID                                                   Usage      |\r\n|=============================================================================|\r\n|    0   N/A  N/A     18935      C   ...envs/paddleseg/bin/python      203MiB |\r\n|    1   N/A  N/A     18937      C   ...envs/paddleseg/bin/python      203MiB |\r\n|    2   N/A  N/A     18939      C   ...envs/paddleseg/bin/python      203MiB |\r\n|    3   N/A  N/A     18941      C   ...envs/paddleseg/bin/python      203MiB |\r\n|    4   N/A  N/A     18946      C   ...envs/paddleseg/bin/python      203MiB |\r\n|    5   N/A  N/A     18948      C   ...envs/paddleseg/bin/python      203MiB |\r\n|    6   N/A  N/A     18954      C   ...envs/paddleseg/bin/python      203MiB |\r\n|    7   N/A  N/A     18957      C   ...envs/paddleseg/bin/python      203MiB |\r\n+-----------------------------------------------------------------------------+\r\n\r\n```\r\n\r\n使用`htop`查看CPU的使用情况，固定的几个核心飙升到100%不下降。\r\n\r\n\n\n### 复现环境 Environment\n\npaddlepaddle-gpu          2.5.1.post117            pypi_0    pypi\r\ncudatoolkit               11.7.0              hd8887f6_10    nvidia\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "kaixin-bai",
        "closed_by": "nemonameless",
        "created_at": "2023-09-13T13:03:31+00:00",
        "updated_at": "2024-03-04T09:49:36+00:00",
        "closed_at": "2024-03-04T09:49:36+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 159,
        "title": "tt100k yolov5up6 训练报错",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\nubuntu 20.04\r\npaddle 2.4.2\r\nnvidia 单卡 v100 32G\r\n\r\n执行命令：\r\n```\r\npython tools/train.py -c configs/yolov5u/yolov5up6_s_300e_coco.yml --eval --amp\r\n```\r\n调整了数据集的样本数量，使用roadsign_voc，样本数量少于32的时候会报错。所以自己选取原样本中35个样本去测试，我的标签数量是250个，抽取的样本尺寸是2048*2048。yolov5up6_s_300e_coco.yml 相关的配置，除了数据集路径外，其他没做改动。抽取的样本如链接: https://pan.baidu.com/s/1TvUUjSGGShppZAnewPURPA?pwd=cnen 提取码: cnen \r\n\r\n报错如下：\r\n![Snip20230615_5](https://github.com/PaddlePaddle/PaddleYOLO/assets/7626261/7954af3d-d299-4538-8109-f947ec41fbee)\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "open",
        "user": "hbo-lambda",
        "closed_by": null,
        "created_at": "2023-06-15T03:07:15+00:00",
        "updated_at": "2024-03-04T08:50:21+00:00",
        "closed_at": null,
        "comments_count": [
            "nemonameless",
            "mutouoa",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 169,
        "title": "跑RTDETR的SwingL模型，加了amp就会报错，报错信息如下（才发现我提到paddledetection那边去了>_<）",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\n跑RTDETR的SwingL模型，加了amp就会报错，不加可以跑\r\nTraceback (most recent call last):\r\nFile \"tools/train.py\", line 198, in\r\nmain()\r\nFile \"tools/train.py\", line 194, in main\r\nrun(FLAGS, cfg)\r\nFile \"tools/train.py\", line 147, in run\r\ntrainer.train(FLAGS.eval)\r\nFile \"PaddleYOLO/ppdet/engine/trainer.py\", line 431, in train\r\nscaler.minimize(self.optimizer, scaled_loss)\r\nFile \"/usr/local/lib/python3.8/dist-packages/paddle/amp/grad_scaler.py\", line 715, in minimize\r\nreturn super().minimize(optimizer, *args, **kwargs)\r\nFile \"/usr/local/lib/python3.8/dist-packages/paddle/amp/grad_scaler.py\", line 249, in minimize\r\noptimize_ops, params_grads = optimizer.minimize(*args, **kwargs)\r\nFile \"/usr/local/lib/python3.8/dist-packages/decorator.py\", line 232, in fun\r\nreturn caller(func, *(extras + args), **kw)\r\nFile \"/usr/local/lib/python3.8/dist-packages/paddle/fluid/dygraph/base.py\", line 347, in _decorate_function\r\nreturn func(*args, **kwargs)\r\nFile \"/usr/local/lib/python3.8/dist-packages/paddle/optimizer/optimizer.py\", line 1476, in minimize\r\nparams_grads = self.backward(\r\nFile \"/usr/local/lib/python3.8/dist-packages/paddle/optimizer/optimizer.py\", line 1132, in backward\r\ngrads = core.eager.get_all_grads(parameter_list)\r\nValueError: (InvalidArgument) argument (position 1) must be list of Tensor, but got dict at pos 0 (at ../paddle/fluid/pybind/eager_utils.cc:268)\n\n### 复现环境 Environment\n\npaddlepaddle: 2.5\r\npaddleYOLO: 拉的0720那天的最新版\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "leoxxxxxD",
        "closed_by": "nemonameless",
        "created_at": "2023-07-24T03:16:46+00:00",
        "updated_at": "2024-03-04T09:11:55+00:00",
        "closed_at": "2024-03-04T09:11:55+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 178,
        "title": "四卡环境下，使用yolov7_l训练voc数据集的时候，GPU占用100%，会卡住，无法继续训练。没有改动任何代码",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nTraining\n\n### Bug描述 Describe the Bug\n\n没有进行任何代码上的改动\n\n### 复现环境 Environment\n\n使用飞桨训练平台训练，四卡\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "PHuiC",
        "closed_by": "nemonameless",
        "created_at": "2023-07-26T10:43:38+00:00",
        "updated_at": "2024-03-04T09:37:22+00:00",
        "closed_at": "2024-03-04T09:37:22+00:00",
        "comments_count": [
            "nemonameless",
            "PHuiC",
            "kingqiuol",
            "kaixin-bai",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 166,
        "title": "YOLOv8m训练自己的数据集，几个epoch后loss变0。3090ti，单卡，调整了学习率，取消了mosaic增强。",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n<img width=\"944\" alt=\"截屏2023-07-12 10 04 47\" src=\"https://github.com/PaddlePaddle/PaddleYOLO/assets/49087498/07640f57-0fc6-44fb-9fba-9c0d58c6b704\">\r\n<img width=\"527\" alt=\"截屏2023-07-12 10 06 56\" src=\"https://github.com/PaddlePaddle/PaddleYOLO/assets/49087498/85c2f4a7-974d-45f5-bd1f-7fbac80d1130\">\r\n<img width=\"1205\" alt=\"截屏2023-07-12 10 09 38\" src=\"https://github.com/PaddlePaddle/PaddleYOLO/assets/49087498/2d7071d6-4186-43ad-a77c-00ffe1a45a7d\">\r\n",
        "state": "open",
        "user": "HardHat-Det",
        "closed_by": null,
        "created_at": "2023-07-12T02:14:56+00:00",
        "updated_at": "2024-03-04T09:53:40+00:00",
        "closed_at": null,
        "comments_count": [
            "HardHat-Det",
            "nemonameless",
            "LDX17",
            "nemonameless",
            "sdreamforchen",
            "nemonameless",
            "sdreamforchen",
            "sdreamforchen",
            "HardHat-Det",
            "HardHat-Det",
            "sdreamforchen",
            "54wb",
            "sdreamforchen",
            "54wb",
            "sdreamforchen",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 172,
        "title": "YOLOv5能否加入实例分割分支",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n官方YOLOv5支持实例分割分支，请问paddle版本能否加入这一分支？https://github.com/ultralytics/yolov5\r\n![Snipaste_2023-07-24_17-39-03](https://github.com/PaddlePaddle/PaddleYOLO/assets/31379701/f19aea5e-32ff-4007-a349-093da6d24357)\r\n\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "DreamMaker777",
        "closed_by": "nemonameless",
        "created_at": "2023-07-24T09:41:10+00:00",
        "updated_at": "2024-03-04T08:45:39+00:00",
        "closed_at": "2024-03-04T08:45:38+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 189,
        "title": "PaddleYOLOv8是否支持关键点检测",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n能否用PaddleYOLOv8进行关键点检测类型的训练与部署",
        "state": "closed",
        "user": "Zaughter",
        "closed_by": "nemonameless",
        "created_at": "2023-09-14T03:21:29+00:00",
        "updated_at": "2024-02-29T07:48:49+00:00",
        "closed_at": "2024-02-29T07:48:49+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 181,
        "title": "VOC2007数据集训练yoloV8 MAP值很低",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n您好，我在使用VOC2007数据集进行训练yoloV8时，发现最终mAP(0.50, 11point) = 7.76%。我的配置文件如下：\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/24957256/0133b23a-1b6b-4667-9a81-4587f8d39165)\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/24957256/fcce4ce2-6972-47c2-8d98-c0e434aeeeab)\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/24957256/7541fc19-f839-44c0-a720-600b1867139a)\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/24957256/98fb2c1a-d8c2-410a-ad7f-2a09e901b21b)\r\n",
        "state": "closed",
        "user": "RoderickSYSZ",
        "closed_by": "nemonameless",
        "created_at": "2023-07-28T09:03:38+00:00",
        "updated_at": "2024-02-26T08:58:51+00:00",
        "closed_at": "2024-02-26T08:58:51+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 184,
        "title": "ins_seg分支可用吗",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n目前PaddleYOLO ins_seg分支可用吗？  我看配置中还没有预训练模型",
        "state": "closed",
        "user": "panp4n",
        "closed_by": "nemonameless",
        "created_at": "2023-08-18T08:26:24+00:00",
        "updated_at": "2024-03-04T08:47:01+00:00",
        "closed_at": "2024-03-04T08:47:00+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 163,
        "title": "去掉DFL后，loss正常，eval精度20epoch一直为0",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\r\n\r\n\r\n### 需求描述 Feature Description\r\n\r\n```\r\n# Copyright (c) 2023 PaddlePaddle Authors. All Rights Reserved.\r\n#\r\n# Licensed under the Apache License, Version 2.0 (the \"License\");\r\n# you may not use this file except in compliance with the License.\r\n# You may obtain a copy of the License at\r\n#\r\n#     http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing, software\r\n# distributed under the License is distributed on an \"AS IS\" BASIS,\r\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n# See the License for the specific language governing permissions and\r\n# limitations under the License.\r\n\r\nimport math\r\nimport paddle\r\nimport paddle.nn as nn\r\nimport paddle.nn.functional as F\r\nfrom paddle import ParamAttr\r\nfrom paddle.regularizer import L2Decay\r\nfrom ..initializer import constant_\r\nfrom ppdet.core.workspace import register\r\n\r\nfrom ..bbox_utils import batch_distance2bbox\r\nfrom ..bbox_utils import bbox_iou\r\nfrom ..assigners.utils import generate_anchors_for_grid_cell\r\nfrom ppdet.modeling.backbones.csp_darknet import BaseConv\r\nfrom ppdet.modeling.layers import MultiClassNMS\r\n\r\n__all__ = ['YOLOv8Head']\r\n\r\n\r\n@register\r\nclass YOLOv8Head(nn.Layer):\r\n    __shared__ = [\r\n        'num_classes', 'eval_size', 'trt', 'exclude_nms',\r\n        'exclude_post_process'\r\n    ]\r\n    __inject__ = ['assigner', 'nms']\r\n\r\n    def __init__(self,\r\n                 in_channels=[256, 512, 1024],\r\n                 num_classes=80,\r\n                 act='silu',\r\n                 fpn_strides=[8, 16, 32],\r\n                 grid_cell_scale=5.0,\r\n                 grid_cell_offset=0.5,\r\n                 reg_max=1,\r\n                 reg_range=None,\r\n                 use_varifocal_loss=False,\r\n                 assigner='TaskAlignedAssigner',\r\n                 nms='MultiClassNMS',\r\n                 eval_size=None,\r\n                 loss_weight={\r\n                     'class': 0.5,\r\n                     'iou': 7.5,\r\n                     'dfl': 1.5,\r\n                 },\r\n                 trt=False,\r\n                 exclude_nms=False,\r\n                 exclude_post_process=False,\r\n                 print_l1_loss=True):\r\n        super(YOLOv8Head, self).__init__()\r\n        assert len(in_channels) > 0, \"len(in_channels) should > 0\"\r\n        self.in_channels = in_channels\r\n        self.num_classes = num_classes\r\n        self.fpn_strides = fpn_strides\r\n        self.grid_cell_scale = grid_cell_scale\r\n        self.grid_cell_offset = grid_cell_offset\r\n        self.reg_max = reg_max\r\n        if reg_range:\r\n            self.reg_range = reg_range\r\n        else:\r\n            self.reg_range = (0, reg_max)  # not reg_max+1\r\n        self.reg_channels = self.reg_range[1] - self.reg_range[0]\r\n        self.use_varifocal_loss = use_varifocal_loss\r\n        self.assigner = assigner\r\n        self.nms = nms\r\n        if isinstance(self.nms, MultiClassNMS) and trt:\r\n            self.nms.trt = trt\r\n        self.eval_size = eval_size\r\n        self.loss_weight = loss_weight\r\n        self.exclude_nms = exclude_nms\r\n        self.exclude_post_process = exclude_post_process\r\n        self.print_l1_loss = print_l1_loss\r\n\r\n        # cls loss\r\n        self.bce = nn.BCEWithLogitsLoss(reduction='none')\r\n\r\n        # pred head\r\n        c2 = max((16, in_channels[0] // 4, self.reg_max * 4))\r\n        c3 = max(in_channels[0], self.num_classes)\r\n        self.conv_reg = nn.LayerList()\r\n        self.conv_cls = nn.LayerList()\r\n        for in_c in self.in_channels:\r\n            self.conv_reg.append(\r\n                nn.Sequential(* [\r\n                    BaseConv(\r\n                        in_c, c2, 3, 1, act=act),\r\n                    BaseConv(\r\n                        c2, c2, 3, 1, act=act),\r\n                    nn.Conv2D(\r\n                        c2,\r\n                        self.reg_max * 4,\r\n                        1,\r\n                        bias_attr=ParamAttr(regularizer=L2Decay(0.0))),\r\n                ]))\r\n            self.conv_cls.append(\r\n                nn.Sequential(* [\r\n                    BaseConv(\r\n                        in_c, c3, 3, 1, act=act),\r\n                    BaseConv(\r\n                        c3, c3, 3, 1, act=act),\r\n                    nn.Conv2D(\r\n                        c3,\r\n                        self.num_classes,\r\n                        1,\r\n                        bias_attr=ParamAttr(regularizer=L2Decay(0.0))),\r\n                ]))\r\n        self.proj = paddle.arange(self.reg_max).astype('float32')\r\n        self._initialize_biases()\r\n\r\n    @classmethod\r\n    def from_config(cls, cfg, input_shape):\r\n        return {'in_channels': [i.channels for i in input_shape], }\r\n\r\n    def _initialize_biases(self):\r\n        for a, b, s in zip(self.conv_reg, self.conv_cls, self.fpn_strides):\r\n            constant_(a[-1].weight)\r\n            constant_(a[-1].bias, 1.0)\r\n            constant_(b[-1].weight)\r\n            constant_(b[-1].bias, math.log(5 / self.num_classes / (640 / s)**2))\r\n\r\n    def forward(self, feats, targets=None):\r\n        if self.training:\r\n            return self.forward_train(feats, targets)\r\n        else:\r\n            return self.forward_eval(feats)\r\n\r\n    def forward_train(self, feats, targets):\r\n        anchors, anchor_points, num_anchors_list, stride_tensor = \\\r\n            generate_anchors_for_grid_cell(\r\n                feats, self.fpn_strides, self.grid_cell_scale,\r\n                self.grid_cell_offset)\r\n\r\n        cls_logits_list, bbox_preds_list, bbox_dist_preds_list = [], [], []\r\n        for i, feat in enumerate(feats):\r\n            _, _, h, w = feat.shape\r\n            l = h * w\r\n            bbox_dist_preds = self.conv_reg[i](feat)\r\n            #print(paddle.shape(bbox_dist_preds))\r\n            #print('1111111')\r\n            cls_logit = self.conv_cls[i](feat)\r\n            \r\n            if self.reg_max > 1:\r\n                bbox_dist_preds = bbox_dist_preds.reshape([-1, 4, self.reg_max, l]).transpose([0, 3, 1, 2])\r\n                bbox_preds = F.softmax(bbox_dist_preds, axis=3).matmul(self.proj.reshape([-1, 1])).squeeze(-1)\r\n\r\n                cls_logits_list.append(cls_logit)\r\n                bbox_preds_list.append(bbox_preds.transpose([0, 2, 1]).reshape([-1, 4, h, w]))\r\n                bbox_dist_preds_list.append(bbox_dist_preds)\r\n            else:\r\n                bbox_dist_preds_list = None\r\n                bbox_preds_list.append(bbox_dist_preds)\r\n                cls_logits_list.append(cls_logit)\r\n            \r\n\r\n        return self.get_loss([\r\n            cls_logits_list, bbox_preds_list, bbox_dist_preds_list, anchors, anchor_points,\r\n            num_anchors_list, stride_tensor\r\n        ], targets)\r\n\r\n    def forward_eval(self, feats):\r\n        anchor_points, stride_tensor = self._generate_anchors(feats)\r\n\r\n        cls_logits_list, bbox_preds_list = [], []\r\n        feats_shapes = []\r\n        for i, feat in enumerate(feats):\r\n            _, _, h, w = feat.shape\r\n            l = h * w\r\n            bbox_dist_preds = self.conv_reg[i](feat)\r\n            cls_logit = self.conv_cls[i](feat)\r\n\r\n            \r\n            if self.reg_max > 1:\r\n                bbox_dist_preds = bbox_dist_preds.reshape(\r\n                    [-1, 4, self.reg_max, l]).transpose([0, 3, 1, 2])\r\n                bbox_preds = F.softmax(bbox_dist_preds, axis=3).matmul(self.proj.reshape([-1, 1])).squeeze(-1)\r\n                bbox_preds_list.append(bbox_preds.transpose([0, 2, 1]).reshape([-1, 4, h, w]))\r\n            else:\r\n                bbox_preds_list.append(bbox_dist_preds.reshape([-1, 4, l]).transpose([0, 2, 1]))\r\n            cls_logits_list.append(F.sigmoid(cls_logit))\r\n            feats_shapes.append(l)\r\n\r\n        pred_scores = [\r\n            cls_score.transpose([0, 2, 3, 1]).reshape([-1, size, self.num_classes])\r\n            for size, cls_score in zip(feats_shapes, cls_logits_list)\r\n        ]\r\n        if self.reg_max > 1:\r\n             pred_dists = [\r\n            bbox_pred.transpose([0, 2, 3, 1]).reshape([-1, size, 4])\r\n            for size, bbox_pred in zip(feats_shapes, bbox_preds_list)\r\n        ]\r\n        else:\r\n            pred_dists = [\r\n                bbox_pred for size, bbox_pred in zip(feats_shapes, bbox_preds_list)\r\n            ]\r\n        pred_scores = paddle.concat(pred_scores, 1)\r\n        pred_bboxes = paddle.concat(pred_dists, 1)\r\n        #print(pred_scores.sum())\r\n        return pred_scores, pred_bboxes, anchor_points, stride_tensor\r\n\r\n    def _generate_anchors(self, feats=None, dtype='float32'):\r\n        # just use in eval time\r\n        anchor_points = []\r\n        stride_tensor = []\r\n        for i, stride in enumerate(self.fpn_strides):\r\n            if feats is not None:\r\n                _, _, h, w = feats[i].shape\r\n            else:\r\n                h = int(self.eval_size[0] / stride)\r\n                w = int(self.eval_size[1] / stride)\r\n            shift_x = paddle.arange(end=w) + self.grid_cell_offset\r\n            shift_y = paddle.arange(end=h) + self.grid_cell_offset\r\n            shift_y, shift_x = paddle.meshgrid(shift_y, shift_x)\r\n            anchor_point = paddle.cast(\r\n                paddle.stack(\r\n                    [shift_x, shift_y], axis=-1), dtype=dtype)\r\n            anchor_points.append(anchor_point.reshape([-1, 2]))\r\n            stride_tensor.append(paddle.full([h * w, 1], stride, dtype=dtype))\r\n        anchor_points = paddle.concat(anchor_points)\r\n        stride_tensor = paddle.concat(stride_tensor)\r\n        return anchor_points, stride_tensor\r\n\r\n    def _bbox2distance(self, points, bbox, reg_max=15, eps=0.01):\r\n        x1y1, x2y2 = paddle.split(bbox, 2, -1)\r\n        lt = points - x1y1\r\n        rb = x2y2 - points\r\n        return paddle.concat([lt, rb], -1).clip(0, reg_max - eps)\r\n        \r\n\r\n    def _df_loss(self, pred_dist, target, lower_bound=0):\r\n        target_left = paddle.cast(target.floor(), 'int64')\r\n        target_right = target_left + 1\r\n        weight_left = target_right.astype('float32') - target\r\n        weight_right = 1 - weight_left\r\n        loss_left = F.cross_entropy(\r\n            pred_dist, target_left - lower_bound,\r\n            reduction='none') * weight_left\r\n        loss_right = F.cross_entropy(\r\n            pred_dist, target_right - lower_bound,\r\n            reduction='none') * weight_right\r\n        return (loss_left + loss_right).mean(-1, keepdim=True)\r\n\r\n    def get_loss(self, head_outs, gt_meta):\r\n        cls_scores, bbox_preds, bbox_dist_preds, anchors,\\\r\n        anchor_points, num_anchors_list, stride_tensor = head_outs\r\n\r\n\r\n        bs = cls_scores[0].shape[0]\r\n        flatten_cls_preds = [\r\n            cls_pred.transpose([0, 2, 3, 1]).reshape([bs, -1, self.num_classes])\r\n            for cls_pred in cls_scores\r\n        ]\r\n        flatten_pred_bboxes = [\r\n            bbox_pred.transpose([0, 2, 3, 1]).reshape([bs, -1, 4])\r\n            for bbox_pred in bbox_preds\r\n        ]\r\n        if self.reg_max>1:\r\n            flatten_pred_dists = [\r\n                bbox_pred_org.reshape([bs, -1, self.reg_max * 4])\r\n                for bbox_pred_org in bbox_dist_preds\r\n            ]\r\n\r\n            flatten_dist_preds = paddle.concat(flatten_pred_dists, 1)\r\n        else:\r\n            flatten_dist_preds = None\r\n        pred_scores = paddle.concat(flatten_cls_preds, 1)\r\n        pred_distri = paddle.concat(flatten_pred_bboxes, 1)\r\n\r\n\r\n        anchor_points_s = anchor_points / stride_tensor\r\n        pred_bboxes = batch_distance2bbox(anchor_points_s, pred_distri) # xyxy\r\n        pred_bboxes = pred_bboxes * stride_tensor\r\n\r\n        gt_labels = gt_meta['gt_class']\r\n        gt_bboxes = gt_meta['gt_bbox'] # xyxy\r\n        pad_gt_mask = gt_meta['pad_gt_mask']\r\n\r\n        assigned_labels, assigned_bboxes, assigned_scores = \\\r\n            self.assigner(\r\n            F.sigmoid(pred_scores.detach()),\r\n            pred_bboxes.detach(),\r\n            anchor_points,\r\n            num_anchors_list,\r\n            gt_labels,\r\n            gt_bboxes, # xyxy\r\n            pad_gt_mask,\r\n            bg_index=self.num_classes)\r\n        # rescale bbox\r\n        assigned_bboxes /= stride_tensor\r\n        pred_bboxes /= stride_tensor\r\n\r\n        # cls loss\r\n        loss_cls = self.bce(pred_scores, assigned_scores).sum()\r\n\r\n        assigned_scores_sum = assigned_scores.sum()\r\n        if paddle.distributed.get_world_size() > 1:\r\n            paddle.distributed.all_reduce(assigned_scores_sum)\r\n            assigned_scores_sum /= paddle.distributed.get_world_size()\r\n        assigned_scores_sum = paddle.clip(assigned_scores_sum, min=1.)\r\n        loss_cls /= assigned_scores_sum\r\n\r\n        # select positive samples mask\r\n        mask_positive = (assigned_labels != self.num_classes)\r\n        num_pos = mask_positive.sum()\r\n        #print(num_pos)\r\n        # pos/neg loss\r\n        if num_pos > 0:\r\n            # ciou loss\r\n            bbox_mask = mask_positive.unsqueeze(-1).tile([1, 1, 4])\r\n            pred_bboxes_pos = paddle.masked_select(\r\n                pred_bboxes, bbox_mask).reshape([-1, 4])\r\n            assigned_bboxes_pos = paddle.masked_select(\r\n                assigned_bboxes, bbox_mask).reshape([-1, 4])\r\n            bbox_weight = paddle.masked_select(\r\n                assigned_scores.sum(-1), mask_positive).unsqueeze(-1)\r\n            iou = bbox_iou( \r\n                pred_bboxes_pos.split(4, axis=-1),\r\n                assigned_bboxes_pos.split(4, axis=-1),\r\n                x1y1x2y2=True, # xyxy\r\n                ciou=True,\r\n                eps=1e-7)\r\n            loss_iou = ((1.0 - iou) * bbox_weight).sum() / assigned_scores_sum\r\n\r\n            if self.print_l1_loss:\r\n                loss_l1 = F.l1_loss(pred_bboxes_pos, assigned_bboxes_pos)\r\n            else:\r\n                loss_l1 = paddle.zeros([1])\r\n\r\n            # dfl loss\r\n            if self.reg_max > 1:\r\n                flatten_pred_dists = [\r\n                        bbox_pred_org.reshape([bs, -1, self.reg_max * 4])\r\n                        for bbox_pred_org in bbox_dist_preds\r\n                        ]\r\n\r\n                flatten_dist_preds = paddle.concat(flatten_pred_dists, 1)\r\n                dist_mask = mask_positive.unsqueeze(-1).tile(\r\n                    [1, 1, self.reg_max * 4])\r\n                pred_dist_pos = paddle.masked_select(\r\n                    flatten_dist_preds, dist_mask).reshape([-1, 4, self.reg_max])\r\n                assigned_ltrb = self._bbox2distance(\r\n                    anchor_points_s,\r\n                    assigned_bboxes,\r\n                    reg_max=self.reg_max - 1,\r\n                    eps=0.01)\r\n                assigned_ltrb_pos = paddle.masked_select(\r\n                    assigned_ltrb, bbox_mask).reshape([-1, 4])\r\n\r\n                loss_dfl = self._df_loss(pred_dist_pos,\r\n                                     assigned_ltrb_pos) * bbox_weight\r\n                loss_dfl = loss_dfl.sum() / assigned_scores_sum\r\n            else:\r\n                loss_dfl = 0.\r\n        else:\r\n            loss_iou = 0.\r\n            loss_dfl = 0.\r\n            loss_l1 = 0.\r\n\r\n        loss_cls *= self.loss_weight['class']\r\n        loss_iou *= self.loss_weight['iou']\r\n        loss_dfl *= self.loss_weight['dfl']\r\n        loss_total = loss_cls + loss_iou + loss_dfl\r\n\r\n        num_gpus = gt_meta.get('num_gpus', 8)\r\n        total_bs = bs * num_gpus\r\n\r\n        out_dict = {\r\n            'loss': loss_total * total_bs,\r\n            'loss_cls': loss_cls * total_bs,\r\n            'loss_iou': loss_iou * total_bs,\r\n            'loss_dfl': loss_dfl * total_bs,\r\n        }\r\n        if self.print_l1_loss:\r\n            # just see convergence\r\n            out_dict.update({'loss_l1': loss_l1 * total_bs})\r\n        return out_dict\r\n\r\n    def post_process(self, head_outs, im_shape, scale_factor):\r\n        pred_scores, pred_bboxes, anchor_points, stride_tensor = head_outs\r\n\r\n        pred_bboxes = batch_distance2bbox(anchor_points, pred_bboxes)\r\n        pred_bboxes *= stride_tensor\r\n\r\n        if self.exclude_post_process:\r\n            return paddle.concat(\r\n                [pred_bboxes, pred_scores], axis=-1), None\r\n        else:\r\n            pred_scores = pred_scores.transpose([0, 2, 1])\r\n            # scale bbox to origin\r\n            scale_factor = scale_factor.flip(-1).tile([1, 2]).unsqueeze(1)\r\n            pred_bboxes /= scale_factor\r\n            if self.exclude_nms:\r\n                # `exclude_nms=True` just use in benchmark\r\n                return pred_bboxes, pred_scores\r\n            else:\r\n                bbox_pred, bbox_num, _ = self.nms(pred_bboxes, pred_scores)\r\n                return bbox_pred, bbox_num\r\n```\r\n\r\nlog数据如下：\r\n[07/07 10:14:31] ppdet.engine INFO: Epoch: [19] [896/917] eta: 8 days, 3:35:41 lr: 0.009460 loss: 314.036316 loss_cls: 284.463470 loss_iou: 30.124084 loss_dfl: 0.000000 loss_l1: 24.003032 batch_cost: 2.7724 data_cost: 1.2405 ips: 46.1695 images/s\r\nAverage Precision  (AP) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.000\r\n Average Precision  (AP) @[ IoU=0.50      | area=   all | maxDets=100 ] = 0.000\r\n Average Precision  (AP) @[ IoU=0.75      | area=   all | maxDets=100 ] = 0.000\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.000\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.000\r\n Average Precision  (AP) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.000\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=  1 ] = 0.008\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets= 10 ] = 0.008\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=   all | maxDets=100 ] = 0.008\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= small | maxDets=100 ] = 0.000\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area=medium | maxDets=100 ] = 0.000\r\n Average Recall     (AR) @[ IoU=0.50:0.95 | area= large | maxDets=100 ] = 0.016\r\n[07/07 10:18:26] ppdet.engine INFO: Total sample number: 4952, average FPS: 42.027907432147764\r\n\r\n\r\n### 是否愿意提交PR Are you willing to submit a PR?\r\n\r\n- [X] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "sdreamforchen",
        "closed_by": "nemonameless",
        "created_at": "2023-07-07T02:25:24+00:00",
        "updated_at": "2024-03-04T08:47:47+00:00",
        "closed_at": "2024-03-04T08:47:47+00:00",
        "comments_count": [
            "sdreamforchen",
            "nemonameless",
            "sdreamforchen",
            "sdreamforchen",
            "sdreamforchen",
            "sdreamforchen",
            "nemonameless",
            "sdreamforchen",
            "sdreamforchen",
            "nemonameless",
            "sdreamforchen"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleDetection",
        "number": 8660,
        "title": "RT-DETR，R101报错ValueError: matrix contains invalid numeric entries",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\nRT-DETR，R18没有报错，R101报这个错\r\n\"2023-09-15T16:02:29+08:00\"   File \"/PaddleYOLO/ppdet/modeling/transformers/matchers.py\", line 179, in <listcomp>\r\n\"2023-09-15T16:02:29+08:00\"     linear_sum_assignment(c.split(sizes, -1)[i].numpy())\r\n\"2023-09-15T16:02:29+08:00\"   File \"/usr/local/lib/python3.8/dist-packages/scipy/optimize/_lsap.py\", line 100, in linear_sum_assignment\r\n\"2023-09-15T16:02:29+08:00\"     return _lsap_module.calculate_assignment(cost_matrix)\r\n\"2023-09-15T16:02:29+08:00\" ValueError: matrix contains invalid numeric entries\n\n### 复现环境 Environment\n\npaddlepaddle: 2.5\r\npaddleYOLO: 20230720\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "leoxxxxxD",
        "closed_by": "paddle-bot[bot]",
        "created_at": "2023-09-15T09:40:20+00:00",
        "updated_at": "2025-03-25T06:45:09+00:00",
        "closed_at": "2025-03-25T06:43:54+00:00",
        "comments_count": [
            "YChunag",
            "iakRulan",
            "zhiboniu",
            "paddle-bot[bot]"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 191,
        "title": "YOLOv8在客制化数据集上训练出现SystemError",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nTraining\n\n### Bug描述 Describe the Bug\n\n我制作了一个客制化数据集，用labelimg标注后转成coco格式，其中有一些负样本没有标签，在coco标签中的表现为在images字段有image_id，但在annotations字段没有对应image_id的标签。在数据集中，我已设置allow_empty=True，并在yolov5和yolox上可以正常训练和推理。\r\n但在yolov8训练时，会出现以下bug：\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/42413198/18485ece-13b1-45e5-99c2-7c90400021cb)\r\n看报错信息的话，dataset已经加载成功，但是在Dataloader取数据的时候报错了。\r\n我把worker_num设置为0，可以正常训练，但是loss太大就卡住了：\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/42413198/228000fc-84d4-42b9-bda7-bf349cebb26d)\r\n这个问题我在训练yolov7u的时候也遇到了。\r\n\r\n我的配置文件为：\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/42413198/15952224-474d-45fd-b09d-0a89e6d22a24)\r\n修改的`optimizer_100e.yml`为：\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/42413198/61a980ae-bfad-4282-9daa-b70e18bc26b3)\r\n\n\n### 复现环境 Environment\n\n- OS: Linux\r\n- PaddlePaddle-gpu: 2.5.1.post117\r\n- PaddleDetection: 2.6.0\r\n- Python: 3.7.14\r\n- CUDA: 11.7\r\n- GCC: 8.2.0\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "LorenzoSun-V",
        "closed_by": "nemonameless",
        "created_at": "2023-09-27T00:28:19+00:00",
        "updated_at": "2024-03-04T09:54:30+00:00",
        "closed_at": "2024-03-04T09:54:29+00:00",
        "comments_count": [
            "LorenzoSun-V",
            "LorenzoSun-V",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 195,
        "title": "目标检测：忽略某些模糊的目标",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n请问在使用PPYOLOE-SOD时，有办法将一些不确定类别的模糊的目标在标签中通过ignore标记成忽略样本，在训练时将这些目标物体忽略掉么？\r\n如果有办法的话，该怎么操作呢？",
        "state": "closed",
        "user": "Jorsen0",
        "closed_by": "nemonameless",
        "created_at": "2023-10-18T02:01:50+00:00",
        "updated_at": "2024-03-04T09:39:54+00:00",
        "closed_at": "2024-03-04T09:39:54+00:00",
        "comments_count": [
            "nemonameless",
            "Jorsen0",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 196,
        "title": "yolov8训练好的模型如何在vc++生成的项目中调用？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n我使用官方yolov8 训练好的.pt文件  然后我想在PaddleYOLO 的vc++项目中使用  我应该怎么做？ PaddleYOLO 模型文件好像不支持PT和ONNX？ 我应该怎么办？",
        "state": "closed",
        "user": "zelohon",
        "closed_by": "nemonameless",
        "created_at": "2023-10-21T07:25:39+00:00",
        "updated_at": "2024-03-04T09:38:21+00:00",
        "closed_at": "2024-03-04T09:38:21+00:00",
        "comments_count": [
            "nemonameless",
            "zelohon",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 198,
        "title": "单机多卡，拉去gpu版本的docker，进行版本验证时只能使用单张gpu，已安装nccl 2.8.3",
        "body": " docker创建镜像：docker run --gpus all -it --ipc=host --name it_paddle -h it_paddle_host --shm-size 160G -v /home/guest/workspace/ --workdir=/workspace registry.baidubce.com/paddlepaddle/paddle:2.5.1-gpu-cuda11.2-cudnn8.2-trt8.0\r\n通过解压tzx文件安装nccl2.8.3\r\n进入python解释器后错误信息如下\r\n paddle.utils.run_check()\r\nRunning verify PaddlePaddle program ...\r\nW1030 07:52:57.083344  1992 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 8.9, Driver API Version: 12.2, Runtime API Version: 10.2\r\nW1030 07:52:57.086133  1992 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nPaddlePaddle works well on 1 GPU.\r\nW1030 07:52:57.775635  1992 parallel_executor.cc:642] Cannot enable P2P access from 0 to 1\r\nW1030 07:52:57.775660  1992 parallel_executor.cc:642] Cannot enable P2P access from 0 to 2\r\nW1030 07:52:57.775666  1992 parallel_executor.cc:642] Cannot enable P2P access from 0 to 3\r\nW1030 07:52:57.775669  1992 parallel_executor.cc:642] Cannot enable P2P access from 0 to 4\r\nW1030 07:52:57.775676  1992 parallel_executor.cc:642] Cannot enable P2P access from 0 to 5\r\nW1030 07:52:57.775677  1992 parallel_executor.cc:642] Cannot enable P2P access from 0 to 6\r\nW1030 07:52:57.775682  1992 parallel_executor.cc:642] Cannot enable P2P access from 0 to 7\r\nW1030 07:52:57.775687  1992 parallel_executor.cc:642] Cannot enable P2P access from 1 to 0\r\nW1030 07:52:57.775692  1992 parallel_executor.cc:642] Cannot enable P2P access from 1 to 2\r\nW1030 07:52:57.775696  1992 parallel_executor.cc:642] Cannot enable P2P access from 1 to 3\r\nW1030 07:52:57.775698  1992 parallel_executor.cc:642] Cannot enable P2P access from 1 to 4\r\nW1030 07:52:57.775703  1992 parallel_executor.cc:642] Cannot enable P2P access from 1 to 5\r\nW1030 07:52:57.775709  1992 parallel_executor.cc:642] Cannot enable P2P access from 1 to 6\r\nW1030 07:52:57.775717  1992 parallel_executor.cc:642] Cannot enable P2P access from 1 to 7\r\nW1030 07:52:57.775719  1992 parallel_executor.cc:642] Cannot enable P2P access from 2 to 0\r\nW1030 07:52:57.775723  1992 parallel_executor.cc:642] Cannot enable P2P access from 2 to 1\r\nW1030 07:52:57.775727  1992 parallel_executor.cc:642] Cannot enable P2P access from 2 to 3\r\nW1030 07:52:57.775733  1992 parallel_executor.cc:642] Cannot enable P2P access from 2 to 4\r\nW1030 07:52:57.775738  1992 parallel_executor.cc:642] Cannot enable P2P access from 2 to 5\r\nW1030 07:52:57.775741  1992 parallel_executor.cc:642] Cannot enable P2P access from 2 to 6\r\nW1030 07:52:57.775744  1992 parallel_executor.cc:642] Cannot enable P2P access from 2 to 7\r\nW1030 07:52:57.775748  1992 parallel_executor.cc:642] Cannot enable P2P access from 3 to 0\r\nW1030 07:52:57.775753  1992 parallel_executor.cc:642] Cannot enable P2P access from 3 to 1\r\nW1030 07:52:57.775758  1992 parallel_executor.cc:642] Cannot enable P2P access from 3 to 2\r\nW1030 07:52:57.775763  1992 parallel_executor.cc:642] Cannot enable P2P access from 3 to 4\r\nW1030 07:52:57.775768  1992 parallel_executor.cc:642] Cannot enable P2P access from 3 to 5\r\nW1030 07:52:57.775774  1992 parallel_executor.cc:642] Cannot enable P2P access from 3 to 6\r\nW1030 07:52:57.775779  1992 parallel_executor.cc:642] Cannot enable P2P access from 3 to 7\r\nW1030 07:52:57.775782  1992 parallel_executor.cc:642] Cannot enable P2P access from 4 to 0\r\nW1030 07:52:57.775789  1992 parallel_executor.cc:642] Cannot enable P2P access from 4 to 1\r\nW1030 07:52:57.775792  1992 parallel_executor.cc:642] Cannot enable P2P access from 4 to 2\r\nW1030 07:52:57.775796  1992 parallel_executor.cc:642] Cannot enable P2P access from 4 to 3\r\nW1030 07:52:57.775801  1992 parallel_executor.cc:642] Cannot enable P2P access from 4 to 5\r\nW1030 07:52:57.775806  1992 parallel_executor.cc:642] Cannot enable P2P access from 4 to 6\r\nW1030 07:52:57.775810  1992 parallel_executor.cc:642] Cannot enable P2P access from 4 to 7\r\nW1030 07:52:57.775816  1992 parallel_executor.cc:642] Cannot enable P2P access from 5 to 0\r\nW1030 07:52:57.775821  1992 parallel_executor.cc:642] Cannot enable P2P access from 5 to 1\r\nW1030 07:52:57.775825  1992 parallel_executor.cc:642] Cannot enable P2P access from 5 to 2\r\nW1030 07:52:57.775830  1992 parallel_executor.cc:642] Cannot enable P2P access from 5 to 3\r\nW1030 07:52:57.775835  1992 parallel_executor.cc:642] Cannot enable P2P access from 5 to 4\r\nW1030 07:52:57.775836  1992 parallel_executor.cc:642] Cannot enable P2P access from 5 to 6\r\nW1030 07:52:57.775844  1992 parallel_executor.cc:642] Cannot enable P2P access from 5 to 7\r\nW1030 07:52:57.775849  1992 parallel_executor.cc:642] Cannot enable P2P access from 6 to 0\r\nW1030 07:52:57.775856  1992 parallel_executor.cc:642] Cannot enable P2P access from 6 to 1\r\nW1030 07:52:57.775861  1992 parallel_executor.cc:642] Cannot enable P2P access from 6 to 2\r\nW1030 07:52:57.775864  1992 parallel_executor.cc:642] Cannot enable P2P access from 6 to 3\r\nW1030 07:52:57.775868  1992 parallel_executor.cc:642] Cannot enable P2P access from 6 to 4\r\nW1030 07:52:57.775871  1992 parallel_executor.cc:642] Cannot enable P2P access from 6 to 5\r\nW1030 07:52:57.775875  1992 parallel_executor.cc:642] Cannot enable P2P access from 6 to 7\r\nW1030 07:52:57.775878  1992 parallel_executor.cc:642] Cannot enable P2P access from 7 to 0\r\nW1030 07:52:57.775883  1992 parallel_executor.cc:642] Cannot enable P2P access from 7 to 1\r\nW1030 07:52:57.775888  1992 parallel_executor.cc:642] Cannot enable P2P access from 7 to 2\r\nW1030 07:52:57.775893  1992 parallel_executor.cc:642] Cannot enable P2P access from 7 to 3\r\nW1030 07:52:57.775897  1992 parallel_executor.cc:642] Cannot enable P2P access from 7 to 4\r\nW1030 07:52:57.775902  1992 parallel_executor.cc:642] Cannot enable P2P access from 7 to 5\r\nW1030 07:52:57.775907  1992 parallel_executor.cc:642] Cannot enable P2P access from 7 to 6\r\nW1030 07:53:00.806622  1992 fuse_all_reduce_op_pass.cc:76] Find all_reduce operators: 2. To make the speed faster, some all_reduce ops are fused during training, after fusion, the number of all_reduce ops is 2.\r\nWARNING:root:PaddlePaddle meets some problem with 8 GPUs. This may be caused by:\r\n 1. There is not enough GPUs visible on your system\r\n 2. Some GPUs are occupied by other process now\r\n 3. NVIDIA-NCCL2 is not installed correctly on your system. Please follow instruction on https://github.com/NVIDIA/nccl-tests\r\n to test your NCCL, or reinstall it following https://docs.nvidia.com/deeplearning/sdk/nccl-install-guide/index.html\r\nWARNING:root:\r\n Original Error is: (External) CUDA error(209), no kernel image is available for execution on the device.\r\n  [Hint: 'cudaErrorNoKernelImageForDevice'. This indicates that there is no kernel image available that is suitable for the device. This can occur when a user specifiescode generation options for a particular CUDA source file that do not include the corresponding device configuration.] (at /paddle/paddle/fluid/framework/details/all_reduce_op_handle.cc:299)\r\n\r\nPaddlePaddle is installed successfully ONLY for single GPU! Let's start deep learning with PaddlePaddle now.\r\n",
        "state": "closed",
        "user": "overjjjj",
        "closed_by": "nemonameless",
        "created_at": "2023-10-30T07:59:44+00:00",
        "updated_at": "2024-03-04T09:49:23+00:00",
        "closed_at": "2024-03-04T09:49:22+00:00",
        "comments_count": [
            "nemonameless",
            "rocketbear",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 199,
        "title": "现在支持训练yolov8了吗？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n有人能成功训练yolov8吗？\r\n\r\n我尝试训练yolov8，感觉有问题。\r\n\r\n配置文件yolov8_reader.yml里对训练集的transform是这样的：\r\n    - Decode: {}\r\n    - MosaicPerspective: {mosaic_prob: 1.0, target_size: *input_size}\r\n    - RandomHSV: {hgain: 0.015, sgain: 0.7, vgain: 0.4}\r\n    - RandomFlip: {}\r\n\r\n通过代码可以看到，Decode输出的gt_bbox是xyxy格式，但MosaicPerspective里会先做xyhwn2xyxy，这样框就完全不对了。\r\n使用Decode或把Decode换程yolov5的那种DecodeNormResize，训练结果loss都是爆炸飞起。\r\n\r\n求成功经验。\r\n\r\n\r\n",
        "state": "closed",
        "user": "rocketbear",
        "closed_by": "nemonameless",
        "created_at": "2023-11-09T12:32:25+00:00",
        "updated_at": "2024-03-04T09:21:25+00:00",
        "closed_at": "2024-03-04T09:21:25+00:00",
        "comments_count": [
            "rocketbear",
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 193,
        "title": "是否支持yolov8的实例分割训练和检测",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n1. 任务目标（请描述你正在做的项目是什么，如模型、论文、项目是什么？）; 2. 需求场景（请描述你的项目中为什么需要用此功能）; 3. 功能描述（请简单描述或设计这个功能）\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [X] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "jiangxinufo",
        "closed_by": "nemonameless",
        "created_at": "2023-10-16T06:41:36+00:00",
        "updated_at": "2024-03-04T09:37:41+00:00",
        "closed_at": "2024-03-04T09:37:41+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 200,
        "title": "Single-class yolov7 training hangs",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nWhen training yolo7 (tiny or x) with multiple classes everything works fine, but when training with a single class it hangs on the first epoch.\r\n\r\nMy config is as follows:\r\n\r\n```\r\nEvalDataset: !COCODataSet\r\n  allow_empty: true\r\n  anno_path: annotations/valid.json\r\n  data_fields:\r\n  - image\r\n  dataset_dir: <<my_dataset_dir>>\r\n  image_dir: images\r\nEvalReader:\r\n  batch_size: 2\r\nLearningRate:\r\n  base_lr: 0.0001\r\nTestDataset: !ImageFolder\r\n  anno_path: annotations/valid.json\r\n  dataset_dir: <<my_dataset_dir>>\r\nTestReader:\r\n  batch_size: 2\r\nTrainDataset: !COCODataSet\r\n  allow_empty: false\r\n  anno_path: annotations/train.json\r\n  data_fields:\r\n  - image\r\n  - gt_bbox\r\n  - gt_class\r\n  - is_crowd\r\n  dataset_dir: <<my_dataset_dir>>\r\n  image_dir: images\r\nTrainReader:\r\n  batch_size: 64\r\n_BASE_:\r\n- /data/repos/PaddleYOLO/configs/yolov7/yolov7_tiny_300e_coco.yml\r\neval: true\r\nfind_unused_parameters: false\r\nlog_iter: 1\r\nmetric: COCO\r\nnum_classes: 1\r\noutput_eval: <<my_output_dir>>202311130842/eval\r\nsave_dir: <<my_output_dir>>202311130842\r\nsnapshot_epoch: 2\r\nuse_gpu: true\r\nweights: <<my_output_dir>>202311130842\r\n```",
        "state": "closed",
        "user": "danielvandenberg95",
        "closed_by": "nemonameless",
        "created_at": "2023-11-13T08:51:59+00:00",
        "updated_at": "2024-03-04T09:22:13+00:00",
        "closed_at": "2024-03-04T09:22:13+00:00",
        "comments_count": [
            "danielvandenberg95",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 197,
        "title": "使用预训练的模型进行推理，有识别结果。基于预训练的模型训练Visdrone数据集后，使用训练后的模型进行推理，检测多张该数据集的图片，均无识别结果。",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n推理命令：\r\n-c F:/PaddleYolo/PaddleYOLO-release-2.6/configs/yolov8/yolov8_n_500e_coco.yml -o weights=F:/PaddleYolo/PaddleYOLO-release-2.6/tools/output/yolov8_n_500e_coco/9.pdparams --infer_dir=F:/PaddleYolo/PaddleYOLO-release-2.6/demo\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/81463532/272e3612-40e3-4258-b8bd-de72ceb385cd)\r\n\r\n训练命令：\r\n-c F:/PaddleYolo/PaddleYOLO-release-2.6/configs/yolov8/yolov8_n_500e_coco.yml -o weights=E:/33EdgeAccelerate/Code/PretrainedModels/yolov8_n_500e_coco.pdparams\r\n\r\n数据集的配置文件：\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/81463532/ea3df33d-6b3e-42c1-ac46-2d5df3999329)\r\n\r\n训练日志：\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/81463532/6a23abc8-0878-43c9-883a-68b8dc38b1d1)\r\n\r\n从Github下载代码后，只改了数据集的配置文件。怀疑是类别数目没有修改，但是没有找到解决问题的办法？ 刚接触PaddlePaddle，希望可以指点一下？ 如何训练自己的数据集，并可以正确进行推理？\r\n",
        "state": "closed",
        "user": "retioa11",
        "closed_by": "nemonameless",
        "created_at": "2023-10-26T09:04:06+00:00",
        "updated_at": "2024-03-13T03:47:23+00:00",
        "closed_at": "2024-03-04T09:43:50+00:00",
        "comments_count": [
            "retioa11",
            "nemonameless",
            "retioa11",
            "nemonameless",
            "njflove"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 201,
        "title": "ins_seg分支YOLOv5、v8和PPYOLOE seg目前支持训练了吗",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n请问ins_seg分支添加的YOLOv5、v8和PPYOLOE seg目前支持训练了吗，是否支持Fastdeploy部署\r\n@nemonameless ",
        "state": "closed",
        "user": "panp4n",
        "closed_by": "nemonameless",
        "created_at": "2023-11-21T09:20:36+00:00",
        "updated_at": "2024-03-04T09:35:41+00:00",
        "closed_at": "2024-03-04T09:35:41+00:00",
        "comments_count": [
            "nemonameless",
            "panp4n",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 204,
        "title": "ppyoloe的8卡长训结果和官方对不齐",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n使用八张A100跑官方源码，数据集为COCO。每张卡的batch_size设置为8，与官方一致。当前第74轮的mAP为0.196，与官方给出的80轮的52.9%有较大差距。\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/41579548/95d6998e-322c-429a-85d8-940e72665f8e)\r\n执行脚本为：\r\n`model_name=ppyoloe # 可修改，如 yolov7\r\njob_name=ppyoloe_plus_crn_l_80e_coco # 可修改，如 yolov7_tiny_300e_coco\r\n\r\nconfig=configs/${model_name}/${job_name}.yml\r\nlog_dir=log_dir/${job_name}\r\npretrain_weights=\"\"\r\ndata_path=/coco/\r\npython -m paddle.distributed.launch --log_dir=${log_dir} --gpus 0,1,2,3,4,5,6,7 tools/train.py \\\r\n    -c ${config} --eval --amp \\\r\n    -o  TrainDataset.dataset_dir=${data_path} \\\r\n        EvalDataset.dataset_dir=${data_path} \\\r\n        TestDataset.dataset_dir=${data_path} \\\r\n        pretrain_weights=${pretrain_weights} \\\r\n        snapshot_epoch=1 \\\r\n        TrainReader.batch_size=8 \\\r\n        norm_type=sync_bn \\\r\n        log_iter=1 \\`",
        "state": "closed",
        "user": "Pooky-Z",
        "closed_by": "Pooky-Z",
        "created_at": "2023-11-29T09:29:28+00:00",
        "updated_at": "2023-12-01T02:02:18+00:00",
        "closed_at": "2023-12-01T02:02:18+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 203,
        "title": "PaddleYolo训练时报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nTraining\n\n### Bug描述 Describe the Bug\n\n!python -m paddle.distributed.launch PaddleYOLO/tools/train.py -c configs_yolo7/yolov7_tiny_300e_coco.yml --use_vdl=True -o worker_num=4 --eval\r\n报错信息：\r\nLAUNCH INFO 2023-11-29 09:41:12,008 -----------  Configuration  ----------------------\r\nLAUNCH INFO 2023-11-29 09:41:12,009 devices: None\r\nLAUNCH INFO 2023-11-29 09:41:12,009 elastic_level: -1\r\nLAUNCH INFO 2023-11-29 09:41:12,009 elastic_timeout: 30\r\nLAUNCH INFO 2023-11-29 09:41:12,009 gloo_port: 6767\r\nLAUNCH INFO 2023-11-29 09:41:12,009 host: None\r\nLAUNCH INFO 2023-11-29 09:41:12,009 ips: None\r\nLAUNCH INFO 2023-11-29 09:41:12,009 job_id: default\r\nLAUNCH INFO 2023-11-29 09:41:12,009 legacy: False\r\nLAUNCH INFO 2023-11-29 09:41:12,009 log_dir: log\r\nLAUNCH INFO 2023-11-29 09:41:12,009 log_level: INFO\r\nLAUNCH INFO 2023-11-29 09:41:12,009 master: None\r\nLAUNCH INFO 2023-11-29 09:41:12,009 max_restart: 3\r\nLAUNCH INFO 2023-11-29 09:41:12,009 nnodes: 1\r\nLAUNCH INFO 2023-11-29 09:41:12,009 nproc_per_node: None\r\nLAUNCH INFO 2023-11-29 09:41:12,009 rank: -1\r\nLAUNCH INFO 2023-11-29 09:41:12,009 run_mode: collective\r\nLAUNCH INFO 2023-11-29 09:41:12,009 server_num: None\r\nLAUNCH INFO 2023-11-29 09:41:12,009 servers: \r\nLAUNCH INFO 2023-11-29 09:41:12,009 start_port: 6070\r\nLAUNCH INFO 2023-11-29 09:41:12,009 trainer_num: None\r\nLAUNCH INFO 2023-11-29 09:41:12,009 trainers: \r\nLAUNCH INFO 2023-11-29 09:41:12,009 training_script: PaddleYOLO/tools/train.py\r\nLAUNCH INFO 2023-11-29 09:41:12,009 training_script_args: ['-c', 'configs_yolo7/yolov7_tiny_300e_coco.yml', '--use_vdl=True', '-o', 'worker_num=4', '--eval']\r\nLAUNCH INFO 2023-11-29 09:41:12,009 with_gloo: 1\r\nLAUNCH INFO 2023-11-29 09:41:12,009 --------------------------------------------------\r\nLAUNCH INFO 2023-11-29 09:41:12,010 Job: default, mode collective, replicas 1[1:1], elastic False\r\nLAUNCH INFO 2023-11-29 09:41:12,023 Run Pod: avdwtn, replicas 1, status ready\r\nLAUNCH INFO 2023-11-29 09:41:12,046 Watching Pod: avdwtn, replicas 1, status running\r\nloading annotations into memory...\r\nDone (t=0.18s)\r\ncreating index...\r\nindex created!\r\n[11/29 09:41:15] ppdet.data.source.coco INFO: Load [13887 samples valid, 0 samples invalid] in file work/tile/annotations/train_annos_own.json.\r\nW1129 09:41:15.068631  2684 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 12.0, Runtime API Version: 11.2\r\nW1129 09:41:15.074558  2684 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nTraceback (most recent call last):\r\n  File \"PaddleYOLO/tools/train.py\", line 198, in <module>\r\n    main()\r\n  File \"PaddleYOLO/tools/train.py\", line 194, in main\r\n    run(FLAGS, cfg)\r\n  File \"PaddleYOLO/tools/train.py\", line 147, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/engine/trainer.py\", line 434, in train\r\n    outputs = model(data)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/architectures/meta_arch.py\", line 60, in forward\r\n    out = self.get_loss()\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/architectures/yolov7.py\", line 95, in get_loss\r\n    return self._forward()\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/architectures/yolov7.py\", line 77, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/heads/yolov7_head.py\", line 220, in forward\r\n    return self.loss(yolo_outputs, targets, self.anchors)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/losses/yolov7_loss.py\", line 175, in forward\r\n    n = b.shape[0]  # number of targets\r\nAttributeError: 'list' object has no attribute 'shape'\r\nLAUNCH INFO 2023-11-29 09:42:05,099 Pod failed\r\nLAUNCH ERROR 2023-11-29 09:42:05,100 Container failed !!!\r\nContainer rank 0 status failed cmd ['/opt/conda/envs/python35-paddle120-env/bin/python', '-u', 'PaddleYOLO/tools/train.py', '-c', 'configs_yolo7/yolov7_tiny_300e_coco.yml', '--use_vdl=True', '-o', 'worker_num=4', '--eval'] code 1 log log/workerlog.0 \r\nenv {'JUPYTER_6275918_7167826_PORT': 'tcp://10.41.170.61:8888', 'JUPYTER_5985547_7167831_PORT_8888_TCP_ADDR': '10.41.233.181', 'JUPYTER_7642463_7158427_PORT_8888_TCP': 'tcp://10.41.145.190:8888', 'JUPYTER_4942703_7167832_PORT_8888_TCP_PROTO': 'tcp', 'TRAINER_GPU_CARD_COUNT': '1', 'STUDIO_STATIC_URL': 'https://ai-studio-static-online.cdn.bcebos.com/studio-notebook/dist/webide', 'CUDNN_VERSION': '7.3.1.20', 'STUDIO_SERVING_TOKEN': 'token D6E6D737D59B439E9EAC8FBF2A3B7A2FA88395EB81FB46A289AE5D50DB7975E6', 'JUPYTER_6033188_7167881_PORT_8888_TCP': 'tcp://10.41.239.8:8888', 'JUPYTER_989686_7097901_PORT_8888_TCP_ADDR': '10.41.166.213', 'JUPYTER_934284_7119739_PORT_8888_TCP': 'tcp://10.41.58.249:8888', 'JUPYTER_3855592_7060744_PORT_8888_TCP_PORT': '8888', 'JUPYTER_6031435_7167894_PORT_8888_TCP_ADDR': '10.41.212.61', 'JUPYTER_6026042_7168048_SERVICE_HOST': '10.41.15.186', 'JUPYTER_4494484_7155238_PORT_8888_TCP': 'tcp://10.41.121.85:8888', 'JUPYTER_710848_7018590_PORT_8888_TCP': 'tcp://10.41.60.3\r\nLAUNCH INFO 2023-11-29 09:42:05,103 ------------------------- ERROR LOG DETAIL -------------------------\r\nloading annotations into memory...\r\nDone (t=0.18s)\r\ncreating index...\r\nindex created!\r\n[11/29 09:41:15] ppdet.data.source.coco INFO: Load [13887 samples valid, 0 samples invalid] in file work/tile/annotations/train_annos_own.json.\r\nW1129 09:41:15.068631  2684 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.0, Driver API Version: 12.0, Runtime API Version: 11.2\r\nW1129 09:41:15.074558  2684 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nTraceback (most recent call last):\r\n  File \"PaddleYOLO/tools/train.py\", line 198, in <module>\r\n    main()\r\n  File \"PaddleYOLO/tools/train.py\", line 194, in main\r\n    run(FLAGS, cfg)\r\n  File \"PaddleYOLO/tools/train.py\", line 147, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/engine/trainer.py\", line 434, in train\r\n    outputs = model(data)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/architectures/meta_arch.py\", line 60, in forward\r\n    out = self.get_loss()\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/architectures/yolov7.py\", line 95, in get_loss\r\n    return self._forward()\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/architectures/yolov7.py\", line 77, in _forward\r\n    yolo_losses = self.yolo_head(neck_feats, self.inputs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/heads/yolov7_head.py\", line 220, in forward\r\n    return self.loss(yolo_outputs, targets, self.anchors)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 948, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/aistudio/PaddleYOLO/ppdet/modeling/losses/yolov7_loss.py\", line 175, in forward\r\n    n = b.shape[0]  # number of targets\r\nAttributeError: 'list' object has no attribute 'shape'\r\nLAUNCH INFO 2023-11-29 09:42:05,104 Exit code 1\n\n### 复现环境 Environment\n\n在AIstudio上运行，\r\n<img width=\"307\" alt=\"image\" src=\"https://github.com/PaddlePaddle/PaddleYOLO/assets/24787488/92703462-5032-48a6-89c5-33738521aacf\">\r\n\n\n### Bug描述确认 Bug description confirmation\n\n- [ ] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "jiangming7301",
        "closed_by": "nemonameless",
        "created_at": "2023-11-29T02:01:25+00:00",
        "updated_at": "2024-07-25T04:08:06+00:00",
        "closed_at": "2024-07-25T04:08:06+00:00",
        "comments_count": [
            "nemonameless",
            "jiangming7301",
            "jiangming7301",
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 205,
        "title": "yolov5无法复现PaddleYOLO官方结果",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n你好，我最近在尝试复现yolov5m的官方结果，但mAP仅有0.418（官方0.454），使用release2.6的版本，环境如下：\r\n\r\npaddle版本`paddlepaddle-gpu    2.5.2.post117` \r\nGPU为8张NVIDIA A100-SXM4-80GB\r\n`GPU Compute Capability: 8.0, Driver API Version: 11.7, Runtime API Version: 11.7`\r\n\r\n运行命令：\r\n`python -m paddle.distributed.launch --log_dir=./offical_log \\\r\n    --gpus 0,1,2,3,4,5,6,7 tools/train.py -c configs/yolov5/yolov5_m_300e_coco.yml \\\r\n    --eval --amp --enable_ce True -o use_gpu=True log_iter=1 snapshot_epoch=1`\r\n\r\n除数据路径未对代码做修改，请问需要使用预训练权重吗，或者有什么没注意到的地方导致无法复现官方结果？\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/109492087/269cd06c-fbef-4a9f-8610-24e9529d1b90)\r\n\r\n另外，实测性能也比较差，八卡A100独占需要训练3天，这个性能是正常的吗\r\n![image](https://github.com/PaddlePaddle/PaddleYOLO/assets/109492087/143e745c-1ea4-4246-ba5d-5b86b3574692)\r\n",
        "state": "closed",
        "user": "Wanglm2TC",
        "closed_by": "nemonameless",
        "created_at": "2023-12-04T06:50:15+00:00",
        "updated_at": "2024-07-25T04:08:44+00:00",
        "closed_at": "2024-07-25T04:08:44+00:00",
        "comments_count": [
            "nemonameless",
            "Wanglm2TC",
            "Wanglm2TC",
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 208,
        "title": "模型保存时报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\n问题描述：使用 export_model.py 保存模型时报错\r\n\r\n```\r\npython3 tools/export_model.py -c=configs/yolov5/yolov5_s_300e_coco.yml --output_dir=./inference_model -o weights=weights/yolov5_s_300e_coco.pdparams\r\n```\r\n\r\n报错信息：\r\n```\r\n  File \"/home/songhan/sh_share_111/Paddle/PaddleYOLO-develop/ppdet/engine/trainer.py\", line 1021, in _get_infer_cfg_and_input_spec\r\n    self.model, input_spec=input_spec, full_graph=True)\r\nTypeError: declarative() got an unexpected keyword argument 'full_graph'\r\n```\n\n### 复现环境 Environment\n\npaddleyolo版本：develop\r\npaddlepaddle版本：2.4.2\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [X] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "songh11",
        "closed_by": "nemonameless",
        "created_at": "2023-12-07T03:44:35+00:00",
        "updated_at": "2024-03-04T09:14:45+00:00",
        "closed_at": "2024-03-04T09:14:45+00:00",
        "comments_count": [
            "nemonameless",
            "songh11",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 207,
        "title": "利好Paddle......yolov5,yolov8表示，只要你用了模型,包含ONNX模型,都必须要开源",
        "body": "https://github.com/ultralytics/ultralytics/issues/6789\r\n\r\n利好 Paddle.....\r\n\r\nyolov5,yolov8表示，\r\n只要你训练模型,调用了pt模型或者转换为onnx\r\n\r\n整个项目必须要开源\r\n遵守AGPL-3.0 污染开源协议\r\n\r\n商业项目, 只能购买企业许可证\r\n\r\n国内那么多用yolov5的小伙伴们，要小心了\r\n虽然国内环境大家都懂 ， 但是人家协议是这样...\r\n\r\n也就是说\r\n用了 PaddleYOLO 调用 yolov5 yolov8的onnx\r\n你的项目都必须要开源\r\n\r\n\r\n如果用他们的框架训练，他们会加上在线统计，记录你的IP ,\r\n\r\n虽然Google Analytics统计在国内用不了\r\n\r\n[Why does training have Google statistics ?? · Issue #2250 · ultralytics/ultralytics (github.com)](https://github.com/ultralytics/ultralytics/issues/2250)\r\n",
        "state": "closed",
        "user": "monkeycc",
        "closed_by": "nemonameless",
        "created_at": "2023-12-06T00:06:09+00:00",
        "updated_at": "2024-02-29T07:39:56+00:00",
        "closed_at": "2024-02-29T07:39:56+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 210,
        "title": "ppyoloe_seg的实例分割模型下载链接失效了",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nppyoloe_seg的实例分割模型下载链接失效了，https://paddledet.bj.bcebos.com/models/ppyoloe_seg_m_80e_coco.pdparams，是否可以重新提供下可用的模型下载链接",
        "state": "closed",
        "user": "xgyyao",
        "closed_by": "nemonameless",
        "created_at": "2023-12-27T14:30:27+00:00",
        "updated_at": "2024-03-04T09:18:31+00:00",
        "closed_at": "2024-03-04T09:18:30+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 209,
        "title": "Export model for inference",
        "body": null,
        "state": "closed",
        "user": "thanhhuyenpt",
        "closed_by": "nemonameless",
        "created_at": "2023-12-08T09:44:56+00:00",
        "updated_at": "2024-01-16T06:31:54+00:00",
        "closed_at": "2024-01-16T06:31:54+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 212,
        "title": "PPYoloe+在PaddleServing上部署报错segmentatioin fault",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n用自己的数据训练了ppyoloe+，图片大小大概在1200x1200到1150x1150左右。训练和推理时都正常。\r\n使用pipline的方式部署了ppyoloe+(部署正常未报错)，并用http方式进行预测。预测时直接卡住并报错segmentation fault。\r\n### 测试环境\r\n* paddle-serving-app        0.9.0\r\n* paddle-serving-client     0.9.0\r\n* paddle-serving-server-gpu 0.9.0.post112\r\n* paddlepaddle-gpu          2.5.2.post117\r\n### 模型导出生成的serving_server_conf.prototxt\r\n```\r\nfeed_var {\r\n  name: \"image\"\r\n  alias_name: \"image\"\r\n  is_lod_tensor: false\r\n  feed_type: 1\r\n  shape: 3\r\n  shape: 1024\r\n  shape: 1024\r\n}\r\nfeed_var {\r\n  name: \"scale_factor\"\r\n  alias_name: \"scale_factor\"\r\n  is_lod_tensor: false\r\n  feed_type: 1\r\n  shape: 2\r\n}\r\nfetch_var {\r\n  name: \"multiclass_nms3_0.tmp_0\"\r\n  alias_name: \"multiclass_nms3_0.tmp_0\"\r\n  is_lod_tensor: false\r\n  fetch_type: 1\r\n  shape: 6\r\n}\r\nfetch_var {\r\n  name: \"multiclass_nms3_0.tmp_2\"\r\n  alias_name: \"multiclass_nms3_0.tmp_2\"\r\n  is_lod_tensor: false\r\n  fetch_type: 2\r\n}\r\n```\r\n### web_service.py\r\n```python\r\nfrom paddle_serving_server.web_service import WebService, Op\r\nimport logging\r\nimport numpy as np\r\nimport sys\r\nimport cv2\r\nfrom paddle_serving_app.reader import *\r\nimport base64\r\n\r\n\r\nclass Ppyoloe(Op):\r\n    def init_op(self):\r\n        self.img_preprocess = Sequential([\r\n            BGR2RGB(), Div(255.0),\r\n            Normalize([0., 0., 0.], [1., 1., 1.], False),\r\n            Resize((1024, 1024)), Transpose((2, 0, 1))\r\n        ])\r\n        self.img_postprocess = RCNNPostprocess(\"label_list.txt\", \"output\")\r\n\r\n    def preprocess(self, input_dicts, data_id, log_id):\r\n        (_, input_dict), = input_dicts.items()\r\n        imgs = []\r\n        #print(\"keys\", input_dict.keys())\r\n        for key in input_dict.keys():\r\n            data = base64.b64decode(input_dict[key].encode('utf8'))\r\n            data = np.fromstring(data, np.uint8)\r\n            im = cv2.imdecode(data, cv2.IMREAD_COLOR)\r\n            print(im.shape)\r\n            im = self.img_preprocess(im)\r\n            # print(im.shape)\r\n            imgs.append({\r\n                \"image\": im[np.newaxis, :],\r\n                # \"im_shape\": np.array(list(im.shape[1:])).reshape(-1)[np.newaxis, :],\r\n                \"scale_factor\": np.array([1., 1.]).reshape(-1)[np.newaxis, :],\r\n            })\r\n        feed_dict = {\r\n            \"image\": np.concatenate(\r\n                [x[\"image\"] for x in imgs], axis=0),\r\n            # \"im_shape\": np.concatenate(\r\n            #     [x[\"im_shape\"] for x in imgs], axis=0),\r\n            \"scale_factor\": np.concatenate(\r\n                [x[\"scale_factor\"] for x in imgs], axis=0)\r\n        }\r\n        for key in feed_dict.keys():\r\n            print(key, feed_dict[key].shape)\r\n        return feed_dict, False, None, \"\"\r\n\r\n    def postprocess(self, input_dicts, fetch_dict, data_id, log_id):\r\n        print(\"fetch_dict = \", fetch_dict)\r\n        res_dict = {\r\n            \"bbox_result\":\r\n            str(self.img_postprocess(\r\n                fetch_dict, visualize=False))\r\n        }\r\n        print(res_dict)\r\n        return res_dict, None, \"\"\r\n\r\n\r\nclass PpyoloeService(WebService):\r\n    def get_pipeline_response(self, read_op):\r\n        ppyoloe_op = Ppyoloe(name=\"ppyoloe\", input_ops=[read_op])\r\n        return ppyoloe_op\r\n\r\nppyoloe_service = PpyoloeService(name=\"ppyoloe\")\r\nppyoloe_service.prepare_pipeline_config(\"config.yml\")\r\nppyoloe_service.run_service()\r\n```\r\n### config.yml\r\n```yaml\r\ndag:\r\n  #op资源类型, True, 为线程模型；False，为进程模型\r\n  is_thread_op: false\r\n  #使用性能分析, True，生成Timeline性能数据，对性能有一定影响；False为不使用\r\n  tracer:\r\n    interval_s: 30\r\n#http端口, rpc_port和http_port不允许同时为空。当rpc_port可用且http_port为空时，不自动生成http_port\r\nhttp_port: 9292\r\nop:\r\n  ppyoloe:\r\n    #并发数，is_thread_op=True时，为线程并发；否则为进程并发\r\n    concurrency: 10\r\n    local_service_conf:\r\n      #client类型，包括brpc, grpc和local_predictor.local_predictor不启动Serving服务，进程内预测\r\n      client_type: local_predictor\r\n      # device_type, 0=cpu, 1=gpu, 2=tensorRT, 3=arm cpu, 4=kunlun xpu\r\n      device_type: 1\r\n      #计算硬件ID，当devices为\"\"或不写时为CPU预测；当devices为\"0\", \"0,1,2\"时为GPU预测，表示使用的GPU卡\r\n      devices: '0'\r\n      #Fetch结果列表，以bert_seq128_model中fetch_var的alias_name为准, 如果没有设置则全部返回\r\n      fetch_list: ['multiclass_nms3_0.tmp_0']\r\n      #模型路径\r\n      model_config: serving_server/\r\n#rpc端口, rpc_port和http_port不允许同时为空。当rpc_port为空且http_port不为空时，会自动将rpc_port设置为http_port+1\r\nrpc_port: 9998\r\n#worker_num, 最大并发数。当build_dag_each_worker=True时, 框架会创建worker_num个进程，每个进程内构建grpcSever和DAG\r\n#当build_dag_each_worker=False时，框架会设置主线程grpc线程池的max_workers=worker_num\r\nworker_num: 20\r\n```\r\n### 报错信息\r\n```\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::AnalysisPredictor::ZeroCopyRun()\r\n1   paddle::framework::NaiveExecutor::Run()\r\n2   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, phi::Place const&)\r\n3   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, phi::Place const&) const\r\n4   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, phi::Place const&, paddle::framework::RuntimeContext*) const\r\n5   std::_Function_handler<void (paddle::framework::InferShapeContext*), paddle::framework::details::OpInfoFiller<SqueezeInferShapeFunctor, (paddle::framework::details::OpInfoFillType)4>::operator()(char const*, paddle::framework::OpInfo*) const::{lambda(paddle::framework::InferShapeContext*)#1}>::_M_invoke(std::_Any_data const&, paddle::framework::InferShapeContext*&&)\r\n6   SqueezeInferShapeFunctor::operator()(paddle::framework::InferShapeContext*) const\r\n7   phi::SqueezeInferMeta(phi::MetaTensor const&, std::vector<int, std::allocator<int> > const&, phi::MetaTensor*, phi::MetaTensor*)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nFatalError: `Segmentation fault` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 1706101784 (unix time) try \"date -d @1706101784\" if you are using GNU date ***]\r\n  [SignalInfo: *** SIGSEGV (@0x0) received by PID 17572 (TID 0x7f4bbee78700) from PID 0 ***]\r\n```\r\n### ppyoloe_plus_reader.yml\r\n```yaml\r\nworker_num: 8\r\neval_height: &eval_height 1024\r\neval_width: &eval_width 1024\r\neval_size: &eval_size [*eval_height, *eval_width]\r\n\r\nTrainReader:\r\n  sample_transforms:\r\n    - Decode: {}\r\n    # - RandomDistort: {}\r\n    # - RandomExpand: {fill_value: [123.675, 116.28, 103.53]}\r\n    # - RandomCrop: {}\r\n    - Mixup: {alpha: 1.5, beta: 1.5}\r\n    - RandomFlip: {}\r\n    - Resize: {target_size: *eval_size, keep_ratio: False, interp: 2}\r\n  batch_transforms:\r\n    # - BatchRandomResize: {target_size: [320, 352, 384, 416, 448, 480, 512, 544, 576, 608, 640, 672, 704, 736, 768], random_size: True, random_interp: True, keep_ratio: False}\r\n    - NormalizeImage: {mean: [0., 0., 0.], std: [1., 1., 1.], norm_type: none}\r\n    - Permute: {}\r\n    - PadGT: {}\r\n  batch_size: 1\r\n  mixup_epoch: 15\r\n  shuffle: true\r\n  drop_last: true\r\n  use_shared_memory: true\r\n  collate_batch: true\r\n\r\nEvalReader:\r\n  sample_transforms:\r\n    - Decode: {}\r\n    - Resize: {target_size: *eval_size, keep_ratio: False, interp: 2}\r\n    - NormalizeImage: {mean: [0., 0., 0.], std: [1., 1., 1.], norm_type: none}\r\n    - Permute: {}\r\n  batch_size: 1\r\n\r\nTestReader:\r\n  inputs_def:\r\n    image_shape: [3, *eval_height, *eval_width]\r\n  sample_transforms:\r\n    - Decode: {}\r\n    - Resize: {target_size: *eval_size, keep_ratio: False, interp: 2}\r\n    - NormalizeImage: {mean: [0., 0., 0.], std: [1., 1., 1.], norm_type: none}\r\n    - Permute: {}\r\n  batch_size: 1\r\n```",
        "state": "closed",
        "user": "hxuaj",
        "closed_by": "nemonameless",
        "created_at": "2024-01-24T13:40:43+00:00",
        "updated_at": "2024-03-04T09:17:50+00:00",
        "closed_at": "2024-03-04T09:17:50+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 213,
        "title": "Tensorrt export failed ",
        "body": "- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\r\n\r\n\r\n### Bug组件 Bug Component\r\n\r\nDeploy\r\n\r\n### Bug描述 Describe the Bug\r\n\r\nJust follow the official instructions, clone code and below commands and it will fail in the last step\r\n\r\nmodel_name=ppyoloe # yolov7\r\njob_name=ppyoloe_plus_crn_s_80e_coco # yolov7_tiny_300e_coco\r\n\r\nconfig=configs/${model_name}/${job_name}.yml\r\nlog_dir=log_dir/${job_name}\r\n# weights=https://bj.bcebos.com/v1/paddledet/models/${job_name}.pdparams\r\nweights=output/${job_name}/model_final.pdparams\r\n\r\n# 4.export\r\nCUDA_VISIBLE_DEVICES=0 python tools/export_model.py -c ${config} -o weights=${weights} # trt=True\r\n\r\n# CUDA_VISIBLE_DEVICES=0 python tools/export_model.py -c ${config} -o weights=${weights} exclude_post_process=True # trt=True\r\n\r\n# CUDA_VISIBLE_DEVICES=0 python tools/export_model.py -c ${config} -o weights=${weights} exclude_nms=True # trt=True\r\n\r\n# 5.deploy infer\r\nCUDA_VISIBLE_DEVICES=0 python deploy/python/infer.py --model_dir=output_inference/${job_name} --image_file=demo/000000014439_640x640.jpg --device=GPU\r\n\r\n# 6.deploy speed, add '--run_mode=trt_fp16' to test in TensorRT FP16 mode\r\nCUDA_VISIBLE_DEVICES=0 python deploy/python/infer.py --model_dir=output_inference/${job_name} --image_file=demo/000000014439_640x640.jpg --device=GPU --run_benchmark=True # --run_mode=trt_fp16\r\n\r\n# 7.export onnx\r\npaddle2onnx --model_dir output_inference/${job_name} --model_filename model.pdmodel --params_filename model.pdiparams --opset_version 12 --save_file ${job_name}.onnx\r\n\r\n# 8.onnx speed\r\n/usr/local/TensorRT-8.0.3.4/bin/trtexec --onnx=${job_name}.onnx --workspace=4096 --avgRuns=10 --shapes=input:1x3x640x640 --fp16\r\n\r\n/usr/local/TensorRT-8.0.3.4/bin/trtexec --onnx=${job_name}.onnx --workspace=4096 --avgRuns=10 --shapes=input:1x3x640x640 --fp32\r\n\r\nERROR:\r\n[01/26/2024-14:10:42] [W] [TRT] onnx2trt_utils.cpp:364: Your ONNX model has been generated with INT64 weights, while TensorRT does not natively support INT64. Attempting to cast down to INT32.\r\n[01/26/2024-14:10:42] [E] [TRT] ModelImporter.cpp:720: While parsing node number 871 [TopK -> \"p2o.TopK.1\"]:\r\n[01/26/2024-14:10:42] [E] [TRT] ModelImporter.cpp:721: --- Begin node ---\r\n[01/26/2024-14:10:42] [E] [TRT] ModelImporter.cpp:722: input: \"p2o.Gather.5\"\r\ninput: \"p2o.ReduceMin.1\"\r\noutput: \"p2o.TopK.1\"\r\noutput: \"p2o.TopK.2\"\r\nname: \"p2o.TopK.0\"\r\nop_type: \"TopK\"\r\n\r\n[01/26/2024-14:10:42] [E] [TRT] ModelImporter.cpp:723: --- End node ---\r\n[01/26/2024-14:10:42] [E] [TRT] ModelImporter.cpp:726: ERROR: builtin_op_importers.cpp:4292 In function importTopK:\r\n[8] Assertion failed: (inputs.at(1).is_weights()) && \"This version of TensorRT only supports input K as an initializer.\"\r\n[01/26/2024-14:10:42] [E] Failed to parse onnx file\r\n[01/26/2024-14:10:42] [I] Finish parsing network model\r\n[01/26/2024-14:10:42] [E] Parsing model failed\r\n[01/26/2024-14:10:42] [E] Engine creation failed\r\n[01/26/2024-14:10:42] [E] Engine set up failed\r\n&&&& FAILED TensorRT.trtexec [TensorRT v8003] # /TRT/TensorRT-8.0.3.4/bin/trtexec --onnx=ppyoloe_plus_crn_s_80e_coco.onnx --workspace=4096 --avgRuns=10 --shapes=input:1x3x640x640 --fp16\r\n\r\nFor fp16:\r\nalso this version of TensorRT-8.0.3.4 is very old, atleast cuda 12 should be supported, also i tested with latest tensorrt 8.6 same error ?\r\n\r\nAlso Unknown option: --fp32\r\n\r\nPlease provide proper documentation for tensorrt deployment\r\n\r\nThanks\r\n\r\n\r\n### 复现环境 Environment\r\n\r\nUbuntu 20.04 Linux\r\nPython 3.8.10\r\nPaddlepaddle 2.5.2\r\ncuda11.3.1\r\nCuDNN8.2.1\r\nTensorrt 8.4.1.5\r\nPaddleDetection: develop branch\r\nGCC 9.4.0\r\n\r\n### Bug描述确认 Bug description confirmation\r\n\r\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\r\n\r\n\r\n### 是否愿意提交PR？ Are you willing to submit a PR?\r\n\r\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "karthikbalu",
        "closed_by": "nemonameless",
        "created_at": "2024-01-26T06:19:03+00:00",
        "updated_at": "2024-07-25T04:08:52+00:00",
        "closed_at": "2024-07-25T04:08:52+00:00",
        "comments_count": [
            "nemonameless",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 215,
        "title": "关于检测和分割的多任务",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n1. 任务目标（请描述你正在做的项目是什么，如模型、论文、项目是什么？）;\r\n \r\n我这边的场景除了检测外，还需要进行分类，是否可以考虑采用Mult-Task的方案，在输出检测结果的同时，也输出分割的结果？\r\n\r\n2. 需求场景（请描述你的项目中为什么需要用此功能）; \r\n\r\n需要被检测物体的精确Mask信息\r\n\r\n3. 功能描述（请简单描述或设计这个功能）\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "TimZhang001",
        "closed_by": "nemonameless",
        "created_at": "2024-04-01T08:08:46+00:00",
        "updated_at": "2024-04-16T04:09:01+00:00",
        "closed_at": "2024-04-16T04:09:01+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 216,
        "title": "有计划整合YOLOv9吗？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n有计划整合YOLOv9吗？有的话预计什么时候呢？",
        "state": "closed",
        "user": "Ruanlt",
        "closed_by": "nemonameless",
        "created_at": "2024-04-02T03:05:15+00:00",
        "updated_at": "2024-04-16T04:08:51+00:00",
        "closed_at": "2024-04-16T04:08:51+00:00",
        "comments_count": [
            "nemonameless",
            "Ruanlt"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 220,
        "title": "如何查看参数量",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nredetr中查看参数量的代码有误，paddle.flops下面参数名不对",
        "state": "closed",
        "user": "ilovefanjian",
        "closed_by": "nemonameless",
        "created_at": "2024-05-03T07:33:45+00:00",
        "updated_at": "2024-07-22T14:26:29+00:00",
        "closed_at": "2024-07-22T14:26:29+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 219,
        "title": "rtdetr评估报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nrtdetr_r18模型边训练边评估，评估时报错Traceback (most recent call last):\r\n  File \"tools/train.py\", line 198, in <module>\r\n    main()\r\n  File \"tools/train.py\", line 194, in main\r\n    run(FLAGS, cfg)\r\n  File \"tools/train.py\", line 147, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"E:\\PaddleYOLO-develop\\ppdet\\engine\\trainer.py\", line 496, in train\r\n    self._eval_with_loader(self._eval_loader)\r\n  File \"E:\\PaddleYOLO-develop\\ppdet\\engine\\trainer.py\", line 533, in _eval_with_loader\r\n    outs = self.model(data)\r\n  File \"D:\\anaconda\\A\\envs\\pd\\lib\\site-packages\\paddle\\nn\\layer\\layers.py\", line 1429, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"E:\\PaddleYOLO-develop\\ppdet\\modeling\\architectures\\meta_arch.py\", line 76, in forward\r\n    outs.append(self.get_pred())\r\n  File \"E:\\PaddleYOLO-develop\\ppdet\\modeling\\architectures\\detr.py\", line 116, in get_pred\r\n    return self._forward()\r\n  File \"E:\\PaddleYOLO-develop\\ppdet\\modeling\\architectures\\detr.py\", line 103, in _forward\r\n    bbox, bbox_num, mask = self.post_process(\r\nAttributeError: 'tuple' object has no attribute 'shape'\r\n",
        "state": "closed",
        "user": "ilovefanjian",
        "closed_by": "nemonameless",
        "created_at": "2024-05-02T10:05:23+00:00",
        "updated_at": "2024-06-24T06:07:26+00:00",
        "closed_at": "2024-06-24T06:07:26+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 233,
        "title": "OSError: (External) CUDA error(719), unspecified launch failure",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\npython tools/train.py -c jswork\\configs\\yolov8\\yolov8_s_500e_coco.yml\r\n报如下错误信息：\r\n[06/24 13:09:51] ppdet.data.source.coco INFO: Load [132 samples valid, 0 samples invalid] in file E:/Data/QJU006A_LAB/coco\\annotations/instance_train.json.\r\nW0624 13:09:51.744545 29832 gpu_resources.cc:119] Please NOTE: device: 0, GPU Compute Capability: 8.9, Driver API Version: 12.5, Runtime API Version: 11.8 \r\nW0624 13:09:51.754547 29832 gpu_resources.cc:164] device: 0, cuDNN Version: 8.6.\r\nError: ../paddle/phi/kernels/funcs/gather.cu.h:67 Assertion `index_value >= 0 && index_value < input_dims[j]` failed. The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than [2] and greater than or equal to 0, but received [0]\r\nError: ../paddle/phi/kernels/funcs/gather.cu.h:67 Assertion `index_value >= 0 && index_value < input_dims[j]` failed. The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than [2] and greater than or equal to 0, but received [0]\r\nError: ../paddle/phi/kernels/funcs/gather.cu.h:67 Assertion `index_value >= 0 && index_value < input_dims[j]` failed. The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than [2] and greater than or equal to 0, but received [0]\r\nError: ../paddle/phi/kernels/funcs/gather.cu.h:67 Assertion `index_value >= 0 && index_value < input_dims[j]` failed. The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than [2] and greater than or equal to 0, but received [0]\r\nError: ../paddle/phi/kernels/funcs/gather.cu.h:67 Assertion `index_value >= 0 && index_value < input_dims[j]` failed. The index is out of bounds, please check whether the dimensions of index and input meet the requirements. It should be less than [2] and greater than or equal to 0, but received [0]\r\nFile \"D:\\Project\\Paddle\\PaddleYOLO-develop\\ppdet\\modeling\\heads\\yolov8_head.py\", line 276, in get_loss\r\n    self.assigner(\r\n  File \"E:\\ProgramData\\Anaconda3\\envs\\pd2.6.0\\lib\\site-packages\\paddle\\nn\\layer\\layers.py\", line 1429, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"E:\\ProgramData\\Anaconda3\\envs\\pd2.6.0\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"E:\\ProgramData\\Anaconda3\\envs\\pd2.6.0\\lib\\site-packages\\paddle\\base\\dygraph\\base.py\", line 352, in _decorate_function\r\n    return func(*args, **kwargs)\r\n  File \"D:\\Project\\Paddle\\PaddleYOLO-develop\\ppdet\\modeling\\assigners\\task_aligned_assigner.py\", line 148, in forward\r\n    is_in_topk = gather_topk_anchors(\r\n  File \"D:\\Project\\Paddle\\PaddleYOLO-develop\\ppdet\\modeling\\assigners\\utils.py\", line 105, in gather_topk_anchors\r\n    return is_in_topk * topk_mask\r\nOSError: (External) CUDA error(719), unspecified launch failure.\r\n  [Hint: 'cudaErrorLaunchFailure'. An exception occurred on the device while executing a kernel. Common causes include dereferencing an invalid device pointerand accessing out of bounds shared memory. Less common cases can be system specific - more information about these cases canbe found in the system specific user guide. This leaves the process in an inconsistent state and any further CUDA work willreturn the same error. To continue using CUDA, the process must be terminated and relaunched.] (at ..\\paddle\\phi\\backends\\gpu\\cuda\\cuda_info.cc:272)\r\n\r\n\r\n**平台：win10**\r\n**显卡：RTX4060 laptop**\r\n**Cuda：11.8**\r\n**Cudnn：8.6.0**\r\n**Paddle：2.6.0**",
        "state": "closed",
        "user": "JohnsenJiang",
        "closed_by": "nemonameless",
        "created_at": "2024-06-24T05:17:48+00:00",
        "updated_at": "2024-07-19T02:51:14+00:00",
        "closed_at": "2024-07-19T02:51:14+00:00",
        "comments_count": [
            "JohnsenJiang",
            "nemonameless",
            "JohnsenJiang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 221,
        "title": "yolov5_s_60e_voc.yml与yolov5_s_300e_coco.yml",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n1.用configs\\voc\\yolov5_s_60e_voc.yml.和configs\\yolov5\\yolov5_s_300e_coco.yml训练VOC自定义数据集有多大的精度或者其他方面的差距\r\n2.或者说yolov5_s_300e_coco.yml和yolov5_s_60e_voc.yml有什么区别（除了训练不同格式的训练集外），我看着好像没有多大区别。3.能用里面所有的XXXXXX_XXXX.coco.yml的模型来训练我的自定义的VOC训练集吗。（我试着也能训练）",
        "state": "closed",
        "user": "Hari-Seldonn",
        "closed_by": "nemonameless",
        "created_at": "2024-05-10T06:30:29+00:00",
        "updated_at": "2024-07-19T02:51:27+00:00",
        "closed_at": "2024-07-19T02:51:27+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 234,
        "title": "与测时未能显示标签",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n在Conda虚拟环境中搭建PaddlePaddle，同时安装PaddleDetection和PaddleYOLO环境,并安装了requirements依赖项。运行python tools/infer.py -c configs/ppyolo/ppyolo_r50vd_dcn_1x_coco.yml -o use_gpu=false weights=https://paddledet.bj.bcebos.com/models/ppyolo_r50vd_dcn_1x_coco.pdparams --infer_img=demo/000000570688.jpg  测试时，PaddleDetection可显示标签，PaddleYOLO无法显示标签。\r\n![Uploading 000000570688.jpg…]()\r\n![Uploading 000000570688.jpg…]()\r\n也设计了VOC格式的淡水鱼识别系统，采用YOLOX网络。运行infer时，也是无法显示标签，\r\n![Uploading 2_pangxie.jpg…]()\r\n![Uploading 3_jiyu.jpg…]()\r\n查找各类资料也未发现具体原因。",
        "state": "closed",
        "user": "lbsonggz",
        "closed_by": "nemonameless",
        "created_at": "2024-06-25T07:34:35+00:00",
        "updated_at": "2024-07-25T04:11:24+00:00",
        "closed_at": "2024-07-25T04:11:24+00:00",
        "comments_count": [
            "nemonameless",
            "lbsonggz",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 237,
        "title": "YOLOv8s 训练loss显示不正常",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\n单卡bs=16 fp32 训练yolov8s\r\n\r\n![image](https://github.com/user-attachments/assets/972d9de8-f07d-4d4f-b1d2-b933c6acafe4)\r\n\n\n### 复现环境 Environment\n\nPaddlePaddle 3.0\r\ncuda11.8\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "MINGtoMING",
        "closed_by": "nemonameless",
        "created_at": "2024-07-22T12:24:40+00:00",
        "updated_at": "2024-07-25T13:21:18+00:00",
        "closed_at": "2024-07-25T13:21:18+00:00",
        "comments_count": [
            "MINGtoMING",
            "nemonameless",
            "MINGtoMING"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 239,
        "title": "关于昇腾910b部署和batchsize问题",
        "body": "### 问题确认 Search before asking\r\n\r\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\r\n\r\n\r\n### 请提出你的问题 Please ask your question\r\n\r\n有两个问题：\r\n1. （YOLO检测模型建议总batch_size至少大于64去训练，如果资源不够请换小模型或减小模型的输入尺度，为了保障较高检测精度，尽量不要尝试单卡训和总batch_size小于64训。）这个是仅对于YOLOv5-v8那些吗？还是包含了PP-YOLOE和E+？YOLOv8的话单卡精度高吗？\r\n2. （新增昇腾910B硬件支持，支持的模型见 [模型列表](https://github.com/PaddlePaddle/PaddleYOLO/blob/develop/docs/hardware/supported_models.md)）列表里只看到了PP-YOLOE seg，那么910b支持PP-YOLOE和PP-YOLOE+吗？还是说这两个都不支持？",
        "state": "closed",
        "user": "IceHowe",
        "closed_by": "nemonameless",
        "created_at": "2024-07-26T07:20:17+00:00",
        "updated_at": "2024-07-30T04:42:19+00:00",
        "closed_at": "2024-07-30T04:42:19+00:00",
        "comments_count": [
            "nemonameless",
            "IceHowe",
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 244,
        "title": "How does the inputs and outputs work. What is scale factor and can I disable it? ",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nFull disclosure, I am not an ML expert and barely understand the fundamentals so I apologize if this is ignorant. I can get around the tool chains, read directions, and solve dependency issues.\r\n\r\nMost yolo tool chains, have an input and output. When exporting paddle models it has input, scale factor, and two scale factor outputs. I don't know how any of the layers work, I just know that scale factor seems unique to paddlepaddle, and I use fixed size everything, I don't even want that. I'm not scaling anything.\r\n\r\nIs there a way to disable the use of scalefactor and export a simple in/out model?",
        "state": "open",
        "user": "rlewkowicz",
        "closed_by": null,
        "created_at": "2024-08-09T21:48:54+00:00",
        "updated_at": "2024-08-09T21:48:58+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 245,
        "title": "华为910B arch64训练yolo-seg速度异常慢，图像读取速度异常",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n使用paddle版本:(3.0版本训练异常）\r\n![image](https://github.com/user-attachments/assets/4c74a5a1-8c4f-473f-bb79-3db6402b286d)\r\ndocker镜像：\r\nregistry.baidubce.com/device/paddle-npu:cann80RC1-ubuntu20-aarch64-gcc84-py310\r\n训练状态：\r\n![image](https://github.com/user-attachments/assets/b52686f1-957c-4050-a444-6dec9f18fd57)\r\n使用多个版本yolo-seg均出现类似情况，希望能得到解决",
        "state": "open",
        "user": "Hucley",
        "closed_by": null,
        "created_at": "2024-08-11T01:11:17+00:00",
        "updated_at": "2024-08-11T01:11:21+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 240,
        "title": "关于昇腾910b部署和batchsize问题（续）",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n有两个问题：\r\n\r\n1. （YOLO检测模型建议总batch_size至少大于64去训练，如果资源不够请换小模型或减小模型的输入尺度，为了保障较高检测精度，尽量不要尝试单卡训和总batch_size小于64训。）这个是仅对于YOLOv5-v8那些吗？还是包含了PP-YOLOE和E+？YOLOv8的话单卡精度高吗？\r\n2. （新增昇腾910B硬件支持，支持的模型见 [模型列表](https://github.com/PaddlePaddle/PaddleYOLO/blob/develop/docs/hardware/supported_models.md)）列表里只看到了PP-YOLOE seg，那么910b支持PP-YOLOE和PP-YOLOE+吗？还是说这两个都不支持？\r\n\r\n给我的回复是：\r\n1. 针对所有yolo模型。单卡训只要bs开到64以上还是可以的，单卡总bs=8这种设置去训是训不高的。\r\n2. PPYOLOE系列都支持，seg是指检测基础上的实例分割，模型上看就是新增了做seg的head。\r\n\r\n回复没有表述清楚，还有以下问题：\r\n1. 这个情况对于PP-YOLOE系列及PP-YOLOE+也是这样必须单卡bs64以上吗？\r\n2. PPYOLOE+也属于PPYOLOE系列是吗？是不是也可以支持昇腾910b？",
        "state": "closed",
        "user": "IceHowe",
        "closed_by": "nemonameless",
        "created_at": "2024-07-30T02:57:25+00:00",
        "updated_at": "2024-07-30T04:43:05+00:00",
        "closed_at": "2024-07-30T04:43:05+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 242,
        "title": "为什么这个库的license要选择GPL呢？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n为什么这个库的license要选择GPL呢？而不是保持其他paddle库的apache-2.0?",
        "state": "closed",
        "user": "nicken",
        "closed_by": "nemonameless",
        "created_at": "2024-08-05T02:49:08+00:00",
        "updated_at": "2024-08-08T04:29:44+00:00",
        "closed_at": "2024-08-08T04:29:43+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 241,
        "title": "有计划整合YOLOv10吗？谢谢。从V8到V10需要经过什么样的开发才行？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n1. 任务目标（请描述你正在做的项目是什么，如模型、论文、项目是什么？）; 2. 需求场景（请描述你的项目中为什么需要用此功能）; 3. 功能描述（请简单描述或设计这个功能）\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [X] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "yongcong1415",
        "closed_by": "nemonameless",
        "created_at": "2024-07-30T04:14:06+00:00",
        "updated_at": "2024-09-04T07:01:10+00:00",
        "closed_at": "2024-09-04T07:01:10+00:00",
        "comments_count": [
            "nemonameless"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 243,
        "title": "On export, KeyError: 'name'",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nExport\n\n### Bug描述 Describe the Bug\n\n```\r\nPS C:\\Repos\\ultralytics\\yolov10\\PaddleYOLO> python tools/export_model.py -c configs/yolov10/yolov10_s_500e_coco.yml -o weights=output/yolov10_s_500e_coco/best_model.pdparams\r\nTraceback (most recent call last):\r\n  File \"C:\\Repos\\ultralytics\\yolov10\\PaddleYOLO\\tools\\export_model.py\", line 107, in <module>\r\n    main()\r\n  File \"C:\\Repos\\ultralytics\\yolov10\\PaddleYOLO\\tools\\export_model.py\", line 103, in main\r\n    run(FLAGS, cfg)\r\n  File \"C:\\Repos\\ultralytics\\yolov10\\PaddleYOLO\\tools\\export_model.py\", line 64, in run\r\n    trainer = Trainer(cfg, mode='test')\r\n  File \"C:\\Repos\\ultralytics\\yolov10\\PaddleYOLO\\ppdet\\engine\\trainer.py\", line 195, in __init__\r\n    self.dataset = self.cfg['{}Dataset'.format(capital_mode)] = create(\r\n  File \"C:\\Repos\\ultralytics\\yolov10\\PaddleYOLO\\ppdet\\core\\workspace.py\", line 292, in create\r\n    return cls(**cls_kwargs)\r\n  File \"C:\\Repos\\ultralytics\\yolov10\\PaddleYOLO\\ppdet\\data\\source\\dataset.py\", line 278, in __init__\r\n    type = dataset_args.pop(\"name\")\r\nKeyError: 'name'\r\n```\n\n### 复现环境 Environment\n\n```\r\nOS                  Windows-11\r\nEnvironment         Windows\r\nPython              3.10.9\r\n```\r\n\r\n```\r\npaddle2onnx                    1.0.6\r\npaddledet                      2.6.0                c:\\repos\\ultralytics\\yolov10\\paddleyolo\r\npaddlepaddle                   2.6.1\r\npaddlepaddle-gpu               2.6.1\r\n```\r\n\r\n\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "rlewkowicz",
        "closed_by": "rlewkowicz",
        "created_at": "2024-08-09T13:24:21+00:00",
        "updated_at": "2024-08-09T15:57:51+00:00",
        "closed_at": "2024-08-09T15:57:51+00:00",
        "comments_count": [
            "rlewkowicz"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 246,
        "title": "yolov7_tiny_320_300e_coco.yml单类别目标检测，输出置信度在0.5左右",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nyolov7_tiny_320_300e_coco.yml单类别目标检测，将训练图像输入infer.py，输出置信度在0.5左右。\r\n\r\n训练小部分log\r\n[08/19 00:33:16] ppdet.engine INFO: Epoch: [997] [100/328] eta: 0:02:05 lr: 0.000007 loss_box: 0.012405 loss_cls: 0.000000 loss_obj: 0.016536 loss: 0.028852 batch_cost: 0.1540 data_cost: 0.0005 ips: 103.9102 images/s max_mem_reserved: 1701 MB d max_mem_allocated: 1228 MB\r\n[08/19 00:33:31] ppdet.engine INFO: Epoch: [997] [200/328] eta: 0:01:50 lr: 0.000007 loss_box: 0.012056 loss_cls: 0.000000 loss_obj: 0.016032 loss: 0.027945 batch_cost: 0.1539 data_cost: 0.0004 ips: 103.9593 images/s max_mem_reserved: 1701 MB d max_mem_allocated: 1228 MB\r\n[08/19 00:33:49] ppdet.engine INFO: Epoch: [997] [300/328] eta: 0:01:36 lr: 0.000007 loss_box: 0.012286 loss_cls: 0.000000 loss_obj: 0.016154 loss: 0.028774 batch_cost: 0.1775 data_cost: 0.0104 ips: 90.1479 images/s max_mem_reserved: 1701 MB d max_mem_allocated: 1228 MB",
        "state": "open",
        "user": "JohnsenJiang",
        "closed_by": null,
        "created_at": "2024-08-20T05:24:19+00:00",
        "updated_at": "2024-08-20T05:31:16+00:00",
        "closed_at": null,
        "comments_count": [
            "JohnsenJiang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 247,
        "title": "YOLOv9和YOLOv10计划加入时间呢",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n1. 任务目标（请描述你正在做的项目是什么，如模型、论文、项目是什么？）; 2. 需求场景（请描述你的项目中为什么需要用此功能）; 3. 功能描述（请简单描述或设计这个功能）\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [X] Yes I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "jackros1022",
        "closed_by": "jackros1022",
        "created_at": "2024-09-04T01:43:14+00:00",
        "updated_at": "2024-09-04T01:44:41+00:00",
        "closed_at": "2024-09-04T01:44:41+00:00",
        "comments_count": [
            "jackros1022"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 248,
        "title": "量化  ",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n这个套件下训练出来的模型如何做量化，可以给个文档吗？\r\nPaddleYOLO/tools/post_quant.py  这个是做量化吗？有没有文档",
        "state": "open",
        "user": "wangqingpen",
        "closed_by": null,
        "created_at": "2024-09-09T03:16:17+00:00",
        "updated_at": "2024-09-09T03:17:40+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 249,
        "title": "如何在configs的yml文件中修改随机数种子seed？如果要在其他地方修改，又需要怎么修改呢？",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n如何在configs的yml文件中修改随机数种子seed？如果需要在其他的文件中修改，又该如何修改呢？",
        "state": "open",
        "user": "Prince5867",
        "closed_by": null,
        "created_at": "2024-09-29T01:01:59+00:00",
        "updated_at": "2024-09-29T01:02:04+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 250,
        "title": "新paddle TypePromotion报错",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nTraining, Inference\n\n### Bug描述 Describe the Bug\n\nhttps://github.com/PaddlePaddle/PaddleYOLO/blob/develop/ppdet/modeling/heads/yolov8_head.py#L998\r\n\r\n![image](https://github.com/user-attachments/assets/a60f6bc0-6943-4b45-88c2-3a08128fa1b5)\r\n\n\n### 复现环境 Environment\n\nPython :3.10\r\nPaddle :develop(2024-9-3)\r\n\n\n### Bug描述确认 Bug description confirmation\n\n- [X] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "open",
        "user": "jinmingyi1998",
        "closed_by": null,
        "created_at": "2024-11-08T03:34:23+00:00",
        "updated_at": "2024-11-08T03:34:26+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 251,
        "title": "我的数据集图像尺寸是4096*3000的，调整输入之后，训练保存",
        "body": "### 问题确认 Search before asking\n\n- [X] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n报错信息：\r\n[11/19 12:43:36] ppdet.data.source.coco INFO: Load [2733 samples valid, 0 samples invalid] in file /configs/coco_nic/train.json.\r\nW1119 12:43:36.647198 20760 gpu_resources.cc:119] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 12.1, Runtime API Version: 11.2\r\nW1119 12:43:36.653468 20760 gpu_resources.cc:164] device: 0, cuDNN Version: 8.1.\r\nW1119 12:43:39.662191 20760 gpu_resources.cc:299] WARNING: device: . The installed Paddle is compiled with CUDNN 8.2, but CUDNN version in your machine is 8.1, which may cause serious incompatible bug. Please recompile or reinstall Paddle with compatible CUDNN version.\r\nTraceback (most recent call last):\r\n  File \"/home/PaddleYOLO/tools/train.py\", line 202, in <module>\r\n    main()\r\n  File \"/home/PaddleYOLO/tools/train.py\", line 198, in main\r\n    run(FLAGS, cfg)\r\n  File \"/home/PaddleYOLO/tools/train.py\", line 151, in run\r\n    trainer.train(FLAGS.eval)\r\n  File \"/home/PaddleYOLO/ppdet/engine/trainer.py\", line 548, in train\r\n    outputs = model(data)\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/nn/layer/layers.py\", line 1429, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/distributed/parallel.py\", line 528, in forward\r\n    outputs = self._layers(*inputs, **kwargs)\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/nn/layer/layers.py\", line 1429, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/PaddleYOLO/ppdet/modeling/architectures/meta_arch.py\", line 60, in forward\r\n    out = self.get_loss()\r\n  File \"/home/PaddleYOLO/ppdet/modeling/architectures/yolov8.py\", line 106, in get_loss\r\n    return self._forward()\r\n  File \"/home/PaddleYOLO/ppdet/modeling/architectures/yolov8.py\", line 77, in _forward\r\n    neck_feats = self.neck(body_feats, self.for_mot)\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/nn/layer/layers.py\", line 1429, in __call__\r\n    return self.forward(*inputs, **kwargs)\r\n  File \"/home/PaddleYOLO/ppdet/modeling/necks/yolov8_pafpn.py\", line 199, in forward\r\n    f_concat0 = paddle.concat([up_feat0, c5], 1)\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/tensor/manipulation.py\", line 1263, in concat\r\n    return _C_ops.concat(input, axis)\r\nValueError: (InvalidArgument) The 2-th dimension of input[0] and input[1] is expected to be equal.But received input[0]'s shape = [2, 640, 48, 64], input[1]'s shape = [2, 640, 47, 64].\r\n  [Hint: Expected inputs_dims[0][j] == inputs_dims[i][j], but received inputs_dims[0][j]:48 != inputs_dims[i][j]:47.] (at ../paddle/phi/kernels/funcs/concat_funcs.h:83)\r\n  \r\nreader配置：\r\ninput_height: &input_height 3000\r\ninput_width: &input_width 4096\r\ninput_size: &input_size [*input_height, *input_width]\r\nmosaic_epoch: &mosaic_epoch 490 # last 10 epochs close mosaic, totally 500 epochs as default \r\n\r\n在不修改原始图像尺寸的情况下，如何修改才能使模型能支持我的图像输入尺寸？\r\n",
        "state": "open",
        "user": "njflove",
        "closed_by": null,
        "created_at": "2024-11-19T13:08:23+00:00",
        "updated_at": "2024-11-19T13:08:29+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 255,
        "title": "SystemError: (Fatal) DataLoader process (pid 2176640) exited is killed by signal: Aborted. (at /paddle/paddle/fluid/imperative/data_loader.cc:189)这个问题咋解决",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\nFile \"/home/gpu03/PaddleYOLO-release-2.6/tools/train.py\", line 138, in run\n    trainer = Trainer(cfg, mode='train')\n  File \"/home/gpu03/PaddleYOLO-release-2.6/ppdet/engine/trainer.py\", line 92, in __init__\n    self.model = create(cfg.architecture)\n  File \"/home/gpu03/PaddleYOLO-release-2.6/ppdet/core/workspace.py\", line 255, in create\n    cls_kwargs.update(cls.from_config(config, **kwargs))\n  File \"/home/gpu03/PaddleYOLO-release-2.6/ppdet/modeling/architectures/yolov8.py\", line 56, in from_config\n    backbone = create(cfg['backbone'])\n  File \"/home/gpu03/PaddleYOLO-release-2.6/ppdet/core/workspace.py\", line 292, in create\n    return cls(**cls_kwargs)\n  File \"/home/gpu03/PaddleYOLO-release-2.6/ppdet/modeling/backbones/yolov8_csp_darknet.py\", line 159, in __init__\n    self.stem = Conv(\n  File \"/home/gpu03/PaddleYOLO-release-2.6/ppdet/modeling/backbones/csp_darknet.py\", line 64, in __init__\n    self.conv = nn.Conv2D(\n  File \"/home/gpu03/Anaconda3/envs/paddleyolo2/lib/python3.10/site-packages/paddle/nn/layer/conv.py\", line 690, in __init__\n    super().__init__(\n  File \"/home/gpu03/Anaconda3/envs/paddleyolo2/lib/python3.10/site-packages/paddle/nn/layer/conv.py\", line 156, in __init__\n    self.weight = self.create_parameter(\n  File \"/home/gpu03/Anaconda3/envs/paddleyolo2/lib/python3.10/site-packages/paddle/nn/layer/layers.py\", line 781, in create_parameter\n    return self._helper.create_parameter(\n  File \"/home/gpu03/Anaconda3/envs/paddleyolo2/lib/python3.10/site-packages/paddle/base/layer_helper_base.py\", line 430, in create_parameter\n    return self.main_program.global_block().create_parameter(\n  File \"/home/gpu03/Anaconda3/envs/paddleyolo2/lib/python3.10/site-packages/paddle/base/framework.py\", line 4381, in create_parameter\n    initializer(param, self)\n  File \"/home/gpu03/Anaconda3/envs/paddleyolo2/lib/python3.10/site-packages/paddle/nn/initializer/initializer.py\", line 40, in __call__\n    return self.forward(param, block)\n  File \"/home/gpu03/Anaconda3/envs/paddleyolo2/lib/python3.10/site-packages/paddle/nn/initializer/normal.py\", line 75, in forward\n    out_var = _C_ops.gaussian(\n  File \"/home/gpu03/Anaconda3/envs/paddleyolo2/lib/python3.10/site-packages/paddle/io/multiprocess_utils.py\", line 133, in __handler__\n    core._throw_error_if_process_failed()\nSystemError: (Fatal) DataLoader process (pid 2176640) exited is killed by signal: Aborted. (at /paddle/paddle/fluid/imperative/data_loader.cc:189)\n\nI0113 15:40:51.830221 2176593 process_group_nccl.cc:132] ProcessGroupNCCL destruct ",
        "state": "open",
        "user": "Kitzzaaa",
        "closed_by": null,
        "created_at": "2025-01-17T08:38:00+00:00",
        "updated_at": "2025-01-22T07:59:17+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 261,
        "title": "端侧部署",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n请问目前训练出来的模型支持端侧部署吗，比如转成paddlelite支持的格式",
        "state": "open",
        "user": "Little-Star888",
        "closed_by": null,
        "created_at": "2025-03-31T00:58:02+00:00",
        "updated_at": "2025-03-31T00:58:07+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 260,
        "title": "找不到YOLO11",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有类似需求。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar feature requests.\n\n\n### 需求描述 Feature Description\n\n介绍里说支持YOLO11，但configs里找不到YOLO11的相关配置文件,有计划添加吗\n\n### 是否愿意提交PR Are you willing to submit a PR?\n\n- [ ] Yes I'd like to help by submitting a PR!",
        "state": "open",
        "user": "m00nLi",
        "closed_by": null,
        "created_at": "2025-03-13T09:54:38+00:00",
        "updated_at": "2025-03-18T05:37:03+00:00",
        "closed_at": null,
        "comments_count": [
            "nemonameless",
            "m00nLi"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 262,
        "title": "yolov10用自定义的数据集，发生RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nTraining\n\n### Bug描述 Describe the Bug\n\n我使用自定义数据集[（网址）](https://aistudio.baidu.com/datasetdetail/50329/0)，来微调yolov10_b_500e_coco模型。\n训练命令如下\n`CUDA_VISIABLE_DEVICES=0 python tools/train.py -c ${config} -o pretrain_weights=${weights}`\n在训练第一轮就发生了如下报错\n```\n[04/08 11:54:11] ppdet.engine INFO: Epoch: [0] [ 350/2250] eta: 0:16:40 lr: 0.000005 o2m_loss: 16.379039 o2m_loss_cls: 8.738838 o2m_loss_iou: 3.971406 o2m_loss_dfl: 3.555639 o2m_loss_l1: 1.386429 o2o_loss: 18.704492 o2o_loss_cls: 11.795670 o2o_loss_iou: 3.904775 o2o_loss_dfl: 3.201720 o2o_loss_l1: 0.758817 loss: 35.354788 batch_cost: 0.2224 data_cost: 0.0003 ips: 8.9914 images/s max_mem_reserved: 2948 MB d max_mem_allocated: 2835 MB\nException in thread Thread-1 (_thread_loop):\nTraceback (most recent call last):\n  File \"/home/pc/miniconda3/envs/pad30/lib/python3.10/threading.py\", line 1016, in _bootstrap_inner\n    self.run()\n  File \"/home/pc/miniconda3/envs/pad30/lib/python3.10/threading.py\", line 953, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/home/pc/miniconda3/envs/pad30/lib/python3.10/site-packages/paddle/io/dataloader/dataloader_iter.py\", line 650, in _thread_loop\n    raise e\n  File \"/home/pc/miniconda3/envs/pad30/lib/python3.10/site-packages/paddle/io/dataloader/dataloader_iter.py\", line 633, in _thread_loop\n    array.append(tensor)\nRuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.\n  [Hint: holder_ should not be null.] (at ../paddle/phi/core/dense_tensor_impl.cc:46)\n\nTraceback (most recent call last):\n  File \"/home/pc/yolotest/../PaddleYOLO/tools/train.py\", line 202, in <module>\n    main()\n  File \"/home/pc/yolotest/../PaddleYOLO/tools/train.py\", line 198, in main\n    run(FLAGS, cfg)\n  File \"/home/pc/yolotest/../PaddleYOLO/tools/train.py\", line 151, in run\n    trainer.train(FLAGS.eval)\n  File \"/home/pc/PaddleYOLO/ppdet/engine/trainer.py\", line 494, in train\n    for step_id, data in enumerate(self.loader):\n  File \"/home/pc/PaddleYOLO/ppdet/data/reader.py\", line 214, in __next__\n    return next(self.loader)\n  File \"/home/pc/miniconda3/envs/pad30/lib/python3.10/site-packages/paddle/io/dataloader/dataloader_iter.py\", line 840, in __next__\n    self._reader.read_next_list()[0]\nSystemError: (Fatal) Blocking queue is killed because the data reader raises an exception.\n  [Hint: Expected killed_ != true, but received killed_:1 == true:1.] (at ../paddle/phi/core/operators/reader/blocking_queue.h:179)\n```\n数据集我转换为coco格式json文件在附件。\n同时，我使用相同自定义数据集微调ppyoloe_plus_crn_s_80e_coco可以完整训练，没有报错。\n\n希望官方能给出解答，谢谢。\n\n[instance_train.json](https://github.com/user-attachments/files/19642533/instance_train.json)\n\n### 复现环境 Environment\n\nLinux\nPaddle-3.0.0rc\nPaddleYOLO-develop\nCUDA11.8\nPython3.10\nGCC11.4\n\n### Bug描述确认 Bug description confirmation\n\n- [x] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "closed",
        "user": "kankj",
        "closed_by": "kankj",
        "created_at": "2025-04-08T04:45:17+00:00",
        "updated_at": "2025-04-08T09:57:11+00:00",
        "closed_at": "2025-04-08T09:57:11+00:00",
        "comments_count": [
            "kankj"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 263,
        "title": "在训练服务器上，开启了GPU训练，但是GPU的使用率一直为0，CPU使用率很高，看起来GPU训练没有生效，换了很多版本都不行？",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n<img width=\"585\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/30b18c7e-bab9-4ce8-9e92-becd0ae44c50\" />\n\n<img width=\"637\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/214503ee-b04f-432c-9d02-7be3c94df586\" />\n\n<img width=\"648\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8c0c7b39-8abf-4c9e-a77a-c32abfdc6d37\" />\n\n<img width=\"697\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/c2c67e44-05b5-4e6f-a99b-9807bfde6854\" />\n\n<img width=\"1235\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/fdccb7f5-294b-436b-b7c8-b8b9c5018d9f\" />\n\nOS: ubuntu 22.04\nCUDA: 11.8\nCUDNN: 8.6.0.163\nPython:  3.10\nPaddle: 2.6.2\n显卡： 3090\n\n困扰了很久，求助！",
        "state": "open",
        "user": "shine4net",
        "closed_by": null,
        "created_at": "2025-04-15T13:07:05+00:00",
        "updated_at": "2025-05-26T07:43:04+00:00",
        "closed_at": null,
        "comments_count": [
            "shine4net",
            "shine4net"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 264,
        "title": "TypeError: can only concatenate list (not \"tuple\") to list",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\n_No response_\n\n### Bug描述 Describe the Bug\n\nI'm training the paddledetection yolox_m_300e_coco.yml model with these configuration but there certain thing that when I  change the model start giving me this error:\nparameters I changed\nthe worker set to 1; batch_size 2 and input shape 2048x2048;\nfor original configuration it was working fine but changing the mentioned params causes issues.\n\n\n'''shel\n!python tools/train.py -c configs/yolox/yolox_m_300e_coco.yml --eval\n''''\n\n\n\nyolox_m_300e_coco.yml\nworker_num: 1\nTrainReader:\n  sample_transforms:\n    - Decode: {}\n    - Mosaic:\n        prob: 1.0\n        input_dim: [2048, 2048]\n        degrees: [-10, 10]\n        scale: [0.1, 2.0]\n        shear: [-2, 2]\n        translate: [-0.1, 0.1]\n        enable_mixup: True\n        mixup_prob: 1.0\n        mixup_scale: [0.5, 1.5]\n    - AugmentHSV: {is_bgr: False, hgain: 5, sgain: 30, vgain: 30}\n    - PadResize: {target_size: 2048}\n    - RandomFlip: {}\n  batch_transforms:\n    - Permute: {}\n  batch_size: 2\n  shuffle: True\n  drop_last: True\n  collate_batch: False\n  mosaic_epoch: 285\n\n\nEvalReader:\n  sample_transforms:\n    - Decode: {}\n    - Resize: {target_size: [2048, 2048], keep_ratio: True, interp: 1}\n    - Pad: {size: [2048, 2048], fill_value: [114., 114., 114.]}\n    - Permute: {}\n  batch_size: 2\n\n\n\n\n\nyolox_cspdarknet.yml\narchitecture: YOLOX\nnorm_type: sync_bn\nuse_ema: True\nema_decay: 0.9999\nema_decay_type: \"exponential\"\nact: silu\nfind_unused_parameters: True\n\ndepth_mult: 1.0\nwidth_mult: 1.0\n\nYOLOX:\n  backbone: CSPDarkNet\n  neck: YOLOCSPPAN\n  head: YOLOXHead\n  size_stride: 32\n  size_range: [7, 7] # multi-scale range [480*480 ~ 800*800]\n\n\nissues or error:\n[04/15 13:26:10] ppdet.utils.checkpoint INFO: Skipping import of the encryption module.\nloading annotations into memory...\nDone (t=0.15s)\ncreating index...\nindex created!\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_00dg__rot_00dg__f7610a0e-images-30.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_00dg__rot_00dg__c0df3b9f-images-34.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_00dg__rot_00dg__9d1ffa4e-images-60.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_00dg__rot_00dg__3ea854bd-images-61.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_00dg__rot_00dg__3d2569f1-images-68.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_00dg__rot_00dg__732683ad-images-71.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_00dg__rot_00dg__a658321d-images-96.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90ac__rot_90ac__f7610a0e-images-30.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90ac__rot_90ac__c0df3b9f-images-34.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90ac__rot_90ac__9d1ffa4e-images-60.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90ac__rot_90ac__3ea854bd-images-61.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90ac__rot_90ac__3d2569f1-images-68.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90ac__rot_90ac__732683ad-images-71.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90ac__rot_90ac__a658321d-images-96.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90cw__rot_90cw__f7610a0e-images-30.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90cw__rot_90cw__c0df3b9f-images-34.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90cw__rot_90cw__9d1ffa4e-images-60.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90cw__rot_90cw__3ea854bd-images-61.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90cw__rot_90cw__3d2569f1-images-68.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90cw__rot_90cw__732683ad-images-71.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco WARNING: Illegal image file: combine_images/train2017/rot_90cw__rot_90cw__a658321d-images-96.jpg, and it will be ignored\n[04/15 13:26:10] ppdet.data.source.coco INFO: Load [584 samples valid, 21 samples invalid] in file combine_images/annotations/train2017.json.\nW0415 13:26:10.951642  3186 gpu_resources.cc:119] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 12.4, Runtime API Version: 11.8\nW0415 13:26:10.976188  3186 gpu_resources.cc:164] device: 0, cuDNN Version: 9.2.\n[04/15 13:26:17] ppdet.engine.callbacks INFO: Epoch: [0] [  0/292] learning_rate: 0.000000 loss: 13.831890 loss_cls: 2.004071 loss_obj: 7.930847 loss_iou: 0.779394 loss_l1: 0.000000 size: 576.000000 eta: 5 days, 13:17:13 batch_cost: 5.4776 data_cost: 1.8600 ips: 0.3651 images/s, max_mem_reserved: 1774 MB, max_mem_allocated: 1685 MB\nTraceback (most recent call last):\n  File \"/content/PaddleDetection/tools/train.py\", line 212, in <module>\n    main()\n  File \"/content/PaddleDetection/tools/train.py\", line 208, in main\n    run(FLAGS, cfg)\n  File \"/content/PaddleDetection/tools/train.py\", line 161, in run\n    trainer.train(FLAGS.eval)\n  File \"/content/PaddleDetection/ppdet/engine/trainer.py\", line 633, in train\n    outputs = model(data)\n              ^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/paddle/nn/layer/layers.py\", line 1429, in __call__\n    return self.forward(*inputs, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/content/PaddleDetection/ppdet/modeling/architectures/meta_arch.py\", line 60, in forward\n    out = self.get_loss()\n          ^^^^^^^^^^^^^^^\n  File \"/content/PaddleDetection/ppdet/modeling/architectures/yolox.py\", line 105, in get_loss\n    return self._forward()\n           ^^^^^^^^^^^^^^^\n  File \"/content/PaddleDetection/ppdet/modeling/architectures/yolox.py\", line 95, in _forward\n    yolox_losses = self.head(neck_feats, self.inputs)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/lib/python3.11/dist-packages/paddle/nn/layer/layers.py\", line 1429, in __call__\n    return self.forward(*inputs, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/content/PaddleDetection/ppdet/modeling/heads/yolo_head.py\", line 299, in forward\n    yolox_losses = self.get_loss([\n                   ^^^^^^^^^^^^^^^\n  File \"/content/PaddleDetection/ppdet/modeling/heads/yolo_head.py\", line 321, in get_loss\n    pos_num, label, _, bbox_target = self.assigner(\n                                     ^^^^^^^^^^^^^^\n  File \"/content/PaddleDetection/ppdet/modeling/assigners/simota_assigner.py\", line 191, in __call__\n    pairwise_ious = batch_bbox_overlaps(valid_flatten_bboxes,\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/content/PaddleDetection/ppdet/modeling/bbox_utils.py\", line 284, in batch_bbox_overlaps\n    return paddle.full(batch_shape + (rows, cols), 1)\n                       ~~~~~~~~~~~~^~~~~~~~~~~~~~\nTypeError: can only concatenate list (not \"tuple\") to list\n\nCSPDarkNet:\n  arch: \"X\"\n  return_idx: [2, 3, 4]\n  depthwise: False\n\nYOLOCSPPAN:\n  depthwise: False\n\nYOLOXHead:\n  l1_epoch: 285\n  depthwise: False\n  loss_weight: {cls: 1.0, obj: 1.0, iou: 5.0, l1: 1.0}\n  assigner:\n    name: SimOTAAssigner\n    candidate_topk: 10\n    use_vfl: False\n  nms:\n    name: MultiClassNMS\n    nms_top_k: 10000\n    keep_top_k: 1000\n    score_threshold: 0.001\n    nms_threshold: 0.65\n    # For speed while keep high mAP, you can modify 'nms_top_k' to 1000 and 'keep_top_k' to 100, the mAP will drop about 0.1%.\n    # For high speed demo, you can modify 'score_threshold' to 0.25 and 'nms_threshold' to 0.45, but the mAP will drop a lot.\n\n\n### 复现环境 Environment\n\ncolab notebook\n\n### Bug描述确认 Bug description confirmation\n\n- [x] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [ ] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "open",
        "user": "Ibrah-N",
        "closed_by": null,
        "created_at": "2025-04-15T13:47:53+00:00",
        "updated_at": "2025-04-15T13:47:58+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 265,
        "title": "使用paddleDetection推理paddleYolo导出的模型不准",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n<img width=\"361\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/927710be-9067-4365-bc5c-c96e93471228\" />\n\n<img width=\"253\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/4dcf4103-d370-46f5-b6c7-8e091de08daf\" />\n上方是使用paddleYolo中的infer推理的，下方是把模型 -c yaml文件导出的，使用paddleDetection中的代码进行推理的，效果差异非常大，无法使用，请教大佬如何解决\n\n<img width=\"508\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/b1414953-baab-483d-8371-95ad0d16d862\" />",
        "state": "open",
        "user": "SongJasper",
        "closed_by": null,
        "created_at": "2025-05-20T03:33:48+00:00",
        "updated_at": "2025-05-20T03:33:53+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 268,
        "title": "使用PPYOLOE_Plus_S训练COCO数据集时无法实现混合精度训练（--amp）以及多GPU训练",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经查询[历史issue](https://github.com/PaddlePaddle/PaddleDetection/issues)，没有发现相似的bug。I have searched the [issues](https://github.com/PaddlePaddle/PaddleDetection/issues) and found no similar bug report.\n\n\n### Bug组件 Bug Component\n\nTraining\n\n### Bug描述 Describe the Bug\n\n@nemonameless @jerrywgz 很奇怪，为什么PaddleYOLO不支持混合精度训练以及多GPU训练？是我的配置有问题吗？还是我的训练环境（Docker容器）？\n\n## 环境配置\n\n按照官网教程训练COCO数据集，首先配置Docker环境：\n\n```shell\ndocker pull ccr-2vdh3abv-pub.cnc.bj.baidubce.com/paddlepaddle/paddle:2.6.2-gpu-cuda11.2-cudnn8.2-trt8.0\n```\n\n然后下载PaddleYOLO仓库，安装环境依赖\n\n```shell\ngit clone https://github.com/PaddlePaddle/PaddleYOLO.git\npip3 install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple\n```\n\n接下来配置COCO数据集，\n\n```shell\n(base) user@user-X11DAi-N:/data/zj/paddle/PaddleYOLO/dataset/coco$ ls\nannotations  download_coco.py  train2017  val2017\n(base) user@user-X11DAi-N:/data/zj/paddle/PaddleYOLO/dataset/coco$ pwd\n/data/zj/paddle/PaddleYOLO/dataset/coco\n```\n\n尝试了几种方式训练PPYOLOE_PLUS_S + COCO，\n\n## 单GPU + 混合精度训练\n\n```shell\n# 我在配置文件PaddleYOLO/configs/ppyoloe/_base_/ppyoloe_plus_reader.yml上设置batch_size: 32，其余不变\nCUDA_VISIBLE_DEVICES=1 python3 tools/train.py -c configs/ppyoloe/ppyoloe_plus_crn_s_80e_coco_single_gpu.yml --eval --amp -o pretrain_weights=weights/ppyoloe_crn_s_obj365_pretrained.pdparams save_dir=output/ppyoloe_plus_crn_s_80e_coco_single_gpu\n```\n\n训练50轮的时候数据集验证精度还是0，从下面截图可以发现损失并没有收敛\n\n![Image](https://github.com/user-attachments/assets/82434cea-ab5a-4ce6-bd51-e301a36f1578)\n\n## 多GPU + 混合精度训练\n\n然后尝试开启多GPU进行训练，发现模型预训练权重加载后就停住了\n\n```shell\npython -m paddle.distributed.launch --log_dir=./log_dir --gpus 0,1 tools/train.py -c configs/ppyoloe/ppyoloe_plus_crn_s_80e_coco_single_gpu.yml --eval --amp -o pretrain_weights=weights/ppyoloe_crn_s_obj365_pretrained.pdparams save_dir=ou\ntput/ppyoloe_plus_crn_s_80e_coco_two_gpu\n```\n![Image](https://github.com/user-attachments/assets/2ec9961d-d699-43e2-8146-96631e90d6bb)\n\n## 单GPU + 禁止AMP\n\n最后尝试了取消`--amp`选项进行训练，从目前来看训练正常，损失收敛，数据集验证有提升\n\n```shell\nCUDA_VISIBLE_DEVICES=1 python3 tools/train.py -c configs/ppyoloe/ppyoloe_plus_crn_s_80e_coco_single_gpu.yml --eval -o pretrain_weights=weights/ppyoloe_crn_s_obj365_pretrained.pdparams\n```\n\n![Image](https://github.com/user-attachments/assets/5fd0fd4d-d736-4dc8-ab1c-d5da81d1e309)\n\n### 复现环境 Environment\n\n- Docker: ccr-2vdh3abv-pub.cnc.bj.baidubce.com/paddlepaddle/paddle:2.6.2-gpu-cuda11.2-cudnn8.2-trt8.0\n\n```shell\nλ user-X11DAi-N /workdir/paddle/PaddleYOLO/configs/ppyoloe/_base_ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu 20.04.6 LTS\nRelease:        20.04\nCodename:       focal\n\nλ user-X11DAi-N /workdir/paddle/PaddleYOLO/configs/ppyoloe/_base_ export CUDA_VISIBLE_DEVICES=0\nλ user-X11DAi-N /workdir/paddle/PaddleYOLO/configs/ppyoloe/_base_ python -c \"import paddle; paddle.utils.run_check()\"\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\nRunning verify PaddlePaddle program ...\nI0703 05:48:20.698544 31995 program_interpreter.cc:212] New Executor is Running.\nW0703 05:48:20.699072 31995 gpu_resources.cc:119] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 12.3, Runtime API Version: 11.2\nW0703 05:48:20.703392 31995 gpu_resources.cc:164] device: 0, cuDNN Version: 8.1.\nI0703 05:48:24.718087 31995 interpreter_util.cc:624] Standalone Executor is Used.\nPaddlePaddle works well on 1 GPU.\nPaddlePaddle is installed successfully! Let's start deep learning with PaddlePaddle now.\n```\n\n\n\n### Bug描述确认 Bug description confirmation\n\n- [x] 我确认已经提供了Bug复现步骤、代码改动说明、以及环境信息，确认问题是可以复现的。I confirm that the bug replication steps, code change instructions, and environment information have been provided, and the problem can be reproduced.\n\n\n### 是否愿意提交PR？ Are you willing to submit a PR?\n\n- [x] 我愿意提交PR！I'd like to help by submitting a PR!",
        "state": "open",
        "user": "zjykzj",
        "closed_by": null,
        "created_at": "2025-07-03T05:49:44+00:00",
        "updated_at": "2025-07-03T05:49:44+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/PaddleYOLO",
        "number": 266,
        "title": "export_model.py报错",
        "body": "### 问题确认 Search before asking\n\n- [x] 我已经搜索过问题，但是没有找到解答。I have searched the question and found no related answer.\n\n\n### 请提出你的问题 Please ask your question\n\n硬件环境： 银河麒麟v10 + FT5000C+ R200\n运行环境：\ndocker：registry.baidubce.com/device/paddle-xpu:kylinv10-aarch64-gcc82-py310\n启动命令：\ndocker run -it --name=xxx -m 81920M --memory-swap=81920M \\\n    --shm-size=128G --privileged --net=host \\\n    -v $(pwd):/workspace -w /workspace \\\n     06e6bb040fb3 /bin/bash\n\npaddlepaddle 版本：2.6.1\n\n\n执行：\npython tools/export_model.py -c configs/swin/ppyoloe_plus_swin_tiny_36e_coco.yml -o exclude_nms=True 时，\n\n报如下错误：\nXCCL /opt/py310/lib/python3.10/site-packages/paddle/base/../libs/libbkcl.so loaded\nXPURT /opt/py310/lib/python3.10/site-packages/paddle/base/../libs/libxpurt.so.1 loaded\n\n\n--------------------------------------\nC++ Traceback (most recent call last):\n--------------------------------------\n0   inflateReset2\n\n----------------------\nError Message Summary:\n----------------------\nFatalError: `Segmentation fault` is detected by the operating system.\n  [TimeInfo: *** Aborted at 1749277428 (unix time) try \"date -d @1749277428\" if you are using GNU date ***]\n  [SignalInfo: *** SIGSEGV (@0x1367b3bda2e10b) received by PID 408 (TID 0xffff54065890) from PID 18446744072596152587 ***]\n",
        "state": "closed",
        "user": "nicefuu",
        "closed_by": "nicefuu",
        "created_at": "2025-06-07T06:30:14+00:00",
        "updated_at": "2025-06-07T12:37:47+00:00",
        "closed_at": "2025-06-07T12:37:46+00:00",
        "comments_count": [
            "nicefuu"
        ],
        "labels": []
    }
]