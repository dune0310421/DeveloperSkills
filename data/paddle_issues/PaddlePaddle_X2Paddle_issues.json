[
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 28,
        "title": "error",
        "body": "(pytorch1_1_0) boyun@boyun:~/software/ubuntu-wine/BaiduYunDownload/X2Paddle-master/onnx2fluid$ onnx2fluid resnet18.onnx -t sample_1.npz\r\n[    INFO]convert::convert:0051: loading model: resnet18.onnx ...\r\n[    INFO]convert::convert:0054: checking model ...\r\n[    INFO]convert::convert:0072: model has 296 ops\r\n[    INFO]convert::convert:0073: optimizing model ...\r\n[    INFO]convert::convert:0082: folder resnet18/ cleared\r\n[    INFO]convert::convert:0113: conversion started\r\n[CRITICAL]convert::convert:0136: conversion failed for:\r\n\t['646', '653'] -> ::Reshape -> ['654']\r\nTraceback (most recent call last):\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/bin/onnx2fluid\", line 11, in <module>\r\n    load_entry_point('onnx2fluid==0.1.1', 'console_scripts', 'onnx2fluid')()\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 489, in load_entry_point\r\n    return get_distribution(dist).load_entry_point(group, name)\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2843, in load_entry_point\r\n    return ep.load()\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2434, in load\r\n    return self.resolve()\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2440, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 656, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 626, in _load_backward_compatible\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/__main__.py\", line 106, in <module>\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/cmdline.py\", line 60, in main\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/conversion.py\", line 137, in convert\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/conversion.py\", line 132, in convert\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/writer.py\", line 312, in emit_op\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/writer.py\", line 244, in Op\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/symbolic.py\", line 1559, in Reshape\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/writer.py\", line 200, in OpDesc\r\n  File \"/home/boyun/anaconda3/envs/pytorch1_1_0/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/writer.py\", line 152, in OpDescAttrs\r\nValueError: unsupported attribute shape = []\r\n",
        "state": "closed",
        "user": "yangninghua",
        "closed_by": "yangninghua",
        "created_at": "2019-06-17T12:15:15+00:00",
        "updated_at": "2019-06-17T15:09:09+00:00",
        "closed_at": "2019-06-17T15:09:09+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 25,
        "title": "加载tf的meta文件，输出是个tensor的列表，转换失败",
        "body": "> python tf2fluid/convert.py --meta_file=${meta_file} \\\r\n  5     --ckpt_dir=./textnet-part-vgg-synth-8gpu-tf-base/ \\\r\n  6     --in_nodes=input_images,input_proposals,input_decoders,input_target_weights \\\r\n  7     --input_shape=None,512,512,3 \\\r\n  8     --input_format=NHWC \\\r\n  9     --output_nodes=model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection/AttnOutputProjection/BiasAdd,model_wo_buckets/embedd    ing_attention_decoder/attention_decoder/AttnOutputProjection_1/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/    AttnOutputProjection_2/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_3/AttnOutputProject    ion/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_4/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_a    ttention_decoder/attention_decoder/AttnOutputProjection_5/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnO    utputProjection_6/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_7/AttnOutputProjection/B    iasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_8/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attent    ion_decoder/attention_decoder/AttnOutputProjection_9/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutput    Projection_10/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_11/AttnOutputProjection/Bias    Add,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_12/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attentio    n_decoder/attention_decoder/AttnOutputProjection_13/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputP    rojection_14/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_15/AttnOutputProjection/BiasA    dd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_16/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention    _decoder/attention_decoder/AttnOutputProjection_17/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputPr    ojection_18/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_19/AttnOutputProjection/BiasAd    d,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_20/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_    decoder/attention_decoder/AttnOutputProjection_21/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputPro    jection_22/AttnOutputProjection/BiasAdd,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_23/AttnOutputProjection/BiasAdd    ,model_wo_buckets/embedding_attention_decoder/attention_decoder/AttnOutputProjection_24/AttnOutputProjection/BiasAdd \\\r\n 10     --use_cuda=True \\\r\n 11     --save_dir=./save_fluid_model/ \\",
        "state": "closed",
        "user": "liushanshan07",
        "closed_by": "jiangjiajun",
        "created_at": "2019-05-29T03:20:56+00:00",
        "updated_at": "2019-06-18T02:04:01+00:00",
        "closed_at": "2019-06-18T02:04:01+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 43,
        "title": "加载转换好的模型时报错Enforce failed. Expected version == 0U, but received version:5 != 0U:0.",
        "body": "已有issue，https://github.com/PaddlePaddle/X2Paddle/issues/24 ，但未给出Windows下的解决方案，请教下。",
        "state": "closed",
        "user": "A1exy",
        "closed_by": "A1exy",
        "created_at": "2019-07-22T03:47:59+00:00",
        "updated_at": "2019-07-23T00:57:14+00:00",
        "closed_at": "2019-07-23T00:57:14+00:00",
        "comments_count": [
            "A1exy",
            "A1exy",
            "jiangjiajun",
            "A1exy",
            "A1exy"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 38,
        "title": "onnx模型转paddle，batch normalization为啥没了",
        "body": "转出来的模型，BN没了。。。。 而且使用X2Paddle的时候，报segment fault，卸载掉paddle就好了~~",
        "state": "closed",
        "user": "liutinglt",
        "closed_by": "jiangjiajun",
        "created_at": "2019-07-18T03:31:18+00:00",
        "updated_at": "2019-07-23T12:38:58+00:00",
        "closed_at": "2019-07-23T12:38:58+00:00",
        "comments_count": [
            "MacroBull",
            "MacroBull",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 30,
        "title": "pytorch GRU转paddle 报错",
        "body": "先用pytorch写了一个gru,  转成onnx,  再使用X2Paddle/onnx2fluid转的时候，报错onnx2fluid/writer.py\", line 247, in Op ValueError: conversion for ::ConstantFill not supported\r\n",
        "state": "closed",
        "user": "jinxing94",
        "closed_by": "jinxing94",
        "created_at": "2019-06-26T04:41:38+00:00",
        "updated_at": "2019-07-07T10:00:33+00:00",
        "closed_at": "2019-06-26T06:03:40+00:00",
        "comments_count": [
            "jiangjiajun",
            "jinxing94",
            "MacroBull",
            "MacroBull"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 24,
        "title": "加载转换好的模型时报错Enforce failed. Expected version == 0U, but received version:5 != 0U:0.",
        "body": "完整报错如下：\r\n![wrong3](https://user-images.githubusercontent.com/46018261/57344591-6242bb00-717a-11e9-908c-fbd23079ab62.png)\r\nTraceback (most recent call last):\r\n  File \"E:/CNNNET/paddle/tensorflow2fluid/tf2fluid/predict.py\", line 6, in <module>\r\n    model = ml.ModelLoader(\"translated_paddle_model\", use_cuda=True)\r\n  File \"E:\\CNNNET\\paddle\\tensorflow2fluid\\tf2fluid\\model_loader.py\", line 42, in __init__\r\n    fluid.io.load_vars(self.exe, model_dir, vars=var_list)\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\io.py\", line 610, in load_vars\r\n    executor.run(load_prog)\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 565, in run\r\n    use_program_cache=use_program_cache)\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\executor.py\", line 642, in _run\r\n    exe.run(program.desc, scope, 0, True, True, fetch_var_name)\r\npaddle.fluid.core.EnforceNotMet: Invoke operator load error.\r\nPython Callstacks: \r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 1654, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\paddle\\fluid\\io.py\", line 596, in load_vars\r\n    attrs={'file_path': os.path.join(dirname, new_var.name)})\r\n  File \"E:\\CNNNET\\paddle\\tensorflow2fluid\\tf2fluid\\model_loader.py\", line 42, in __init__\r\n    fluid.io.load_vars(self.exe, model_dir, vars=var_list)\r\n  File \"E:/CNNNET/paddle/tensorflow2fluid/tf2fluid/predict.py\", line 6, in <module>\r\n    model = ml.ModelLoader(\"translated_paddle_model\", use_cuda=True)\r\nC++ Callstacks: \r\nEnforce failed. Expected version == 0U, but received version:5 != 0U:0.\r\nOnly version 0 is supported at [D:/1.4.1/paddle/paddle/fluid/framework/.tensor_util.cu:453]\r\nPaddlePaddle Call Stacks: \r\nWindows not support stack backtrace yet.\r\nW0508 10:14:41.673883 22764 device_context.cc:261] Please NOTE: device: 0, CUDA Capability: 61, Driver API Version: 9.2, Runtime API Version: 8.0\r\nW0508 10:14:41.679867 22764 device_context.cc:269] device: 0, cuDNN Version: 7.0.",
        "state": "closed",
        "user": "wc8287194",
        "closed_by": "jiangjiajun",
        "created_at": "2019-05-08T02:17:02+00:00",
        "updated_at": "2019-06-18T02:02:29+00:00",
        "closed_at": "2019-06-18T02:02:29+00:00",
        "comments_count": [
            "jiangjiajun",
            "wc8287194",
            "jiangjiajun",
            "wc8287194",
            "jiangjiajun",
            "wc8287194",
            "jiangjiajun",
            "wc8287194",
            "jiangjiajun",
            "wc8287194"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 31,
        "title": "ConstantFill op的转换失败",
        "body": "使用X2Paddle/onnx2fluid转一个gru的时候，报错onnx2fluid/writer.py\", line 247, in Op\r\nValueError: conversion for ::ConstantFill not supported。希望能够支持对ConstantFill op的转换。",
        "state": "closed",
        "user": "wzzju",
        "closed_by": "jiangjiajun",
        "created_at": "2019-06-26T13:14:36+00:00",
        "updated_at": "2019-07-07T10:00:02+00:00",
        "closed_at": "2019-06-27T08:33:58+00:00",
        "comments_count": [
            "jiangjiajun",
            "MacroBull",
            "MacroBull"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 23,
        "title": "pb模型无法读取input tensor name",
        "body": "已训练好的pb模型可以在tensorflow的sess.run中正常调用，在feed_dict字典中的input为\r\nself.graph.get_tensor_by_name('prefix/input_1:0')\r\n在convert.py中设置in_nodes为\"prefix/input_1:0\"，报错如下\r\n![wrong1](https://user-images.githubusercontent.com/46018261/57302425-bc596700-710d-11e9-8e50-87493e912c98.jpg)\r\n修改in_nodes为‘input_1’，报错相同。\r\n",
        "state": "closed",
        "user": "wc8287194",
        "closed_by": "jiangjiajun",
        "created_at": "2019-05-07T13:20:03+00:00",
        "updated_at": "2019-06-18T02:02:18+00:00",
        "closed_at": "2019-06-18T02:02:18+00:00",
        "comments_count": [
            "jiangjiajun",
            "wc8287194"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 26,
        "title": "ValueError: Object arrays cannot be loaded when allow_pickle=False",
        "body": "我是要做caffe2paddle，\r\n使用convert.py转换那一步成功，想把npy参数和py网络转成paddle可读取的模型文件时出错，\r\n我看问题是出在\r\n`data_dict = np.load(data_path).item()`\r\n因为这是生成的net.py里的，所以哪一行可能不确定，错误内容基本上是说np.load的时候设置了allow_pickle=False，这可能是默认参数。修改为\r\n`data_dict = np.load(data_path, allow_pickle=True).item()`之后就可以成功导出模型了。\r\n导出的只有两个文件，一个叫model，一个叫params。",
        "state": "closed",
        "user": "yanhn",
        "closed_by": "SunAhong1993",
        "created_at": "2019-05-29T07:26:02+00:00",
        "updated_at": "2019-06-18T13:04:45+00:00",
        "closed_at": "2019-06-18T13:04:45+00:00",
        "comments_count": [
            "yanhn",
            "yanhn",
            "SunAhong1993",
            "SunAhong1993",
            "yanhn"
        ],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 45,
        "title": "caffe2fluid模型加载与预测代码问题",
        "body": "将Caffe模型转成Paddle模型，参考https://github.com/PaddlePaddle/X2Paddle/tree/master/caffe2fluid，执行完第一步和第二步后，生成的文件如下：\r\n![image](https://user-images.githubusercontent.com/7035538/61676092-4ee0ce00-ad2d-11e9-956b-4fddae1d1bc8.png)\r\n文档上写模型的加载及预测可参考PaddlePaddle官方文档： https://www.paddlepaddle.org.cn/documentation/docs/zh/1.3/api_guides/low_level/inference.html#id4\r\n但你们参考的文档上模型目录下需要包含 ./infer_model/ __ model __  文件，Caffe模型转Paddle模型的文件夹中并没有该文件。请问怎么解决，或者有这个Inference的代码参考一下吗？\r\n@SunAhong1993 @jiangjiajun",
        "state": "closed",
        "user": "A1exy",
        "closed_by": "A1exy",
        "created_at": "2019-07-23T01:40:17+00:00",
        "updated_at": "2019-07-23T08:14:37+00:00",
        "closed_at": "2019-07-23T08:14:37+00:00",
        "comments_count": [
            "A1exy",
            "A1exy",
            "A1exy",
            "SunAhong1993",
            "A1exy",
            "jiangjiajun",
            "A1exy"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 53,
        "title": "tensorflow2fluid转出的模型Inference时间不正常",
        "body": "tensorflow2fluid将VGG16转成paddle格式，如实例代码。\r\n转出的模型如下：\r\n![image](https://user-images.githubusercontent.com/7035538/61929302-94abc980-afad-11e9-8d4e-1b8f8a357217.png)\r\n\r\n按照示例的Inference代码进行ml.ModelLoader后，分别进行100次Inference。\r\nGPU：\r\n![image](https://user-images.githubusercontent.com/7035538/61929626-008e3200-afae-11e9-9dc6-1ce42f0584fd.png)\r\n\r\nCPU：\r\n![image](https://user-images.githubusercontent.com/7035538/61929590-f8ce8d80-afad-11e9-8e53-87b95875ce0f.png)\r\n\r\n@jiangjiajun   @SunAhong1993  你们看一下是不是有这个问题，这Inference时间不正常。",
        "state": "closed",
        "user": "A1exy",
        "closed_by": "A1exy",
        "created_at": "2019-07-26T06:04:46+00:00",
        "updated_at": "2019-07-30T02:20:47+00:00",
        "closed_at": "2019-07-30T02:03:19+00:00",
        "comments_count": [
            "jiangjiajun",
            "A1exy",
            "jiangjiajun",
            "A1exy",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 89,
        "title": "Is caffe slice layer supported?",
        "body": "When trying to convert caffe to paddle, I got following error.\r\n\r\n`squeeze idx:1, with kind:Convolution,name:conv1\r\nTraceback (most recent call last):\r\n  File \"/home/turing/anaconda3/bin/x2paddle\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/home/turing/anaconda3/lib/python3.6/site-packages/x2paddle/convert.py\", line 163, in main\r\n    args.caffe_proto)\r\n  File \"/home/turing/anaconda3/lib/python3.6/site-packages/x2paddle/convert.py\", line 101, in caffe2paddle\r\n    mapper = CaffeOpMapper(model)\r\n  File \"/home/turing/anaconda3/lib/python3.6/site-packages/x2paddle/op_mapper/caffe_op_mapper.py\", line 44, in __init__\r\n    self.set_node_shape(node)\r\n  File \"/home/turing/anaconda3/lib/python3.6/site-packages/x2paddle/op_mapper/caffe_op_mapper.py\", line 80, in set_node_shape\r\n    input_shape.append(last_node.output_shape[idx])\r\nIndexError: list index out of range`\r\n\r\nHope to any suggestions.\r\nFollowing is my prototxt.\r\n\r\nname: \"model\"\r\nlayer {\r\n  name: \"input\"\r\n  type: \"Input\"\r\n  top: \"data\"\r\n  input_param {\r\n    shape {\r\n      dim: 1\r\n      dim: 1\r\n      dim: 128\r\n      dim: 128\r\n    }\r\n  }\r\n}\r\nlayer {\r\n  name: \"conv1\"\r\n  type: \"Convolution\"\r\n  bottom: \"data\"\r\n  top: \"conv1\"\r\n  param {\r\n    lr_mult: 1\r\n    decay_mult: 1\r\n  }\r\n  param {\r\n    lr_mult: 2\r\n    decay_mult: 0\r\n  }\r\n  convolution_param {\r\n    num_output: 16\r\n    pad: 2\r\n    kernel_size: 5\r\n    stride: 1\r\n    weight_filler {\r\n      type: \"xavier\"\r\n    }\r\n    bias_filler {\r\n      type: \"constant\"\r\n      value: 0.1\r\n    }\r\n  }\r\n}\r\nlayer {\r\n  name: \"slice1\"\r\n  type: \"Slice\"\r\n  bottom: \"conv1\"\r\n  top: \"slice1_1\"\r\n  top: \"slice1_2\"\r\n  slice_param {\r\n    slice_dim: 1\r\n  }\r\n}\r\n...\r\n",
        "state": "closed",
        "user": "Alan-Turing-Ko",
        "closed_by": "Alan-Turing-Ko",
        "created_at": "2019-08-22T03:54:14+00:00",
        "updated_at": "2019-08-22T11:12:42+00:00",
        "closed_at": "2019-08-22T11:12:42+00:00",
        "comments_count": [
            "jiangjiajun",
            "Alan-Turing-Ko"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 93,
        "title": "Did you have support  for Paddle2X ?",
        "body": "Did you have support  for Paddle2X ?",
        "state": "closed",
        "user": "312shan",
        "closed_by": "jiangjiajun",
        "created_at": "2019-08-26T10:54:01+00:00",
        "updated_at": "2019-08-28T14:23:40+00:00",
        "closed_at": "2019-08-28T14:23:40+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 56,
        "title": "能不能把paddle的模型转换为tf呢",
        "body": "",
        "state": "closed",
        "user": "SeekPoint",
        "closed_by": "jiangjiajun",
        "created_at": "2019-07-31T09:30:38+00:00",
        "updated_at": "2019-08-05T02:38:16+00:00",
        "closed_at": "2019-08-05T02:38:16+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 106,
        "title": "minor problems",
        "body": "1. function name:\r\nhttps://github.com/PaddlePaddle/X2Paddle/blob/develop/x2paddle/core/graph.py#L102\r\nSeems conflict with built-in 'print'.\r\n2. function definition:\r\nhttps://github.com/PaddlePaddle/X2Paddle/blob/develop/x2paddle/op_mapper/onnx_op_mapper.py#L97\r\nshould be \r\n```python\r\ndef directly_map(self, node, name='', *args,  **kwargs):\r\n```\r\n3. need to handle Unicode string\r\nhttps://github.com/PaddlePaddle/X2Paddle/blob/develop/x2paddle/core/fluid_code.py#L31\r\nhttps://github.com/PaddlePaddle/X2Paddle/blob/develop/x2paddle/core/fluid_code.py#L75\r\n",
        "state": "closed",
        "user": "pkuyym",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-02T10:22:58+00:00",
        "updated_at": "2019-09-09T03:08:37+00:00",
        "closed_at": "2019-09-09T03:08:37+00:00",
        "comments_count": [
            "jiangjiajun",
            "MacroBull",
            "pkuyym",
            "MacroBull",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 103,
        "title": "Exception: input[_394] of node[_413] does not exist in node_map",
        "body": "I have successfully transferred the pytorch model to onnx and the report for onnx transfer paddle is as follows\r\n`Exception: input[_394] of node[_413] does not exist in node_map`",
        "state": "closed",
        "user": "chenjun2hao",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-02T07:49:50+00:00",
        "updated_at": "2019-09-18T13:32:34+00:00",
        "closed_at": "2019-09-18T13:32:34+00:00",
        "comments_count": [
            "chenjun2hao",
            "jiangjiajun",
            "chenjun2hao",
            "MacroBull",
            "chenjun2hao",
            "Channingss",
            "chenjun2hao",
            "Channingss",
            "chenjun2hao",
            "chenjun2hao",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 90,
        "title": "tf model  convert error",
        "body": "tf model  convert error:    Exception: OP: [ResizeBilinear] not support yet    ",
        "state": "closed",
        "user": "aa12356jm",
        "closed_by": "aa12356jm",
        "created_at": "2019-08-22T06:26:24+00:00",
        "updated_at": "2019-10-11T18:14:10+00:00",
        "closed_at": "2019-08-28T08:13:47+00:00",
        "comments_count": [
            "jiangjiajun",
            "aa12356jm",
            "jiangjiajun",
            "wanjinchang",
            "aa12356jm",
            "aa12356jm",
            "wanjinchang",
            "aa12356jm",
            "jiangjiajun",
            "jiangjiajun",
            "aa12356jm",
            "jiangjiajun",
            "aa12356jm",
            "siyiding1216"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 102,
        "title": "The op DepthwiseConvolution in model is not supported yet",
        "body": "```\r\nregister layer[ROIPooling]\r\nregister layer[PriorBox]\r\nregister layer[Permute]\r\nregister layer[DetectionOutput]\r\nregister layer[Normalize]\r\nregister layer[Select]\r\nregister layer[ShuffleChannel]\r\nregister layer[ConvolutionDepthwise]\r\nregister layer[Axpy]\r\nNow translating model from caffe to paddle.\r\n...\r\nTraceback (most recent call last):\r\n  File \"/Users//anaconda3/bin/x2paddle\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/Users//anaconda3/lib/python3.5/site-packages/x2paddle/convert.py\", line 201, in main\r\n    args.caffe_proto)\r\n  File \"/Users//anaconda3/lib/python3.5/site-packages/x2paddle/convert.py\", line 127, in caffe2paddle\r\n    mapper = CaffeOpMapper(model)\r\n  File \"/Users//anaconda3/lib/python3.5/site-packages/x2paddle/op_mapper/caffe_op_mapper.py\", line 55, in __init__\r\n    \"The op {} in model is not supported yet.\".format(op))\r\nException: The op DepthwiseConvolution in model is not supported yet.\r\n```\r\n看到注册的layer里有ConvolutionDepthwise，能直接映射过去吗？",
        "state": "closed",
        "user": "imistyrain",
        "closed_by": "jiangjiajun",
        "created_at": "2019-08-30T09:05:20+00:00",
        "updated_at": "2019-09-06T03:09:01+00:00",
        "closed_at": "2019-09-06T03:09:01+00:00",
        "comments_count": [
            "SunAhong1993",
            "imistyrain",
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 128,
        "title": "TypeError: OpDesc() missing 1 required positional argument: 'attrs'",
        "body": "[    INFO]onnx2fluid::convert:0071: loading model: baidu_903_ep39.onnx ...\r\n[    INFO]onnx2fluid::convert:0075: checking model ...\r\n[    INFO]onnx2fluid::convert:0082: using opset version: 9\r\n[    INFO]onnx2fluid::convert:0093: model has 588 ops\r\n[    INFO]onnx2fluid::convert:0098: optimizing model ...\r\n[   DEBUG]onnx2fluid.onnx_utils::polish_model:0342: builtin optimizations to perform in ONNX:\r\n\t['eliminate_deadend', 'eliminate_identity', 'eliminate_nop_dropout', 'eliminate_nop_monotone_argmax', 'eliminate_nop_pad', 'eliminate_nop_transpose', 'eliminate_unused_initializer', 'extract_constant_to_initializer', 'fuse_add_bias_into_conv', 'fuse_bn_into_conv', 'fuse_consecutive_concats', 'fuse_consecutive_log_softmax', 'fuse_consecutive_reduce_unsqueeze', 'fuse_consecutive_squeezes', 'fuse_consecutive_transposes', 'fuse_matmul_add_bias_into_gemm', 'fuse_pad_into_conv', 'fuse_transpose_into_gemm', 'lift_lexical_references', 'nop']\r\n[    INFO]onnx2fluid::convert:0104: folder baidu_903_ep39/ cleared\r\n[    INFO]onnx2fluid::convert:0136: conversion started\r\n[   DEBUG]onnx2fluid::convert:0146: translating op op_0(op_0) ai.onnx::Shape ...\r\n[CRITICAL]onnx2fluid::convert:0163: conversion failed for:\r\n\t['var_0'] -> ::Shape -> ['var_670']\r\nTraceback (most recent call last):\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/bin/onnx2fluid\", line 11, in <module>\r\n    load_entry_point('onnx2fluid==0.1.1', 'console_scripts', 'onnx2fluid')()\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 489, in load_entry_point\r\n    return get_distribution(dist).load_entry_point(group, name)\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2843, in load_entry_point\r\n    return ep.load()\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2434, in load\r\n    return self.resolve()\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/pkg_resources/__init__.py\", line 2440, in resolve\r\n    module = __import__(self.module_name, fromlist=['__name__'], level=0)\r\n  File \"<frozen importlib._bootstrap>\", line 971, in _find_and_load\r\n  File \"<frozen importlib._bootstrap>\", line 955, in _find_and_load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 656, in _load_unlocked\r\n  File \"<frozen importlib._bootstrap>\", line 626, in _load_backward_compatible\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/__main__.py\", line 121, in <module>\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/cmdline.py\", line 62, in main\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/conversion.py\", line 164, in convert\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/conversion.py\", line 159, in convert\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/writer.py\", line 328, in emit_op\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/writer.py\", line 232, in Op\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/onnx2fluid-0.1.1-py3.6.egg/onnx2fluid/symbolic.py\", line 2037, in Shape\r\nTypeError: OpDesc() missing 1 required positional argument: 'attrs'\r\n\r\n想问一下这个可能是什么问题呢~",
        "state": "closed",
        "user": "richlaji",
        "closed_by": "richlaji",
        "created_at": "2019-09-10T09:48:12+00:00",
        "updated_at": "2019-09-10T09:59:28+00:00",
        "closed_at": "2019-09-10T09:59:28+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 109,
        "title": "AssertionError: The parameter of my_classifier (type is InnerProduct) is not set. You need to use python package of caffe to set the default value.",
        "body": "转换resnet50模型(来自[caffe-model-zoo](https://github.com/SnailTyan/caffe-model-zoo))，报错\r\n```\r\nregister layer[ROIPooling]\r\nregister layer[PriorBox]\r\nregister layer[Permute]\r\nregister layer[DetectionOutput]\r\nregister layer[Normalize]\r\nregister layer[Select]\r\nregister layer[ShuffleChannel]\r\nregister layer[ConvolutionDepthwise]\r\nregister layer[Axpy]\r\nNow translating model from caffe to paddle.\r\ncost: 1.406264305114746\r\nIgnoring parameters for non-existent layer: fc1000\r\nTotal nodes: 229\r\nsqueeze idx:1, with kind:Convolution,name:conv1\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 9, in <module>\r\n    load_entry_point('x2paddle==0.4.5', 'console_scripts', 'x2paddle')()\r\n  File \"/home/***/CNN/X2Paddle/x2paddle/convert.py\", line 211, in main\r\n    args.caffe_proto)\r\n  File \"/home/***/CNN/X2Paddle/x2paddle/convert.py\", line 137, in caffe2paddle\r\n    mapper = CaffeOpMapper(model)\r\n  File \"/home/***/CNN/X2Paddle/x2paddle/op_mapper/caffe_op_mapper.py\", line 46, in __init__\r\n    func(node)\r\n  File \"/home/***/CNN/X2Paddle/x2paddle/op_mapper/caffe_op_mapper.py\", line 346, in InnerProduct\r\n    node.layer_name, node.layer_type)\r\nAssertionError: The parameter of my_classifier (type is InnerProduct) is not set. You need to use python package of caffe to set the default value.\r\n```\r\n转换用的命令为:\r\n```\r\nx2paddle --framework=caffe --prototxt=resnet50.prototxt --weight=resnet50.caffemodel --save_dir=pd_model  --caffe_proto=***/build/include/caffe/proto/caffe_pb2.py\r\n```\r\n0.3之前用的caffe2fluid还好好的呢，怎么升级了就不兼容了？",
        "state": "closed",
        "user": "imistyrain",
        "closed_by": "imistyrain",
        "created_at": "2019-09-03T03:44:27+00:00",
        "updated_at": "2019-09-04T02:50:52+00:00",
        "closed_at": "2019-09-04T02:50:52+00:00",
        "comments_count": [
            "jiangjiajun",
            "SunAhong1993",
            "imistyrain"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 110,
        "title": "AssertionError: The version of protobuf must be larger than 3.6.0!",
        "body": "pip3 list显示python3.5对应的protobuf版本是3.6.0了已经，但是protoc --version的版本是3.4.0.所以那个assert过不去，但是不影响使用。\r\n还有就是python2.7版本的啥时候放出来？",
        "state": "closed",
        "user": "imistyrain",
        "closed_by": "imistyrain",
        "created_at": "2019-09-03T12:40:52+00:00",
        "updated_at": "2019-09-07T14:05:22+00:00",
        "closed_at": "2019-09-07T14:05:22+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 129,
        "title": "master caffe2fluid net_template.py有问题",
        "body": "应修改如下\r\ndiff --git a/caffe2fluid/kaffe/net_template.py b/caffe2fluid/kaffe/net_template.py\r\nindex f9387c9..c6810c6 100644\r\n--- a/caffe2fluid/kaffe/net_template.py\r\n+++ b/caffe2fluid/kaffe/net_template.py\r\n@@ -100,7 +100,7 @@ def main():\r\n     npy_weight = args.npy_path\r\n     fluid_model = args.model_param_path\r\n     outputs = None\r\n-    if len(sys.argv) >= 6:\r\n+    if args.need_layers_name:\r\n         outputs = args.need_layers_name.split(',')\r\n \r\n     ret = MyNet.convert(npy_weight, fluid_model, outputs)",
        "state": "closed",
        "user": "lgone2000",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-10T14:40:16+00:00",
        "updated_at": "2019-09-16T02:08:32+00:00",
        "closed_at": "2019-09-16T02:08:32+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 131,
        "title": "模型的双向GRU怎么转比较好",
        "body": "复现的pytorch代码：\r\nimport torch\r\nimport torch.nn as nn\r\nrnn = nn.GRU(10,20, bidirectional=True)\r\ninput = torch.randn(5, 3, 10)\r\nh0 = torch.randn(2, 3, 20)\r\noutput, hn = rnn(input,h0)\r\ntorch.onnx.export(rnn, input, 'test.onnx', verbose=True)\r\n\r\n转onnx出的结果：\r\ngraph(%input : Float(5, 3, 10),\r\n      %weight_ih_l0 : Float(60, 10),\r\n      %weight_hh_l0 : Float(60, 20),\r\n      %bias_ih_l0 : Float(60),\r\n      %bias_hh_l0 : Float(60),\r\n      %weight_ih_l0_reverse : Float(60, 10),\r\n      %weight_hh_l0_reverse : Float(60, 20),\r\n      %bias_ih_l0_reverse : Float(60),\r\n      %bias_hh_l0_reverse : Float(60)):\r\n  %9 : Long() = onnx::Constant[value={1}](), scope: GRU\r\n  %10 : Tensor = onnx::Shape(%input), scope: GRU\r\n  %11 : Long() = onnx::Gather[axis=0](%10, %9), scope: GRU\r\n  %12 : Long() = onnx::Constant[value={2}](), scope: GRU\r\n  %13 : Long() = onnx::Constant[value={20}](), scope: GRU\r\n  %14 : Tensor = onnx::Unsqueeze[axes=[0]](%12)\r\n  %15 : Tensor = onnx::Unsqueeze[axes=[0]](%11)\r\n  %16 : Tensor = onnx::Unsqueeze[axes=[0]](%13)\r\n  %17 : Tensor = onnx::Concat[axis=0](%14, %15, %16)\r\n  %18 : Float(2, 3, 20) = onnx::ConstantOfShape[value={0}](%17), scope: GRU\r\n  %19 : Tensor? = prim::Constant(), scope: GRU\r\n  %20 : Tensor = onnx::Slice[axes=[0], ends=[40], starts=[20]](%weight_ih_l0), scope: GRU\r\n  %21 : Tensor = onnx::Slice[axes=[0], ends=[20], starts=[0]](%weight_ih_l0), scope: GRU\r\n  %22 : Tensor = onnx::Slice[axes=[0], ends=[60], starts=[40]](%weight_ih_l0), scope: GRU\r\n  %23 : Tensor = onnx::Concat[axis=0](%20, %21, %22), scope: GRU\r\n  %24 : Tensor = onnx::Slice[axes=[0], ends=[40], starts=[20]](%weight_hh_l0), scope: GRU\r\n  %25 : Tensor = onnx::Slice[axes=[0], ends=[20], starts=[0]](%weight_hh_l0), scope: GRU\r\n  %26 : Tensor = onnx::Slice[axes=[0], ends=[60], starts=[40]](%weight_hh_l0), scope: GRU\r\n  %27 : Tensor = onnx::Concat[axis=0](%24, %25, %26), scope: GRU\r\n  %28 : Tensor = onnx::Slice[axes=[0], ends=[40], starts=[20]](%bias_ih_l0), scope: GRU\r\n  %29 : Tensor = onnx::Slice[axes=[0], ends=[20], starts=[0]](%bias_ih_l0), scope: GRU\r\n  %30 : Tensor = onnx::Slice[axes=[0], ends=[60], starts=[40]](%bias_ih_l0), scope: GRU\r\n  %31 : Tensor = onnx::Concat[axis=0](%28, %29, %30), scope: GRU\r\n  %32 : Tensor = onnx::Slice[axes=[0], ends=[40], starts=[20]](%bias_hh_l0), scope: GRU\r\n  %33 : Tensor = onnx::Slice[axes=[0], ends=[20], starts=[0]](%bias_hh_l0), scope: GRU\r\n  %34 : Tensor = onnx::Slice[axes=[0], ends=[60], starts=[40]](%bias_hh_l0), scope: GRU\r\n  %35 : Tensor = onnx::Concat[axis=0](%32, %33, %34), scope: GRU\r\n  %36 : Tensor = onnx::Concat[axis=0](%31, %35), scope: GRU\r\n  %37 : Tensor = onnx::Unsqueeze[axes=[0]](%23), scope: GRU\r\n  %38 : Tensor = onnx::Unsqueeze[axes=[0]](%27), scope: GRU\r\n  %39 : Tensor = onnx::Unsqueeze[axes=[0]](%36), scope: GRU\r\n  %40 : Tensor = onnx::Slice[axes=[0], ends=[40], starts=[20]](%weight_ih_l0_reverse), scope: GRU\r\n  %41 : Tensor = onnx::Slice[axes=[0], ends=[20], starts=[0]](%weight_ih_l0_reverse), scope: GRU\r\n  %42 : Tensor = onnx::Slice[axes=[0], ends=[60], starts=[40]](%weight_ih_l0_reverse), scope: GRU\r\n  %43 : Tensor = onnx::Concat[axis=0](%40, %41, %42), scope: GRU\r\n  %44 : Tensor = onnx::Slice[axes=[0], ends=[40], starts=[20]](%weight_hh_l0_reverse), scope: GRU\r\n  %45 : Tensor = onnx::Slice[axes=[0], ends=[20], starts=[0]](%weight_hh_l0_reverse), scope: GRU\r\n  %46 : Tensor = onnx::Slice[axes=[0], ends=[60], starts=[40]](%weight_hh_l0_reverse), scope: GRU\r\n  %47 : Tensor = onnx::Concat[axis=0](%44, %45, %46), scope: GRU\r\n  %48 : Tensor = onnx::Slice[axes=[0], ends=[40], starts=[20]](%bias_ih_l0_reverse), scope: GRU\r\n  %49 : Tensor = onnx::Slice[axes=[0], ends=[20], starts=[0]](%bias_ih_l0_reverse), scope: GRU\r\n  %50 : Tensor = onnx::Slice[axes=[0], ends=[60], starts=[40]](%bias_ih_l0_reverse), scope: GRU\r\n  %51 : Tensor = onnx::Concat[axis=0](%48, %49, %50), scope: GRU\r\n  %52 : Tensor = onnx::Slice[axes=[0], ends=[40], starts=[20]](%bias_hh_l0_reverse), scope: GRU\r\n  %53 : Tensor = onnx::Slice[axes=[0], ends=[20], starts=[0]](%bias_hh_l0_reverse), scope: GRU\r\n  %54 : Tensor = onnx::Slice[axes=[0], ends=[60], starts=[40]](%bias_hh_l0_reverse), scope: GRU\r\n  %55 : Tensor = onnx::Concat[axis=0](%52, %53, %54), scope: GRU\r\n  %56 : Tensor = onnx::Concat[axis=0](%51, %55), scope: GRU\r\n  %57 : Tensor = onnx::Unsqueeze[axes=[0]](%43), scope: GRU\r\n  %58 : Tensor = onnx::Unsqueeze[axes=[0]](%47), scope: GRU\r\n  %59 : Tensor = onnx::Unsqueeze[axes=[0]](%56), scope: GRU\r\n  %60 : Tensor = onnx::Concat[axis=0](%37, %57), scope: GRU\r\n  %61 : Tensor = onnx::Concat[axis=0](%38, %58), scope: GRU\r\n  %62 : Tensor = onnx::Concat[axis=0](%39, %59), scope: GRU\r\n  %63 : Tensor, %64 : Float(2, 3, 20) = onnx::GRU[direction=\"bidirectional\", hidden_size=20, linear_before_reset=1](%input, %60, %61, %62, %19, %18), scope: GRU\r\n  %65 : Tensor = onnx::Transpose[perm=[0, 2, 1, 3]](%63), scope: GRU\r\n  %66 : Tensor = onnx::Constant[value= 0  0 -1 [ Variable[CPUType]{3} ]](), scope: GRU\r\n  %67 : Float(5, 3, 40) = onnx::Reshape(%65, %66), scope: GRU\r\n  return (%67, %64)\r\n\r\nx2paddle --framework=onnx --model=test.onnx --save_dir=./转paddle模型，会找不到%19这个节点，报错如下：\r\nTraceback (most recent call last):\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/bin/x2paddle\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/x2paddle/convert.py\", line 211, in main\r\n    onnx2paddle(args.model, args.save_dir)\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/x2paddle/convert.py\", line 154, in onnx2paddle\r\n    model = ONNXDecoder(model_path)\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/x2paddle/decoder/onnx_decoder.py\", line 334, in __init__\r\n    self.standardize_variable_name(model.graph)\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/x2paddle/decoder/onnx_decoder.py\", line 501, in standardize_variable_name\r\n    node.input[i] = self.make_variable_name(node.input[i])\r\n  File \"/home/zhangzexin/anaconda3/envs/paddle/lib/python3.6/site-packages/x2paddle/decoder/onnx_decoder.py\", line 478, in make_variable_name\r\n    raise ValueError('name should not be empty')\r\nValueError: name should not be empty\r\n\r\n已看github上一个gru的issue，看到推荐是使用nn.GRUCell的方式，但由于使用了nn.GRU封装的bidirection等属性，想知道（1）现在nn.GRU是一定没有办法转成功嘛，（2）有没有办法在不重新训练模型的情况下转成paddle呢~非常期待回复，感谢！",
        "state": "closed",
        "user": "richlaji",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-11T03:05:44+00:00",
        "updated_at": "2019-09-18T13:31:53+00:00",
        "closed_at": "2019-09-18T13:31:53+00:00",
        "comments_count": [
            "richlaji",
            "MacroBull",
            "richlaji",
            "jiangjiajun",
            "richlaji",
            "MacroBull",
            "richlaji"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 134,
        "title": "tf.tensordot和tf.einsum有没有相应的paddle实现方案？",
        "body": "paddle中如何实现tensor乘？",
        "state": "closed",
        "user": "xixiaoyao",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-11T08:19:30+00:00",
        "updated_at": "2019-09-16T02:10:55+00:00",
        "closed_at": "2019-09-16T02:10:55+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 133,
        "title": "不支持instance normalization吗",
        "body": "![image](https://user-images.githubusercontent.com/23050243/64674201-bcde8180-d4a2-11e9-9562-d5c214368cf4.png)\r\n",
        "state": "closed",
        "user": "mathfinder",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-11T06:45:14+00:00",
        "updated_at": "2019-09-18T13:32:11+00:00",
        "closed_at": "2019-09-18T13:32:11+00:00",
        "comments_count": [
            "jiangjiajun",
            "mathfinder",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 140,
        "title": "can not support get_dynamic_shape",
        "body": "i use dynamic shape in onnx model. and i have successfully convert to onnx model. when convert to paddle, the error is:\r\n```\r\n File \"/root/miniconda3/envs/torch120/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.5.0', 'console_scripts', 'x2paddle')()\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/convert.py\", line 211, in main\r\n    onnx2paddle(args.model, args.save_dir)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/convert.py\", line 157, in onnx2paddle\r\n    mapper = ONNXOpMapper(model, save_dir)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 65, in __init__\r\n    self.get_output_shapes()\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 157, in get_output_shapes\r\n    _, dtype, shape = self.get_dynamic_shape(opt)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 134, in get_dynamic_shape\r\n    output = np.load(os.path.join(self.tmp_data_dir, layer + '.npy'))\r\n```\r\nthe model i used is:链接: https://pan.baidu.com/s/1WrTbTyVmBBJrT6ZVffx_3g 提取码: y9hb",
        "state": "closed",
        "user": "chenjun2hao",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-15T16:19:37+00:00",
        "updated_at": "2019-09-26T10:51:32+00:00",
        "closed_at": "2019-09-26T10:51:32+00:00",
        "comments_count": [
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 135,
        "title": " 'TENSOR_TYPE_TO_NP_TYPE'",
        "body": "x2paddle/op_mapper/onnx_op_mapper.py line511\r\nNameError: name 'TENSOR_TYPE_TO_NP_TYPE' is not defined\r\n",
        "state": "closed",
        "user": "richlaji",
        "closed_by": "richlaji",
        "created_at": "2019-09-11T09:33:22+00:00",
        "updated_at": "2019-09-12T02:47:35+00:00",
        "closed_at": "2019-09-11T09:43:20+00:00",
        "comments_count": [
            "richlaji",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 142,
        "title": "onnx转paddle，Upsample动态shape",
        "body": "模型转换Pytorch->onnx->paddle。\r\n1. Pytorch代码中对应部分代码：\r\n```\r\ndef forward(self, x):\r\n    n,c,h,w = x.shape\r\n    up = nn.functional.interpolate(rb2, size=((h+1)//2, (w+1)//2), mode='bilinear', align_corners=False) \r\n    return up\r\n```\r\n\r\n2. 转onnx时候，Upsample对应层是：\r\n%827 : Float(1, 576, 4, 35) = onnx::Upsample[mode=\"linear\"](%808, %826)，其中%826是计算动态shape\r\n\r\n3. 使用develop分支的X2Paddle转，在model = ONNXDecoder(model_path)这步里有一个model = onnx.shape_inference.infer_shapes(model)，onnx貌似不支持动态的shape推断，打印出来Upsample的四个dim都是空\r\n\r\n4. 由于3中所述，在onnx转paddle的时，Upsample转成paddle的out_shape=[0,0]，转出来的model.py对应层是_827 = fluid.layers.resize_bilinear(_808, scale=None, out_shape=[0, 0], name='_827')，这里手动把2中的mode=“linear”改成了paddle支持的“bilinear”。\r\n\r\n我看到paddle的文档中写了“根据指定的out_shape执行双线性插值调整输入大小，输出形状按优先级由actual_shape、out_shape和scale指定。”其中acutal_shape是动态图时用到的。\r\n我现在想法是在ONNXOpMapper这里改，Upsample层对应的是_interpolate函数，但不清楚用actual_shape参数要怎么改，或者有更方便的改法嘛~\r\n其中_interpolate函数里层的现在是提供scale和out_shape的参数，如下：\r\n```\r\n        attr = {\r\n            'scale': scale,\r\n            'out_shape': out_shape,\r\n            'name': string(node.layer_name)\r\n        }\r\n        node.fluid_code.add_layer(fluid_op,\r\n                                  inputs=val_x,\r\n                                  output=node,\r\n                                  param_attr=attr)\r\n```",
        "state": "closed",
        "user": "richlaji",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-16T06:53:20+00:00",
        "updated_at": "2020-02-26T14:02:17+00:00",
        "closed_at": "2019-09-29T06:43:44+00:00",
        "comments_count": [
            "Channingss",
            "richlaji",
            "Channingss",
            "richlaji",
            "Channingss",
            "richlaji",
            "Channingss",
            "richlaji",
            "Channingss",
            "richlaji",
            "Channingss",
            "richlaji",
            "Channingss",
            "richlaji",
            "Eric-Zhang1990"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 144,
        "title": "don't support onnx::gather?",
        "body": "the onnx model used onnx::gather, detail:\r\n```\r\n%position_enc.weight : Float(264, 1024)):\r\n  %2 : Float(1, 30, 1024) = onnx::Gather(%position_enc.weight, %x)\r\n```\r\nbut it report an error:\r\n```\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/torch120/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.5.0', 'console_scripts', 'x2paddle')()\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/convert.py\", line 211, in main\r\n    onnx2paddle(args.model, args.save_dir)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/convert.py\", line 157, in onnx2paddle\r\n    mapper = ONNXOpMapper(model, save_dir)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 81, in __init__\r\n    func(node)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 500, in Gather\r\n    indices_shape) <= 1, \"Gather op don't support dim of indice >1 \"\r\nAssertionError: Gather op don't support dim of indice >1\r\n```\r\nthe pytorch code is:\r\n```\r\nclass test_model(nn.Module):\r\n    def __init__(self, src_n_position=264, d_word_vec=1024):\r\n        super().__init__()\r\n        self.position_enc = nn.Embedding(src_n_position, d_word_vec)\r\n        \r\n    def forward(self, x):\r\n        x = self.position_enc(x)\r\n        \r\n        return x\r\n    \r\nnet2 = test_model()\r\nx = torch.randint(30, (1, 30))\r\ntorch.onnx.export(net2, x, './Fonnx/tranformertwo.onnx', verbose=True, input_names=['x'])\r\n```",
        "state": "closed",
        "user": "chenjun2hao",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-17T01:08:29+00:00",
        "updated_at": "2019-09-29T07:05:28+00:00",
        "closed_at": "2019-09-29T07:05:28+00:00",
        "comments_count": [
            "Channingss",
            "chenjun2hao",
            "Channingss",
            "chenjun2hao",
            "Channingss",
            "chenjun2hao",
            "chenjun2hao",
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 143,
        "title": "don't support torch.tensor.expand?",
        "body": "when i use pytorch torch.tensor.expand, the error\r\n```\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/torch120/bin/onnx_infer\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.5.0', 'console_scripts', 'onnx_infer')()\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/onnx_infer.py\", line 48, in main\r\n    res = sess.run(None, input_feed=inputs_dict)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/onnxruntime/capi/session.py\", line 72, in run\r\n    return self._sess.run(output_names, input_feed, run_options)\r\nRuntimeError: Method run failed due to: [ONNXRuntimeError] : 1 : GENERAL ERROR : /onnxruntime_src/onnxruntime/core/providers/cpu/math/element_wise_ops.h:341 void onnxruntime::BroadcastIterator::Init(int64_t, int64_t) axis == 1 || axis == largest was false. Attempting to broadcast an axis by a dimension other than 1. -1 by 264\r\nStacktrace:\r\n\r\nThere are 1 ops not supported yet, list as below\r\nExpand\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/torch120/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.5.0', 'console_scripts', 'x2paddle')()\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/convert.py\", line 211, in main\r\n    onnx2paddle(args.model, args.save_dir)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/convert.py\", line 157, in onnx2paddle\r\n    mapper = ONNXOpMapper(model, save_dir)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 68, in __init__\r\n    raise Exception(\"Model are not supported yet.\")\r\nException: Model are not supported yet.\r\n```\r\nit seems don't support expand?",
        "state": "closed",
        "user": "chenjun2hao",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-16T17:26:17+00:00",
        "updated_at": "2019-09-29T07:05:01+00:00",
        "closed_at": "2019-09-29T07:05:01+00:00",
        "comments_count": [
            "Channingss",
            "Channingss",
            "chenjun2hao",
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 156,
        "title": "Ops are not supported yet:Sqrt,MirrorPad,Square",
        "body": "(paddle) bash-3.2$ x2paddle --framework=tensorflow --model=/Users/dev01/下载目录/测试model.pb/Angel_a025_c256_s512_a0.25_b2_sn16-32000_frozen.pb --save_dir=/Users/dev01/下载目录/paddle\r\nNow translating model from tensorflow to paddle.\r\nTotal nodes: 468\r\nConverting node 468 ...    ==========3 Ops are not supported yet======\r\n========== Sqrt ==========\r\n========== MirrorPad ==========\r\n========== Square ==========",
        "state": "closed",
        "user": "didikee",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-26T03:01:58+00:00",
        "updated_at": "2019-10-12T02:23:21+00:00",
        "closed_at": "2019-10-12T02:23:21+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 178,
        "title": "version must be larger than 3.6.0!",
        "body": "这代码是谁写的???\r\n![image](https://user-images.githubusercontent.com/15920960/67254674-f4344b00-f4b0-11e9-9e87-27c50d926b65.png)\r\n![image](https://user-images.githubusercontent.com/15920960/67254685-feeee000-f4b0-11e9-96fe-d91bf8af1398.png)\r\n![image](https://user-images.githubusercontent.com/15920960/67254690-04e4c100-f4b1-11e9-85d1-6429fb50fe87.png)\r\n",
        "state": "closed",
        "user": "CerrieJ",
        "closed_by": "jiangjiajun",
        "created_at": "2019-10-22T01:48:06+00:00",
        "updated_at": "2019-10-29T02:00:59+00:00",
        "closed_at": "2019-10-29T02:00:59+00:00",
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 154,
        "title": "don't support onnx::equal and onnx::where?",
        "body": "it seems don't support equal and where operater\r\nthe error:\r\n```\r\nThere are 2 ops not supported yet, list as below\r\nWhere\r\nEqual\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/envs/torch120/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.5.0', 'console_scripts', 'x2paddle')()\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/convert.py\", line 215, in main\r\n    onnx2paddle(args.model, args.save_dir)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/convert.py\", line 161, in onnx2paddle\r\n    mapper = ONNXOpMapper(model, save_dir)\r\n  File \"/root/miniconda3/envs/torch120/lib/python3.6/site-packages/x2paddle-0.5.0-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 76, in __init__\r\n    raise Exception(\"Model are not supported yet.\")\r\nException: Model are not supported yet.\r\n\r\n```",
        "state": "closed",
        "user": "chenjun2hao",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-23T08:21:07+00:00",
        "updated_at": "2019-10-12T02:24:53+00:00",
        "closed_at": "2019-10-12T02:24:53+00:00",
        "comments_count": [
            "Channingss",
            "chenjun2hao",
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 157,
        "title": "Multiple top nodes are not supported.",
        "body": "I am converting caffe slice layer to paddle. Slice layer has Multiple top nodes but X2Paddle does not support it.",
        "state": "closed",
        "user": "KeyKy",
        "closed_by": "KeyKy",
        "created_at": "2019-10-08T07:31:59+00:00",
        "updated_at": "2019-10-08T08:04:33+00:00",
        "closed_at": "2019-10-08T08:04:24+00:00",
        "comments_count": [
            "KeyKy"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 183,
        "title": "Can X2Paddle convert SSD_mobileNet_V1 model zoo pretrained in tensorflow?",
        "body": "I download SSD_Mobilenet Tensorflow detection model zoo from https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md and use X2Paddle convert to Paddle-lite model and use it run on an Neural Network Inference Engine supported by huawei chip. BUT none of them success. Could you please do a try and give me some suggest?",
        "state": "closed",
        "user": "dehuy69",
        "closed_by": "jiangjiajun",
        "created_at": "2019-10-23T08:24:52+00:00",
        "updated_at": "2019-10-29T02:01:11+00:00",
        "closed_at": "2019-10-29T02:01:10+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 151,
        "title": "develop分支能否支持单向GRU呢",
        "body": "我看到paddle实现双向GRU的方式是：\r\n```\r\n    fc_1 = fluid.layers.fc(input=x,\r\n                           size=rnn_hidden_size * 3,\r\n                           param_attr=para_attr,\r\n                           bias_attr=bias_attr_nobias)\r\n    fc_2 = fluid.layers.fc(input=x,\r\n                           size=rnn_hidden_size * 3,\r\n                           param_attr=para_attr,\r\n                           bias_attr=bias_attr_nobias)\r\n    gru_forward = fluid.layers.dynamic_gru(\r\n        input=fc_1,\r\n        size=rnn_hidden_size,\r\n        param_attr=para_attr,\r\n        bias_attr=bias_attr,\r\n        candidate_activation='relu')\r\n    gru_backward = fluid.layers.dynamic_gru(\r\n        input=fc_2,\r\n        size=rnn_hidden_size,\r\n        is_reverse=True,\r\n        param_attr=para_attr,\r\n        bias_attr=bias_attr,\r\n        candidate_activation='relu')\r\n```\r\n\r\n那对于单向的Pytorch上的代码是：\r\n```\r\nmodel = nn.GRU(10, 20, 2)\r\ninput = torch.randn(5, 3, 10)\r\n#h0 = torch.zeros(2, 3, 20)\r\nyp = model(input)\r\ntorch.onnx.export(model, input, 'gru.onnx',verbose=True)\r\n```\r\n\r\n转后的onnx模型是\r\n链接：https://pan.baidu.com/s/1NtYNN5DSALo-tLrGFDlGxA \r\n提取码：897a \r\n\r\n想问一下目前develop分支能否支持单向GRU",
        "state": "closed",
        "user": "richlaji",
        "closed_by": "jiangjiajun",
        "created_at": "2019-09-19T09:08:38+00:00",
        "updated_at": "2019-10-12T02:23:46+00:00",
        "closed_at": "2019-10-12T02:23:46+00:00",
        "comments_count": [
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 207,
        "title": "AttributeError: module 'model' has no attribute 'x2paddle_net'",
        "body": "```\r\nlib/python3.6/site-packages/x2paddle-0.6.0-py3.6.egg/x2paddle/core/op_mapper.py\", line 122, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\nAttributeError: module 'model' has no attribute 'x2paddle_net'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.6.0', 'console_scripts', 'x2paddle')()\r\n  File \"/lib/python3.6/site-packages/x2paddle-0.6.0-py3.6.egg/x2paddle/convert.py\", line 233, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/lib/python3.6/site-packages/x2paddle-0.6.0-py3.6.egg/x2paddle/convert.py\", line 176, in onnx2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"lib/python3.6/site-packages/x2paddle-0.6.0-py3.6.egg/x2paddle/core/op_mapper.py\", line 158, in save_inference_model\r\n    .format(py_code_dir))\r\nException: Paddle code was saved in ./model.py, but seems there's wrong exist, please check model.py manually.\r\n```",
        "state": "closed",
        "user": "zhhezhhe",
        "closed_by": "zhhezhhe",
        "created_at": "2019-11-27T05:16:30+00:00",
        "updated_at": "2019-11-29T06:10:38+00:00",
        "closed_at": "2019-11-29T06:10:38+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 201,
        "title": "x2paddle transfer model of tensorflow, report error.",
        "body": "(venv-python36) PS D:\\tensorflow-learning\\venv-python36\\Scripts> x2paddle -m D:\\work\\AI\\model\\mobilenet_v1_1.0_224_frozen\\mobilenet_v1_1.0_224_frozen.pb -s D:\\work\\AI\\PaddlePaddleLite -f tensorflow -f tensorflow\r\n\r\n### paddlepaddle not installed, use \"pip install paddlepaddle\"\r\n1.0.0<=tensorflow<2.0.0 is required, and v1.14.0 is recommended\r\n\r\nbut paddlepaddle installed . And use \"pip list\" can see : \"paddlepaddle 1.6.1\"\r\n\r\n",
        "state": "closed",
        "user": "liuhong-lh",
        "closed_by": "jiangjiajun",
        "created_at": "2019-11-13T08:32:51+00:00",
        "updated_at": "2019-11-25T03:29:25+00:00",
        "closed_at": "2019-11-25T03:29:25+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 202,
        "title": "GPT-2模型转换时出错。",
        "body": "在我使用onnx转paddle时候，报错：\r\nThere are 1 ops not supported yet, list as below\r\nNonZero\r\n\r\n希望能尽快支持\r\n\r\n模型位置：https://github.com/onnx/models/tree/master/text/machine_comprehension/gpt-2/model",
        "state": "closed",
        "user": "914295860",
        "closed_by": "jiangjiajun",
        "created_at": "2019-11-17T06:09:42+00:00",
        "updated_at": "2020-07-15T07:00:53+00:00",
        "closed_at": "2019-11-27T02:11:34+00:00",
        "comments_count": [
            "Channingss",
            "Channingss",
            "Channingss",
            "914295860",
            "AnShengqiang",
            "empty-id",
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 208,
        "title": "onnx转paddle失败",
        "body": "Now translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 9\r\nW1127 21:32:25.501857 54097 init.cc:125] Compiled with WITH_GPU, but no GPU found in runtime.\r\nTraceback (most recent call last):\r\n  File \"/home/yulu/anaconda3/envs/paddle/bin/onnx_infer\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.6.0', 'console_scripts', 'onnx_infer')()\r\n  File \"/home/yulu/anaconda3/envs/paddle/lib/python3.6/site-packages/x2paddle-0.6.0-py3.6.egg/x2paddle/onnx_infer.py\", line 39, in main\r\n    sess = rt.InferenceSession(model_dir)\r\n  File \"/home/yulu/anaconda3/envs/paddle/lib/python3.6/site-packages/onnxruntime/capi/session.py\", line 29, in __init__\r\n    self._sess.load_model(path_or_bytes)\r\nRuntimeError: [ONNXRuntimeError] : 1 : GENERAL ERROR : Load model from pd_model/tmp_data/onnx_model_infer.onnx failed:Type Error: Type parameter (T) bound to different types (tensor(float) and tensor(int64) in node (_1211).\r\nTotal nodes: 545\r\nin (Constant -> _1146): attribute \"shape\" of _1146 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1161): attribute \"shape\" of _1161 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1162): attribute \"shape\" of _1162 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1171): attribute \"shape\" of _1171 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1174): attribute \"shape\" of _1174 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1177): attribute \"shape\" of _1177 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1181): attribute \"shape\" of _1181 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1184): attribute \"shape\" of _1184 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1187): attribute \"shape\" of _1187 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1190): attribute \"shape\" of _1190 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1193): attribute \"shape\" of _1193 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1201): attribute \"shape\" of _1201 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1224): attribute \"shape\" of _1224 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1227): attribute \"shape\" of _1227 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1230): attribute \"shape\" of _1230 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1234): attribute \"shape\" of _1234 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1242): attribute \"shape\" of _1242 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1255): attribute \"shape\" of _1255 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1262): attribute \"shape\" of _1262 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1275): attribute \"shape\" of _1275 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1285): attribute \"shape\" of _1285 not inferred, using value as 1-D tensor may lead to fails\r\nin (Constant -> _1286): attribute \"shape\" of _1286 not inferred, using value as 1-D tensor may lead to fails\r\nTraceback (most recent call last):\r\n  File \"/home/yulu/anaconda3/envs/paddle/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.6.0', 'console_scripts', 'x2paddle')()\r\n  File \"/home/yulu/anaconda3/envs/paddle/lib/python3.6/site-packages/x2paddle-0.6.0-py3.6.egg/x2paddle/convert.py\", line 233, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/home/yulu/anaconda3/envs/paddle/lib/python3.6/site-packages/x2paddle-0.6.0-py3.6.egg/x2paddle/convert.py\", line 170, in onnx2paddle\r\n    mapper = ONNXOpMapper(model, save_dir)\r\n  File \"/home/yulu/anaconda3/envs/paddle/lib/python3.6/site-packages/x2paddle-0.6.0-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 90, in __init__\r\n    func(node)\r\n  File \"/home/yulu/anaconda3/envs/paddle/lib/python3.6/site-packages/x2paddle-0.6.0-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 513, in Unsqueeze\r\n    if len(val_x.out_shapes[0]) == 0:\r\nTypeError: object of type 'NoneType' has no len()",
        "state": "closed",
        "user": "Anikily",
        "closed_by": "jiangjiajun",
        "created_at": "2019-11-27T13:33:33+00:00",
        "updated_at": "2019-11-29T02:25:43+00:00",
        "closed_at": "2019-11-29T02:25:43+00:00",
        "comments_count": [
            "Channingss",
            "Anikily",
            "Channingss",
            "Anikily",
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 213,
        "title": "IndexError: list index out of range? ",
        "body": "Hi, \r\n\r\nx2paddle conversion gives this error. I used Ubuntu18.04 in VitrualBox. \r\n\r\nModel: [ssd_mobilenet_custom.zip](https://github.com/PaddlePaddle/X2Paddle/files/3915001/ssd_mobilenet_custom.zip)\r\n\r\n```\r\nx2paddle --framework=caffe --prototxt=deploy.prototxt --weight=coco/ssd_mobilenet_custom.caffemodel --save_dir=pd_model\r\nNow translating model from caffe to paddle.\r\nTotal nodes: 268\r\nTraceback (most recent call last):\r\n  File \"/home/ghimire/.local/bin/x2paddle\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/ghimire/.local/lib/python2.7/site-packages/x2paddle/convert.py\", line 227, in main\r\n    args.caffe_proto, params_merge)\r\n  File \"/home/ghimire/.local/lib/python2.7/site-packages/x2paddle/convert.py\", line 146, in caffe2paddle\r\n    mapper = CaffeOpMapper(model)\r\n  File \"/home/ghimire/.local/lib/python2.7/site-packages/x2paddle/op_mapper/caffe_op_mapper.py\", line 51, in __init__\r\n    self.deal_custom_layer(node)\r\n  File \"/home/ghimire/.local/lib/python2.7/site-packages/x2paddle/op_mapper/caffe_op_mapper.py\", line 944, in deal_custom_layer\r\n    input = self.graph.get_bottom_node(input, idx=0, copy=True)\r\n  File \"/home/ghimire/.local/lib/python2.7/site-packages/x2paddle/decoder/caffe_decoder.py\", line 204, in get_bottom_node\r\n    input_node_name = node.inputs[idx]\r\nIndexError: list index out of range\r\n```\r\nPlease help. \r\n\r\nBest,\r\nDeepak ",
        "state": "closed",
        "user": "ghimiredhikura",
        "closed_by": "ghimiredhikura",
        "created_at": "2019-12-03T06:52:02+00:00",
        "updated_at": "2019-12-06T04:42:55+00:00",
        "closed_at": "2019-12-06T04:42:55+00:00",
        "comments_count": [
            "SunAhong1993",
            "ghimiredhikura",
            "jiangjiajun",
            "ghimiredhikura"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 216,
        "title": "X2Paddle 支持 tensorflow 2.0 的模型转换吗？",
        "body": "",
        "state": "closed",
        "user": "aksenventwo",
        "closed_by": "jiangjiajun",
        "created_at": "2019-12-04T04:00:51+00:00",
        "updated_at": "2019-12-09T01:54:08+00:00",
        "closed_at": "2019-12-09T01:54:08+00:00",
        "comments_count": [
            "jiangjiajun",
            "aksenventwo",
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 218,
        "title": "pytorch ssd模型导出onnx 转paddle出错",
        "body": "Now translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 9\r\nTotal nodes: 98\r\nTraceback (most recent call last):\r\n  File \"/home/zt/androidprojects/X2Paddle-develop/x2paddle/core/op_mapper.py\", line 122, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"pd_model/model_with_code/model.py\", line 7, in x2paddle_net\r\n    _107 = fluid.layers.create_parameter(dtype='float32', shape=[], name='_107', attr='_107', default_initializer=Constant(0.0))\r\n  File \"/home/zt/tools/anaconda3/envs/pytorch1.3/lib/python3.6/site-packages/paddle/fluid/layers/tensor.py\", line 103, in create_parameter\r\n    default_initializer)\r\n  File \"/home/zt/tools/anaconda3/envs/pytorch1.3/lib/python3.6/site-packages/paddle/fluid/layer_helper_base.py\", line 330, in create_parameter\r\n    **attr._to_kwargs(with_initializer=True))\r\n  File \"/home/zt/tools/anaconda3/envs/pytorch1.3/lib/python3.6/site-packages/paddle/fluid/framework.py\", line 2384, in create_parameter\r\n    param = Parameter(global_block, *args, **kwargs)\r\n  File \"/home/zt/tools/anaconda3/envs/pytorch1.3/lib/python3.6/site-packages/paddle/fluid/framework.py\", line 4471, in __init__\r\n    \"The dimensions of shape for Parameter must be greater than 0\")\r\nValueError: The dimensions of shape for Parameter must be greater than 0\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/zt/tools/anaconda3/envs/pytorch1.3/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.6.0', 'console_scripts', 'x2paddle')()\r\n  File \"/home/zt/androidprojects/X2Paddle-develop/x2paddle/convert.py\", line 233, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/home/zt/androidprojects/X2Paddle-develop/x2paddle/convert.py\", line 176, in onnx2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"/home/zt/androidprojects/X2Paddle-develop/x2paddle/core/op_mapper.py\", line 158, in save_inference_model\r\n    .format(py_code_dir))\r\nException: Paddle code was saved in pd_model/model_with_code/model.py, but seems there's wrong exist, please check model.py manually.\r\n\r\nonnx文件先经过onnx-simplifier-master工具转化过,出错的地方为L2Norm部分,不知道是不是因为_107处常量没有scope.\r\n\r\n%106 : Float(1, 1024, 19, 19) = onnx::Relu(%105), scope: SSD/VGG16[base]/ReLU # /home/zt/tools/anaconda3/envs/pytorch1.3/lib/python3.6/site-packages/torch/nn/functional.py:914:0\r\n  %107 : Float() = onnx::Constant[value={2}]()\r\n  %108 : Float(1, 512, 38, 38) = onnx::Pow(%94, %107), scope: SSD/L2Norm[L2Norm] # /home/zt/PycharmProjects/fssd.pytorch-master/models/SSD_vgg.py:268:0\r\n\r\n\r\n![屏幕截图](https://user-images.githubusercontent.com/38270894/70143448-982b2c00-16d6-11ea-941f-89cebb93b0ce.png)\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "luoduo21",
        "closed_by": "luoduo21",
        "created_at": "2019-12-04T12:42:43+00:00",
        "updated_at": "2019-12-05T05:38:10+00:00",
        "closed_at": "2019-12-05T05:38:10+00:00",
        "comments_count": [
            "Channingss",
            "luoduo21",
            "luoduo21"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 217,
        "title": "使用x2paddle转换之后的模型进行预测，是否必须要求预测库paddle>1.6.0",
        "body": "如题\r\n\r\n使用x2paddle对caffe转模型后，利用paddle预测库进行预测，是否要求预测库paddle>1.6.0",
        "state": "closed",
        "user": "zzchust",
        "closed_by": "jiangjiajun",
        "created_at": "2019-12-04T07:56:51+00:00",
        "updated_at": "2019-12-13T04:26:35+00:00",
        "closed_at": "2019-12-13T04:26:35+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 210,
        "title": "google.protobuf.message.DecodeError: Error parsing message",
        "body": "Traceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.6.0', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-0.6.0-py3.5.egg/x2paddle/convert.py\", line 227, in main\r\n    args.caffe_proto, params_merge)\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-0.6.0-py3.5.egg/x2paddle/convert.py\", line 145, in caffe2paddle\r\n    model = CaffeDecoder(proto, weight, caffe_proto)\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-0.6.0-py3.5.egg/x2paddle/decoder/caffe_decoder.py\", line 228, in __init__\r\n    self.load_using_pb()\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-0.6.0-py3.5.egg/x2paddle/decoder/caffe_decoder.py\", line 237, in load_using_pb\r\n    data.MergeFromString(open(self.model_path, 'rb').read())\r\ngoogle.protobuf.message.DecodeError: Error parsing message\r\n\r\nThis issue happen when convert a caffe model to paddle paddle model, any specified requirement on google protobuf? I am installing the python3 protobuf.\r\n",
        "state": "closed",
        "user": "billmguo",
        "closed_by": "jiangjiajun",
        "created_at": "2019-11-28T22:26:42+00:00",
        "updated_at": "2019-12-05T08:34:40+00:00",
        "closed_at": "2019-12-05T08:34:40+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 220,
        "title": "使用x2paddle转caffe模型后，paddle1.6.1的C++ inference速度慢了20%以上",
        "body": "caffe模型选用[x2paddle_model_zoo](https://github.com/PaddlePaddle/X2Paddle/blob/develop/x2paddle_model_zoo.md)\r\n中的[shufflenetv2](https://github.com/miaow1988/ShuffleNet_V2_pytorch_caffe/releases/tag/v0.1.0)\r\n\r\n转模型后，使用paddle1.6.1的 cpu-mkl版本进行预测，比caffe的模型（cpu端）慢20%以上。",
        "state": "closed",
        "user": "zzchust",
        "closed_by": "jiangjiajun",
        "created_at": "2019-12-05T12:42:18+00:00",
        "updated_at": "2019-12-13T04:26:47+00:00",
        "closed_at": "2019-12-13T04:26:47+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 219,
        "title": "使用paddle训练后的paddle模型可以转caffe模型吗？",
        "body": "使用paddle训练后的paddle模型可以转caffe模型吗？",
        "state": "closed",
        "user": "fangwudi",
        "closed_by": "fangwudi",
        "created_at": "2019-12-05T03:28:54+00:00",
        "updated_at": "2019-12-05T08:36:17+00:00",
        "closed_at": "2019-12-05T08:36:17+00:00",
        "comments_count": [
            "jiangjiajun",
            "fangwudi"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 221,
        "title": "在含有paddle的docker中安装tensor1.14.0后，使用x2paddle工具还是提示未安装tensorflow",
        "body": "![image](https://user-images.githubusercontent.com/38059903/70456108-77087800-1ae8-11ea-9145-2b9ae2226f79.png)\r\n",
        "state": "closed",
        "user": "zuoyekun",
        "closed_by": "jiangjiajun",
        "created_at": "2019-12-09T17:00:46+00:00",
        "updated_at": "2019-12-15T05:00:32+00:00",
        "closed_at": "2019-12-15T05:00:32+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 224,
        "title": "使用x2paddle转换mobilenet(tensorflow),报错",
        "body": "转换命令：x2paddle -f tensorflow -m frozen_inference_graph.pb -s pd_model/ --without_data_format_optimization --define_input_shape\r\n报错情况：\r\nNow translating model from tensorflow to paddle.\r\nDefine shape[now is [-1L, -1L, -1L, 3L]] for input tensor[tensor name: \"image_tensor']\r\nUse your keyboard type the shape of input tensor below :)\r\nShape of Input(e.g. None,224,224,3): None,224,224,3\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.6.0', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python2.7/dist-packages/x2paddle-0.6.0-py2.7.egg/x2paddle/convert.py\", line 219, in main\r\n    define_input_shape, params_merge)\r\n  File \"/usr/local/lib/python2.7/dist-packages/x2paddle-0.6.0-py2.7.egg/x2paddle/convert.py\", line 106, in tf2paddle\r\n    model = TFDecoder(model_path, define_input_shape=define_input_shape)\r\n  File \"/usr/local/lib/python2.7/dist-packages/x2paddle-0.6.0-py2.7.egg/x2paddle/decoder/tf_decoder.py\", line 263, in __init__\r\n    self.tf_graph.build()\r\n  File \"/usr/local/lib/python2.7/dist-packages/x2paddle-0.6.0-py2.7.egg/x2paddle/decoder/tf_decoder.py\", line 123, in build\r\n    format(in_node, layer_name))\r\nException: input[^Preprocessor_map_while_Identity] of node[Preprocessor_map_while_add_y] does not exist in node_map\r\n\r\n测试模型及环境配置说明见百度网盘：\r\n链接：https://pan.baidu.com/s/1LTRQdLbGk35KZGL7Mloy_g \r\n提取码：jm0u \r\n复制这段内容后打开百度网盘手机App，操作更方便哦\r\n",
        "state": "closed",
        "user": "lantuxin",
        "closed_by": "jiangjiajun",
        "created_at": "2019-12-24T07:46:03+00:00",
        "updated_at": "2020-01-02T03:49:24+00:00",
        "closed_at": "2020-01-02T03:49:24+00:00",
        "comments_count": [
            "jiangjiajun",
            "lantuxin",
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 222,
        "title": "为什么onnx转paddle需要是1.6版本的，有没有支持1.4版本的",
        "body": "版本太高，有些不支持",
        "state": "closed",
        "user": "DJinsis",
        "closed_by": "jiangjiajun",
        "created_at": "2019-12-17T04:41:51+00:00",
        "updated_at": "2019-12-23T02:39:51+00:00",
        "closed_at": "2019-12-23T02:39:51+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 225,
        "title": "HI,if I want to transfer tensorflow code into paddle ,how do I change the session part?",
        "body": "with tf.Session() as sess:\r\n  sess.run(init)\r\n  sess.run([train_op], feed_dict={\r\n            x: batch_xs,\r\n            y: batch_ys,\r\n        })\r\nsomething like that,? thanks ",
        "state": "closed",
        "user": "Xshelton",
        "closed_by": "Xshelton",
        "created_at": "2020-01-06T07:54:49+00:00",
        "updated_at": "2020-01-07T08:51:57+00:00",
        "closed_at": "2020-01-07T08:51:57+00:00",
        "comments_count": [
            "jiangjiajun",
            "Xshelton",
            "jiangjiajun",
            "Xshelton"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 230,
        "title": "请问支持NLP中的ALBERT的模型转换吗",
        "body": "",
        "state": "closed",
        "user": "hdulbj",
        "closed_by": "jiangjiajun",
        "created_at": "2020-02-26T09:24:43+00:00",
        "updated_at": "2020-03-25T09:55:45+00:00",
        "closed_at": "2020-03-25T09:55:45+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 227,
        "title": "caffe-SSD转fluid预测Normalize层出错",
        "body": "环境：paddle 1.6.3\r\n使用工具将caffe模型转换为fluid模型，验证模型的预测：\r\n1、用model_with_code/中生成转换好的参数和model.py进行网络做预测，用load_vars方式加载参数，预测时报错，排查到Normalize层报错。\r\n2、再使用inference_model/中的模型，不定义网络结构，直接load_inference_model加载prog，报相同错误。\r\n报错截图为：\r\n`F0207 22:01:00.297178 116936 device_context.cc:328] cudaStreamSynchronize an illegal memory access was encountered errno: 77\r\n*** Check failure stack trace: ***\r\n    @     0x7f34711e72dd  google::LogMessage::Fail()\r\n    @     0x7f34711ead8c  google::LogMessage::SendToLog()\r\n    @     0x7f34711e6e03  google::LogMessage::Flush()\r\n    @     0x7f34711ec29e  google::LogMessageFatal::~LogMessageFatal()\r\n    @     0x7f34739a5137  paddle::platform::CUDADeviceContext::Wait()\r\n    @     0x7f347393ee93  paddle::framework::TransDataDevice()\r\n    @     0x7f347393d87e  paddle::framework::TransformData()\r\n    @     0x7f347391bfcb  paddle::framework::OperatorWithKernel::PrepareData()\r\n    @     0x7f347391d418  paddle::framework::OperatorWithKernel::RunImpl()\r\n    @     0x7f347391daf1  paddle::framework::OperatorWithKernel::RunImpl()\r\n    @     0x7f347391777c  paddle::framework::OperatorBase::Run()\r\n    @     0x7f347122e416  paddle::framework::Executor::RunPreparedContext()\r\n    @     0x7f3471231c5f  paddle::framework::Executor::Run()\r\n    @     0x7f347106b6ad  _ZZN8pybind1112cpp_function10initializeIZN6paddle6pybindL22pybind11_init_core_avxERNS_6moduleEEUlRNS2_9framework8ExecutorERKNS6_11ProgramDescEPNS6_5ScopeEibbRKSt6vectorISsSaISsEEE103_vIS8_SB_SD_ibbSI_EINS_4nameENS_9is_methodENS_7siblingEEEEvOT_PFT0_DpT1_EDpRKT2_ENUlRNS_6detail13function_callEE1_4_FUNES10_\r\n    @     0x7f34710b4816  pybind11::cpp_function::dispatcher()\r\n    @     0x7f353064dbb8  PyEval_EvalFrameEx\r\n    @     0x7f35306510bd  PyEval_EvalCodeEx\r\n    @     0x7f353064e345  PyEval_EvalFrameEx\r\n    @     0x7f35306510bd  PyEval_EvalCodeEx\r\n    @     0x7f353064e345  PyEval_EvalFrameEx\r\n    @     0x7f35306510bd  PyEval_EvalCodeEx\r\n    @     0x7f353064e345  PyEval_EvalFrameEx\r\n    @     0x7f35306510bd  PyEval_EvalCodeEx\r\n    @     0x7f353064e345  PyEval_EvalFrameEx\r\n    @     0x7f35306510bd  PyEval_EvalCodeEx\r\n    @     0x7f35306511f2  PyEval_EvalCode\r\n    @     0x7f3530679f42  PyRun_FileExFlags\r\n    @     0x7f353067b2d9  PyRun_SimpleFileExFlags\r\n    @     0x7f353069100d  Py_Main\r\n    @     0x7f352f88ebd5  __libc_start_main\r\n    @           0x4007a1  (unknown)\r\n    @              (nil)  (unknown)\r\nAborted\r\n`\r\n\r\n\r\nNormalize层在caffe deploy中的定义 为：\r\n`layer {\r\n  name: \"conv4_3_norm\"\r\n  type: \"Normalize\"\r\n  bottom: \"conv4_3\"\r\n  top: \"conv4_3_norm\"\r\n  norm_param {\r\n    across_spatial: false\r\n    scale_filler {\r\n      type: \"constant\"\r\n      value: 20\r\n    }\r\n    channel_shared: false\r\n  }\r\n}\r\n`\r\n但是在model.py中的实现为：\r\n`def normalize_layer(inputs,\r\n                    across_spatial=None,\r\n                    channel_shared=None,\r\n                    input_shape=None,\r\n                    name=None):\r\n    assert across_spatial == False, \"Only support across_spatial == False for Normalize\"\r\n\r\n    input = inputs[0]\r\n    l2_norm = fluid.layers.l2_normalize(input, axis=1, name=name + '_l2')\r\n    scale_param = fluid.layers.create_parameter(\r\n        shape=[1]\r\n        if channel_shared else [input_shape[0][0], 1, 1, input_shape[0][1]],\r\n        dtype=input.dtype,\r\n        attr=name + '_scale')\r\n    scale_param = fluid.layers.reshape(x=scale_param, \\\r\n                  shape=[1] if channel_shared else [input_shape[0][0], 1, 1, input_shape[0][1]])\r\n    out = fluid.layers.elementwise_mul(x=l2_norm,\r\n                                       y=scale_param,\r\n                                       axis=-1 if channel_shared else 1)\r\n    return out\r\n`\r\n问题1:排查Normalize函数错误的原因为：l2_norm维度为1,512,52,52，scale_param维度为1,1,1,512，因此elementwise_mul会出错。\r\n问题2:caffe depoly里定义scale为constant（20），但是model.py里定义的不是constant。\r\n问题3:将问题1中的scale_param维度修改为512后，预测不会出错，但是网络输出全部为[[-1]]，没有 检测结果。\r\n\r\n希望得到解答。",
        "state": "closed",
        "user": "nizihan",
        "closed_by": "jiangjiajun",
        "created_at": "2020-02-07T14:11:06+00:00",
        "updated_at": "2020-02-17T06:07:08+00:00",
        "closed_at": "2020-02-17T06:07:08+00:00",
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 229,
        "title": "Convert paddle model to tensorflow",
        "body": "### I am not good at paddlehub. I am usually use tensorflow python. Therefore, I need convert __model__ __param__ in paddlehub to  model tensorflow. How can I do it, or load __moddel__ __param__ by tensorflow? Thank in advance.\r\n\r\n```\r\n__model__.nb    ----->   model.pb or model.h5\r\n__param__.nb   ----->  param \r\n```\r\n",
        "state": "closed",
        "user": "phamkhactu",
        "closed_by": "jiangjiajun",
        "created_at": "2020-02-25T02:28:10+00:00",
        "updated_at": "2023-03-10T15:54:43+00:00",
        "closed_at": "2020-03-01T14:03:47+00:00",
        "comments_count": [
            "jiangjiajun",
            "phamkhactu",
            "phamkhactu",
            "jiangjiajun",
            "phamkhactu",
            "jiangjiajun",
            "phamkhactu",
            "jiangjiajun",
            "AliSheheryar"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 231,
        "title": "pytorch->onnx->paddle,  paddle中的_interpolate函数(paddle not support op:resize wiht mode: linear)",
        "body": "pytorch->onnx->paddle:\r\npytorch中调用了F.interpolate(x, scale_factor=[0.5, 0.75], mode=\"bilinear\", align_corners=False), 但是onnx转paddle报错:\r\n![WXWorkCapture_15827237397369](https://user-images.githubusercontent.com/24602893/75349109-131f6f80-58df-11ea-8415-792ab7c74dcb.png)\r\n和issue #142类似, 但是不知道具体怎么解决, 请各位帮忙看看, 谢了",
        "state": "closed",
        "user": "Eric-Zhang1990",
        "closed_by": "jiangjiajun",
        "created_at": "2020-02-26T13:30:50+00:00",
        "updated_at": "2020-07-10T11:08:58+00:00",
        "closed_at": "2020-03-16T02:13:41+00:00",
        "comments_count": [
            "Channingss",
            "Eric-Zhang1990",
            "Eric-Zhang1990",
            "Eric-Zhang1990",
            "Eric-Zhang1990",
            "Channingss",
            "Eric-Zhang1990",
            "Channingss",
            "Channingss",
            "Eric-Zhang1990",
            "Eric-Zhang1990",
            "Channingss",
            "Eric-Zhang1990",
            "Eric-Zhang1990",
            "Channingss",
            "Channingss",
            "Eric-Zhang1990",
            "Eric-Zhang1990",
            "Channingss",
            "Channingss",
            "jiangjiajun",
            "Daniel-Kelvich"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 233,
        "title": "X2Paddle支持任意大小的输入吗？",
        "body": "我想用Paddle-Lite在移动端部署快速风格迁移模型，模型的输入shape是(1, None, None, 3)，输出的shape和输入的shape相同。我从tensorflow的pb格式转换为paddle的格式会报错：\r\n```\r\nShape[now is [1, -1, -1, 3]] for input tensor[tensor name: \"input\"] not support yet\r\nUse your keyboard type the shape of input tensor below :)\r\n```\r\n我看[FAQ](https://github.com/PaddlePaddle/X2Paddle/blob/develop/FAQ.md)中说**需要用户手动在提示后输入详细的shape信息，如None,224,224,3**。\r\n\r\n我希望我的模型支持任意大小的输入，请问该怎么操作才能实现？",
        "state": "closed",
        "user": "czczup",
        "closed_by": "czczup",
        "created_at": "2020-03-01T13:24:10+00:00",
        "updated_at": "2020-03-03T14:11:26+00:00",
        "closed_at": "2020-03-03T14:11:26+00:00",
        "comments_count": [
            "jiangjiajun",
            "JINGTING92",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 237,
        "title": "tensorflow转paddle模型报错",
        "body": "1.Deeplabv3_mobilenetv2模型\r\n(1)模型地址 \r\n(a)http://download.tensorflow.org/models/deeplabv3_mnv2_pascal_train_aug_2018_01_29.tar.gz\r\n(b)http://download.tensorflow.org/models/deeplabv3_mnv2_pascal_trainval_2018_01_29.tar.gz\r\n(2) (错误) tensorflow转paddle失败: 用官网的x2paddle转换工具;\r\n(a) 用命令x2paddle --framework=tensorflow --model=frozen_inference_graph.pb --save_dir=pd_model, 出现如下错误:\r\n![1583393488(1)](https://user-images.githubusercontent.com/24602893/76045083-1c6fa280-5f97-11ea-8b8e-b5d89a0868c0.png)\r\n(b) 用命令x2paddle -f tensorflow -m frozen_inference_graph.pb -s pd-model --without_data_format_optimization --define_input_shape, 出现如下错误:\r\n![WXWorkCapture_15834025313336](https://user-images.githubusercontent.com/24602893/76045100-2a252800-5f97-11ea-8af8-e7b2d938d954.png)\r\n\r\n请大家帮忙看看, 谢谢",
        "state": "closed",
        "user": "Eric-Zhang1990",
        "closed_by": "jiangjiajun",
        "created_at": "2020-03-06T02:42:51+00:00",
        "updated_at": "2020-03-11T12:09:16+00:00",
        "closed_at": "2020-03-11T12:09:16+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 238,
        "title": "PaddlePaddle 2 Tensorflow/ONNX",
        "body": "Is it possibile to do the opposite? I would like to convert a pretrained PaddlePaddle model to Tensorflow (or Pytorch) by example\r\n\r\nThanks",
        "state": "closed",
        "user": "loretoparisi",
        "closed_by": "loretoparisi",
        "created_at": "2020-03-18T15:15:31+00:00",
        "updated_at": "2020-03-19T08:55:08+00:00",
        "closed_at": "2020-03-19T08:55:08+00:00",
        "comments_count": [
            "jiangjiajun",
            "loretoparisi"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 239,
        "title": "Tensorflow Bert模型转换",
        "body": "下载 https://storage.googleapis.com/albert_zh/albert_xlarge_zh_183k.zip 后在`TensorFlow 1.14.0`下使用如下脚本转为pb：\r\n```\r\nimport tensorflow as tf\r\nfrom tensorflow.python.framework import graph_util\r\nimport sys\r\n\r\ndef freeze_model(sess, output_tensor_names, freeze_model_path):\r\n    out_graph = graph_util.convert_variables_to_constants(\r\n        sess, sess.graph.as_graph_def(), output_tensor_names)\r\n    with tf.gfile.GFile(freeze_model_path, 'wb') as f:\r\n        f.write(out_graph.SerializeToString())\r\n\r\n    print(\"freeze model saved in {}\".format(freeze_model_path))\r\n\r\nsess = tf.Session()\r\nsaver = tf.train.import_meta_graph('albert_xlarge_zh_183k/albert_model.ckpt.meta')\r\nsaver.restore(sess, tf.train.latest_checkpoint('albert_xlarge_zh_183k'))\r\noutput_names = ['bert/pooler/dense/Tanh']\r\nfreeze_model(sess, output_names, './bert.pb')\r\n```",
        "state": "closed",
        "user": "roreagan",
        "closed_by": "jiangjiajun",
        "created_at": "2020-03-21T15:37:04+00:00",
        "updated_at": "2020-03-25T02:50:43+00:00",
        "closed_at": "2020-03-25T02:50:43+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 242,
        "title": "IndexError: list index out of range",
        "body": "Hi,\r\n\r\nModel = MobileNet_v2_1.0 224 from TensorFlow hub models\r\n\r\nMobileNet_v1_1.0 and SqueezeNet 1.1 have been converted without any issue.\r\n\r\n`x2paddle --framework=tensorflow --model=mobilenet_v2_1.0_224_frozen.pb --save_dir=pd_model` gave me \r\n\r\n```bash\r\npaddle.__version__ = 1.7.1\r\nNow translating model from tensorflow to paddle.\r\nTraceback (most recent call last):\r\n  File \"/home/mfebvay/.local/bin/x2paddle\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/mfebvay/.local/lib/python2.7/site-packages/x2paddle/convert.py\", line 237, in main\r\n    define_input_shape, params_merge)\r\n  File \"/home/mfebvay/.local/lib/python2.7/site-packages/x2paddle/convert.py\", line 108, in tf2paddle\r\n    model = TFDecoder(model_path, define_input_shape=define_input_shape)\r\n  File \"/home/mfebvay/.local/lib/python2.7/site-packages/x2paddle/decoder/tf_decoder.py\", line 299, in __init__\r\n    input_map = self._check_input_shape(graph_def)\r\n  File \"/home/mfebvay/.local/lib/python2.7/site-packages/x2paddle/decoder/tf_decoder.py\", line 344, in _check_input_shape\r\n    shape = graph_node.out_shapes[0]\r\nIndexError: list index out of range\r\n```\r\n\r\nRelated to #213 ?\r\n\r\nThanks.",
        "state": "closed",
        "user": "matfeb",
        "closed_by": "matfeb",
        "created_at": "2020-03-27T09:23:48+00:00",
        "updated_at": "2020-03-28T12:20:36+00:00",
        "closed_at": "2020-03-28T12:20:22+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun",
            "matfeb"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 243,
        "title": "用x2paddle转pytorch模型报错",
        "body": "",
        "state": "closed",
        "user": "qhpeklh5959",
        "closed_by": "jiangjiajun",
        "created_at": "2020-04-02T10:32:53+00:00",
        "updated_at": "2020-05-07T08:00:28+00:00",
        "closed_at": "2020-05-07T08:00:28+00:00",
        "comments_count": [
            "qhpeklh5959",
            "Channingss",
            "qhpeklh5959",
            "Channingss",
            "qhpeklh5959",
            "Channingss",
            "qhpeklh5959",
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 246,
        "title": "Support Caffe FasteRCNN to paddle model?",
        "body": "Thanks your excellent work!\r\n\r\nCould X2Paddle convert Caffe FasteRCNN to paddle model?\r\n\r\nThanks\r\n\r\n(l see that custom caffe layer of X2Paddle have't proposal layer)",
        "state": "closed",
        "user": "guoqiang0148666",
        "closed_by": "guoqiang0148666",
        "created_at": "2020-04-09T12:06:19+00:00",
        "updated_at": "2020-04-14T12:39:55+00:00",
        "closed_at": "2020-04-14T12:39:55+00:00",
        "comments_count": [
            "SunAhong1993",
            "guoqiang0148666"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 245,
        "title": "不支持tensorflow的tf.Sqrt",
        "body": "Converting node 321 ...    \r\n==========1 Ops are not supported yet======\r\n========== Sqrt ==========\r\n\r\n谢谢！",
        "state": "closed",
        "user": "czczup",
        "closed_by": "czczup",
        "created_at": "2020-04-08T11:23:47+00:00",
        "updated_at": "2020-04-08T11:31:07+00:00",
        "closed_at": "2020-04-08T11:31:07+00:00",
        "comments_count": [
            "czczup"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 247,
        "title": "x2paddle支持动态shape吗?",
        "body": "在进行LSTM和GRU的模型转换时遇到了下面的问题：\r\n File \"./onnx_decoder.py\", line 498, in check_model_running_state\r\n    ipt.shape).astype(datatype)\r\n  File \"mtrand.pyx\", line 430, in numpy.random.mtrand.RandomState.random\r\n  File \"mtrand.pyx\", line 421, in numpy.random.mtrand.RandomState.random_sample\r\n  File \"_common.pyx\", line 256, in numpy.random._common.double_fill\r\nTypeError: 'str' object cannot be interpreted as an integer\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"convert.py\", line 21, in <module>\r\n    def arg_parser():\r\n  File \"convert.py\", line 252, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"convert.py\", line 173, in onnx2paddle\r\n    model = ONNXDecoder(model_path)\r\n  File \"/home/gpu/.local/lib/python3.5/site-packages/x2paddle/decoder/onnx_decoder.py\", line 325, in __init__\r\n    self.check_model_running_state(onnx_model)\r\n  File \"/home/gpu/.local/lib/python3.5/site-packages/x2paddle/decoder/onnx_decoder.py\", line 503, in check_model_running_state\r\n    \"onnxruntime inference onnx model failed, Please confirm the correctness of onnx model by onnxruntime, if onnx model is correct, please submit issue in github.\"\r\nException: onnxruntime inference onnx model failed, Please confirm the correctness of onnx model by onnxruntime, if onnx model is correct, please submit issue in github.\r\n下面是pytorch模型转换成onnx的代码，这个模型在进行onnx的check时没有报错。里面用到了dynamic_axes，所以shape会存在‘？’的情况。\r\n        dummp_inputs = torch.ones(1, 3) * 2 * np.pi\r\n        inputs = ['images']\r\n        outputs = ['scores']\r\n        dynamic_axes = {'images': {1}, 'scores': {1}}\r\n        torch_out = torch.onnx.export(actor_critic, dummp_inputs,  \"test.onnx\",input_names=inputs, output_names=outputs, export_params=True,dynamic_axes=dynamic_axes)\r\n        model = onnx.load(\"./test.onnx\")\r\n        onnx.checker.check_model(model)\r\n\r\n有人知道应该怎么解决这种动态shape时遇到的问题吗？麻烦帮看一下，谢谢。",
        "state": "closed",
        "user": "TreeDiagram-1",
        "closed_by": "TreeDiagram-1",
        "created_at": "2020-04-10T03:03:17+00:00",
        "updated_at": "2020-04-16T01:56:12+00:00",
        "closed_at": "2020-04-16T01:56:12+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 248,
        "title": "Paddle lite模型可以转成Tensorflow lite吗",
        "body": "目前有一个Paddle Lite的VGG16模型，可以将这个模型转换成Tensorflow Lite模型，然后再去使用吗？\r\n\r\n或者，Paddle Lite的模型，可以在TVM上面调用吗？",
        "state": "closed",
        "user": "taoja12",
        "closed_by": "jiangjiajun",
        "created_at": "2020-04-11T09:47:47+00:00",
        "updated_at": "2020-04-20T07:30:45+00:00",
        "closed_at": "2020-04-20T07:30:45+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 249,
        "title": "onnx转paddle时报concat的错误",
        "body": "@Channingss   我用x2paddle(0.7.3)工具将onnx (mobilenet_v2_ssd)转paddle模型时报如下错误, 根据提示信息应该是concat的错误, 但是不清楚具体原因, 请问如何解决呢? 谢谢\r\n![WXWorkCapture_15868540459715](https://user-images.githubusercontent.com/24602893/79204776-a8ff6180-7e6f-11ea-8851-1cf7c2a9f932.png)\r\nonnx模型百度网盘地址: 链接: https://pan.baidu.com/s/1ljmlOWyCkThK9xJYPyoZVw 提取码: s65z",
        "state": "closed",
        "user": "Eric-Zhang1990",
        "closed_by": "jiangjiajun",
        "created_at": "2020-04-14T08:49:51+00:00",
        "updated_at": "2020-05-07T08:00:56+00:00",
        "closed_at": "2020-05-07T08:00:55+00:00",
        "comments_count": [
            "Eric-Zhang1990",
            "Channingss",
            "Channingss",
            "Eric-Zhang1990",
            "Eric-Zhang1990",
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 250,
        "title": "x2paddle现在可以支持nn.GRU了吗",
        "body": "",
        "state": "closed",
        "user": "TreeDiagram-1",
        "closed_by": "jiangjiajun",
        "created_at": "2020-04-16T01:52:58+00:00",
        "updated_at": "2020-05-07T08:01:22+00:00",
        "closed_at": "2020-05-07T08:01:22+00:00",
        "comments_count": [
            "TreeDiagram-1",
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 252,
        "title": "onnx转paddle中遇到问题",
        "body": "我在onnx转paddle时候遇到了一个问题想请教一下。最开始torch版本是1.1.0转onnx时会报错，之后torch修改为1.0.1后pytorch转onnx没问题了，但是在onnx转paddle时遇到了如下问题，请问该如何解决呢？麻烦了！感谢！（ps：我的网络结构中用到了上采样层）\r\n`Now translating model from onnx to paddle.\r\nmodel ir_version: 3, op version: 9\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:537] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:78] The total number of bytes read was 1585340438\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:537] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:78] The total number of bytes read was 1585340438\r\n(op_type:Tanh, name:): Inferred elem type differs from existing elem type: (INT64) vs (FLOAT)\r\nTraceback (most recent call last):\r\n  File \"/home/vis/hongzhibin/env/anaconda3/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.7.1', 'console_scripts', 'x2paddle')()\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/convert.py\", line 248, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/convert.py\", line 172, in onnx2paddle\r\n    model = ONNXDecoder(model_path)\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/decoder/onnx_decoder.py\", line 325, in __init__\r\n    self.check_model_running_state(onnx_model)\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/decoder/onnx_decoder.py\", line 481, in check_model_running_state\r\n    model = onnx.shape_inference.infer_shapes(model)\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/onnx/shape_inference.py\", line 35, in infer_shapes\r\n    inferred_model_str = C.infer_shapes(model_str)\r\nRuntimeError: Inferred elem type differs from existing elem type: (INT64) vs (FLOAT)`\r\n另外还尝试过torch版本为1.2.0时转onnx，在onnx转paddle时也遇到问题。无论哪种版本能从onnx转到padlle就可以了。\r\n`Traceback (most recent call last):\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/decoder/onnx_decoder.py\", line 494, in check_model_running_state\r\n    sess = rt.InferenceSession(model_path)\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/onnxruntime/capi/session.py\", line 23, in __init__\r\n    self._load_model()\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/onnxruntime/capi/session.py\", line 35, in _load_model\r\n    self._sess.load_model(self._path_or_bytes, providers)\r\nonnxruntime.capi.onnxruntime_pybind11_state.RuntimeException: [ONNXRuntimeError] : 6 : RUNTIME_EXCEPTION : Exception during initialization: /onnxruntime_src/onnxruntime/core/providers/cpu/tensor/upsample.h:209 void onnxruntime::UpsampleBase::ScalesValidation(const std::vector<float>&, onnxruntime::UpsampleMode) const scale >= 1 was false. Scale value should be greater than or equal to 1.\r\nStacktrace:\r\n\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/vis/hongzhibin/env/anaconda3/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.7.1', 'console_scripts', 'x2paddle')()\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/convert.py\", line 248, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/convert.py\", line 172, in onnx2paddle\r\n    model = ONNXDecoder(model_path)\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/decoder/onnx_decoder.py\", line 325, in __init__\r\n    self.check_model_running_state(onnx_model)\r\n  File \"/home/vis/hongzhibin/env/anaconda3/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/decoder/onnx_decoder.py\", line 503, in check_model_running_state\r\n    \"onnxruntime inference onnx model failed, Please confirm the correctness of onnx model by onnxruntime, if onnx model is correct, please submit issue in github.\"\r\nException: onnxruntime inference onnx model failed, Please confirm the correctness of onnx model by onnxruntime, if onnx model is correct, please submit issue in github.`",
        "state": "closed",
        "user": "CoderAnn",
        "closed_by": "jiangjiajun",
        "created_at": "2020-05-07T07:12:36+00:00",
        "updated_at": "2020-05-25T02:51:45+00:00",
        "closed_at": "2020-05-25T02:51:45+00:00",
        "comments_count": [
            "Channingss",
            "CoderAnn",
            "Channingss",
            "CoderAnn",
            "CoderAnn",
            "Channingss",
            "CoderAnn",
            "Channingss",
            "CoderAnn",
            "Channingss",
            "CoderAnn",
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 251,
        "title": "X2Paddle tensorflow报错",
        "body": "![%4(V9S)}IL RS97V0P1A )V](https://user-images.githubusercontent.com/32731935/80712654-d7926300-8b24-11ea-9485-2f2730d5d34d.png)\r\n报错信息如上，代码以及我生成的pb文件都在分享链接里。对于这个错误没有任何解决头绪，希望您解答一下，非常感谢。\r\n链接：https://pan.baidu.com/s/1qaAfsb0PbvOE8NJMrAmfhg \r\n提取码：kpkk \r\n\r\n",
        "state": "closed",
        "user": "lwbmowgli",
        "closed_by": "jiangjiajun",
        "created_at": "2020-04-30T12:58:11+00:00",
        "updated_at": "2020-05-14T05:42:21+00:00",
        "closed_at": "2020-05-14T05:42:21+00:00",
        "comments_count": [
            "jiangjiajun",
            "lwbmowgli",
            "jiangjiajun",
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 253,
        "title": "caffe转换paddle异常",
        "body": "\r\n![123](https://user-images.githubusercontent.com/12640462/81379613-ffdd1b80-913b-11ea-98bf-72dbd6c16f3b.png)\r\n在执行caffee转换的时候出现这个错误，大家有明白的吗，求解释\r\n我的操作命令为：\r\n`x2paddle --framework=caffe --prototxt=XXX.prototxt  --weight=XXX.caffemodel --save_dir=XX`\r\n",
        "state": "closed",
        "user": "BeyondYourself",
        "closed_by": "jiangjiajun",
        "created_at": "2020-05-08T06:58:05+00:00",
        "updated_at": "2020-05-14T05:44:11+00:00",
        "closed_at": "2020-05-14T05:44:11+00:00",
        "comments_count": [
            "SunAhong1993",
            "BeyondYourself",
            "60999",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 254,
        "title": "有没有办法转torch的state_dict模型",
        "body": "有没有办法转torch模型，而且代码中是encoder.state_dict()\r\n倒是代码和数据集都有，是否有转换的方法？得改代码吗？",
        "state": "closed",
        "user": "60999",
        "closed_by": "jiangjiajun",
        "created_at": "2020-05-09T14:23:41+00:00",
        "updated_at": "2020-05-25T02:51:57+00:00",
        "closed_at": "2020-05-25T02:51:56+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 255,
        "title": "x2paddle: onnx转paddle报错: 1 ops not supported yet:  ReduceL2",
        "body": "@Channingss  用x2paddle将onnx模型转paddle模型时出现1个ops不支持的问题, 调试发现是torch.norm操作这一步 (torch.norm(o, p=2, dim=1, keepdim=True) + 0.000001).expand_as(o)), torch.norm转为onnx是onnx::ReduceL2[axes=[1], keepdims=1], x2paddle转onnx模型出现如下错误: \r\n![error](https://user-images.githubusercontent.com/24602893/81889796-0a356480-95d7-11ea-9f8e-a5124581a00d.png)\r\n\r\n请问是不是x2paddle工具确实还不支持ReduceL2呢? 谢谢",
        "state": "closed",
        "user": "Eric-Zhang1990",
        "closed_by": "jiangjiajun",
        "created_at": "2020-05-14T02:39:20+00:00",
        "updated_at": "2020-05-25T02:52:12+00:00",
        "closed_at": "2020-05-25T02:52:12+00:00",
        "comments_count": [
            "Channingss",
            "Eric-Zhang1990",
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 256,
        "title": "Converting node 894 ...    ==========6 Ops are not supported yet======",
        "body": "您好，我在使用x2paddle转换pb文件至paddlepaddle的时候，遇到以下几个Op不支持的情况，请问能近期能开发支持吗？\r\nConverting node 894 ...    ==========6 Ops are not supported yet======\r\n========== Sqrt ==========\r\n========== ExpandDims ==========\r\n========== EncodeJpeg ==========\r\n========== ClipByValue ==========\r\n========== Ceil ==========\r\n========== ResizeBicubic ==========\r\n它们对应的tensorflow函数分别是\r\ntf.sqrt\r\ntf.expand_dims\r\ntf.image.encode_jpeg\r\ntf.clip_by_value\r\ntf.ceil\r\ntf.image.resize_images",
        "state": "closed",
        "user": "wuyanhong3019",
        "closed_by": "jiangjiajun",
        "created_at": "2020-05-19T07:30:57+00:00",
        "updated_at": "2020-05-25T02:52:22+00:00",
        "closed_at": "2020-05-25T02:52:22+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 257,
        "title": "tf.initializers.variables()以及with tf.variable_scope()应当如何转换到paddle呢",
        "body": "请问，如下部分代码中：\r\n**accumulator = tf.Variable(tf.zeros_like(mask_tf))\r\n   self.accumulators.append(accumulator)\r\n   self.init_accumulators = tf.initializers.variables(self.accumulators)**\r\n\r\n其中，tf.Variable可以替换，而 tf.initializers.variables则找不到相应的替换函数。\r\n\r\n同理：如下代码中\r\n**with tf.variable_scope(\"prepare_img\"):\r\n……\r\n**\r\nwith tf.variable_scope()：应当如何替换呢。\r\n\r\n十分感谢。",
        "state": "closed",
        "user": "zhjikoshlizhzc",
        "closed_by": "zhjikoshlizhzc",
        "created_at": "2020-05-22T07:52:27+00:00",
        "updated_at": "2020-05-25T03:06:16+00:00",
        "closed_at": "2020-05-25T03:06:16+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 258,
        "title": "Op registered",
        "body": "when I run x2paddle , I got the following error: \r\nTraceback (most recent call last):\r\n  File \"/home/jxlin/anaconda3/envs/onnx2paddle/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.7.1', 'console_scripts', 'x2paddle')()\r\n  File \"/home/jxlin/anaconda3/envs/onnx2paddle/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/convert.py\", line 251, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/home/jxlin/anaconda3/envs/onnx2paddle/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/convert.py\", line 172, in onnx2paddle\r\n    model = ONNXDecoder(model_path)\r\n  File \"/home/jxlin/anaconda3/envs/onnx2paddle/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/decoder/onnx_decoder.py\", line 324, in __init__\r\n    check_model(model)\r\n  File \"/home/jxlin/anaconda3/envs/onnx2paddle/lib/python3.6/site-packages/onnx/checker.py\", line 91, in check_model\r\n    C.check_model(model.SerializeToString())\r\nonnx.onnx_cpp2py_export.checker.ValidationError: No Op registered for Einsum with domain_version of 12\r\n\r\n==> Context: Bad node spec: input: \"177\" input: \"181\" output: \"183\" name: \"Einsum_148\" op_type: \"Einsum\" attribute { name: \"equation\" s: \"bfnd,ndh->bfh\" type: STRING }\r\n\r\nenvironment :\r\npython: 3.6 \r\ntorch             1.5.0+cu92\r\ntorchvision       0.6.0+cu92\r\npaddlepaddle      1.8.1\r\nonnx              1.6.0\r\nonnxruntime       1.0.0\r\nopset_version 12\r\n",
        "state": "closed",
        "user": "jessionlin",
        "closed_by": "jiangjiajun",
        "created_at": "2020-05-23T08:30:30+00:00",
        "updated_at": "2020-05-31T07:40:43+00:00",
        "closed_at": "2020-05-31T07:40:43+00:00",
        "comments_count": [
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 260,
        "title": "使用X2Paddle工具将vgg16转换成paddle模型后inference_model文件读取",
        "body": "使用X2Paddle工具将vgg16转换成paddle模型后，生成的两个文件夹inference_model和model_with_code，对于inference_model里面的文件，可以怎么样读取出来吗，得到生成paddle模型后网络每一层的特征值。",
        "state": "closed",
        "user": "taoja12",
        "closed_by": "jiangjiajun",
        "created_at": "2020-05-25T08:05:49+00:00",
        "updated_at": "2020-05-31T07:41:12+00:00",
        "closed_at": "2020-05-31T07:41:12+00:00",
        "comments_count": [
            "jiangjiajun",
            "taoja12",
            "jiangjiajun",
            "taoja12",
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 261,
        "title": "finetune后的albert转换失败",
        "body": "参考https://github.com/PaddlePaddle/X2Paddle/issues/239的方法，\r\n\r\n![image](https://user-images.githubusercontent.com/4243530/83036283-fd9c1c00-a06c-11ea-9139-930d9ec7aecf.png)\r\n\r\n使用原始albert的checkpoint是正常的（如上图），但使用finetune的checkpoint就会报错\r\n![image](https://user-images.githubusercontent.com/4243530/83036048-c7f73300-a06c-11ea-9dcb-cc27ca3f8158.png)",
        "state": "closed",
        "user": "daiwk",
        "closed_by": "jiangjiajun",
        "created_at": "2020-05-27T14:54:41+00:00",
        "updated_at": "2020-06-03T02:03:02+00:00",
        "closed_at": "2020-06-03T02:03:02+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 259,
        "title": "tf.contrib.image与tf.where(input, a,b)等相关API接口问题",
        "body": "我在进行API转换的过程中仍有一些问题希望请问大佬：\r\n1   tf.contrib.image的相关子模块，例如**tf.contrib.image.transform(patch_batched, Mb,interpolation=\"NEAREST\",name=\"perspective\")**应当如何转换。\r\n2   tf.image的相关子模块，例如tf.image.total_variation（）以及tf.image.grayscale_to_rgb应当如何转换。\r\n3   tf.math的相关子模块，例如tf.math.maximum（）应当如何转换。\r\n4   我在查阅doc文档时，是否可以使用fluid.layers.where，因为似乎不再具备tf.where(input, a,b)的特性。我想知道fluid.layers.where是否还具有这一应用呢。\r\n5   tf.summary.scalar（）以及tf.add_n（）应当如何转换。\r\n\r\n\r\n十分感谢！",
        "state": "closed",
        "user": "zhjikoshlizhzc",
        "closed_by": "jiangjiajun",
        "created_at": "2020-05-25T04:12:54+00:00",
        "updated_at": "2020-05-31T07:40:52+00:00",
        "closed_at": "2020-05-31T07:40:52+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 266,
        "title": "instance normalization转换出错",
        "body": "错误日志：\r\nTraceback (most recent call last):\r\n  File \"/home/yourenchun/.conda/envs/torch10py36/lib/python3.6/site-packages/x2paddle/core/op_mapper.py\", line 123, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"/data/projects/iqy_cartoon/reid-strong-baseline-data/trans_models/reid-strong-baseline-data/trans_models/resnet50_ibn_a/model_with_code/model.py\", line 72, in x2paddle_net\r\n    x2paddle_361 = InstanceNormalization_layer([x2paddle_359, x2paddle_base_layer1_0_bn1_IN_weight, x2paddle_base_layer1_0_bn1_IN_bias], name='x2paddle_361')\r\n  File \"/data/projects/iqy_cartoon/reid-strong-baseline-data/trans_models/reid-strong-baseline-data/trans_models/resnet50_ibn_a/model_with_code/model.py\", line 9, in InstanceNormalization_layer\r\n    mean = fluid.layers.reduce_mean(input_, dim=[2, 3], keep_dim=True)\r\n  File \"/home/yourenchun/.conda/envs/torch10py36/lib/python3.6/site-packages/paddle/fluid/layers/nn.py\", line 6345, in reduce_mean\r\n    % (type(input)))\r\nTypeError: The type of 'input' in reduce_mean must be Variable, but received <class 'list'>",
        "state": "closed",
        "user": "mensaochun",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-04T07:29:11+00:00",
        "updated_at": "2020-06-16T07:28:17+00:00",
        "closed_at": "2020-06-16T07:28:17+00:00",
        "comments_count": [
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 263,
        "title": "The count of Concat node\\'s input is not more than 1.",
        "body": "用最新版转换遇到一个问题，请问怎么调试？\r\n```\r\npaddle.__version__ = 1.8.1\r\nNow translating model from caffe to paddle.\r\nTotal nodes: 208\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.7.1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/convert.py\", line 245, in main\r\n    args.caffe_proto, params_merge)\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/convert.py\", line 148, in caffe2paddle\r\n    mapper = CaffeOpMapper(model)\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/op_mapper/caffe_op_mapper.py\", line 48, in __init__\r\n    func(node)\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/op_mapper/caffe_op_mapper.py\", line 470, in Concat\r\n    ) > 1, 'The count of Concat node\\'s input is not more than 1.'\r\nAssertionError: The count of Concat node's input is not more than 1.\r\n```",
        "state": "closed",
        "user": "imistyrain",
        "closed_by": "imistyrain",
        "created_at": "2020-05-28T11:26:02+00:00",
        "updated_at": "2020-05-28T13:14:01+00:00",
        "closed_at": "2020-05-28T13:14:01+00:00",
        "comments_count": [
            "SunAhong1993",
            "imistyrain"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 262,
        "title": "AssertionError: directly_map error with multi inputs",
        "body": "When I try to convert a ssd-like net, got this error:\r\n```\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 246, in directly_map\r\n    assert len(val_inps) == 1, 'directly_map error with multi inputs'\r\nAssertionError: directly_map error with multi inputs\r\n```",
        "state": "closed",
        "user": "imistyrain",
        "closed_by": "jiangjiajun",
        "created_at": "2020-05-28T08:26:19+00:00",
        "updated_at": "2020-07-17T05:27:11+00:00",
        "closed_at": "2020-07-17T05:27:11+00:00",
        "comments_count": [
            "Channingss",
            "imistyrain",
            "Channingss",
            "imistyrain",
            "Channingss",
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 267,
        "title": "Spanbert pytorch模型转换失败",
        "body": "* 目标是将[spanbert](https://github.com/facebookresearch/SpanBERT) 转化为paddle模型\r\n* x2paddle采用的是第一种安装方式\r\n\r\npytorch转onnx的时候没有出错，onnx转paddle的时候报错, 以下是转换脚本和报错信息：\r\n\r\n>  x2paddle --framework=onnx --model=spanBert.onnx --save_dir=pd_model\r\n\r\n```\r\npaddle.__version__ = 1.8.1\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 9\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:537] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:78] The total number of bytes read was 1334456625\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:537] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:78] The total number of bytes read was 1334456625\r\n2020-06-05 11:29:45,087-WARNING: During conversion of your  model, some operators will be assignd node.out_shape==None, refer to https://github.com/onnx/onnx/blob/master/docs/ShapeInference.md\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:537] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:78] The total number of bytes read was 1334456625\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:537] Reading dangerously large protocol message.  If the message turns out to be larger than 2147483647 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.\r\n[libprotobuf WARNING google/protobuf/io/coded_stream.cc:78] The total number of bytes read was 1334561477\r\nTotal nodes: 2372\r\nTraceback (most recent call last):\r\n  File \"/home/yangpan/anaconda3/envs/tf/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.7.1', 'console_scripts', 'x2paddle')()\r\n  File \"/home/yangpan/anaconda3/envs/tf/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/convert.py\", line 251, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/home/yangpan/anaconda3/envs/tf/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/convert.py\", line 173, in onnx2paddle\r\n    mapper = ONNXOpMapper(model, save_dir)\r\n  File \"/home/yangpan/anaconda3/envs/tf/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 97, in __init__\r\n    self.elementwise_map(node)\r\n  File \"/home/yangpan/anaconda3/envs/tf/lib/python3.6/site-packages/x2paddle-0.7.1-py3.6.egg/x2paddle/op_mapper/onnx_op_mapper.py\", line 282, in elementwise_map\r\n    if len(val_x_shape) < len(val_y_shape):\r\nTypeError: object of type 'NoneType' has no len()\r\n\r\n```\r\n\r\npytorch转nnox的代码如下：\r\n\r\n```\r\nimport torch\r\nimport torchvision\r\nfrom pytorch_pretrained_bert import BertModel\r\nimport numpy as np\r\n\r\nconfig_file=\"/home/yangpan/projects/coref/models/config.json\"\r\nmodel_file=\"/home/yangpan/projects/coref/models/spanbert_hf.tar.gz\"\r\nvocab_file=\"/home/yangpan/projects/coref/models/bert-large-cased-vocab.txt\"\r\n\r\nBatch_size=1\r\nseg_length=256\r\n\r\n# 指定输入大小的shape\r\n# dummy_input0 = torch.LongTensor(Batch_size, seg_length).to(torch.device(\"cuda\"))\r\n# dummy_input1 = torch.LongTensor(Batch_size, seg_length).to(torch.device(\"cuda\"))\r\n# dummy_input2 = torch.LongTensor(Batch_size, seg_length).to(torch.device(\"cuda\"))\r\n# dummy_input3 = torch.LongTensor(Batch_size, seg_length).to(torch.device(\"cuda\"))\r\n# dummy_input0 = torch.LongTensor(Batch_size, seg_length)\r\n# dummy_input1 = torch.LongTensor(Batch_size, seg_length)\r\n# dummy_input2 = torch.LongTensor(Batch_size, seg_length)\r\n# dummy_input3 = torch.LongTensor(Batch_size, seg_length)\r\n\r\n\r\na0=np.random.randint(0,10,size=[Batch_size,seg_length])\r\na1=np.random.randint(0,10,size=[Batch_size,seg_length])\r\na2=np.random.randint(0,10,size=[Batch_size,seg_length])\r\na3=np.random.randint(0,10,size=[Batch_size,seg_length])\r\ndummy_input0=torch.from_numpy(a0)\r\ndummy_input1=torch.from_numpy(a1)\r\ndummy_input2=torch.from_numpy(a2)\r\ndummy_input3=torch.from_numpy(a3)\r\n\r\nmodel = BertModel.from_pretrained(pretrained_model_name_or_path='spanbert-large-cased')\r\n# model = BertModel.from_pretrained(config_file=config_file,\r\n#                                   pretrained_model_name_or_path=model_file,\r\n#                                   vocab_file=vocab_file)\r\n\r\ntorch.onnx.export(model, dummy_input0,\"spanBert.onnx\",verbose=True)\r\n```",
        "state": "closed",
        "user": "Akeepers",
        "closed_by": "Akeepers",
        "created_at": "2020-06-05T03:38:41+00:00",
        "updated_at": "2020-06-08T06:22:22+00:00",
        "closed_at": "2020-06-08T06:22:22+00:00",
        "comments_count": [
            "Akeepers"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 272,
        "title": "yolov3模型无法转换，缺少算子",
        "body": "paddle.__version__ = 1.8.1\r\nNow translating model from tensorflow to paddle.\r\nTotal nodes: 814\r\nConverting node 814 ...    ==========2 Ops are not supported yet======\r\n========== Fill ==========\r\n========== AddV2 ==========",
        "state": "closed",
        "user": "cdyangzhenyu",
        "closed_by": "cdyangzhenyu",
        "created_at": "2020-06-11T08:12:57+00:00",
        "updated_at": "2020-06-11T12:22:26+00:00",
        "closed_at": "2020-06-11T12:22:26+00:00",
        "comments_count": [
            "cdyangzhenyu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 275,
        "title": "Exception: Model are not supported yet.",
        "body": "Hi,\r\n\r\nI got \r\n\r\nThere are 2 ops not supported yet, list as below\r\nGreater\r\nReduceMax\r\n\r\nDoes it mean onnx model with those two operations cannot be convert to Paddlepaddle model?\r\n\r\nThanks",
        "state": "closed",
        "user": "won-bae",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-16T08:00:48+00:00",
        "updated_at": "2020-07-17T05:27:22+00:00",
        "closed_at": "2020-07-17T05:27:22+00:00",
        "comments_count": [
            "Channingss",
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 277,
        "title": "模型转换后再次训练的问题",
        "body": "请问模型从onnx格式转换成paddle格式的模型，能够进行迁移学习吗？能够使用paddledetection上面的文件再次进行训练吗？\r\nonnx格式转换过来后生成inference_model ， model_with_code这两个文件，这里边的模型能够进行再次训练吗？\r\n\r\n除此之外，还有一个错误，在使用inference_model时出现错误：\r\nInvalidArgumentError: tensor version 1120706826 is not supported, Only version 0 is supported\r\n请问这个问题如何解决？",
        "state": "closed",
        "user": "EwardJohn",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-17T12:59:17+00:00",
        "updated_at": "2020-07-17T07:22:00+00:00",
        "closed_at": "2020-07-17T05:27:37+00:00",
        "comments_count": [
            "Channingss",
            "EwardJohn",
            "Channingss",
            "EwardJohn",
            "Channingss",
            "jiangjiajun",
            "EwardJohn"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 281,
        "title": "Paddle模型转Onnx模型时显示 no support",
        "body": "环境：paddlepaddle==1.8.0\r\n           onnx == 1.6.0 \r\n           onnxruntime == 1.0.0\r\n应用场景：paddlehub的shufflenet_v2_imagenet，finetune后，使用命令：\r\npython tools/merge_params.py paddle_model/inference_model  new_model_dir\r\n将best_model目录下的参数文件转化为__model__和__params__两个文件，然后使用命令：\r\nx2paddle --framework=paddle2onnx --model=paddle_infer_model_dir --save_dir=onnx_model\r\n时出现：\r\npaddle.__version__ = 1.8.0\r\nTranslating PaddlePaddle to ONNX...\r\n\r\nTotal:235, Current:235 : fetch\r\nThere's 1 ops are not supported yet\r\n=========== swish ===========\r\n\r\n目的：将paddle模型转化为onnx模型，然后再将onnx模型转化为Intel IR，以便使用Intel神经计算棒进行边缘计算，请问有其他方式达到模型转化的目的么？\r\n",
        "state": "closed",
        "user": "libingbingdev",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-19T15:34:24+00:00",
        "updated_at": "2020-07-17T05:28:31+00:00",
        "closed_at": "2020-07-17T05:28:31+00:00",
        "comments_count": [
            "Channingss",
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 279,
        "title": "Some ops are not supported yet in tensorflow",
        "body": "I try to convert a tf_model.pb,  but the terminal shows these below at last:\r\nConverting node 858 ...    ==========12 Ops are not supported yet======\r\n========== BatchMatMulV2 ==========\r\n========== Unpack ==========\r\n========== Square ==========\r\n========== Fill ==========\r\n========== GatherV2 ==========\r\n========== MatrixDiagPart ==========\r\n========== ResizeArea ==========\r\n========== ExpandDims ==========\r\n========== MatrixSolve ==========\r\n========== Log ==========\r\n========== Minimum ==========\r\n========== Floor ==========\r\n\r\ncould you please add these ops?I'd appreciate your help on this.\r\n",
        "state": "closed",
        "user": "Paradox-GG",
        "closed_by": "luotao1",
        "created_at": "2020-06-18T02:41:11+00:00",
        "updated_at": "2024-11-01T11:32:10+00:00",
        "closed_at": "2024-11-01T11:32:10+00:00",
        "comments_count": [
            "jiangjiajun",
            "Paradox-GG",
            "jiangjiajun",
            "mjj1094",
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 282,
        "title": "Paddle模型转Onnx模型时错误",
        "body": "环境：paddlepaddle==1.8.0   tensorflow==1.15.0\r\nonnx == 1.6.0\r\nonnxruntime == 1.0.0\r\n\r\naistudio@jupyter-282556-554530:~$ x2paddle --framework=paddle2onnx --model=paddle2oxnn --save_dir=onnx_model\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/sklearn/externals/joblib/externals/cloudpickle/cloudpickle.py:47: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\npaddle.__version__ = 1.8.0\r\nTranslating PaddlePaddle to ONNX...\r\n\r\nTotal:73, Current:36 : bilinear_interp                   Traceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/bin/x2paddle\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/convert.py\", line 272, in main\r\n    paddle2onnx(args.model, args.save_dir)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/convert.py\", line 194, in paddle2onnx\r\n    mapper.convert(model.program, save_dir)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/op_mapper/paddle_op_mapper.py\", line 790, in convert\r\n    node = getattr(self, op.type)(op, block)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/op_mapper/paddle_op_mapper.py\", line 580, in bilinear_interp\r\n    raise Exception(\"Unexpected situation happend\")\r\nException: Unexpected situation happend",
        "state": "closed",
        "user": "liangruofei",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-20T16:34:45+00:00",
        "updated_at": "2020-07-17T05:28:43+00:00",
        "closed_at": "2020-07-17T05:28:42+00:00",
        "comments_count": [
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 284,
        "title": "警告paddle not support op:resize wiht mode: linear, we use bilinear replace linear，请问怎么解决",
        "body": "paddle not support op:resize wiht mode: linear, we use bilinear replace linear",
        "state": "closed",
        "user": "x423xu",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-23T09:18:23+00:00",
        "updated_at": "2020-07-17T05:29:42+00:00",
        "closed_at": "2020-07-17T05:29:42+00:00",
        "comments_count": [
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 283,
        "title": "PaddleOCR文字检测模型转onnx后输入图像参数问题",
        "body": "请问各位有没有遇到这样的问题，原来的paddleOCR的模型支持不定长输入，为32的倍数即可。转为onnx后输入固化了：如下onnxruntime.capi.onnxruntime_pybind11_state.InvalidArgument: [ONNXRuntimeError] : 2 : INVALID_ARGUMENT : Got invalid dimensions for input: image for the following indices\r\n index: 2 Got: 960 Expected: 640\r\n index: 3 Got: 480 Expected: 640\r\n Please fix either the inputs or the model.\r\n必须要640*640\r\n请教一下如何修改能让模型预测接受可变长度序列呢",
        "state": "closed",
        "user": "amandazw",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-23T06:26:48+00:00",
        "updated_at": "2020-07-27T01:50:29+00:00",
        "closed_at": "2020-07-27T01:50:29+00:00",
        "comments_count": [
            "jiangjiajun",
            "amandazw",
            "YuzaChongyi",
            "amandazw"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 285,
        "title": "paddle模型转换为onnx模型后，再将onnx模型转换回paddle模型报错",
        "body": "使用x2paddle命令将paddle模型(mobilenet_v2_imagenet)转换为onnx模型，然后再使用命令转化回来时会报错：\r\n\r\nD:\\Git>x2paddle --framework=onnx --model=test_onnx/mobilenet_v2/x2paddle_model.onnx --save_dir=test\r\npaddle.__version__ = 1.8.0\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nTraceback (most recent call last):\r\n  File \"D:\\Anaconda3\\anaconda3\\lib\\site-packages\\x2paddle-0.7.2-py3.7.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 498, in check_model_running_state\r\n    ipt.shape).astype(datatype)\r\n  File \"mtrand.pyx\", line 430, in numpy.random.mtrand.RandomState.random\r\n  File \"mtrand.pyx\", line 421, in numpy.random.mtrand.RandomState.random_sample\r\n  File \"_common.pyx\", line 256, in numpy.random._common.double_fill\r\nTypeError: 'NoneType' object cannot be interpreted as an integer\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\Anaconda3\\anaconda3\\Scripts\\x2paddle-script.py\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.7.2', 'console_scripts', 'x2paddle')()\r\n  File \"D:\\Anaconda3\\anaconda3\\lib\\site-packages\\x2paddle-0.7.2-py3.7.egg\\x2paddle\\convert.py\", line 268, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"D:\\Anaconda3\\anaconda3\\lib\\site-packages\\x2paddle-0.7.2-py3.7.egg\\x2paddle\\convert.py\", line 181, in onnx2paddle\r\n    model = ONNXDecoder(model_path)\r\n  File \"D:\\Anaconda3\\anaconda3\\lib\\site-packages\\x2paddle-0.7.2-py3.7.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 325, in __init__\r\n    self.check_model_running_state(onnx_model)\r\n  File \"D:\\Anaconda3\\anaconda3\\lib\\site-packages\\x2paddle-0.7.2-py3.7.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 503, in check_model_running_state\r\n    \"onnxruntime inference onnx model failed, Please confirm the correctness of onnx model by onnxruntime, if onnx model is correct, please submit issue in github.\"\r\nException: onnxruntime inference onnx model failed, Please confirm the correctness of onnx model by onnxruntime, if onnx model is correct, please submit issue in github.",
        "state": "closed",
        "user": "libingbingdev",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-23T09:36:17+00:00",
        "updated_at": "2020-07-22T02:47:45+00:00",
        "closed_at": "2020-07-22T02:47:45+00:00",
        "comments_count": [
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 286,
        "title": "ops are not supported",
        "body": "paddle.__version__ = 1.8.1\r\nTranslating PaddlePaddle to ONNX...\r\n\r\nTotal:167, Current:167 : fetch                              \r\nThere's 2 ops are not supported yet\r\n=========== prior_box ===========\r\n=========== box_coder ===========\r\n\r\nprior_box和box_coder这两个op有支持的计划吗？",
        "state": "closed",
        "user": "bywang",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-28T09:44:23+00:00",
        "updated_at": "2020-08-11T10:01:03+00:00",
        "closed_at": "2020-08-11T10:01:02+00:00",
        "comments_count": [
            "jiangjiajun",
            "Channingss",
            "jiangjiajun"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 287,
        "title": "ValueError: Data Type mismatch: 2 to 3",
        "body": "paddlepaddle==1.8.2\r\nx2paddle==0.7.4\r\n\r\n错误信息：\r\npaddle.__version__ = 1.8.2\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 9\r\n2020-06-29 17:41:53,907-WARNING: During conversion of your  model, some operators will be assignd node.out_shape==None, refer to https://github.com/onnx/onnx/blob/master/docs/ShapeInference.md\r\nTotal nodes: 158\r\nTraceback (most recent call last):\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/x2paddle-0.7.4-py3.7.egg/x2paddle/core/op_mapper.py\", line 123, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"mv3_occlu_0629_tmp/mv3_gp_small_pose_visible_s_Paddle/model_with_code/model.py\", line 167, in x2paddle_net\r\n    x2paddle_470 = fluid.layers.concat([x2paddle_468, x2paddle_475], axis=0)\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/paddle/fluid/layers/tensor.py\", line 352, in concat\r\n    out = helper.create_variable_for_type_inference(dtype=helper.input_dtype())\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 98, in input_dtype\r\n    (dtype, each.dtype))\r\nValueError: Data Type mismatch: 2 to 3\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/hello/Softwares/anaconda3/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==0.7.4', 'console_scripts', 'x2paddle')()\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/x2paddle-0.7.4-py3.7.egg/x2paddle/convert.py\", line 268, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/x2paddle-0.7.4-py3.7.egg/x2paddle/convert.py\", line 186, in onnx2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/x2paddle-0.7.4-py3.7.egg/x2paddle/core/op_mapper.py\", line 159, in save_inference_model\r\n    .format(py_code_dir))\r\nException: Paddle code was saved in mv3_occlu_0629_tmp/mv3_gp_small_pose_visible_s_Paddle/model_with_code/model.py, but seems there's wrong exist, please check model.py manually.\r\n\r\n辛苦帮忙看看什么问题，多谢啦！",
        "state": "closed",
        "user": "dubhex",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-29T09:45:18+00:00",
        "updated_at": "2020-07-13T02:11:28+00:00",
        "closed_at": "2020-07-13T02:11:28+00:00",
        "comments_count": [
            "Channingss"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 296,
        "title": "onnx转pb",
        "body": "paddle转onnx成功，模型推理正常，各位有没有尝试过将该onnx模型转为h5或者pb？",
        "state": "closed",
        "user": "amandazw",
        "closed_by": "amandazw",
        "created_at": "2020-07-02T08:40:02+00:00",
        "updated_at": "2020-07-02T10:32:06+00:00",
        "closed_at": "2020-07-02T10:32:06+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 293,
        "title": "PaddlePaddle to ONNX  yolov3转换失败",
        "body": "x2paddle --framework=paddle2onnx --model=export --save_dir=onnx_model\r\npaddle.__version__ = 1.8.1\r\nTranslating PaddlePaddle to ONNX...\r\n\r\nTotal:262, Current:260 : multiclass_nms                 lib/python3.6/site-packages/x2paddle/op_mapper/paddle_custom_layer/multiclass_nms.py:47: UserWarning: The parameter normalized of multiclass_nms OP of Paddle is False, which has diff with ONNX.                          Please set normalized=True in multiclass_nms of Paddle\r\n  Please set normalized=True in multiclass_nms of Paddle'\r\nTotal:262, Current:262 : fetch                   Traceback (most recent call last):\r\n  File \"/home/bin/x2paddle\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/lib/python3.6/site-packages/x2paddle/convert.py\", line 272, in main\r\n    paddle2onnx(args.model, args.save_dir)\r\n  File \"/home/lib/python3.6/site-packages/x2paddle/convert.py\", line 194, in paddle2onnx\r\n    mapper.convert(model.program, save_dir)\r\n  File \"/home/lib/python3.6/site-packages/x2paddle/op_mapper/paddle_op_mapper.py\", line 815, in convert\r\n    onnx.checker.check_model(model)\r\n  File \"/home/lib/python3.6/site-packages/onnx/checker.py\", line 91, in check_model\r\n    C.check_model(model.SerializeToString())\r\nonnx.onnx_cpp2py_export.checker.ValidationError: Unrecognized attribute: max for operator Clip\r\n\r\n==> Context: Bad node spec: input: \"yolo_box0.tmp_0@pred_box_x1_decode\" output: \"yolo_box0.tmp_0@pred_box_x1_clip\" op_type: \"Clip\" attribute { name: \"max\" f: inf type: FLOAT } attribute { name: \"min\" f: 0 type: FLOAT }\r\n",
        "state": "closed",
        "user": "Septend-fun",
        "closed_by": "jiangjiajun",
        "created_at": "2020-06-30T08:10:37+00:00",
        "updated_at": "2020-07-13T10:58:02+00:00",
        "closed_at": "2020-07-13T10:58:02+00:00",
        "comments_count": [
            "jiangjiajun",
            "Septend-fun"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 289,
        "title": "centernet  not supported op",
        "body": "Shape of Input(e.g. None,224,224,3): None,512,512,3\r\nTotal nodes: 718\r\nConverting node 718 ...    \r\n==========6 Ops are not supported yet======\r\n========== Prod ==========\r\n========== Equal ==========\r\n========== FloorMod ==========\r\n========== TopKV2 ========\r\n========== ExpandDims ==========\r\n========== GatherV2 ==========\r\n\r\nhttps://github.com/MioChiu/TF_CenterNet",
        "state": "open",
        "user": "nobody-cheng",
        "closed_by": null,
        "created_at": "2020-06-30T02:58:21+00:00",
        "updated_at": "2020-07-21T02:16:34+00:00",
        "closed_at": null,
        "comments_count": [
            "nobody-cheng",
            "jiangjiajun",
            "nobody-cheng",
            "sunshine411",
            "nobody-cheng",
            "mamingjie-China"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 288,
        "title": "请问Paddle是否会支持Paddle模型转换为Caffe模型。",
        "body": "",
        "state": "closed",
        "user": "Mylszd",
        "closed_by": "Mylszd",
        "created_at": "2020-06-30T02:07:15+00:00",
        "updated_at": "2020-06-30T07:51:28+00:00",
        "closed_at": "2020-06-30T07:51:28+00:00",
        "comments_count": [
            "jiangjiajun",
            "Mylszd"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 297,
        "title": "paddle转onnx efficientnet结果有误差",
        "body": "efficientnet转换过程中，可能是因为conv的output_w不能整除的原因，所以后面跟了一个slice将第一列数据去掉。但是在转onnx时，转换没有报错，转换之后测试时候误差较大。如下：\r\n![image](https://user-images.githubusercontent.com/32027268/86437339-f4226580-bd36-11ea-87b6-795ee4a78438.png)\r\n之前已经测试过其他的模型，都是可以对得上的，除了efficientnet系列。\r\n```\r\n测试模型： 下载的paddlecv的预训练模型并通过save_inference_model保存得到\r\n```\r\n\r\n请问是否有啥建议呀？",
        "state": "closed",
        "user": "ArtyZe",
        "closed_by": "ArtyZe",
        "created_at": "2020-07-03T06:12:22+00:00",
        "updated_at": "2020-07-07T10:40:02+00:00",
        "closed_at": "2020-07-07T10:40:02+00:00",
        "comments_count": [
            "Channingss",
            "ArtyZe",
            "Channingss",
            "ArtyZe",
            "Channingss",
            "ArtyZe",
            "Channingss",
            "ArtyZe",
            "Channingss",
            "ArtyZe"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 298,
        "title": "转换带有prelu的模型会失败",
        "body": "onnx版本： 1.6.0\r\nonnxruntime版本： 1.0.0\r\npython： 3.6\r\nOS：win10\r\n命令:\r\nx2paddle --framework=onnx --model=E:/project/pytorch/onnx/my_checkpoint.onnx --save_dir=E:/project/paddle/models/\r\n\r\nerror如下：\r\n\r\n\r\ninitializer 'layer4.2.bn1.num_batches_tracked'. It is not used by any node and should be removed from the model.\r\nTotal nodes: 149\r\nTraceback (most recent call last):\r\n  File \"c:\\programdata\\anaconda3\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"c:\\programdata\\anaconda3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\ProgramData\\Anaconda3\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\x2paddle\\convert.py\", line 268, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\x2paddle\\convert.py\", line 182, in onnx2paddle\r\n    mapper = ONNXOpMapper(model, save_dir)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\x2paddle\\op_mapper\\onnx_op_mapper.py\", line 91, in __init__\r\n    func(node)\r\n  File \"c:\\programdata\\anaconda3\\lib\\site-packages\\x2paddle\\op_mapper\\onnx_op_mapper.py\", line 1027, in PRelu\r\n    if len(shape_slope) == 1:\r\nTypeError: object of type 'NoneType' has no len()\r\n\r\n",
        "state": "closed",
        "user": "Y-Rony",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-06T07:37:15+00:00",
        "updated_at": "2020-07-27T01:51:46+00:00",
        "closed_at": "2020-07-27T01:51:45+00:00",
        "comments_count": [
            "Channingss",
            "jiangjiajun"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 302,
        "title": "paddle模型转onnx",
        "body": "paddle模型转onnx模型的时候全连接层被转成MatMul Reshape 等层，请问可以直接转成FC层吗",
        "state": "closed",
        "user": "Amore-HDU",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-09T03:20:52+00:00",
        "updated_at": "2020-08-11T10:02:33+00:00",
        "closed_at": "2020-08-11T10:02:33+00:00",
        "comments_count": [
            "Channingss",
            "jiangjiajun",
            "Amore-HDU",
            "Channingss",
            "Amore-HDU",
            "Channingss",
            "jiangjiajun"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 303,
        "title": "paddle模型转onnx模型报错",
        "body": "您好，我在将paddle yolov3模型转onnx模型时报错如下：\r\n$x2paddle --framework=paddle2onnx --model=paddle_model/yolov3_tf2paddle/ --save_dir=paddle_onnx_model\r\npaddle.__version__ = 1.8.2\r\nTranslating PaddlePaddle to ONNX...\r\n\r\nTotal:333, Current:333 : fetch\r\nThere's 2 ops are not supported yet\r\n=========== elementwise_max ===========\r\n=========== pad2d ===========\r\n\r\n\r\n在转换paddleslim quant_post量化后的模型时报错如下：\r\n$x2paddle --framework=paddle2onnx --model=paddle_model/yolov3_quant_post_model/ --save_dir=paddle_quant_onnx_model\r\npaddle.__version__ = 1.8.2\r\nTranslating PaddlePaddle to ONNX...\r\n\r\nTotal:481, Current:481 : fetch                             bs\r\nThere's 4 ops are not supported yet\r\n=========== fake_quantize_range_abs_max ===========\r\n=========== pad2d ===========\r\n=========== fake_channel_wise_dequantize_max_abs ===========\r\n=========== elementwise_max ===========\r\n\r\n我的最终目的是为了将量化后的paddle yolov3模型转化为独立的trt模型，请问有什么好的解决方法吗？",
        "state": "closed",
        "user": "DYJNG",
        "closed_by": "DYJNG",
        "created_at": "2020-07-10T01:44:15+00:00",
        "updated_at": "2020-07-13T04:00:14+00:00",
        "closed_at": "2020-07-13T04:00:14+00:00",
        "comments_count": [
            "Channingss",
            "DYJNG"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 307,
        "title": "支持训练模型的转换吗",
        "body": "比如将ONNX模型转为paddle模型，可以在paddle slim里面进行量化训练吗？",
        "state": "closed",
        "user": "CYang0515",
        "closed_by": "CYang0515",
        "created_at": "2020-07-16T11:25:04+00:00",
        "updated_at": "2020-07-20T07:01:57+00:00",
        "closed_at": "2020-07-20T07:01:57+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 306,
        "title": "0.7.1升级到0.7.4后原来可转换的模型转换为paddle后运行报错",
        "body": "回退至0.7.1后无该问题。\r\n\r\n运行报错信息\r\nTraceback (most recent call last):\r\n  File \"tools/dbEvals.py\", line 270, in <module>\r\n    calTorchPaddleMDiff(model_pytorch, exe_paddle, device, res)\r\n  File \"tools/dbEvals.py\", line 200, in calTorchPaddleMDiff\r\n    paddle_out = model_infer_Paddle(ins, paddle_exe)\r\n  File \"tools/dbEvals.py\", line 100, in model_infer_Paddle\r\n    feed={feed_target_names[0]: images}, fetch_list=fetch_targets)\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/paddle/fluid/executor.py\", line 780, in run\r\n    six.reraise(*sys.exc_info())\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/six.py\", line 703, in reraise\r\n    raise value\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/paddle/fluid/executor.py\", line 775, in run\r\n    use_program_cache=use_program_cache)\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/paddle/fluid/executor.py\", line 822, in _run_impl\r\n    use_program_cache=use_program_cache)\r\n  File \"/Users/hello/Softwares/anaconda3/lib/python3.7/site-packages/paddle/fluid/executor.py\", line 899, in _run_program\r\n    fetch_var_name)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > paddle::platform::GetTraceBackString<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, char const*, int)\r\n1   paddle::operators::get_mid_dims(paddle::framework::DDim const&, paddle::framework::DDim const&, int, int*, int*, int*, int*)\r\n2   void paddle::operators::ElementwiseComputeEx<paddle::operators::AddFunctor<float, void>, paddle::platform::CPUDeviceContext, float, float>(paddle::framework::ExecutionContext const&, paddle::framework::Tensor const*, paddle::framework::Tensor const*, int, paddle::operators::AddFunctor<float, void>, paddle::framework::Tensor*)\r\n3   paddle::operators::ElementwiseAddKernel<paddle::platform::CPUDeviceContext, float>::Compute(paddle::framework::ExecutionContext const&) const\r\n4   std::__1::__function::__func<paddle::framework::OpKernelRegistrarFunctor<paddle::platform::CPUPlace, false, 0ul, paddle::operators::ElementwiseAddKernel<paddle::platform::CPUDeviceContext, float>, paddle::operators::ElementwiseAddKernel<paddle::platform::CPUDeviceContext, double>, paddle::operators::ElementwiseAddKernel<paddle::platform::CPUDeviceContext, int>, paddle::operators::ElementwiseAddKernel<paddle::platform::CPUDeviceContext, long long> >::operator()(char const*, char const*, int) const::'lambda'(paddle::framework::ExecutionContext const&), std::__1::allocator<paddle::framework::OpKernelRegistrarFunctor<paddle::platform::CPUPlace, false, 0ul, paddle::operators::ElementwiseAddKernel<paddle::platform::CPUDeviceContext, float>, paddle::operators::ElementwiseAddKernel<paddle::platform::CPUDeviceContext, double>, paddle::operators::ElementwiseAddKernel<paddle::platform::CPUDeviceContext, int>, paddle::operators::ElementwiseAddKernel<paddle::platform::CPUDeviceContext, long long> >::operator()(char const*, char const*, int) const::'lambda'(paddle::framework::ExecutionContext const&)>, void (paddle::framework::ExecutionContext const&)>::operator()(paddle::framework::ExecutionContext const&)\r\n5   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&, paddle::framework::RuntimeContext*) const\r\n6   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n7   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, paddle::platform::Place const&)\r\n8   paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool)\r\n9   paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&, bool)\r\n10  void pybind11::cpp_function::initialize<paddle::pybind::pybind11_init_core_avx(pybind11::module&)::$_103, void, paddle::framework::Executor&, paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&, pybind11::name, pybind11::is_method, pybind11::sibling>(paddle::pybind::pybind11_init_core_avx(pybind11::module&)::$_103&&, void (*)(paddle::framework::Executor&, paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::__1::vector<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> >, std::__1::allocator<std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > > > const&), pybind11::name const&, pybind11::is_method const&, pybind11::sibling const&)::'lambda'(pybind11::detail::function_call&)::__invoke(pybind11::detail::function_call&)\r\n11  pybind11::cpp_function::dispatcher(_object*, _object*, _object*)",
        "state": "closed",
        "user": "dubhex",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-16T07:22:28+00:00",
        "updated_at": "2020-07-27T01:52:47+00:00",
        "closed_at": "2020-07-27T01:52:47+00:00",
        "comments_count": [
            "Channingss",
            "jiangjiajun"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 308,
        "title": "onnx模型转换为paddle模型，报错，请求看一下",
        "body": "Traceback (most recent call last):\r\n  File \"d:\\anaconda3\\envs\\baidupaddle_env\\lib\\site-packages\\x2paddle\\core\\op_mapper.py\", line 123, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"output\\model_with_code\\model.py\", line 706, in x2paddle_net\r\n    x2paddle_774 = InstanceNormalization_layer([x2paddle_772, x2paddle_backbone_4_0_bn1_IN_weight, x2paddle_backbone_4_0_bn1_IN_bias], name='x2paddle_774')\r\n  File \"output\\model_with_code\\model.py\", line 9, in InstanceNormalization_layer\r\n    mean = fluid.layers.reduce_mean(input_, dim=[2, 3], keep_dim=True)\r\n  File \"d:\\anaconda3\\envs\\baidupaddle_env\\lib\\site-packages\\paddle\\fluid\\layers\\nn.py\", line 5737, in reduce_mean\r\n    input, 'input', ['float32', 'float64', 'int32', 'int64'], 'reduce_mean')\r\n  File \"d:\\anaconda3\\envs\\baidupaddle_env\\lib\\site-packages\\paddle\\fluid\\data_feeder.py\", line 80, in check_variable_and_dtype\r\n    extra_message)\r\n  File \"d:\\anaconda3\\envs\\baidupaddle_env\\lib\\site-packages\\paddle\\fluid\\data_feeder.py\", line 97, in check_type\r\n    (input_name, op_name, expected_type, type(input), extra_message))\r\nTypeError: The type of 'input' in reduce_mean must be (<class 'paddle.fluid.framework.Variable'>, <class 'paddle.fluid.core_avx.VarBase'>), but received <class 'list'>. \r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"D:\\JetBrains\\PyCharm Community Edition 2020.1\\plugins\\python-ce\\helpers\\pydev\\pydevd.py\", line 1438, in _exec\r\n    pydev_imports.execfile(file, globals, locals)  # execute the script\r\n  File \"D:\\JetBrains\\PyCharm Community Edition 2020.1\\plugins\\python-ce\\helpers\\pydev\\_pydev_imps\\_pydev_execfile.py\", line 18, in execfile\r\n    exec(compile(contents+\"\\n\", file, 'exec'), glob, loc)\r\n  File \"G:/BAIDU_Paddle/Paddle_0.3-0518/models-release-1.8/PaddleCV/SELF_LOOKFFOR_DEMO/Pytorch2paddle/onnx2paddle/onnx2paddle_main.py\", line 272, in <module>\r\n    main()\r\n  File \"G:/BAIDU_Paddle/Paddle_0.3-0518/models-release-1.8/PaddleCV/SELF_LOOKFFOR_DEMO/Pytorch2paddle/onnx2paddle/onnx2paddle_main.py\", line 262, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"G:/BAIDU_Paddle/Paddle_0.3-0518/models-release-1.8/PaddleCV/SELF_LOOKFFOR_DEMO/Pytorch2paddle/onnx2paddle/onnx2paddle_main.py\", line 184, in onnx2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"d:\\anaconda3\\envs\\baidupaddle_env\\lib\\site-packages\\x2paddle\\core\\op_mapper.py\", line 160, in save_inference_model\r\n    .format(py_code_dir))\r\nException: Paddle code was saved in output\\model_with_code/model.py, but seems there's wrong exist, please check model.py manually.\r\n\r\n请大神帮忙看一下  如何解决？谢谢",
        "state": "closed",
        "user": "baigang666",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-17T02:20:30+00:00",
        "updated_at": "2020-07-27T01:52:59+00:00",
        "closed_at": "2020-07-27T01:52:59+00:00",
        "comments_count": [
            "Channingss",
            "jiangjiajun"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 305,
        "title": "onnx模型opencv4.3.0加载报错",
        "body": "paddleOCR模型转onnx后用opencv4.3.0加载报错，\r\ncv2.error: OpenCV(4.3.0) C:\\projects\\opencv-python\\opencv\\modules\\dnn\\src\\layers\\reshape_layer.cpp:149: error: (-215:Assertion failed) dstTotal != 0 in function 'cv::dnn::computeShapeByReshapeMask'\r\n\r\n请问模型要怎么修改呢？",
        "state": "closed",
        "user": "amandazw",
        "closed_by": "amandazw",
        "created_at": "2020-07-14T10:23:20+00:00",
        "updated_at": "2020-07-30T05:58:51+00:00",
        "closed_at": "2020-07-30T05:58:33+00:00",
        "comments_count": [
            "jiangjiajun",
            "amandazw",
            "amandazw"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 312,
        "title": "ValueError: Input 0 of node conv1/bn/cond/ExponentialMovingAverage/AssignMovingAvg/Switch was passed float from conv1/bn/conv1/bn/moments/Squeeze/ExponentialMovingAverage:0 incompatible with expected float_ref.",
        "body": "ValueError: Input 0 of node conv1/bn/cond/ExponentialMovingAverage/AssignMovingAvg/Switch was passed float from conv1/bn/conv1/bn/moments/Squeeze/ExponentialMovingAverage:0 incompatible with expected float_ref.\n\n`\nbatch_mean, batch_var = tf.nn.moments(inputs, moments_dims, name='moments')\ndecay = bn_decay if bn_decay is not None else 0.9\nema=tf.train.ExponentialMovingAverage(decay=decay)\n\nema_apply_op = tf.cond(is_training,\nlambda: ema.apply([batch_mean, batch_var]),\nlambda: tf.no_op())\n\ndef mean_var_with_update():\nwith tf.control_dependencies([ema_apply_op]):\nreturn tf.identity(batch_mean), tf.identity(batch_var)\n\nmean, var = tf.cond(is_training,\nmean_var_with_update,\nlambda: (ema.average(batch_mean), ema.average(batch_var)))\nnormed = tf.nn.batch_normalization(inputs, mean, var, beta, gamma, 1e-3)\n` ",
        "state": "open",
        "user": "lewhy2004",
        "closed_by": null,
        "created_at": "2020-07-18T02:57:40+00:00",
        "updated_at": "2020-07-22T02:42:40+00:00",
        "closed_at": null,
        "comments_count": [
            "mamingjie-China",
            "lewhy2004",
            "mamingjie-China"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 310,
        "title": "AttributeError: 'str' object has no attribute 'outputs' and dont support deconv",
        "body": "python：3.5\r\ntensorflow: 1.14.0\r\npaddlepaddle: 1.18.5\r\nx2paddle: 0.7.4\r\n\r\n请问一下 我正常存了个只有四层卷积的tensorflow pb 转化的过程中报错\r\nAttributeError: 'str' object has no attribute  [#'outputs']\r\n 下面是我的测试pb 只有四层卷积 \r\n [test.pb](https://drive.google.com/file/d/1dwJE14SiwdqkArie-C-ETkgq7e83mJM3/view?usp=sharing)\r\n\r\n转化pb代码与x2paddle官方示例完全一样\r\n\r\n",
        "state": "closed",
        "user": "jiuzhuanzhuan",
        "closed_by": "jiuzhuanzhuan",
        "created_at": "2020-07-17T09:26:39+00:00",
        "updated_at": "2020-07-21T09:19:35+00:00",
        "closed_at": "2020-07-21T09:19:35+00:00",
        "comments_count": [
            "mamingjie-China",
            "jiuzhuanzhuan",
            "jiuzhuanzhuan",
            "mamingjie-China",
            "jiuzhuanzhuan",
            "jiuzhuanzhuan",
            "mamingjie-China",
            "jiuzhuanzhuan",
            "mamingjie-China",
            "jiuzhuanzhuan",
            "mamingjie-China",
            "jiuzhuanzhuan"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 314,
        "title": "Caffe 模型转换",
        "body": "Looking in indexes: https://pypi.Python.org/simple/\r\nCollecting x2paddle\r\n  Downloading https://files.pythonhosted.org/packages/8a/44/d76e2ac34efcc849389c70b2136e871ec2f78da04dbf8eb12e9620cfb6e3/x2paddle-0.7.4-py3-none-any.whl (132kB)\r\n     |████████████████████████████████| 133kB 36kB/s eta 0:00:01\r\nInstalling collected packages: x2paddle\r\nSuccessfully installed x2paddle-0.7.4\r\n\r\nx2paddle --framework=caffe --prototxt=work/landmark_deploy.prototxt --weight=work/VanFace.caffemodel  --save_dir=work/pd_model\r\n File \"<ipython-input-12-06349dba0f8a>\", line 1\r\n    x2paddle --framework=caffe --prototxt=work/landmark_deploy.prototxt --weight=work/VanFace.caffemodel  --save_dir=work/pd_model\r\n                                                                                                                                  ^\r\nSyntaxError: can't assign to operator",
        "state": "closed",
        "user": "MichaelZhero",
        "closed_by": "MichaelZhero",
        "created_at": "2020-07-20T08:15:10+00:00",
        "updated_at": "2020-07-20T10:32:10+00:00",
        "closed_at": "2020-07-20T10:32:10+00:00",
        "comments_count": [
            "SunAhong1993",
            "MichaelZhero",
            "SunAhong1993",
            "MichaelZhero",
            "SunAhong1993",
            "MichaelZhero"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 316,
        "title": "tf_to_paddle",
        "body": "![image](https://user-images.githubusercontent.com/40353317/88037220-317c5500-cb77-11ea-8177-e3fb3f98bc80.png)\r\n请问一下tf1.8的这两个Ops近期有支持的计划吗",
        "state": "closed",
        "user": "Zhaoyilunnn",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-21T09:26:15+00:00",
        "updated_at": "2020-07-27T09:03:29+00:00",
        "closed_at": "2020-07-27T09:03:28+00:00",
        "comments_count": [
            "mamingjie-China",
            "Zhaoyilunnn",
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 319,
        "title": "paddle to onnx：There's 3 ops are not supported yet",
        "body": "There's 3 ops are not supported yet\r\n=========== clip ===========\r\n=========== tanh ===========\r\n=========== log ===========\r\n麻烦问一下，这些ops有支持的计划嘛",
        "state": "closed",
        "user": "Lbo18",
        "closed_by": "luotao1",
        "created_at": "2020-07-22T03:41:27+00:00",
        "updated_at": "2024-11-01T10:25:18+00:00",
        "closed_at": "2024-11-01T10:25:18+00:00",
        "comments_count": [
            "Channingss",
            "Lbo18",
            "Channingss",
            "Lbo18",
            "Channingss",
            "Lbo18",
            "Channingss",
            "Channingss",
            "Lbo18",
            "Lbo18",
            "Channingss",
            "Lbo18",
            "zhengkai15"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 320,
        "title": "安装x2paddle后，运行命令报错",
        "body": "通过下面命令安装x2paddle出错：\r\n\r\ngit clone https://github.com/PaddlePaddle/X2Paddle.git \r\ngit checkout bert\r\n\r\ncd X2Paddle\r\npython setup.py install\r\n\r\n**运行 x2paddle 命令提示：\r\nimportlib_metadata.api.PackageNotFoundError: x2paddle**\r\n\r\n如果直接通过 pip install x2paddle 安装则不会有问题\r\n\r\nx2paddle==1.8.0\r\npython==3.6.8\r\n",
        "state": "closed",
        "user": "ccoocode",
        "closed_by": "ccoocode",
        "created_at": "2020-07-22T08:48:02+00:00",
        "updated_at": "2020-07-23T02:06:45+00:00",
        "closed_at": "2020-07-23T02:06:06+00:00",
        "comments_count": [
            "mamingjie-China",
            "ccoocode"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 322,
        "title": "目的：caffe模型转成paddle模型，再导出模型供其他sdk调用。",
        "body": "模型链接：https://github.com/lsy17096535/face-landmark/tree/master/model  \r\n\r\n!x2paddle --framework=caffe --prototxt=work/landmark_deploy.prototxt --weight=work/VanFace.caffemodel  --save_dir=work/pd_model\r\n可以生成两个文件：inference_model和model_with_code\r\n![image](https://user-images.githubusercontent.com/16940225/88244584-d194c400-ccc6-11ea-8a31-5aed42359e4e.png)\r\n\r\n#命令行#\r\n!paddlex --export_inference --model_dir=work/pd_model/inference_model --save_dir=inference_model\r\n\r\n报错\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/sklearn/externals/joblib/externals/cloudpickle/cloudpickle.py:47: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/bin/paddlex\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlex/command.py\", line 122, in main\r\n    model = pdx.load_model(args.model_dir, fixed_input_shape)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddlex/cv/models/load_model.py\", line 32, in load_model\r\n    raise Exception(\"There's not model.yml in {}\".format(model_dir))\r\nException: There's not model.yml in work/pd_model/inference_model\r\n\r\n",
        "state": "closed",
        "user": "MichaelZhero",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-23T01:36:13+00:00",
        "updated_at": "2020-08-11T10:03:45+00:00",
        "closed_at": "2020-08-11T10:03:45+00:00",
        "comments_count": [
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 323,
        "title": "从paddlex训练得到骨干网络为Resnet18的FasterRCNN，想转成onnx模型报错",
        "body": "!x2paddle --framework=paddle2onnx --model=work/ --save_dir=work/onnx_model\r\n\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/sklearn/externals/joblib/externals/cloudpickle/cloudpickle.py:47: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\npaddle.__version__ = 1.8.0\r\nTranslating PaddlePaddle to ONNX...\r\n\r\nTotal:173, Current:173 : fetch                                      \r\nThere's 11 ops are not supported yet\r\n=========== roi_align ===========\r\n=========== sequence_expand ===========\r\n=========== gather ===========\r\n=========== generate_proposals ===========\r\n=========== elementwise_div ===========\r\n=========== box_coder ===========\r\n=========== box_clip ===========\r\n=========== lod_reset ===========\r\n=========== distribute_fpn_proposals ===========\r\n=========== anchor_generator ===========\r\n=========== collect_fpn_proposals ===========\r\n[1]\r\n",
        "state": "closed",
        "user": "MichaelZhero",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-23T01:39:28+00:00",
        "updated_at": "2020-08-11T10:03:34+00:00",
        "closed_at": "2020-08-11T10:03:34+00:00",
        "comments_count": [
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 321,
        "title": "cascade mask rcnn模型由paddle转onnx时有些op不支持",
        "body": "使用paddleDetection中的cascade_mask_rcnn_r50_fpn_1x模型训练的，转成onnx时出现如下提示\r\n\r\nTotal:350, Current:1 : feed im_shape\r\nTotal:350, Current:2 : feed im_info\r\nTotal:350, Current:3 : feed image\r\nTotal:32, Current:32 : assign et e_add  posals ls\r\nThere's 18 ops are not supported yet\r\n=========== logical_not ===========\r\n=========== roi_align ===========\r\n=========== assign ===========\r\n=========== sequence_expand ===========\r\n=========== box_clip ===========\r\n=========== gather ===========\r\n=========== less_than ===========\r\n=========== conditional_block ===========\r\n=========== box_coder ===========\r\n=========== generate_proposals ===========\r\n=========== elementwise_div ===========\r\n=========== expand ===========\r\n=========== anchor_generator ===========\r\n=========== distribute_fpn_proposals ===========\r\n=========== reduce_prod ===========\r\n=========== collect_fpn_proposals ===========\r\n=========== affine_channel ===========\r\n=========== lod_reset ===========\r\n\r\n如需要模型参数信息，请留个邮箱，谢谢~\r\n",
        "state": "closed",
        "user": "Tinagao222",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-22T11:45:28+00:00",
        "updated_at": "2020-07-27T01:53:24+00:00",
        "closed_at": "2020-07-27T01:53:24+00:00",
        "comments_count": [
            "Channingss",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 325,
        "title": "最近再加一个人脸识别得功能，转换facenet的tf模型到paddle，报错，请指教",
        "body": "我的tf模型来自https://github.com/davidsandberg/facenet.git\r\n此模型再tf==1.7.0上可以正常运行\r\n使用x2paddle转换到paddle模型时\r\n按照提示，输入\r\nUnknown shape for input tensor[tensor name: \"batch_size\"]\r\nUse your keyboard type the shape of input tensor below :)\r\nShape of Input(e.g. None,224,224,3): 1，160，160，3\r\nUnknown shape for input tensor[tensor name: \"phase_train\"]\r\nUse your keyboard type the shape of input tensor below :)\r\nShape of Input(e.g. None,224,224,3): 1,160,160,3\r\n\r\n之后报错：\r\nValueError: Shape must be rank 0 but is rank 4 for 'InceptionResnetV1/Conv2d_1a_3x3/BatchNorm/cond/Switch' (op: 'Switch') with input shapes: [1,160,160,3], [1,160,160,3].\r\n\r\n请大神帮忙看一下，谢谢",
        "state": "open",
        "user": "baigang666",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-27T09:31:32+00:00",
        "updated_at": "2021-01-06T02:51:28+00:00",
        "closed_at": null,
        "comments_count": [
            "mamingjie-China",
            "jiangjiajun",
            "Huihuihh"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 326,
        "title": "请问paddle2onnx支持动态输入吗？",
        "body": "我用x2paddle将PaddleOCR的DB文字检测算法转化到onnx，使用的指令是\r\n`x2paddle -f paddle2onnx -m paddle_infer_model_dir -s save_onnx_dir`\r\n推理时会报错\r\n`[ONNXRuntimeError] : 2 : INVALID_ARGUMENT : Got invalid dimensions for input: image for the following indices\r\n index: 2 Got: 256 Expected: 640\r\n index: 3 Got: 448 Expected: 640`\r\n这个错误的原因应该就是因为我转化后的模型不支持动态输入。\r\n所以x2paddle转化到onnx模型支持动态输入吗？",
        "state": "closed",
        "user": "zeze1111",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-28T07:17:20+00:00",
        "updated_at": "2020-08-11T10:02:56+00:00",
        "closed_at": "2020-08-11T10:02:56+00:00",
        "comments_count": [
            "jiangjiajun",
            "zeze1111",
            "jiangjiajun",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 329,
        "title": "Pytroch模型转为paddle",
        "body": "先将pytorch训练的人脸检测模型（https://github.com/biubug6/Pytorch_Retinaface）转换为onnx模型后，通过代码“x2paddle --framework=onnx --model=FaceDetector.onnx --save_dir=pd_model”将onnx模型转换为PaddlePaddle时，出现以下错误，其中安装的版本信息onnx==1.6.0,onnxruntime==1.0.0,paddlepaddle==1.8.3,x2paddle==0.7.4,想请教大家如何解决这个问题？非常感谢\r\n\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 9\r\n2020-07-29 15:56:19,665-WARNING: During conversion of your  model, some operators will be assignd node.out_shape==None, refer to https://github.com/onnx/onnx/blob/master/docs/ShapeInference.md\r\n2020-07-29 15:56:19.998788235 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '96'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.005413695 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '78'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.005944613 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '72'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.006321312 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '60'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.006406835 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '6'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.006489645 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '276'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.006552170 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '270'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.006634179 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '198'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.006698052 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '246'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.006761391 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '24'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.006842911 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '54'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.006906436 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '228'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.006968558 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '222'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007051038 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '132'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007125220 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '282'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007190124 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '36'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007271495 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '336'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007336129 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '192'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007417346 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '252'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007479943 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '186'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007542059 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '174'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007624857 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '354'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007688440 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '162'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007770040 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '420'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007848168 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '318'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007911525 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '330'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.007992578 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '240'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008055867 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '150'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008118000 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '138'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008201686 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '12'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008266650 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '210'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008348209 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '108'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008411845 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '102'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008474208 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '216'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008557561 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '234'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008638776 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '144'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008704282 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '258'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008785856 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '18'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008849768 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '168'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008913018 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '120'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.008995512 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '126'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009058990 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '366'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009121541 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '204'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009202604 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '264'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009268713 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '180'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009352018 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '372'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009414308 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '288'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009476712 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '90'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009557580 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '294'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009621673 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '342'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009703031 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '30'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009765887 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '300'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009829021 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '66'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009910580 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '384'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.009974169 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '306'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010037312 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '312'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010117751 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '360'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010180699 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '438'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010262153 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '114'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010326591 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '348'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010410177 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '324'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010474783 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '84'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010555787 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '156'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010619029 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '378'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010701090 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '390'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010767027 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '396'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010861360 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '402'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.010944279 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '408'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.011007588 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '414'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.011070053 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '42'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.011157802 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '426'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.011220231 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '432'. It is not used by any node and should be removed from the model.\r\n2020-07-29 15:56:20.011303514 [W:onnxruntime:Default, graph.cc:2367 CleanUnusedInitializers] Removing initializer '48'. It is not used by any node and should be removed from the model.\r\nTotal nodes: 377\r\nTraceback (most recent call last):\r\n  File \"/home/zhulingling/anaconda3/lib/python3.6/site-packages/x2paddle/core/op_mapper.py\", line 122, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"pd_model/model_with_code/model.py\", line 8, in x2paddle_net\r\n    x2paddle_647 = fluid.layers.create_parameter(dtype='float32', shape=[2], name='x2paddle_647', attr='x2paddle_647', default_initializer=Constant(0.0))\r\n  File \"/home/zhulingling/anaconda3/lib/python3.6/site-packages/paddle/fluid/layers/tensor.py\", line 148, in create_parameter\r\n    check_type(attr, 'attr', (type(None), ParamAttr), 'create_parameter')\r\n  File \"/home/zhulingling/anaconda3/lib/python3.6/site-packages/paddle/fluid/data_feeder.py\", line 97, in check_type\r\n    (input_name, op_name, expected_type, type(input), extra_message))\r\nTypeError: The type of 'attr' in create_parameter must be (<class 'NoneType'>, <class 'paddle.fluid.param_attr.ParamAttr'>), but received <class 'str'>. \r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/zhulingling/anaconda3/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/zhulingling/anaconda3/lib/python3.6/site-packages/x2paddle/convert.py\", line 232, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/home/zhulingling/anaconda3/lib/python3.6/site-packages/x2paddle/convert.py\", line 175, in onnx2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"/home/zhulingling/anaconda3/lib/python3.6/site-packages/x2paddle/core/op_mapper.py\", line 158, in save_inference_model\r\n    .format(py_code_dir))\r\nException: Paddle code was saved in pd_model/model_with_code/model.py, but seems there's wrong exist, please check model.py manually.\r\n",
        "state": "closed",
        "user": "zhulingling1995",
        "closed_by": "jiangjiajun",
        "created_at": "2020-07-29T07:59:34+00:00",
        "updated_at": "2020-08-21T02:52:38+00:00",
        "closed_at": "2020-08-21T02:52:38+00:00",
        "comments_count": [
            "Channingss",
            "zhulingling1995",
            "Channingss",
            "Channingss",
            "Channingss",
            "zhulingling1995"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 333,
        "title": "paddle中手写的mobilenetV2模型转onnx : There's 13 ops are not supported yet",
        "body": "There's 13 ops are not supported yet\r\n=========== mul_grad ===========\r\n=========== cross_entropy_grad2 ===========\r\n=========== sum ===========\r\n=========== cross_entropy2 ===========\r\n=========== relu6_grad ===========\r\n=========== adam ===========\r\n=========== mean_grad ===========\r\n=========== elementwise_add_grad ===========\r\n=========== conv2d_grad ===========\r\n=========== depthwise_conv2d_grad ===========\r\n=========== pool2d_grad ===========\r\n=========== batch_norm_grad ===========\r\n=========== softmax_grad ===========\r\n",
        "state": "closed",
        "user": "ZhaoFour",
        "closed_by": "ZhaoFour",
        "created_at": "2020-07-31T11:00:07+00:00",
        "updated_at": "2020-08-04T13:52:46+00:00",
        "closed_at": "2020-08-04T13:52:46+00:00",
        "comments_count": [
            "jiangjiajun",
            "ZhaoFour"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 334,
        "title": "darknet2onnx成功后，使用onnx2paddle报错",
        "body": "darknet模型：yolov3-darknet\r\n\r\ndarknet2onnx环境：\r\nonnx==1.2.1\r\npython==2.7\r\n\r\ndarknet2onnx的过程:\r\n(darknet2onnx) qian@qian:~/mayilong3/模型转换/darknet2onnx$ python2 yolov3_to_onnx.py \r\nLayer of type yolo not supported, skipping ONNX node generation.\r\nLayer of type yolo not supported, skipping ONNX node generation.\r\nLayer of type yolo not supported, skipping ONNX node generation.\r\ngraph YOLOv3-608 (\r\n  %000_net[FLOAT, 1x3x608x608]\r\n) initializers (\r\n  %001_convolutional_bn_scale[FLOAT, 32]\r\n  %001_convolutional_bn_bias[FLOAT, 32]\r\n  %001_convolutional_bn_mean[FLOAT, 32]\r\n  %001_convolutional_bn_var[FLOAT, 32]\r\n  %001_convolutional_conv_weights[FLOAT, 32x3x3x3]\r\n  %002_convolutional_bn_scale[FLOAT, 64]\r\n  %002_convolutional_bn_bias[FLOAT, 64]\r\n  %002_convolutional_bn_mean[FLOAT, 64]\r\n  %002_convolutional_bn_var[FLOAT, 64]\r\n  %002_convolutional_conv_weights[FLOAT, 64x32x3x3]\r\n  %003_convolutional_bn_scale[FLOAT, 32]\r\n  %003_convolutional_bn_bias[FLOAT, 32]\r\n  %003_convolutional_bn_mean[FLOAT, 32]\r\n  %003_convolutional_bn_var[FLOAT, 32]\r\n  %003_convolutional_conv_weights[FLOAT, 32x64x1x1]\r\n  %004_convolutional_bn_scale[FLOAT, 64]\r\n  %004_convolutional_bn_bias[FLOAT, 64]\r\n  %004_convolutional_bn_mean[FLOAT, 64]\r\n  %004_convolutional_bn_var[FLOAT, 64]\r\n  %004_convolutional_conv_weights[FLOAT, 64x32x3x3]\r\n  %006_convolutional_bn_scale[FLOAT, 128]\r\n  %006_convolutional_bn_bias[FLOAT, 128]\r\n  %006_convolutional_bn_mean[FLOAT, 128]\r\n  %006_convolutional_bn_var[FLOAT, 128]\r\n  %006_convolutional_conv_weights[FLOAT, 128x64x3x3]\r\n  %007_convolutional_bn_scale[FLOAT, 64]\r\n  %007_convolutional_bn_bias[FLOAT, 64]\r\n  %007_convolutional_bn_mean[FLOAT, 64]\r\n  %007_convolutional_bn_var[FLOAT, 64]\r\n  %007_convolutional_conv_weights[FLOAT, 64x128x1x1]\r\n  %008_convolutional_bn_scale[FLOAT, 128]\r\n  %008_convolutional_bn_bias[FLOAT, 128]\r\n  %008_convolutional_bn_mean[FLOAT, 128]\r\n  %008_convolutional_bn_var[FLOAT, 128]\r\n  %008_convolutional_conv_weights[FLOAT, 128x64x3x3]\r\n  %010_convolutional_bn_scale[FLOAT, 64]\r\n  %010_convolutional_bn_bias[FLOAT, 64]\r\n  %010_convolutional_bn_mean[FLOAT, 64]\r\n  %010_convolutional_bn_var[FLOAT, 64]\r\n  %010_convolutional_conv_weights[FLOAT, 64x128x1x1]\r\n  %011_convolutional_bn_scale[FLOAT, 128]\r\n  %011_convolutional_bn_bias[FLOAT, 128]\r\n  %011_convolutional_bn_mean[FLOAT, 128]\r\n  %011_convolutional_bn_var[FLOAT, 128]\r\n  %011_convolutional_conv_weights[FLOAT, 128x64x3x3]\r\n  %013_convolutional_bn_scale[FLOAT, 256]\r\n  %013_convolutional_bn_bias[FLOAT, 256]\r\n  %013_convolutional_bn_mean[FLOAT, 256]\r\n  %013_convolutional_bn_var[FLOAT, 256]\r\n  %013_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %014_convolutional_bn_scale[FLOAT, 128]\r\n  %014_convolutional_bn_bias[FLOAT, 128]\r\n  %014_convolutional_bn_mean[FLOAT, 128]\r\n  %014_convolutional_bn_var[FLOAT, 128]\r\n  %014_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %015_convolutional_bn_scale[FLOAT, 256]\r\n  %015_convolutional_bn_bias[FLOAT, 256]\r\n  %015_convolutional_bn_mean[FLOAT, 256]\r\n  %015_convolutional_bn_var[FLOAT, 256]\r\n  %015_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %017_convolutional_bn_scale[FLOAT, 128]\r\n  %017_convolutional_bn_bias[FLOAT, 128]\r\n  %017_convolutional_bn_mean[FLOAT, 128]\r\n  %017_convolutional_bn_var[FLOAT, 128]\r\n  %017_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %018_convolutional_bn_scale[FLOAT, 256]\r\n  %018_convolutional_bn_bias[FLOAT, 256]\r\n  %018_convolutional_bn_mean[FLOAT, 256]\r\n  %018_convolutional_bn_var[FLOAT, 256]\r\n  %018_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %020_convolutional_bn_scale[FLOAT, 128]\r\n  %020_convolutional_bn_bias[FLOAT, 128]\r\n  %020_convolutional_bn_mean[FLOAT, 128]\r\n  %020_convolutional_bn_var[FLOAT, 128]\r\n  %020_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %021_convolutional_bn_scale[FLOAT, 256]\r\n  %021_convolutional_bn_bias[FLOAT, 256]\r\n  %021_convolutional_bn_mean[FLOAT, 256]\r\n  %021_convolutional_bn_var[FLOAT, 256]\r\n  %021_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %023_convolutional_bn_scale[FLOAT, 128]\r\n  %023_convolutional_bn_bias[FLOAT, 128]\r\n  %023_convolutional_bn_mean[FLOAT, 128]\r\n  %023_convolutional_bn_var[FLOAT, 128]\r\n  %023_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %024_convolutional_bn_scale[FLOAT, 256]\r\n  %024_convolutional_bn_bias[FLOAT, 256]\r\n  %024_convolutional_bn_mean[FLOAT, 256]\r\n  %024_convolutional_bn_var[FLOAT, 256]\r\n  %024_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %026_convolutional_bn_scale[FLOAT, 128]\r\n  %026_convolutional_bn_bias[FLOAT, 128]\r\n  %026_convolutional_bn_mean[FLOAT, 128]\r\n  %026_convolutional_bn_var[FLOAT, 128]\r\n  %026_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %027_convolutional_bn_scale[FLOAT, 256]\r\n  %027_convolutional_bn_bias[FLOAT, 256]\r\n  %027_convolutional_bn_mean[FLOAT, 256]\r\n  %027_convolutional_bn_var[FLOAT, 256]\r\n  %027_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %029_convolutional_bn_scale[FLOAT, 128]\r\n  %029_convolutional_bn_bias[FLOAT, 128]\r\n  %029_convolutional_bn_mean[FLOAT, 128]\r\n  %029_convolutional_bn_var[FLOAT, 128]\r\n  %029_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %030_convolutional_bn_scale[FLOAT, 256]\r\n  %030_convolutional_bn_bias[FLOAT, 256]\r\n  %030_convolutional_bn_mean[FLOAT, 256]\r\n  %030_convolutional_bn_var[FLOAT, 256]\r\n  %030_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %032_convolutional_bn_scale[FLOAT, 128]\r\n  %032_convolutional_bn_bias[FLOAT, 128]\r\n  %032_convolutional_bn_mean[FLOAT, 128]\r\n  %032_convolutional_bn_var[FLOAT, 128]\r\n  %032_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %033_convolutional_bn_scale[FLOAT, 256]\r\n  %033_convolutional_bn_bias[FLOAT, 256]\r\n  %033_convolutional_bn_mean[FLOAT, 256]\r\n  %033_convolutional_bn_var[FLOAT, 256]\r\n  %033_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %035_convolutional_bn_scale[FLOAT, 128]\r\n  %035_convolutional_bn_bias[FLOAT, 128]\r\n  %035_convolutional_bn_mean[FLOAT, 128]\r\n  %035_convolutional_bn_var[FLOAT, 128]\r\n  %035_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %036_convolutional_bn_scale[FLOAT, 256]\r\n  %036_convolutional_bn_bias[FLOAT, 256]\r\n  %036_convolutional_bn_mean[FLOAT, 256]\r\n  %036_convolutional_bn_var[FLOAT, 256]\r\n  %036_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %038_convolutional_bn_scale[FLOAT, 512]\r\n  %038_convolutional_bn_bias[FLOAT, 512]\r\n  %038_convolutional_bn_mean[FLOAT, 512]\r\n  %038_convolutional_bn_var[FLOAT, 512]\r\n  %038_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %039_convolutional_bn_scale[FLOAT, 256]\r\n  %039_convolutional_bn_bias[FLOAT, 256]\r\n  %039_convolutional_bn_mean[FLOAT, 256]\r\n  %039_convolutional_bn_var[FLOAT, 256]\r\n  %039_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %040_convolutional_bn_scale[FLOAT, 512]\r\n  %040_convolutional_bn_bias[FLOAT, 512]\r\n  %040_convolutional_bn_mean[FLOAT, 512]\r\n  %040_convolutional_bn_var[FLOAT, 512]\r\n  %040_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %042_convolutional_bn_scale[FLOAT, 256]\r\n  %042_convolutional_bn_bias[FLOAT, 256]\r\n  %042_convolutional_bn_mean[FLOAT, 256]\r\n  %042_convolutional_bn_var[FLOAT, 256]\r\n  %042_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %043_convolutional_bn_scale[FLOAT, 512]\r\n  %043_convolutional_bn_bias[FLOAT, 512]\r\n  %043_convolutional_bn_mean[FLOAT, 512]\r\n  %043_convolutional_bn_var[FLOAT, 512]\r\n  %043_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %045_convolutional_bn_scale[FLOAT, 256]\r\n  %045_convolutional_bn_bias[FLOAT, 256]\r\n  %045_convolutional_bn_mean[FLOAT, 256]\r\n  %045_convolutional_bn_var[FLOAT, 256]\r\n  %045_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %046_convolutional_bn_scale[FLOAT, 512]\r\n  %046_convolutional_bn_bias[FLOAT, 512]\r\n  %046_convolutional_bn_mean[FLOAT, 512]\r\n  %046_convolutional_bn_var[FLOAT, 512]\r\n  %046_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %048_convolutional_bn_scale[FLOAT, 256]\r\n  %048_convolutional_bn_bias[FLOAT, 256]\r\n  %048_convolutional_bn_mean[FLOAT, 256]\r\n  %048_convolutional_bn_var[FLOAT, 256]\r\n  %048_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %049_convolutional_bn_scale[FLOAT, 512]\r\n  %049_convolutional_bn_bias[FLOAT, 512]\r\n  %049_convolutional_bn_mean[FLOAT, 512]\r\n  %049_convolutional_bn_var[FLOAT, 512]\r\n  %049_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %051_convolutional_bn_scale[FLOAT, 256]\r\n  %051_convolutional_bn_bias[FLOAT, 256]\r\n  %051_convolutional_bn_mean[FLOAT, 256]\r\n  %051_convolutional_bn_var[FLOAT, 256]\r\n  %051_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %052_convolutional_bn_scale[FLOAT, 512]\r\n  %052_convolutional_bn_bias[FLOAT, 512]\r\n  %052_convolutional_bn_mean[FLOAT, 512]\r\n  %052_convolutional_bn_var[FLOAT, 512]\r\n  %052_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %054_convolutional_bn_scale[FLOAT, 256]\r\n  %054_convolutional_bn_bias[FLOAT, 256]\r\n  %054_convolutional_bn_mean[FLOAT, 256]\r\n  %054_convolutional_bn_var[FLOAT, 256]\r\n  %054_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %055_convolutional_bn_scale[FLOAT, 512]\r\n  %055_convolutional_bn_bias[FLOAT, 512]\r\n  %055_convolutional_bn_mean[FLOAT, 512]\r\n  %055_convolutional_bn_var[FLOAT, 512]\r\n  %055_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %057_convolutional_bn_scale[FLOAT, 256]\r\n  %057_convolutional_bn_bias[FLOAT, 256]\r\n  %057_convolutional_bn_mean[FLOAT, 256]\r\n  %057_convolutional_bn_var[FLOAT, 256]\r\n  %057_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %058_convolutional_bn_scale[FLOAT, 512]\r\n  %058_convolutional_bn_bias[FLOAT, 512]\r\n  %058_convolutional_bn_mean[FLOAT, 512]\r\n  %058_convolutional_bn_var[FLOAT, 512]\r\n  %058_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %060_convolutional_bn_scale[FLOAT, 256]\r\n  %060_convolutional_bn_bias[FLOAT, 256]\r\n  %060_convolutional_bn_mean[FLOAT, 256]\r\n  %060_convolutional_bn_var[FLOAT, 256]\r\n  %060_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %061_convolutional_bn_scale[FLOAT, 512]\r\n  %061_convolutional_bn_bias[FLOAT, 512]\r\n  %061_convolutional_bn_mean[FLOAT, 512]\r\n  %061_convolutional_bn_var[FLOAT, 512]\r\n  %061_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %063_convolutional_bn_scale[FLOAT, 1024]\r\n  %063_convolutional_bn_bias[FLOAT, 1024]\r\n  %063_convolutional_bn_mean[FLOAT, 1024]\r\n  %063_convolutional_bn_var[FLOAT, 1024]\r\n  %063_convolutional_conv_weights[FLOAT, 1024x512x3x3]\r\n  %064_convolutional_bn_scale[FLOAT, 512]\r\n  %064_convolutional_bn_bias[FLOAT, 512]\r\n  %064_convolutional_bn_mean[FLOAT, 512]\r\n  %064_convolutional_bn_var[FLOAT, 512]\r\n  %064_convolutional_conv_weights[FLOAT, 512x1024x1x1]\r\n  %065_convolutional_bn_scale[FLOAT, 1024]\r\n  %065_convolutional_bn_bias[FLOAT, 1024]\r\n  %065_convolutional_bn_mean[FLOAT, 1024]\r\n  %065_convolutional_bn_var[FLOAT, 1024]\r\n  %065_convolutional_conv_weights[FLOAT, 1024x512x3x3]\r\n  %067_convolutional_bn_scale[FLOAT, 512]\r\n  %067_convolutional_bn_bias[FLOAT, 512]\r\n  %067_convolutional_bn_mean[FLOAT, 512]\r\n  %067_convolutional_bn_var[FLOAT, 512]\r\n  %067_convolutional_conv_weights[FLOAT, 512x1024x1x1]\r\n  %068_convolutional_bn_scale[FLOAT, 1024]\r\n  %068_convolutional_bn_bias[FLOAT, 1024]\r\n  %068_convolutional_bn_mean[FLOAT, 1024]\r\n  %068_convolutional_bn_var[FLOAT, 1024]\r\n  %068_convolutional_conv_weights[FLOAT, 1024x512x3x3]\r\n  %070_convolutional_bn_scale[FLOAT, 512]\r\n  %070_convolutional_bn_bias[FLOAT, 512]\r\n  %070_convolutional_bn_mean[FLOAT, 512]\r\n  %070_convolutional_bn_var[FLOAT, 512]\r\n  %070_convolutional_conv_weights[FLOAT, 512x1024x1x1]\r\n  %071_convolutional_bn_scale[FLOAT, 1024]\r\n  %071_convolutional_bn_bias[FLOAT, 1024]\r\n  %071_convolutional_bn_mean[FLOAT, 1024]\r\n  %071_convolutional_bn_var[FLOAT, 1024]\r\n  %071_convolutional_conv_weights[FLOAT, 1024x512x3x3]\r\n  %073_convolutional_bn_scale[FLOAT, 512]\r\n  %073_convolutional_bn_bias[FLOAT, 512]\r\n  %073_convolutional_bn_mean[FLOAT, 512]\r\n  %073_convolutional_bn_var[FLOAT, 512]\r\n  %073_convolutional_conv_weights[FLOAT, 512x1024x1x1]\r\n  %074_convolutional_bn_scale[FLOAT, 1024]\r\n  %074_convolutional_bn_bias[FLOAT, 1024]\r\n  %074_convolutional_bn_mean[FLOAT, 1024]\r\n  %074_convolutional_bn_var[FLOAT, 1024]\r\n  %074_convolutional_conv_weights[FLOAT, 1024x512x3x3]\r\n  %076_convolutional_bn_scale[FLOAT, 512]\r\n  %076_convolutional_bn_bias[FLOAT, 512]\r\n  %076_convolutional_bn_mean[FLOAT, 512]\r\n  %076_convolutional_bn_var[FLOAT, 512]\r\n  %076_convolutional_conv_weights[FLOAT, 512x1024x1x1]\r\n  %077_convolutional_bn_scale[FLOAT, 1024]\r\n  %077_convolutional_bn_bias[FLOAT, 1024]\r\n  %077_convolutional_bn_mean[FLOAT, 1024]\r\n  %077_convolutional_bn_var[FLOAT, 1024]\r\n  %077_convolutional_conv_weights[FLOAT, 1024x512x3x3]\r\n  %078_convolutional_bn_scale[FLOAT, 512]\r\n  %078_convolutional_bn_bias[FLOAT, 512]\r\n  %078_convolutional_bn_mean[FLOAT, 512]\r\n  %078_convolutional_bn_var[FLOAT, 512]\r\n  %078_convolutional_conv_weights[FLOAT, 512x1024x1x1]\r\n  %079_convolutional_bn_scale[FLOAT, 1024]\r\n  %079_convolutional_bn_bias[FLOAT, 1024]\r\n  %079_convolutional_bn_mean[FLOAT, 1024]\r\n  %079_convolutional_bn_var[FLOAT, 1024]\r\n  %079_convolutional_conv_weights[FLOAT, 1024x512x3x3]\r\n  %080_convolutional_bn_scale[FLOAT, 512]\r\n  %080_convolutional_bn_bias[FLOAT, 512]\r\n  %080_convolutional_bn_mean[FLOAT, 512]\r\n  %080_convolutional_bn_var[FLOAT, 512]\r\n  %080_convolutional_conv_weights[FLOAT, 512x1024x1x1]\r\n  %081_convolutional_bn_scale[FLOAT, 1024]\r\n  %081_convolutional_bn_bias[FLOAT, 1024]\r\n  %081_convolutional_bn_mean[FLOAT, 1024]\r\n  %081_convolutional_bn_var[FLOAT, 1024]\r\n  %081_convolutional_conv_weights[FLOAT, 1024x512x3x3]\r\n  %082_convolutional_conv_bias[FLOAT, 150]\r\n  %082_convolutional_conv_weights[FLOAT, 150x1024x1x1]\r\n  %085_convolutional_bn_scale[FLOAT, 256]\r\n  %085_convolutional_bn_bias[FLOAT, 256]\r\n  %085_convolutional_bn_mean[FLOAT, 256]\r\n  %085_convolutional_bn_var[FLOAT, 256]\r\n  %085_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %088_convolutional_bn_scale[FLOAT, 256]\r\n  %088_convolutional_bn_bias[FLOAT, 256]\r\n  %088_convolutional_bn_mean[FLOAT, 256]\r\n  %088_convolutional_bn_var[FLOAT, 256]\r\n  %088_convolutional_conv_weights[FLOAT, 256x768x1x1]\r\n  %089_convolutional_bn_scale[FLOAT, 512]\r\n  %089_convolutional_bn_bias[FLOAT, 512]\r\n  %089_convolutional_bn_mean[FLOAT, 512]\r\n  %089_convolutional_bn_var[FLOAT, 512]\r\n  %089_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %090_convolutional_bn_scale[FLOAT, 256]\r\n  %090_convolutional_bn_bias[FLOAT, 256]\r\n  %090_convolutional_bn_mean[FLOAT, 256]\r\n  %090_convolutional_bn_var[FLOAT, 256]\r\n  %090_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %091_convolutional_bn_scale[FLOAT, 512]\r\n  %091_convolutional_bn_bias[FLOAT, 512]\r\n  %091_convolutional_bn_mean[FLOAT, 512]\r\n  %091_convolutional_bn_var[FLOAT, 512]\r\n  %091_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %092_convolutional_bn_scale[FLOAT, 256]\r\n  %092_convolutional_bn_bias[FLOAT, 256]\r\n  %092_convolutional_bn_mean[FLOAT, 256]\r\n  %092_convolutional_bn_var[FLOAT, 256]\r\n  %092_convolutional_conv_weights[FLOAT, 256x512x1x1]\r\n  %093_convolutional_bn_scale[FLOAT, 512]\r\n  %093_convolutional_bn_bias[FLOAT, 512]\r\n  %093_convolutional_bn_mean[FLOAT, 512]\r\n  %093_convolutional_bn_var[FLOAT, 512]\r\n  %093_convolutional_conv_weights[FLOAT, 512x256x3x3]\r\n  %094_convolutional_conv_bias[FLOAT, 150]\r\n  %094_convolutional_conv_weights[FLOAT, 150x512x1x1]\r\n  %097_convolutional_bn_scale[FLOAT, 128]\r\n  %097_convolutional_bn_bias[FLOAT, 128]\r\n  %097_convolutional_bn_mean[FLOAT, 128]\r\n  %097_convolutional_bn_var[FLOAT, 128]\r\n  %097_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %100_convolutional_bn_scale[FLOAT, 128]\r\n  %100_convolutional_bn_bias[FLOAT, 128]\r\n  %100_convolutional_bn_mean[FLOAT, 128]\r\n  %100_convolutional_bn_var[FLOAT, 128]\r\n  %100_convolutional_conv_weights[FLOAT, 128x384x1x1]\r\n  %101_convolutional_bn_scale[FLOAT, 256]\r\n  %101_convolutional_bn_bias[FLOAT, 256]\r\n  %101_convolutional_bn_mean[FLOAT, 256]\r\n  %101_convolutional_bn_var[FLOAT, 256]\r\n  %101_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %102_convolutional_bn_scale[FLOAT, 128]\r\n  %102_convolutional_bn_bias[FLOAT, 128]\r\n  %102_convolutional_bn_mean[FLOAT, 128]\r\n  %102_convolutional_bn_var[FLOAT, 128]\r\n  %102_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %103_convolutional_bn_scale[FLOAT, 256]\r\n  %103_convolutional_bn_bias[FLOAT, 256]\r\n  %103_convolutional_bn_mean[FLOAT, 256]\r\n  %103_convolutional_bn_var[FLOAT, 256]\r\n  %103_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %104_convolutional_bn_scale[FLOAT, 128]\r\n  %104_convolutional_bn_bias[FLOAT, 128]\r\n  %104_convolutional_bn_mean[FLOAT, 128]\r\n  %104_convolutional_bn_var[FLOAT, 128]\r\n  %104_convolutional_conv_weights[FLOAT, 128x256x1x1]\r\n  %105_convolutional_bn_scale[FLOAT, 256]\r\n  %105_convolutional_bn_bias[FLOAT, 256]\r\n  %105_convolutional_bn_mean[FLOAT, 256]\r\n  %105_convolutional_bn_var[FLOAT, 256]\r\n  %105_convolutional_conv_weights[FLOAT, 256x128x3x3]\r\n  %106_convolutional_conv_bias[FLOAT, 150]\r\n  %106_convolutional_conv_weights[FLOAT, 150x256x1x1]\r\n) {\r\n  %001_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%000_net, %001_convolutional_conv_weights)\r\n  %001_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%001_convolutional, %001_convolutional_bn_scale, %001_convolutional_bn_bias, %001_convolutional_bn_mean, %001_convolutional_bn_var)\r\n  %001_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%001_convolutional_bn)\r\n  %002_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [2, 2]](%001_convolutional_lrelu, %002_convolutional_conv_weights)\r\n  %002_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%002_convolutional, %002_convolutional_bn_scale, %002_convolutional_bn_bias, %002_convolutional_bn_mean, %002_convolutional_bn_var)\r\n  %002_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%002_convolutional_bn)\r\n  %003_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%002_convolutional_lrelu, %003_convolutional_conv_weights)\r\n  %003_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%003_convolutional, %003_convolutional_bn_scale, %003_convolutional_bn_bias, %003_convolutional_bn_mean, %003_convolutional_bn_var)\r\n  %003_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%003_convolutional_bn)\r\n  %004_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%003_convolutional_lrelu, %004_convolutional_conv_weights)\r\n  %004_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%004_convolutional, %004_convolutional_bn_scale, %004_convolutional_bn_bias, %004_convolutional_bn_mean, %004_convolutional_bn_var)\r\n  %004_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%004_convolutional_bn)\r\n  %005_shortcut = Add(%004_convolutional_lrelu, %002_convolutional_lrelu)\r\n  %006_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [2, 2]](%005_shortcut, %006_convolutional_conv_weights)\r\n  %006_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%006_convolutional, %006_convolutional_bn_scale, %006_convolutional_bn_bias, %006_convolutional_bn_mean, %006_convolutional_bn_var)\r\n  %006_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%006_convolutional_bn)\r\n  %007_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%006_convolutional_lrelu, %007_convolutional_conv_weights)\r\n  %007_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%007_convolutional, %007_convolutional_bn_scale, %007_convolutional_bn_bias, %007_convolutional_bn_mean, %007_convolutional_bn_var)\r\n  %007_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%007_convolutional_bn)\r\n  %008_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%007_convolutional_lrelu, %008_convolutional_conv_weights)\r\n  %008_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%008_convolutional, %008_convolutional_bn_scale, %008_convolutional_bn_bias, %008_convolutional_bn_mean, %008_convolutional_bn_var)\r\n  %008_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%008_convolutional_bn)\r\n  %009_shortcut = Add(%008_convolutional_lrelu, %006_convolutional_lrelu)\r\n  %010_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%009_shortcut, %010_convolutional_conv_weights)\r\n  %010_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%010_convolutional, %010_convolutional_bn_scale, %010_convolutional_bn_bias, %010_convolutional_bn_mean, %010_convolutional_bn_var)\r\n  %010_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%010_convolutional_bn)\r\n  %011_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%010_convolutional_lrelu, %011_convolutional_conv_weights)\r\n  %011_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%011_convolutional, %011_convolutional_bn_scale, %011_convolutional_bn_bias, %011_convolutional_bn_mean, %011_convolutional_bn_var)\r\n  %011_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%011_convolutional_bn)\r\n  %012_shortcut = Add(%011_convolutional_lrelu, %009_shortcut)\r\n  %013_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [2, 2]](%012_shortcut, %013_convolutional_conv_weights)\r\n  %013_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%013_convolutional, %013_convolutional_bn_scale, %013_convolutional_bn_bias, %013_convolutional_bn_mean, %013_convolutional_bn_var)\r\n  %013_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%013_convolutional_bn)\r\n  %014_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%013_convolutional_lrelu, %014_convolutional_conv_weights)\r\n  %014_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%014_convolutional, %014_convolutional_bn_scale, %014_convolutional_bn_bias, %014_convolutional_bn_mean, %014_convolutional_bn_var)\r\n  %014_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%014_convolutional_bn)\r\n  %015_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%014_convolutional_lrelu, %015_convolutional_conv_weights)\r\n  %015_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%015_convolutional, %015_convolutional_bn_scale, %015_convolutional_bn_bias, %015_convolutional_bn_mean, %015_convolutional_bn_var)\r\n  %015_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%015_convolutional_bn)\r\n  %016_shortcut = Add(%015_convolutional_lrelu, %013_convolutional_lrelu)\r\n  %017_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%016_shortcut, %017_convolutional_conv_weights)\r\n  %017_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%017_convolutional, %017_convolutional_bn_scale, %017_convolutional_bn_bias, %017_convolutional_bn_mean, %017_convolutional_bn_var)\r\n  %017_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%017_convolutional_bn)\r\n  %018_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%017_convolutional_lrelu, %018_convolutional_conv_weights)\r\n  %018_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%018_convolutional, %018_convolutional_bn_scale, %018_convolutional_bn_bias, %018_convolutional_bn_mean, %018_convolutional_bn_var)\r\n  %018_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%018_convolutional_bn)\r\n  %019_shortcut = Add(%018_convolutional_lrelu, %016_shortcut)\r\n  %020_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%019_shortcut, %020_convolutional_conv_weights)\r\n  %020_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%020_convolutional, %020_convolutional_bn_scale, %020_convolutional_bn_bias, %020_convolutional_bn_mean, %020_convolutional_bn_var)\r\n  %020_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%020_convolutional_bn)\r\n  %021_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%020_convolutional_lrelu, %021_convolutional_conv_weights)\r\n  %021_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%021_convolutional, %021_convolutional_bn_scale, %021_convolutional_bn_bias, %021_convolutional_bn_mean, %021_convolutional_bn_var)\r\n  %021_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%021_convolutional_bn)\r\n  %022_shortcut = Add(%021_convolutional_lrelu, %019_shortcut)\r\n  %023_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%022_shortcut, %023_convolutional_conv_weights)\r\n  %023_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%023_convolutional, %023_convolutional_bn_scale, %023_convolutional_bn_bias, %023_convolutional_bn_mean, %023_convolutional_bn_var)\r\n  %023_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%023_convolutional_bn)\r\n  %024_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%023_convolutional_lrelu, %024_convolutional_conv_weights)\r\n  %024_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%024_convolutional, %024_convolutional_bn_scale, %024_convolutional_bn_bias, %024_convolutional_bn_mean, %024_convolutional_bn_var)\r\n  %024_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%024_convolutional_bn)\r\n  %025_shortcut = Add(%024_convolutional_lrelu, %022_shortcut)\r\n  %026_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%025_shortcut, %026_convolutional_conv_weights)\r\n  %026_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%026_convolutional, %026_convolutional_bn_scale, %026_convolutional_bn_bias, %026_convolutional_bn_mean, %026_convolutional_bn_var)\r\n  %026_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%026_convolutional_bn)\r\n  %027_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%026_convolutional_lrelu, %027_convolutional_conv_weights)\r\n  %027_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%027_convolutional, %027_convolutional_bn_scale, %027_convolutional_bn_bias, %027_convolutional_bn_mean, %027_convolutional_bn_var)\r\n  %027_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%027_convolutional_bn)\r\n  %028_shortcut = Add(%027_convolutional_lrelu, %025_shortcut)\r\n  %029_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%028_shortcut, %029_convolutional_conv_weights)\r\n  %029_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%029_convolutional, %029_convolutional_bn_scale, %029_convolutional_bn_bias, %029_convolutional_bn_mean, %029_convolutional_bn_var)\r\n  %029_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%029_convolutional_bn)\r\n  %030_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%029_convolutional_lrelu, %030_convolutional_conv_weights)\r\n  %030_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%030_convolutional, %030_convolutional_bn_scale, %030_convolutional_bn_bias, %030_convolutional_bn_mean, %030_convolutional_bn_var)\r\n  %030_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%030_convolutional_bn)\r\n  %031_shortcut = Add(%030_convolutional_lrelu, %028_shortcut)\r\n  %032_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%031_shortcut, %032_convolutional_conv_weights)\r\n  %032_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%032_convolutional, %032_convolutional_bn_scale, %032_convolutional_bn_bias, %032_convolutional_bn_mean, %032_convolutional_bn_var)\r\n  %032_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%032_convolutional_bn)\r\n  %033_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%032_convolutional_lrelu, %033_convolutional_conv_weights)\r\n  %033_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%033_convolutional, %033_convolutional_bn_scale, %033_convolutional_bn_bias, %033_convolutional_bn_mean, %033_convolutional_bn_var)\r\n  %033_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%033_convolutional_bn)\r\n  %034_shortcut = Add(%033_convolutional_lrelu, %031_shortcut)\r\n  %035_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%034_shortcut, %035_convolutional_conv_weights)\r\n  %035_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%035_convolutional, %035_convolutional_bn_scale, %035_convolutional_bn_bias, %035_convolutional_bn_mean, %035_convolutional_bn_var)\r\n  %035_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%035_convolutional_bn)\r\n  %036_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%035_convolutional_lrelu, %036_convolutional_conv_weights)\r\n  %036_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%036_convolutional, %036_convolutional_bn_scale, %036_convolutional_bn_bias, %036_convolutional_bn_mean, %036_convolutional_bn_var)\r\n  %036_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%036_convolutional_bn)\r\n  %037_shortcut = Add(%036_convolutional_lrelu, %034_shortcut)\r\n  %038_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [2, 2]](%037_shortcut, %038_convolutional_conv_weights)\r\n  %038_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%038_convolutional, %038_convolutional_bn_scale, %038_convolutional_bn_bias, %038_convolutional_bn_mean, %038_convolutional_bn_var)\r\n  %038_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%038_convolutional_bn)\r\n  %039_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%038_convolutional_lrelu, %039_convolutional_conv_weights)\r\n  %039_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%039_convolutional, %039_convolutional_bn_scale, %039_convolutional_bn_bias, %039_convolutional_bn_mean, %039_convolutional_bn_var)\r\n  %039_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%039_convolutional_bn)\r\n  %040_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%039_convolutional_lrelu, %040_convolutional_conv_weights)\r\n  %040_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%040_convolutional, %040_convolutional_bn_scale, %040_convolutional_bn_bias, %040_convolutional_bn_mean, %040_convolutional_bn_var)\r\n  %040_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%040_convolutional_bn)\r\n  %041_shortcut = Add(%040_convolutional_lrelu, %038_convolutional_lrelu)\r\n  %042_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%041_shortcut, %042_convolutional_conv_weights)\r\n  %042_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%042_convolutional, %042_convolutional_bn_scale, %042_convolutional_bn_bias, %042_convolutional_bn_mean, %042_convolutional_bn_var)\r\n  %042_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%042_convolutional_bn)\r\n  %043_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%042_convolutional_lrelu, %043_convolutional_conv_weights)\r\n  %043_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%043_convolutional, %043_convolutional_bn_scale, %043_convolutional_bn_bias, %043_convolutional_bn_mean, %043_convolutional_bn_var)\r\n  %043_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%043_convolutional_bn)\r\n  %044_shortcut = Add(%043_convolutional_lrelu, %041_shortcut)\r\n  %045_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%044_shortcut, %045_convolutional_conv_weights)\r\n  %045_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%045_convolutional, %045_convolutional_bn_scale, %045_convolutional_bn_bias, %045_convolutional_bn_mean, %045_convolutional_bn_var)\r\n  %045_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%045_convolutional_bn)\r\n  %046_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%045_convolutional_lrelu, %046_convolutional_conv_weights)\r\n  %046_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%046_convolutional, %046_convolutional_bn_scale, %046_convolutional_bn_bias, %046_convolutional_bn_mean, %046_convolutional_bn_var)\r\n  %046_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%046_convolutional_bn)\r\n  %047_shortcut = Add(%046_convolutional_lrelu, %044_shortcut)\r\n  %048_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%047_shortcut, %048_convolutional_conv_weights)\r\n  %048_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%048_convolutional, %048_convolutional_bn_scale, %048_convolutional_bn_bias, %048_convolutional_bn_mean, %048_convolutional_bn_var)\r\n  %048_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%048_convolutional_bn)\r\n  %049_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%048_convolutional_lrelu, %049_convolutional_conv_weights)\r\n  %049_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%049_convolutional, %049_convolutional_bn_scale, %049_convolutional_bn_bias, %049_convolutional_bn_mean, %049_convolutional_bn_var)\r\n  %049_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%049_convolutional_bn)\r\n  %050_shortcut = Add(%049_convolutional_lrelu, %047_shortcut)\r\n  %051_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%050_shortcut, %051_convolutional_conv_weights)\r\n  %051_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%051_convolutional, %051_convolutional_bn_scale, %051_convolutional_bn_bias, %051_convolutional_bn_mean, %051_convolutional_bn_var)\r\n  %051_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%051_convolutional_bn)\r\n  %052_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%051_convolutional_lrelu, %052_convolutional_conv_weights)\r\n  %052_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%052_convolutional, %052_convolutional_bn_scale, %052_convolutional_bn_bias, %052_convolutional_bn_mean, %052_convolutional_bn_var)\r\n  %052_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%052_convolutional_bn)\r\n  %053_shortcut = Add(%052_convolutional_lrelu, %050_shortcut)\r\n  %054_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%053_shortcut, %054_convolutional_conv_weights)\r\n  %054_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%054_convolutional, %054_convolutional_bn_scale, %054_convolutional_bn_bias, %054_convolutional_bn_mean, %054_convolutional_bn_var)\r\n  %054_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%054_convolutional_bn)\r\n  %055_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%054_convolutional_lrelu, %055_convolutional_conv_weights)\r\n  %055_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%055_convolutional, %055_convolutional_bn_scale, %055_convolutional_bn_bias, %055_convolutional_bn_mean, %055_convolutional_bn_var)\r\n  %055_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%055_convolutional_bn)\r\n  %056_shortcut = Add(%055_convolutional_lrelu, %053_shortcut)\r\n  %057_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%056_shortcut, %057_convolutional_conv_weights)\r\n  %057_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%057_convolutional, %057_convolutional_bn_scale, %057_convolutional_bn_bias, %057_convolutional_bn_mean, %057_convolutional_bn_var)\r\n  %057_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%057_convolutional_bn)\r\n  %058_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%057_convolutional_lrelu, %058_convolutional_conv_weights)\r\n  %058_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%058_convolutional, %058_convolutional_bn_scale, %058_convolutional_bn_bias, %058_convolutional_bn_mean, %058_convolutional_bn_var)\r\n  %058_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%058_convolutional_bn)\r\n  %059_shortcut = Add(%058_convolutional_lrelu, %056_shortcut)\r\n  %060_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%059_shortcut, %060_convolutional_conv_weights)\r\n  %060_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%060_convolutional, %060_convolutional_bn_scale, %060_convolutional_bn_bias, %060_convolutional_bn_mean, %060_convolutional_bn_var)\r\n  %060_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%060_convolutional_bn)\r\n  %061_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%060_convolutional_lrelu, %061_convolutional_conv_weights)\r\n  %061_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%061_convolutional, %061_convolutional_bn_scale, %061_convolutional_bn_bias, %061_convolutional_bn_mean, %061_convolutional_bn_var)\r\n  %061_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%061_convolutional_bn)\r\n  %062_shortcut = Add(%061_convolutional_lrelu, %059_shortcut)\r\n  %063_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [2, 2]](%062_shortcut, %063_convolutional_conv_weights)\r\n  %063_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%063_convolutional, %063_convolutional_bn_scale, %063_convolutional_bn_bias, %063_convolutional_bn_mean, %063_convolutional_bn_var)\r\n  %063_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%063_convolutional_bn)\r\n  %064_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%063_convolutional_lrelu, %064_convolutional_conv_weights)\r\n  %064_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%064_convolutional, %064_convolutional_bn_scale, %064_convolutional_bn_bias, %064_convolutional_bn_mean, %064_convolutional_bn_var)\r\n  %064_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%064_convolutional_bn)\r\n  %065_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%064_convolutional_lrelu, %065_convolutional_conv_weights)\r\n  %065_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%065_convolutional, %065_convolutional_bn_scale, %065_convolutional_bn_bias, %065_convolutional_bn_mean, %065_convolutional_bn_var)\r\n  %065_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%065_convolutional_bn)\r\n  %066_shortcut = Add(%065_convolutional_lrelu, %063_convolutional_lrelu)\r\n  %067_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%066_shortcut, %067_convolutional_conv_weights)\r\n  %067_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%067_convolutional, %067_convolutional_bn_scale, %067_convolutional_bn_bias, %067_convolutional_bn_mean, %067_convolutional_bn_var)\r\n  %067_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%067_convolutional_bn)\r\n  %068_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%067_convolutional_lrelu, %068_convolutional_conv_weights)\r\n  %068_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%068_convolutional, %068_convolutional_bn_scale, %068_convolutional_bn_bias, %068_convolutional_bn_mean, %068_convolutional_bn_var)\r\n  %068_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%068_convolutional_bn)\r\n  %069_shortcut = Add(%068_convolutional_lrelu, %066_shortcut)\r\n  %070_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%069_shortcut, %070_convolutional_conv_weights)\r\n  %070_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%070_convolutional, %070_convolutional_bn_scale, %070_convolutional_bn_bias, %070_convolutional_bn_mean, %070_convolutional_bn_var)\r\n  %070_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%070_convolutional_bn)\r\n  %071_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%070_convolutional_lrelu, %071_convolutional_conv_weights)\r\n  %071_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%071_convolutional, %071_convolutional_bn_scale, %071_convolutional_bn_bias, %071_convolutional_bn_mean, %071_convolutional_bn_var)\r\n  %071_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%071_convolutional_bn)\r\n  %072_shortcut = Add(%071_convolutional_lrelu, %069_shortcut)\r\n  %073_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%072_shortcut, %073_convolutional_conv_weights)\r\n  %073_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%073_convolutional, %073_convolutional_bn_scale, %073_convolutional_bn_bias, %073_convolutional_bn_mean, %073_convolutional_bn_var)\r\n  %073_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%073_convolutional_bn)\r\n  %074_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%073_convolutional_lrelu, %074_convolutional_conv_weights)\r\n  %074_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%074_convolutional, %074_convolutional_bn_scale, %074_convolutional_bn_bias, %074_convolutional_bn_mean, %074_convolutional_bn_var)\r\n  %074_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%074_convolutional_bn)\r\n  %075_shortcut = Add(%074_convolutional_lrelu, %072_shortcut)\r\n  %076_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%075_shortcut, %076_convolutional_conv_weights)\r\n  %076_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%076_convolutional, %076_convolutional_bn_scale, %076_convolutional_bn_bias, %076_convolutional_bn_mean, %076_convolutional_bn_var)\r\n  %076_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%076_convolutional_bn)\r\n  %077_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%076_convolutional_lrelu, %077_convolutional_conv_weights)\r\n  %077_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%077_convolutional, %077_convolutional_bn_scale, %077_convolutional_bn_bias, %077_convolutional_bn_mean, %077_convolutional_bn_var)\r\n  %077_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%077_convolutional_bn)\r\n  %078_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%077_convolutional_lrelu, %078_convolutional_conv_weights)\r\n  %078_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%078_convolutional, %078_convolutional_bn_scale, %078_convolutional_bn_bias, %078_convolutional_bn_mean, %078_convolutional_bn_var)\r\n  %078_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%078_convolutional_bn)\r\n  %079_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%078_convolutional_lrelu, %079_convolutional_conv_weights)\r\n  %079_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%079_convolutional, %079_convolutional_bn_scale, %079_convolutional_bn_bias, %079_convolutional_bn_mean, %079_convolutional_bn_var)\r\n  %079_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%079_convolutional_bn)\r\n  %080_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%079_convolutional_lrelu, %080_convolutional_conv_weights)\r\n  %080_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%080_convolutional, %080_convolutional_bn_scale, %080_convolutional_bn_bias, %080_convolutional_bn_mean, %080_convolutional_bn_var)\r\n  %080_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%080_convolutional_bn)\r\n  %081_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%080_convolutional_lrelu, %081_convolutional_conv_weights)\r\n  %081_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%081_convolutional, %081_convolutional_bn_scale, %081_convolutional_bn_bias, %081_convolutional_bn_mean, %081_convolutional_bn_var)\r\n  %081_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%081_convolutional_bn)\r\n  %082_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%081_convolutional_lrelu, %082_convolutional_conv_weights, %082_convolutional_conv_bias)\r\n  %085_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%080_convolutional_lrelu, %085_convolutional_conv_weights)\r\n  %085_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%085_convolutional, %085_convolutional_bn_scale, %085_convolutional_bn_bias, %085_convolutional_bn_mean, %085_convolutional_bn_var)\r\n  %085_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%085_convolutional_bn)\r\n  %086_upsample = Upsample[mode = u'nearest', scales = [1, 1, 2, 2]](%085_convolutional_lrelu)\r\n  %087_route = Concat[axis = 1](%086_upsample, %062_shortcut)\r\n  %088_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%087_route, %088_convolutional_conv_weights)\r\n  %088_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%088_convolutional, %088_convolutional_bn_scale, %088_convolutional_bn_bias, %088_convolutional_bn_mean, %088_convolutional_bn_var)\r\n  %088_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%088_convolutional_bn)\r\n  %089_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%088_convolutional_lrelu, %089_convolutional_conv_weights)\r\n  %089_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%089_convolutional, %089_convolutional_bn_scale, %089_convolutional_bn_bias, %089_convolutional_bn_mean, %089_convolutional_bn_var)\r\n  %089_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%089_convolutional_bn)\r\n  %090_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%089_convolutional_lrelu, %090_convolutional_conv_weights)\r\n  %090_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%090_convolutional, %090_convolutional_bn_scale, %090_convolutional_bn_bias, %090_convolutional_bn_mean, %090_convolutional_bn_var)\r\n  %090_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%090_convolutional_bn)\r\n  %091_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%090_convolutional_lrelu, %091_convolutional_conv_weights)\r\n  %091_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%091_convolutional, %091_convolutional_bn_scale, %091_convolutional_bn_bias, %091_convolutional_bn_mean, %091_convolutional_bn_var)\r\n  %091_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%091_convolutional_bn)\r\n  %092_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%091_convolutional_lrelu, %092_convolutional_conv_weights)\r\n  %092_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%092_convolutional, %092_convolutional_bn_scale, %092_convolutional_bn_bias, %092_convolutional_bn_mean, %092_convolutional_bn_var)\r\n  %092_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%092_convolutional_bn)\r\n  %093_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%092_convolutional_lrelu, %093_convolutional_conv_weights)\r\n  %093_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%093_convolutional, %093_convolutional_bn_scale, %093_convolutional_bn_bias, %093_convolutional_bn_mean, %093_convolutional_bn_var)\r\n  %093_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%093_convolutional_bn)\r\n  %094_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%093_convolutional_lrelu, %094_convolutional_conv_weights, %094_convolutional_conv_bias)\r\n  %097_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%092_convolutional_lrelu, %097_convolutional_conv_weights)\r\n  %097_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%097_convolutional, %097_convolutional_bn_scale, %097_convolutional_bn_bias, %097_convolutional_bn_mean, %097_convolutional_bn_var)\r\n  %097_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%097_convolutional_bn)\r\n  %098_upsample = Upsample[mode = u'nearest', scales = [1, 1, 2, 2]](%097_convolutional_lrelu)\r\n  %099_route = Concat[axis = 1](%098_upsample, %037_shortcut)\r\n  %100_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%099_route, %100_convolutional_conv_weights)\r\n  %100_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%100_convolutional, %100_convolutional_bn_scale, %100_convolutional_bn_bias, %100_convolutional_bn_mean, %100_convolutional_bn_var)\r\n  %100_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%100_convolutional_bn)\r\n  %101_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%100_convolutional_lrelu, %101_convolutional_conv_weights)\r\n  %101_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%101_convolutional, %101_convolutional_bn_scale, %101_convolutional_bn_bias, %101_convolutional_bn_mean, %101_convolutional_bn_var)\r\n  %101_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%101_convolutional_bn)\r\n  %102_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%101_convolutional_lrelu, %102_convolutional_conv_weights)\r\n  %102_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%102_convolutional, %102_convolutional_bn_scale, %102_convolutional_bn_bias, %102_convolutional_bn_mean, %102_convolutional_bn_var)\r\n  %102_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%102_convolutional_bn)\r\n  %103_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%102_convolutional_lrelu, %103_convolutional_conv_weights)\r\n  %103_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%103_convolutional, %103_convolutional_bn_scale, %103_convolutional_bn_bias, %103_convolutional_bn_mean, %103_convolutional_bn_var)\r\n  %103_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%103_convolutional_bn)\r\n  %104_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%103_convolutional_lrelu, %104_convolutional_conv_weights)\r\n  %104_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%104_convolutional, %104_convolutional_bn_scale, %104_convolutional_bn_bias, %104_convolutional_bn_mean, %104_convolutional_bn_var)\r\n  %104_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%104_convolutional_bn)\r\n  %105_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [3, 3], strides = [1, 1]](%104_convolutional_lrelu, %105_convolutional_conv_weights)\r\n  %105_convolutional_bn = BatchNormalization[epsilon = 9.99999974737875e-06, momentum = 0.990000009536743](%105_convolutional, %105_convolutional_bn_scale, %105_convolutional_bn_bias, %105_convolutional_bn_mean, %105_convolutional_bn_var)\r\n  %105_convolutional_lrelu = LeakyRelu[alpha = 0.100000001490116](%105_convolutional_bn)\r\n  %106_convolutional = Conv[auto_pad = u'SAME_LOWER', dilations = [1, 1], kernel_shape = [1, 1], strides = [1, 1]](%105_convolutional_lrelu, %106_convolutional_conv_weights, %106_convolutional_conv_bias)\r\n  return %082_convolutional, %094_convolutional, %106_convolutional\r\n}\r\n\r\nonnx2paddle环境：\r\npaddle==1.8.2\r\nonnx==1.6.0\r\nx2paddle==0.8.1\r\n\r\nonnx2paddle转换过程：\r\n(paddle) qian@qian:~/mayilong3/模型转换/darknet2onnx$ x2paddle --framework=onnx --model=yolov3_608.onnx --save_dir=yolov3_paddle\r\npaddle.__version__ = 1.8.2\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 3, op version: 7\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 7, automatically treated as op_set: 9.\r\nTotal nodes: 246\r\nNodes converting ...\r\nconvert failed node:086_upsample, op_type is Upsample\r\nTraceback (most recent call last):\r\n  File \"/home/qian/anaconda3/envs/paddle/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==0.8.1', 'console_scripts', 'x2paddle')())\r\n  File \"/home/qian/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle-0.8.1-py3.7.egg/x2paddle/convert.py\", line 268, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/home/qian/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle-0.8.1-py3.7.egg/x2paddle/convert.py\", line 185, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/home/qian/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle-0.8.1-py3.7.egg/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 42, in __init__\r\n    func(node)\r\n  File \"/home/qian/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle-0.8.1-py3.7.egg/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 55, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"/home/qian/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle-0.8.1-py3.7.egg/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 530, in Upsample\r\n    self._interpolate(node)\r\n  File \"/home/qian/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle-0.8.1-py3.7.egg/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 338, in _interpolate\r\n    val_scales = self.graph.get_input_node(node, idx=1, copy=True)\r\n  File \"/home/qian/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle-0.8.1-py3.7.egg/x2paddle/decoder/onnx_decoder.py\", line 298, in get_input_node\r\n    ipt_node = super(ONNXGraph, self).get_node(node.inputs[idx], copy)\r\nIndexError: list index out of range\r\n\r\ndarknet2onnx的源码是在网上找的，源地址为：https://blog.csdn.net/weixin_38106878/article/details/103714551\r\n\r\n",
        "state": "closed",
        "user": "MaYiLong1998",
        "closed_by": "jiangjiajun",
        "created_at": "2020-08-03T02:43:46+00:00",
        "updated_at": "2020-08-21T02:52:26+00:00",
        "closed_at": "2020-08-21T02:52:26+00:00",
        "comments_count": [
            "Channingss",
            "MaYiLong1998",
            "Channingss",
            "MaYiLong1998",
            "Channingss",
            "MaYiLong1998"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 335,
        "title": "paddle not support op",
        "body": "ONNX模型是我用pytorch训练的文字检测模型转换的，之前也有转到ncnn框架中，可以确保ONNX模型是没有问题的，用x2paddle转换后出现如下输出：\r\n![image](https://user-images.githubusercontent.com/20619835/89142436-fff18980-d579-11ea-979c-feb3bb4901b7.png)\r\n在后期要继续转换成paddlelite模型时报错，\r\n![image](https://user-images.githubusercontent.com/20619835/89142488-27485680-d57a-11ea-8370-6346d3df6e2d.png)\r\n麻烦大佬们帮忙看一下，谢谢\r\n\r\n",
        "state": "open",
        "user": "superdu12138",
        "closed_by": null,
        "created_at": "2020-08-03T03:18:13+00:00",
        "updated_at": "2020-08-21T07:30:36+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "superdu12138",
            "jiangjiajun",
            "Channingss",
            "superdu12138",
            "zhupengyang",
            "zhupengyang"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 348,
        "title": "matrix_nms not supported",
        "body": "1.想使用x2paddle转换一下，ppyolo试一下，说不支持matrix_nms\r\nx2paddle --framework=paddle2onnx --model=output/ppyolo_tiny/ --save_dir=output/ppyolo_tiny\r\n\r\npaddle.__version__ = 0.0.0\r\n[WARNING] You are use develop version of paddlepaddle\r\nTranslating PaddlePaddle to ONNX...\r\n\r\nTotal:109, Current:109 : fetch\r\nThere's 1 ops are not supported yet\r\n=========== matrix_nms ===========\r\n2.对于以上类似的不支持的层，我有没有办法去除这个层，然后让转换通过，我自己去实现不支持的层",
        "state": "closed",
        "user": "Tim4AI",
        "closed_by": "Tim4AI",
        "created_at": "2020-08-05T06:53:22+00:00",
        "updated_at": "2020-08-05T07:51:29+00:00",
        "closed_at": "2020-08-05T07:51:29+00:00",
        "comments_count": [
            "Channingss",
            "Tim4AI",
            "Channingss",
            "Tim4AI"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 338,
        "title": "paddle2onnx 图像分类问题，abs, tanh, instance_norm 不支持的op",
        "body": "https://github.com/VIS-VAR/LGSC-for-FAS\r\n\r\nThere's 3 ops are not supported yet\r\n=========== tanh ===========\r\n=========== abs ===========\r\n=========== instance_norm ===========\r\n",
        "state": "open",
        "user": "XiuweiHe",
        "closed_by": null,
        "created_at": "2020-08-03T07:28:41+00:00",
        "updated_at": "2020-08-24T02:34:01+00:00",
        "closed_at": null,
        "comments_count": [
            "Channingss",
            "Channingss",
            "XiuweiHe",
            "Channingss"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 350,
        "title": "onnx转paddle tensor类型转换错误",
        "body": "x2paddle版本是  0.8.1\r\npaddle 版本是 1.7.2\r\n在文本关系抽取中，将pytorch转化的onnx转为paddle的时候报错，如图所示：\r\n![image](https://user-images.githubusercontent.com/11830865/89491770-91633480-d7e2-11ea-864e-703494fa115c.png)\r\n跟进代码查看发现是dict tensor_type_to_np_type的问题，这个dict的key中没有0出现，但是数据类型转化的时候是0",
        "state": "closed",
        "user": "DeeepSeeek",
        "closed_by": "DeeepSeeek",
        "created_at": "2020-08-06T04:45:55+00:00",
        "updated_at": "2020-08-12T02:06:21+00:00",
        "closed_at": "2020-08-12T02:06:21+00:00",
        "comments_count": [
            "jiangjiajun",
            "DeeepSeeek",
            "jiangjiajun",
            "DeeepSeeek"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 356,
        "title": "SparseToDense is not support which is an important operation when lookup word embedding ",
        "body": "========= 1 OPs are not supported yet ===========\r\n========== SparseToDense ============",
        "state": "open",
        "user": "lushizijizoude",
        "closed_by": null,
        "created_at": "2020-08-08T09:33:28+00:00",
        "updated_at": "2020-08-21T09:53:04+00:00",
        "closed_at": null,
        "comments_count": [
            "lushizijizoude",
            "mamingjie-China"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 360,
        "title": "paddleocr模型转onnx出错",
        "body": "paddleocr转onnx出错，报错信息如下:\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: tensor version 1904018048 is not supported, Only version 0 is supported\r\n  [Hint: Expected version == 0U, but received version:1904018048 != 0U:0.] at (/paddle/paddle/fluid/framework/lod_tensor.cc:287)\r\n  [operator < load_combine > error]\r\n\r\n",
        "state": "closed",
        "user": "yangfei963158659",
        "closed_by": "jiangjiajun",
        "created_at": "2020-08-11T05:54:52+00:00",
        "updated_at": "2020-11-11T12:11:50+00:00",
        "closed_at": "2020-08-21T02:56:01+00:00",
        "comments_count": [
            "Channingss",
            "iamxinxin"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 361,
        "title": "Total nodes: 0 ;ValueError: 'target_vars' should be a list of Variable.",
        "body": "自己训练的模型，图像分割，deeplabv3；\r\n以下是转换信息：\r\npaddle.__version__ = 1.8.3\r\nNow translating model from tensorflow to paddle.\r\nTotal nodes: 0\r\n\r\nDone!\r\nd:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\paddle\\fluid\\executor.py:1093: UserWarning: There are no operators in the program to be executed. If you pass Program manually, please use fluid.program_guard to ensure the current Program is being used.\r\n  warnings.warn(error_info)\r\nTraceback (most recent call last):\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\x2paddle\\core\\op_mapper.py\", line 193, in save_inference_model\r\n    params_filename=None)\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\paddle\\fluid\\io.py\", line 1177, in save_inference_model\r\n    raise ValueError(\"'target_vars' should be a list of Variable.\")\r\nValueError: 'target_vars' should be a list of Variable.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\Anaconda\\envs\\py35-pp\\Scripts\\x2paddle.exe\\__main__.py\", line 9, in <module>\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\x2paddle\\convert.py\", line 253, in main\r\n    define_input_shape, params_merge)\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\x2paddle\\convert.py\", line 145, in tf2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\x2paddle\\core\\op_mapper.py\", line 197, in save_inference_model\r\n    .format(py_code_dir))\r\nException: Paddle code was saved in ./pd_model\\model_with_code/model.py, but seems there's wrong exist, please check model.py manually.\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "iceriver97",
        "closed_by": "iceriver97",
        "created_at": "2020-08-11T06:55:33+00:00",
        "updated_at": "2020-09-07T00:31:42+00:00",
        "closed_at": "2020-09-07T00:31:42+00:00",
        "comments_count": [
            "mamingjie-China",
            "iceriver97",
            "iceriver97",
            "mamingjie-China",
            "iceriver97",
            "iceriver97",
            "mamingjie-China",
            "iceriver97",
            "iceriver97",
            "jiangjiajun",
            "iceriver97",
            "jiangjiajun",
            "iceriver97"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 365,
        "title": "不支持tensorflow BatchToSpaceND，SpaceToBatchND",
        "body": "你好，在tensorflow转 paddle模型的时候，这两个op不支持，应该是用在dilated conv里面的,请问有什么办法吗",
        "state": "open",
        "user": "phoenares",
        "closed_by": null,
        "created_at": "2020-08-11T09:56:29+00:00",
        "updated_at": "2020-08-21T07:29:46+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "phoenares"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 378,
        "title": "ONNX模型转换至PaddlePaddle，op不支持onehot和LSTM",
        "body": "您好，请问现在X2Paddle是暂时不支持onehot和LSTM操作吗？\r\n例如torch中的gather用到了onehot操作\r\n```\r\nclass test(torch.nn.Module):\r\n    def forward(self, batch_input, batch_slice):\r\n        '''batch_input:(batch_size, time_step, hidden_dim)\r\n        batch_slice:(batch_size, 2)\r\n        '''\r\n        shape_input = batch_input.size()\r\n        batch_slice = batch_slice.long().unsqueeze(2).expand(-1, -1, shape_input[2])\r\n\r\n        tensor_slice = torch.gather(batch_input, 1, batch_slice)\r\n\r\n        return tensor_slice\r\n```",
        "state": "closed",
        "user": "Lggggggx",
        "closed_by": "Lggggggx",
        "created_at": "2020-08-19T04:20:43+00:00",
        "updated_at": "2020-08-19T09:32:11+00:00",
        "closed_at": "2020-08-19T09:32:11+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 366,
        "title": "paddleocr中paddle_rec文字识别模型的转换",
        "body": "  \r\npaddleocr模型只有paddle_det检测模型能转成onnx，paddle_rec没法转换，搭配使用不了，不知道有没有支持计划。\r\n",
        "state": "closed",
        "user": "onmywei",
        "closed_by": "jiangjiajun",
        "created_at": "2020-08-11T10:59:38+00:00",
        "updated_at": "2020-08-21T02:56:51+00:00",
        "closed_at": "2020-08-21T02:56:51+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 379,
        "title": "batch大小不固定",
        "body": "文本分类；\r\n我的 输入纬度是2纬的，但是大小不固定（batch_size,seq_len）\r\n这里的 seq_len 是不定长度的\r\n\r\npytorch 转成onnx的时候是可以的\r\n\r\n但是 利用 X2paddle 转换的时候报错\r\n\r\nmodel ir_version: 6, op version: 11\r\nUnknown shape for input tensor[tensor name: 'x2paddle_inputs'] -> shape: [64, 'seqLen'], Please define shape of input here,\r\nNote:you can use visualization tools like Netron to check input shape.\r\nShape of Input(e.g. -1,3,224,224), enter 'N' to skip: 64,-1\r\nUnknown shape for input tensor[tensor name: 'x2paddle_input_types'] -> shape: [64, 'seqLen'], Please define shape of input here,\r\nNote:you can use visualization tools like Netron to check input shape.\r\nShape of Input(e.g. -1,3,224,224), enter 'N' to skip: 64,-1\r\n\r\n我这里填充的 是 64,-1\r\n\r\n因为 batch是固定的，-1表示  seq_len 不固定\r\n\r\n最后报错\r\n\r\n  File \"/home/lwh/anaconda3/envs/xujian1/lib/python3.6/site-packages/x2paddle-0.8.1-py3.6.egg/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 1145, in MatMul\r\n    if y_shape[0] == 1 and x_shape[-1] != 1 and x_shape[0] != 1:\r\nIndexError: list index out of range",
        "state": "closed",
        "user": "DeeepSeeek",
        "closed_by": "jiangjiajun",
        "created_at": "2020-08-19T07:15:04+00:00",
        "updated_at": "2020-08-21T02:58:50+00:00",
        "closed_at": "2020-08-21T02:58:50+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 374,
        "title": "转换后的模型不能正常使用",
        "body": "ONNX模型转换至PaddlePaddle，请说明ONNX模型的来源，模型类型（例如图像分类、目标检测等）  \r\n属于道路提取的模型；\r\n如有原模型文件或github链接，如方便可一并附上，方便开发人员分析。\r\n转换后的模型预测结果为全黑；转换之前是可以正常使用的；\r\n这里是权重文件：\r\n链接：https://pan.baidu.com/s/1f5w0Av27603KyjJ7g7ga5A\r\n提取码：f4nv\r\n这里是模型文件：\r\n链接：https://pan.baidu.com/s/1afHPHTAn5l5o_rj7PhS6zw\r\n提取码：f52u\r\n测试图片：\r\n![6390_sat](https://user-images.githubusercontent.com/24710426/90239624-6b7d0600-de5a-11ea-9890-350cd3a9180d.jpg)\r\n",
        "state": "closed",
        "user": "iceriver97",
        "closed_by": "iceriver97",
        "created_at": "2020-08-14T10:17:45+00:00",
        "updated_at": "2020-08-31T01:33:17+00:00",
        "closed_at": "2020-08-31T01:33:17+00:00",
        "comments_count": [
            "jiangjiajun",
            "iceriver97",
            "jiangjiajun",
            "iceriver97",
            "iceriver97",
            "jiangjiajun"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 375,
        "title": "转eco的onnx报错",
        "body": "ONNX模型： ECO 视频分类\r\n报错信息：\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/sklearn/externals/joblib/externals/cloudpickle/cloudpickle.py:47: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\npaddle.__version__ = 1.8.0\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 9\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 9, automatically treated as op_set: 9.\r\nTotal nodes: 138\r\nNodes converting ...\r\nconvert failed node:355, op_type is Pad\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/bin/x2paddle\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/convert.py\", line 269, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/convert.py\", line 185, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 42, in __init__\r\n    func(node)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 73, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 437, in Pad\r\n    attr['paddings'] = paddings\r\nUnboundLocalError: local variable 'paddings' referenced before assignment",
        "state": "closed",
        "user": "thunder95",
        "closed_by": "thunder95",
        "created_at": "2020-08-14T16:25:19+00:00",
        "updated_at": "2020-08-18T04:14:41+00:00",
        "closed_at": "2020-08-18T04:14:41+00:00",
        "comments_count": [
            "jiangjiajun",
            "Channingss",
            "thunder95",
            "thunder95"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 372,
        "title": "Caffe proto Upsample层没有更新，导致Upsample不能直接转",
        "body": "Caffe proto Upsample层没有更新，导致Upsample不能直接转\r\n能不能把调试upsample的层的caffe.proto文件里加上upsample这一层，方便大家使用，省得重新生成caffe_pb2.py文件了\r\n",
        "state": "closed",
        "user": "AlphaLFC",
        "closed_by": "AlphaLFC",
        "created_at": "2020-08-14T08:58:40+00:00",
        "updated_at": "2020-08-18T01:58:34+00:00",
        "closed_at": "2020-08-18T01:58:34+00:00",
        "comments_count": [
            "SunAhong1993",
            "AlphaLFC"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 368,
        "title": "pytorch -> onnx ->paddle 在AIStudio中无法运行报错 Error: op conv2d does not have kernel for data_type",
        "body": "我想知道是哪一步出了问题，万分感谢你们能帮助我！\r\n导出模型：\r\n```\r\n# solver为自己的模型，log01_dink34.th 为之前训练的文件；\r\nsolver = TTAFrame(DinkNet34)\r\nsolver.load('weights/log01_dink34.th')\r\n```\r\n**# 我不太确定这里dummy_input 是否设置正确：训练的图片为1024*1024的彩色图**\r\n```\r\ndummy_input = torch.randn(1, 3, 1024, 1024)\r\ntorch.onnx.export(solver, dummy_input, \"deepG.onnx\", verbose=True)\r\n```\r\n这里是权重文件：\r\n链接：https://pan.baidu.com/s/1f5w0Av27603KyjJ7g7ga5A \r\n提取码：f4nv \r\n这里是模型文件：\r\n链接：https://pan.baidu.com/s/1afHPHTAn5l5o_rj7PhS6zw \r\n提取码：f52u\r\n\r\nAIStudio中的代码为：\r\n```\r\ninfer_save_path = \"/home/aistudio/work/DeepG_model/pd_model\"\r\n# place = fluid.CUDAPlace(0)\r\nplace = fluid.CPUPlace()\r\nexe = fluid.Executor(place)\r\n[inference_program, feed_target_names, fetch_targets] = fluid.io.load_inference_model(dirname=infer_save_path, executor=exe, model_filename=None, params_filename='__params__')\r\n\r\n\r\nimg = cv2.imread(\"/home/aistudio/dataset/test/666005_sat.jpg\")\r\norigin = img\r\nimg = np.array(img)\r\noutput = exe.run(inference_program,\r\n                 feed={feed_target_names[0]: img},\r\n                 fetch_list=fetch_targets)\r\noutput = output[0][0]\r\noutput = output.transpose(1, 2, 0)\r\n\r\ncv2.imwrite('origin.jpg', origin)\r\ncv2.imwrite('result.jpg', output)\r\nprint(\"运行结束，origin为预测图片，result为分割后的图片\")\r\n```\r\n运行信息如下：\r\nTraceback (most recent call last):\r\n  File \"infer.py\", line 17, in <module>\r\n    fetch_list=fetch_targets)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py\", line 1071, in run\r\n    six.reraise(*sys.exc_info())\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/six.py\", line 703, in reraise\r\n    raise value\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py\", line 1066, in run\r\n    return_merged=return_merged)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py\", line 1154, in _run_impl\r\n    use_program_cache=use_program_cache)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/executor.py\", line 1229, in _run_program\r\n    fetch_var_name)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<std::string>(std::string&&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(paddle::platform::ErrorSummary const&, char const*, int)\r\n2   paddle::framework::OperatorWithKernel::ChooseKernel(paddle::framework::RuntimeContext const&, paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n3   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&, paddle::framework::RuntimeContext*) const\r\n4   paddle::framework::OperatorWithKernel::RunImpl(paddle::framework::Scope const&, paddle::platform::Place const&) const\r\n5   paddle::framework::OperatorBase::Run(paddle::framework::Scope const&, paddle::platform::Place const&)\r\n6   paddle::framework::Executor::RunPartialPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, long, long, bool, bool, bool)\r\n7   paddle::framework::Executor::RunPreparedContext(paddle::framework::ExecutorPrepareContext*, paddle::framework::Scope*, bool, bool, bool)\r\n8   paddle::framework::Executor::Run(paddle::framework::ProgramDesc const&, paddle::framework::Scope*, int, bool, bool, std::vector<std::string, std::allocator<std::string> > const&, bool, bool)\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\paddle\\fluid\\layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\paddle\\fluid\\layers\\nn.py\", line 2938, in conv2d\r\n    \"data_format\": data_format,\r\n  File \"pd_model\\model_with_code\\model.py\", line 273, in x2paddle_net\r\n    x2paddle_629 = fluid.layers.conv2d(x2paddle_0, num_filters=64, padding=[3, 3], dilation=[1, 1], bias_attr=False, param_attr='x2paddle_firstconv_weight', name='x2paddle_629', groups=1, filter_size=[7, 7], stride=[2, 2])\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\x2paddle\\core\\op_mapper.py\", line 142, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\x2paddle\\convert.py\", line 191, in onnx2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\site-packages\\x2paddle\\convert.py\", line 268, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"D:\\Anaconda\\envs\\py35-pp\\Scripts\\x2paddle.exe\\__main__.py\", line 9, in <module>\r\n    sys.exit(main())\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"d:\\anaconda\\envs\\py35-pp\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: op conv2d does not have kernel for data_type[uint8_t]:data_layout[ANY_LAYOUT]:place[CPUPlace]:library_type[PLAIN] at (/paddle/paddle/fluid/framework/operator.cc:1081)\r\n  [operator < conv2d > error]",
        "state": "closed",
        "user": "iceriver97",
        "closed_by": "iceriver97",
        "created_at": "2020-08-11T13:27:46+00:00",
        "updated_at": "2020-09-07T00:33:04+00:00",
        "closed_at": "2020-09-07T00:33:04+00:00",
        "comments_count": [
            "Channingss",
            "iceriver97",
            "Channingss",
            "iceriver97",
            "Channingss",
            "iceriver97",
            "Channingss",
            "iceriver97",
            "Channingss",
            "iceriver97",
            "iceriver97",
            "Channingss",
            "iceriver97",
            "Channingss",
            "iceriver97",
            "Channingss",
            "iceriver97",
            "iceriver97",
            "Channingss",
            "iceriver97",
            "iceriver97",
            "jiangjiajun",
            "jiangjiajun",
            "iceriver97",
            "jiangjiajun",
            "iceriver97",
            "jiangjiajun",
            "iceriver97",
            "jiangjiajun",
            "iceriver97",
            "iceriver97",
            "jiangjiajun",
            "jiangjiajun",
            "iceriver97",
            "iceriver97",
            "jiangjiajun",
            "iceriver97",
            "iceriver97",
            "jiangjiajun",
            "iceriver97",
            "iceriver97",
            "jiangjiajun",
            "iceriver97",
            "jiangjiajun"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 381,
        "title": "ultralytics的pytorch版本的yolov5项目的yolov5s.pt--onnx--paddle，在onnx2paddle时出现Inferred shape and existing shape differ in dimension 2: (416) vs (208)的错误",
        "body": "我的模型源文件是yolov5s.pt，使用的是github上的pytorch版本的yolov5的项目，链接附上：https://github.com/ultralytics/yolov5\r\n\r\n我在进行pytorch转onnx的时候，是没有问题的，onnx使用的1.6.0，opset版本是11，最终成功生成onnx。使用的转换程序，是该项目提供的export.py，在models文件夹下。\r\n\r\n但是在我使用x2paddle转换onnx 的时候，出现了错误，我的paddle版本是1.8，采用github上推荐的第一种方式安装的x2paddle。报错如下：初步看，好像是和shape相关的错误，我设置的模型输入是1*3*416*416，但是我不明白错误中提到的208是什么意思。而且当我在将pytorch转换成onnx的时候，如果将输入尺寸设置成1*3*640*640，那么错误中就会出现320，都刚好是416或者640的1/2。\r\n\r\n希望各位帮我看一下这个应该怎么解决，谢谢啦！！！！！\r\n\r\nE:\\Python37\\Scripts>x2paddle --framework=onnx --model=C:\\Users\\Alex\\Desktop\\ultralytics_yolov5_pytorch\\models\\yolov5s.onnx --save_dir=C:\\Users\\Alex\\Desktop\\ultralytics_yolov5_pytorch\\models\\ --onnx_opset=11\r\npaddle.__version__ = 1.8.3\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\nStopping at incomplete shape inference\r\n(op_type:Slice, name:x2paddle_171): Inferred shape and existing shape differ in dimension 2: (416) vs (208)\r\nTraceback (most recent call last):\r\n  File \"E:\\Python37\\lib\\site-packages\\x2paddle-0.8.1-py3.7.egg\\x2paddle\\decoder\\onnx_shape_inference.py\", line 1585, in infer_shapes\r\n    in_mp)\r\n  File \"E:\\Python37\\lib\\site-packages\\x2paddle-0.8.1-py3.7.egg\\x2paddle\\decoder\\onnx_shape_inference.py\", line 1418, in _infer_impl\r\n    self.dispatcher_[node.op_type](node)\r\n  File \"E:\\Python37\\lib\\site-packages\\x2paddle-0.8.1-py3.7.egg\\x2paddle\\decoder\\onnx_shape_inference.py\", line 1130, in _infer_Resize\r\n    assert len(roi) == 2 * rank\r\nAssertionError\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"E:\\Python37\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==0.8.1', 'console_scripts', 'x2paddle')())\r\n  File \"E:\\Python37\\lib\\site-packages\\x2paddle-0.8.1-py3.7.egg\\x2paddle\\convert.py\", line 269, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"E:\\Python37\\lib\\site-packages\\x2paddle-0.8.1-py3.7.egg\\x2paddle\\convert.py\", line 184, in onnx2paddle\r\n    model = ONNXDecoder(model_path)\r\n  File \"E:\\Python37\\lib\\site-packages\\x2paddle-0.8.1-py3.7.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 367, in __init__\r\n    self.graph = ONNXGraph(onnx_model)\r\n  File \"E:\\Python37\\lib\\site-packages\\x2paddle-0.8.1-py3.7.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 143, in __init__\r\n    onnx_model, fixed_input_shape=self.fixed_input_shape)\r\n  File \"E:\\Python37\\lib\\site-packages\\x2paddle-0.8.1-py3.7.egg\\x2paddle\\decoder\\onnx_shape_inference.py\", line 1595, in infer_shapes\r\n    symbolic_shape_inference.out_mp_)\r\n  File \"E:\\Python37\\lib\\site-packages\\onnx\\shape_inference.py\", line 35, in infer_shapes\r\n    inferred_model_str = C.infer_shapes(model_str)\r\nRuntimeError: Inferred shape and existing shape differ in dimension 2: (416) vs (208)",
        "state": "open",
        "user": "Alex-1997-Wzx",
        "closed_by": null,
        "created_at": "2020-08-20T02:50:37+00:00",
        "updated_at": "2020-09-17T07:49:47+00:00",
        "closed_at": null,
        "comments_count": [
            "Channingss",
            "Alex-1997-Wzx",
            "Alex-1997-Wzx",
            "Channingss",
            "Alex-1997-Wzx",
            "Channingss",
            "Channingss",
            "Alex-1997-Wzx",
            "Alex-1997-Wzx",
            "Channingss"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 382,
        "title": "黄埔学院 x2paddle",
        "body": "textCNN模型 tf2pd 转换的pd模型应该有两个文件夹 但是 我只有1个model_with_code 没有inference_model 还报错了x2paddle: error: unrecognized arguments: --framework=tensorflow --model=./resource/model.pb --save_dir=./paddle_model\r\n",
        "state": "open",
        "user": "yajiezhu",
        "closed_by": null,
        "created_at": "2020-08-20T07:56:14+00:00",
        "updated_at": "2020-08-21T07:20:51+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "yajiezhu",
            "jiangjiajun",
            "yajiezhu",
            "jiangjiajun",
            "yajiezhu",
            "jiangjiajun",
            "yajiezhu",
            "jiangjiajun",
            "yajiezhu",
            "yajiezhu",
            "jiangjiajun",
            "yajiezhu",
            "jiangjiajun",
            "yajiezhu",
            "jiangjiajun",
            "yajiezhu",
            "yajiezhu",
            "jiangjiajun",
            "yajiezhu",
            "jiangjiajun",
            "yajiezhu",
            "jiangjiajun",
            "yajiezhu"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 386,
        "title": "3 OPs are not supported yet when translating model from tensorflow to paddle",
        "body": "Notes:\r\nNow translating model from tensorflow to paddle.\r\nTotal nodes: 4129\r\nConverting node 4129 ...     ========= 3 OPs are not supported yet ===========\r\n========== NotEqual ============\r\n========== Unpack ============\r\n========== Square ============\r\n\r\nThe tf model is trained for text classification, where there is a pretrained bert layer and some CNN layers. \r\n\r\n\r\n",
        "state": "open",
        "user": "xttian",
        "closed_by": null,
        "created_at": "2020-08-23T13:30:34+00:00",
        "updated_at": "2020-08-28T06:00:08+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "xttian",
            "jiangjiajun",
            "xttian",
            "jiangjiajun",
            "xttian",
            "xttian",
            "jiangjiajun",
            "xttian"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 383,
        "title": "黄埔学院 x2paddle",
        "body": "x2paddle 支持textCNN、bi-lstm-crf模型tf2pd吗\r\n",
        "state": "closed",
        "user": "yajiezhu",
        "closed_by": "jiangjiajun",
        "created_at": "2020-08-20T07:59:06+00:00",
        "updated_at": "2020-08-21T02:52:09+00:00",
        "closed_at": "2020-08-21T02:52:09+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 388,
        "title": "OCR paddle2onnx failed. ",
        "body": "Hi, there. I'd like to transfer a PaddleOCR model to onnx, the procedure I followed is from https://github.com/PaddlePaddle/PaddleOCR/issues/213 . According to the issue, the author succeeded, but I failed during my trial. \r\n\r\n### Model: \r\nI downloaded the PaddleOCR model from: \r\nhttps://paddleocr.bj.bcebos.com/ch_models/ch_det_mv3_db_infer.tar\r\nAnd I renamed them to__model__ and__params__, according to issue 213.\r\n\r\n### Procedure: \r\n```\r\ngit clone https://github.com/PaddlePaddle/X2Paddle.git\r\ncd X2Paddle\r\npython setup.py install\r\npip install paddlepaddle\r\nx2paddle -f paddle2onnx -m ../ch_det_mv3_db -s ./output\r\n```\r\n\r\nAnd the error message is: \r\n```\r\npaddle.__version__ = 1.8.4\r\nNow, onnx2paddle support convert onnx model opset_verison [9, 10, 11],opset_verison of your onnx model is 10, automatically treated as op_set: 10.\r\nTranslating PaddlePaddle to ONNX...\r\n\r\nTotal:246, Current:1 : feed image\r\nTotal:246, Current:4 : hard_swish Traceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 9, in <module>\r\n    load_entry_point('x2paddle==0.8.1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-0.8.1-py3.5.egg/x2paddle/convert.py\", line 273, in main\r\n    paddle2onnx(args.model, args.save_dir, opset_version=args.onnx_opset)\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-0.8.1-py3.5.egg/x2paddle/convert.py\", line 205, in paddle2onnx\r\n    opset_version=opset_version)\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-0.8.1-py3.5.egg/x2paddle/op_mapper/paddle2onnx/paddle_op_mapper.py\", line 55, in convert\r\n    node = getattr(self.op_set, op.type)(op, block)\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-0.8.1-py3.5.egg/x2paddle/op_mapper/paddle2onnx/opset9/opset.py\", line 849, in hard_swish\r\n    min_value = op.attr('min')\r\n  File \"/home/xxx/.local/lib/python3.5/site-packages/paddle/fluid/framework.py\", line 2155, in attr\r\n    return self.desc.attr(name)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<char const*>(char const*&&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::__exception_ptr::exception_ptr, char const*, int)\r\n2   paddle::framework::OpDesc::GetAttr(std::string const&) const\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nError: Attribute min is not found at (/paddle/paddle/fluid/framework/op_desc.cc:507)\r\n```\r\n\r\nGreat appreciate if anyone could help me with this. Thanks~",
        "state": "closed",
        "user": "bittergourd1224",
        "closed_by": "bittergourd1224",
        "created_at": "2020-08-24T08:01:38+00:00",
        "updated_at": "2020-10-23T01:37:08+00:00",
        "closed_at": "2020-09-08T09:22:15+00:00",
        "comments_count": [
            "Channingss",
            "bittergourd1224"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 390,
        "title": "tensorflow转化为paddlepaddle时出现错误",
        "body": "\r\n![image](https://user-images.githubusercontent.com/49428064/91157545-0b0e8400-e6f8-11ea-9c13-0c64dfb6fc66.png)\r\n\r\n模型位置：https://pan.baidu.com/s/1pkm4S8lTkeV3UXeOMvzDIw\r\n\r\n提取码：c7ye",
        "state": "open",
        "user": "yuhangT",
        "closed_by": null,
        "created_at": "2020-08-25T09:33:50+00:00",
        "updated_at": "2020-08-26T03:04:09+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 389,
        "title": "将keras(包含bert)模型转化为pb模型后，使用x2paddle再次转化时为paddle失败，另外对于用户输入Input size的几点疑问",
        "body": "问题1：\r\n#出现的问题如下所示\r\n![image](https://user-images.githubusercontent.com/30521052/91156179-63dd1d00-e6f6-11ea-9d87-dc01245d1787.png)\r\n\r\n#该tensorflow模型是由keras模型转化而来，原模型中包含keras-bert预训练模型，在keras中模型各层结构如下图所示\r\n![image](https://user-images.githubusercontent.com/30521052/91155679-be29ae00-e6f5-11ea-88cb-50c059c54577.png)\r\n\r\n#keras模型转化为pb模型时中使用了以下函数\r\ndef h5_to_pb(h5_model,output_dir,model_name,out_prefix = \"output_\",log_tensorboard = False):\r\n    if osp.exists(output_dir) == False:\r\n        os.mkdir(output_dir)\r\n    out_nodes = []\r\n    for i in range(len(h5_model.outputs)):\r\n        out_nodes.append(out_prefix + str(i + 1))\r\n        tf.identity(h5_model.output[i],out_prefix + str(i + 1))\r\n    sess = K.get_session()\r\n    from tensorflow.python.framework import graph_util,graph_io\r\n    init_graph = sess.graph.as_graph_def()\r\n    main_graph = graph_util.convert_variables_to_constants(sess,init_graph,out_nodes)\r\n    graph_io.write_graph(main_graph,output_dir,name = model_name,as_text = False)\r\n    print('Tranform finish!')\r\n\r\n问题2：\r\n对于使用x2paddle 时 --define_input_shape参数的输入问题\r\n由于原keras模型的输入shape是（batch_size,句子长度），即第二个参数是非固定，而不像图像分类此类模型的Input_size是（None,224,224,3）这样固定。请问这种情况在使用x2paddle 的--define_input_shape参数时是直接输入（None， 任意一个数字） 吗？如下图所示\r\n![image](https://user-images.githubusercontent.com/30521052/91157841-70627500-e6f8-11ea-80b5-956bcaaf0d80.png)\r\n\r\n\r\n\r\n",
        "state": "open",
        "user": "korlankil",
        "closed_by": null,
        "created_at": "2020-08-25T09:29:41+00:00",
        "updated_at": "2020-08-25T09:57:19+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 395,
        "title": "【黄埔学院】 paddle训练的yolov4，成功转成onnx模型，但用onnxruntime运行时报错",
        "body": "**问题：**Yolov3可以转onnx并允许成功，但yolov4转成功后，运行失败了。\r\n**报错信息如下：**\r\nException has occurred: Fail\r\n[ONNXRuntimeError] : 1 : FAIL : Non-zero status code returned while running TopK node. Name:'' Status Message: value of k must not be negative\r\n\r\n**python程序如下：**\r\nimport numpy\r\nimport onnxruntime as rt\r\nimport cv2\r\nimport numpy as np\r\n\r\ndef drawbbox(img, results, score_thr=0):\r\n    color = [(255,0,0),(0,255,0)]\r\n    a = len(results[0])\r\n    for i in range(len(results[0])):\r\n        scores = results[0][i][1]\r\n        c = int(results[0][i][0])\r\n        x1 = int(results[0][i][2])\r\n        y1 = int(results[0][i][3])\r\n        x2 = int(results[0][i][4])\r\n        y2 = int(results[0][i][5])\r\n        if scores >score_thr:\r\n            cv2.rectangle(img, (x1,y1),(x2,y2),color[c],2)\r\n\r\nmean = 123.675 #np.array([123.675, 116.28, 103.53])\r\nstd = 58.395 #np.array([58.395, 57.12, 57.375])\r\n\r\nsess = rt.InferenceSession(\"./work_dirs/yolov4_1.onnx\")\r\ninput_size = sess.get_inputs()[0].name\r\ninput_name = sess.get_inputs()[1].name\r\n\r\nimg_size = np.array([[1944,2592]]) #(高，宽)\r\n\r\nimage = cv2.imread(\"./test/2.jpg\")\r\nimg = cv2.resize(image, (608,608))\r\nimg_data = np.array(img)  #0：高，1：宽，2：通道数\r\nimg_data = np.true_divide((img_data - mean),std)\r\nimg_data = img_data.transpose((2,0,1)) \r\nimg_data = np.expand_dims(img_data, axis=0)\r\n#img_data = np.expand_dims(img_data, axis=0)\r\nimg_data = img_data.astype(np.float32)\r\npred_onx = sess.run(None, {input_size:img_size,input_name:img_data})[0]\r\ndrawbbox(image, pred_onx, 0.5)\r\ncv2.imwrite('2.jpg', image)\r\n",
        "state": "open",
        "user": "Tinagao222",
        "closed_by": null,
        "created_at": "2020-09-01T06:53:29+00:00",
        "updated_at": "2020-09-02T02:03:21+00:00",
        "closed_at": null,
        "comments_count": [
            "Channingss",
            "Tinagao222",
            "Channingss",
            "Tinagao222",
            "Channingss",
            "Tinagao222",
            "Channingss",
            "Channingss"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 394,
        "title": " Ops are not supported yet",
        "body": "报错信息：\r\n```\r\nNow translating model from tensorflow to paddle.\r\nTotal nodes: 567\r\nConverting node 567 ...    ==========2 Ops are not supported yet======\r\n========== SpaceToBatchND ==========\r\n========== BatchToSpaceND ==========\r\n```\r\n模型名称：deeplabv3；\r\n模型检查点文件（百度网盘）：\r\n链接：https://pan.baidu.com/s/1y98nWK6ZgbM-rv0f1Rc6OQ \r\n提取码：jig8 \r\n需要转换的pb文件（百度网盘）：\r\n链接：https://pan.baidu.com/s/1CqoXEpS7P-9JWrm2-6K2Yg \r\n提取码：noba\r\n\r\n",
        "state": "open",
        "user": "iceriver97",
        "closed_by": "iceriver97",
        "created_at": "2020-08-27T13:06:29+00:00",
        "updated_at": "2020-09-15T00:32:42+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "iceriver97",
            "jiangjiajun",
            "iceriver97"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 397,
        "title": " torch转onnx转paddle中 ，输入 尺寸问题 ",
        "body": "ONNX由torch模型export获得，面向任务为信息抽取。在转成paddle文件后使用方法如下：\r\n```\r\nwith fluid.dygraph.guard():\r\n      for  batch in text_idx:\r\n          text = fluid.dygraph.to_variable(np.array(batch))\r\n          _,  outputs = x2paddle_net(text)\r\n```\r\n其中text的尺寸为201，报错如下：\r\n\r\nC++ Call Stacks (More useful to developers):\r\n\r\n0   std::string paddle::platform::GetTraceBackString<std::string const&>(std::string const&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2   paddle::operators::GetBroadcastDimsArrays(paddle::framework::DDim const&, paddle::framework::DDim const&, int*, int*, int*, int, int)\r\n3   paddle::operators::ElementwiseOp::InferShape(paddle::framework::InferShapeContext*) const\r\n4   paddle::imperative::PreparedOp::Run(paddle::imperative::NameVarBaseMap const&, paddle::imperative::NameVarBaseMap const&, paddle::framework::AttributeMap const&)\r\n5   paddle::imperative::OpBase::Run(paddle::framework::OperatorBase const&, paddle::imperative::NameVarBaseMap const&, paddle::imperative::NameVarBaseMap const&, paddle::framework::AttributeMap const&, paddle::platform::Place const&)\r\n6   paddle::imperative::Tracer::TraceOp(std::string const&, paddle::imperative::NameVarBaseMap const&, paddle::imperative::NameVarBaseMap const&, paddle::framework::AttributeMap, paddle::platform::Place const&, bool)\r\n7   paddle::imperative::Tracer::TraceOp(std::string const&, paddle::imperative::NameVarBaseMap const&, paddle::imperative::NameVarBaseMap const&, paddle::framework::AttributeMap)\r\n\r\n\r\nError Message Summary:\r\n\r\nInvalidArgumentError: Broadcast dimension mismatch. Operands could not be broadcast together with the shape of X = [1, 12, 201, 201] and the shape of Y = [201, 1, 1]. Received [12] in X is not equal to [201] in Y at i:1.\r\n  [Hint: Expected x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1 == true, but received x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1:0 != true:1.] at (/paddle/paddle/fluid/operators/elementwise/elementwise_op_function.h:160)\r\n  [operator < elementwise_add > error]",
        "state": "open",
        "user": "passenger20",
        "closed_by": null,
        "created_at": "2020-09-03T06:41:11+00:00",
        "updated_at": "2020-09-25T06:22:34+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 398,
        "title": "deepspeech2-paddle模型转onnx：不支持算子gru",
        "body": "deepspeech2训练的paddlepaddle模型使用X2Paddle转成onnx时报错：\r\nPaddle2ONNX: x2paddle --framework=paddle2onnx --model=paddle_infer_model_dir --save_dir=onnx_model\r\n\r\n报错详情：\r\nNow, onnx2paddle support convert onnx model opset_verison [9, 10, 11],opset_verison of your onnx model is 11, automatically treated as op_set: 11.\r\nTranslating PaddlePaddle to ONNX...\r\n\r\nTotal:48, Current:1 : feed masks\r\nTotal:48, Current:2 : feed seq_len_data\r\nTotal:48, Current:3 : feed audio_data\r\nTotal:48, Current:48 : fetch x ise_add rdiv\r\nThere's 4 ops are not supported yet\r\n=========== sequence_unpad ===========\r\n=========== gru ===========\r\n=========== elementwise_floordiv ===========\r\n=========== brelu ===========",
        "state": "open",
        "user": "yangyangHu",
        "closed_by": null,
        "created_at": "2020-09-09T09:56:23+00:00",
        "updated_at": "2020-09-25T06:22:21+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 399,
        "title": "YOLOV5不支持转换",
        "body": "onnx转换paddle时候报错  KeyError: 0\r\n",
        "state": "closed",
        "user": "RichardYang88",
        "closed_by": "luotao1",
        "created_at": "2020-09-10T03:14:39+00:00",
        "updated_at": "2024-11-01T11:31:47+00:00",
        "closed_at": "2024-11-01T11:31:47+00:00",
        "comments_count": [
            "jiangjiajun",
            "RichardYang88",
            "jiangjiajun",
            "RichardYang88",
            "Channingss",
            "RichardYang88",
            "Channingss",
            "RichardYang88",
            "Channingss",
            "RichardYang88",
            "RichardYang88",
            "Channingss",
            "RichardYang88",
            "Channingss"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 400,
        "title": "vgg19 to paddle, 1 OPs are not supported yet",
        "body": "TensorFlow模型转换至PaddlePaddle，请说明TensorFlow模型的来源，模型类型（例如图像分类、目标检测等）  \r\n\r\n如有原模型文件或github链接，可以一并附上，方便开发人员分析。\r\n\r\npaddle.__version__ = 1.8.2\r\nNow translating model from tensorflow to paddle.\r\nTotal nodes: 101\r\nConverting node 1 ...     Unknown shape of input nodes[InputImage].\r\nConverting node 101 ...     ========= 1 OPs are not supported yet ===========\r\n========== Placeholder ============\r\n",
        "state": "closed",
        "user": "shikeno",
        "closed_by": "luotao1",
        "created_at": "2020-09-11T02:13:44+00:00",
        "updated_at": "2024-11-01T11:31:12+00:00",
        "closed_at": "2024-11-01T11:31:12+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 402,
        "title": "ONNX模型转换至PaddlePaddle，op不支持LSTM",
        "body": "请问大佬们，现在X2Paddle还不支持和LSTM操作吗",
        "state": "open",
        "user": "superdu12138",
        "closed_by": null,
        "created_at": "2020-09-15T02:20:50+00:00",
        "updated_at": "2020-09-15T06:11:09+00:00",
        "closed_at": null,
        "comments_count": [
            "Channingss"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 401,
        "title": "keras保存的h5模型转换成pb，再转成paddle的时候出错：11 OPs are not supported yet",
        "body": "========= 11 OPs are not supported yet ===========\r\n========== Round ============\r\n========== Unpack ============\r\n========== Less ============\r\n========== TensorArrayScatterV3 ============\r\n========== ZerosLike ============\r\n========== Enter ============\r\n========== GatherNd ============\r\n========== ReverseV2 ============\r\n========== TensorArrayV3 ============\r\n========== FloorMod ============\r\n========== Greater ============\r\n",
        "state": "open",
        "user": "Jeremiahxx",
        "closed_by": null,
        "created_at": "2020-09-14T05:48:13+00:00",
        "updated_at": "2023-01-31T09:27:02+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "Jeremiahxx",
            "jiangjiajun",
            "Jeremiahxx",
            "jiangjiajun",
            "fanruifeng"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 407,
        "title": "There's 1 ops are not supported yet",
        "body": "paddleslim中提供的预训练模型SlimFaceNet_A_x0_60\r\n\r\nThere's 1 ops are not supported yet\r\n=========== prelu ===========\r\n\r\n请问近期会支持这个op吗？",
        "state": "closed",
        "user": "FitzShen666",
        "closed_by": "luotao1",
        "created_at": "2020-09-21T12:05:32+00:00",
        "updated_at": "2024-11-01T11:30:38+00:00",
        "closed_at": "2024-11-01T11:30:38+00:00",
        "comments_count": [
            "Channingss"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 409,
        "title": "ALBERT+BILSTM+CRF训练后的ckpt模型转成pb后，用x2paddle工具转换失败",
        "body": "只生成了model_with_code目录，未生成inference_model目录，这要怎么解决？转pb用的freeze_graph那个脚本",
        "state": "open",
        "user": "wxd-520",
        "closed_by": null,
        "created_at": "2020-09-23T08:35:25+00:00",
        "updated_at": "2020-09-25T06:20:25+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "wxd-520",
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 410,
        "title": "tensorflow BERT分类模型转换报3 OPs are not supported yet",
        "body": "使用bert4keras训练的BERT分类模型经过转换后报错提示有3个OP不支持转换：\r\npaddle.__version__ = 1.7.2\r\nNow translating model from tensorflow to paddle.\r\n\r\nShape[now is [-1, -1]] for input tensor[tensor name: \"Input-Token\"] not support yet\r\nUse your keyboard type the shape of input tensor below :)\r\nShape of Input(e.g. None,224,224,3): None,256\r\n\r\nShape[now is [-1, -1]] for input tensor[tensor name: \"Input-Segment\"] not support yet\r\nUse your keyboard type the shape of input tensor below :)\r\nShape of Input(e.g. None,224,224,3): None,256\r\nTotal nodes: 3583\r\nConverting node 3583 ...     ========= 3 OPs are not supported yet ===========\r\n========== Unpack ============\r\n========== Square ============\r\n========== NotEqual ============\r\n",
        "state": "closed",
        "user": "vForce825",
        "closed_by": "luotao1",
        "created_at": "2020-09-25T02:07:55+00:00",
        "updated_at": "2024-11-01T11:30:13+00:00",
        "closed_at": "2024-11-01T11:30:13+00:00",
        "comments_count": [
            "jiangjiajun",
            "vForce825",
            "jiangjiajun",
            "vForce825",
            "jiangjiajun",
            "vForce825",
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 415,
        "title": "Paddle to Tensorflow",
        "body": "Does PaddleOCR support model conversion to tensorflow and how do I do it?",
        "state": "closed",
        "user": "duongvvuet",
        "closed_by": "luotao1",
        "created_at": "2020-09-25T08:57:47+00:00",
        "updated_at": "2024-11-01T11:29:50+00:00",
        "closed_at": "2024-11-01T11:29:50+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 416,
        "title": "PP-YOLO to onnx",
        "body": "我使用了paddle的PP-YOLO训练了一个模型，但是发现paddle2onnx不支持PP-YOLO转成onnx，原因是暂不支持可变卷积层和一些矩阵的变换。想问下什么时候能支持PP-YOLO转onnx？\r\n\r\n",
        "state": "closed",
        "user": "leozicai",
        "closed_by": "luotao1",
        "created_at": "2020-09-29T07:31:13+00:00",
        "updated_at": "2024-11-01T11:29:31+00:00",
        "closed_at": "2024-11-01T11:29:31+00:00",
        "comments_count": [
            "leozicai",
            "jiangjiajun",
            "leozicai"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 417,
        "title": "detectron2模型转化成paddle模型问题",
        "body": "使用detectron2自带转化脚本转化模型成caffe2模型，然后尝试caffe2模型转成onnx，再由onnx转成paddle模型，但caffe2模型转成onnx模型需要shape和type，请问这个从哪获取\r\n\r\n请问detectron2模型转化成paddle模型有脚本吗？",
        "state": "closed",
        "user": "mcl-stone",
        "closed_by": "luotao1",
        "created_at": "2020-10-09T08:16:26+00:00",
        "updated_at": "2024-11-01T11:29:18+00:00",
        "closed_at": "2024-11-01T11:29:18+00:00",
        "comments_count": [
            "Channingss",
            "mcl-stone"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 422,
        "title": "mobilenet_v1_0.25_128_quant_frozen.pb tflite官网 量化模型 1ops are not supported",
        "body": "TensorFlow模型转换至PaddlePaddle，请说明TensorFlow模型的来源，模型类型（例如图像分类、目标检测等）  \r\n\r\n如有原模型文件或github链接，可以一并附上，方便开发人员分析。\r\n",
        "state": "closed",
        "user": "tx1103mark",
        "closed_by": "luotao1",
        "created_at": "2020-10-30T01:29:21+00:00",
        "updated_at": "2024-11-01T11:29:01+00:00",
        "closed_at": "2024-11-01T11:29:01+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 419,
        "title": "请问caffe2paddle转后的模型，如何预测，有没有预测脚本",
        "body": "模型是关键点检测，转换成功了，转换后如何预测，文档内的地址不知如何使用",
        "state": "closed",
        "user": "mcl-stone",
        "closed_by": "mcl-stone",
        "created_at": "2020-10-15T02:19:16+00:00",
        "updated_at": "2020-10-16T01:38:34+00:00",
        "closed_at": "2020-10-16T01:38:34+00:00",
        "comments_count": [
            "mcl-stone",
            "jiangjiajun",
            "mcl-stone"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 424,
        "title": "caffe->paddle报错",
        "body": "自己训练的两个网络转paddle报错，转onnx都是正常的。\r\n下面是两个报错的信息\r\n error 信息1：\r\n(paddle) zgq@ubuntu:~/paddle$ sh x2paddle.sh \r\npaddle.__version__ = 1.8.5\r\nNow translating model from caffe to paddle.\r\nIgnoring parameters for non-existent layer: snpc_conv\r\nTotal nodes: 66\r\nTraceback (most recent call last):\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/core/op_mapper.py\", line 142, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"pd_feature_model/model_with_code/model.py\", line 7, in x2paddle_net\r\n    conv1_1_relu = fluid.layers.conv2d(data[0], filter_size=[3, 3], num_filters=16, stride=[2, 2], padding=[1, 1], dilation=[1, 1], groups=1, name='conv1_1', param_attr='conv1_1_weights', bias_attr='conv1_1_bias', act='relu')\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layers/nn.py\", line 2938, in conv2d\r\n    \"data_format\": data_format,\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 1971, in __init__\r\n    self.desc.infer_shape(self.block.desc)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------------\r\nC++ Call Stacks (More useful to developers):\r\n--------------------------------------------\r\n0   std::string paddle::platform::GetTraceBackString<std::string const&>(std::string const&, char const*, int)\r\n1   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n2   paddle::operators::ConvOp::ComputeOutputShape(paddle::framework::InferShapeContext*) const\r\n3   paddle::operators::ConvOp::InferShape(paddle::framework::InferShapeContext*) const\r\n4   paddle::framework::OpDesc::InferShape(paddle::framework::BlockDesc const&) const\r\n\r\n------------------------------------------\r\nPython Call Stacks (More useful to users):\r\n------------------------------------------\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2610, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layers/nn.py\", line 2938, in conv2d\r\n    \"data_format\": data_format,\r\n  File \"pd_feature_model/model_with_code/model.py\", line 7, in x2paddle_net\r\n    conv1_1_relu = fluid.layers.conv2d(data[0], filter_size=[3, 3], num_filters=16, stride=[2, 2], padding=[1, 1], dilation=[1, 1], groups=1, name='conv1_1', param_attr='conv1_1_weights', bias_attr='conv1_1_bias', act='relu')\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/core/op_mapper.py\", line 142, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/convert.py\", line 157, in caffe2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/convert.py\", line 299, in main\r\n    args.caffe_proto, params_merge)\r\n  File \"/home/zgq/anaconda3/envs/paddle/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: The input of Op(Conv) should be a 4-D or 5-D Tensor. But received: input's dimension is 3, input's shape is [1, 128, 128].\r\n  [Hint: Expected in_dims.size() == 4 || in_dims.size() == 5 == true, but received in_dims.size() == 4 || in_dims.size() == 5:0 != true:1.] at (/paddle/paddle/fluid/operators/conv_op.cc:59)\r\n  [operator < conv2d > error]\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/zgq/anaconda3/envs/paddle/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/convert.py\", line 299, in main\r\n    args.caffe_proto, params_merge)\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/convert.py\", line 157, in caffe2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/core/op_mapper.py\", line 197, in save_inference_model\r\n    .format(py_code_dir))\r\nException: Paddle code was saved in pd_feature_model/model_with_code/model.py, but seems there's wrong exist, please check model.py manually.\r\n\r\n\r\n\r\nerror信息2：\r\npaddle.__version__ = 1.8.5\r\nNow translating model from caffe to paddle.\r\nTraceback (most recent call last):\r\n  File \"/home/zgq/anaconda3/envs/paddle/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/convert.py\", line 299, in main\r\n    args.caffe_proto, params_merge)\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/convert.py\", line 152, in caffe2paddle\r\n    model = CaffeDecoder(proto, weight, caffe_proto)\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/decoder/caffe_decoder.py\", line 250, in __init__\r\n    self.caffe_graph.build()\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/decoder/caffe_decoder.py\", line 178, in build\r\n    layers = self.filter_layers(layers)\r\n  File \"/home/zgq/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/decoder/caffe_decoder.py\", line 107, in filter_layers\r\n    assert layer.name not in filtered_layer_names\r\nAssertionError",
        "state": "closed",
        "user": "zhuguiqian",
        "closed_by": "zhuguiqian",
        "created_at": "2020-11-06T01:44:41+00:00",
        "updated_at": "2020-11-16T01:38:41+00:00",
        "closed_at": "2020-11-16T01:38:41+00:00",
        "comments_count": [
            "SunAhong1993",
            "zhuguiqian",
            "SunAhong1993",
            "zhuguiqian",
            "zhuguiqian",
            "SunAhong1993",
            "SunAhong1993",
            "SunAhong1993",
            "zhuguiqian",
            "zhuguiqian",
            "zhuguiqian",
            "SunAhong1993",
            "zhuguiqian"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 423,
        "title": "转换tf模型发生TypeError: pad() got an unexpected keyword argument 'input'  错误",
        "body": "tensorflow模型：检测手的一个模型，\r\n转换paddle模型时候发生如下错误：\r\n\r\n![image](https://user-images.githubusercontent.com/33440396/98239143-77ccb700-1fa2-11eb-93e1-0d9f18d9bec3.png)\r\n\r\n模型如下：\r\n[palm_detection.zip](https://github.com/PaddlePaddle/X2Paddle/files/5494242/palm_detection.zip)\r\n\r\n使用的方法是官方文档所介绍的方法：\r\nhttps://github.com/PaddlePaddle/X2Paddle\r\n\r\npaddlepaddle版本：paddlepaddle-1.8.5-cp36-cp36m-win_amd64.whl\r\npaddlelite版本：paddlelite-2.6.3-cp36-cp36m-win_amd64.whl\r\nX2paddle版本：x2paddle-0.8.7-py3-none-any.whl",
        "state": "open",
        "user": "xingjing1",
        "closed_by": null,
        "created_at": "2020-11-05T12:13:44+00:00",
        "updated_at": "2020-11-09T06:38:45+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "xingjing1",
            "jiangjiajun",
            "xingjing1",
            "xingjing1",
            "jiangjiajun",
            "xingjing1",
            "xingjing1",
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 433,
        "title": "检查OP是否在PaddleLite支持报错",
        "body": "Traceback (most recent call last):\r\n  File \"/paddle/X2Paddle/tools/check_for_lite.py\", line 7, in <module>\r\n    fetch = urllib.urlretrieve(ops_h, \"./_paddle_use_ops.h\")\r\nAttributeError: module 'six.moves.urllib' has no attribute 'urlretrieve'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/root/anaconda3/lib/python3.6/urllib/request.py\", line 1349, in do_open\r\n    encode_chunked=req.has_header('Transfer-encoding'))\r\n  File \"/root/anaconda3/lib/python3.6/http/client.py\", line 1287, in request\r\n    self._send_request(method, url, body, headers, encode_chunked)\r\n  File \"/root/anaconda3/lib/python3.6/http/client.py\", line 1333, in _send_request\r\n    self.endheaders(body, encode_chunked=encode_chunked)\r\n  File \"/root/anaconda3/lib/python3.6/http/client.py\", line 1282, in endheaders\r\n    self._send_output(message_body, encode_chunked=encode_chunked)\r\n  File \"/root/anaconda3/lib/python3.6/http/client.py\", line 1042, in _send_output\r\n    self.send(msg)\r\n  File \"/root/anaconda3/lib/python3.6/http/client.py\", line 980, in send\r\n    self.connect()\r\n  File \"/root/anaconda3/lib/python3.6/http/client.py\", line 1440, in connect\r\n    super().connect()\r\n  File \"/root/anaconda3/lib/python3.6/http/client.py\", line 952, in connect\r\n    (self.host,self.port), self.timeout, self.source_address)\r\n  File \"/root/anaconda3/lib/python3.6/socket.py\", line 724, in create_connection\r\n    raise err\r\n  File \"/root/anaconda3/lib/python3.6/socket.py\", line 713, in create_connection\r\n    sock.connect(sa)\r\nOSError: [Errno 99] Cannot assign requested address\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/paddle/X2Paddle/tools/check_for_lite.py\", line 9, in <module>\r\n    fetch = urllib.request.urlretrieve(ops_h, \"./_paddle_use_ops.h\")\r\n  File \"/root/anaconda3/lib/python3.6/urllib/request.py\", line 248, in urlretrieve\r\n    with contextlib.closing(urlopen(url, data)) as fp:\r\n  File \"/root/anaconda3/lib/python3.6/urllib/request.py\", line 223, in urlopen\r\n    return opener.open(url, data, timeout)\r\n  File \"/root/anaconda3/lib/python3.6/urllib/request.py\", line 526, in open\r\n    response = self._open(req, data)\r\n  File \"/root/anaconda3/lib/python3.6/urllib/request.py\", line 544, in _open\r\n    '_open', req)\r\n  File \"/root/anaconda3/lib/python3.6/urllib/request.py\", line 504, in _call_chain\r\n    result = func(*args)\r\n  File \"/root/anaconda3/lib/python3.6/urllib/request.py\", line 1392, in https_open\r\n    context=self._context, check_hostname=self._check_hostname)\r\n  File \"/root/anaconda3/lib/python3.6/urllib/request.py\", line 1351, in do_open\r\n    raise URLError(err)\r\nurllib.error.URLError: <urlopen error [Errno 99] Cannot assign requested address>\r\n\r\nProcess finished with exit code 1\r\n\r\n\r\n使用工具中提供的代码检测op是否支持，结果报错找不到地址，这个需要怎么解决呢？",
        "state": "open",
        "user": "Jorsen0",
        "closed_by": null,
        "created_at": "2020-11-16T02:13:15+00:00",
        "updated_at": "2020-11-16T11:00:45+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "Jorsen0",
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 436,
        "title": "onnx2paddle报错TypeError: object of type 'NoneType' has no len() `",
        "body": "想把resnest的deepv3转成paddle的，op9的时候上采样层会报错，所以用了op11,但是onnx转paddle的时候就报错了\r\n`TensorRT dynamic library (libnvinfer.so) that Paddle depends on is not configured correctly. (error code is libnvinfer.so: cannot open shared object file: No such file or directory)\r\n  Suggestions:\r\n  1. Check if TensorRT is installed correctly and its version is matched with paddlepaddle you installed.\r\n  2. Configure TensorRT dynamic library environment variables as follows:\r\n  - Linux: set LD_LIBRARY_PATH by `export LD_LIBRARY_PATH=...`\r\n  - Windows: set PATH by `set PATH=XXX;paddle.__version__ = 1.8.5\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 11, automatically treated as op_set: 9.\r\nTotal nodes: 3547\r\nNodes converting ...\r\nconvert failed node:2742, op_type is Pad\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==0.8.8', 'console_scripts', 'x2paddle')())\r\n  File \"/root/miniconda3/lib/python3.8/site-packages/x2paddle/convert.py\", line 282, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/root/miniconda3/lib/python3.8/site-packages/x2paddle/convert.py\", line 171, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/root/miniconda3/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 42, in __init__\r\n    func(node)\r\n  File \"/root/miniconda3/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 73, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"/root/miniconda3/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 408, in Pad\r\n    if len(pads) == 4:\r\nTypeError: object of type 'NoneType' has no len()\r\n`\r\n请问应该怎么处理呢？",
        "state": "open",
        "user": "merlinarer",
        "closed_by": null,
        "created_at": "2020-11-18T16:11:53+00:00",
        "updated_at": "2020-11-23T08:19:30+00:00",
        "closed_at": null,
        "comments_count": [
            "Channingss"
        ],
        "labels": [
            "Paddle2ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 427,
        "title": "onnx转paddle模型报错",
        "body": "在转模型过程中，出现转换Upsample有问题，scale的值不对\r\nx2paddle --framework=onnx --model=detectDB/DB_sim.onnx --save_dir=pd_model --params_merge\r\n",
        "state": "open",
        "user": "hongzhiyang0804",
        "closed_by": null,
        "created_at": "2020-11-06T09:29:10+00:00",
        "updated_at": "2020-11-09T03:07:19+00:00",
        "closed_at": null,
        "comments_count": [
            "hongzhiyang0804",
            "Channingss",
            "hongzhiyang0804",
            "hongzhiyang0804",
            "Channingss",
            "hongzhiyang0804",
            "Channingss"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 439,
        "title": "openpose的caffe模型转换时报错",
        "body": "\r\n参考链接：https://cloud.tencent.com/developer/article/1748267\r\n\r\n报错信息：\r\n(py36_pose) zhangxin@zx:~/github/X2Paddle$ x2paddle --framework=caffe \\\r\n>     --prototxt=/home/zhangxin/github/openpose-CMU/models/hand/pose_deploy.prototxt \\\r\n>     --weight=/home/zhangxin/github/openpose-CMU/models/hand/pose_iter_102000.caffemodel \\\r\n>     --save_dir=/home/zhangxin/gitlab_md/pose-service/data/hand \\\r\n>     --params_merge\r\nTensorRT dynamic library (libnvinfer.so) that Paddle depends on is not configured correctly. (error code is libnvinfer.so: cannot open shared object file: No such file or directory)\r\n  Suggestions:\r\n  1. Check if TensorRT is installed correctly and its version is matched with paddlepaddle you installed.\r\n  2. Configure TensorRT dynamic library environment variables as follows:\r\n  - Linux: set LD_LIBRARY_PATH by `export LD_LIBRARY_PATH=...`\r\n  - Windows: set PATH by `set PATH=XXX;paddle.__version__ = 1.8.5\r\nNow translating model from caffe to paddle.\r\nTraceback (most recent call last):\r\n  File \"/home/zhangxin/miniconda3/envs/py36_pose/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==0.8.8', 'console_scripts', 'x2paddle')())\r\n  File \"/home/zhangxin/miniconda3/envs/py36_pose/lib/python3.6/site-packages/x2paddle-0.8.8-py3.6.egg/x2paddle/convert.py\", line 275, in main\r\n    args.caffe_proto, params_merge)\r\n  File \"/home/zhangxin/miniconda3/envs/py36_pose/lib/python3.6/site-packages/x2paddle-0.8.8-py3.6.egg/x2paddle/convert.py\", line 146, in caffe2paddle\r\n    model = CaffeDecoder(proto, weight, caffe_proto)\r\n  File \"/home/zhangxin/miniconda3/envs/py36_pose/lib/python3.6/site-packages/x2paddle-0.8.8-py3.6.egg/x2paddle/decoder/caffe_decoder.py\", line 248, in __init__\r\n    self.load_using_pb()\r\n  File \"/home/zhangxin/miniconda3/envs/py36_pose/lib/python3.6/site-packages/x2paddle-0.8.8-py3.6.egg/x2paddle/decoder/caffe_decoder.py\", line 256, in load_using_pb\r\n    data.MergeFromString(open(self.model_path, 'rb').read())\r\ngoogle.protobuf.message.DecodeError: Error parsing message\r\n",
        "state": "open",
        "user": "ZhangXinNan",
        "closed_by": null,
        "created_at": "2020-11-23T03:46:53+00:00",
        "updated_at": "2020-11-23T06:34:29+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 447,
        "title": "onnx模型转换到paddle时发生错误。",
        "body": "ONNX模型的来源：由pytorch转换而来，自己设计的算法模型（基于centernet），在pytorch中跑没有问题。\r\n模型类型：目标检测  \r\n\r\n具体问题：使用v0.8.9的x2paddle转换发生错误\r\n转换命令：x2paddle --framework=onnx --model=circledet.onnx --save_dir=circledet_model\r\n错误：\r\n```\r\npaddle.__version__ = 1.8.4\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 9\r\nshape inferencing ...\r\n[INFO] Complete symbolic shape inference.\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 9, automatically treated as op_set: 9.\r\nTotal nodes: 214\r\nNodes converting ...\r\nNodes converted.\r\nModel optimizing ...\r\nModel optimized.\r\nPaddle model and code generating ...\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/lib/python3.6/site-packages/x2paddle/core/op_mapper.py\", line 142, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"circledet_model/model_with_code/model.py\", line 104, in x2paddle_net\r\n    x2paddle_529 = fluid.layers.conv2d(x2paddle_528, num_filters=32, filter_size=[3, 3], stride=[1, 1], padding=[1, 1], dilation=[1, 1], groups=1, param_attr='x2paddle_dla_up_ida_2_node_1_0_weight', name='x2paddle_529', bias_attr=False)\r\n  File \"/opt/conda/lib/python3.6/site-packages/paddle/fluid/layers/nn.py\", line 2835, in conv2d\r\n    \"Received: %s.\" % (str(input.shape), str(num_channels)))\r\nValueError: The channel dimmention of the input((1, -1, 128, 128)) should be defined. Received: -1.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/conda/lib/python3.6/site-packages/x2paddle/convert.py\", line 285, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/opt/conda/lib/python3.6/site-packages/x2paddle/convert.py\", line 181, in onnx2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"/opt/conda/lib/python3.6/site-packages/x2paddle/core/op_mapper.py\", line 197, in save_inference_model\r\n    .format(py_code_dir))\r\nException: Paddle code was saved in circledet_model/model_with_code/model.py, but seems there's wrong exist, please check model.py manually.\r\n```\r\n\r\n",
        "state": "open",
        "user": "daiyuanm",
        "closed_by": "SunAhong1993",
        "created_at": "2020-12-03T07:29:46+00:00",
        "updated_at": "2020-12-17T06:34:16+00:00",
        "closed_at": null,
        "comments_count": [
            "Channingss",
            "daiyuanm",
            "Channingss",
            "daiyuanm",
            "Channingss",
            "daiyuanm",
            "Channingss",
            "daiyuanm"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 444,
        "title": "是否支持tensorflow中的tf.layers.conv3d op",
        "body": "是否支持tensorflow中的tf.layers.conv3d op",
        "state": "closed",
        "user": "lizhaohu",
        "closed_by": "SunAhong1993",
        "created_at": "2020-12-01T03:31:30+00:00",
        "updated_at": "2020-12-08T02:11:28+00:00",
        "closed_at": "2020-12-07T06:43:25+00:00",
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 450,
        "title": "Caffe模型转换至PaddlePaddle失败",
        "body": "Caffe模型转换至PaddlePaddle，Caffe模型是于仕琪的SSD模型，模型人脸检测  \r\n\r\n![IMG2020129-102549](https://user-images.githubusercontent.com/32325982/101566262-a9a1c500-3a09-11eb-8638-fcd81fa1fa0c.jpg)\r\n\r\n",
        "state": "closed",
        "user": "Xsx93",
        "closed_by": "Xsx93",
        "created_at": "2020-12-09T02:30:40+00:00",
        "updated_at": "2020-12-09T06:42:23+00:00",
        "closed_at": "2020-12-09T06:42:23+00:00",
        "comments_count": [
            "SunAhong1993",
            "SunAhong1993"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 456,
        "title": "module 'paddle' has no attribute 'save'",
        "body": "['1', '6', '0']\r\nNow translating model from pytorch to paddle.\r\nModel optimizing ...\r\ntrace_fc_fuse_pass done!\r\nModel optimized.\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 18, in <module>\r\n    input_examples=[torch.tensor(input_data)])\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/x2paddle-1.0.0rc0-py3.7.egg/x2paddle/convert.py\", line 231, in pytorch2paddle\r\n    mapper.paddle_graph.gen_model(save_dir, jit_type=jit_type)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/x2paddle-1.0.0rc0-py3.7.egg/x2paddle/core/program.py\", line 240, in gen_model\r\n    self.gen_dygraph_model(save_dir, jit_type)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/x2paddle-1.0.0rc0-py3.7.egg/x2paddle/core/program.py\", line 280, in gen_dygraph_model\r\n    self.dump_dygraph_parameter(save_dir)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/x2paddle-1.0.0rc0-py3.7.egg/x2paddle/core/program.py\", line 632, in dump_dygraph_parameter\r\n    paddle.save(self.parameters, save_path)\r\nAttributeError: module 'paddle' has no attribute 'save'\r\n",
        "state": "closed",
        "user": "zhangjf2018",
        "closed_by": "zhangjf2018",
        "created_at": "2020-12-14T13:40:59+00:00",
        "updated_at": "2020-12-15T07:00:32+00:00",
        "closed_at": "2020-12-15T06:44:36+00:00",
        "comments_count": [
            "SunAhong1993",
            "zhangjf2018",
            "SunAhong1993"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 452,
        "title": "pytorch2paddle,pixelshuffle op is not supported.",
        "body": "您好，我在pytorch转paddle的过程中，出现了下面这个问题：\r\n![image](https://user-images.githubusercontent.com/23207132/101723027-679a8100-3ae6-11eb-83a8-37a16ac93d7b.png)\r\n\r\n我想请问pixelshuffle，paddle中不是有吗？为什么会不支持转呢？我需要怎么做才能转成功呢？",
        "state": "open",
        "user": "zhangqizky",
        "closed_by": null,
        "created_at": "2020-12-10T04:52:13+00:00",
        "updated_at": "2020-12-11T08:02:48+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 459,
        "title": "onnx to paddlepaddle operator < nearest_interp_v2 > error",
        "body": "paddle.__version__ = 2.0.0-rc0\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 12\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 12, automatically treated as op_set: 9.\r\nTotal nodes: 360\r\nNodes converting ...\r\nConverting node 772 ...     \r\nNodes converted.\r\nExporting inference model from python code ('/home/ai/Desktop/workspace/pytorch_paddle/pd_model/x2paddle_code.py')... \r\n\r\nW1215 15:07:35.616997 437839 device_context.cc:338] Please NOTE: device: 0, CUDA Capability: 75, Driver API Version: 11.0, Runtime API Version: 10.2\r\nW1215 15:07:35.659567 437839 device_context.cc:346] device: 0, cuDNN Version: 7.6.\r\n/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:77: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working\r\n  return (isinstance(seq, collections.Sequence) and\r\nFail to generate inference model! Problem happend while export inference model from python code '/home/ai/Desktop/workspace/pytorch_paddle/pd_model/x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"/home/ai/anaconda3/envs/paddletest/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.0rc0', 'console_scripts', 'x2paddle')())\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/x2paddle-1.0.0rc0-py3.7.egg/x2paddle/convert.py\", line 296, in main\r\n    onnx2paddle(args.model, args.save_dir, args.paddle_type, params_merge)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/x2paddle-1.0.0rc0-py3.7.egg/x2paddle/convert.py\", line 190, in onnx2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/x2paddle-1.0.0rc0-py3.7.egg/x2paddle/core/program.py\", line 240, in gen_model\r\n    self.gen_dygraph_model(save_dir, jit_type)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/x2paddle-1.0.0rc0-py3.7.egg/x2paddle/core/program.py\", line 298, in gen_dygraph_model\r\n    raise e\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/x2paddle-1.0.0rc0-py3.7.egg/x2paddle/core/program.py\", line 294, in gen_dygraph_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/x2paddle-1.0.0rc0-py3.7.egg/x2paddle/core/program.py\", line 655, in dygraph2static\r\n    paddle.jit.save(static_model, osp.join(save_dir, \"inference_model/model\"))\r\n  File \"<decorator-gen-54>\", line 2, in save\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 38, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/dygraph/jit.py\", line 622, in save\r\n    concrete_program = layer.forward.concrete_program\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 445, in concrete_program\r\n    concrete_program, _ = self.get_concrete_program(*input_spec)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 385, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 656, in __getitem__\r\n    self._caches[item] = self._build_once(item)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 647, in _build_once\r\n    class_instance=cache_key.class_instance)\r\n  File \"<decorator-gen-46>\", line 2, in from_func_spec\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 38, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 603, in from_func_spec\r\n    outputs = static_func(*inputs)\r\n  File \"/tmp/tmp3so9tw_m.py\", line 344, in forward\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/nn/functional/common.py\", line 485, in interpolate\r\n    attrs=attrs)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2917, in append_op\r\n    attrs=kwargs.get(\"attrs\", None))\r\n  File \"/home/ai/anaconda3/envs/paddletest/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2123, in __init__\r\n    self.desc.infer_shape(self.block.desc)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::framework::OpDesc::InferShape(paddle::framework::BlockDesc const&) const\r\n1   paddle::operators::InterpolateV2Op::InferShape(paddle::framework::InferShapeContext*) const\r\n2   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n3   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: Scale's shape must be 2 or 1, but got shape = 4 .\r\n  [Hint: Expected scale_tensor[0] == 2 || scale_tensor[0] == 1 == true, but received scale_tensor[0] == 2 || scale_tensor[0] == 1:0 != true:1.] (at /paddle/paddle/fluid/operators/interpolate_v2_op.cc:162)\r\n  [operator < nearest_interp_v2 > error]\r\n",
        "state": "closed",
        "user": "zhangjf2018",
        "closed_by": "zhangjf2018",
        "created_at": "2020-12-15T07:10:19+00:00",
        "updated_at": "2020-12-25T12:12:35+00:00",
        "closed_at": "2020-12-15T08:40:55+00:00",
        "comments_count": [
            "SunAhong1993",
            "youngstu"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 463,
        "title": "torch.erf   和   torch.bmm  和  sub_算子报错",
        "body": "",
        "state": "open",
        "user": "gejianhui1",
        "closed_by": "jiangjiajun",
        "created_at": "2020-12-18T01:06:33+00:00",
        "updated_at": "2020-12-30T03:49:57+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "SunAhong1993",
            "gejianhui1"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 464,
        "title": "Missing ONNX ArgMax support",
        "body": "Hi, \r\n\r\nThank you for this great tool! \r\n\r\nI tried to convert [MLPerf ResNet50 model](https://zenodo.org/record/2592612/files/resnet50_v1.onnx) (listed [here](https://github.com/mlcommons/inference/tree/master/vision/classification_and_detection#supported-models)) and get an error saying that there is missing `ArgMax` op support. \r\n\r\nCommandline I used:\r\n```shell\r\nx2paddle --framework=onnx --model=/path/to/resnet50_v1.onnx --save_dir=pdpd_fp32_converted --paddle_type static\r\n```\r\n\r\nCould you please add support for this op?",
        "state": "closed",
        "user": "arogowie-intel",
        "closed_by": "jiangjiajun",
        "created_at": "2020-12-21T15:22:23+00:00",
        "updated_at": "2020-12-23T11:31:07+00:00",
        "closed_at": "2020-12-23T11:31:07+00:00",
        "comments_count": [
            "SunAhong1993",
            "SunAhong1993",
            "arogowie-intel"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 470,
        "title": "onnx to paddlepaddle operator < nearest_interp_v2 > error ",
        "body": "  File \"best_pd_model/model_with_code/x2paddle_model.py\", line 489, in x2paddle_net\r\n    x2paddle_811 = paddle.nn.functional.interpolate(x=x2paddle_806, scale_factor=x2paddle_1361, align_corners=False, mode='nearest', align_mode=1)\r\n  File \"/home/ar/shaoxiong/envs/anaconda3/envs/py38_pytorch1.7/lib/python3.8/site-packages/paddle/nn/functional/common.py\", line 481, in interpolate\r\n    helper.append_op(\r\n  File \"/home/ar/shaoxiong/envs/anaconda3/envs/py38_pytorch1.7/lib/python3.8/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/home/ar/shaoxiong/envs/anaconda3/envs/py38_pytorch1.7/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 2911, in append_op\r\n    op = Operator(\r\n  File \"/home/ar/shaoxiong/envs/anaconda3/envs/py38_pytorch1.7/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 2123, in __init__\r\n    self.desc.infer_shape(self.block.desc)\r\npaddle.fluid.core_avx.EnforceNotMet: \r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::framework::OpDesc::InferShape(paddle::framework::BlockDesc const&) const\r\n1   paddle::operators::InterpolateV2Op::InferShape(paddle::framework::InferShapeContext*) const\r\n2   paddle::platform::EnforceNotMet::EnforceNotMet(std::string const&, char const*, int)\r\n3   paddle::platform::GetCurrentTraceBackString()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: Scale's shape must be 2 or 1, but got shape = 4 .\r\n  [Hint: Expected scale_tensor[0] == 2 || scale_tensor[0] == 1 == true, but received scale_tensor[0] == 2 || scale_tensor[0] == 1:0 != true:1.] (at /paddle/paddle/fluid/operators/interpolate_v2_op.cc:162)\r\n  [operator < nearest_interp_v2 > error]\r\n\r\n我也是同样的问题，直接转static和dygraph都不行。转static报错如上",
        "state": "closed",
        "user": "youngstu",
        "closed_by": "jiangjiajun",
        "created_at": "2020-12-25T12:14:48+00:00",
        "updated_at": "2020-12-28T03:21:55+00:00",
        "closed_at": "2020-12-28T03:21:55+00:00",
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 469,
        "title": "Argmax op not support",
        "body": "\r\nonnx来源：pytorch 导出\r\n模型类型：目标检测\r\n![image](https://user-images.githubusercontent.com/26452514/103126943-e12b9500-46ca-11eb-8626-2338f27ed217.png)\r\n",
        "state": "closed",
        "user": "youngstu",
        "closed_by": "SunAhong1993",
        "created_at": "2020-12-25T08:04:43+00:00",
        "updated_at": "2020-12-26T08:46:47+00:00",
        "closed_at": "2020-12-26T08:46:47+00:00",
        "comments_count": [
            "SunAhong1993",
            "youngstu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 468,
        "title": "matmul_v2  不支持",
        "body": "\r\n部署时，出现Erro：this model is not  supported,because 1 ops are not supported on 'arm'. these unsupported ops are :'matmul_v2'",
        "state": "open",
        "user": "gejianhui1",
        "closed_by": null,
        "created_at": "2020-12-23T07:27:38+00:00",
        "updated_at": "2024-08-31T09:03:41+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "YangLiu0427",
            "AIpioneer",
            "YangLiu0427",
            "AIpioneer",
            "marshorizon5318",
            "Coder-TieHH",
            "wyhoo"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 475,
        "title": "onnx2paddle算子不支持",
        "body": "ONNX模型转换至PaddlePaddle，x2paddle==1.0.0rc0\r\n\r\n模型来源：tensorflow pb文件转onnx而来 \r\n\r\n详细情况见模型链接：\r\n链接：https://pan.baidu.com/s/14Dp95xtUWdqrVDoHPndbCw \r\n提取码：zcan \r\n\r\n想把模型转换成paddle格式使用相关的推理功能，十分感谢！\r\n\r\n![2021-01-01 22-29-44 的屏幕截图](https://user-images.githubusercontent.com/37530610/103471935-df945800-4dc1-11eb-9baf-87486e5a20ed.png)\r\n",
        "state": "open",
        "user": "czy1747",
        "closed_by": "czy1747",
        "created_at": "2021-01-03T04:52:10+00:00",
        "updated_at": "2021-01-20T06:11:51+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "SunAhong1993",
            "czy1747",
            "SunAhong1993",
            "czy1747",
            "SunAhong1993",
            "czy1747",
            "czy1747"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 473,
        "title": "你好，一个pytorch模型转paddle的过程中， 1 OPs are not supported yet",
        "body": "你好，我在使用x2paddle把dbface的模型dbface.pth转成paddle的过程中报错，报错信息如下：\r\n\r\nload model: ../../model/dbface.pth\r\n['1', '7', '0']\r\nNow translating model from pytorch to paddle.\r\nTraceback (most recent call last):\r\n  File \"E:/github_cv/DBFace-master/mycode/pytorch2paddle/convert_code_dbface.py\", line 31, in <module>\r\n    input_examples=[torch.tensor(input_data)])\r\n  File \"D:\\Anaconda3\\envs\\pytorch_env\\lib\\site-packages\\x2paddle\\convert.py\", line 233, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"D:\\Anaconda3\\envs\\pytorch_env\\lib\\site-packages\\x2paddle\\op_mapper\\dygraph\\pytorch2paddle\\pytorch_op_mapper.py\", line 42, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== aten::upsample_nearest2d ============\r\n\r\n我查了X2Paddle支持OP列表，aten::upsample_nearest2d现在不支持，这个不常用吗，以后会支持吗？\r\n",
        "state": "open",
        "user": "David20160511",
        "closed_by": "SunAhong1993",
        "created_at": "2020-12-30T03:32:03+00:00",
        "updated_at": "2021-01-05T03:05:56+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "SunAhong1993",
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 476,
        "title": "2 OPs are not supported yet",
        "body": "使用车牌识别训练的tensorflow模型，转化为paddle模型出错。下载的最新的X2Paddle代码安装的x2paddle转化\r\n\r\npaddle.__version__ = 2.0.0-alpha0\r\nNow translating model from tensorflow to paddle.\r\n\r\n========= 2 OPs are not supported yet ===========\r\n========== SparseToDense ============\r\n========== CTCGreedyDecoder ============\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 273, in main\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 128, in tf2paddle\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/tf2paddle/tf_op_mapper.py\", line 94, in __init__\r\nException: Model is not supported yet.\r\n\r\n模型链接：https://pan.baidu.com/s/1lgnQlWwhqmSU_vXqebRNzQ \r\n提取码：9idk ",
        "state": "open",
        "user": "Huihuihh",
        "closed_by": null,
        "created_at": "2021-01-05T03:07:31+00:00",
        "updated_at": "2021-01-11T06:05:40+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "Huihuihh",
            "SunAhong1993",
            "SunAhong1993",
            "Huihuihh",
            "SunAhong1993"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 477,
        "title": "利用最新的develop版本安装x2paddle，转化tf模型有误",
        "body": "root@NUC8i5BEH:/home/Desktop# x2paddle --framework=tensorflow --model=tangyan.pb --save_dir=model\r\npaddle.__version__ = 2.0.0-alpha0\r\nNow translating model from tensorflow to paddle.\r\nTotal nodes: 316\r\nNodes converting ...\r\nConverting node 132 ...     Traceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 273, in main\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 128, in tf2paddle\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/tf2paddle/tf_op_mapper.py\", line 132, in __init__\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/tf2paddle/tf_op_mapper.py\", line 679, in MirrorPad\r\nNameError: name 'np' is not defined",
        "state": "closed",
        "user": "Huihuihh",
        "closed_by": "Huihuihh",
        "created_at": "2021-01-05T07:25:52+00:00",
        "updated_at": "2021-01-11T07:17:42+00:00",
        "closed_at": "2021-01-11T07:17:42+00:00",
        "comments_count": [
            "SunAhong1993",
            "Huihuihh",
            "SunAhong1993",
            "Huihuihh",
            "SunAhong1993",
            "Huihuihh"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 480,
        "title": "转换tensorflow模型报错Wrong wire type in tag",
        "body": "paddle.__version__ = 2.0.0-rc1\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/pywrap_tensorflow_internal.py:15: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\nNow translating model from tensorflow to paddle.\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 273, in main\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 127, in tf2paddle\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/decoder/tf_decoder.py\", line 333, in __init__\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/message.py\", line 199, in ParseFromString\r\n    return self.MergeFromString(serialized)\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/python_message.py\", line 1145, in MergeFromString\r\n    if self._InternalParse(serialized, 0, length) != length:\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/python_message.py\", line 1212, in InternalParse\r\n    pos = field_decoder(buffer, new_pos, end, self, field_dict)\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/decoder.py\", line 754, in DecodeField\r\n    if value._InternalParse(buffer, pos, new_pos) != new_pos:\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/python_message.py\", line 1212, in InternalParse\r\n    pos = field_decoder(buffer, new_pos, end, self, field_dict)\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/decoder.py\", line 733, in DecodeRepeatedField\r\n    if value.add()._InternalParse(buffer, pos, new_pos) != new_pos:\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/python_message.py\", line 1212, in InternalParse\r\n    pos = field_decoder(buffer, new_pos, end, self, field_dict)\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/decoder.py\", line 888, in DecodeMap\r\n    if submsg._InternalParse(buffer, pos, new_pos) != new_pos:\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/python_message.py\", line 1199, in InternalParse\r\n    buffer, new_pos, wire_type)  # pylint: disable=protected-access\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/decoder.py\", line 989, in _DecodeUnknownField\r\n    (data, pos) = _DecodeUnknownFieldSet(buffer, pos)\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/decoder.py\", line 968, in _DecodeUnknownFieldSet\r\n    (data, pos) = _DecodeUnknownField(buffer, pos, wire_type)\r\n  File \"/usr/local/lib/python3.6/dist-packages/protobuf-4.0.0rc2-py3.6.egg/google/protobuf/internal/decoder.py\", line 993, in _DecodeUnknownField\r\n    raise _DecodeError('Wrong wire type in tag.')\r\ngoogle.protobuf.message.DecodeError: Wrong wire type in tag.\r\n\r\n",
        "state": "open",
        "user": "Huihuihh",
        "closed_by": null,
        "created_at": "2021-01-06T03:56:19+00:00",
        "updated_at": "2021-01-11T07:11:00+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "TensorFlow",
            "environment"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 481,
        "title": "onnx模型转paddle失败",
        "body": "paddle.__version__ = 2.0.0-rc1\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 9\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 9, automatically treated as op_set: 9.\r\n\r\n========= 2 OPs are not supported yet ===========\r\n========== LogSoftmax ============\r\n========== LSTM ============\r\n/usr/lib/python3/dist-packages/apport/report.py:13: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import fnmatch, glob, traceback, errno, sys, atexit, locale, imp, stat\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 288, in main\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 187, in onnx2paddle\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/onnx_op_mapper.py\", line 32, in __init__\r\nException: Model is not supported yet.\r\n\r\n\r\n模型链接：https://pan.baidu.com/s/1o177RN-Iu10l6yjx2F7jcg \r\n提取码：uy96 \r\n",
        "state": "open",
        "user": "Huihuihh",
        "closed_by": null,
        "created_at": "2021-01-06T08:13:54+00:00",
        "updated_at": "2021-01-08T09:16:52+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 482,
        "title": "导入pytorch2paddle报错 ，from x2paddle.convert import pytorch2paddle报错",
        "body": "paddlepaddle 1.8.5  \r\n然后x2paddle是1.0.0rc。\r\n报错。\r\n\r\nTraceback (most recent call last):\r\n  File \"test/paddle_serveing/test_conver.py\", line 69, in <module>\r\n    from x2paddle.convert import pytorch2paddle\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle/__init__.py\", line 3, in <module>\r\n    from .core.program import PaddleGraph\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle/core/program.py\", line 18, in <module>\r\n    import paddle.fluid as fluid\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/__init__.py\", line 37, in <module>\r\n    import paddle.complex\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/complex/__init__.py\", line 15, in <module>\r\n    from . import tensor\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/complex/tensor/__init__.py\", line 15, in <module>\r\n    from . import math\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/complex/tensor/math.py\", line 15, in <module>\r\n    from paddle.common_ops_import import *\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/common_ops_import.py\", line 15, in <module>\r\n    from paddle.fluid.layer_helper import LayerHelper\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/__init__.py\", line 35, in <module>\r\n    from . import framework\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/framework.py\", line 35, in <module>\r\n    from . import core\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/core.py\", line 273, in <module>\r\n    raise e\r\n  File \"/usr/local/lib/python3.6/site-packages/paddle/fluid/core.py\", line 243, in <module>\r\n    from .core_avx import *\r\nImportError: /usr/local/lib/python3.6/site-packages/paddle/fluid/core_avx.so: undefined symbol: dnnl_matmul_desc_init\r\n",
        "state": "open",
        "user": "WeipengChan",
        "closed_by": null,
        "created_at": "2021-01-07T07:11:45+00:00",
        "updated_at": "2021-01-07T08:50:37+00:00",
        "closed_at": null,
        "comments_count": [
            "WeipengChan",
            "SunAhong1993"
        ],
        "labels": [
            "environment"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 483,
        "title": "Message type \"caffe.PoolingParameter\" has no field named \"ceil_mode\".",
        "body": "Caffe模型转换至PaddlePaddle，Caffe模型的来源是自研模型  ，模型任务是属于关键点\r\n\r\npaddle.__version__ = 2.0.0-rc1\r\nNow translating model from caffe to paddle.\r\nTraceback (most recent call last):\r\n  File \"/root/miniconda3/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/x2paddle/convert.py\", line 298, in main\r\n    args.caffe_proto, args.paddle_type, params_merge)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/x2paddle/convert.py\", line 166, in caffe2paddle\r\n    model = CaffeDecoder(proto, weight, caffe_proto)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/x2paddle/decoder/caffe_decoder.py\", line 291, in __init__\r\n    text_format.Merge(proto_str, self.net)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/google/protobuf/text_format.py\", line 737, in Merge\r\n    allow_unknown_field=allow_unknown_field)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/google/protobuf/text_format.py\", line 805, in MergeLines\r\n    return parser.MergeLines(lines, message)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/google/protobuf/text_format.py\", line 830, in MergeLines\r\n    self._ParseOrMerge(lines, message)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/google/protobuf/text_format.py\", line 852, in _ParseOrMerge\r\n    self._MergeField(tokenizer, message)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/google/protobuf/text_format.py\", line 980, in _MergeField\r\n    merger(tokenizer, message, field)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/google/protobuf/text_format.py\", line 1054, in _MergeMessageField\r\n    self._MergeField(tokenizer, sub_message)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/google/protobuf/text_format.py\", line 980, in _MergeField\r\n    merger(tokenizer, message, field)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/google/protobuf/text_format.py\", line 1054, in _MergeMessageField\r\n    self._MergeField(tokenizer, sub_message)\r\n  File \"/root/miniconda3/lib/python3.6/site-packages/google/protobuf/text_format.py\", line 947, in _MergeField\r\n    (message_descriptor.full_name, name))\r\ngoogle.protobuf.text_format.ParseError: 1858:5 : Message type \"caffe.PoolingParameter\" has no field named \"ceil_mode\".\r\n",
        "state": "closed",
        "user": "WeipengChan",
        "closed_by": "WeipengChan",
        "created_at": "2021-01-07T11:04:04+00:00",
        "updated_at": "2021-01-07T11:13:34+00:00",
        "closed_at": "2021-01-07T11:07:35+00:00",
        "comments_count": [
            "SunAhong1993",
            "WeipengChan"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 484,
        "title": "多目标检测模型转paddle出错",
        "body": "模型来自 https://github.com/open-mmlab/mmdetection\r\n使用x2paddle转化为paddle模型时出错\r\npaddle.__version__ = 2.0.0-rc1\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\n/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/decoder/onnx_shape_inference.py:510: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 11, automatically treated as op_set: 9.\r\n\r\n========= 3 OPs are not supported yet ===========\r\n========== NonMaxSuppression ============\r\n========== Log ============\r\n========== TopK ============\r\n/usr/lib/python3/dist-packages/apport/report.py:13: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import fnmatch, glob, traceback, errno, sys, atexit, locale, imp, stat\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 288, in main\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 187, in onnx2paddle\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/onnx_op_mapper.py\", line 32, in __init__\r\nException: Model is not supported yet.\r\n\r\n模型链接：https://pan.baidu.com/s/1AZVzaLsZSf7hIvx6T_RpdA \r\n提取码：pez0 ",
        "state": "open",
        "user": "Huihuihh",
        "closed_by": null,
        "created_at": "2021-01-08T07:55:18+00:00",
        "updated_at": "2021-01-12T07:02:29+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "Huihuihh"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 491,
        "title": "tensorflow模型转化为paddle模型op不支持",
        "body": "paddle.__version__ = 2.0.0-rc1\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/pywrap_tensorflow_internal.py:15: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:516: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:517: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:518: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:519: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:520: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\r\n/usr/local/lib/python3.6/dist-packages/tensorflow/python/framework/dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\r\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\r\nNow translating model from tensorflow to paddle.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== SplitV ============\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')())\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 273, in main\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 128, in tf2paddle\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/tf2paddle/tf_op_mapper.py\", line 94, in __init__\r\nException: Model is not supported yet.\r\n\r\n模型链接：https://pan.baidu.com/s/1vIzdO7l0bDfCZ6qTz5NGDQ \r\n提取码：4d4b ",
        "state": "closed",
        "user": "Huihuihh",
        "closed_by": "Huihuihh",
        "created_at": "2021-01-14T09:59:09+00:00",
        "updated_at": "2021-01-18T09:30:30+00:00",
        "closed_at": "2021-01-18T09:30:30+00:00",
        "comments_count": [
            "SunAhong1993",
            "SunAhong1993",
            "Huihuihh",
            "SunAhong1993",
            "Huihuihh"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 492,
        "title": "pytorch spectral_norm的支持",
        "body": "在pytorch模型转paddle，转成中间onnx模型时spectral_norm不支持，这个不知道有人了解没？\r\n一直报错：RuntimeError: Tensors must have same number of dimensions: got 2 and 1\r\n",
        "state": "open",
        "user": "FengLiXue",
        "closed_by": null,
        "created_at": "2021-01-15T09:13:30+00:00",
        "updated_at": "2021-01-18T02:15:56+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 493,
        "title": "TensorFlow OPs not supported",
        "body": "```\r\npaddle.__version__ = 2.0.0-rc0\r\nNow translating model from tensorflow to paddle.\r\n\r\n========= 11 OPs are not supported yet ===========\r\n========== SaveV2 ============\r\n========== PadV2 ============\r\n========== Log ============\r\n========== VariableV2 ============\r\n========== NoOp ============\r\n========== Cumsum ============\r\n========== TruncatedNormal ============\r\n========== ReverseV2 ============\r\n========== RestoreV2 ============\r\n========== Select ============\r\n========== Assign ============\r\nTraceback (most recent call last):\r\n  File \"/root/anaconda3/bin/x2paddle\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/x2paddle/convert.py\", line 273, in main\r\n    define_input_shape, args.paddle_type, params_merge)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/x2paddle/convert.py\", line 128, in tf2paddle\r\n    mapper = TFOpMapper(model)\r\n  File \"/root/anaconda3/lib/python3.7/site-packages/x2paddle/op_mapper/dygraph/tf2paddle/tf_op_mapper.py\", line 94, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n```",
        "state": "open",
        "user": "Dreamkeeper66666",
        "closed_by": null,
        "created_at": "2021-01-18T04:56:32+00:00",
        "updated_at": "2021-01-18T08:01:21+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 495,
        "title": "--params_merge参数不起作用",
        "body": "1. --params_merge参数不起作用\r\n2. 存在多余参数--without_data_format_optimization",
        "state": "closed",
        "user": "SunAhong1993",
        "closed_by": "SunAhong1993",
        "created_at": "2021-01-19T07:18:53+00:00",
        "updated_at": "2021-01-25T06:48:37+00:00",
        "closed_at": "2021-01-25T06:48:37+00:00",
        "comments_count": [],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 494,
        "title": "将onnx模型转paddle报错",
        "body": "命令行：x2paddle --framework=onnx --model=mobilefacenet.onnx --save_dir=./\r\n错误信息：paddle.__version__ = 2.0.0-rc0\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 9\r\nshape inferencing ...\r\n/usr/local/lib/python3.5/dist-packages/x2paddle-1.0.0rc1-py3.5.egg/x2paddle/decoder/onnx_shape_inference.py:510: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 9, automatically treated as op_set: 9.\r\nTotal nodes: 187\r\nNodes converting ...\r\nConverting node 374 ...     convert failed node:337, op_type is PRelu\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')())\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-1.0.0rc1-py3.5.egg/x2paddle/convert.py\", line 288, in main\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-1.0.0rc1-py3.5.egg/x2paddle/convert.py\", line 187, in onnx2paddle\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-1.0.0rc1-py3.5.egg/x2paddle/op_mapper/dygraph/onnx2paddle/onnx_op_mapper.py\", line 46, in __init__\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-1.0.0rc1-py3.5.egg/x2paddle/op_mapper/dygraph/onnx2paddle/opset9/opset.py\", line 72, in run_mapping\r\n  File \"/usr/local/lib/python3.5/dist-packages/x2paddle-1.0.0rc1-py3.5.egg/x2paddle/op_mapper/dygraph/onnx2paddle/opset9/opset.py\", line 1395, in PRelu\r\n  File \"<__array_function__ internals>\", line 6, in reshape\r\n  File \"/home/user/.local/lib/python3.5/site-packages/numpy/core/fromnumeric.py\", line 301, in reshape\r\n    return _wrapfunc(a, 'reshape', newshape, order=order)\r\n  File \"/home/user/.local/lib/python3.5/site-packages/numpy/core/fromnumeric.py\", line 58, in _wrapfunc\r\n    return _wrapit(obj, method, *args, **kwds)\r\n  File \"/home/user/.local/lib/python3.5/site-packages/numpy/core/fromnumeric.py\", line 47, in _wrapit\r\n    result = getattr(asarray(obj), method)(*args, **kwds)\r\nValueError: cannot reshape array of size 1 into shape (64,)\r\n\r\n请求帮助，谢谢。",
        "state": "open",
        "user": "YangLiu0427",
        "closed_by": "YangLiu0427",
        "created_at": "2021-01-18T09:37:59+00:00",
        "updated_at": "2021-01-25T06:44:25+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "YangLiu0427",
            "SunAhong1993",
            "YangLiu0427",
            "SunAhong1993",
            "SunAhong1993",
            "YangLiu0427",
            "YangLiu0427",
            "SunAhong1993",
            "YangLiu0427",
            "SunAhong1993",
            "YangLiu0427",
            "SunAhong1993",
            "SunAhong1993"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 497,
        "title": "yolov5s.onnx转换报错",
        "body": "请说明模型的来源，模型类型（例如图像分类、目标检测等）  \r\nyolov5目标检测模型，来自https://github.com/ultralytics/yolov5，v4.0 release的yolov5s.pt\r\n通过repository中models/export.py文件夹导出，再用x2paddle时，命令如下：\r\n x2paddle --framework onnx --model yolov5s.onnx  --save_dir ./yolov5s --paddle_type static\r\nx2paddle --framework onnx --model yolov5s.onnx --params_merge  --save_dir ./yolov5s --paddle_type static\r\nx2paddle --framework onnx --model yolov5s.onnx --params_merge  --save_dir ./yolov5s --paddle_type dygraph\r\n\r\npaddle版本：2.0.0-rc0（jetson上自己编译的，跑其他的没有问题）\r\n转换过程出错提示如下：\r\n```\r\nW0124 22:53:53.971727 24235 device_context.cc:338] Please NOTE: device: 0, CUDA Capability: 72, Driver API Version: 10.2, Runtime API Version: 10.2\r\nW0124 22:53:53.974630 24235 device_context.cc:346] device: 0, cuDNN Version: 8.0.\r\nFail to generate inference model! Problem happend while export inference model from python code '/home/lyb/code/x2paddle_test/yolov5s/x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"/home/lyb/envs/paddle-paddlex/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')()\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 288, in main\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 189, in onnx2paddle\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/core/program.py\", line 246, in gen_model\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/core/program.py\", line 310, in gen_dygraph_model\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/core/program.py\", line 306, in gen_dygraph_model\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/core/program.py\", line 683, in dygraph2static\r\n  File \"<decorator-gen-54>\", line 2, in save\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/dygraph/base.py\", line 38, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/dygraph/jit.py\", line 622, in save\r\n    concrete_program = layer.forward.concrete_program\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 445, in concrete_program\r\n    concrete_program, _ = self.get_concrete_program(*input_spec)\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 385, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 656, in __getitem__\r\n    self._caches[item] = self._build_once(item)\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 647, in _build_once\r\n    class_instance=cache_key.class_instance)\r\n  File \"<decorator-gen-46>\", line 2, in from_func_spec\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/dygraph/base.py\", line 38, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 603, in from_func_spec\r\n    outputs = static_func(*inputs)\r\n  File \"/tmp/tmpqh_1f2dx.py\", line 274, in forward\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/tensor/manipulation.py\", line 117, in concat\r\n    return paddle.fluid.layers.concat(input=x, axis=axis, name=name)\r\n  File \"/home/lyb/envs/paddle-paddlex/lib/python3.6/site-packages/paddle/fluid/layers/tensor.py\", line 307, in concat\r\n    \"All the Tensors in the input must have the same data type.\")\r\nTypeError: All the Tensors in the input must have the same data type.\r\n```\r\n谢谢！\r\n",
        "state": "closed",
        "user": "jedibobo",
        "closed_by": "jedibobo",
        "created_at": "2021-01-24T14:55:39+00:00",
        "updated_at": "2021-01-25T13:37:21+00:00",
        "closed_at": "2021-01-25T13:37:21+00:00",
        "comments_count": [
            "SunAhong1993",
            "jedibobo",
            "jedibobo"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 502,
        "title": "方便提供下onnx模型到545510262@qq.com吗",
        "body": "方便提供下onnx模型到545510262@qq.com吗\r\n\r\n_Originally posted by @SunAhong1993 in https://github.com/PaddlePaddle/X2Paddle/issues/501#issuecomment-767392366_\r\n\r\n請問模型過大 提供 google driver 連結方便嗎",
        "state": "closed",
        "user": "tingggggg",
        "closed_by": "tingggggg",
        "created_at": "2021-01-26T08:49:29+00:00",
        "updated_at": "2021-01-26T08:50:00+00:00",
        "closed_at": "2021-01-26T08:50:00+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 498,
        "title": "onnx2paddle 報錯",
        "body": "模型來源：tf\r\ninception v1 和 v2\r\n先轉至 onnx 後\r\n\r\n使用 x2paddle 出錯\r\n\r\nv1\r\n```\r\nλ 3667badca247 /wd x2paddle --framework=onnx --model=/model_onnx/inception_v1.onnx --save_dir=onnx2paddle/inception_v1/ --paddle_type dygraph\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\npaddle.__version__ = 2.0.0-rc1\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 8\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 8, automatically treated as op_set: 9.\r\nTotal nodes: 146\r\nNodes converting ...\r\nConverting node 80 ...     convert failed node:InceptionV1_InceptionV1_Conv2d_1a_7x7_BatchNorm_FusedBatchNorm_0, op_type is Conv\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 288, in main\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 187, in onnx2paddle\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/onnx_op_mapper.py\", line 46, in __init__\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/opset9/opset.py\", line 97, in run_mapping\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/opset9/opset.py\", line 1719, in Conv\r\nAttributeError: 'str' object has no attribute 'out_shapes'\r\n\r\n```\r\n\r\nv2\r\n```\r\nλ 3667badca247 /wd x2paddle --framework=onnx --model=/model_onnx/inception_v2.onnx --save_dir=onnx2paddle/inception_v2/ --paddle_type dygraph\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\npaddle.__version__ = 2.0.0-rc1\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 8\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 8, automatically treated as op_set: 9.\r\nTotal nodes: 171\r\nNodes converting ...\r\nConverting node 86 ...     convert failed node:InceptionV2_InceptionV2_Conv2d_1a_7x7_separable_conv2d_depthwise_0, op_type is Conv\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 288, in main\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 187, in onnx2paddle\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/onnx_op_mapper.py\", line 46, in __init__\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/opset9/opset.py\", line 97, in run_mapping\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/opset9/opset.py\", line 1719, in Conv\r\nAttributeError: 'str' object has no attribute 'out_shapes'\r\n```\r\n",
        "state": "closed",
        "user": "tingggggg",
        "closed_by": "tingggggg",
        "created_at": "2021-01-25T10:05:58+00:00",
        "updated_at": "2021-01-26T06:04:34+00:00",
        "closed_at": "2021-01-26T06:04:34+00:00",
        "comments_count": [
            "SunAhong1993",
            "tingggggg",
            "SunAhong1993",
            "SunAhong1993",
            "tingggggg"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 501,
        "title": "onnx2paddle 報錯 關於 fusedBatchNorm",
        "body": "tf 官方來源 resnet_v2_50, 101, 152, 200\r\n轉至 onnx 使用 X2paddle 報以下錯誤\r\n\r\n\r\n```\r\nλ 3667badca247 /wd x2paddle --framework=onnx --model=/model_onnx_tmp/resnet_v2_50.onnx --save_dir=onnx2paddle/resnet_v2_50/ --paddle_type dygraph\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\npaddle.__version__ = 2.0.0-rc1\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 8\r\nUnknown shape for input tensor[tensor name: 'x2paddle_X_0'] -> shape: ['unk__370', 224, 224, 3], Please define shape of input here,\r\nNote:you can use visualization tools like Netron to check input shape.\r\nShape of Input(e.g. -1,3,224,224), enter 'N' to skip: -1,224,224,3\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 8, automatically treated as op_set: 9.\r\nTotal nodes: 149\r\nNodes converting ...\r\nConverting node 70 ...     ******************** x2paddle_resnet_v2_50_conv1_weights_read__265__cf__265_0\r\n******************** x2paddle_resnet_v2_50_block1_unit_1_bottleneck_v2_preact_moving_mean_read__14__cf__14_0\r\nConverting node 72 ...     ******************** x2paddle_resnet_v2_50_block1_unit_1_bottleneck_v2_preact_gamma_read__13__cf__13_0\r\n******************** x2paddle_resnet_v2_50_block1_unit_1_bottleneck_v2_preact_moving_mean_read__14__cf__14_0\r\n******************** x2paddle_resnet_v2_50_block1_unit_1_bottleneck_v2_preact_gamma_read__13__cf__13_0\r\nconvert failed node:resnet_v2_50_block1_unit_1_bottleneck_v2_preact_FusedBatchNorm_0, op_type is BatchNormalization\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 259, in main\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 172, in onnx2paddle\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/onnx_op_mapper.py\", line 46, in __init__\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/opset9/opset.py\", line 98, in run_mapping\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/opset9/opset.py\", line 1355, in BatchNormalization\r\n  File \"/usr/local/lib/python3.6/site-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/dygraph/onnx2paddle/opset9/opset.py\", line 61, in _rename_or_remove_weight\r\nKeyError: \"x2paddle_resnet_v2_50_block1_unit_1_bottleneck_v2_preact_gamma_read__13__cf__13_0 not a key in {'x2paddle_resnet_v2_50_logits_weights_read__267__cf__267_0':  .... （過長省略）\r\n```\r\n\r\n在猜測可能是 tf model 中 fusedBatchNorm is_training 被設為 true 轉換至 ONNX\r\nONNX 在轉換至 paddle 才造成此問題。\r\n\r\n我需要重新存一個 model is_training set to False 嗎\r\n\r\n\r\n------------------- 補充 -------------------\r\n後來直接  x2paddle --framework=tensorflow 轉換 .pb 是成功的",
        "state": "open",
        "user": "tingggggg",
        "closed_by": null,
        "created_at": "2021-01-26T08:21:07+00:00",
        "updated_at": "2021-02-05T04:01:02+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "tingggggg",
            "SunAhong1993",
            "tingggggg",
            "SunAhong1993",
            "SunAhong1993"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 503,
        "title": "Pytorch模型转换至paddle模型出错",
        "body": "模型来源： Pytorch\r\n模型说明：来自paddle官方给的pytorch2paddle测试代码中的alexnet\r\n\r\n转换过程出错提示如下：\r\n```\r\nrc-1\r\n(torch) lyb@lyb-agx:~/code/x2paddle_test$ python pytooch2paddle.py \r\n['1', '7', '0']\r\nNow translating model from pytorch to paddle.\r\n/home/lyb/envs/torch/lib/python3.6/site-packages/torch/jit/_trace.py:940: TracerWarning: Encountering a list at the output of the tracer might cause the trace to be incorrect, this is only valid if the container structure does not change based on the module's inputs. Consider using a constant container instead (e.g. for `list`, use a `tuple` instead. for `dict`, use a `NamedTuple` instead). If you absolutely need this and know the side effects, pass strict=False to trace() to allow this behavior.\r\n  _force_outplace,\r\nModel optimizing ...\r\ntrace_fc_fuse_pass done!\r\nModel optimized.\r\nExporting inference model from python code ('/home/lyb/code/x2paddle_test/yolov4_torch2paddle/x2paddle_code.py')... \r\n\r\nW0126 16:31:36.376825 13592 device_context.cc:320] Please NOTE: device: 0, GPU Compute Capability: 7.2, Driver API Version: 10.2, Runtime API Version: 10.2\r\nW0126 16:31:36.380125 13592 device_context.cc:330] device: 0, cuDNN Version: 8.0.\r\n\r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\n0   paddle::framework::SignalHandle(char const*, int)\r\n1   paddle::platform::GetCurrentTraceBackString[abi:cxx11]()\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nFatalError: `Segmentation fault` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 1611649896 (unix time) try \"date -d @1611649896\" if you are using GNU date ***]\r\n  [SignalInfo: *** SIGSEGV (@0x7f92b40090) received by PID 13592 (TID 0x7f92b8a010) from PID 18446744071875854480 ***]\r\n```\r\n感觉像是主框架的锅，主框架是我自己在jetson上编译的rc1，也跑过安装成功测试。\r\n感谢！",
        "state": "open",
        "user": "jedibobo",
        "closed_by": null,
        "created_at": "2021-01-26T09:17:59+00:00",
        "updated_at": "2021-02-05T04:00:30+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "environment"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 504,
        "title": "LRN（Local Response Normalization） OP 尚未支持",
        "body": "如title\r\n在轉換模型過程中，發現 tf.nn.lrn -> ONNX -> paddle\r\nonnx2paddle 這段目前尚未支持",
        "state": "closed",
        "user": "tingggggg",
        "closed_by": "tingggggg",
        "created_at": "2021-01-28T08:59:53+00:00",
        "updated_at": "2021-02-05T07:52:04+00:00",
        "closed_at": "2021-02-05T07:52:04+00:00",
        "comments_count": [
            "Channingss",
            "SunAhong1993",
            "tingggggg"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 506,
        "title": "TensorFlow模型pb文件转， 提示模型不支持",
        "body": "模型来源： TensorFlow\r\n模型说明： 图像生成，https://gitee.com/Harry6011/DCGAN-tensorflow \r\n\r\n命令：\r\nx2paddle --framework=tensorflow --model=checkpoint/DCGAN_64_64_64/DCGAN.pb --save_dir=pd_model/DCGAN --paddle_type static\r\n\r\n\r\n转换过程出错提示如下：\r\n```\r\nNow translating model from tensorflow to paddle.\r\n\r\n========= 24 OPs are not supported yet ===========\r\n========== NoOp ============\r\n========== ScalarSummary ============\r\n========== ShapeN ============\r\n========== BiasAddGrad ============\r\n========== BroadcastGradientArgs ============\r\n========== RestoreV2 ============\r\n========== FusedBatchNormGrad ============\r\n========== SaveV2 ============\r\n========== ZerosLike ============\r\n========== ReluGrad ============\r\n========== TanhGrad ============\r\n========== MergeSummary ============\r\n========== TruncatedNormal ============\r\n========== Conv2DBackpropFilter ============\r\n========== VariableV2 ============\r\n========== ImageSummary ============\r\n========== Reciprocal ============\r\n========== HistogramSummary ============\r\n========== Log1p ============\r\n========== ApplyAdam ============\r\n========== RandomStandardNormal ============\r\n========== Assign ============\r\n========== Select ============\r\n========== AssignSub ============\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')())\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 273, in main\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/convert.py\", line 128, in tf2paddle\r\n  File \"/usr/local/lib/python3.6/dist-packages/x2paddle-1.0.0rc1-py3.6.egg/x2paddle/op_mapper/static/tf2paddle/tf_op_mapper.py\", line 96, in __init__\r\nException: Model is not supported yet.\r\n```\r\n\r\n备注：\r\n  def save(self, checkpoint_dir, step):\r\n    model_name = \"DCGAN.model\"\r\n    checkpoint_dir = os.path.join(checkpoint_dir, self.model_dir)\r\n    # 本身没有转化pd文件的code，下面这行是自己后来加的。\r\n    tf.train.write_graph(self.sess.graph.as_graph_def(), checkpoint_dir, self.dataset_name+'DCGAN.pb', as_text=False)\r\n    if not os.path.exists(checkpoint_dir):\r\n      os.makedirs(checkpoint_dir)\r\n    self.saver.save(self.sess,\r\n            os.path.join(checkpoint_dir, model_name),\r\n            global_step=step)",
        "state": "open",
        "user": "459936800",
        "closed_by": null,
        "created_at": "2021-01-29T05:58:48+00:00",
        "updated_at": "2021-02-01T12:37:21+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 505,
        "title": "“VGG_ILSVRC_19_layers.caffemodel“ X2Paddle失败",
        "body": "## 环境\r\ndocker pull paddlepaddle/paddle:2.0.0-gpu-cuda10.0-cudnn7\r\n```\r\n/ paddle --version\r\n/usr/local/python2.7.15/lib/python2.7/site-packages/OpenSSL/crypto.py:14: CryptographyDeprecationWarning: Python 2 is no longer supported by the Python core team. Support for it is now deprecated in cryptography, and will be removed in the next release.\r\n  from cryptography import utils, x509\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\nPaddlePaddle 2.0.0.post100, compiled with\r\n    with_avx: ON\r\n    with_gpu: ON\r\n    with_mkl: ON\r\n    with_mkldnn: ON\r\n    with_python: ON\r\n```\r\n\r\n## 执行记录\r\n\r\n模型来源： caffe，图像分类\r\n模型说明： VGG19的预训练模型：\r\n[http://www.robots.ox.ac.uk/~vgg/software/very_deep/caffe/VGG_ILSVRC_19_layers.caffemodel](url)\r\n模型文件： 百度网盘上传中\r\n转换过程出错提示如下：\r\n```\r\n命令：\r\n x2paddle --framework=caffe --prototxt=VGG_ILSVRC_19_layers_deploy.prototxt --weight=VGG_ILSVRC_19_layers.caffemodel --save_dir=pd_model --paddle_type static\r\n\r\n输出：\r\ngrep: warning: GREP_OPTIONS is deprecated; please use an alias or script\r\npaddle.__version__ = 2.0.0\r\nNow translating model from caffe to paddle.\r\nThe filter layer:drop6\r\nThe filter layer:drop7\r\nTotal nodes: 44\r\nNodes converting ...\r\n\r\nNodes converted.\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python2.7.15/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.0rc1', 'console_scripts', 'x2paddle')()\r\n  File \"build/bdist.linux-x86_64/egg/x2paddle/convert.py\", line 256, in main\r\n  File \"build/bdist.linux-x86_64/egg/x2paddle/convert.py\", line 144, in caffe2paddle\r\n  File \"build/bdist.linux-x86_64/egg/x2paddle/core/program.py\", line 178, in build\r\nAssertionError: Couldn't find data_p0 in previous layers, the layers should be make by topological sort\r\n```\r\n",
        "state": "open",
        "user": "GreenValue",
        "closed_by": null,
        "created_at": "2021-01-28T10:09:09+00:00",
        "updated_at": "2021-02-02T06:16:14+00:00",
        "closed_at": null,
        "comments_count": [
            "GreenValue",
            "SunAhong1993",
            "SunAhong1993",
            "GreenValue",
            "SunAhong1993"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 508,
        "title": "Tensorflow inceptionv3转Paddle，报错KeyError",
        "body": "hi，我使用**master**分支的教程\r\n[https://github.com/PaddlePaddle/X2Paddle/blob/master/tensorflow2fluid/vgg_translate_tutorial.ipynb](url)\r\n\r\n将tensorflow checkpoint模型转为paddle，但是报错\r\n`Traceback (most recent call last):\r\n  File \"./convert_to_paddle_inceptionv3.py\", line 22, in <module>\r\n    convert.run(parser)\r\n  File \"../tf2fluid/convert.py\", line 129, in run\r\n    args.in_nodes, input_format)\r\n  File \"../tf2fluid/tensorflow_parser.py\", line 72, in __init__\r\n    self.tf_graph.build(input_format)\r\n  File \"../tf2fluid/tensorflow_graph.py\", line 114, in build\r\n    super(TensorflowGraph, self).build(input_format)\r\n  File \"../tf2fluid/graph.py\", line 53, in build\r\n    self._gen_newname_for_nodes()\r\n  File \"../tf2fluid/graph.py\", line 85, in _gen_newname_for_nodes\r\n    ref_name = self.name_generator.get_name(node)\r\n  File \"../tf2fluid/utils.py\", line 48, in get_name\r\n    ref_name = self.names[node.layer.input[0]]\r\nKeyError: u'InceptionV3/InceptionV3/Conv2d_1a_3x3/BatchNorm/cond/Switch:1'`\r\n\r\n我打印报错位置 tensorflow2fluid/tf2fluid/utils.py 中 44行\r\n`elif op_name.lower() == \"identity\":\r\n    print(\"========\")\r\n    print(self.names)\r\n    print(\"========\")\r\n    ref_name = self.names[node.layer.input[0]]`\r\n确实没有找到`Switch:1`\r\n\r\n我的模型是在tf slim版本的inceptionv3的基础上增加了fc层，并且使用双塔结构和rank loss，我怀疑是双塔的问题。\r\n我打印出了tensor，出问题的tensor是这样的\r\n`(<tf.Tensor 'InceptionV3/InceptionV3/Conv2d_1a_3x3/BatchNorm/cond/Switch:0' shape=() dtype=bool>, <tf.Tensor 'InceptionV3/InceptionV3/Conv2d_1a_3x3/      BatchNorm/cond/Switch:1' shape=() dtype=bool>)`\r\n\r\n\r\n模型链接: [https://pan.baidu.com/s/1pT-8BNHfOaQdYHj2CVZB6g](url) 提取码: fbs8\r\n\r\n可如流联系。\r\n\r\n**UPDATE**\r\n尝试了一下使用**develop**分支。\r\n先使用如下教程将上述checkpoint转为.pb\r\n[https://github.com/PaddlePaddle/X2Paddle/blob/develop/docs/user_guides/export_tf_model.md](url)\r\n再使用如下教程转paddle\r\n[https://github.com/PaddlePaddle/X2Paddle](url)\r\n报错如下，\r\n```\r\n  File \"x2paddle/convert_tf.py\", line 269, in <module>\r\n    main()\r\n  File \"x2paddle/convert_tf.py\", line 251, in main\r\n    define_input_shape, args.paddle_type)\r\n  File \"x2paddle/convert_tf.py\", line 114, in tf2paddle\r\n    mapper = TFOpMapper(model)\r\n  File \"/home/ecom/liuxiang12/env/python_tf_paddle/lib/python2.7/site-packages/x2paddle/op_mapper/dygraph/tf2paddle/tf_op_mapper.py\", line 128, in __init__\r\n    func(node)\r\n  File \"/home/ecom/liuxiang12/env/python_tf_paddle/lib/python2.7/site-packages/x2paddle/op_mapper/dygraph/tf2paddle/tf_op_mapper.py\", line 197, in Placeholder\r\n    node.layer_name)\r\nAssertionError: Unknown shape of input nodes[Placeholder_3].\r\n```\r\nPlaceholder_3是\r\n`is_training (<tf.Tensor 'Placeholder_3:0' shape=() dtype=bool>,)`\r\nconvert_tf.py即为convert.py",
        "state": "closed",
        "user": "p1n0cch10",
        "closed_by": "SunAhong1993",
        "created_at": "2021-02-01T16:27:19+00:00",
        "updated_at": "2021-02-05T04:01:50+00:00",
        "closed_at": "2021-02-05T04:01:50+00:00",
        "comments_count": [
            "SunAhong1993",
            "p1n0cch10",
            "SunAhong1993"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 511,
        "title": "onnx lstm",
        "body": "请问现在支持onnx的lstm模型转paddle吗，刚转了一下，出现了不支持\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 9, automatically treated as op_set: 9.\r\nthere are 1 OPs are not supported yet, list as below:\r\nLSTM",
        "state": "open",
        "user": "lgcy",
        "closed_by": null,
        "created_at": "2021-02-07T09:36:41+00:00",
        "updated_at": "2021-02-23T07:03:28+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "lgcy",
            "SunAhong1993",
            "lgcy",
            "SunAhong1993",
            "lgcy",
            "SunAhong1993",
            "SunAhong1993",
            "lgcy",
            "SunAhong1993",
            "lgcy",
            "lgcy",
            "SunAhong1993",
            "SunAhong1993",
            "lgcy",
            "SunAhong1993"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 512,
        "title": "self.params[node.layer_name + \"_cparam2\"] = np.squeeze(node.data[ IndexError: list index out of range",
        "body": "Hi, I have been trying to convert caffe > paddle, however, I keep facing the issue of Indexerror: list index out of range on the file caffe_op_mapper.py. Please help!!\r\n\r\n![image](https://user-images.githubusercontent.com/36850212/108604415-c46cbe80-73e8-11eb-89d0-9e830193cb29.png)\r\n\r\nThe caffe model that I am using, with the prototxt as attached.\r\n[caffemodel.zip](https://github.com/PaddlePaddle/X2Paddle/files/6015926/caffemodel.zip)\r\n\r\n\r\n",
        "state": "closed",
        "user": "edmundang1994",
        "closed_by": "edmundang1994",
        "created_at": "2021-02-20T18:00:33+00:00",
        "updated_at": "2021-02-23T06:14:01+00:00",
        "closed_at": "2021-02-23T06:14:01+00:00",
        "comments_count": [
            "SunAhong1993",
            "edmundang1994"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 513,
        "title": "pytorch模型转为paddle模型，提示prelu不支持",
        "body": "pytorch模型直接转为paddle模型时提示错误，prelu不支持，错误如下：\r\nNow translating model from pytorch to paddle.\r\nTraceback (most recent call last):\r\n  File \"/home/un/Silent-Face-Anti-Spoofing/conver.py\", line 32, in <module>\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== aten::prelu ============\r\n    input_examples=[torch.tensor(input_data)])\r\n  File \"/usr/local/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/convert.py\", line 201, in pytorch2paddle\r\n  File \"/usr/local/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/op_mapper/dygraph/pytorch2paddle/pytorch_op_mapper.py\", line 43, in __init__\r\nException: Model is not supported yet.\r\n\r\nProcess finished with exit code 1",
        "state": "open",
        "user": "zhudibo",
        "closed_by": null,
        "created_at": "2021-02-24T06:39:00+00:00",
        "updated_at": "2021-03-04T03:55:48+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "zhudibo",
            "SunAhong1993",
            "zhudibo"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 515,
        "title": "x2paddle从onnx模型转paddle异常（yolo 目标检测）",
        "body": "![image](https://user-images.githubusercontent.com/26452514/109424440-91e14800-7a1e-11eb-8b8b-d29a6002f0f7.png)\r\n![image](https://user-images.githubusercontent.com/26452514/109424446-9a398300-7a1e-11eb-924f-9955fd2d9162.png)\r\n\r\nx2paddle从onnx转paddle后结构中多了几个transpose op导致输出结果顺序混乱，无法和onnx输出对齐。",
        "state": "closed",
        "user": "youngstu",
        "closed_by": "SunAhong1993",
        "created_at": "2021-02-28T15:44:29+00:00",
        "updated_at": "2021-03-03T07:54:16+00:00",
        "closed_at": "2021-03-03T07:54:16+00:00",
        "comments_count": [
            "SunAhong1993",
            "youngstu",
            "youngstu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 519,
        "title": "ONNX通过X2paddle转换时出现GPU错误",
        "body": "概要：在实验将pytorh中训练的模型通过x2paddle转化，实施路径是pytorch模型->onnx->paddle，在onnx->paddle\r\n过程中出现了GPU问题。报错信息简要为（这种错误出现在我一张卡满负荷跑的时候，切换到另一张空卡的时候没问题）\r\n\r\n> OSError: (External)  Cublas error, `CUSOLVER_STATUS_INTERNAL_ERROR`. An internal cuSolver operation failed. This error is usually caused by a cudaMemcpyAsync() failure.  (at /paddle/paddle/fluid/platform/device_context.h:264)\r\n\r\n安装库：paddlepaddle-gpu 2.0.0.post101以及其他必须库\r\n\r\n疑惑：我是onnx通过X2paddle转为pd模型，为什么需要在GPU有显存的时候才可以进行？是我paddlepaddle为GPU版本的原因吗？\r\n\r\n**error trace**：\r\n(paddle) lenovo@lenovo-desktop:~/4T/xxx/program/Torch$ x2paddle --framework=onnx --model=./resnet18.onnx --save_dir=pd_model --paddle_type dygraph\r\npaddle.__version__ = 2.0.0\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 10\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 10, automatically treated as op_set: 9.\r\nTotal nodes: 69\r\nNodes converting ...\r\nConverting node 172 ...     \r\nNodes converted.\r\nExporting inference model from python code ('/home/lenovo/4T/xxxx/program/Torch/pd_model/x2paddle_code.py')... \r\n\r\nW0303 10:10:54.654881 28945 device_context.cc:362] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 10.1, Runtime API Version: 10.1\r\nW0303 10:10:54.655699 28945 device_context.cc:372] device: 0, cuDNN Version: 8.0.\r\nFail to generate inference model! Problem happend while export inference model from python code '/home/lenovo/4T/xxx/program/Torch/pd_model/x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"/home/lenovo/anaconda2/envs/paddle/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.1', 'console_scripts', 'x2paddle')())\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/convert.py\", line 264, in main\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/convert.py\", line 174, in onnx2paddle\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/core/program.py\", line 245, in gen_model\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/core/program.py\", line 304, in gen_dygraph_model\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/core/program.py\", line 300, in gen_dygraph_model\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/core/program.py\", line 667, in dygraph2static\r\n  File \"pd_model/x2paddle_code.py\", line 8, in __init__\r\n    self.x2paddle_fc_bias = self.create_parameter(shape=[1000], attr='x2paddle_fc_bias', dtype='float32', default_initializer=paddle.nn.initializer.Constant(value=0.0))\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 397, in create_parameter\r\n    default_initializer)\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/paddle/fluid/layer_helper_base.py\", line 372, in create_parameter\r\n    **attr._to_kwargs(with_initializer=True))\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2979, in create_parameter\r\n    initializer(param, self)\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/paddle/fluid/initializer.py\", line 165, in __call__\r\n    stop_gradient=True)\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 3095, in _prepend_op\r\n    kwargs.get(\"stop_gradient\", False))\r\n  File \"/home/lenovo/anaconda2/envs/paddle/lib/python3.7/site-packages/paddle/fluid/dygraph/tracer.py\", line 45, in trace_op\r\n    not stop_gradient)\r\n**OSError: (External)  Cublas error, `CUSOLVER_STATUS_INTERNAL_ERROR`. An internal cuSolver operation failed. This error is usually caused by a cudaMemcpyAsync() failure.  (at /paddle/paddle/fluid/platform/device_context.h:264)\r\n  [operator < fill_constant > error]**\r\n\r\n",
        "state": "closed",
        "user": "Owen-Fish",
        "closed_by": "Owen-Fish",
        "created_at": "2021-03-03T02:28:59+00:00",
        "updated_at": "2021-03-05T07:19:34+00:00",
        "closed_at": "2021-03-05T07:19:34+00:00",
        "comments_count": [
            "SunAhong1993",
            "Owen-Fish",
            "SunAhong1993",
            "Owen-Fish"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 518,
        "title": "【PyTorch模型代码转换需求收集🔥🔥🔥】",
        "body": "X2Paddle目前正在探索PyTorch模型代码的转换工作，帮助大家直接将基于PyTorch写的模型训练代码迁移到飞桨框架进行训练，有需求的童鞋快联系我们！\r\n\r\n联系方式\r\n- 直接此issue下直接评论，提出需求，例如你当前的代码库路径\r\n- 邮件给jiangjiajun@baidu.com",
        "state": "open",
        "user": "jiangjiajun",
        "closed_by": "SunAhong1993",
        "created_at": "2021-03-02T09:06:49+00:00",
        "updated_at": "2021-10-19T08:35:21+00:00",
        "closed_at": null,
        "comments_count": [
            "MrWcy",
            "SunAhong1993",
            "15150053530",
            "851532562",
            "851532562",
            "SunAhong1993",
            "SunAhong1993",
            "851532562",
            "a794133319",
            "SunAhong1993",
            "AlexZou14",
            "Cppowboy",
            "QinZiwen",
            "gsq7474741",
            "zhihaofan"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 517,
        "title": "转tf模型时报错：'utf-8' codec can't decode byte 0xb9 in position 3437: invalid start byte",
        "body": "‘’‘\r\n模型来源： TensorFlow\r\n模型说明：图像分类模型https://github.com/tensorflow/models/tree/master/research/slim\r\n                  下载的MobileNet_v2预训练模型\r\n模型文件：https://storage.googleapis.com/mobilenet_v2/checkpoints/mobilenet_v2_1.0_224.tgz\r\n转换过程出错提示如下：'utf-8' codec can't decode byte 0xb9 in position 3437: invalid start byte\r\n![图片](https://user-images.githubusercontent.com/73383216/109450736-a1947700-7a86-11eb-8813-6d8b2a76bbcf.png)\r\n\r\n```\r\n环境：\r\nwin10 anaconda\r\npaddlepaddle-2.0.0rc1-cp37-cp37m-win_amd64.whl\r\nx2paddle-1.0.0rc0\r\npaddlelite-2.8rc0\r\ntensorflow1.14.0\r\n\r\n```\r\n",
        "state": "closed",
        "user": "Zyq990127",
        "closed_by": "Zyq990127",
        "created_at": "2021-03-01T04:09:49+00:00",
        "updated_at": "2021-08-22T17:02:55+00:00",
        "closed_at": "2021-08-22T17:02:55+00:00",
        "comments_count": [
            "SunAhong1993",
            "Zyq990127",
            "SunAhong1993",
            "Zyq990127",
            "SunAhong1993",
            "Zyq990127",
            "SunAhong1993",
            "Zyq990127",
            "SunAhong1993",
            "Zyq990127",
            "SunAhong1993",
            "Zyq990127",
            "SunAhong1993",
            "Zyq990127",
            "Zyq990127",
            "Zyq990127",
            "Zyq990127",
            "SunAhong1993"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 520,
        "title": "onnx模型转换至paddle模型的时候显示DepthToSpace算子不支持",
        "body": "请说明模型的来源，模型类型（例如图像分类、目标检测等）  \r\n\r\n如有原模型文件或github链接，如方便可一并附上，方便开发人员分析。\r\n\r\n**为了便于开发人员快速定位原因，建议将模型文件上传（或通过百度网盘分享）**\r\n\r\n## 示例\r\n\r\n模型来源： TensorFlow\r\n模型说明： 图像分类模型，其相应repo为 https://github.com/xxxx\r\n模型文件： 链接: https://pan.baidu.com/s/1LRzTSJwsLOul99Tj5_43wQ 密码: d3dg\r\n转换过程出错提示如下：\r\n```\r\nException: Error happened when mapping node ['prior_box@0'] to onnx, which op_type is 'prior_box' with inputs: {'Image': ['image'], 'Input': ['elementwise_add_7.tmp_1']} and outputs: {'Boxes': ['prior_box_0.tmp_0'], 'Variances': ['prior_box_0.tmp_1']}\r\n```\r\n",
        "state": "closed",
        "user": "liuhongduosc",
        "closed_by": "liuhongduosc",
        "created_at": "2021-03-03T07:05:39+00:00",
        "updated_at": "2021-04-01T06:01:38+00:00",
        "closed_at": "2021-04-01T06:01:38+00:00",
        "comments_count": [
            "SunAhong1993",
            "liuhongduosc",
            "SunAhong1993"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 522,
        "title": "module 'paddle' has no attribute 'nn'",
        "body": "paddlepaddle = 1.8.5\r\nx2paddle按照第一种方式安装，需要pytorch模型转为paddle，现试用下面的例子会报错：\r\nimport torch\r\nimport numpy as np\r\nfrom torchvision.models import AlexNet\r\nfrom torchvision.models.utils import load_state_dict_from_url\r\n# 构建输入\r\ninput_data = np.random.rand(1, 3, 224, 224).astype(\"float32\")\r\n# 获取PyTorch Module\r\ntorch_module = AlexNet()\r\n# 设置为eval模式\r\ntorch_module.eval()\r\n# 进行转换\r\nfrom x2paddle.convert import pytorch2paddle\r\npytorch2paddle(torch_module,\r\n               save_dir=\"pd_model_trace\",\r\n               jit_type=\"trace\",\r\n               input_examples=[torch.tensor(input_data)])\r\n\r\n报错信息如下：\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 18, in <module>\r\n    input_examples=[torch.tensor(input_data)])\r\n  File \"lib/python3.6/site-packages/x2paddle-1.0.1-py3.6.egg/x2paddle/convert.py\", line 208, in pytorch2paddle\r\n  File \"lib/python3.6/site-packages/x2paddle-1.0.1-py3.6.egg/x2paddle/core/program.py\", line 245, in gen_model\r\n  File \"lib/python3.6/site-packages/x2paddle-1.0.1-py3.6.egg/x2paddle/core/program.py\", line 279, in gen_dygraph_model\r\n  File \"lib/python3.6/site-packages/x2paddle-1.0.1-py3.6.egg/x2paddle/optimizer/pytorch_code_optimizer/hierachical_tree.py\", line 399, in save_source_files\r\n  File \"lib/python3.6/site-packages/x2paddle-1.0.1-py3.6.egg/x2paddle/optimizer/pytorch_code_optimizer/hierachical_tree.py\", line 362, in convert_subgraph_to_layer\r\n  File \"lib/python3.6/site-packages/x2paddle-1.0.1-py3.6.egg/x2paddle/optimizer/pytorch_code_optimizer/hierachical_tree.py\", line 228, in merge_node\r\n  File \"lib/python3.6/site-packages/x2paddle-1.0.1-py3.6.egg/x2paddle/optimizer/pytorch_code_optimizer/layer_code_generator.py\", line 243, in gen_layer_code\r\n  File \"lib/python3.6/site-packages/x2paddle-1.0.1-py3.6.egg/x2paddle/optimizer/pytorch_code_optimizer/layer_code_generator.py\", line 145, in _update_attrs\r\n  File \"lib/python3.6/site-packages/x2paddle-1.0.1-py3.6.egg/x2paddle/core/util.py\", line 62, in remove_default_attrs\r\nAttributeError: module 'paddle' has no attribute 'nn'",
        "state": "open",
        "user": "nlj0011",
        "closed_by": null,
        "created_at": "2021-03-03T12:21:49+00:00",
        "updated_at": "2021-03-04T04:45:43+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "jiangjiajun",
            "nlj0011"
        ],
        "labels": [
            "environment"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 521,
        "title": "caffe 转 paddle",
        "body": "模型来源： caffe\r\n模型说明： retinaface\r\n环境:windows10\r\n转换过程出错提示如下：\r\n```\r\npaddle.__version__ = 2.0.0\r\nNow translating model from caffe to paddle.\r\nTotal nodes: 125\r\nNodes converting ...\r\nConverting node 125 ...\r\nNodes converted.\r\nModel optimizing ...\r\ndygraph_bn_scale_fuse_pass done!\r\nModel optimized.\r\nExporting inference model from python code ('retinaface\\x2paddle_code.py')...\r\n\r\nFail to generate inference model! Problem happend while export inference model from python code 'retinaface\\x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"D:\\Anaconda3\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.1', 'console_scripts', 'x2paddle')())\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\convert.py\", line 260, in main\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\convert.py\", line 150, in caffe2paddle\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\core\\program.py\", line 245, in gen_model\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\core\\program.py\", line 304, in gen_dygraph_model\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\core\\program.py\", line 300, in gen_dygraph_model\r\n  File \"D:\\Anaconda3\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\core\\program.py\", line 664, in dygraph2static\r\n  File \"retinaface\\x2paddle_code.py\", line 222\r\n    class = paddle.reshape(x=class_softmax, shape=[-1, 33600])\r\n          ^\r\nSyntaxError: invalid syntax\r\n```\r\n",
        "state": "open",
        "user": "jon135790",
        "closed_by": null,
        "created_at": "2021-03-03T10:36:29+00:00",
        "updated_at": "2021-03-04T06:04:21+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "jon135790",
            "jon135790",
            "SunAhong1993",
            "SunAhong1993",
            "jon135790"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 523,
        "title": "pytorch_albert转paddle提示aten::einsum不支持",
        "body": "模型来源：Pytorch\r\n模型说明：模型采用transformers库中的albert，模型权重为https://huggingface.co/voidful/albert_chinese_tiny/tree/main\r\n转换过程中出现的问题：提示**aten::einsum** 不支持",
        "state": "open",
        "user": "nlj0011",
        "closed_by": null,
        "created_at": "2021-03-04T02:56:08+00:00",
        "updated_at": "2021-04-25T16:30:02+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "ZeyuChen"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 529,
        "title": "onnx2paddle keyerror 0",
        "body": "模型来源： MMdetection\r\n模型说明： 目标检测模型\r\n我在windows下pip install onnx==1.6.0出了以下问题\r\n‘’‘\r\nassert CMAKE, 'Could not find \"cmake\" executable!'     AssertionError: Could not find \"cmake\" execut\r\n’‘’\r\n我直接使用pip install onnx 解决了\r\n但是在转换过程出错提示如下：\r\n```\r\npaddle.__version__ = 2.0.0-rc1\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\nD:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\decoder\\onnx_shape_inference.py:510: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n[WARNING] Incomplete symbolic shape inference\r\nshape inferenced.\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda3\\envs\\paddle\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.1', 'console_scripts', 'x2paddle')())\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\convert.py\", line 264, in main\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\convert.py\", line 171, in onnx2paddle\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 420, in __init__\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 183, in __init__\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 381, in collect_value_infos\r\nKeyError: 0\r\n```\r\n请问如何解决",
        "state": "closed",
        "user": "wzzwh110",
        "closed_by": "wzzwh110",
        "created_at": "2021-03-18T02:46:39+00:00",
        "updated_at": "2021-03-18T02:56:34+00:00",
        "closed_at": "2021-03-18T02:56:34+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 525,
        "title": "caffe 转 paddle",
        "body": "模型来源： caffe\r\n模型说明： 多个网络都有这个问题\r\npython版本: 3.8.5\r\n转换过程出错提示如下：\r\nDeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3, and in 3.9 it will stop working\r\nreturn (isinstance(seq, collections.Sequence) and\r\n'utf-8' codec can't decode byte 0xa3 in position 6889: invalid start byte",
        "state": "open",
        "user": "jon135790",
        "closed_by": null,
        "created_at": "2021-03-05T09:28:46+00:00",
        "updated_at": "2021-03-25T07:20:14+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "jon135790",
            "SunAhong1993"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 528,
        "title": "onnx2paddle keyerror 0",
        "body": "模型来源： MMdetection\r\n模型说明： 目标检测模型\r\n我在windows下pip install onnx==1.6.0出了以下问题\r\n‘’‘\r\nassert CMAKE, 'Could not find \"cmake\" executable!'     AssertionError: Could not find \"cmake\" execut\r\n’‘’\r\n我直接使用pip install onnx 解决了\r\n但是在转换过程出错提示如下：\r\n```\r\npaddle.__version__ = 2.0.1\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\nD:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\decoder\\onnx_shape_inference.py:510: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n[WARNING] Incomplete symbolic shape inference\r\nshape inferenced.\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda3\\envs\\paddle\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.1', 'console_scripts', 'x2paddle')())\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\convert.py\", line 264, in main\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\convert.py\", line 171, in onnx2paddle\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 420, in __init__\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 183, in __init__\r\n  File \"D:\\anaconda3\\envs\\paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\decoder\\onnx_decoder.py\", line 381, in collect_value_infos\r\nKeyError: 0\r\n```\r\n请问如何解决",
        "state": "closed",
        "user": "wzzwh110",
        "closed_by": "wzzwh110",
        "created_at": "2021-03-18T02:46:18+00:00",
        "updated_at": "2021-03-26T00:47:12+00:00",
        "closed_at": "2021-03-26T00:47:12+00:00",
        "comments_count": [
            "SunAhong1993",
            "wzzwh110",
            "wzzwh110",
            "SunAhong1993",
            "SunAhong1993",
            "wzzwh110"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 532,
        "title": "SyntaxError: invalid decimal literal",
        "body": "模型来源：onnx\r\n模型说明：图像分割模型，将onnx模型文件转换为paddle\r\n转换过程出错提示如下：\r\n```\r\nF:\\Anaconda\\lib\\site-packages\\win32\\lib\\pywintypes.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp, sys, os\r\npaddle.__version__ = 2.0.1\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 7, op version: 12\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 12, automatically treated as op_set: 9.\r\nTotal nodes: 835\r\nNodes converting ...\r\nConverting node 1831 ...\r\nNodes converted.\r\nExporting inference model from python code ('C:\\Users\\1111\\Desktop\\test\\x2paddle_code.py')...\r\n\r\nFail to generate inference model! Problem happend while export inference model from python code 'C:\\Users\\1111\\Desktop\\test\\x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"F:\\Anaconda\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.1', 'console_scripts', 'x2paddle')())\r\n  File \"F:\\Anaconda\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\convert.py\", line 264, in main\r\n  File \"F:\\Anaconda\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\convert.py\", line 174, in onnx2paddle\r\n  File \"F:\\Anaconda\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\core\\program.py\", line 245, in gen_model\r\n  File \"F:\\Anaconda\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\core\\program.py\", line 304, in gen_dygraph_model\r\n  File \"F:\\Anaconda\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\core\\program.py\", line 300, in gen_dygraph_model\r\n  File \"F:\\Anaconda\\lib\\site-packages\\x2paddle-1.0.1-py3.8.egg\\x2paddle\\core\\program.py\", line 664, in dygraph2static\r\n  File \"C:\\Users\\1111\\Desktop\\test\\x2paddle_code.py\", line 866\r\n    x2paddle_Concat@1_nc,x2paddle_Concat@1_hw = paddle.split(x=x2paddle_Concat@1, num_or_sections=[2, 2])\r\n                     ^\r\nSyntaxError: invalid decimal literal\r\n```\r\n",
        "state": "closed",
        "user": "gongruiyang",
        "closed_by": "gongruiyang",
        "created_at": "2021-03-27T08:59:38+00:00",
        "updated_at": "2023-08-18T08:43:47+00:00",
        "closed_at": "2023-08-18T08:43:47+00:00",
        "comments_count": [
            "SunAhong1993",
            "gongruiyang"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 533,
        "title": "tensorflow转paddle",
        "body": "```\r\npaddle.__version__ = 2.0.1\r\n/tensorflow-1.15.2/python3.7/tensorflow_core/python/pywrap_tensorflow_internal.py:15: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\nNow translating model from tensorflow to paddle.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== ReverseV2 ============\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.7/dist-packages/x2paddle/convert.py\", line 256, in main\r\n    define_input_shape, args.paddle_type)\r\n  File \"/usr/local/lib/python3.7/dist-packages/x2paddle/convert.py\", line 114, in tf2paddle\r\n    mapper = TFOpMapper(model)\r\n  File \"/usr/local/lib/python3.7/dist-packages/x2paddle/op_mapper/dygraph/tf2paddle/tf_op_mapper.py\", line 94, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n```\r\n\r\n请问可以提供ReverseV2的支持吗，谢谢\r\n\r\n\r\n",
        "state": "open",
        "user": "jogogohaha",
        "closed_by": null,
        "created_at": "2021-03-29T13:00:14+00:00",
        "updated_at": "2021-04-12T02:16:41+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "jogogohaha",
            "SunAhong1993",
            "Dreamkeeper66666",
            "SunAhong1993",
            "SunAhong1993",
            "Dreamkeeper66666",
            "SunAhong1993",
            "Dreamkeeper66666",
            "SunAhong1993",
            "Dreamkeeper66666",
            "SunAhong1993",
            "Dreamkeeper66666",
            "SunAhong1993",
            "Dreamkeeper66666",
            "Dreamkeeper66666",
            "SunAhong1993",
            "Dreamkeeper66666",
            "SunAhong1993"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 534,
        "title": "AssertionError: We only support 'to_tensor()' in dynamic graph mode, please call 'paddle.disable_static()' to enter dynamic graph mode.",
        "body": "Hello,\r\n\r\nI used X2paddle to run my tensorflow model at paddle-lite.\r\nI noticed an error when converting my tf model by x2paddle dynamic option\r\nbut static seems fine. Is is okay to be compiled to static only to use with paddle-lite? \r\nThank you.\r\n\r\nFramework: Tensorflow\r\nModel Description: mobilenet_v1, classify\r\nLink: [frozen_mobilenet_v1.pb.zip](https://github.com/PaddlePaddle/X2Paddle/files/6252038/frozen_mobilenet_v1.pb.zip)\r\nError Message:\r\n\r\n```\r\n2021-04-03 15:08:35,659 Dynamic-to-Static WARNING: <function to_tensor at 0x7fdee8180e18> doesn't have to be transformed to static function because it has been transformed before, it will be run as-is.\r\nFail to generate inference model! Problem happend while export inference model from python code '/home/janoslim/projects/DeepLearningModels/paddle/x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.1', 'console_scripts', 'x2paddle')()\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/x2paddle/convert.py\", line 256, in main\r\n    define_input_shape, args.paddle_type)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/x2paddle/convert.py\", line 124, in tf2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/x2paddle/core/program.py\", line 245, in gen_model\r\n    self.gen_dygraph_model(save_dir, jit_type)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/x2paddle/core/program.py\", line 304, in gen_dygraph_model\r\n    raise e\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/x2paddle/core/program.py\", line 300, in gen_dygraph_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/x2paddle/core/program.py\", line 675, in dygraph2static\r\n    paddle.jit.save(static_model, osp.join(save_dir, \"inference_model/model\"))\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/decorator.py\", line 214, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/dygraph/base.py\", line 39, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/dygraph/jit.py\", line 681, in save\r\n    inner_input_spec)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 488, in concrete_program_specify_input_spec\r\n    *desired_input_spec)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 402, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 711, in __getitem__\r\n    self._caches[item] = self._build_once(item)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 702, in _build_once\r\n    class_instance=cache_key.class_instance)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/decorator.py\", line 214, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/dygraph/base.py\", line 39, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 658, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 189, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nAssertionError: In transformed code:\r\n\r\n    File \"paddle/x2paddle_code.py\", line 94, in forward (* user code *)\r\n        input = paddle.to_tensor(data=x0)\r\n    File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/decorator.py\", line 214, in fun\r\n        return caller(func, *(extras + args), **kw)\r\n    File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n        return wrapped_func(*args, **kwargs)\r\n    File \"/home/janoslim/projects/NPUDNN/paddle-lite/venv/lib/python3.6/site-packages/paddle/fluid/framework.py\", line 224, in __impl__\r\n        ), \"We only support '%s()' in dynamic graph mode, please call 'paddle.disable_static()' to enter dynamic graph mode.\" % func.__name__\r\n    AssertionError: We only support 'to_tensor()' in dynamic graph mode, please call 'paddle.disable_static()' to enter dynamic graph mode.\r\n```\r\n",
        "state": "closed",
        "user": "janoslim",
        "closed_by": "janoslim",
        "created_at": "2021-04-03T06:13:20+00:00",
        "updated_at": "2021-04-06T11:57:00+00:00",
        "closed_at": "2021-04-06T11:56:59+00:00",
        "comments_count": [
            "SunAhong1993",
            "janoslim"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 535,
        "title": "onnx模型转paddle时出错",
        "body": "模型来源：onnx\r\n模型说明：ReXNet V1，用于手部关键点标注。 \r\n\r\n转paddle模型时出错，生成的model.py文件中输出层axes参数初始化为None，但是在后续处理中要求这个参数为list。\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/core/op_mapper.py\", line 142, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"pd_model_rexnet/model_with_code/model.py\", line 1371, in x2paddle_net\r\n    x2paddle_output = fluid.layers.squeeze(x2paddle_1379, axes=None, name='x2paddle_output')\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/nn.py\", line 7490, in squeeze\r\n    check_type(axes, 'axes', list, 'squeeze')\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/data_feeder.py\", line 96, in check_type\r\n    (input_name, op_name, expected_type, type(input), extra_message))\r\nTypeError: The type of 'axes' in squeeze must be <class 'list'>, but received <class 'NoneType'>. ",
        "state": "open",
        "user": "zouzhuo777",
        "closed_by": null,
        "created_at": "2021-04-06T08:34:36+00:00",
        "updated_at": "2021-04-06T16:39:35+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "zouzhuo777"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 540,
        "title": "onnx模型转成paddle报错",
        "body": "模型用于目标检测\r\n\r\n模型来源：\r\n    模型vgg16_bn\r\n    使用pytorch -> onnx, 在使用onnx转换成paddle时报错\r\n\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 9\r\nshape inferencing ...\r\nWarning: Unsupported operator adaptive_avg_pool2d. No schema registered for this operator.\r\nStopping at incomplete shape inference at adaptive_avg_pool2d: x2paddle_143\r\nnode inputs:\r\nname: \"x2paddle_141\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 512\r\n      }\r\n      dim {\r\n        dim_value: 16\r\n      }\r\n      dim {\r\n        dim_value: 16\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle_142\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 7\r\n    shape {\r\n      dim {\r\n        dim_value: 2\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nnode outputs:\r\nname: \"x2paddle_143\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 0\r\n  }\r\n}\r\n\r\n!!!!!!!!!!\r\nWarning: Unsupported operator adaptive_avg_pool2d. No schema registered for this operator.\r\nshape inferenced.\r\nTraceback (most recent call last):\r\n  File \"/Users/baijunjie/.pyenv/versions/env/bin/x2paddle\", line 10, in <module>\r\n    sys.exit(main())\r\n  File \"/Users/baijunjie/.pyenv/versions/3.7.3/envs/env/lib/python3.7/site-packages/x2paddle/convert.py\", line 264, in main\r\n    onnx2paddle(args.model, args.save_dir, args.paddle_type)\r\n  File \"/Users/baijunjie/.pyenv/versions/3.7.3/envs/env/lib/python3.7/site-packages/x2paddle/convert.py\", line 171, in onnx2paddle\r\n    model = ONNXDecoder(model_path)\r\n  File \"/Users/baijunjie/.pyenv/versions/3.7.3/envs/env/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 420, in __init__\r\n    self.graph = ONNXGraph(onnx_model)\r\n  File \"/Users/baijunjie/.pyenv/versions/3.7.3/envs/env/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 183, in __init__\r\n    self.collect_value_infos()\r\n  File \"/Users/baijunjie/.pyenv/versions/3.7.3/envs/env/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 381, in collect_value_infos\r\n    TENSOR_TYPE_TO_NP_TYPE[item.type.tensor_type.elem_type],\r\nKeyError: 0\r\n\r\n\r\n",
        "state": "open",
        "user": "Jackson8888",
        "closed_by": null,
        "created_at": "2021-04-12T11:18:19+00:00",
        "updated_at": "2023-12-28T02:21:09+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "hong19860320",
            "nissansz"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 542,
        "title": "onnx转paddle没有报错也没有生成结果",
        "body": "WARNING: OMP_NUM_THREADS set to 2, not 1. The computation speed will not be optimized if you use data parallel. It will fail if this PaddlePaddle binary is compiled with OpenBlas since OpenBlas does not support multi-threads.\r\nPLEASE USE OMP_NUM_THREADS WISELY.\r\npaddle.__version__ = 2.0.0-rc0\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 11\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 11, automatically treated as op_set: 9.\r\nTotal nodes: 328\r\nNodes converting ...\r\nConverting node 804 ...\r\nNodes converted.\r\nExporting inference model from python code ('/home/users/sunyunzhe01/syz_test/nanodet/00syz/pd_model/x2paddle_code.py')...\r\n\r\nW0413 16:41:38.562021  4235 device_context.cc:338] Please NOTE: device: 0, CUDA Capability: 70, Driver API Version: 10.2, Runtime API Version: 10.2\r\nW0413 16:41:38.565896  4235 device_context.cc:346] device: 0, cuDNN Version: 7.6.\r\n'linear' only support 3-D tensor.\r\n\r\n在生成的inference_model 文件夹下面没有内容",
        "state": "closed",
        "user": "ryansunyz",
        "closed_by": "SunAhong1993",
        "created_at": "2021-04-13T09:04:56+00:00",
        "updated_at": "2021-04-19T02:15:33+00:00",
        "closed_at": "2021-04-19T02:15:33+00:00",
        "comments_count": [],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 544,
        "title": "SwinTransformer模型转换paddle出错",
        "body": "## 分类模型 SwinTransformer\r\n\r\n* 模型地址：https://github.com/microsoft/Swin-Transformer/\r\n\r\n* 转换脚本如下\r\n\r\n```python\r\nimport torch\r\nimport numpy as np\r\nfrom models.swin_transformer import SwinTransformer\r\n# 构建输入\r\ninput_data = np.random.rand(1, 3, 224, 224).astype(\"float32\")\r\n\r\nswin_model_cfg_map = {\r\n    \"swin_tiny_patch4_window7_224\": {\r\n        \"EMBED_DIM\": 96,\r\n        \"DEPTHS\": [ 2, 2, 6, 2 ],\r\n        \"NUM_HEADS\": [ 3, 6, 12, 24 ],\r\n        \"WINDOW_SIZE\": 7,\r\n    }\r\n}\r\n\r\nmodel_name = \"swin_tiny_patch4_window7_224\"\r\ntorch_module = SwinTransformer(**swin_model_cfg_map[model_name])\r\ntorch_state_dict = torch.load(\"../{}.pth\".format(model_name))[\"model\"]\r\ntorch_module.load_state_dict(torch_state_dict)\r\n# 设置为eval模式\r\ntorch_module.eval()\r\n# 进行转换\r\nfrom x2paddle.convert import pytorch2paddle\r\npytorch2paddle(torch_module,\r\n               save_dir=\"pd_{}\".format(model_name),\r\n               jit_type=\"trace\",\r\n               input_examples=[torch.tensor(input_data)])\r\n```\r\n\r\n* 报错如下\r\n\r\n```\r\n========= 3 OPs are not supported yet ===========\r\n========== aten::index ============\r\n========== aten::roll ============\r\n========== aten::adaptive_avg_pool1d ============\r\nTraceback (most recent call last):\r\n  File \"trans.py\", line 33, in <module>\r\n    input_examples=[torch.tensor(input_data)])\r\n  File \"/usr/local/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/convert.py\", line 201, in pytorch2paddle\r\n  File \"/usr/local/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/op_mapper/dygraph/pytorch2paddle/pytorch_op_mapper.py\", line 43, in __init__\r\nException: Model is not supported yet.\r\n```",
        "state": "closed",
        "user": "littletomatodonkey",
        "closed_by": "jiangjiajun",
        "created_at": "2021-04-13T18:11:27+00:00",
        "updated_at": "2021-05-11T02:56:38+00:00",
        "closed_at": "2021-05-11T02:56:38+00:00",
        "comments_count": [],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "error": "'NoneType' object has no attribute 'repository'",
        "issue_number": 555
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 549,
        "title": "onnx模型转paddle模型报错",
        "body": "模型来源： pytorch1.6\r\n模型说明： JDE多目标跟踪模型，其相应repo为 https://github.com/lyk125/Towards-Realtime-MOT\r\n模型文件： https://pan.baidu.com/s/1Ifgn0Y_JZE65_qSrQM2l-Q\r\n转换过程出错提示如下：\r\nTraceback (most recent call last):\r\n  File \"F:/pythonworkplace/jdeTransform/ts1.py\", line 38, in <module>\r\n    input_examples=[torch.tensor(input_data)])\r\n  File \"D:\\Anaconda3\\envs\\pytorch2paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.6.egg\\x2paddle\\convert.py\", line 201, in pytorch2paddle\r\n  File \"D:\\Anaconda3\\envs\\pytorch2paddle\\lib\\site-packages\\x2paddle-1.0.1-py3.6.egg\\x2paddle\\op_mapper\\dygraph\\pytorch2paddle\\pytorch_op_mapper.py\", line 43, in __init__\r\nException: Model is not supported yet.\r\n\r\n========= 2 OPs are not supported yet ===========\r\n========== aten::leaky_relu ============\r\n========== aten::copy_ ============\r\n",
        "state": "open",
        "user": "yinyimoshushi",
        "closed_by": null,
        "created_at": "2021-04-22T06:31:52+00:00",
        "updated_at": "2021-12-23T03:05:21+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "WellYoungIOE",
            "yinyimoshushi",
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 552,
        "title": "关于数据类型转化",
        "body": "您好，我用x2paddle将tensorflow的pb模型转化为paddle后，调用发现以下报错\r\n```\r\n  File \"/usr/local/lib/python3.7/dist-packages/paddle/fluid/layers/nn.py\", line 5485, in transpose\r\n    out, _ = core.ops.transpose2(x, 'axis', perm)\r\nRuntimeError: (NotFound) Operator transpose2 does not have kernel for data_type[uint8_t]:data_layout[ANY_LAYOUT]:place[CPUPlace]:library_type[PLAIN].\r\n  [Hint: Expected kernel_iter != kernels.end(), but received kernel_iter == kernels.end().] (at /paddle/paddle/fluid/imperative/prepared_operator.cc:128)\r\n  [operator < transpose2 > error]\r\n__GTP_CMD_DONE__\r\n? (NotFound) Operator transpose2 does not have kernel for data_type[uint8_t]:data_layout[ANY_LAYOUT]:place[CPUPlace]:library_type[PLAIN].\r\n  [Hint: Expected kernel_iter != kernels.end(), but received kernel_iter == kernels.end().] (at /paddle/paddle/fluid/imperative/prepared_operator.cc:128)\r\n  [operator < transpose2 > error]\r\n```\r\n似乎是transpose不支持int8的类型，好像conv2d也不支持。请问能否自动转换为paddlepaddle支持的数据类型，非常感谢。\r\n模型的链接: https://storage.googleapis.com/minigo-pub/v17-19x19/models/000002-orion.pb",
        "state": "closed",
        "user": "Dreamkeeper66666",
        "closed_by": "Dreamkeeper66666",
        "created_at": "2021-04-25T01:23:00+00:00",
        "updated_at": "2021-04-25T06:55:31+00:00",
        "closed_at": "2021-04-25T06:55:31+00:00",
        "comments_count": [
            "wjj19950828",
            "Dreamkeeper66666",
            "Dreamkeeper66666"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 554,
        "title": "Exception: Model is not supported yet.",
        "body": "转换tensorflow的模型时，提示操作不支持，但是op表中现在已经支持这两个op\r\n\r\n`========= 2 OPs are not supported yet ===========\r\n========== BatchToSpaceND ============\r\n========== SpaceToBatchND ============\r\nTraceback (most recent call last):\r\n  File \"/home/senn/.conda/envs/envPaddle/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.2', 'console_scripts', 'x2paddle')())\r\n  File \"/home/senn/.conda/envs/envPaddle/lib/python3.7/site-packages/x2paddle-1.0.2-py3.7.egg/x2paddle/convert.py\", line 249, in main\r\n  File \"/home/senn/.conda/envs/envPaddle/lib/python3.7/site-packages/x2paddle-1.0.2-py3.7.egg/x2paddle/convert.py\", line 111, in tf2paddle\r\n  File \"/home/senn/.conda/envs/envPaddle/lib/python3.7/site-packages/x2paddle-1.0.2-py3.7.egg/x2paddle/op_mapper/dygraph/tf2paddle/tf_op_mapper.py\", line 94, in __init__\r\nException: Model is not supported yet.\r\n`\r\n\r\nx2paddle==1.0.2，paddle==2.0.2\r\n附上模型\r\n[test.zip](https://github.com/PaddlePaddle/X2Paddle/files/6375673/test.zip)\r\n\r\n",
        "state": "open",
        "user": "ezekielqu",
        "closed_by": null,
        "created_at": "2021-04-26T09:05:11+00:00",
        "updated_at": "2021-04-29T16:39:02+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "wjj19950828"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 559,
        "title": "onnx模型转paddle模型报错",
        "body": "模型来源： Onnx\r\n模型说明： Faster RCNN检测模型\r\n转换过程出错提示如下：\r\n```\r\nyjh@yjh-RESCUER-Y720-15IKB:~$ x2paddle --framework=onnx --model=/home/yjh/Pig_CrowdDet-master_debug_mv3_convert_onnx/crowd_mv3_0505_5.onnx --save_dir=pd_model --paddle_type dygraph\r\npaddle.__version__ = 2.0.0\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\n/home/yjh/anaconda3/lib/python3.6/site-packages/x2paddle/decoder/onnx_shape_inference.py:510: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n  new_v = int(np.asscalar(v))\r\n/home/yjh/anaconda3/lib/python3.6/site-packages/sympy/core/sympify.py:266: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n  return func(np.asscalar(a))\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 11, automatically treated as op_set: 9.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== NonMaxSuppression ============\r\nTraceback (most recent call last):\r\n  File \"/home/yjh/anaconda3/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/yjh/anaconda3/lib/python3.6/site-packages/x2paddle/convert.py\", line 258, in main\r\n    onnx2paddle(args.model, args.save_dir, args.paddle_type)\r\n  File \"/home/yjh/anaconda3/lib/python3.6/site-packages/x2paddle/convert.py\", line 167, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/home/yjh/anaconda3/lib/python3.6/site-packages/x2paddle/op_mapper/dygraph/onnx2paddle/onnx_op_mapper.py\", line 32, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n```\r\n请问现在ONNX转paddle的时候， NonMaxSuppression 还不支持吗？",
        "state": "open",
        "user": "yjhtc007",
        "closed_by": null,
        "created_at": "2021-05-06T01:39:53+00:00",
        "updated_at": "2021-05-21T07:50:36+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "yjhtc007",
            "wjj19950828",
            "yjhtc007",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 564,
        "title": "cannot import name 'polish_model' from 'onnx.utils'",
        "body": "cannot import name 'polish_model' from 'onnx.utils'\r\nonnx1.9.0 ,x2paddle1.1.0\r\n转换模型报错",
        "state": "open",
        "user": "williamlzw",
        "closed_by": null,
        "created_at": "2021-05-11T07:25:44+00:00",
        "updated_at": "2021-10-24T01:50:24+00:00",
        "closed_at": null,
        "comments_count": [
            "litingting1111"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 565,
        "title": "pytorch2paddle log_softmax不支持",
        "body": "log_softmax不支持，pytorch1.8.1",
        "state": "open",
        "user": "williamlzw",
        "closed_by": null,
        "created_at": "2021-05-11T07:27:29+00:00",
        "updated_at": "2021-05-13T07:56:54+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 560,
        "title": "op不支持",
        "body": "用到的是mmdetection的模型，现在mmdetection只支持op11,所以就会有点问题\r\n\r\n2个op不支持，\r\n\r\n========= 2 OPs are not supported yet ===========\r\n========== Less ============\r\n========== NonMaxSuppression ============\r\nTraceback (most recent call last):\r\n  File \"/home/lpx/miniconda3/envs/A9/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/lpx/miniconda3/envs/A9/lib/python3.8/site-packages/x2paddle/convert.py\", line 258, in main\r\n    onnx2paddle(args.model, args.save_dir, args.paddle_type)\r\n  File \"/home/lpx/miniconda3/envs/A9/lib/python3.8/site-packages/x2paddle/convert.py\", line 167, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/home/lpx/miniconda3/envs/A9/lib/python3.8/site-packages/x2paddle/op_mapper/dygraph/onnx2paddle/onnx_op_mapper.py\", line 32, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n",
        "state": "open",
        "user": "pixeli99",
        "closed_by": null,
        "created_at": "2021-05-09T11:21:38+00:00",
        "updated_at": "2021-05-10T10:38:56+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "pixeli99"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 566,
        "title": "onnx2paddle转换动态图推理耗时从10ms增加到2600ms",
        "body": "onnx2paddle转换动态图推理耗时从10ms增加到2600ms。什么情况?",
        "state": "open",
        "user": "williamlzw",
        "closed_by": null,
        "created_at": "2021-05-11T09:51:23+00:00",
        "updated_at": "2021-05-17T06:36:39+00:00",
        "closed_at": null,
        "comments_count": [
            "williamlzw",
            "wjj19950828",
            "williamlzw",
            "wjj19950828",
            "williamlzw",
            "williamlzw",
            "williamlzw"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 574,
        "title": "X2Paddle, DETR",
        "body": "torch.nn.utils.clip_grad_norm_(model.parameters(), max_norm)\r\ntorch.utils.data.DistributedSampler\r\ntorch.utils.data.RandomSampler\r\ntorch.utils.data.SequentialSampler\r\ntorch.utils.data.BatchSampler\r\ntorch.jit._flatten\r\ntorch.testing.assert_allclose（numpy）\r\n\r\nX2Paddle不支持直接转换，在API文档中好像没找到对应paddle写法",
        "state": "open",
        "user": "faded-TJU",
        "closed_by": null,
        "created_at": "2021-05-16T21:46:10+00:00",
        "updated_at": "2021-05-17T06:36:11+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 570,
        "title": "【论文复现营】来自论文复现营的issue模版",
        "body": "## 问题\r\n问题的相关描述\r\n\r\n## 建议\r\n问题解决的相关建议",
        "state": "open",
        "user": "jiangjiajun",
        "closed_by": null,
        "created_at": "2021-05-13T09:50:46+00:00",
        "updated_at": "2023-08-11T10:14:35+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 575,
        "title": "【论文复现营】timm没有识别出来啊",
        "body": "**问题:**\r\n\r\ntorch2paddle 需要在torch环境么，在AI Studio一些可以转，一些不行，使用timm import的没有变\r\n\r\n**建议:**\r\n\r\ntimm 也支持下",
        "state": "open",
        "user": "tt8000",
        "closed_by": null,
        "created_at": "2021-05-17T01:19:16+00:00",
        "updated_at": "2021-05-17T06:36:28+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 576,
        "title": "【论文复现营】没有torch.nn.parameter对应的api",
        "body": "问题：paddle没有toroch.nn.parameter对应的api接口",
        "state": "open",
        "user": "Darki-luo",
        "closed_by": null,
        "created_at": "2021-05-17T07:02:05+00:00",
        "updated_at": "2021-05-17T07:07:59+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 577,
        "title": "【论文复现营】stack转换问题",
        "body": "![image](https://user-images.githubusercontent.com/69620592/118445385-f314df80-b720-11eb-8ce6-d30fa6f4b7d0.png)\r\n![image](https://user-images.githubusercontent.com/69620592/118445370-ef815880-b720-11eb-87c1-637165c56311.png)\r\n这个X.stack在转换的时候，是不是有点问题\r\n\r\n应该是这样吗？ return paddle.stacks((xmin, ymin, xmax - xmin, ymax - ymin), axis=1)",
        "state": "open",
        "user": "faded-TJU",
        "closed_by": null,
        "created_at": "2021-05-17T07:04:58+00:00",
        "updated_at": "2021-05-17T07:24:25+00:00",
        "closed_at": null,
        "comments_count": [
            "faded-TJU",
            "SunAhong1993",
            "faded-TJU",
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 578,
        "title": "【论文复现营】已安装“detach”但提示【AttributeError: 'collections.OrderedDict' object has no attribute 'detach'】",
        "body": "模型来源： Pytorch\r\n模型说明： 目标检测detr\r\n转换过程出错提示如下：\r\n```\r\n(paddle) E:\\Github\\detr>pip show detach\r\nName: detach\r\nVersion: 1.0\r\nSummary: Fork and detach the current processe.\r\nHome-page: https://github.com/bluedragonx/detach\r\nAuthor: Ryan Bourgeois\r\nAuthor-email: bluedragonx@gmail.com\r\nLicense: BSD-derived\r\nLocation: d:\\app\\miniconda\\envs\\paddle\\lib\\site-packages\r\nRequires:\r\nRequired-by:\r\n\r\n(paddle) E:\\Github\\detr>x2paddle --convert_torch_project --project_dir='./' --save_dir='./x2paddle/detr' --pretrain_model=\"./pth/detr-r50-dc5-f0fb7ef5.pth\"\r\npaddle.__version__ = 2.0.2\r\nTraceback (most recent call last):\r\n  File \"d:\\app\\miniconda\\envs\\paddle\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"d:\\app\\miniconda\\envs\\paddle\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\APP\\miniconda\\envs\\paddle\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\app\\miniconda\\envs\\paddle\\lib\\site-packages\\x2paddle\\convert.py\", line 270, in main\r\n    convert_torch(args)\r\n  File \"d:\\app\\miniconda\\envs\\paddle\\lib\\site-packages\\x2paddle\\project_convertor\\pytorch\\convert.py\", line 110, in main\r\n    convert_params(params_path)\r\n  File \"d:\\app\\miniconda\\envs\\paddle\\lib\\site-packages\\x2paddle\\project_convertor\\pytorch\\convert.py\", line 89, in convert_params\r\n    new_params[k] = v.detach().numpy()\r\nAttributeError: 'collections.OrderedDict' object has no attribute 'detach'\r\n```\r\n",
        "state": "open",
        "user": "wyxogo",
        "closed_by": null,
        "created_at": "2021-05-17T07:10:20+00:00",
        "updated_at": "2021-05-25T03:13:48+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "SSyangguang",
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 579,
        "title": "【论文复现营】paddle缺少masked_fill方法",
        "body": "paddle.tensor缺少masked_fill方法",
        "state": "open",
        "user": "Darki-luo",
        "closed_by": null,
        "created_at": "2021-05-17T08:56:00+00:00",
        "updated_at": "2021-05-17T13:00:42+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 583,
        "title": "【论文复现营】x2paddle转换时torch.optim.Optimizer和paddle.optimizer.Optimizer接口无法对应",
        "body": "复现代码时需要用到pytorch-image-models/timm/scheduler中的代码，使用x2paddle转换失败，发现torch.optim.Optimizer和paddle.optimizer.Optimizer接口无法对应，人工修改后仍存在问题，paddle的Optimizer类中缺少param_groups属性\r\n转换失败代码的链接：https://github.com/rwightman/pytorch-image-models/tree/master/timm/scheduler",
        "state": "open",
        "user": "Felix-python",
        "closed_by": null,
        "created_at": "2021-05-17T19:12:17+00:00",
        "updated_at": "2021-05-18T07:57:45+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 581,
        "title": "【论文复现营】PyTorch-PaddlePaddle API对应表 nn.组网类",
        "body": "主要为torch.nn.XX类下组网相关的API，这个网站 404了，打不开呢。\r\n\r\n然后关于这个函数，我该用什么样的方式去转呢，torch.nn.init.uniform_\r\n直接paddle.nn.init吗",
        "state": "open",
        "user": "faded-TJU",
        "closed_by": null,
        "created_at": "2021-05-17T09:25:49+00:00",
        "updated_at": "2021-05-18T03:55:05+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "faded-TJU",
            "faded-TJU",
            "faded-TJU"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 580,
        "title": "【论文复现营】关于30系列显卡计算结果误差比较大的问题",
        "body": "定义了一个卷积层，weight全为1，bias为None，输入数据为随机。\r\npaddle的卷积核输出结果与torch相差比较大，但是切换的cpu或者使用2080ti计算时，误差就很小。\r\n环境：cuda11.2 pytorch1.7.0 paddle2.0.2\r\n\r\nimport numpy as np\r\nimport torch\r\nimport paddle\r\nfrom paddle.nn.initializer import Assign\r\n\r\n# paddle.set_device('cpu')\r\npaddle_x = np.random.randn(1,64,56,56).astype('float32')\r\ntorch_x = paddle_x.copy()\r\npaddle_w = np.ones((128,64,3,3)).astype('float32')\r\ntorch_w = paddle_w.copy()\r\ntorch_conv = torch.nn.Conv2d(in_channels=64,out_channels=128,kernel_size=3,stride=2,bias=False)\r\npaddle_conv = paddle.nn.Conv2D(in_channels=64,out_channels=128,kernel_size=3,stride=2,bias_attr=None)\r\ntorch_conv.weight = torch.nn.Parameter(torch.from_numpy(torch_w))\r\nparameter = paddle_conv.create_parameter(shape=paddle_w.shape,default_initializer=Assign(paddle_w))\r\npaddle_conv.add_parameter(\"weight\",parameter)\r\n\r\n\r\ntorch_y = torch_conv(torch.from_numpy(torch_x)).cpu().detach().numpy()\r\npaddle_y = paddle_conv(paddle.to_tensor(paddle_x)).numpy()\r\nprint(np.max(np.abs(torch_y-paddle_y)))\r\n\r\n",
        "state": "open",
        "user": "jstzwjr",
        "closed_by": null,
        "created_at": "2021-05-17T08:57:40+00:00",
        "updated_at": "2021-05-19T03:03:15+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 584,
        "title": "【论文复现营】提示不支持相关包--The unsupported packages or operators ",
        "body": "模型来源： Pytorch\r\n模型说明： Swin Transformer\r\n转换过程出错提示如下：\r\n```\r\nCan not convert the file /home/xp/yds_multimodal/swintr/models/swin_transformer.py.\r\nThe unsupported packages or operators are: [torch.roll, torch.meshgrid, torch.utils.checkpoint.checkpoint, torch.utils.checkpoint, torch.flatten, torch.jit.ignore].\r\n\r\nCan not convert the file /home/xp/yds_multimodal/swintr/utils.py.\r\nThe unsupported packages or operators are: [torch.distributed.all_reduce, torch.distributed.get_world_size].\r\n```\r\n这个不支持这些包吗？\r\n",
        "state": "open",
        "user": "156aasdfg",
        "closed_by": null,
        "created_at": "2021-05-18T03:26:23+00:00",
        "updated_at": "2021-05-18T04:42:04+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 585,
        "title": "【论文复现营】不支持torch.as_tensor转换",
        "body": "不支持torch.as_tensor转换\r\n建议\r\n`torch.as_tensor(data, dtype=None, device=None) ` -> `paddle.to_tensor(data,dtype=None, place=None, stop_gradient=True)`",
        "state": "open",
        "user": "wyxogo",
        "closed_by": null,
        "created_at": "2021-05-18T07:40:17+00:00",
        "updated_at": "2021-05-18T15:19:33+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "wyxogo",
            "SunAhong1993",
            "wyxogo",
            "SunAhong1993",
            "wyxogo",
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 587,
        "title": "【论文复现营】pytorch模型转换失败 Could not get name of python class object",
        "body": "模型来源： Pytorch\r\n模型说明： 图像分类模型，其相应repo为 https://github.com/zihangJiang/TokenLabeling\r\n模型文件： 链接: https://github.com/zihangJiang/TokenLabeling/releases/download/1.0/lvvit_s-26M-384-84.4.tar\r\n\r\n转换代码：\r\n```\r\nimport torch\r\nimport numpy as np\r\n\r\nmodel = torch.load('pt/pre_models/lvvit_s-26M-384-84.4.tar',map_location=torch.device('cpu'))\r\n\r\n# 构建输入\r\ninput_data = np.random.rand(1, 3, 224, 224).astype(\"float32\")\r\n# 进行转换\r\nfrom x2paddle.convert import pytorch2paddle\r\npytorch2paddle(model,\r\n               save_dir=\"pd_model_trace\",\r\n               jit_type=\"trace\",\r\n               input_examples=[torch.tensor(input_data)])\r\n```\r\n\r\n转换过程出错提示如下：\r\n```\r\nNow translating model from pytorch to paddle.\r\nCould not get name of python class object\r\n```\r\n",
        "state": "open",
        "user": "Li-ChengYan",
        "closed_by": null,
        "created_at": "2021-05-18T09:18:05+00:00",
        "updated_at": "2021-05-20T11:28:15+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 593,
        "title": "【论文复现营】x2paddle转换的torch模型",
        "body": "请说明模型的来源，模型类型（例如图像分类、目标检测等）  \r\n\r\n如有原模型文件或github链接，如方便可一并附上，方便开发人员分析。\r\n\r\n**为了便于开发人员快速定位原因，建议将模型文件上传（或通过百度网盘分享）**\r\n\r\n## 示例\r\n\r\n模型来源： TensorFlow\r\n模型说明： 图像分类模型，其相应repo为 https://github.com/xxxx\r\n模型文件： 链接: https://pan.baidu.com/s/1LRzTSJwsLOul99Tj5_43wQ 密码: d3dg\r\n转换过程出错提示如下：\r\n```\r\nException: Error happened when mapping node ['prior_box@0'] to onnx, which op_type is 'prior_box' with inputs: {'Image': ['image'], 'Input': ['elementwise_add_7.tmp_1']} and outputs: {'Boxes': ['prior_box_0.tmp_0'], 'Variances': ['prior_box_0.tmp_1']}\r\n```\r\n",
        "state": "closed",
        "user": "geoyee",
        "closed_by": "geoyee",
        "created_at": "2021-05-19T11:56:52+00:00",
        "updated_at": "2021-05-19T12:02:32+00:00",
        "closed_at": "2021-05-19T12:02:32+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 589,
        "title": "【论文复现营】报错No module named 'paddle.fluid'",
        "body": " # 问题\r\n论文复现的时候，出现报错信息：\r\n File \"/Users/skywalk/github/big_transfer/paddle/train.py\", line 2, in <module>\r\n    from x2paddle import torch2paddle\r\n  File \"/Users/skywalk/py38/lib/python3.8/site-packages/x2paddle-1.2.0-py3.8.egg/x2paddle/__init__.py\", line 3, in <module>\r\n    from .core.program import PaddleGraph\r\n  File \"/Users/skywalk/py38/lib/python3.8/site-packages/x2paddle-1.2.0-py3.8.egg/x2paddle/core/program.py\", line 19, in <module>\r\n    from paddle.fluid.proto import framework_pb2\r\nModuleNotFoundError: No module named 'paddle.fluid'\r\n\r\n使用的版本：x2paddle 1.2.0\r\nName: paddlepaddle Version: 2.0.2\r\n\r\n不明白为什么2.x版本会出来fluid的代码。",
        "state": "closed",
        "user": "skywalk163",
        "closed_by": "skywalk163",
        "created_at": "2021-05-19T01:52:28+00:00",
        "updated_at": "2021-05-26T14:29:07+00:00",
        "closed_at": "2021-05-26T13:32:59+00:00",
        "comments_count": [
            "SunAhong1993",
            "skywalk163"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 591,
        "title": "【论文复现营】转换DETR源码时报错",
        "body": "请说明模型的来源，模型类型（例如图像分类、目标检测等）  \r\n目标检测，DETR官方源代码，pytorch版本\r\n如有原模型文件或github链接，如方便可一并附上，方便开发人员分析。\r\nhttps://github.com/facebookresearch/detr\r\n**为了便于开发人员快速定位原因，建议将模型文件上传（或通过百度网盘分享）**\r\n\r\n## 示例\r\n\r\n模型来源： pytorch\r\n模型说明： https://github.com/facebookresearch/detr\r\n模型文件： https://dl.fbaipublicfiles.com/detr/detr-r50-e632da11.pth\r\n转换过程出错提示如下：\r\n```\r\n(pt2pd) PS F:\\FormalDL\\论文复现\\复现04_End-to-End Object Detection with Transformers> x2paddle --convert_torch_project --project_dir=detr-master --save_dir=detr_2paddle --pretrain_model=detr-master/detr-r50-e632da11.pth\r\nd:\\programdata\\anaconda3\\lib\\site-packages\\win32\\lib\\pywintypes.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp, sys, os\r\npaddle.__version__ = 2.0.2\r\nTraceback (most recent call last):\r\n  File \"d:\\programdata\\anaconda3\\lib\\runpy.py\", line 194, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"d:\\programdata\\anaconda3\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\ProgramData\\Anaconda3\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\x2paddle\\convert.py\", line 270, in main\r\n    convert_torch(args)\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\x2paddle\\project_convertor\\pytorch\\convert.py\", line 110, in main\r\n    convert_params(params_path)\r\n  File \"d:\\programdata\\anaconda3\\lib\\site-packages\\x2paddle\\project_convertor\\pytorch\\convert.py\", line 89, in convert_params\r\n    new_params[k] = v.detach().numpy()\r\nAttributeError: 'collections.OrderedDict' object has no attribute 'detach'\r\n```\r\n",
        "state": "closed",
        "user": "hrdwsong",
        "closed_by": "hrdwsong",
        "created_at": "2021-05-19T03:42:09+00:00",
        "updated_at": "2021-06-30T00:28:45+00:00",
        "closed_at": "2021-06-30T00:28:45+00:00",
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 594,
        "title": "【论文复现营】x2paddle转换的torch模型与torch模型输出形状及内容均不同，但无报错",
        "body": "模型来源： Pytorch\r\n模型说明： 图像分类模型，其相应repo为[https://github.com/facebookresearch/deit](https://github.com/facebookresearch/deit)\r\n相关文件： github：[https://github.com/geoyee/PaddleTr/tree/main/x2paddle](https://github.com/geoyee/PaddleTr/tree/main/x2paddle)\r\n文件说明：在deit下是pytorch的整个文件，通过torch2paddle.py加载了torch的模型和参数进行转换。pd_model_trace下保存着转换得到的模型参数，两个test.py分别对应torch和paddle使用该模型及参数得到的结果。\r\n说明：转换过程未有出错提示，输出的结果和形状都不相同\r\n控制台输出：\r\n```\r\n['1', '8', '1+cpu']\r\nNow translating model from pytorch to paddle.\r\nModel optimizing ...\r\nModel optimized.\r\nExporting inference model from python code ('E:\\dataFiles\\github\\PaddleTr\\x2paddle\\pd_model_trace\\x2paddle_code.py')...\r\n\r\nW0519 19:49:49.956825 16080 device_context.cc:320] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.0, Runtime API Version: 10.2\r\nW0519 19:49:49.963822 16080 device_context.cc:330] device: 0, cuDNN Version: 7.6.\r\n```\r\n输出形状：\r\npytorch：`torch.Size([1, 1000])`\r\nx2paddle：`[1, 197, 1000]`",
        "state": "closed",
        "user": "geoyee",
        "closed_by": "geoyee",
        "created_at": "2021-05-19T12:19:00+00:00",
        "updated_at": "2022-04-21T01:09:55+00:00",
        "closed_at": "2022-04-21T01:09:55+00:00",
        "comments_count": [
            "SunAhong1993",
            "geoyee",
            "SunAhong1993",
            "geoyee",
            "geoyee"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 597,
        "title": "【论文复现营】一系列不支持的【pytorch】api转换 “Can not convert the file ”",
        "body": "**Can not convert the file xxxx\r\nThe unsupported packages or operators are:** \r\n```\r\n[torch.as_tensor, torch.optim.AdamW].\r\n[torch.float].\r\n[torch.nn.utils.clip_grad_norm_].\r\n[torch.nn.parameter.Parameter].\r\n[torch.int64, torch.uint8, torchvision.datasets.CocoDetection].\r\n[torch.all, torchvision.transforms.RandomErasing, torchvision.transforms.functional.normalize, torchvision.transforms.functional.to_tensor, torchvision.transforms.functional.resize, torchvision.transforms.functional.hflip, torchvision.transforms.functional.pad, torchvision.transforms.functional.crop, torchvision.transforms.RandomCrop.get_params,torchvision.transforms.functional].\r\n[torch.utils.data.Subset].\r\n[torch.optim.Optimizer].\r\n[torch.utils.data.SequentialSampler,torch.optim.lr_scheduler.StepLR,torch.utils.data.RandomSampler,torch.utils.data.BatchSampler, torch.utils.data.DistributedSampler].\r\n[torchvision.models._utils.IntermediateLayerGetter].\r\n[torch.distributed.all_reduce, torch.jit.unused, torch.diag, torch.nn.functional.l1_loss].\r\n[torch.cdist].\r\n[torch.nn.init.uniform_].\r\n[torch.nn.init.kaiming_uniform_, torch.nn.functional.conv2d, torch.ByteStorage.from_buffer].\r\n[torch.nn.functional.glu, torch.nn.MultiheadAttention, torch.nn.functional.gelu].      \r\n[torch.jit._flatten, torch.jit.script, torch.randint, torch.testing.assert_allclose, torch.onnx.export].\r\n[torch.meshgrid, torchvision.ops.boxes.box_area].\r\n[torchvision.ops.misc.interpolate, torchvision.ops._new_empty_tensor, torch.distributed.get_rank, torch.int, torch.int64, torch.empty, torch.distributed.barrier, torch.distributed.is_initialized, torchvision._is_tracing, torch.distributed.get_world_size, torch.jit.unused, torch.ByteStorage.from_buffer, torch.distributed.is_available, torch.distributed.all_gather, torchvision.ops.misc._output_size, torchvision.__version__, torch.cuda.max_memory_allocated].\r\n\r\n```\r\n",
        "state": "open",
        "user": "wyxogo",
        "closed_by": null,
        "created_at": "2021-05-19T16:12:38+00:00",
        "updated_at": "2021-05-20T10:00:38+00:00",
        "closed_at": null,
        "comments_count": [
            "wyxogo"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 598,
        "title": "x2paddle 将.pb转化pd_model",
        "body": "OCR\r\n\r\n尝试通过\r\nx2paddle --framework=tensorflow --model=tf1_14train_weight.pb --save_dir=pd_model\r\n将.pb转化pd_model出现错误。\r\n\r\n错误如下：\r\nTraceback (most recent call last):\r\n  File \"/home/wuzhou/.local/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/wuzhou/.local/lib/python3.7/site-packages/x2paddle/convert.py\", line 278, in main\r\n    args.paddle_type)\r\n  File \"/home/wuzhou/.local/lib/python3.7/site-packages/x2paddle/convert.py\", line 128, in tf2paddle\r\n    model = TFDecoder(model_path, define_input_shape=define_input_shape)\r\n  File \"/home/wuzhou/.local/lib/python3.7/site-packages/x2paddle/decoder/tf_decoder.py\", line 353, in __init__\r\n    self.tf_graph.build()\r\n  File \"/home/wuzhou/.local/lib/python3.7/site-packages/x2paddle/decoder/tf_decoder.py\", line 175, in build\r\n    self._remove_identity_node()\r\n  File \"/home/wuzhou/.local/lib/python3.7/site-packages/x2paddle/decoder/tf_decoder.py\", line 281, in _remove_identity_node\r\n    self.remove_node(node_name)\r\n  File \"/home/wuzhou/.local/lib/python3.7/site-packages/x2paddle/decoder/tf_decoder.py\", line 218, in remove_node\r\n    idx = self.topo_sort.index(node_name)\r\nValueError: 'LSTM_1_while_Merge' is not in list\r\n",
        "state": "open",
        "user": "bin0612",
        "closed_by": null,
        "created_at": "2021-05-20T06:47:41+00:00",
        "updated_at": "2021-05-21T07:47:56+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 599,
        "title": "【论文复现营】TypeError: __init__() got an unexpected keyword argument 'affine'",
        "body": "\r\nStarGAN方法，图像翻译，主要是X2Paddle 的 demo，讲解的例子。\r\n如有原模型文件或github链接，如方便可一并附上，方便开发人员分析。\r\nhttps://github.com/yunjey/stargan\r\n\r\n模型来源： pytorch\r\n模型说明： 图像翻译，其相应repo为 https://github.com/yunjey/stargan\r\n转换过程没有问题，但是运行paddlepaddle命令之后，报错:\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"main.py\", line 119, in <module>\r\n    main(config)\r\n  File \"main.py\", line 32, in main\r\n    solver = Solver(celeba_loader, rafd_loader, config)\r\n  File \"D:\\360下载\\paper_reproduct\\x2paddle\\test\\paddle_project\\solver.py\", line 55, in __init__\r\n    self.build_model()\r\n  File \"D:\\360下载\\paper_reproduct\\x2paddle\\test\\paddle_project\\solver.py\", line 62, in build_model\r\n    self.G = Generator(self.g_conv_dim, self.c_dim, self.g_repeat_num)\r\n  File \"D:\\360下载\\paper_reproduct\\x2paddle\\test\\paddle_project\\model.py\", line 31, in __init__\r\n    layers.append(nn.InstanceNorm2D(conv_dim, affine=True))\r\nTypeError: __init__() got an unexpected keyword argument 'affine'\r\n```\r\n环境是windows\r\npaddlepaddle版本：Version: 2.0.2\r\nx2paddle 版本: Version: 1.2.0\r\ntorch 版本: Version: 1.8.1+cpu",
        "state": "open",
        "user": "ArlanCooper",
        "closed_by": null,
        "created_at": "2021-05-21T01:48:20+00:00",
        "updated_at": "2021-05-21T03:37:55+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993",
            "SunAhong1993",
            "ArlanCooper",
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 601,
        "title": "X2Paddle Roadmap and Feature Request",
        "body": "我们在这里罗列了X2Paddle待计划和已完成的事项，如若你有任何新的需求或建议反馈，可以在此issue下回复。\r\n\r\n## X2Paddle v1.4 [2021.07&&08]\r\n- [ ] 支持TFLite模型格式转换，支持70+ OP，TensorFlow Hub 20+模型\r\n- [ ] 集成PaddleLite的Opt工具\r\n\r\n\r\n## X2Paddle v1.3 [2021.07.12 Released](https://github.com/PaddlePaddle/X2Paddle/releases/tag/v1.3.0)\r\n- [ ] 训练代码转换支持\r\n- - [x] [CRAFT](https://github.com/clovaai/CRAFT-pytorch)\r\n- - [ ] yolov5[暂不支持]\r\n- - [ ] DiscoGAN\r\n-  [x] 去除to_tensor\r\n- [ ] 完善API文档\r\n- [x] 支持mmdetection预测模型转换\r\n- - [x] YOLO-V3\r\n- - [x] FCOS\r\n- - [x] RetinaNet\r\n- - [x] SSD\r\n- - [x] Faster R-CNN\r\n- - [x] FSAF\r\n- - [ ] Mask R-CNN\r\n- - [ ] CornerNet\r\n- [x] 增加mmdetection模型转换文档\r\n\r\n## X2Paddle v1.2.3 [2021.06.11 Released](https://github.com/PaddlePaddle/X2Paddle/releases/tag/v1.2.3)\r\n- [x] ONNX2Paddle新增模型转换：[RetinaNet](https://github.com/open-mmlab/mmdetection/blob/master/configs/retinanet/retinanet_r50_fpn_1x_coco.py)、[FSAF](https://github.com/open-mmlab/mmdetection/blob/master/configs/fsaf/fsaf_r50_fpn_1x_coco.py)、[SSD](https://github.com/open-mmlab/mmdetection/blob/master/configs/ssd/ssd300_coco.py)、[Faster R-CNN](https://github.com/open-mmlab/mmdetection/blob/master/configs/faster_rcnn/faster_rcnn_r50_fpn_1x_coco.py)\r\n\r\n## X2Paddle v1.2.2 [2021.06.04 Released](https://github.com/PaddlePaddle/X2Paddle/releases/tag/v1.2.2)\r\n- [x] Caffe Pooling：支持kernel_size=0的情况\r\n- [x] ONNX Resize：支持3d Tensor的转换\r\n- [x] 支持PaddlePaddle 2.0.x 中的paddle type\r\n\r\n## X2Paddle v1.2.1 [2021.05.26 Released](https://github.com/PaddlePaddle/X2Paddle/releases/tag/v1.2.1)\r\n- [x] 文档、代码更新适配Paddle2.1.0\r\n- [x] 去除静态图用法\r\n## X2Paddle v1.2 [2021.05.15 Released](https://github.com/PaddlePaddle/X2Paddle/releases/tag/v1.2.0)\r\n- [x] 支持PyTorch训练代码转为PaddlePaddle训练代码\r\n- [x] 新增PyTorch-PaddlePaddle对比文档 ",
        "state": "open",
        "user": "jiangjiajun",
        "closed_by": null,
        "created_at": "2021-05-24T02:54:55+00:00",
        "updated_at": "2021-07-26T16:57:26+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 607,
        "title": "【论文复现营】paddle.vision中缺少调整gamma值的function",
        "body": "# 建议增加adjust gamma方法\r\npaddle.vision中缺少调整gamma值的function\r\n附上代码：\r\ndef adjust_gamma(img, gamma, gain=1):\r\n    if not isinstance(img, Image.Image):\r\n        raise TypeError('img should be PIL Image. Got {}'.format(type(img)))\r\n\r\n    if gamma < 0:\r\n        raise ValueError('Gamma should be a non-negative real number')\r\n\r\n    input_mode = img.mode\r\n    img = img.convert('RGB')\r\n    gamma_map = [(255 + 1 - 1e-3) * gain * pow(ele / 255., gamma) for ele in range(256)] * 3\r\n    img = img.point(gamma_map)  # use PIL's point-function to accelerate this part\r\n\r\n    img = img.convert(input_mode)\r\n    return img\r\n",
        "state": "open",
        "user": "AlexZou14",
        "closed_by": null,
        "created_at": "2021-05-28T04:13:58+00:00",
        "updated_at": "2021-06-07T03:42:15+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 608,
        "title": "【论文复现营】import x2paddle.torch2paddle 导致的错误",
        "body": "\r\n## 问题\r\n在论文复现的时候，发现数据集挂载的时候报错，单独执行不会报错，但是如果执行一遍 导入语句import x2paddle.torch2paddle ，则会报错。\r\n\r\n## 测试代码：\r\n`from paddle.vision.transforms import ToTensor\r\nimport paddle.vision as vision\r\nimport paddle\r\n\r\ntrain_set = vision.datasets.Cifar10(mode='train', transform=ToTensor())\r\nvalid_set = vision.datasets.Cifar10(mode='test', transform=ToTensor())`\r\n\r\n单独执行ok，如果执行import x2paddle.torch2paddle 语句之后，再执行就会报错，报错信息：\r\n\r\n\r\n```\r\n---------------------------------------------------------------------------ValueError                                \r\nTraceback (most recent call last)<ipython-input-11-20f37c164509> in <module>\r\n      3 # train_loader = DataLoader(train_set, batch_size=BATCH_SIZE, shuffle=False)\r\n      4 modelnet = paddle.vision.models.resnet50()\r\n----> 5 for i,j in enumerate(train_set):\r\n      6     print(i,j)\r\n      7     output = modelnet(j[0].reshape([1,3,32,32]))\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/vision/datasets/cifar.py in __getitem__(self, idx)\r\n    162             image = Image.fromarray(image.astype('uint8'))\r\n    163         if self.transform is not None:\r\n--> 164             image = self.transform(image)\r\n    165 \r\n    166         if self.backend == 'pil':\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/vision/transforms/transforms.py in __call__(self, inputs)\r\n    273                 outputs.append(inputs[i])\r\n    274             else:\r\n--> 275                 outputs.append(apply_func(inputs[i]))\r\n    276         if len(inputs) > len(self.keys):\r\n    277             outputs.extend(inputs[len(self.keys):])\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/vision/transforms/transforms.py in _apply_image(self, img)\r\n    347             Tensor: Converted image.\r\n    348         \"\"\"\r\n--> 349         return F.to_tensor(img, self.data_format)\r\n    350 \r\n    351 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/vision/transforms/functional.py in to_tensor(pic, data_format)\r\n     84 \r\n     85     if _is_pil_image(pic):\r\n---> 86         return F_pil.to_tensor(pic, data_format)\r\n     87     elif _is_numpy_image(pic):\r\n     88         return F_cv2.to_tensor(pic, data_format)\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/vision/transforms/functional_pil.py in to_tensor(pic, data_format)\r\n     86         img = paddle.cast(img, np.float32) / 255.\r\n     87 \r\n---> 88     img = img.reshape([pic.size[1], pic.size[0], nchannel])\r\n     89 \r\n     90     if data_format == 'CHW':\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/project_convertor/pytorch/torch2paddle/tensor.py in reshape(self, *shape)\r\n    170 @add_tensor_function\r\n    171 def reshape(self, *shape):\r\n--> 172     return pd_reshape(self, shape)\r\n    173 \r\n    174 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/tensor/manipulation.py in reshape(x, shape, name)\r\n   1568 \r\n   1569     \"\"\"\r\n-> 1570     return paddle.fluid.layers.reshape(x=x, shape=shape, name=name)\r\n   1571 \r\n   1572 \r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/paddle/fluid/layers/nn.py in reshape(x, shape, actual_shape, act, inplace, name)\r\n   6140                 for item in shape\r\n   6141             ]\r\n-> 6142             out, _ = core.ops.reshape2(x, None, 'shape', shape)\r\n   6143         elif isinstance(shape, Variable):\r\n   6144             shape.stop_gradient = True\r\nValueError: (InvalidArgument) reshape2(): argument (position 3) must be Attribute type (one of str, bool, int, int64, float, or list of them), but got list (at /paddle/paddle/fluid/pybind/op_function.h:133)\r\n```\r\n",
        "state": "open",
        "user": "skywalk163",
        "closed_by": null,
        "created_at": "2021-05-29T15:31:42+00:00",
        "updated_at": "2021-06-07T03:47:39+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 610,
        "title": "【论文复现营】请问为什么要使用类似这样的操作：tw[torch_key].detach().numpy() ",
        "body": "# 问题\r\n听课的时候，老师讲到pytorch权重转换到paddlepaddle的时候，当时讲的是要转置一下，代码是tw[torch_key].detach().numpy() ，但是我看api讲detach是copy子图啊，不理解这里的意思，\r\n希望能解释一下。\r\n\r\n在x2paddle源代码找到，在x2paddle/project_convertor/pytorch/convert.py文件的convert_params代码块也是用了detach()操作：\r\n\r\n···\r\ndef convert_params(params_path):\r\n    import torch\r\n    import paddle\r\n    params = torch.load(params_path, map_location=torch.device('cpu'))\r\n    new_params = dict()\r\n    bn_w_name_list = list()\r\n    for k, v in params.items():\r\n        if k.endswith(\".running_mean\"):\r\n            new_params[k.replace(\".running_mean\", \"._mean\")] = v.detach().numpy(\r\n            )\r\n        elif k.endswith(\".running_var\"):\r\n            new_params[k.replace(\".running_var\", \"._variance\")] = v.detach(\r\n            ).numpy()\r\n            bn_w_name_list.append(k.replace(\".running_var\", \".weight\"))\r\n        else:\r\n            new_params[k] = v.detach().numpy()\r\n    for k, v in new_params.items():\r\n        if len(v.shape) == 2 and k.endswith(\r\n                \".weight\") and k not in bn_w_name_list:\r\n            new_params[k] = v.T\r\n    paddle.save(new_params,\r\n                params_path.replace(\".pth\", \".pdiparams\").replace(\r\n                    \".pt\", \".pdiparams\").replace(\".ckpt\", \".pdiparams\"))\r\n’‘’",
        "state": "closed",
        "user": "skywalk163",
        "closed_by": "skywalk163",
        "created_at": "2021-06-01T02:12:44+00:00",
        "updated_at": "2021-06-11T06:48:16+00:00",
        "closed_at": "2021-06-11T06:48:16+00:00",
        "comments_count": [
            "SunAhong1993",
            "skywalk163",
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 609,
        "title": "pytorch 模型转化成 paddle 模型之后结果有误差",
        "body": "直接使用教程中提供的代码把 pytorch 的 AlexNet  转化成 paddle 模型。使用 paddle 模型测试的时候和 pytorch 输出的结果不一致\r\n平均误差级别大概是 2e-7 级别，请问这是属于合理的误差范围吗？\r\n```\r\n# 在生成的 x2paddle_code.py 中添加如下测试代码\r\ndef load_torch_model():\r\n    from torchvision.models import AlexNet\r\n    from torchvision.models.utils import load_state_dict_from_url\r\n    # 获取PyTorch Module\r\n    torch_module = AlexNet()\r\n    torch_state_dict = load_state_dict_from_url('https://download.pytorch.org/models/alexnet-owt-4df8aa71.pth')\r\n    torch_module.load_state_dict(torch_state_dict)\r\n    torch_module.eval()\r\n    return torch_module\r\n\r\nif __name__ == \"__main__\":\r\n    import numpy as np\r\n    import torch\r\n    paddle.disable_static()\r\n    params = paddle.load('pd_model_trace/model.pdparams') # 生成的 paddle 模型的路径\r\n    torch_model = load_torch_model()\r\n    model = AlexNet()\r\n    model.set_dict(params)\r\n    model.eval()\r\n    np.random.seed(13)\r\n    input_tensor = np.random.rand(1, 3, 224, 224).astype(np.float32)\r\n    tor_out_np = torch_model(torch.from_numpy(input_tensor)).detach().numpy()\r\n    pd_out_np = model(paddle.Tensor(input_tensor)).numpy()\r\n    print(\r\n        f\"error sum: {np.sum(np.abs(pd_out_np - tor_out_np))}\",\r\n        f\"error mean: { np.mean(np.abs(pd_out_np - tor_out_np)) }\"\r\n    )\r\n```\r\n\r\n输出如下：\r\n\r\n``` shell\r\nW0531 17:26:56.174981  8644 device_context.cc:404] Please NOTE: device: 0, GPU Compute Capability: 3.5, Driver API Version: 10.1, Runtime API Version: 10.1\r\nW0531 17:26:56.180686  8644 device_context.cc:422] device: 0, cuDNN Version: 7.6.\r\nerror sum: 0.00027884170413017273 error mean: 2.7884169639946776e-07\r\n```\r\n\r\n环境：\r\n\r\n``` shell\r\n# torch 和 paddle 版本\r\ntorch                     1.7.1+cu101              pypi_0    pypi\r\ntorchaudio                0.7.2                    pypi_0    pypi\r\ntorchvision               0.8.2+cu101              pypi_0    pypi\r\npaddlepaddle-gpu          2.1.0.post101            pypi_0    pypi\r\nx2paddle                  1.2.1                    pypi_0    pypi\r\n```\r\n",
        "state": "closed",
        "user": "Z1Wu",
        "closed_by": "Z1Wu",
        "created_at": "2021-05-31T09:30:53+00:00",
        "updated_at": "2021-06-07T07:41:57+00:00",
        "closed_at": "2021-06-07T07:41:56+00:00",
        "comments_count": [
            "SunAhong1993",
            "jiangjiajun",
            "Z1Wu",
            "jiangjiajun",
            "Z1Wu"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 613,
        "title": "optimizer.add_param_group添加的参数无法更新",
        "body": "我做了一个简单的测试，我使用了X2Paddle里的optimzer.Adam，首先用w的参数创建优化器，然后使用optimzer.add_param_group()添加b的参数，训练前后w的参数更新了，但b的参数没有更新，这是怎么回事呢？\r\n如下是结果和代码：\r\n![image](https://user-images.githubusercontent.com/49092533/121028427-67034e80-c7da-11eb-93ab-4957247929ec.png)\r\n```python\r\nimport paddle\r\nimport paddle.nn as nn\r\nfrom lib.optimizer import Adam\r\n\r\nclass Weight(nn.Layer):\r\n    def __init__(self):\r\n        super().__init__()\r\n        self.l1 = nn.Linear(1, 1)\r\n    def forward(self, x):\r\n        x = self.l1(x)\r\n        return x\r\n\r\nclass Bias(nn.Layer):\r\n    def __init__(self):\r\n        super().__init__()\r\n        self.bias = paddle.create_parameter([1], dtype='float32')\r\n    def forward(self, x):\r\n        return x + self.bias\r\n\r\nw = Weight()\r\nb = Bias()\r\n\r\noptim = Adam(params=w.parameters(), lr=0.1)\r\noptim.add_param_group({'params': b.parameters()})\r\n\r\nx = paddle.to_tensor(2.0)\r\ny = x\r\noutput = b(w(x)) # output = w * x + b\r\nprint(\"训练前的参数：#############\")\r\nprint(\"w:\\n\", w.parameters())\r\nprint(\"b:\\n\", b.parameters())\r\nloss = y-output\r\nloss.backward()\r\noptim.step()\r\noptim.clear_grad()\r\nprint(\"训练后的参数：#############\")\r\nprint(\"w:\\n\", w.parameters())\r\nprint(\"b:\\n\", b.parameters())\r\n\r\n\r\n\r\n",
        "state": "open",
        "user": "376498485",
        "closed_by": null,
        "created_at": "2021-06-07T13:46:36+00:00",
        "updated_at": "2021-06-09T04:05:51+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 615,
        "title": "转换模型出错：Now translating model from pytorch to paddle. Could not get name of python class object",
        "body": "模型来源： pytorch\r\n模型说明： 图像分割模型，对应代码地址为：https://github.com/DengPingFan/PraNet\r\n模型：\r\n链接：https://pan.baidu.com/s/1VoWdBUnLgPXzqKyRv0-n4A \r\n          提取码：gfwx \r\n\r\n版本为python:3.8.5\r\ntorch：1.7.1\r\n\r\n转换代码：\r\nopt = parser.parse_args()\r\nmodel = PraNet()\r\nmodel = nn.DataParallel(model)\r\nmodel.load_state_dict(torch.load(opt.pth_path),False)\r\nmodel.cuda()\r\nmodel.eval()\r\n\r\nfrom x2paddle.convert import pytorch2paddle\r\n\r\n\r\ninput_data = torch.rand(1, 3, 352, 352)\r\npytorch2paddle(module=\"model\",\r\n               save_dir=\"utils\",\r\n               jit_type=\"trace\",\r\n               input_examples=[torch.tensor(input_data)])\r\n\r\n转换过程出错提示如下：\r\n```\r\n['1', '7', '1']\r\nNow translating model from pytorch to paddle.\r\nCould not get name of python class object\r\n```\r\n",
        "state": "open",
        "user": "WAS2001",
        "closed_by": null,
        "created_at": "2021-06-09T11:44:14+00:00",
        "updated_at": "2021-07-20T09:34:55+00:00",
        "closed_at": null,
        "comments_count": [
            "xiaobu404",
            "SunAhong1993",
            "WAS2001",
            "SunAhong1993",
            "WAS2001"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 620,
        "title": "【论文复现营】精度对齐中发现torch2paddle.zeros_init_并没有将参数设置为0",
        "body": "bigtransfor论文复现中，发现head处精度无法对齐，相关代码为：\r\ntorch代码：\r\n`      if self.zero_head:\r\n        nn.init.zeros_(self.head4.conv.weight)\r\n        nn.init.zeros_(self.head4.conv.bias)`\r\n对应的飞桨代码：\r\n`            if self.zero_head:\r\n                zeros_init_(self.head4.conv.weight)\r\n                zeros_init_(self.head4.conv.bias)\r\n`\r\n经对比，发现飞桨这里并没有把self.head4.conv.weight 设置为0 ，\r\n查找源代码，发现zeros_init_代码为：\r\n\r\n\r\nSignature: torch2paddle.zeros_init_(param)\r\nDocstring: <no docstring>\r\nSource:   \r\ndef zeros_init_(param):\r\n    replaced_param = paddle.create_parameter(\r\n        shape=param.shape,\r\n        dtype=param.dtype,\r\n        default_initializer=paddle.nn.initializer.Assign(\r\n            paddle.zeros(param.shape, param.dtype)))\r\n    paddle.assign(param, replaced_param)\r\nFile:      ~/an3/lib/python3.8/site-packages/x2paddle/project_convertor/pytorch/torch2paddle/nn_init.py\r\nType:      function\r\n\r\n通过查看飞桨手册，发现paddle.assign(param, replaced_param)这句用反了，导致 torch2paddle.zeros_init_没有按照预想的将参数设置为0 \r\n\r\nassign API手册如下：\r\n`paddle.assign(x, output=None)[源代码]\r\n该OP将输入Tensor或numpy数组拷贝至输出Tensor。\r\n参数：\r\nx (Tensor|np.ndarray|list|tuple|scalar) - 输入Tensor，或numpy数组，或由基本数据组成的list/tuple，或基本数据，支持数据类型为float32, float64, int32, int64和bool。注意：由于当前框架的protobuf传输数据限制，float64数据会被转化为float32数据。\r\n\r\noutput (Tensor，可选) - 输出Tensor。如果为None，则创建一个新的Tensor作为输出Tensor，默认值为None。\r\n\r\n返回：输出Tensor，形状、数据类型、数据值和 x 一致。\r\n`\r\n\r\n\r\n",
        "state": "closed",
        "user": "skywalk163",
        "closed_by": "skywalk163",
        "created_at": "2021-06-14T14:08:18+00:00",
        "updated_at": "2021-06-26T12:39:05+00:00",
        "closed_at": "2021-06-26T12:39:05+00:00",
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 626,
        "title": "x2paddle_code.py:582: DeprecationWarning: invalid escape sequence \\p 'utf-8' codec can't decode byte 0xb9 in position 1389: invalid start byte",
        "body": "模型来源：Pytorch\r\n模型说明：FeatherNetB，图像分类\r\n模型文件：链接：https://pan.baidu.com/s/1HvNBnYJ1LQmukEuFG1Tz3w  提取码：ok32 \r\n转换过程报错：\r\n’‘’\r\n['1', '8', '1+cpu']\r\nNow translating model from pytorch to paddle.\r\nModel optimizing ...\r\ntrace_fc_fuse_pass done!\r\nModel optimized.\r\nExporting inference model from python code ('D:\\model_trace\\x2paddle_code.py')... \r\n\r\nD:\\model_trace\\x2paddle_code.py:582: DeprecationWarning: invalid escape sequence \\p\r\n'utf-8' codec can't decode byte 0xb9 in position 1389: invalid start byte\r\n‘’‘\r\n\r\nx2paddle_code.py:582代码：\r\nparams = paddle.load('D:\\model_trace/model.pdparams')\r\n\r\n\r\n\r\n\r\n",
        "state": "open",
        "user": "j-river",
        "closed_by": null,
        "created_at": "2021-06-22T06:25:52+00:00",
        "updated_at": "2021-06-23T08:00:36+00:00",
        "closed_at": null,
        "comments_count": [
            "SunAhong1993"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 627,
        "title": "Fail to generate inference model! Problem happend while export inference model from python code",
        "body": "模型来源：onnx（tflite2onnx导出；onnxruntime 验证onnx模型OK）\r\n模型类型：关键点回归\r\n\r\n转换过程出错提示如下：\r\n```\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"/home/ar/shaoxiong/envs/anaconda3/envs/mobilehand/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/ar/shaoxiong/envs/anaconda3/envs/mobilehand/lib/python3.7/site-packages/x2paddle/convert.py\", line 259, in main\r\n    onnx2paddle(args.model, args.save_dir)\r\n  File \"/home/ar/shaoxiong/envs/anaconda3/envs/mobilehand/lib/python3.7/site-packages/x2paddle/convert.py\", line 165, in onnx2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"/home/ar/shaoxiong/envs/anaconda3/envs/mobilehand/lib/python3.7/site-packages/x2paddle/core/program.py\", line 279, in gen_model\r\n    raise e\r\n  File \"/home/ar/shaoxiong/envs/anaconda3/envs/mobilehand/lib/python3.7/site-packages/x2paddle/core/program.py\", line 273, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"/home/ar/shaoxiong/envs/anaconda3/envs/mobilehand/lib/python3.7/site-packages/x2paddle/core/program.py\", line 527, in dygraph2static\r\n    import x2paddle_code\r\n  File \"hand_landmark.pd/x2paddle_code.py\", line 80\r\n    x2paddle_TFLITE2ONNX_FAF_model_model_tf_nn_relu6_Relu6;model_model_batch_normalization_FusedBatchNormV3;model_model_batch_normalization_1_FusedBatchNormV3;model_model_depthwise_conv2d_depthwise;model_model_conv2d_9_Conv2D;model_model_conv2d_Conv2D = self.conv0(x2paddle_TFLITE2ONNX_FAF_model_model_tf_nn_relu6_Relu6;model_model_batch_normalization_FusedBatchNormV3;model_model_batch_normalization_1_FusedBatchNormV3;model_model_depthwise_conv2d_depthwise;model_model_conv2d_9_Conv2D;model_model_conv2d_Conv2D_paded)\r\n                                                                                                                                                                                                                                                                                                                               ^\r\nSyntaxError: invalid syntax\r\n```\r\n\r\n> onnx                          1.6.0\r\n> onnxruntime                   1.6.0\r\n> paddlepaddle                  2.1.0\r\n> x2paddle                      1.2.3\r\n> ",
        "state": "open",
        "user": "youngstu",
        "closed_by": null,
        "created_at": "2021-06-23T07:45:03+00:00",
        "updated_at": "2021-08-16T03:56:35+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 628,
        "title": "LRN精度问题",
        "body": "\r\n模型来源： ONNX model zoo\r\n模型说明： --\r\n模型文件： https://github.com/onnx/models/tree/master/vision/classification/alexnet\r\n\r\n转换之后出现精度误差，部分分类Top1均存在偏差\r\n\r\npaddle更新2.0+之后，适配了LRN，与X2paddle自定义方式类似\r\nhttps://www.paddlepaddle.org.cn/documentation/docs/zh/api/paddle/nn/LocalResponseNorm_cn.html#localresponsenorm\r\n\r\n实际替换opset.py的\r\n\"custom_layer:LocalResponseNorm\" -> \"paddle.nn.LocalResponseNorm\"\r\n精度回复正常\r\n\r\n",
        "state": "closed",
        "user": "ltcs11",
        "closed_by": "ltcs11",
        "created_at": "2021-06-24T09:20:05+00:00",
        "updated_at": "2021-09-08T02:41:14+00:00",
        "closed_at": "2021-09-08T02:41:14+00:00",
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 634,
        "title": "FaceNet(Inception Resnet V1 model）can't be converted from onnx to paddle!",
        "body": "```shell\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/setuptools/depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\npaddle.__version__ = 2.1.0\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 9\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 9, automatically treated as op_set: 9.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== ReduceL2 ============\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.0.1', 'console_scripts', 'x2paddle')()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/convert.py\", line 264, in main\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/convert.py\", line 172, in onnx2paddle\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/op_mapper/dygraph/onnx2paddle/onnx_op_mapper.py\", line 32, in __init__\r\nException: Model is not supported yet.\r\n```",
        "state": "open",
        "user": "rolfma19",
        "closed_by": null,
        "created_at": "2021-07-02T05:43:12+00:00",
        "updated_at": "2021-07-02T08:32:52+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "rolfma19",
            "wjj19950828",
            "rolfma19"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 641,
        "title": "pytorch模型Conv2DTranspose转换报错",
        "body": "我在进行SfMlearner的预训练模型转换时，模型参数可以正常转化，网络代码也可以正常生成，但在生成网络代码时出现报错。\r\n\r\n报错信息指出output_padding参数转换错误，整个网络中仅Conv2DTranspose函数具有output_padding项，故怀疑是该函数的转化出错。\r\n\r\n尽管出现了报错，转换后的模型参数和网络代码均可以正常使用，即可将转换后的模型参数加载进x2paddle_code.py定义的网络，并能正常进行预测。\r\n\r\n模型来源： Pytorch\r\n模型说明： 图像深度估计模型，源repo为https://github.com/ClementPinard/SfmLearner-Pytorch\r\n模型转换代码及预训练参数： 链接: https://pan.baidu.com/s/1_-QGiZG29NXGRzmcDyxCwA 提取码: ugfi\r\n版本：paddle 2.1，paddlehub 2.1\r\n\r\n模型转换时的输出：\r\n```\r\nNow translating model from pytorch to paddle.\r\nModel optimizing ...\r\ntrace_fc_fuse_pass done!\r\nModel optimized.\r\nExporting inference model from python code\r\nFail to generate inference model! Problem happend while export inference model from python code 'x2paddle_code.py'\r\n```\r\n\r\n详细报错信息：\r\n```\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"trans.py\", line 14, in <module>\r\n    pytorch2paddle(module=disp_net, \r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/x2paddle/convert.py\", line 199, in pytorch2paddle\r\n    mapper.paddle_graph.gen_model(save_dir, jit_type=jit_type)\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/x2paddle/core/program.py\", line 279, in gen_model\r\n    raise e\r\n  File \"/anaconda3/envs/work/lib/python3.8/site-packages/x2paddle/core/program.py\", line 273, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/x2paddle/core/program.py\", line 538, in dygraph2static\r\n    paddle.jit.save(static_model,\r\n  File \"<decorator-gen-67>\", line 2, in save\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/base.py\", line 40, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/jit.py\", line 718, in save\r\n    concrete_program = static_func.concrete_program_specify_input_spec(\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 487, in concrete_program_specify_input_spec\r\n    concrete_program, _ = self.get_concrete_program(\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 402, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 711, in __getitem__\r\n    self._caches[item] = self._build_once(item)\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 698, in _build_once\r\n    concrete_program = ConcreteProgram.from_func_spec(\r\n  File \"<decorator-gen-65>\", line 2, in from_func_spec\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/base.py\", line 40, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 658, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 192, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nKeyError: \r\nIn transformed code:\r\nFile \"SfMlearner_trans/pd_model_trace/x2paddle_code.py\", line 319, in forward (* user code *)\r\nx8 = self.upconv70(x7)\r\nFile \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/convert_call_func.py\", line 140, in convert_call\r\n\"Convert callable object: convert {}.\".format(func))\r\nFile \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 1189, in __repr__\r\nsublayer_str = repr(layer)\r\nFile \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 1185, in __repr__\r\nextra_repr = self.extra_repr()\r\nFile \"anaconda3/envs/work/lib/python3.8/site-packages/paddle/nn/layer/conv.py\", line 173, in extra_repr\r\nreturn main_str.format(**self.__dict__)\r\nKeyError: \\'_output_padding\\'\r\n```\r\n注意到keyError项最后给出out_padding关键词，故怀疑是conv2dtranspose的转化出错",
        "state": "open",
        "user": "jianganbai",
        "closed_by": null,
        "created_at": "2021-07-19T04:19:24+00:00",
        "updated_at": "2021-07-20T08:03:22+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "jianganbai",
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 646,
        "title": "项目无法转换，有不支持的包或OP",
        "body": "The unsupported packages or operators are: [torch.jit.ignore, torch.nn.init.kaiming_uniform_]",
        "state": "open",
        "user": "krisandchris",
        "closed_by": null,
        "created_at": "2021-07-24T12:59:34+00:00",
        "updated_at": "2021-07-27T11:10:35+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 640,
        "title": "yolov5是否支持转换为paddle",
        "body": "我在转换过程中，已经将yolov5模型转换为onnx模型，但始终无法将转换出来的onnx模型转为paddle。",
        "state": "open",
        "user": "duantangjin",
        "closed_by": null,
        "created_at": "2021-07-19T03:02:04+00:00",
        "updated_at": "2022-04-21T09:31:51+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "duantangjin",
            "wjj19950828",
            "duantangjin",
            "duantangjin",
            "wjj19950828",
            "duantangjin",
            "duantangjin",
            "yeliang2258",
            "duantangjin",
            "yeliang2258",
            "duantangjin",
            "yeliang2258",
            "duantangjin",
            "yeliang2258",
            "duantangjin",
            "yeliang2258",
            "litao-zhx"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 643,
        "title": "支持YOLOX模型转Paddle吗",
        "body": "https://github.com/Megvii-BaseDetection/YOLOX/tree/main/demo/ONNXRuntime \r\n模型列表及下载地址见上链接",
        "state": "open",
        "user": "jiangjiajun",
        "closed_by": null,
        "created_at": "2021-07-22T02:07:45+00:00",
        "updated_at": "2021-07-23T06:54:21+00:00",
        "closed_at": null,
        "comments_count": [
            "yeliang2258"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 644,
        "title": "x2paddle不能转torch的GRU，GRUCell,multinomial这些吗",
        "body": "The unsupported packages or operators are: [torch.nn.GRU, torch.nn.GRUCell, torch.multinomial].",
        "state": "open",
        "user": "lwb69",
        "closed_by": null,
        "created_at": "2021-07-23T03:49:56+00:00",
        "updated_at": "2021-07-23T13:10:22+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 647,
        "title": "upsample_nearest2d 算子仅使用 `scale_factor` 参数时转换出错",
        "body": "`torch.nn.functional.interpolate` 转换出错，详情见下\r\n\r\n#### 环境\r\nx2paddle 1.3.0\r\npytorch 1.8.1\r\n\r\n#### 最小复现代码：\r\n```python3\r\nclass Debug(torch.nn.Module):\r\n    def __init__(self):\r\n        super().__init__()\r\n    def forward(self, x):\r\n        x = torch.nn.functional.interpolate(x, scale_factor=2.0, mode='nearest')\r\n        return x\r\n\r\nmodel = Debug()\r\ninput = torch.randn((1, 256, 14, 14), dtype=torch.float32)\r\n\r\npytorch2paddle(module=model,\r\n    save_dir=\"./convert/output/debug\",\r\n    jit_type=\"trace\",\r\n    input_examples=[input])\r\n```\r\n\r\n#### 报错信息\r\n```python3\r\nTraceback (most recent call last):\r\n  File \"converter.py\", line 95, in <module>\r\n    convert_Debug()\r\n  File \"converter.py\", line 79, in convert_Debug\r\n    pytorch2paddle(module=model,\r\n  File \"/xx/anaconda3/envs/paddle_real/lib/python3.9/site-packages/x2paddle/convert.py\", line 192, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"/xx/anaconda3/envs/paddle_real/lib/python3.9/site-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 42, in __init__\r\n    self.paddle_graph, _ = self.traverse(decoder.graph)\r\n  File \"/xx/anaconda3/envs/paddle_real/lib/python3.9/site-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 113, in traverse\r\n    inputs, outputs = func(self, graph, node)\r\n  File \"/xx/anaconda3/envs/paddle_real/lib/python3.9/site-packages/x2paddle/op_mapper/pytorch2paddle/aten.py\", line 5533, in aten_upsample_nearest2d\r\n    mapper._check_input(graph, inputs_node[3], inputs_name[3],\r\nIndexError: list index out of range\r\n```",
        "state": "open",
        "user": "lytning98",
        "closed_by": null,
        "created_at": "2021-07-24T16:26:52+00:00",
        "updated_at": "2021-07-26T02:24:30+00:00",
        "closed_at": null,
        "comments_count": [
            "lytning98"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 649,
        "title": "cannot import name 'polish_model' from 'onnx.utils'",
        "body": "\r\n模型是由paddlex训练的yolov3转为onnx的，在使用x2paddle转为paddle时，报如下错误：\r\n\r\npaddle.__version__ = 2.1.1\r\nNow translating model from onnx to paddle.\r\nTraceback (most recent call last):\r\n  File \"/root/anaconda3/envs/torch2paddle/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.3.0', 'console_scripts', 'x2paddle')())\r\n  File \"/root/anaconda3/envs/torch2paddle/lib/python3.7/site-packages/x2paddle-1.3.0-py3.7.egg/x2paddle/convert.py\", line 259, in main\r\n    onnx2paddle(args.model, args.save_dir)\r\n  File \"/root/anaconda3/envs/torch2paddle/lib/python3.7/site-packages/x2paddle-1.3.0-py3.7.egg/x2paddle/convert.py\", line 160, in onnx2paddle\r\n    from x2paddle.decoder.onnx_decoder import ONNXDecoder\r\n  File \"/root/anaconda3/envs/torch2paddle/lib/python3.7/site-packages/x2paddle-1.3.0-py3.7.egg/x2paddle/decoder/onnx_decoder.py\", line 19, in <module>\r\n    from onnx.utils import polish_model\r\nImportError: cannot import name 'polish_model' from 'onnx.utils' (/root/anaconda3/envs/torch2paddle/lib/python3.7/site-packages/onnx/utils.py)",
        "state": "open",
        "user": "KoTion",
        "closed_by": null,
        "created_at": "2021-07-27T08:19:53+00:00",
        "updated_at": "2021-07-27T11:09:53+00:00",
        "closed_at": null,
        "comments_count": [
            "yeliang2258",
            "KoTion",
            "yeliang2258"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 651,
        "title": "Yolov5 后处理层转换不支持",
        "body": "问题描述：\r\n1、pytorch训练模型，导出onnx，再转到paddle，paddle模型没有实现yolov5后处理部分（解码+nms），请问怎么实现呢？",
        "state": "closed",
        "user": "youngstu",
        "closed_by": "jiangjiajun",
        "created_at": "2021-07-29T06:22:28+00:00",
        "updated_at": "2021-08-16T03:36:34+00:00",
        "closed_at": "2021-08-16T03:36:34+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 652,
        "title": "Model is not supported yet",
        "body": "模型来源： TensorFlow\r\n模型说明： 图像分类模型，其相应repo为 https://github.com/Jackluisus/VisDrone-ensemble-tensorflow\r\n模型文件： 链接: 链接：https://pan.baidu.com/s/1f7HwghJtPmJJPazSxhTtiA 提取码：0eq4 \r\n\r\nckpt模型转换为pb模型代码如下：\r\n```\r\nfrom tensorflow_core.python.framework import graph_util\r\n\r\nimport tensorflow as tf\r\n\r\ndef freeze_graph(input_checkpoint, output_graph):\r\n    '''\r\n    :param input_checkpoint:\r\n    :param output_graph: PB模型保存路径\r\n    '''\r\n    # 输出节点名称\r\n    output_node_names = \"save_1/restore_all\"\r\n\r\n    saver = tf.train.import_meta_graph(input_checkpoint + '.meta', clear_devices=True)\r\n    graph = tf.get_default_graph()\r\n    input_graph_def = graph.as_graph_def()\r\n    with tf.Session() as sess:\r\n        saver.restore(sess, input_checkpoint)\r\n\r\n        # fix batch norm nodes\r\n        # 解决value error问题\r\n        for node in input_graph_def.node:\r\n            if node.op == 'RefSwitch':\r\n                node.op = 'Switch'\r\n                for index in xrange(len(node.input)):\r\n                    if 'moving_' in node.input[index]:\r\n                        node.input[index] = node.input[index] + '/read'\r\n            elif node.op == 'AssignSub':\r\n                node.op = 'Sub'\r\n                if 'use_locking' in node.attr: del node.attr['use_locking']\r\n            elif node.op == 'AssignAdd':\r\n                node.op = 'Add'\r\n                if 'use_locking' in node.attr: del node.attr['use_locking']\r\n            elif node.op == 'Assign':\r\n                node.op = 'Identity'\r\n                if 'use_locking' in node.attr: del node.attr['use_locking']\r\n                if 'validate_shape' in node.attr: del node.attr['validate_shape']\r\n                if len(node.input) == 2:\r\n                    # input0: ref: Should be from a Variable node. May be uninitialized.\r\n                    # input1: value: The value to be assigned to the variable.\r\n                    node.input[0] = node.input[1]\r\n                    del node.input[1]\r\n\r\n        output_graph_def = graph_util.convert_variables_to_constants(\r\n            sess=sess,\r\n            input_graph_def=input_graph_def,  # 等于:sess.graph_def\r\n            output_node_names=output_node_names.split(\",\"))\r\n\r\n        with tf.gfile.GFile(output_graph, \"wb\") as f:\r\n            f.write(output_graph_def.SerializeToString())\r\n        print(\"%d ops in the final graph.\" % len(output_graph_def.node))\r\n\r\n\r\n\r\nif __name__ == '__main__':\r\n    input_checkpoint = 'visdrone_resnet101_v1d_88000_model.ckpt'\r\n    output_graph = 'freeze_model.pb'\r\n    freeze_graph(input_checkpoint, output_graph)\r\n```\r\n\r\n\r\n\r\n转换过程出错提示如下：\r\n```\r\n  import imp\r\nNow translating model from tensorflow to paddle.\r\n\r\n========= 2 OPs are not supported yet ===========\r\n========== NoOp ============\r\n========== RestoreV2 ============\r\nTraceback (most recent call last):\r\n  File \"D:\\Anaconda\\envs\\tfgpu1.5\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.2.3', 'console_scripts', 'x2paddle')())\r\n  File \"D:\\Anaconda\\envs\\tfgpu1.5\\lib\\site-packages\\x2paddle-1.2.3-py3.6.egg\\x2paddle\\convert.py\", line 251, in main\r\n    tf2paddle(args.model, args.save_dir, define_input_shape)\r\n  File \"D:\\Anaconda\\envs\\tfgpu1.5\\lib\\site-packages\\x2paddle-1.2.3-py3.6.egg\\x2paddle\\convert.py\", line 117, in tf2paddle\r\n    mapper = TFOpMapper(model)\r\n  File \"D:\\Anaconda\\envs\\tfgpu1.5\\lib\\site-packages\\x2paddle-1.2.3-py3.6.egg\\x2paddle\\op_mapper\\tf2paddle\\tf_op_mapper.py\", line 91, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n```\r\n",
        "state": "open",
        "user": "luo1230",
        "closed_by": null,
        "created_at": "2021-08-03T03:53:51+00:00",
        "updated_at": "2021-08-06T17:18:12+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 656,
        "title": "Could you please add DeeplabV3Plus with backbone Mobile Net timm-mobilenetv3_small_075",
        "body": "请说明模型的来源，模型类型（例如图像分类、目标检测等），应用场景（如需要转为Paddle，通过PaddleLite部署到树莓派上，满足XXX需求）\r\n\r\n**提示 上述有详细描述的issue会让工程师更快了解用户的需求，丰富产品的功能和易用性，相关issue也会被优先处理！！！**\r\n\r\n你们好，\r\n我参加了AI达人训练营，需要做路面分隔，用到了DeeplabV3Plus with Mobile Net V3, 原因是要跑在Raspberry Pi 4（4GB）这样的edge devices上。\r\n\r\n\r\n模型来源： PyTorch\r\n模型说明： 图像分类模型，其相应repo为 https://github.com/qubvel/segmentation_models.pytorch/\r\n模型文件： 链接: https://github.com/qubvel/segmentation_models.pytorch/blob/master/examples/cars%20segmentation%20(camvid).ipynb\r\n请用上面的notebook生成这个模型。\r\n\r\n拜托啦",
        "state": "open",
        "user": "franva",
        "closed_by": null,
        "created_at": "2021-08-10T15:57:38+00:00",
        "updated_at": "2021-08-15T04:56:48+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "franva",
            "jiangjiajun"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 654,
        "title": "[PyTorch2Paddle] nn.PReLU模型参数名不匹配",
        "body": "\r\n发现了宝藏包！落地Paddle比想象中丝滑的多，非常感谢大家的辛苦付出！\r\n\r\n模型来源： PyTorch\r\n模型说明： 模型中使用了nn.PReLU，API映射表中表示功能一致，实际上他们保存的weight名称不一致。torch 中为 “weight\"，paddle中为\"_weight\"\r\n\r\n\r\n\r\n",
        "state": "open",
        "user": "youqingxiaozhua",
        "closed_by": null,
        "created_at": "2021-08-10T08:39:21+00:00",
        "updated_at": "2021-08-11T09:04:57+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "youqingxiaozhua",
            "wjj19950828",
            "youqingxiaozhua",
            "youqingxiaozhua",
            "wjj19950828",
            "youqingxiaozhua"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 653,
        "title": "tensorflow 文本分类 文本命名实体识别 转换异常",
        "body": "请说明模型的来源，模型类型（例如图像分类、目标检测等）  \r\n\r\n如有原模型文件或github链接，如方便可一并附上，方便开发人员分析。\r\n\r\n**为了便于开发人员快速定位原因，建议将模型文件上传（或通过百度网盘分享）**\r\n\r\n## 示例\r\n\r\n模型来源： TensorFlow\r\n模型说明： 文本分类 文本命名实体识别，其相应repo为 https://github.com/bert4keras\r\n模型文件： 链接：https://pan.baidu.com/s/1DSBcTXekqrTwzCeJ8nEbNA 提取码：296t\r\n转换过程出错提示如下：\r\n```\r\npaddle.__version__ = 2.0.0\r\nC:\\ProgramData\\Anaconda3\\envs\\X2Paddle\\lib\\site-packages\\tensorflow_core\\python\\pywrap_tensorflow_internal.py:15: DeprecationWarning: the imp module is deprecated in favour of importli\r\nb; see the module's documentation for alternative uses\r\n  import imp\r\nNow translating model from tensorflow to paddle.\r\nTraceback (most recent call last):\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\X2Paddle\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\X2Paddle\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\X2Paddle\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\X2Paddle\\lib\\site-packages\\x2paddle\\convert.py\", line 256, in main\r\n    define_input_shape, args.paddle_type)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\X2Paddle\\lib\\site-packages\\x2paddle\\convert.py\", line 113, in tf2paddle\r\n    model = TFDecoder(model_path, define_input_shape=define_input_shape)\r\n  File \"C:\\ProgramData\\Anaconda3\\envs\\X2Paddle\\lib\\site-packages\\x2paddle\\decoder\\tf_decoder.py\", line 339, in __init__\r\n    graph_def.ParseFromString(f.read())\r\ngoogle.protobuf.message.DecodeError: Error parsing message\r\n\r\n```\r\n",
        "state": "closed",
        "user": "natureLanguageQing",
        "closed_by": "natureLanguageQing",
        "created_at": "2021-08-10T02:05:09+00:00",
        "updated_at": "2021-08-16T02:07:23+00:00",
        "closed_at": "2021-08-16T02:07:23+00:00",
        "comments_count": [
            "jiangjiajun",
            "natureLanguageQing",
            "natureLanguageQing",
            "natureLanguageQing"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 658,
        "title": "caffemodel转PaddlePaddle 失败 AttributeError: input",
        "body": "模型来源： CAFFE\r\n模型说明： RCF边缘检测，其相应GitHub：https://github.com/yun-liu/RCF\r\n模型文件：链接：https://pan.baidu.com/s/1vscZPDIWE3tia9V-1Fo7OQ 提取码：c2ya \r\n环境：python3.8\r\n转换过程出错提示如下：\r\npaddle.__version__ = 2.1.1\r\nNow translating model from caffe to paddle.\r\nTotal nodes: 70\r\nNodes converting ...\r\nConverting node 15 ...     Traceback (most recent call last):\r\n  File \"G:\\Anaconda3\\envs\\eiseg\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.3.1', 'console_scripts', 'x2paddle')())\r\n  File \"G:\\Anaconda3\\envs\\eiseg\\lib\\site-packages\\x2paddle\\convert.py\", line 255, in main\r\n    caffe2paddle(args.prototxt, args.weight, args.save_dir,\r\n  File \"G:\\Anaconda3\\envs\\eiseg\\lib\\site-packages\\x2paddle\\convert.py\", line 137, in caffe2paddle\r\n    mapper = CaffeOpMapper(model)\r\n  File \"G:\\Anaconda3\\envs\\eiseg\\lib\\site-packages\\x2paddle\\op_mapper\\caffe2paddle\\caffe_op_mapper.py\", line 147, in __init__\r\n    self.directly_map(node)\r\n  File \"G:\\Anaconda3\\envs\\eiseg\\lib\\site-packages\\x2paddle\\op_mapper\\caffe2paddle\\caffe_op_mapper.py\", line 171, in directly_map\r\n    inputs = node.layer.input\r\nAttributeError: input\r\n",
        "state": "open",
        "user": "78666621",
        "closed_by": null,
        "created_at": "2021-08-13T08:36:34+00:00",
        "updated_at": "2021-08-26T02:13:22+00:00",
        "closed_at": null,
        "comments_count": [
            "yeliang2258"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 659,
        "title": "转换ONNX模型提示ONNX版本不符合要求",
        "body": "在已经安装了1.10.0版本的ONNX情况下，转ONNX模型，提示要安装onnx>=1.6.0\r\n\r\n原因应该是在https://github.com/PaddlePaddle/X2Paddle/blob/develop/x2paddle/convert.py#L152 这行代码中用字符串来判断，而字符串判断中 1.10.0确实小于1.6.0",
        "state": "closed",
        "user": "jiangjiajun",
        "closed_by": "jiangjiajun",
        "created_at": "2021-08-17T03:17:45+00:00",
        "updated_at": "2021-08-21T02:21:09+00:00",
        "closed_at": "2021-08-21T02:21:09+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 657,
        "title": "Covert onnx lstm model to paddlelite model failed",
        "body": "我利用tf.keras训练两层lstm+一层全连接降噪模型，并利用keras2onnx转为onnx模型，然后计划将onnx lstm 转换为paddlelite model, 但转换失败。我也尝试利用onnx-simplifier来简化onnx lstm model， 简化成功后转换paddlelite model [仍然失败，这一步参考。](https://github.com/PaddlePaddle/X2Paddle/issues/511) \r\n\r\n\r\n## 示例\r\n模型来源： onnx model from keras2onnx\r\n模型文件： 链接：https://pan.baidu.com/s/19z5Efr4siw1_ByecnH_4PA   提取码：kpj3 \r\n转换过程出错提示如下：\r\n\r\nonnx-simplifier 简化前：\r\n![image](https://user-images.githubusercontent.com/34911790/129003253-27b797e0-e2af-480a-a74b-43356e258ffb.png)\r\nonnx-simplifier 简化后：\r\n![image](https://user-images.githubusercontent.com/34911790/129003433-d3d2558d-c39b-41e4-9888-f5aeff34562b.png)\r\n\r\n期待任何回复，感谢。 \r\n",
        "state": "open",
        "user": "leospark",
        "closed_by": null,
        "created_at": "2021-08-11T09:18:50+00:00",
        "updated_at": "2021-08-16T04:52:07+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "leospark"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 660,
        "title": "【论文复现营】没有这句就报错：from x2paddle import torch2paddle",
        "body": "在完成代码转换工作的时候，发现有时候已经将x2paddle的代码全部替换掉了，但是如果没有这句：from x2paddle import torch2paddle\r\n\r\n程序还是会报错，加上就能执行成功。\r\n\r\n\r\n比如完成的这段代码：\r\n\r\n            from x2paddle import torch2paddle\r\n            import paddle\r\n\r\n            def max(input, dim_other=None, keepdim=False, *, out=None):\r\n                if dim_other is None:\r\n                    return paddle.max(input)\r\n                elif isinstance(dim_other, paddle.Tensor):\r\n                    return paddle.maximum(input, dim_other)\r\n                else:\r\n                    return paddle.max(input, axis=dim_other, keepdim=keepdim)\r\n\r\n\r\n            # def mean(input, dim=None, keepdim=False, *, out=None):\r\n            #     if dim is None:\r\n            #         warnings.warn('The output of paddle.mean is not scalar!')\r\n            #         return paddle.mean(input)\r\n            #     else:\r\n            #         return paddle.mean(input, axis=dim, keepdim=keepdim)\r\n\r\n\r\n            def min(input, dim_other=None, keepdim=False, *, out=None):\r\n                if dim_other is None:\r\n                    return paddle.min(input)\r\n                elif isinstance(dim_other, paddle.Tensor):\r\n                    return paddle.minimum(input, dim_other)\r\n                else:\r\n                    return paddle.min(input, axis=dim_other, keepdim=keepdim)\r\n\r\n            def giou_p(bboxes1, bboxes2, eps=1e-06):\r\n                \"\"\"Calculate overlap between two set of bboxes.\r\n                Note:\r\n\r\n                calculate the GIoU between each aligned pair of bboxes1 and bboxes2.\r\n                Args:\r\n                    bboxes1 (Tensor): shape (m, 4) in <x1, y1, x2, y2> format or empty.\r\n                    bboxes2 (Tensor): shape (m, 4) in <x1, y1, x2, y2> format or empty.\r\n                    eps (float, optional): A value added to the denominator for numerical\r\n                        stability. Default 1e-6.\r\n                Returns:\r\n                    Tensor: shape (m, )\r\n                Example:\r\n                    >>> bboxes1 = torch.FloatTensor([\r\n                    >>>     [0., 0., 10., 10.],\r\n                    >>>     [10., 10., 20., 20.],\r\n                    >>>     [32., 32., 38., 42.],\r\n                    >>> ])\r\n                    >>> bboxes2 = torch.FloatTensor([\r\n                    >>>     [0., 0., 10., 20.],\r\n                    >>>     [0., 10., 10., 19.],\r\n                    >>>     [10., 10., 20., 20.],\r\n                    >>> ])\r\n                    >>> overlaps = giou(bboxes1, bboxes2)\r\n                    >>> assert overlaps.shape == (3, 3)\r\n                    >>> overlaps = bbox_overlaps(bboxes1, bboxes2)\r\n                    >>> assert overlaps.shape == (3, )\r\n                \"\"\"\r\n                # bboxes1 = torch2paddle.create_float32_tensor(bboxes1)\r\n                # bboxes2 = torch2paddle.create_float32_tensor(bboxes2)\r\n                # bboxes11 =paddle.to_tensor(bboxes1)\r\n                # bboxes22 =paddle.to_tensor(bboxes2)\r\n\r\n                rows = bboxes1.size(-2)\r\n                cols = bboxes2.size(-2)\r\n                # print(rows)\r\n                assert rows == cols\r\n                area1 = (bboxes1[:, 2] - bboxes1[:, 0]) * (bboxes1[:, 3] - bboxes1[:, 1])\r\n                area2 = (bboxes2[:, 2] - bboxes2[:, 0]) * (bboxes2[:, 3] - bboxes2[:, 1])\r\n                # lt = torch2paddle.max(bboxes1[:, :2], bboxes2[:, :2])\r\n                # rb = torch2paddle.min(bboxes1[:, 2:], bboxes2[:, 2:])\r\n                lt = max(bboxes1[:, :2], bboxes2[:, :2])\r\n                rb = min(bboxes1[:, 2:], bboxes2[:, 2:])\r\n                # wh = (rb - lt).clamp(min=0, max=None)\r\n                wh = (rb - lt).clip(min=0, max=None)\r\n                overlap = wh[:, 0] * wh[:, 1]\r\n                union = area1 + area2 - overlap\r\n                # enclosed_lt = torch2paddle.min(bboxes1[:, :2], bboxes2[:, :2])\r\n                # enclosed_rb = torch2paddle.max(bboxes1[:, 2:], bboxes2[:, 2:])\r\n                enclosed_lt = min(bboxes1[:, :2], bboxes2[:, :2])\r\n                enclosed_rb = max(bboxes1[:, 2:], bboxes2[:, 2:])\r\n                # eps = union.new_tensor([eps])\r\n                eps = union\r\n                # union = torch2paddle.max(union, eps)\r\n                union = max(union, eps)\r\n                ious = overlap / union\r\n                enclose_wh = (enclosed_rb - enclosed_lt).clip(min=0, max=None)\r\n                enclose_area = enclose_wh[:, 0] * enclose_wh[:, 1]\r\n                # enclose_area = torch2paddle.max(enclose_area, eps)\r\n                enclose_area = max(enclose_area, eps)\r\n                gious = ious - (enclose_area - union) / enclose_area\r\n                return gious.numpy()\r\n\r\n\r\n            bboxes1 = [[0.0, 0.0, 10.0, 10.0], [10.0, 10.0, 20.0, 20.0], [32.0, 32.0, \r\n                38.0, 42.0]]\r\n            bboxes2 = [[0.0, 0.0, 10.0, 10.0], [0.0, 10.0, 10.0, 19.0], [10.0, 10.0, \r\n                20.0, 20.0]]\r\n            paddle_bboxes1 = paddle.to_tensor(bboxes1)\r\n            # # print(paddle_bboxes1)\r\n            paddle_bboxes2 = paddle.to_tensor(bboxes2)\r\n            paddle_overlaps = giou_p(paddle_bboxes1, paddle_bboxes2)\r\n            print(paddle_overlaps)\r\n\r\n\r\n加了不报错，不加就报错：\r\n  File \"giou_paddle.py\", line 62, in giou_p\r\n    rows = bboxes1.size(-2)\r\nTypeError: 'numpy.int64' object is not callable",
        "state": "closed",
        "user": "skywalk163",
        "closed_by": "skywalk163",
        "created_at": "2021-08-18T15:56:33+00:00",
        "updated_at": "2021-08-22T09:47:37+00:00",
        "closed_at": "2021-08-22T09:47:37+00:00",
        "comments_count": [
            "jiangjiajun",
            "skywalk163",
            "jiangjiajun",
            "skywalk163"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 664,
        "title": "torch.nn相关API转换",
        "body": "\r\npytorch定义网络的时候需要继承nn.Module，对应到paddle中是什么呢？",
        "state": "closed",
        "user": "978326187",
        "closed_by": "wjj19950828",
        "created_at": "2021-08-27T13:39:34+00:00",
        "updated_at": "2021-10-11T03:21:18+00:00",
        "closed_at": "2021-10-11T03:21:18+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 672,
        "title": "CRAFT-pytorch轉換後使用出錯",
        "body": "请说明模型的来源，模型类型（例如图像分类、目标检测等），应用场景（如需要转为Paddle，通过PaddleLite部署到树莓派上，满足XXX需求）\r\n\r\n**提示 上述有详细描述的issue会让工程师更快了解用户的需求，丰富产品的功能和易用性，相关issue也会被优先处理！！！**\r\n\r\n如有原模型文件或github链接，如方便可一并附上，方便开发人员分析。\r\n\r\n为了便于开发人员快速定位原因，建议将模型文件上传（或通过百度网盘分享）\r\n\r\n## 示例\r\n\r\n模型来源： CRAFT\r\n模型说明： https://github.com/clovaai/CRAFT-pytorch\r\n模型文件： craft_mlt_25k.pth\r\n转换过程出错提示如下：\r\n\r\nx2paddle版本是1.3.1\r\n\r\n(paddle_env) G:\\Paddle>x2paddle --convert_torch_project --project_dir=CRAFT-pytorch --save_dir=paddle_project --pretrain_model=CRAFT-pytorch/weights/\r\npaddle.__version__ = 2.1.2\r\nG:\\Paddle\\CRAFT-pytorch\\basenet\\vgg16_bn.py\r\nG:\\Paddle\\CRAFT-pytorch\\basenet\\__init__.py\r\nG:\\Paddle\\CRAFT-pytorch\\craft.py\r\nG:\\Paddle\\CRAFT-pytorch\\craft_utils.py\r\nG:\\Paddle\\CRAFT-pytorch\\file_utils.py\r\nG:\\Paddle\\CRAFT-pytorch\\imgproc.py\r\nG:\\Paddle\\CRAFT-pytorch\\refinenet.py\r\nG:\\Paddle\\CRAFT-pytorch\\test.py\r\n\r\n(paddle_env) G:\\Paddle>cd paddle_project\r\n\r\n(paddle_env) G:\\Paddle\\paddle_project>python test.py --trained_model=weights/craft_mlt_25k.pdiparams --test_folder=data\r\nTraceback (most recent call last):\r\n  File \"test.py\", line 114, in <module>\r\n    net = CRAFT()\r\n  File \"G:\\Paddle\\paddle_project\\craft.py\", line 34, in __init__\r\n    self.basenet = vgg16_bn(pretrained, freeze)\r\n  File \"G:\\Paddle\\paddle_project\\basenet\\vgg16_bn.py\", line 49, in __init__\r\n    init_weights(self.slice1.modules())\r\n  File \"G:\\Paddle\\paddle_project\\basenet\\vgg16_bn.py\", line 13, in init_weights\r\n    init.xavier_normal_(m.weight.data)\r\n  File \"G:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\x2paddle\\project_convertor\\pytorch\\torch2paddle\\nn_init.py\", line 216, in xavier_normal_\r\n    paddle.assign(replaced_param, param)\r\n  File \"G:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddle\\tensor\\creation.py\", line 1047, in assign\r\n    return tensor.assign(x, output)\r\n  File \"G:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddle\\fluid\\layers\\tensor.py\", line 595, in assign\r\n    helper.append_op(\r\n  File \"G:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddle\\fluid\\layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"G:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2921, in append_op\r\n    _dygraph_tracer().trace_op(type,\r\n  File \"G:\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\paddle\\fluid\\dygraph\\tracer.py\", line 43, in trace_op\r\n    self.trace(type, inputs, outputs, attrs,\r\nRuntimeError: (PermissionDenied) Cannot set gradient op twice unless using Inplace Strategy.\r\n  [Hint: Expected shared_node == nullptr, but received shared_node != nullptr.] (at C:\\home\\workspace\\Paddle_release\\paddle/fluid/imperative/variable_wrapper.h:282)\r\n  [operator < assign > error]",
        "state": "open",
        "user": "a29813287",
        "closed_by": null,
        "created_at": "2021-09-02T08:35:39+00:00",
        "updated_at": "2021-09-22T06:30:01+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 665,
        "title": "torch.nn相关API转换",
        "body": "\r\npytorch定义网络的时候需要继承nn.Module，对应到paddle中是什么呢？",
        "state": "closed",
        "user": "978326187",
        "closed_by": "wjj19950828",
        "created_at": "2021-08-27T13:39:53+00:00",
        "updated_at": "2021-08-31T08:14:34+00:00",
        "closed_at": "2021-08-31T08:14:34+00:00",
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 666,
        "title": "1 OPs are not supported yet aten::sum ",
        "body": "模型类型: 图像分类\r\n模型来源： Pytorch\r\n模型说明： 图像分类模型，Resnest50\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== aten::sum ============\r\nraise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.",
        "state": "open",
        "user": "Ricardozzf",
        "closed_by": null,
        "created_at": "2021-08-30T05:00:42+00:00",
        "updated_at": "2021-08-31T13:49:34+00:00",
        "closed_at": null,
        "comments_count": [
            "yeliang2258",
            "yeliang2258"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 667,
        "title": "torch转paddle，paddle.io.Sampler相关问题",
        "body": "paddle.io.Sampler中是否有SubsetRandomSampler这个类？torch的sampler中有，\r\n[https://github.com/PaddlePaddle/X2Paddle/blob/develop/docs/pytorch_project_convertor/API_docs/utils/README.md](url)这个链接里说二者功能一致，但是我发现源码中并没有SubsetRandomSampler这个类？",
        "state": "open",
        "user": "978326187",
        "closed_by": null,
        "created_at": "2021-08-30T07:14:51+00:00",
        "updated_at": "2021-08-31T08:13:18+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "978326187"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 668,
        "title": "onnx 转换失败",
        "body": "模型来源： onnx\r\n模型说明： 文本检测dbnet网络\r\n模型文件：链接: https://pan.baidu.com/s/1ml6PFUdNey2TnHjSOcCqmg  密码: pieo\r\n\r\n```\r\nx2paddle --framework=onnx --model=ocr_detector.onnx --save_dir=pd_model\r\n\r\n```\r\n转换过程出错提示如下：\r\npython 3.6.2\r\nx2paddle 1.3.1\r\n\r\n```\r\npaddle.__version__ = 2.0.0\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 9\r\nshape inferencing ...\r\nStopping at incomplete shape inference at Concat: x2paddle_312\r\nnode inputs:\r\nname: \"x2paddle_296\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 96\r\n      }\r\n      dim {\r\n        dim_value: 64\r\n      }\r\n      dim {\r\n        dim_value: 64\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle_299\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 96\r\n      }\r\n      dim {\r\n        dim_value: 64\r\n      }\r\n      dim {\r\n        dim_value: 64\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle_302\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 96\r\n      }\r\n      dim {\r\n        dim_value: 64\r\n      }\r\n      dim {\r\n        dim_value: 64\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle_305\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 96\r\n      }\r\n      dim {\r\n        dim_value: 64\r\n      }\r\n      dim {\r\n        dim_value: 64\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle_311\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_param: \"Upsample93_o0__d0\"\r\n      }\r\n      dim {\r\n        dim_param: \"Upsample93_o0__d1\"\r\n      }\r\n      dim {\r\n        dim_param: \"Upsample93_o0__d2\"\r\n      }\r\n      dim {\r\n        dim_param: \"Upsample93_o0__d3\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nnode outputs:\r\nname: \"x2paddle_312\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n      }\r\n      dim {\r\n        dim_param: \"Upsample93_o0__d1 + 384\"\r\n      }\r\n      dim {\r\n      }\r\n      dim {\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n!!!!!!!!!!\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 9, automatically treated as op_set: 9.\r\nTotal nodes: 119\r\nNodes converting ...\r\nConverting node 299 ...\r\nNodes converted\r\n```",
        "state": "open",
        "user": "thomaszheng",
        "closed_by": null,
        "created_at": "2021-08-30T10:04:33+00:00",
        "updated_at": "2021-09-01T07:36:08+00:00",
        "closed_at": null,
        "comments_count": [
            "yeliang2258",
            "thomaszheng",
            "yeliang2258",
            "thomaszheng"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 671,
        "title": "ModuleNotFoundError: No module named 'packaging'",
        "body": "\r\n模型来源： pytorch\r\n模型说明： 图像分割模型，其相应repo为 https://github.com/xxxx\r\n模型文件： https://github.com/xuebinqin/U-2-Net  u2netp\r\nonnx == <1.6,1.9>\r\nx2paddle==1.3.1\r\npaddlepaddle-gpu=2.1.2\r\npaddlelite=2.9.1\r\n转换过程出错提示如下：\r\n```\r\nNow translating model from onnx to paddle.\r\nTraceback (most recent call last):\r\n  File \"/media/anaconda/envs/pd/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/media//anaconda/envs/pd/lib/python3.7/site-packages/x2paddle/convert.py\", line 286, in main\r\n    onnx2paddle(args.model, args.save_dir, args.paddle_type)\r\n  File \"/media//anaconda/envs/pd/lib/python3.7/site-packages/x2paddle/convert.py\", line 180, in onnx2paddle\r\n    from x2paddle.decoder.onnx_decoder import ONNXDecoder\r\n  File \"/media/anaconda/envs/pd/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 17, in <module>\r\n    from x2paddle.decoder.onnx_shape_inference import SymbolicShapeInference\r\n  File \"/media//anaconda/envs/pd/lib/python3.7/site-packages/x2paddle/decoder/onnx_shape_inference.py\", line 24, in <module>\r\n    from packaging import version\r\nModuleNotFoundError: No module named 'packaging'\r\n\r\n```\r\n",
        "state": "open",
        "user": "fcqfcq",
        "closed_by": null,
        "created_at": "2021-09-01T08:42:36+00:00",
        "updated_at": "2021-09-22T06:24:28+00:00",
        "closed_at": null,
        "comments_count": [
            "yeliang2258"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 678,
        "title": "pytorch的模型转换至paddlepaddle出错",
        "body": "模型来自pytorch实现的yolov5网络，是一个目标检测的模型。想转为Paddle，通过PaddleLite部署到服务器、移动端上，满足工业生产检测的需求。\r\n\r\n模型来源： pytorch\r\n模型说明： 目标检测模型，pt模型文件我已经转成了onnx文件，并且我用转换的onnx模型做detect，没有问题。我在把onnx转成paddlepaddle时出现如下图的错误。模型文件链接中是pt、onnx文件。\r\n\r\n环境说明：\r\nonnx 1.7.0（高版本试过，仍然是下面的错误。）\r\npython 3.8\r\nx2Paddle 1.3.0（高版本试过，仍然是下面的错误。）\r\npaddlepaddle-gpu 2.0.0\r\n\r\n\r\n模型文件： 链接：https://pan.baidu.com/s/13uddAxqjVzP1HFaPwEbSKQ 提取码：0e1z\r\n\r\n\r\n转换过程出错提示如下：\r\n![image](https://user-images.githubusercontent.com/73231938/133930223-34cf71e3-7f9f-42e2-9943-24c317b29347.png)\r\n",
        "state": "open",
        "user": "Leslie-Tsui",
        "closed_by": null,
        "created_at": "2021-09-19T14:07:45+00:00",
        "updated_at": "2022-04-21T09:30:24+00:00",
        "closed_at": null,
        "comments_count": [
            "Leslie-Tsui",
            "yeliang2258",
            "litao-zhx"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 679,
        "title": "onnx模型转换时，报MemoryError: std::bad_alloc",
        "body": "\r\n\r\n模型来源： mmdetection的yolov3_d53_mstrain-608_273e_coco重训练模型\r\n模型说明：  \r\n1.转onnx\r\n'''\r\npython tools/deployment/pytorch2onnx.py     configs/yolo/yolov3_d53_mstrain-608_273e_coco.py     /u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/latest.pth     --output-file /u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/yolov3_d53_mstrain-608_273e_coco.onnx     --input-img /u01/Code/mmdetection/data/VOCdevkit/VOC2007/JPEGImages/站101_transformer.jpg     --test-img tests/data/color.jpg     --shape 608 608     --mean 0 0 0     --std 255 255 255     --show     --verify    --dynamic-export     --cfg-options       model.test_cfg.deploy_nms_pre=-1 \r\n'''\r\n结果：\r\n'''\r\nSuccessfully exported ONNX model: /u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/yolov3_d53_mstrain-608_273e_coco.onnx\r\n...\r\nThe numerical values are the same between Pytorch and ONNX\r\n'''\r\n\r\n2.onnx转paddle\r\n'''\r\nx2paddle --framework=onnx --model=/u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/yolov3_d53_mstrain-608_273e_coco.onnx --save_dir=/u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/pd_model\r\n\r\n\r\n'''\r\n转换过程出错提示如下：\r\n\r\n过程中输入：Shape of Input(e.g. -1,3,224,224), enter 'N' to skip: N\r\n```\r\n x2paddle --framework=onnx --model=/u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/yolov3_d53_mstrain-608_273e_coco.onnx --save_dir=/u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/pd_model\r\npaddle.__version__ = 2.1.3\r\n/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/onnx/mapping.py:25: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe. \r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  int(TensorProto.STRING): np.dtype(np.object)\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nUnknown shape for input tensor[tensor name: 'x2paddle_input'] -> shape: ['batch', 3, 'width', 'height'], Please define shape of input here,\r\nNote:you can use visualization tools like Netron to check input shape.\r\nShape of Input(e.g. -1,3,224,224), enter 'N' to skip: N\r\nshape inferencing ...\r\nStopping at incomplete shape inference at Concat: x2paddle_641\r\nnode inputs:\r\nname: \"x2paddle_640\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_param: \"floor(1.0*batch)\"\r\n      }\r\n      dim {\r\n        dim_value: 256\r\n      }\r\n      dim {\r\n        dim_param: \"floor(2.0*floor(floor(floor(floor(floor(width/2 - 1/2)/2)/2)/2)/2) + 2.0)\"\r\n      }\r\n      dim {\r\n        dim_param: \"floor(2.0*floor(floor(floor(floor(floor(height/2 - 1/2)/2)/2)/2)/2) + 2.0)\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle_586\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_param: \"batch\"\r\n      }\r\n      dim {\r\n        dim_value: 512\r\n      }\r\n      dim {\r\n        dim_param: \"floor(floor(floor(floor(width/2 - 1/2)/2)/2)/2) + 1\"\r\n      }\r\n      dim {\r\n        dim_param: \"floor(floor(floor(floor(height/2 - 1/2)/2)/2)/2) + 1\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nnode outputs:\r\nname: \"x2paddle_641\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n      }\r\n      dim {\r\n        dim_value: 768\r\n      }\r\n      dim {\r\n      }\r\n      dim {\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n!!!!!!!!!!\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 11, automatically treated as op_set: 9.\r\nTotal nodes: 717\r\nNodes converting ...\r\nConverting node 633 ...     Traceback (most recent call last):\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 101, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 1077, in Slice\r\n    idx]] and val_x.out_shapes[0][axes[idx]] > 0:\r\nIndexError: list index out of range\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/u01/anaconda3/envs/mmdetection/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.3.2', 'console_scripts', 'x2paddle')())\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/convert.py\", line 261, in main\r\n    onnx2paddle(args.model, args.save_dir)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/convert.py\", line 165, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 44, in __init__\r\n    func(node)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 104, in run_mapping\r\n    node.name[9:], node.layer_type))\r\nException: convert failed node:895, op_type is Slice\r\n```\r\n输入\r\nShape of Input(e.g. -1,3,224,224), enter 'N' to skip: 1,3,608,608\r\n'''\r\n x2paddle --framework=onnx --model=/u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/yolov3_d53_mstrain-608_273e_coco.onnx --save_dir=/u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/pd_model\r\npaddle.__version__ = 2.1.3\r\n/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/onnx/mapping.py:25: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe. \r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  int(TensorProto.STRING): np.dtype(np.object)\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nUnknown shape for input tensor[tensor name: 'x2paddle_input'] -> shape: ['batch', 3, 'width', 'height'], Please define shape of input here,\r\nNote:you can use visualization tools like Netron to check input shape.\r\nShape of Input(e.g. -1,3,224,224), enter 'N' to skip: 1,3,608,608\r\nshape inferencing ...\r\n/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/decoder/onnx_shape_inference.py:510: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n  new_v = int(np.asscalar(v))\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 11, automatically treated as op_set: 9.\r\nTotal nodes: 717\r\nNodes converting ...\r\nConverting node 1147 ...     \r\nNodes converted.\r\nExporting inference model from python code ('/u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/pd_model/x2paddle_code.py')... \r\n\r\n/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:77: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working\r\n  return (isinstance(seq, collections.Sequence) and\r\nFail to generate inference model! Problem happend while export inference model from python code '/u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/pd_model/x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"/u01/anaconda3/envs/mmdetection/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.3.2', 'console_scripts', 'x2paddle')())\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/convert.py\", line 261, in main\r\n    onnx2paddle(args.model, args.save_dir)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/convert.py\", line 167, in onnx2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/core/program.py\", line 280, in gen_model\r\n    raise e\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/core/program.py\", line 274, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/x2paddle-1.3.2-py3.7.egg/x2paddle/core/program.py\", line 554, in dygraph2static\r\n    osp.join(save_dir, \"inference_model/model\"))\r\n  File \"<decorator-gen-66>\", line 2, in save\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 40, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/dygraph/jit.py\", line 726, in save\r\n    inner_input_spec)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 491, in concrete_program_specify_input_spec\r\n    *desired_input_spec)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 401, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 714, in __getitem__\r\n    self._caches[item] = self._build_once(item)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 705, in _build_once\r\n    class_instance=cache_key.class_instance)\r\n  File \"<decorator-gen-64>\", line 2, in from_func_spec\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 40, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 661, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 192, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nMemoryError: In transformed code:\r\n\r\n    File \"/u01/Code/mmdetection/work_dirs/yolov3_d53_mstrain-608_273e_coco/pd_model/x2paddle_code.py\", line 676, in forward (* user code *)\r\n\tx2paddle_739_ones = paddle.full(shape=x2paddle_738, dtype='int64', fill_value=1)\r\n    File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/tensor/creation.py\", line 466, in full\r\n\treturn fill_constant(shape=shape, dtype=dtype, value=fill_value, name=name)\r\n    File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/layers/tensor.py\", line 751, in fill_constant\r\n\tstop_gradient=True)\r\n    File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n\treturn self.main_program.current_block().append_op(*args, **kwargs)\r\n    File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2967, in append_op\r\n\tattrs=kwargs.get(\"attrs\", None))\r\n    File \"/u01/anaconda3/envs/mmdetection/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2154, in __init__\r\n\tself.desc.infer_shape(self.block.desc)\r\n    MemoryError: std::bad_alloc\r\n\r\n'''\r\n",
        "state": "open",
        "user": "saler-1",
        "closed_by": null,
        "created_at": "2021-09-23T09:31:08+00:00",
        "updated_at": "2021-10-08T04:36:05+00:00",
        "closed_at": null,
        "comments_count": [
            "yeliang2258",
            "saler-1",
            "yeliang2258",
            "saler-1",
            "vxfla",
            "yeliang2258",
            "saler-1",
            "vxfla",
            "yeliang2258",
            "saler-1"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 695,
        "title": "修改ERNIE源码后加载预训练模型失败",
        "body": "我将ernie分类模型修改为多任务模型，在输出部分多加了一个fc层用于另一个任务的训练，但是在训练的时候加载预训练模型报错\r\n![image](https://user-images.githubusercontent.com/81789357/140306582-8089af7e-5182-4da2-9452-585b58443876.png)\r\n",
        "state": "closed",
        "user": "Jay-Hu-BIT",
        "closed_by": "Jay-Hu-BIT",
        "created_at": "2021-11-04T11:33:49+00:00",
        "updated_at": "2021-11-04T11:34:46+00:00",
        "closed_at": "2021-11-04T11:34:46+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 683,
        "title": "请问下paddle有没有类似torch中is_contiguous的功能,即判断tensor底层数组元素存储顺序是否一致",
        "body": null,
        "state": "open",
        "user": "Lanqingsong",
        "closed_by": null,
        "created_at": "2021-09-29T04:14:51+00:00",
        "updated_at": "2021-10-11T07:00:45+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "wjj19950828"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 685,
        "title": "mode should be one of constant, reflect, replicate, circular, but got edge",
        "body": "模型来源： pytorch\r\n模型说明： GAN生成模型\r\n模型文件： 链接：链接：https://pan.baidu.com/s/1Lc6PupwZ1fXtu8w06LHpxg 提取码：xiln \r\npytorch转onnx可以，但是onnx转到paddle出错，转换过程出错提示如下：\r\n```\r\npaddle.__version__ = 2.0.2\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 9\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 9, automatically treated as op_set: 9.\r\nTotal nodes: 114\r\nNodes converting ...\r\nConverting node 195 ...     \r\nNodes converted.\r\nExporting inference model from python code ('E:\\workspace\\AI\\GAN\\X2Paddle\\pd_model\\x2paddle_code.py')... \r\n\r\npd_model\\x2paddle_code.py:226: DeprecationWarning: invalid escape sequence \\w\r\n  params = paddle.load('E:\\workspace\\AI\\GAN\\X2Paddle\\pd_model\\model.pdparams')\r\nBackend TkAgg is interactive backend. Turning interactive mode on.\r\nW1018 14:55:53.810535 43124 device_context.cc:362] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.4, Runtime API Version: 11.0\r\nW1018 14:55:53.823501 43124 device_context.cc:372] device: 0, cuDNN Version: 8.0.\r\nE:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\layers\\utils.py:77: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working\r\n  return (isinstance(seq, collections.Sequence) and\r\nFail to generate inference model! Problem happend while export inference model from python code 'E:\\workspace\\AI\\GAN\\X2Paddle\\pd_model\\x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"c:\\Users\\hp\\.vscode\\extensions\\ms-python.python-2021.10.1336267007\\pythonFiles\\lib\\python\\debugpy\\__main__.py\", line 45, in <module>\r\n    cli.main()\r\n  File \"c:\\Users\\hp\\.vscode\\extensions\\ms-python.python-2021.10.1336267007\\pythonFiles\\lib\\python\\debugpy/..\\debugpy\\server\\cli.py\", line 444, in main\r\n    run()\r\n  File \"c:\\Users\\hp\\.vscode\\extensions\\ms-python.python-2021.10.1336267007\\pythonFiles\\lib\\python\\debugpy/..\\debugpy\\server\\cli.py\", line 285, in run_file\r\n    runpy.run_path(target_as_str, run_name=compat.force_str(\"__main__\"))\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\runpy.py\", line 263, in run_path\r\n    pkg_name=pkg_name, script_name=fname)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\runpy.py\", line 96, in _run_module_code\r\n    mod_name, mod_spec, pkg_name, script_name)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"e:\\software\\Annaconda3\\lib\\site-packages\\x2paddle\\convert.py\", line 347, in <module>\r\n    main()\r\n  File \"e:\\software\\Annaconda3\\lib\\site-packages\\x2paddle\\convert.py\", line 335, in main\r\n    lite_model_type=args.lite_model_type)\r\n  File \"e:\\software\\Annaconda3\\lib\\site-packages\\x2paddle\\convert.py\", line 214, in onnx2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\x2paddle-1.3.4-py3.7.egg\\x2paddle\\core\\program.py\", line 280, in gen_model\r\n    raise e\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\x2paddle-1.3.4-py3.7.egg\\x2paddle\\core\\program.py\", line 274, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\x2paddle-1.3.4-py3.7.egg\\x2paddle\\core\\program.py\", line 554, in dygraph2static\r\n    osp.join(save_dir, \"inference_model/model\"))\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 39, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\dygraph\\jit.py\", line 681, in save\r\n    inner_input_spec)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 488, in concrete_program_specify_input_spec\r\n    *desired_input_spec)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 402, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 711, in __getitem__\r\n    self._caches[item] = self._build_once(item)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 702, in _build_once\r\n    class_instance=cache_key.class_instance)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 39, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 658, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\error.py\", line 189, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nAssertionError: In transformed code:\r\n\r\n    File \"pd_model\\x2paddle_code.py\", line 106, in forward (* user code *)\r\n        x2paddle_201 = self.pad0(x2paddle_input_1)\r\n    File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\x2paddle-1.3.4-py3.7.egg\\x2paddle\\op_mapper\\onnx2paddle\\onnx_custom_layer\\pad_all_dim4_one_input.py\", line 29, in __call__ (* user code *)    \r\n        x = paddle.nn.functional.pad(x=x, pad=self.pad1, **self.layer_attrs)\r\n    File \"E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\paddle\\nn\\functional\\common.py\", line 1268, in pad\r\n        \"mode should be one of constant, reflect, replicate, circular, but got {}.\".format(mode)\r\n    AssertionError: mode should be one of constant, reflect, replicate, circular, but got edge.\r\n\r\n```\r\n问题应该是在pad的地方出错，pytorch原始的实现是：\r\n![image](https://user-images.githubusercontent.com/16351823/137684409-1fc9599e-83c5-40a1-8be6-e5540c00c67e.png)\r\n生成的onnx为fire-GS.onnx，运行命令：\r\n x2paddle --framework=onnx --model=fire-GS.onnx --save_dir=pd_model\r\n生成了一个x2paddle_code.py\r\n![image](https://user-images.githubusercontent.com/16351823/137684588-51e42a50-6245-4c6d-8dce-3b5f8ba184c2.png)\r\n这里生成的网络结构，pad变成了edge，而不是原来的ReplicationPad2d\r\n![image](https://user-images.githubusercontent.com/16351823/137684705-9d258c6d-bedf-416e-9168-446982ea0d8d.png)\r\n我想请教下，这个是onnx不支持Replication模式的pad还是paddle不支持（paddle我看了下，是有这个模式的），所以不清楚问题出在哪里，麻烦帮我解答下，谢谢\r\n\r\n\r\n",
        "state": "open",
        "user": "xdg2016",
        "closed_by": null,
        "created_at": "2021-10-18T07:12:52+00:00",
        "updated_at": "2021-10-19T13:21:09+00:00",
        "closed_at": null,
        "comments_count": [
            "yeliang2258"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 686,
        "title": "pytoch2paddle缺少算子支持",
        "body": "\r\n模型来源： pytorch\r\n模型说明： GAN生成模型\r\n模型文件： 链接：链接：https://pan.baidu.com/s/1Lc6PupwZ1fXtu8w06LHpxg 提取码：xiln\r\n直接从pytorch2paddle转换过程出错提示如下：\r\n```\r\n--- load model ---\r\ngraph(%input.1 : Float(1, 3, 320, 320, strides=[307200, 102400, 320, 1], requires_grad=0, device=cuda:0),\r\n      %encoder.1.weight : Float(32, 3, 9, 9, strides=[243, 81, 9, 1], requires_grad=1, device=cuda:0),   \r\n      %encoder.1.bias : Float(32, strides=[1], requires_grad=1, device=cuda:0),\r\n      %decoder.0.weight : Float(128, 64, 4, 4, strides=[1024, 16, 4, 1], requires_grad=1, device=cuda:0),\r\n      %decoder.0.bias : Float(64, strides=[1], requires_grad=1, device=cuda:0),\r\n      %decoder.1.weight : Float(64, strides=[1], requires_grad=1, device=cuda:0),\r\n      %decoder.1.bias : Float(64, strides=[1], requires_grad=1, device=cuda:0),\r\n      %decoder.1.running_mean : Float(64, strides=[1], requires_grad=0, device=cuda:0),\r\n      %decoder.1.running_var : Float(64, strides=[1], requires_grad=0, device=cuda:0),\r\n      %decoder.3.weight : Float(64, 32, 4, 4, strides=[512, 16, 4, 1], requires_grad=1, device=cuda:0),\r\n      %decoder.3.bias : Float(32, strides=[1], requires_grad=1, device=cuda:0),\r\n      %decoder.4.weight : Float(32, strides=[1], requires_grad=1, device=cuda:0),\r\n      %decoder.4.bias : Float(32, strides=[1], requires_grad=1, device=cuda:0),\r\n      %decoder.4.running_mean : Float(32, strides=[1], requires_grad=0, device=cuda:0),\r\n      %decoder.4.running_var : Float(32, strides=[1], requires_grad=0, device=cuda:0),\r\n      %decoder.7.weight : Float(3, 32, 9, 9, strides=[2592, 81, 9, 1], requires_grad=1, device=cuda:0),\r\n      %decoder.7.bias : Float(3, strides=[1], requires_grad=1, device=cuda:0),\r\n      %354 : Float(64, 32, 3, 3, strides=[288, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %355 : Float(64, strides=[1], requires_grad=0, device=cuda:0),\r\n      %357 : Float(128, 64, 3, 3, strides=[576, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %358 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %360 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %361 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %363 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %364 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %366 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %367 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %369 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %370 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %372 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %373 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %375 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %376 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %378 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %379 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %381 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %382 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %384 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %385 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %387 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %388 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %390 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %391 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %393 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %394 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %396 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %397 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %399 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %400 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %402 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %403 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %405 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %406 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %408 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %409 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %411 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %412 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %414 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %415 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %417 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %418 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %420 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %421 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %423 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %424 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %426 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %427 : Float(128, strides=[1], requires_grad=0, device=cuda:0),\r\n      %429 : Float(128, 128, 3, 3, strides=[1152, 9, 3, 1], requires_grad=0, device=cuda:0),\r\n      %430 : Float(128, strides=[1], requires_grad=0, device=cuda:0)):\r\n  %201 : Float(1, 3, 328, 328, strides=[322752, 107584, 328, 1], requires_grad=0, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 4, 4, 0, 0, 4, 4]](%input.1) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %202 : Float(1, 32, 320, 320, strides=[3276800, 102400, 320, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[9, 9], pads=[0, 0, 0, 0], strides=[1, 1]](%201, %encoder.1.weight, %encoder.1.bias) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\modules\\conv.py:440:0\r\n  %203 : Float(1, 32, 320, 320, strides=[3276800, 102400, 320, 1], requires_grad=1, device=cuda:0) = onnx::LeakyRelu[alpha=0.20000000000000001](%202) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:1474:0\r\n  %204 : Float(1, 32, 322, 322, strides=[3317888, 103684, 322, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%203) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %353 : Float(1, 64, 160, 160, strides=[1638400, 25600, 160, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[2, 2]](%204, %354, %355)\r\n  %207 : Float(1, 64, 160, 160, strides=[1638400, 25600, 160, 1], requires_grad=1, device=cuda:0) = onnx::LeakyRelu[alpha=0.20000000000000001](%353) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:1474:0\r\n  %208 : Float(1, 64, 162, 162, strides=[1679616, 26244, 162, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%207) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %356 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[2, 2]](%208, %357, %358)\r\n  %211 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::LeakyRelu[alpha=0.20000000000000001](%356) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:1474:0\r\n  %212 : Float(1, 128, 82, 82, strides=[860672, 6724, 82, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%211) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %359 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[1, 1]](%212, %360, %361)\r\n  %215 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::LeakyRelu[alpha=0.20000000000000001](%359) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:1474:0\r\n  %216 : Float(1, 128, 82, 82, strides=[860672, 6724, 82, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%215) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %362 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[1, 1]](%216, %363, %364)\r\n  %219 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Add(%211, %362) # e:\\workspace\\AI\\GAN\\X2Paddle\\models.py:102:0\r\n  %220 : Float(requires_grad=0, device=cpu) = onnx::Constant[value={0.62}]()\r\n  %221 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Mul(%219, %220)\r\n  %222 : Float(1, 128, 82, 82, strides=[860672, 6724, 82, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%211) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %365 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[1, 1]](%222, %366, %367)\r\n  %225 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::LeakyRelu[alpha=0.20000000000000001](%365) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:1474:0\r\n  %226 : Float(1, 128, 82, 82, strides=[860672, 6724, 82, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%225) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %368 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[1, 1]](%226, %369, %370)\r\n  %229 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Add(%211, %368) # e:\\workspace\\AI\\GAN\\X2Paddle\\models.py:102:0\r\n  %230 : Float(requires_grad=0, device=cpu) = onnx::Constant[value={0.38}]()\r\n  %231 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Mul(%229, %230)\r\n  %232 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Add(%221, %231) # e:\\workspace\\AI\\GAN\\X2Paddle\\models.py:119:0\r\n  %233 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::LeakyRelu[alpha=0.20000000000000001](%232) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:1168:0\r\n  %234 : Float(1, 128, 82, 82, strides=[860672, 6724, 82, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%233) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %371 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[1, 1]](%234, %372, %373)\r\n  %237 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::LeakyRelu[alpha=0.20000000000000001](%371) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:1474:0\r\n  %238 : Float(1, 128, 82, 82, strides=[860672, 6724, 82, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%237) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %374 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[1, 1]](%238, %375, %376)\r\n  %241 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Add(%233, %374) # e:\\workspace\\AI\\GAN\\X2Paddle\\models.py:102:0\r\n  %242 : Float(requires_grad=0, device=cpu) = onnx::Constant[value={0.62}]()\r\n  %243 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Mul(%241, %242)\r\n  %244 : Float(1, 128, 82, 82, strides=[860672, 6724, 82, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%233) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %377 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[1, 1]](%244, %378, %379)\r\n  %247 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::LeakyRelu[alpha=0.20000000000000001](%377) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:1474:0\r\n  %248 : Float(1, 128, 82, 82, strides=[860672, 6724, 82, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%247) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %380 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[1, 1]](%248, %381, %382)\r\n  %251 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Add(%233, %380) # e:\\workspace\\AI\\GAN\\X2Paddle\\models.py:102:0\r\n  %252 : Float(requires_grad=0, device=cpu) = onnx::Constant[value={0.38}]()\r\n  %253 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Mul(%251, %252)\r\n  %254 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Add(%243, %253) # e:\\workspace\\AI\\GAN\\X2Paddle\\models.py:119:0\r\n  %255 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::LeakyRelu[alpha=0.20000000000000001](%254) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:1168:0\r\n  %256 : Float(1, 128, 82, 82, strides=[860672, 6724, 82, 1], requires_grad=1, device=cuda:0) = onnx::Pad[mode=\"edge\", pads=[0, 0, 1, 1, 0, 0, 1, 1]](%255) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:4172:0\r\n  %383 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::Conv[dilations=[1, 1], group=1, kernel_shape=[3, 3], pads=[0, 0, 0, 0], strides=[1, 1]](%256, %384, %385)\r\n  %259 : Float(1, 128, 80, 80, strides=[819200, 6400, 80, 1], requires_grad=1, device=cuda:0) = onnx::LeakyRelu[alpha=0.20000000000000001](%383) # E:\\software\\Annaconda3\\envs\\py37\\lib\\site-packages\\torch\\nn\\functional.py:1474:0\r\n  %260 : Float(1, 128\r\n['1', '9', '1+cu111']\r\nNow translating model from pytorch to paddle.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== aten::replication_pad2d ============\r\nBackend TkAgg is interactive backend. Turning interactive mode on.\r\n```\r\n看错误像是replication_pad2d 在paddle中不支持",
        "state": "open",
        "user": "xdg2016",
        "closed_by": null,
        "created_at": "2021-10-18T07:27:20+00:00",
        "updated_at": "2021-10-18T15:47:30+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 688,
        "title": "pytorch的.pth模型转换到paddle的pdiparams模型失败",
        "body": "模型来源： pytorch\r\n模型说明： 图像分类模型，其相应repo为 https://gitee.com/wdwdwd123/U2Fusion-pytorch?_from=gitee_search#4-training-and-testing\r\n模型文件： 链接：https://pan.baidu.com/s/1iRfJTrAIU1vcYK2vsFKY8A 提取码：pth1 \r\n转换过程出错提示如下：\r\n```\r\n    new_params[k] = v.detach().numpy()\r\nAttributeError: 'collections.OrderedDict' object has no attribute 'detach'\r\n```\r\n",
        "state": "open",
        "user": "Terragelida",
        "closed_by": null,
        "created_at": "2021-10-21T08:45:38+00:00",
        "updated_at": "2021-10-22T10:04:06+00:00",
        "closed_at": null,
        "comments_count": [
            "yeliang2258"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 692,
        "title": "[菁英计划]torch.utils.data.DataLoader.md中有笔误",
        "body": "https://github.com/PaddlePaddle/X2Paddle/blob/develop/docs/pytorch_project_convertor/API_docs/utils/torch.utils.data.DataLoader.md\r\n\r\n这里最后一行好像self写错了",
        "state": "open",
        "user": "zhoucz97",
        "closed_by": null,
        "created_at": "2021-10-27T14:34:25+00:00",
        "updated_at": "2021-10-28T02:23:30+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "zhoucz97"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 697,
        "title": "onnx模型转paddle提示 Exception: convert failed node:577, op_type is Slice",
        "body": "库版本:\r\n    paddlepaddle            2.1.3\r\n    x2paddle                1.3.0\r\n\r\n模型来源：pytorch(转换至onnx成功，未报错)\r\n模型说明：关键点模型，backbone为shufflenetV2\r\n模型文件： 待如流给出\r\n转换过程出错提示如下：\r\n```\r\nconvert to paddle xxx_pose\r\npaddle.__version__ = 2.1.3\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 11\r\nshape inferencing ...\r\n/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/numpy/lib/type_check.py:546: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n  'a.item() instead', DeprecationWarning, stacklevel=1)\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 11, automatically treated as op_set: 9.\r\nTotal nodes: 560\r\nNodes converting ...\r\nConverting node 811 ...     Traceback (most recent call last):\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 101, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 1062, in Slice\r\n    axes = _const_weight_or_none(axes_node, necessary=True).tolist()\r\nAttributeError: 'NoneType' object has no attribute 'tolist'\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/x2paddle/convert.py\", line 259, in main\r\n    onnx2paddle(args.model, args.save_dir)\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/x2paddle/convert.py\", line 163, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 44, in __init__\r\n    func(node)\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 104, in run_mapping\r\n    node.name[9:], node.layer_type))\r\nException: convert failed node:577, op_type is Slice\r\n```\r\n\r\n而x2paddle0.8版本则提示:\r\n```\r\nconvert to paddle xxx_pose\r\npaddle.__version__ = 1.8.5\r\nNow translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 11\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 11, automatically treated as op_set: 9.\r\nTotal nodes: 560\r\nNodes converting ...\r\nWarnning: paddle not support op:resize wiht mode: linear, we use bilinear replace linear\r\nWarnning: paddle not support op:resize wiht mode: linear, we use bilinear replace linear\r\nWarnning: paddle not support op:resize wiht mode: linear, we use bilinear replace linear\r\nNodes converted.\r\nModel optimizing ...\r\nModel optimized.\r\nPaddle model and code generating ...\r\nTraceback (most recent call last):\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/x2paddle/core/op_mapper.py\", line 142, in save_inference_model\r\n    inputs, outputs = model.x2paddle_net()\r\n  File \"/Users/model_with_code/model.py\", line 272, in x2paddle_net\r\n    x2paddle_577 = fluid.layers.strided_slice(x2paddle_565, axes=None, starts=x2paddle_573_cast, ends=x2paddle_574_cast, strides=[1])\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/paddle/fluid/layers/nn.py\", line 12048, in strided_slice\r\n    check_type(axes, 'axes', (list, tuple), 'strided_slice')\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/paddle/fluid/data_feeder.py\", line 97, in check_type\r\n    (input_name, op_name, expected_type, type(input), extra_message))\r\nTypeError: The type of 'axes' in strided_slice must be (<class 'list'>, <class 'tuple'>), but received <class 'NoneType'>.\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/x2paddle/convert.py\", line 282, in main\r\n    onnx2paddle(args.model, args.save_dir, params_merge)\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/x2paddle/convert.py\", line 178, in onnx2paddle\r\n    mapper.save_inference_model(save_dir, params_merge)\r\n  File \"/usr/local/Cellar/python@3.6/3.6.10/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/x2paddle/core/op_mapper.py\", line 197, in save_inference_model\r\n    .format(py_code_dir))\r\nException: Paddle code was saved in /Users/paddle/model_with_code/model.py, but seems there's wrong exist, please check model.py manually.\r\n```\r\n",
        "state": "closed",
        "user": "imistyrain",
        "closed_by": "imistyrain",
        "created_at": "2021-11-08T09:49:01+00:00",
        "updated_at": "2024-06-18T02:27:42+00:00",
        "closed_at": "2021-11-11T15:14:18+00:00",
        "comments_count": [
            "ZJX-CV",
            "DeadlyAbyss",
            "ZJX-CV"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 698,
        "title": "pytorch2paddle转ResNet18出错",
        "body": "\r\n模型来源：pytorch的 ResNet18模型\r\n模型说明：图像分类模型，其repo为https://github.com/ozanciga/self-supervised-histopathology/releases/tag/tenpercent\r\n转换过程出错提示如下：\r\n```\r\n========= 1 OPs are not supported yet ===========\r\n========== aten::linear ============\r\nTraceback (most recent call last):\r\n  File \"D:\\zhuyuang\\projects\\multi-classification\\torchTransformPaddle.py\", line 43, in <module>\r\n    pytorch2paddle(module=model,\r\n  File \"C:\\Users\\lenovo\\.conda\\envs\\paddle\\lib\\site-packages\\x2paddle\\convert.py\", line 249, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"C:\\Users\\lenovo\\.conda\\envs\\paddle\\lib\\site-packages\\x2paddle\\op_mapper\\pytorch2paddle\\pytorch_op_mapper.py\", line 41, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n```\r\n",
        "state": "open",
        "user": "Yihouyihou",
        "closed_by": null,
        "created_at": "2021-11-08T13:03:37+00:00",
        "updated_at": "2021-11-09T02:46:15+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 699,
        "title": "根据微信公众号转换openpose的手势关键点报错",
        "body": "\r\n\r\n模型来源： caffe\r\n模型说明： 手势关键点检测\r\n模型文件： https://github.com/CMU-Perceptual-Computing-Lab/openpose/tree/master/models/hand\r\n转换过程出错提示如下：\r\n```\r\npaddle.__version__ = 2.0.0-alpha0\r\nNow translating model from caffe to paddle.\r\nTotal nodes: 107\r\nNodes converting ...\r\nConverting node 107 ...\r\nNodes converted.\r\nModel optimizing ...\r\nbn_scale_fuse_pass done!\r\nModel optimized.\r\n\r\nAttributeError: module 'paddle.nn' has no attribute 'MaxPool2D'\r\n```\r\n",
        "state": "open",
        "user": "vicwer",
        "closed_by": null,
        "created_at": "2021-11-11T11:28:02+00:00",
        "updated_at": "2021-11-12T06:10:49+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 709,
        "title": "Tensorflow的Yolov3模型转换至paddle模型测试失败",
        "body": "模型来源：TensorFlow\r\n模型说明： 其相应repo为 https://github.com/YunYang1994/tensorflow-yolov3\r\n模型文件： 上面repo的预训练模型，经过转换成 pb模型\r\n测试环境： tensorflow-gpu 1.15, x2paddle 1.3.4\r\n测试输入： 416*416的图片\r\n\r\n测试过程出错提示如下（重新转换模型测试，如下错误消失...）：\r\n![图片](https://user-images.githubusercontent.com/48776875/143374592-e04ccfda-cf18-42b9-99ab-bcb2a7c0c4a8.png)\r\n",
        "state": "closed",
        "user": "BruceFreedom",
        "closed_by": "BruceFreedom",
        "created_at": "2021-11-25T03:28:49+00:00",
        "updated_at": "2021-11-25T09:12:20+00:00",
        "closed_at": "2021-11-25T09:12:20+00:00",
        "comments_count": [
            "wjj19950828",
            "wjj19950828",
            "BruceFreedom"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 710,
        "title": "yolov5模型torch转onnx测试通过，onnx转paddle又出了问题",
        "body": "模型来源：YoloV5 Pytorch版\r\n模型类型：目标检测\r\n运行环境：windows10 \r\n                   onnx=1.6.0 \r\n                   paddlepaddle-gpu=2.1.0(paddlepaddle cpu 1.8.5也试了) \r\n                   x2paddle==1.3.4\r\n应用场景：Torch转onnx转paddle然后计划用paddle用paddle inference部署\r\ntorch转onnx顺利调通，转换的时候，opset_version=11\r\n转换得到的onnx文件已经通过了下面这段onnx官网的测试用例输出The model is valid\r\nimport onnx\r\nmodel = onnx.load(r\"D:\\Code\\github_project\\count_detection_project\\torchyolo.onnx\")      \r\ntry:     \r\n    onnx.checker.check_model(model)     \r\nexcept onnx.checker.ValidationError as e:      \r\n    print('The model is invalid: %s' % e)      \r\nelse:      \r\n    print('The model is valid!')      \r\n\r\n这个onnx文件的下载链接如下：\r\n链接：https://pan.baidu.com/s/1op2vVRz4f-m0OWna_wSEVg \r\n提取码：kzn2\r\n然后转paddle的时候，遇上了和issue399  https://github.com/PaddlePaddle/X2Paddle/issues/399   一样的问题，打开看了一下PR，PR里面是x2paddle 0.7几的版本，我安装里面的x2paddle后，又提示缺paddle.fluid.proto库。这个该怎么解决，那个PR里面提到的跳过shape，在新的x2paddle里面没看懂要怎么改。",
        "state": "open",
        "user": "Stave604671",
        "closed_by": null,
        "created_at": "2021-11-25T15:47:00+00:00",
        "updated_at": "2021-11-26T09:49:05+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 715,
        "title": "ONNX模型转换报错，Couldn't find x2paddle_Split__658_0_p3 in previous layers, the layers should be make by topological sort",
        "body": "## 问题描述\r\n从ONNX模型转换到的时候报错\r\n- 错误信息\r\n```bash\r\nAssertionError: Couldn't find x2paddle_Split__658_0_p3 in previous layers, the layers should be make by topological sort\r\n```\r\n- 转换时用的命令行\r\n```bash\r\nx2paddle --framework=onnx --model=pose_landmarks_saved_model_lite.onnx --save_dir=pose_landmarks_saved_model_lite\r\n```\r\n## 具体信息\r\n\r\n- 模型来源\r\nblazepose_landmarks_lite : https://drive.google.com/file/d/1wt7mpd8el1piOVOaRUBkkOZhKOpErm-Q/view?usp=sharing\r\n\r\n- 版本信息\r\nPaddlePaddle => paddlepaddle2.2.0\r\nX2Paddle => 1.3.5\r\nONNX => 1.10.2\r\n\r\n",
        "state": "open",
        "user": "YY-GAO",
        "closed_by": null,
        "created_at": "2021-12-07T06:49:55+00:00",
        "updated_at": "2021-12-22T07:00:13+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 717,
        "title": "tensorflow2.x转paddle",
        "body": null,
        "state": "closed",
        "user": "ccLemonTree",
        "closed_by": "ccLemonTree",
        "created_at": "2021-12-15T03:08:41+00:00",
        "updated_at": "2021-12-15T03:10:41+00:00",
        "closed_at": "2021-12-15T03:10:41+00:00",
        "comments_count": [
            "ccLemonTree"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 718,
        "title": "tensorflow2.x转paddle",
        "body": "x2paddle支持tensorflow2.x转paddle嘛",
        "state": "open",
        "user": "ccLemonTree",
        "closed_by": "ccLemonTree",
        "created_at": "2021-12-15T03:11:18+00:00",
        "updated_at": "2021-12-15T09:47:21+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 719,
        "title": "Failed when convert deepspeech pb model to paddle model",
        "body": "Hi,i want to use paddle to do inference of  deepspeech pb model in the tensorrt-way.\r\nFirstly, i get the checkpoint in https://github.com/mozilla/DeepSpeech and convert it to pb model,then i want to convert pb model to paddle model using x2paddle,but i get the error below:\r\n![image](https://user-images.githubusercontent.com/42054022/146148876-3dd12f4d-ac5c-49e0-ada2-7aeb7d8c996e.png)\r\nIt seems some ops are not supported ,will you consider to support these?Or can i add these myself and how?\r\nHope for your answer,thanks.\r\n",
        "state": "open",
        "user": "lfgogogo",
        "closed_by": null,
        "created_at": "2021-12-15T08:20:16+00:00",
        "updated_at": "2021-12-15T09:54:54+00:00",
        "closed_at": null,
        "comments_count": [
            "lfgogogo",
            "wjj19950828",
            "lfgogogo",
            "wjj19950828",
            "lfgogogo"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 724,
        "title": "[API对照表] 关于pytorch和paddle的scatter",
        "body": "请问能否增加一个关于pytorch和paddle的scatter的对比和讲解，以及怎么用paddle的flatten、scatter_nd等API组合达到pytorch的scatter的效果",
        "state": "open",
        "user": "geoyee",
        "closed_by": "geoyee",
        "created_at": "2021-12-30T09:01:02+00:00",
        "updated_at": "2022-03-05T03:32:48+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "wjj19950828",
            "geoyee",
            "geoyee",
            "geoyee",
            "wjj19950828",
            "geoyee"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 727,
        "title": "unique_name.generate can't find.",
        "body": "## 问题描述\r\n\r\n- 错误信息：\r\n\r\n在nn_init.py中找不到 unique_name的出处。\r\n\r\n  # to be compatible of fp16 initalizers\r\n  if var.dtype == paddle_dtypes.t_float16:\r\n      out_dtype = paddle_dtypes.t_float32\r\n      out_var = block.create_var(\r\n          name=unique_name.generate(\".\".join(\r\n              ['masra_init', var.name, 'tmp'])),\r\n          shape=var.shape,\r\n          dtype=out_dtype,\r\n          type=VarDesc.VarType.LOD_TENSOR,\r\n          persistable=False)\r\n",
        "state": "closed",
        "user": "CuberrChen",
        "closed_by": "CuberrChen",
        "created_at": "2022-01-11T07:21:38+00:00",
        "updated_at": "2022-01-18T05:56:30+00:00",
        "closed_at": "2022-01-18T05:56:30+00:00",
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 731,
        "title": "tf的.pb模型转paddle模型，报错",
        "body": "\r\n![image](https://user-images.githubusercontent.com/20105627/149722297-a2d5fe44-58f6-4bdf-8ad0-d2d064b5de18.png)\r\n\r\n.pb 模型在tf环境运行正常，请问这怎么解决呢？\r\n\r\n模型是自定义模型\r\n",
        "state": "closed",
        "user": "zuixiaosanlang",
        "closed_by": "zuixiaosanlang",
        "created_at": "2022-01-17T07:01:53+00:00",
        "updated_at": "2022-01-17T08:01:49+00:00",
        "closed_at": "2022-01-17T08:01:49+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 733,
        "title": ".pb转paddle模型，发现输出与.pb输出不一致",
        "body": "![image](https://user-images.githubusercontent.com/20105627/149867669-0fb653cc-fcc7-4c32-9872-1917a7d943b2.png)\r\n\r\n\r\n转换命令：\r\nx2paddle --framework=tensorflow --model=frozen_model.pb --save_dir=pd_model\r\n\r\n.pb在tf环境运行都ok的，转为paddle模型后，进行预测，与.pb输出不一样",
        "state": "closed",
        "user": "zuixiaosanlang",
        "closed_by": "zuixiaosanlang",
        "created_at": "2022-01-18T03:50:07+00:00",
        "updated_at": "2022-01-19T06:55:11+00:00",
        "closed_at": "2022-01-19T06:55:11+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 734,
        "title": ".pb 转paddle模型失败，附.pb模型",
        "body": "![image](https://user-images.githubusercontent.com/20105627/149883315-4c8b3568-7972-43c0-9904-fa2e60c0083f.png)\r\n\r\n.pb模型：链接：https://pan.baidu.com/s/1oSJ0ps-aFiVyDLC0rul6jA \r\n提取码：asdf \r\n\r\n模型转换命令：\r\nx2paddle --framework=tensorflow --model=frozen_model.pb --save_dir=pd_model\r\n\r\n问题：\r\n1）形状对不上\r\n2）_BatchNorm_Const_2 receives a shape [0], but the expected shape is [64].\r\n\r\n应用场景：类似pix2pix，用于图像生成，风格迁移\r\npaddlepaddle              2.2.1\r\nx2paddle                  1.3.5\r\n\r\n\r\n谢谢",
        "state": "closed",
        "user": "zuixiaosanlang",
        "closed_by": "zuixiaosanlang",
        "created_at": "2022-01-18T06:35:38+00:00",
        "updated_at": "2022-11-22T08:53:33+00:00",
        "closed_at": "2022-11-22T08:53:33+00:00",
        "comments_count": [
            "wjj19950828",
            "zuixiaosanlang",
            "wjj19950828",
            "zuixiaosanlang",
            "wjj19950828"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 736,
        "title": "onn模型转paddle，算子ReduceSumSquare 不支持",
        "body": "![image](https://user-images.githubusercontent.com/20105627/150108716-32e496b6-d059-4dfc-a4b2-e086ac5fa8b9.png)\r\n\r\nonn模型：链接：https://pan.baidu.com/s/1NfJjTpIvMF-OVI_0L8_bfg \r\n提取码：asdf \r\n\r\n应用场景：图像生成、风格迁移",
        "state": "closed",
        "user": "zuixiaosanlang",
        "closed_by": "zuixiaosanlang",
        "created_at": "2022-01-19T10:05:34+00:00",
        "updated_at": "2022-11-22T08:53:16+00:00",
        "closed_at": "2022-11-22T08:53:16+00:00",
        "comments_count": [
            "wjj19950828",
            "wjj19950828",
            "zuixiaosanlang"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 735,
        "title": "如何根据修改已有inference模型的输入为“动态shape” ？",
        "body": "目前已有一些导出的模型参数（model/__params）, 可以通过paddle框架进行正常的推理，但是因为输入的shape已经固定，导致无法进行动态推理/无法使用tensorrt。具体问题如下，模型的输入输出截图截图均由netron可视化得出。\r\n\r\n问题1\r\n通过x2paddle将onnx模型转为paddle的模型参数，paddle版本2.1。\r\n\r\n如何将输入的shape从1x3x224x224，修改为？x3x224x224 ， 将输出(1x69)改为shape ？x69。\r\n\r\n![image](https://user-images.githubusercontent.com/13117136/149953236-e7854dda-f989-4293-a3a6-7d1a35ece188.png)\r\n",
        "state": "closed",
        "user": "zzcgithub",
        "closed_by": "zzcgithub",
        "created_at": "2022-01-18T14:11:25+00:00",
        "updated_at": "2022-01-20T11:53:34+00:00",
        "closed_at": "2022-01-20T11:53:34+00:00",
        "comments_count": [
            "wjj19950828",
            "zzcgithub"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 739,
        "title": ".pb转paddle模型，发现输出与.pb输出不一致，附.pb模型",
        "body": "![image](https://user-images.githubusercontent.com/20105627/150624250-b8a8e071-5a09-4471-8afd-e3c8571ec5c8.png)\r\n\r\npb模型链接：https://pan.baidu.com/s/1tl8-d8JN1HfVpsCT9UymjQ \r\n提取码：asdf \r\n\r\n这个BN算子转得有问题啊，当那个偏移值不是为0时，输出结果跟.pb不一样\r\n\r\n应用场景：风格迁移，PIX2PIX\r\n\r\n烦请帮忙分析一下吧\r\n\r\n SpaceToBatchND、BatchToSpaceND bug 这个问题你们修复后，现在是可以直接转换成paddle模型了，但输出结果差很远",
        "state": "closed",
        "user": "zuixiaosanlang",
        "closed_by": "zuixiaosanlang",
        "created_at": "2022-01-22T04:18:37+00:00",
        "updated_at": "2022-11-22T08:52:50+00:00",
        "closed_at": "2022-11-22T08:52:50+00:00",
        "comments_count": [
            "wjj19950828",
            "zuixiaosanlang",
            "wjj19950828",
            "zuixiaosanlang",
            "wjj19950828"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 740,
        "title": "能用在nlp领域吗？我试了一下好像找不到transformers包",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "wbc110460",
        "closed_by": null,
        "created_at": "2022-01-24T07:58:55+00:00",
        "updated_at": "2022-01-24T14:17:38+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "wbc110460",
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 742,
        "title": "tensorflow 转paddle出问题= 1 OPs are not supported yet =  MaxPool3D ",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== MaxPool3D ============\r\n\r\n## 具体信息\r\nMaxPool3D 现在能支持转换么\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nhttps://github.com/Megvii-BaseDetection/YOLOX](https://github.com/mchengny/RWF2000-Video-Database-for-Violence-Detection)\r\n- 应用场景\r\n检测\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\nzhizhu_csu@163.com",
        "state": "open",
        "user": "zhizhusheng",
        "closed_by": null,
        "created_at": "2022-01-27T07:30:51+00:00",
        "updated_at": "2022-01-30T03:39:15+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "zhizhusheng",
            "jiangjiajun",
            "zhizhusheng"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 743,
        "title": "onnx转paddle时出错了 ，麻烦看一下吧",
        "body": "我是torch转onnx成功了，但是在onnx转paddle时出错了，\r\n\r\n\r\n    File \"pd_model_TinyYOLOv3_onecls\\x2paddle_code.py\", line 476, in forward\r\n        x2paddle_851 = paddle.equal(x=x2paddle_1058, y=x2paddle_850)\r\n        x2paddle_893 = self.conv1(x2paddle_75)\r\n        x2paddle_112 = paddle.strided_slice(x=x2paddle_107, axes=[0], starts=[-1], ends=[-9223372036854775807], strides=[-1])\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x2paddle_232_not = paddle.logical_not(x=x2paddle_232)\r\n        x2paddle_232_not_cast = paddle.cast(x=x2paddle_232_not, dtype='int64')\r\n\r\n    File \"E:\\Anaconda3\\envs\\x2paddle3\\lib\\site-packages\\paddle\\tensor\\manipulation.py\", line 2184, in strided_slice\r\n\tinput=x, axes=axes, starts=starts, ends=ends, strides=strides)\r\n    File \"E:\\Anaconda3\\envs\\x2paddle3\\lib\\site-packages\\paddle\\fluid\\layers\\nn.py\", line 11362, in strided_slice\r\n\ttype='strided_slice', inputs=inputs, attrs=attrs, outputs={'Out': out})\r\n    File \"E:\\Anaconda3\\envs\\x2paddle3\\lib\\site-packages\\paddle\\fluid\\layer_helper.py\", line 43, in append_op\r\n\treturn self.main_program.current_block().append_op(*args, **kwargs)\r\n    File \"E:\\Anaconda3\\envs\\x2paddle3\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 3184, in append_op\r\n\tattrs=kwargs.get(\"attrs\", None))\r\n    File \"E:\\Anaconda3\\envs\\x2paddle3\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2341, in __init__\r\n\tself.desc.check_attrs()\r\n[Uploading onnx.zip…]()\r\n\r\n\r\n    ValueError: (InvalidArgument) Cannot get attribute (ends) by type class std::vector<int,class std::allocator<int> >, its type is class std::vector<__int64,class std::allocator<__int64> >. (at C:\\home\\workspace\\Paddle_release\\paddle/fluid/framework/attribute.h:47)\r\n\r\n这是转静态图出错了吗？\r\n麻烦看一下吧，谢谢\r\n\r\n",
        "state": "open",
        "user": "zhizhusheng",
        "closed_by": null,
        "created_at": "2022-01-30T03:26:56+00:00",
        "updated_at": "2022-02-14T05:02:20+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "zhizhusheng",
            "zhizhusheng",
            "zhizhusheng",
            "wjj19950828",
            "zhizhusheng",
            "zhizhusheng",
            "wjj19950828",
            "zhizhusheng"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 744,
        "title": "关于  OPs are not supported ",
        "body": "========= 2 OPs are not supported yet ===========\r\n========== aten::einsum ============\r\n========== aten::linear ============\r\n\r\n请问下，这种的能解决么？谢谢",
        "state": "open",
        "user": "zhizhusheng",
        "closed_by": null,
        "created_at": "2022-01-30T06:19:27+00:00",
        "updated_at": "2023-09-27T13:42:56+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "zhizhusheng",
            "wjj19950828",
            "zhizhusheng",
            "wjj19950828",
            "zhizhusheng",
            "masteryi-0018"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 745,
        "title": "Message type \"caffe.DropoutParameter\" has no field named \"scale_train\"",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- google.protobuf.text_format.ParseError: 318:5 : Message type \"caffe.DropoutParameter\" has no field named \"scale_train\".\r\n- INFO:root:paddle.__version__ = 2.1.0\r\nINFO:root:Now translating model from caffe to paddle.\r\nTraceback (most recent call last):\r\n  File \"d:\\program files\\python39\\lib\\runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"d:\\program files\\python39\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\Program Files\\Python39\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\x2paddle\\convert.py\", line 339, in main\r\n    caffe2paddle(\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\x2paddle\\convert.py\", line 183, in caffe2paddle\r\n    model = CaffeDecoder(proto_file, weight_file, caffe_proto)\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\x2paddle\\decoder\\caffe_decoder.py\", line 290, in __init__\r\n    text_format.Merge(proto_str, self.net)\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\google\\protobuf\\text_format.py\", line 731, in Merge\r\n    return MergeLines(\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\google\\protobuf\\text_format.py\", line 805, in MergeLines\r\n    return parser.MergeLines(lines, message)\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\google\\protobuf\\text_format.py\", line 830, in MergeLines\r\n    self._ParseOrMerge(lines, message)\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\google\\protobuf\\text_format.py\", line 852, in _ParseOrMerge\r\n    self._MergeField(tokenizer, message)\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\google\\protobuf\\text_format.py\", line 982, in _MergeField\r\n    merger(tokenizer, message, field)\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\google\\protobuf\\text_format.py\", line 1057, in _MergeMessageField\r\n    self._MergeField(tokenizer, sub_message)\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\google\\protobuf\\text_format.py\", line 982, in _MergeField\r\n    merger(tokenizer, message, field)\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\google\\protobuf\\text_format.py\", line 1057, in _MergeMessageField\r\n    self._MergeField(tokenizer, sub_message)\r\n  File \"d:\\program files\\python39\\lib\\site-packages\\google\\protobuf\\text_format.py\", line 947, in _MergeField\r\n    raise tokenizer.ParseErrorPreviousToken(\r\ngoogle.protobuf.text_format.ParseError: 318:5 : Message type \"caffe.DropoutParameter\" has no field named \"scale_train\".\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - 使用 Paddle 框架/ PaddleInference 推理预测\r\n- 模型来源\r\ncaffe模型。\r\n- 应用场景\r\n用于服务端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:2.1\r\nX2Paddle => :grey_question:1.3.5\r\n来源框架版本(Caffe) => :grey_question:不清楚\r\n- 您的联系方式(邮箱/微信/电话)\r\n微信：hurui79\r\n\r\ncaffe模型地址：\r\n链接：https://pan.baidu.com/s/1lKyvx6tplZD7OSXqSomImQ \r\n提取码：zwqm\r\n",
        "state": "open",
        "user": "hurui79",
        "closed_by": null,
        "created_at": "2022-02-08T05:55:49+00:00",
        "updated_at": "2022-02-28T02:23:49+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "hurui79",
            "hurui79",
            "hurui79",
            "wjj19950828",
            "hurui79"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 746,
        "title": "AttributeError: module 'x2paddle.decoder.caffe_shape_inference' has no attribute 'shape_python'",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- AttributeError: module 'x2paddle.decoder.caffe_shape_inference' has no attribute 'shape_python'\r\n- 错误截图\r\n- \r\n![QQ截图20220209163436](https://user-images.githubusercontent.com/16483840/153156811-b25e071f-a76a-47a5-bac4-0652425e0f34.png)\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [使用 Paddle 框架/ PaddleInference 推理预测\r\n- 模型来源\r\n第三方提供\r\n- 应用场景\r\n用于服务端端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:2.1.0\r\nX2Paddle => :grey_question:1.3.5\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:caffe模型（具体版本不清楚）\r\n- 您的联系方式(邮箱/微信/电话)\r\n微信：hurui79",
        "state": "closed",
        "user": "hurui79",
        "closed_by": "hurui79",
        "created_at": "2022-02-09T08:35:58+00:00",
        "updated_at": "2022-02-09T09:16:26+00:00",
        "closed_at": "2022-02-09T09:16:26+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 752,
        "title": "onnx  opset11 Slice error",
        "body": "环境:paddle 2.2.2, onnx opset11,x2paddle1.3.5；转换mmdection训练的yolov3.onnx  链接: https://pan.baidu.com/s/1xzOLXguibbImhjf7g02oGw 提取码: s9tf   出现以下错误:\r\n\r\nINFO:root:paddle.__version__ = 2.2.2\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 7, op version: 11\r\nshape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 11, automatically treated as op_set: 9.\r\nTotal nodes: 730\r\nNodes converting ...\r\nConverting node 815 ...     Traceback (most recent call last):\r\n  File \"/home/gpu/anaconda3/lib/python3.8/site-packages/x2paddle-1.3.5-py3.8.egg/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 107, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"/home/gpu/anaconda3/lib/python3.8/site-packages/x2paddle-1.3.5-py3.8.egg/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 1161, in Slice\r\n    if starts_value[idx] >= val_x.out_shapes[0][axes[\r\nIndexError: list index out of range\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/gpu/anaconda3/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.3.5', 'console_scripts', 'x2paddle')())\r\n  File \"/home/gpu/anaconda3/lib/python3.8/site-packages/x2paddle-1.3.5-py3.8.egg/x2paddle/convert.py\", line 349, in main\r\n    onnx2paddle(\r\n  File \"/home/gpu/anaconda3/lib/python3.8/site-packages/x2paddle-1.3.5-py3.8.egg/x2paddle/convert.py\", line 219, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/home/gpu/anaconda3/lib/python3.8/site-packages/x2paddle-1.3.5-py3.8.egg/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 44, in __init__\r\n    func(node)\r\n  File \"/home/gpu/anaconda3/lib/python3.8/site-packages/x2paddle-1.3.5-py3.8.egg/x2paddle/op_mapper/onnx2paddle/opset9/opset.py\", line 109, in run_mapping\r\n    raise Exception(\"convert failed node:{}, op_type is {}\".format(\r\nException: convert failed node:824, op_type is Slice\r\n",
        "state": "closed",
        "user": "zgq91",
        "closed_by": "zgq91",
        "created_at": "2022-03-08T01:50:51+00:00",
        "updated_at": "2022-03-16T02:53:02+00:00",
        "closed_at": "2022-03-16T02:53:02+00:00",
        "comments_count": [
            "wjj19950828",
            "zgq91",
            "wjj19950828",
            "zgq91",
            "wjj19950828",
            "zgq91",
            "wjj19950828",
            "zgq91",
            "wjj19950828",
            "zgq91",
            "wjj19950828",
            "zgq91",
            "wjj19950828",
            "zgq91",
            "wjj19950828",
            "zgq91",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 750,
        "title": "onnx 手动动转静 InvalidArgumentError: The Tensor in the conv2d Op's Input Variable Input(x0) is not initialized",
        "body": "onnx模型链接: https://pan.baidu.com/s/13-PA1aFGB1KX96X8uG6ovA 提取码: ic63\r\n\r\n文本检测dbnet，用mmocr训练， x2paddle --framework=onnx --model=dbnet.onnx --save_dir=dbnet_model 没问题，但手动动转静\r\n在自动生成的 x2paddle_code.py 手动添加以下代码\r\ndef main(x2paddle_input):\r\n    # There are 1 inputs.\r\n    # x2paddle_input: shape-[1, 3, 320, 320], type-float32.\r\n    paddle.disable_static()\r\n    params = paddle.load(r'/home/gpu/workspace/X2Paddle/dbnet_model/model.pdparams')\r\n    model = ONNXModel()\r\n    model.set_dict(params, use_structured_name=True)\r\n    model.eval()\r\n    ## convert to jit\r\n    sepc_list = list()\r\n    sepc_list.append(\r\n        paddle.static.InputSpec(\r\n            shape=[-11, 3, 320, 320], name=\"x0\", dtype=\"float32\"))\r\n    static_model = paddle.jit.to_static(model, input_spec=sepc_list)\r\n    paddle.jit.save(static_model, \"pd_model_trace/inference_model/model\")\r\n    out = model(x2paddle_input)\r\n    return out\r\n\r\nif __name__ == \"__main__\":\r\n    x2paddle_input = torch.randn((1, 3, 320, 320))\r\n    input = torch.Tensor(x2paddle_input)\r\n    #print('input.shape:', input.shape)\r\n    out = main(input)\r\n    print('out.shape:', out.shape)\r\n\r\n报如下的错误:\r\n  File \"/home/gpu/anaconda3/lib/python3.8/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 336, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nValueError: In transformed code:\r\n\r\n    File \"x2paddle_code.py\", line 88, in forward\r\n        x2paddle_378 = paddle.full(dtype='float32', shape=[1], fill_value=1.0)\r\n        x2paddle_380 = paddle.full(dtype='float32', shape=[1], fill_value=1.0)\r\n        x2paddle_383 = self.conv0(x2paddle_input)\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x2paddle_161 = self.relu0(x2paddle_383)\r\n        x2paddle_162 = self.pool0(x2paddle_161)\r\n\r\n    File \"/home/gpu/anaconda3/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 917, in __call__\r\n\treturn self._dygraph_call_func(*inputs, **kwargs)\r\n    File \"/home/gpu/anaconda3/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 907, in _dygraph_call_func\r\n\toutputs = self.forward(*inputs, **kwargs)\r\n    File \"/home/gpu/anaconda3/lib/python3.8/site-packages/paddle/nn/layer/conv.py\", line 665, in forward\r\n\tout = F.conv._conv_nd(\r\n    File \"/home/gpu/anaconda3/lib/python3.8/site-packages/paddle/nn/functional/conv.py\", line 147, in _conv_nd\r\n\thelper.append_op(\r\n    File \"/home/gpu/anaconda3/lib/python3.8/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n\treturn self.main_program.current_block().append_op(*args, **kwargs)\r\n    File \"/home/gpu/anaconda3/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 3178, in append_op\r\n\top = Operator(\r\n    File \"/home/gpu/anaconda3/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 2224, in __init__\r\n\tfor frame in traceback.extract_stack():\r\n\r\n    InvalidArgumentError: The Tensor in the conv2d Op's Input Variable Input(x0) is not initialized.\r\n      [Hint: Expected t->IsInitialized() == true, but received t->IsInitialized():0 != true:1.] (at /paddle/paddle/fluid/framework/operator.cc:1595)\r\n      [operator < conv2d > error]  [operator < run_program > error]\r\n\r\n    Revise suggestion: \r\n        1. Please ensure all your sublayers are inheritted from nn.Layer.\r\n        2. Please ensure there is no tensor created explicitly depended on external data, we suggest to register it as buffer tensor. See https://www.paddlepaddle.org.cn/documentation/docs/zh/guides/04_dygraph_to_static/export_model/principle_cn.html#parameters-buffers for details\r\n部署c++代码的错误如下\r\n-------------------------------------- C++ Traceback (most recent call last): -------------------------------------- Not support stack backtrace yet. ---------------------- Error Message Summary: ---------------------- InvalidArgumentError: The input [nearest_interp_v2_3.tmp_0] shape of trt subgraph is [1,64,-1,-1], please enable trt dynamic_shape mode by SetTRTDynamicShapeInfo. (at ..\\paddle/fluid/inference/tensorrt/engine.h:100) \r\n\r\n\r\n",
        "state": "closed",
        "user": "zgq91",
        "closed_by": "zgq91",
        "created_at": "2022-03-07T03:20:08+00:00",
        "updated_at": "2022-03-08T03:58:31+00:00",
        "closed_at": "2022-03-08T03:58:31+00:00",
        "comments_count": [
            "wjj19950828",
            "zgq91",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 753,
        "title": "lite_valid_places类型，代码和文档没有枚举",
        "body": "\r\nlite_valid_places有哪些类型，是否枚举说明一下比较合理？",
        "state": "open",
        "user": "vicwer",
        "closed_by": null,
        "created_at": "2022-03-08T11:49:55+00:00",
        "updated_at": "2022-03-14T12:40:46+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "wjj19950828"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 754,
        "title": "在pytorch模型转换到paddle模型。运行官方程序出现这个错误怎么解决",
        "body": "===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"D:/Program Code/pythonProject/x2paddle/main.py\", line 15, in <module>\r\n    pytorch2paddle(torch_module,\r\n  File \"D:\\Program Files\\anaconda3\\envs\\pytorch_env\\lib\\site-packages\\x2paddle\\convert.py\", line 240, in pytorch2paddle\r\n    mapper.paddle_graph.gen_model(save_dir, jit_type=jit_type)\r\n  File \"D:\\Program Files\\anaconda3\\envs\\pytorch_env\\lib\\site-packages\\x2paddle\\core\\program.py\", line 240, in gen_model\r\n    self.gen_dygraph_model(save_dir, jit_type)\r\n  File \"D:\\Program Files\\anaconda3\\envs\\pytorch_env\\lib\\site-packages\\x2paddle\\core\\program.py\", line 298, in gen_dygraph_model\r\n    raise e\r\n  File \"D:\\Program Files\\anaconda3\\envs\\pytorch_env\\lib\\site-packages\\x2paddle\\core\\program.py\", line 294, in gen_dygraph_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"D:\\Program Files\\anaconda3\\envs\\pytorch_env\\lib\\site-packages\\x2paddle\\core\\program.py\", line 637, in dygraph2static\r\n    import x2paddle_code\r\n  File \"pd_model_trace\\x2paddle_code.py\", line 80\r\n    params = paddle.load('D:\\Program Code\\pythonProject\\x2paddle\\pd_model_trace/model.pdparams')\r\n                         ^\r\nSyntaxError: (unicode error) 'unicodeescape' codec can't decode bytes in position 29-31: truncated \\xXX escape\r\n\r\nProcess finished with exit code 1\r\n",
        "state": "open",
        "user": "Craw-B",
        "closed_by": null,
        "created_at": "2022-03-08T14:53:37+00:00",
        "updated_at": "2022-03-09T02:04:14+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 755,
        "title": "paddle.multiply 怎么拥有axis参数",
        "body": "https://github.com/PaddlePaddle/X2Paddle/blob/fef1d0bb832c95550a7de7ee47bef55756a43936/x2paddle/op_mapper/caffe2paddle/caffe_op_mapper.py#L904",
        "state": "open",
        "user": "GuoQuanhao",
        "closed_by": null,
        "created_at": "2022-03-10T12:37:16+00:00",
        "updated_at": "2022-03-14T11:27:29+00:00",
        "closed_at": null,
        "comments_count": [
            "GuoQuanhao",
            "wjj19950828",
            "wjj19950828",
            "GuoQuanhao",
            "wjj19950828",
            "wjj19950828",
            "GuoQuanhao",
            "GuoQuanhao",
            "wjj19950828",
            "GuoQuanhao",
            "wjj19950828"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 756,
        "title": "已经完成到ONNX的转换，但是转换到Paddle失败",
        "body": "## 问题描述\r\n\r\nonnx模型无法转换到Paddle上\r\n\r\n我尝试使用onnxsim但是还是不行\r\n\r\n- 原模型报错\r\n![image](https://user-images.githubusercontent.com/52739449/158019081-cb65a4cd-e355-465a-9813-2ba1bd787616.png)\r\n- 使用onnxsim后报错\r\n![image](https://user-images.githubusercontent.com/52739449/158019111-eff71a44-3d2c-4447-bb3e-9700243500cf.png)\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n\r\n- 模型来源\r\nSSD：MMDETECTION\r\n\r\n- 应用场景\r\n工业应用\r\n\r\n- 版本信息\r\nPaddlePaddle => 2.2.2.post112\r\nX2Paddle => x2paddle\r\nPyTorch => 1.10.2\r\nONNX => 1.10.2\r\nonnx-simplifier => 0.3.7\r\n\r\n- 您的联系方式 xch@raxch.cn\r\n",
        "state": "open",
        "user": "ericCHxia",
        "closed_by": null,
        "created_at": "2022-03-12T13:11:34+00:00",
        "updated_at": "2022-03-14T00:47:19+00:00",
        "closed_at": null,
        "comments_count": [
            "ericCHxia",
            "ericCHxia",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 759,
        "title": "使用pytorch2paddle接口，转换pytorch的AlexNet模型到paddlelite格式报错",
        "body": "## 使用pytorch2paddle接口，转换pytorch的AlexNet模型到paddlelite格式报错\r\n\r\n- 错误信息\r\n- INFO:root:Now translating model from pytorch to paddle.\r\nINFO:root:Model optimizing ...\r\ntrace_fc_fuse_pass done!\r\nINFO:root:Model optimized.\r\nExporting inference model from python code ('/data/code/PaddleLite/X2Paddle/pd_model_trace/x2paddle_code.py')...\r\n\r\n\r\n\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\nNo stack trace in paddle, may be caused by external reasons.\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nFatalError: `Illegal instruction` is detected by the operating system.\r\n  [TimeInfo: *** Aborted at 1647616421 (unix time) try \"date -d @1647616421\" if you are using GNU date ***]\r\n  [SignalInfo: *** SIGILL (@0x7fe4432c1125) received by PID 119982 (TID 0x7fe630e55740) from PID 1126961445 ***]\r\n\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [√] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nAlexNet：https://download.pytorch.org/models/alexnet-owt-4df8aa71.pth\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :2.2.0\r\nX2Paddle => :2.9\r\n来源框架版本 :PyTorch",
        "state": "open",
        "user": "BgLoveXixi",
        "closed_by": null,
        "created_at": "2022-03-18T08:23:46+00:00",
        "updated_at": "2022-03-20T01:16:13+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "BgLoveXixi",
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 760,
        "title": "tf模型转换成pd模型后，想知道这个语法怎么转换",
        "body": "\r\nmodel = tf.saved_model.load('./pretrained_model/dtln_saved_model')\r\ninfer = model.signatures[\"serving_default\"]\r\nout_block= infer(tf.constant(in_block))['conv1d_1']\r\n不知道这个[conv1d_1]转到paddle以后怎么推理\r\n",
        "state": "open",
        "user": "AIHHU",
        "closed_by": null,
        "created_at": "2022-03-20T05:38:56+00:00",
        "updated_at": "2022-03-20T10:16:15+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "AIHHU",
            "AIHHU"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 762,
        "title": "用onnx转还是报错",
        "body": "AssertionError: Couldn't find x2paddle_lstm_4_Y_p0 in previous layers, the layers should be make by topological sort",
        "state": "open",
        "user": "AIHHU",
        "closed_by": null,
        "created_at": "2022-03-20T11:23:23+00:00",
        "updated_at": "2022-03-21T06:53:42+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 765,
        "title": "pytorch训练工程代码转paddle，如果模型使用mmdetection、torchvision等库，支持转换到paddle工程么",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "wangboroy",
        "closed_by": null,
        "created_at": "2022-03-25T03:11:29+00:00",
        "updated_at": "2022-03-27T05:30:34+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 767,
        "title": "onnx 转换为paddle失败",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n你好 我通过转换 tf2onnx 转换 movenet tensorflow pb模型到onnx 然后通过x2paddle 转换报错\r\n- 错误信息\r\n===================Error Information===============\r\n/usr/lib/python3/dist-packages/apport/report.py:13: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import fnmatch, glob, traceback, errno, sys, atexit, locale, imp\r\nTraceback (most recent call last):\r\n  File \"/home/test/.local/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/test/.local/lib/python3.6/site-packages/x2paddle/convert.py\", line 354, in main\r\n    lite_model_type=args.lite_model_type)\r\n  File \"/home/test/.local/lib/python3.6/site-packages/x2paddle/convert.py\", line 221, in onnx2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"/home/test/.local/lib/python3.6/site-packages/x2paddle/core/program.py\", line 280, in gen_model\r\n    raise e\r\n  File \"/home/test/.local/lib/python3.6/site-packages/x2paddle/core/program.py\", line 274, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"/home/test/.local/lib/python3.6/site-packages/x2paddle/core/program.py\", line 554, in dygraph2static\r\n    osp.join(save_dir, \"inference_model/model\"))\r\n  File \"<decorator-gen-101>\", line 2, in save\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/base.py\", line 51, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/jit.py\", line 744, in save\r\n    inner_input_spec)\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 517, in concrete_program_specify_input_spec\r\n    *desired_input_spec)\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 427, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 723, in __getitem__\r\n    self._caches[item] = self._build_once(item)\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 714, in _build_once\r\n    **cache_key.kwargs)\r\n  File \"<decorator-gen-99>\", line 2, in from_func_spec\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/base.py\", line 51, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 668, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 336, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nAssertionError: In transformed code:\r\n\r\n    File \"pd_model_movenent/x2paddle_code.py\", line 131, in forward\r\n        x2paddle_Concat__388_0 = self.x2paddle_Concat__388_0\r\n        x2paddle_StatefulPartitionedCall_Cast_0 = paddle.cast(x=x2paddle_input, dtype='float32')\r\n        x2paddle_StatefulPartitionedCall_unstack_0 = paddle.split(x=x2paddle_StatefulPartitionedCall_Cast_0, num_or_sections=1)\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x2paddle_StatefulPartitionedCall_sub_0 = paddle.subtract(x=x2paddle_StatefulPartitionedCall_unstack_0, y=x2paddle_StatefulPartitionedCall_Reshape_0)\r\n        x2paddle_StatefulPartitionedCall_truediv_1_0 = paddle.multiply(x=x2paddle_StatefulPartitionedCall_sub_0, y=x2paddle_StatefulPartitionedCall_truediv_0)\r\n\r\n    File \"/home/test/.local/lib/python3.6/site-packages/paddle/tensor/manipulation.py\", line 850, in split\r\n        input=x, num_or_sections=num_or_sections, dim=axis, name=name)\r\n    File \"/home/test/.local/lib/python3.6/site-packages/paddle/fluid/layers/nn.py\", line 5005, in split\r\n        assert num_or_sections > 1, 'num_or_sections must be more than 1.'\r\n\r\n    AssertionError: num_or_sections must be more than 1.\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [*] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nMovnet: wget -q -O movenet_singlepose_thunder_4.tar.gz https://tfhub.dev/google/movenet/singlepose/thunder/4?tf-hub-format=compressed\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :2.2.2:\r\nX2Paddle => :1.3.5:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :TF:2.3.0:\r\n- 您的联系方式(邮箱/微信/电话)\r\n877848676@qq.com",
        "state": "closed",
        "user": "tomjeans",
        "closed_by": "tomjeans",
        "created_at": "2022-03-30T08:19:20+00:00",
        "updated_at": "2022-04-01T05:04:58+00:00",
        "closed_at": "2022-04-01T05:04:58+00:00",
        "comments_count": [
            "tomjeans",
            "wjj19950828",
            "tomjeans"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 770,
        "title": "torch2Paddle源码拼写出错，导致不能调用",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle/project_convertor/pytorch/torch2paddle/io.py\", line 172, in __init__\r\n    seld.batch_sampler.sampler = sampler\r\nNameError: name 'seld' is not defined\r\n\r\n源码拼写出错\r\n\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "seancoding1",
        "closed_by": null,
        "created_at": "2022-04-12T06:25:53+00:00",
        "updated_at": "2022-04-12T11:34:00+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 771,
        "title": "x2paddle算子不支持怎么办？",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n![ZVW4Y3NL1SO5~HLL2`$_60C](https://user-images.githubusercontent.com/66868438/163109239-d6c19b14-4485-4656-8f0e-f13e44457396.png)\r\n\r\n\r\n## 具体信息\r\n请问有办法自定义算子相关的教程吗？\r\n\r\n",
        "state": "open",
        "user": "AIHHU",
        "closed_by": null,
        "created_at": "2022-04-13T05:51:54+00:00",
        "updated_at": "2022-04-13T07:38:23+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 768,
        "title": "yolox官方coco预训练模型转换失败",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\nyolox官方coco预训练模型转换失败。\r\n\r\n- 错误信息\r\n========= 1 OPs are not supported yet ===========\r\n========== aten::copy_ ============\r\nException: Model is not supported yet.\r\n\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/42318152/160856182-d9171fa2-b285-465b-b4ae-717e20e8a7cb.png)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [*] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX   最新版\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => paddlepaddle-gpu       2.2.2\r\nX2Paddle => develop最新版\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) =>PyTorch 1.7.1 (截图conda显示名未更新)\r\n\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "closed",
        "user": "kouhinn",
        "closed_by": "kouhinn",
        "created_at": "2022-03-30T14:20:12+00:00",
        "updated_at": "2022-04-04T13:22:03+00:00",
        "closed_at": "2022-04-04T13:22:03+00:00",
        "comments_count": [
            "wjj19950828",
            "kouhinn",
            "wjj19950828",
            "kouhinn"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 773,
        "title": "pytorch转成paddle后transformers的包调用需要pytorch环境怎么办？",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\npytorch转成paddle后transformers的包调用需要pytorch环境怎么办？\r\n\r\nImportError: \r\nget_linear_schedule_with_warmup requires the PyTorch library but it was not found in your environment. Checkout the instructions on the\r\ninstallation page: https://pytorch.org/get-started/locally/ and follow the ones that match your environment.\r\n以上是报错信息，transformers里面的学习率预热函数get_linear_schedule_with_warmup，paddle不支持\r\npaddle有类似这样的函数吗？\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "seancoding1",
        "closed_by": null,
        "created_at": "2022-04-14T07:50:12+00:00",
        "updated_at": "2022-04-15T09:19:20+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 774,
        "title": "利用X2paddle将pytorch迁移到paddle似乎会内存泄漏",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n利用x2paddle将512x512_diffusion.pt转换到paddle模型后，paddle模型似乎在conv2d处内存泄漏。\r\n- 错误信息\r\nOut of memory error on GPU 0. Cannot allocate 30.000244MB memory on GPU 0, 31.714722GB memory has been allocated and available memory is only 4.625000MB.\r\n\r\nPlease check whether there is any other process using GPU 0.\r\n1. If yes, please stop them, or start PaddlePaddle on another GPU.\r\n2. If no, please decrease the batch size of your model. \r\n\r\n (at /paddle/paddle/fluid/memory/allocation/cuda_allocator.cc:79)\r\n. (at /paddle/paddle/fluid/imperative/tracer.cc:221)\r\n- 错误截图\r\n\r\n## 具体信息\r\naistudio地址：https://aistudio.baidu.com/ibdgpu3/user/285070/3822973/lab\r\n\r\n- 转换模型后用处\r\n    - [x] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nguided-diffusion：https://github.com/openai/guided-diffusion\r\n迁移模型为512x512_diffusion.pt (https://openaipublic.blob.core.windows.net/diffusion/jul-2021/512x512_diffusion.pt)\r\n- 应用场景\r\n用于文本生成图像\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "closed",
        "user": "WithHades",
        "closed_by": "WithHades",
        "created_at": "2022-04-16T08:11:25+00:00",
        "updated_at": "2022-04-19T03:16:20+00:00",
        "closed_at": "2022-04-19T03:16:20+00:00",
        "comments_count": [
            "wjj19950828",
            "WithHades",
            "WithHades"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 775,
        "title": "ValueError: (InvalidArgument) transpose2(): argument 'X' (position 0) must be Tensor, but got Tensor (at ..\\paddle/fluid/pybind/op_function.h:816)",
        "body": " 一个transformer（人体动作识别），转 onnx, 再转 paddle 都成功。运行 x2paddle_code.py时，报：\r\nTraceback (most recent call last):\r\n  File \"x2paddle_code.py\", line 390, in <module>\r\n    out = main(in0)\r\n  File \"x2paddle_code.py\", line 381, in main\r\n    out = model(x2paddle_0)\r\n  File \"C:\\Users\\ThinkPad\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"C:\\Users\\ThinkPad\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"x2paddle_code.py\", line 153, in forward\r\n    x2paddle_77 = paddle.transpose(x=x2paddle_0, perm=[0, 4, 3, 1, 2])\r\n  File \"C:\\Users\\ThinkPad\\AppData\\Local\\Programs\\Python\\Python37\\lib\\site-packages\\paddle\\fluid\\layers\\nn.py\", line 5551, in transpose\r\n    out, _ = _C_ops.transpose2(x, 'axis', perm)\r\nValueError: (InvalidArgument) transpose2(): argument 'X' (position 0) must be Tensor, but got Tensor (at ..\\paddle/fluid/pybind/op_function.h:816)\r\n\r\n\r\n“argument 'X' (position 0) must be Tensor, but got Tensor”， 这一句 甚是 不解？\r\n\r\n",
        "state": "closed",
        "user": "yizhangliu",
        "closed_by": "yizhangliu",
        "created_at": "2022-04-18T00:34:21+00:00",
        "updated_at": "2022-04-18T03:04:15+00:00",
        "closed_at": "2022-04-18T03:04:14+00:00",
        "comments_count": [
            "jiangjiajun",
            "yizhangliu",
            "jiangjiajun",
            "yizhangliu"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 776,
        "title": "转换pytorch的mobilenetv3到lite格式报错不支持",
        "body": "https://github.com/PaddlePaddle/Paddle-Lite/issues/8908#issue-1210769522\r\n\r\n```\r\n# 进行转换\r\nfrom x2paddle.convert import pytorch2paddle\r\npytorch2paddle(torch_model,\r\n               save_dir=\"pd_model_trace_mbv3\",\r\n               jit_type=\"trace\",\r\n               input_examples=[torch.tensor(input_data)]\r\n               convert_to_lite=True,\r\n               lite_valid_places=\"arm\",\r\n               lite_model_type=\"naive_buffer\"\r\n               )\r\n```\r\n用上面的代码转换pytorch的mobilenetv3到lite格式，抛错不支持：\r\n![image](https://user-images.githubusercontent.com/37319074/164667824-9ac2b45b-28d2-4df9-9476-4a194aa371f8.png)\r\n\r\n已经到paddlelite那边提交issue说，lite已经支持这些算子，让更新X2paddle版本，更新了X2paddle到1.3.6也还是这个抛错。请问X2paddle目前不支持mobilenetV3的转换吗，请问下这是什么原因，有什么解决方法，感谢\r\n\r\n",
        "state": "open",
        "user": "BgLoveXixi",
        "closed_by": null,
        "created_at": "2022-04-22T08:58:33+00:00",
        "updated_at": "2022-04-29T06:54:51+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "BgLoveXixi",
            "wjj19950828",
            "BgLoveXixi",
            "BgLoveXixi",
            "wjj19950828",
            "wjj19950828",
            "BgLoveXixi"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 779,
        "title": "onnx2paddle 模型转换报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n   onnx2paddle 模型转换报错，模型可以完成转换，能够生成相应的文件（测试可以正常推理），但是转化函数无法正常运行结束。\r\n（使用x2paddle命令行可以正常转化）\r\n\r\n- 错误信息\r\n    --------------------------------------\r\n    C++ Traceback (most recent call last):\r\n    --------------------------------------\r\n    0   paddle::platform::MKLDNNDeviceContextThreadLocals::Body::~Body()\r\n    1   paddle::platform::MKLDNNDeviceContext::ResetBlobMap(void*)\r\n    \r\n    ----------------------\r\n    Error Message Summary:\r\n    ----------------------\r\n    FatalError: `Process abort signal` is detected by the operating system.\r\n      [TimeInfo: *** Aborted at 1650965310 (unix time) try \"date -d @1650965310\" if you are using GNU date ***]\r\n      [SignalInfo: *** SIGABRT (@0x19b3) received by PID 6579 (TID 0x7f78adf05700) from PID 6579 ***]\r\n\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - 使用 Paddle 框架/ PaddleInference 推理预测\r\n- 模型来源\r\n  - 自研\r\n- 应用场景\r\n\r\n- 版本信息\r\nPaddlePaddle => 2.2.2-gpu:\r\nX2Paddle => 1.3.6:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) onnx => 1.11.0\r\n- 您的联系方式(邮箱/微信/电话)\r\n- 569844113@qq.com\r\n",
        "state": "open",
        "user": "MemoryAnt",
        "closed_by": null,
        "created_at": "2022-04-26T09:47:28+00:00",
        "updated_at": "2022-05-07T08:34:56+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "MemoryAnt"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 780,
        "title": " Couldn't find x2paddle_52_p0 in previous layers, the layers should be make by topological sort",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- [错误信息](url)\r\n- \r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/62918268/165433082-b357cce8-c649-41b9-89a0-758f7d02183f.png)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [√] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nlstm\r\n- 应用场景\r\n用于移动端业务下的摔倒检测\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:1.0.1\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) =>onnx\r\n- 您的联系方式(邮箱/微信/电话)\r\n740383531@qq.com",
        "state": "open",
        "user": "duorouputao",
        "closed_by": null,
        "created_at": "2022-04-27T03:24:21+00:00",
        "updated_at": "2022-04-28T08:01:57+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "duorouputao",
            "wjj19950828",
            "duorouputao"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 782,
        "title": "onnx 转 paddle 出错: NameError: name 'x2paddle_lambda_1' is not defined",
        "body": "## 问题描述\r\nonnx 转 paddle 出错: NameError: name 'x2paddle_lambda_1' is not defined\r\n\r\n- 错误信息\r\n待转换的onnx模型和本地转换不成功结果上传到如下百度网盘：\r\n链接：https://pan.baidu.com/s/1w7xtajs5WWB7oYMF1kLqiA \r\n提取码：6zp2 \r\n--来自百度网盘超级会员V6的分享\r\n\r\n详细信息如下：\r\nFail to generate inference model! Problem happend while export inference model from python code 'D:\\disk_full_save_workspace\\Keras-YOLOv4_helmet_retrain\\fa\r\nst_modelonnx2paddle\\x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.3.5', 'console_scripts', 'x2paddle')())\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\convert.py\", line 373, in main\r\n    lite_model_type=args.lite_model_type)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\convert.py\", line 234, in onnx2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\core\\program.py\", line 302, in gen_model\r\n    raise e\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\core\\program.py\", line 296, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\core\\program.py\", line 580, in dygraph2static\r\n\r\n    osp.join(save_dir, \"inference_model/model\"))\r\n  File \"<decorator-gen-101>\", line 2, in save\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 51, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\dygraph\\jit.py\", line 744, in save\r\n    inner_input_spec)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 517, in con\r\ncrete_program_specify_input_spec\r\n    *desired_input_spec)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 427, in get\r\n_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 723, in __g\r\netitem__\r\n    self._caches[item] = self._build_once(item)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 714, in _bu\r\nild_once\r\n    **cache_key.kwargs)\r\n  File \"<decorator-gen-99>\", line 2, in from_func_spec\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 51, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 668, in fro\r\nm_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\error.py\", line 336, in raise_new_except\r\nion\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nNameError: In transformed code:\r\n\r\n    File \"fast_modelonnx2paddle\\x2paddle_code.py\", line 1103, in forward\r\n                x2paddle_lambda_1_TopKV2_p0,x2paddle_lambda_1_TopKV2_p1 = paddle.topk(x=x2paddle_lambda_1_transpose_1_0_0_cast0, k=x2paddle_lambda_1_stride\r\nd_slice_36_0_1_cast0, axis=-1)\r\n                x2paddle_lambda_1_TopKV2_0_cropping0 = paddle.strided_slice(x=x2paddle_lambda_1_TopKV2_p0, axes=[0, 1], starts=[0, 0], ends=[2147483647, 10\r\n0], strides=[1, 1])\r\n                return x2paddle_lambda_1, x2paddle_lambda_1_1, x2paddle_lambda_1_2\r\n                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n\r\n        def main(x2paddle_input_1):\r\n\r\n\r\n    NameError: name 'x2paddle_lambda_1' is not defined\r\n\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [*] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\n      yolo4自实现\r\n\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle =>2.2\r\nX2Paddle =>1.3.5\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => Keras/TF\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "kouhinn",
        "closed_by": null,
        "created_at": "2022-04-27T14:34:32+00:00",
        "updated_at": "2022-04-28T09:10:13+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "kouhinn"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 784,
        "title": "AttributeError: module 'convert' has no attribute '_get_parser'",
        "body": "parser = convert._get_parser()\r\nAttributeError: module 'convert' has no attribute '_get_parser'\r\n",
        "state": "closed",
        "user": "1chang37",
        "closed_by": "1chang37",
        "created_at": "2022-05-05T06:39:25+00:00",
        "updated_at": "2022-05-06T03:32:30+00:00",
        "closed_at": "2022-05-06T03:32:30+00:00",
        "comments_count": [
            "wjj19950828",
            "1chang37"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 785,
        "title": "TensorFlow转paddle出错：AttributeError: module 'convert' has no attribute '_get_parser'",
        "body": "在进行TensorFlow 转换paddle时遇到的错误\r\n平台信息：\r\npaddlepaddle: 2.2.0\r\nubuntu 18.04\r\n\r\n\r\n代码内容 co.py\r\nimport convert as convert\r\nimport argparse\r\n#parser = convert._get_parser()\r\nparser = convert._get_parser()\r\nparser.meta_file = \"checkpoint/model.meta\"\r\nparser.ckpt_dir = \"checkpoint\"\r\nparser.in_nodes = [\"inputs\"]\r\nparser.input_shape = [\"None,224,224,3\"]\r\nparser.output_nodes = [\"vgg_16/fc8/squeezed\"]\r\nparser.use_cuda = \"True\"\r\nparser.input_format = \"NHWC\"\r\nparser.save_dir = \"paddle_model\"\r\n\r\nconvert.run(parser)\r\n\r\n错误信息：\r\nX2Paddle/tf/ckpt/16# python3 co.py\r\nTraceback (most recent call last):\r\n  File \"co.py\", line 4, in <module>\r\n    parser = convert._get_parser()\r\nAttributeError: module 'convert' has no attribute '_get_parser'",
        "state": "open",
        "user": "1chang37",
        "closed_by": null,
        "created_at": "2022-05-06T03:32:15+00:00",
        "updated_at": "2022-05-09T08:44:46+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "1chang37",
            "wjj19950828"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 788,
        "title": "简单mobilenet分类模型ONNX转paddle出错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n简单mobilenet分类模型ONNX转paddle出错。\r\n就是keras自带的mobilenet模型。\r\n代码与onnx模型见如下：\r\n链接：https://pan.baidu.com/s/17EDypFn-UKtLGF-I0EdyGA \r\n提取码：lvjn \r\n--来自百度网盘超级会员V6的分享\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.3.5', 'console_scripts', 'x2paddle')())\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\convert.py\", line 373, in main\r\n    lite_model_type=args.lite_model_type)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\convert.py\", line 234, in onnx2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\core\\program.py\", line 302, in gen_model\r\n    raise e\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\core\\program.py\", line 296, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\core\\program.py\", line 568, in dygraph2static\r\n\r\n    import x2paddle_code\r\n  File \"carReidOnnx2paddle\\x2paddle_code.py\", line 207\r\nSyntaxError: (unicode error) 'utf-8' codec can't decode byte 0xc8 in position 39: invalid continuation byte\r\n\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [*] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nKeras mobilenet\r\n\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle =>最新\r\nX2Paddle =>最新\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => keras/tensorflow1\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "closed",
        "user": "kouhinn",
        "closed_by": "kouhinn",
        "created_at": "2022-05-07T09:29:29+00:00",
        "updated_at": "2022-05-07T09:34:31+00:00",
        "closed_at": "2022-05-07T09:34:31+00:00",
        "comments_count": [
            "kouhinn"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 790,
        "title": "onnx转paddle 报错导致模型转换不成功",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n使用pip install x2paddle安装成功\r\n然后使用指令  x2paddle --framework=onnx --model=model.onnx -save_dir=pd_model\r\nonnx转paddle不成功，尝试用onnxsim简化，简化过的onnx还是转换paddle模型失败\r\n\r\n- 错误信息\r\nValueError: (InvalidArgument) Broadcast dimension mismatch. Operands could not be broadcast together with the shape of X = [1, 256, 49, 33] and the shape of Y = [1, 256, 48, 32]. Received [49] in X is not equal to [48] in Y at i:2.\r\n  [Hint: Expected x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1 == true, but received x_dims_array[i] == y_dims_array[i] || x_dims_array[i] <= 1 || y_dims_array[i] <= 1:0 != true:1.] (at C:\\home\\workspace\\Paddle_release\\paddle/fluid/operators/elementwise/elementwise_op_function.h:240)\r\n  [operator < elementwise_add > error]\r\n- 错误截图\r\n\r\n## 具体信息\r\n![middle_img_v2_6a1922e5-58f6-4948-9c09-526a3dff0c6g](https://user-images.githubusercontent.com/20771340/167327860-76690827-ba5b-4cfb-9691-90d7b22ca057.jpg)\r\n\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\n\r\n- 应用场景\r\n用于PC端 X64\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "StrugglingForBetter",
        "closed_by": null,
        "created_at": "2022-05-09T01:59:06+00:00",
        "updated_at": "2022-05-11T02:22:27+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "StrugglingForBetter",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 795,
        "title": "linear的bias无法加载",
        "body": "开发者们，你们好：\r\n\r\n我用<code>pytorch</code>开发的一个简单的线性模型来测试<code>X2Paddle</code>（线性方程为：y = 2 * X + 4），建模代码如下：\r\n\r\n```python\r\nclass LinearModel(nn.Module):\r\n\r\n    def __init__(self):\r\n        super(LinearModel, self).__init__()\r\n        self.layer1 = nn.Linear(1, 1)\r\n\r\n    def forward(self, x):\r\n        return self.layer1(x)\r\n```\r\n\r\n用<code>X2Paddle</code>转换后，报了一个警告，显示bias权重无法加载，如下：\r\n![image](https://user-images.githubusercontent.com/41776739/167871560-699d40ca-2310-4e34-af5c-89f7b5159ccb.png)\r\n\r\n\r\n之后我运行了输出的代码，发现bias果然没有加上\r\n```python\r\nimport paddle\r\nimport math\r\nfrom x2paddle.op_mapper.dygraph.pytorch2paddle import pytorch_custom_layer as x2paddle_nn\r\nclass KotoriModel(paddle.nn.Layer):\r\n    def __init__(self, ):\r\n        super(KotoriModel, self).__init__()\r\n        self.linear0 = paddle.nn.Linear(in_features=1, out_features=1)\r\n    def forward(self, x0):\r\n        x0 = paddle.to_tensor(data=x0)\r\n        x1 = self.linear0(x0)\r\n        return x1\r\n\r\ndef main(x0):\r\n    # 共1个输入\r\n    # x0: 形状为[1, 1]，类型为float32。\r\n    paddle.disable_static()\r\n    params = paddle.load('/mnt/e/github/X2Paddle/pd_model_trace_kotori_i/pd_model_trace_koko/model.pdparams')\r\n    model = KotoriModel()\r\n    model.set_dict(params)\r\n    model.eval()\r\n    out = model(x0)\r\n    return out\r\n\r\nif __name__ == '__main__':\r\n    x = paddle.to_tensor([[2]], dtype='float32')\r\n    print(main(x))\r\n```\r\n![image](https://user-images.githubusercontent.com/41776739/167872216-f62deb0e-8bd2-4dcb-9dbb-458e872eb652.png)\r\n\r\n请问一下这要怎么解决呀\r\n\r\n十分感谢！\r\n\r\n## 版本信息\r\n- torch: 1.6.0\r\n- x2paddle: 1.0.0rc1\r\n- platform: wsl2",
        "state": "closed",
        "user": "kotori-y",
        "closed_by": "kotori-y",
        "created_at": "2022-05-11T14:22:07+00:00",
        "updated_at": "2022-05-20T13:13:58+00:00",
        "closed_at": "2022-05-20T13:13:58+00:00",
        "comments_count": [
            "wjj19950828",
            "kotori-y",
            "wjj19950828",
            "kotori-y",
            "wjj19950828",
            "kotori-y"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 798,
        "title": "TensorFlow转paddle出错：AttributeError: module 'gast' has no attribute 'Constant'",
        "body": "在进行TensorFlow 转换paddle时遇到的错误\r\n平台信息：\r\npaddlepaddle: 2.1.32\r\n平台：ft2000+     昆仑k200\r\n系统：kylin v10\r\n\r\n指令：x2paddle --framework=tensorflow --model=vgg16.pb --save_dir=pd_model\r\n\r\n报错:\r\n\r\n\r\nXPURT /usr/local/lib64/python3.7/site-packages/paddle/fluid/../libs/libxpurt.so loaded\r\n\r\nNow translating model from tensorflow to paddle.\r\nTotal nodes: 86\r\nNodes converting ...\r\nConverting node 86 ...     \r\nNodes converted.\r\ndygraph_conv2d_add_fuse_pass done!\r\ndygraph_tf_batchnorm_fuse_pass done!\r\ndygraph_prelu_fuse_pass done!\r\nOptimize Transpose Layers...75.0%%\r\nTranspose layers optimized, before: transpose_num=42, after: transpose_num=2\r\ntranspose_eliminate_pass done!\r\nExporting inference model from python code ('/workspace/X2Paddle/tf/pd_model/x2paddle_code.py')... \r\n\r\n/usr/local/lib64/python3.7/site-packages/paddle/fluid/layers/utils.py:77: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated, and in 3.8 it will stop working\r\n  return (isinstance(seq, collections.Sequence) and\r\nFail to generate inference model! Problem happend while export inference model from python code '/workspace/X2Paddle/tf/pd_model/x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"/usr/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.0.1', 'console_scripts', 'x2paddle')())\r\n  File \"/usr/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/convert.py\", line 256, in main\r\n  File \"/usr/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/convert.py\", line 124, in tf2paddle\r\n  File \"/usr/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/core/program.py\", line 248, in gen_model\r\n  File \"/usr/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/core/program.py\", line 311, in gen_dygraph_model\r\n  File \"/usr/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/core/program.py\", line 307, in gen_dygraph_model\r\n  File \"/usr/lib/python3.7/site-packages/x2paddle-1.0.1-py3.7.egg/x2paddle/core/program.py\", line 682, in dygraph2static\r\n  File \"<decorator-gen-66>\", line 2, in save\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 40, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/jit.py\", line 726, in save\r\n    inner_input_spec)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 491, in concrete_program_specify_input_spec\r\n    *desired_input_spec)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 401, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 714, in __getitem__\r\n    self._caches[item] = self._build_once(item)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 705, in _build_once\r\n    class_instance=cache_key.class_instance)\r\n  File \"<decorator-gen-64>\", line 2, in from_func_spec\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 40, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 623, in from_func_spec\r\n    static_func = convert_to_static(dygraph_function)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 140, in convert_to_static\r\n    static_func = _FUNCTION_CACHE.convert_with_cache(function)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 77, in convert_with_cache\r\n    static_func = self._convert(func)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 115, in _convert\r\n    root_wrapper = self._dygraph_to_static.get_static_ast(root)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/ast_transformer.py\", line 57, in get_static_ast\r\n    self.static_analysis_visitor = StaticAnalysisVisitor(root)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/static_analysis.py\", line 207, in __init__\r\n    self.run(ast_root)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/static_analysis.py\", line 215, in run\r\n    self.dfs_visit(ast_root)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/static_analysis.py\", line 241, in dfs_visit\r\n    func_type = self.dfs_visit(child)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/static_analysis.py\", line 244, in dfs_visit\r\n    self.dfs_visit(child)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/static_analysis.py\", line 244, in dfs_visit\r\n    self.dfs_visit(child)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/static_analysis.py\", line 244, in dfs_visit\r\n    self.dfs_visit(child)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/static_analysis.py\", line 247, in dfs_visit\r\n    cur_wrapper.node_var_type = self._get_node_var_type(cur_wrapper)\r\n  File \"/usr/local/lib64/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/static_analysis.py\", line 286, in _get_node_var_type\r\n    if isinstance(node, gast.Constant):\r\nAttributeError: module 'gast' has no attribute 'Constant'\r\n\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "1chang37",
        "closed_by": "1chang37",
        "created_at": "2022-05-18T02:26:38+00:00",
        "updated_at": "2022-05-18T02:53:22+00:00",
        "closed_at": "2022-05-18T02:53:14+00:00",
        "comments_count": [
            "1chang37"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 799,
        "title": "onnx转paddle报错",
        "body": "各位开发者们，你们好！\r\n\r\n## 问题描述\r\n\r\n模型来源： onnx\r\n模型说明： bert预训练模型\r\n模型文件：[bert.onnx](https://github.com/kotori-y/my_data/releases/download/v0.1/bert.onnx)\r\n\r\n## 报错内容\r\n```shell\r\n(x2paddle-env) [root@DESKTOP-P0RLOPV BERT-pytorch-alpha0.0.1a5]# x2paddle --framework=onnx --model=bert.onnx --save_dir=pd_model\r\nWARNING: Logging before InitGoogleLogging() is written to STDERR\r\nW0518 13:48:45.141453  3156 default_variables.cpp:429] Fail to open /proc/self/io: No such file or directory [2]\r\nINFO:root:paddle.__version__ = 2.2.2\r\n/root/miniconda3/envs/x2paddle-env/lib/python3.7/site-packages/onnx/mapping.py:25: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  int(TensorProto.STRING): np.dtype(np.object)\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 10\r\nshape inferencing ...\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 10, automatically treated as op_set: 9.\r\nTotal nodes: 324\r\nNodes converting ...\r\nConverting node 505 ...\r\nNodes converted.\r\nINFO:root:Model optimizing ...\r\nINFO:root:Model optimized.\r\n/root/miniconda3/envs/x2paddle-env/lib/python3.7/site-packages/paddle/framework/io.py:415: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working\r\n  if isinstance(obj, collections.Iterable) and not isinstance(obj, (\r\nExporting inference model from python code ('/mnt/e/pywork/BERT-pytorch-alpha0.0.1a5/pd_model/x2paddle_code.py')...\r\n\r\n/root/miniconda3/envs/x2paddle-env/lib/python3.7/site-packages/paddle/fluid/layers/utils.py:77: DeprecationWarning: Using or importing the ABCs from 'collections' instead of from 'collections.abc' is deprecated since Python 3.3,and in 3.9 it will stop working\r\n  return (isinstance(seq, collections.Sequence) and\r\n/root/miniconda3/envs/x2paddle-env/lib/python3.7/site-packages/paddle/fluid/framework.py:744: DeprecationWarning: `np.bool` is a deprecated alias for the builtin `bool`. To silence this warning, use `bool` by itself. Doing this will not modify any behavior and is safe. If you specifically wanted the numpy scalar type, use `np.bool_` here.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  elif dtype == np.bool:\r\nIn transformed code:\r\n\r\n    File \"pd_model/x2paddle_code.py\", line 326, in forward\r\n        x2paddle_94 = paddle.strided_slice(x=x2paddle_87, axes=[0], starts=x2paddle_584_cast, ends=x2paddle_91_cast, strides=[1])\r\n        x2paddle_80_tmp = paddle.cast(x=x2paddle_80, dtype='int32')\r\n        x2paddle_81 = paddle.tile(x=x2paddle_71, repeat_times=x2paddle_80_tmp)\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x2paddle_95 = paddle.add(x=x2paddle_83, y=x2paddle_94)\r\n        x2paddle_82 = paddle.unsqueeze(x=x2paddle_81, axis=[1])\r\n\r\n    File \"/root/miniconda3/envs/x2paddle-env/lib/python3.7/site-packages/paddle/tensor/manipulation.py\", line 1666, in tile\r\n        \"When the date type is bool for the input 'x' of tile op, you \"\r\n\r\n    ValueError: When the date type is bool for the input 'x' of tile op, you must set its stop_gradient to be True by some_var.stop_gradient == True supporting some_var is the input.\r\n```\r\n\r\n\r\nonnx模型是通过pytorch获得，并且结果与pytorch模型一致。\r\n附上pytorch2onnx的代码\r\n```python\r\nIn [80]: torch.onnx.export(model, (torch.tensor([bert_input]), torch.tensor([segment_label])), \"bert.onnx\", input_names=('bert_input', 'segment_label'), verbose=True, opset_version=10)\r\n```\r\n```python\r\nIn [113]: torch.tensor([bert_input])\r\nOut[113]:\r\ntensor([[ 3,  5, 10, 15,  5, 12, 18, 16,  9, 10,  5, 15,  5, 12, 12, 18, 16,  7,\r\n         10,  8, 15,  5, 12, 18, 16,  7, 10,  8, 15,  5, 12, 18, 16,  9, 13,  2,\r\n          5, 10, 15,  5, 12, 12, 18, 16,  9, 15,  5, 12, 18, 16,  7, 10,  8, 15,\r\n          5, 12, 12, 18, 16,  7, 10,  8, 15,  5, 12, 18, 16,  7, 10,  8,  5, 10,\r\n         19,  2]])\r\n\r\nIn [114]: torch.tensor([segment_label])\r\nOut[114]:\r\ntensor([[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,\r\n         1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\r\n         2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,\r\n         2, 2]])\r\n```\r\n\r\n## 版本信息\r\n```python\r\nIn [82]: import torch\r\n\r\nIn [83]: torch.__version__\r\nOut[83]: '1.6.0'\r\n\r\nIn [84]: import paddle\r\nWARNING: Logging before InitGoogleLogging() is written to STDERR\r\nW0518 14:04:49.724895  2645 default_variables.cpp:429] Fail to open /proc/self/io: No such file or directory [2]\r\n\r\nIn [85]: paddle.__version__\r\nOut[85]: '2.2.2'\r\n\r\nIn [86]: import x2paddle\r\n\r\nIn [87]: x2paddle.__version__\r\nOut[87]: '1.3.6'\r\n\r\nIn [88]: import onnx\r\n\r\nIn [89]: onnx.__version__\r\nOut[89]: '1.6.0'\r\n\r\nIn [90]: import onnxruntime\r\n\r\nIn [91]: onnxruntime.__version__\r\nOut[91]: '1.0.0'\r\n```\r\n\r\n可能是opset_verison的版本不一致造成的？但是我用<code>opset_version=9</code>将pytorch转成onnx时会报如下错误：\r\n```python\r\nRuntimeError: Unsupported: ONNX export of Slice with dynamic inputs. DynamicSlice is a deprecated experimental op. Please use statically allocated variables or export to a higher opset version.\r\n```\r\n\r\n期待各位的回复，谢谢！",
        "state": "open",
        "user": "kotori-y",
        "closed_by": null,
        "created_at": "2022-05-18T06:05:56+00:00",
        "updated_at": "2022-06-13T12:36:48+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "kotori-y",
            "kotori-y"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 803,
        "title": "使用onnx2paddle，转换onnx的BiLSTM模型出错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n使用onnx2paddle将onnx的BiLSTM模型转换为paddle模型报错，转换失败。\r\n\r\n\r\n- 错误信息\r\n\r\n### 使用onnx2paddle转化模型报错：\r\n\r\n\r\n原ONNX模型转化时opset_version=11：\r\n\r\n```\r\nIn transformed code:\r\n    File \"model\\pd_model\\x2paddle_code.py\", line 78, in forward\r\n        x2paddle_onnx__LSTM_47 = paddle.reshape(x=x2paddle_onnx__LSTM_47, shape=[2, 1, 384])\r\n        x2paddle_onnx__LSTM_48 = paddle.reshape(x=x2paddle_onnx__LSTM_48, shape=[2, 1, 384])\r\n        x2paddle_onnx__Transpose_181, (x2paddle_182, x2paddle_183) = self.lstm0(x2paddle_onnx__LSTM_64, (x2paddle_onnx__LSTM_47, x2paddle_onnx__LSTM_48))\r\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x2paddle_onnx__Transpose_181 = paddle.reshape(x=x2paddle_onnx__Transpose_181, shape=[0, 0, -1, 384])\r\n        x2paddle_onnx__Transpose_181 = paddle.transpose(x=x2paddle_onnx__Transpose_181, perm=[0, 2, 1, 3])\r\n    File \"D:\\Software\\Professional\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 917, in __call__\r\n\treturn self._dygraph_call_func(*inputs, **kwargs)\r\n    File \"D:\\Software\\Professional\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\paddle\\fluid\\dygraph\\layers.py\", line 907, in _dygraph_call_func\r\n\toutputs = self.forward(*inputs, **kwargs)\r\n    File \"D:\\Software\\Professional\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\paddle\\nn\\layer\\rnn.py\", line 1061, in forward\r\n\treturn self._cudnn_impl(inputs, initial_states, sequence_length)\r\n    File \"D:\\Software\\Professional\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\paddle\\nn\\layer\\rnn.py\", line 1036, in _cudnn_impl\r\n\ttype=\"rnn\", inputs=inputs, outputs=outputs, attrs=attrs)\r\n    File \"D:\\Software\\Professional\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\paddle\\fluid\\dygraph\\layer_object_helper.py\", line 52, in append_op\r\n\tstop_gradient=stop_gradient)\r\n    File \"D:\\Software\\Professional\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 3184, in append_op\r\n\tattrs=kwargs.get(\"attrs\", None))\r\n    File \"D:\\Software\\Professional\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\paddle\\fluid\\framework.py\", line 2344, in __init__\r\n\tself.desc.infer_shape(self.block.desc)\r\n    ValueError: (InvalidArgument) The second dimension size (representing for batch size) of Input and PreState should be equal. But received -1 and 1.\r\n  [Hint: Expected in_dims[1] == pre_state_dims[i][1], but received in_dims[1]:-1 != pre_state_dims[i][1]:1.] (at C:\\home\\workspace\\Paddle_release\\paddle\\fluid\\operators\\rnn_op.cc:66)\r\n  [operator < rnn > error]\r\n\r\n```\r\n\r\n原ONNX模型转化时opset_version=9：\r\n\r\n```\r\nConverting node 21 ...     Traceback (most recent call last):\r\n  File \"XXX\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset9\\opset.py\", line 101, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"XXX\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset9\\opset.py\", line 2372, in TopK\r\n    val_k = self.graph.get_input_node(node, idx=1, copy=True)\r\n  File \"XXX\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\x2paddle\\decoder\\onnx_decoder.py\", line 353, in get_input_node\r\n    ipt_node = super(ONNXGraph, self).get_node(node.inputs[idx], copy)\r\nIndexError: list index out of range\r\nDuring handling of the above exception, another exception occurred:\r\nTraceback (most recent call last):\r\n  File \"XXX\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\x2paddle\\convert.py\", line 219, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"XXX\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\onnx_op_mapper.py\", line 44, in __init__\r\n    func(node)\r\n  File \"XXX\\Anaconda2\\envs\\pytorch1.5\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset9\\opset.py\", line 104, in run_mapping\r\n    node.name[9:], node.layer_type))\r\nException: convert failed node:onnx__Cast_50_p0, op_type is TopK\r\nConvert torch model to paddle model failed\r\nINFO:common:Convert torch model to paddle model failed\r\n```\r\n\r\n\r\n### 使用pytorch2paddle转化torch模型到paddle模型同样失败\r\n\r\n```\r\n========= 4 OPs are not supported yet ===========\r\n========== aten::sort ============\r\n========== aten::_pack_padded_sequence ============\r\n========== aten::_pad_packed_sequence ============\r\n========== aten::linear ============\r\n```\r\n\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/30099214/170645593-5104eeb5-cd6d-4530-87a6-68b23de18e01.png)\r\n\r\n\r\n\r\n\r\n## 具体信息\r\n\r\nonnx2paddle代码：\r\n\r\n            onnx2paddle(model_path=os.path.join(config.model_save_path, config.static_onnx_path),\r\n                        save_dir=os.path.join(config.model_save_path, config.paddle_model_dir),\r\n                        convert_to_lite=False) \r\n\r\n\r\n\r\n- 转换模型后用处\r\n    - [√ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [√ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ √] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nBiLSTM，静态ONNX模型放在：\r\n链接：https://pan.baidu.com/s/1Tr1Pm92scxGY5OnKEYF5-w \r\n提取码：ep05\r\n\r\n- 应用场景\r\n用于命名实体识别\r\n- 版本信息\r\nPaddlePaddle => :2.2.2\r\nX2Paddle => :1.3.6\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :ONNX\r\n- 您的联系方式(邮箱/微信/电话) \r\n- 邮箱：tzk_bit@163.com\r\n",
        "state": "open",
        "user": "likestudy",
        "closed_by": null,
        "created_at": "2022-05-27T06:44:43+00:00",
        "updated_at": "2022-06-02T03:08:23+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "likestudy",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 804,
        "title": "简单单层lstm onnx模型转paddle失败，用了onnx-simple也不行，使用x2paddle1.3.5",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\nlstm onnx 模型转paddle失败，用了onnx-simple也不行，使用x2paddle1.3.5\r\n\r\n- 错误信息\r\n- 错误截图\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\op_mapper\\onnx2paddle\\opset9\\opset.py\", line\r\n107, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\op_mapper\\onnx2paddle\\opset9\\opset.py\", line\r\n2606, in LSTM\r\n    'initial_states': (init_h.name, init_c.name)\r\nUnboundLocalError: local variable 'init_h' referenced before assignment\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.3.5', 'console_scripts', 'x2paddle')())\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\convert.py\", line 373, in main\r\n    lite_model_type=args.lite_model_type)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\convert.py\", line 227, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\op_mapper\\onnx2paddle\\onnx_op_mapper.py\", lin\r\ne 44, in __init__\r\n    func(node)\r\n  File \"C:\\Users\\admin\\anaconda3\\envs\\py37_tensorflow1_14\\lib\\site-packages\\x2paddle-1.3.5-py3.7.egg\\x2paddle\\op_mapper\\onnx2paddle\\opset9\\opset.py\", line\r\n110, in run_mapping\r\n    node.name[9:], node.layer_type))\r\nException: convert failed node:lstm_1_Y_p0, op_type is LSTM\r\n\r\n## 具体信息\r\nException: convert failed node:lstm_1_Y_p0, op_type is LSTM\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [*] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\n来源一个简单lstm教学代码，代码上传到百度网盘\r\n代码与模型均上传到百度网盘\r\n链接：https://pan.baidu.com/s/1FizEveQZW-MCAy6U_XAUMQ \r\n提取码：6wa3 \r\n\r\n\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n\r\n- 版本信息\r\nPaddlePaddle =>paddlepaddle-gpu         2.2.2\r\nX2Paddle => 1.3.5\r\n\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => ONNX\r\n- 您的联系方式(邮箱/微信/电话)\r\n微信名kouhinn\r\n\r\n",
        "state": "open",
        "user": "kouhinn",
        "closed_by": null,
        "created_at": "2022-05-31T08:37:42+00:00",
        "updated_at": "2022-06-02T10:15:08+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "kouhinn",
            "wjj19950828",
            "kouhinn"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 807,
        "title": "转换为paddle模型后导出.nb文件时报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n您好！我使用paddlelite将paddle模型转换为.nb文件时报错Error: This model is not supported, because 1 ops are not supported on 'arm'. These unsupported ops are: 'pad'。然后去paddlelite下提问后说：arm 上目前只支持pad2d 和 pad3d OP，可以将pad OP 转换为pad2d/pad3d 进行推理。\r\n所以我想问一下如何将pad OP转换为pad2d 和 pad3d OP，麻烦你们帮帮我\r\n- 错误信息\r\n- Error: This model is not supported, because 1 ops are not supported on 'arm'. These unsupported ops are: 'pad'\r\n- 错误截图\r\n\r\n## 具体信息\r\n我是将pytorch训练好的模型先转为onnx，然后再转为paddle模型，最后在导出.nb文件时报错了，麻烦您了，帮我看一下。\r\n\r\n\r\n\r\n\r\n- 转换模型后用处\r\n 使用 Paddle-Lite 做移动端推理\r\n\r\n- 应用场景\r\n用于移动端业务下的识别业务\r\n",
        "state": "open",
        "user": "PQ-girl",
        "closed_by": null,
        "created_at": "2022-06-07T08:32:40+00:00",
        "updated_at": "2022-08-16T09:51:15+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "PQ-girl",
            "PQ-girl",
            "wjj19950828",
            "PQ-girl",
            "wjj19950828",
            "MrDong415"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 810,
        "title": "关于三个算子缺少的问题",
        "body": "========= 3 OPs are not supported yet ===========\r\n========== aten::upsample_nearest1d ============\r\n========== aten::upsample_nearest3d ============\r\n========== aten::reciprocal ============",
        "state": "open",
        "user": "Saucup",
        "closed_by": null,
        "created_at": "2022-06-08T08:43:32+00:00",
        "updated_at": "2022-06-09T04:28:12+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "Saucup"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 814,
        "title": "yolov5-demo提供的yolov5n结构与官方yolov5n不同，导致替换后出现闪退，应该怎样解决？",
        "body": "主要是输出的数量不同，下图分别是demo和官方提供的yolov5n。\r\n我应该修改后处理过程吗？是否有参考的文档？\r\ndemo提供的模型又是怎样生成的？裁剪？\r\n![image](https://user-images.githubusercontent.com/58648412/173299742-a301b0a0-2d45-4ba4-a6e2-31ed41b4ca27.png)\r\n![image](https://user-images.githubusercontent.com/58648412/173299472-93cc0d19-cf18-41d8-b780-380edc3ccbe4.png)",
        "state": "closed",
        "user": "Shainingu",
        "closed_by": "Shainingu",
        "created_at": "2022-06-13T07:17:29+00:00",
        "updated_at": "2022-06-13T07:49:51+00:00",
        "closed_at": "2022-06-13T07:49:51+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 811,
        "title": "报错：NameError: name 'x2paddle_output' is not defined",
        "body": "\r\nF:\\work\\CRE-StereoNet\\CREStereo-Pytorch-main\\weights>x2paddle --framework=onnx --model=cre_new.onnx --save_dir=pd_model\r\nF:\\software\\python\\lib\\site-packages\\setuptools\\depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\nINFO:root:paddle.__version__ = 2.3.0\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 7, op version: 12\r\nshape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 12, automatically treated as op_set: 9.\r\nTotal nodes: 3007\r\nNodes converting ...\r\nConverting node 210 ...\r\nNodes converted.\r\nINFO:root:Model optimizing ...\r\nINFO:root:Model optimized.\r\nExporting inference model from python code ('F:\\work\\CRE-StereoNet\\CREStereo-Pytorch-main\\weights\\pd_model\\x2paddle_code.py')...\r\n\r\nFail to generate inference model! Problem happend while export inference model from python code 'F:\\work\\CRE-StereoNet\\CREStereo-Pytorch-main\\weights\\pd_model\\x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"F:\\software\\python\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"F:\\software\\python\\lib\\runpy.py\", line 86, in _run_code\r\n    exec(code, run_globals)\r\n  File \"F:\\software\\python\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"F:\\software\\python\\lib\\site-packages\\x2paddle\\convert.py\", line 443, in main\r\n    onnx2paddle(\r\n  File \"F:\\software\\python\\lib\\site-packages\\x2paddle\\convert.py\", line 281, in onnx2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"F:\\software\\python\\lib\\site-packages\\x2paddle\\core\\program.py\", line 302, in gen_model\r\n    raise e\r\n  File \"F:\\software\\python\\lib\\site-packages\\x2paddle\\core\\program.py\", line 296, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"F:\\software\\python\\lib\\site-packages\\x2paddle\\core\\program.py\", line 579, in dygraph2static\r\n    paddle.jit.save(static_model,\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\dygraph\\jit.py\", line 629, in wrapper\r\n    func(layer, path, input_spec, **configs)\r\n  File \"F:\\software\\python\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 51, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\dygraph\\jit.py\", line 856, in save\r\n    concrete_program = static_func.concrete_program_specify_input_spec(\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 527, in concrete_program_specify_input_spec\r\n    concrete_program, _ = self.get_concrete_program(\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 436, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 801, in __getitem__\r\n    self._caches[item_id] = self._build_once(item)\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 785, in _build_once\r\n    concrete_program = ConcreteProgram.from_func_spec(\r\n  File \"F:\\software\\python\\lib\\site-packages\\decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\dygraph\\base.py\", line 51, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\program_translator.py\", line 740, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"F:\\software\\python\\lib\\site-packages\\paddle\\fluid\\dygraph\\dygraph_to_static\\error.py\", line 336, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nNameError: In transformed code:\r\n\r\n    File \"pd_model\\x2paddle_code.py\", line 158, in forward\r\n                x2paddle_onnx__Conv_210 = self.relu20(x2paddle_input_151)\r\n                x2paddle_tensor = self.conv21(x2paddle_onnx__Conv_210)\r\n                return x2paddle_output\r\n                ~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n\r\n        def main(x2paddle_left, x2paddle_right, x2paddle_flow_init):\r\n\r\n\r\n    NameError: name 'x2paddle_output' is not defined\r\n",
        "state": "open",
        "user": "txy00001",
        "closed_by": null,
        "created_at": "2022-06-11T07:23:14+00:00",
        "updated_at": "2022-06-24T03:50:34+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "txy00001",
            "wjj19950828",
            "txy00001",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 812,
        "title": "pytorch的模型已成功转换为了paddle格式，但是用tensorrt推理时，初始化时间却很长，这是为什么",
        "body": null,
        "state": "open",
        "user": "litao-zhx",
        "closed_by": null,
        "created_at": "2022-06-13T06:51:09+00:00",
        "updated_at": "2022-06-17T06:28:45+00:00",
        "closed_at": null,
        "comments_count": [
            "litao-zhx",
            "wjj19950828",
            "litao-zhx",
            "litao-zhx",
            "litao-zhx",
            "litao-zhx",
            "wjj19950828",
            "litao-zhx",
            "litao-zhx",
            "wjj19950828",
            "litao-zhx",
            "litao-zhx",
            "wjj19950828",
            "litao-zhx",
            "wjj19950828",
            "litao-zhx",
            "litao-zhx",
            "JZZ-NOTE",
            "litao-zhx",
            "JZZ-NOTE",
            "litao-zhx"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 816,
        "title": "pb转换成飞桨模型一直在运行就是没结果",
        "body": "![图片](https://user-images.githubusercontent.com/107793491/174479648-3f0a2d90-0c79-420f-9ad3-9ac8454cb74f.png)",
        "state": "closed",
        "user": "llwwrr",
        "closed_by": "wjj19950828",
        "created_at": "2022-06-19T11:55:27+00:00",
        "updated_at": "2022-06-21T16:28:56+00:00",
        "closed_at": "2022-06-21T16:28:56+00:00",
        "comments_count": [
            "wjj19950828",
            "llwwrr"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 819,
        "title": "pytorch转pp模型失败",
        "body": "pytorch转pp模型，提示算子不支持。是否可以先转onnx,在转pp\r\npytorch模型来源：https://github.com/cfzd/Ultra-Fast-Lane-Detection\r\n\r\n工具：全部为最新版本\r\n\r\n\r\n报错信息：\r\nINFO 2022-06-22 09:45:43,293 convert.py:333] Now translating model from PyTorch to Paddle.\r\nTraceback (most recent call last):\r\n  File \"E:\\pythonProject\\testLaneDetect\\main.py\", line 60, in <module>\r\n    pytorch2paddle(module=torch_model,\r\n  File \"C:\\Users\\uidq5147\\.conda\\envs\\paddle_dev\\lib\\site-packages\\x2paddle\\convert.py\", line 343, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"C:\\Users\\uidq5147\\.conda\\envs\\paddle_dev\\lib\\site-packages\\x2paddle\\op_mapper\\pytorch2paddle\\pytorch_op_mapper.py\", line 41, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== aten::linear ============\r\n\r\nProcess finished with exit code 1",
        "state": "open",
        "user": "levinzhangyd",
        "closed_by": null,
        "created_at": "2022-06-22T01:55:36+00:00",
        "updated_at": "2022-06-29T02:07:26+00:00",
        "closed_at": null,
        "comments_count": [
            "levinzhangyd",
            "wjj19950828",
            "levinzhangyd",
            "levinzhangyd",
            "wjj19950828",
            "levinzhangyd",
            "levinzhangyd",
            "wjj19950828",
            "levinzhangyd",
            "wjj19950828",
            "levinzhangyd"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 818,
        "title": "pb文件转Paddlepaddlew文件报错",
        "body": "ckpt格式转pb格式后，然后用x2paddle转换出现以下问题：\r\n\r\n![图片](https://user-images.githubusercontent.com/107793491/174709101-424624cf-21b1-4cad-80fc-affa5f8850c3.png)\r\n询问占位符形状然后自己输入None然后转换第22节点出现以下报错\r\n![图片](https://user-images.githubusercontent.com/107793491/174709356-c6718336-5dd8-4027-83db-316bb4683f24.png)\r\nTypeError: 'NoneType' object is not subscriptable\r\n输入\r\n![图片](https://user-images.githubusercontent.com/107793491/174709915-6528f1ad-82b0-4eae-b6eb-3d2cdc31dc58.png)\r\n\r\n- 转换模型后用处\r\n 模型移植到edgeboard板子\r\n\r\n- 应用场景\r\n学生学习用\r\n\r\n- 版本信息\r\nPaddlePaddle => 2.3.0\r\nX2Paddle =>1.3.7\r\ntensorflow1.2.1\r\npython3.6\r\n\r\n",
        "state": "open",
        "user": "llwwrr",
        "closed_by": null,
        "created_at": "2022-06-21T03:26:32+00:00",
        "updated_at": "2022-06-30T15:09:55+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "llwwrr"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 827,
        "title": "pytorch转模型失败",
        "body": "The unsupported packages or operators are: [torch.nn.MSELoss].\r\nThe unsupported packages or operators are: [torch.nn.Linear_block, torch.nn.functional.normalize].\r\nThe unsupported packages or operators are: [torch.is_tensor, torch.ByteStorage.from_buffer].",
        "state": "open",
        "user": "alexiycv",
        "closed_by": null,
        "created_at": "2022-07-11T03:14:31+00:00",
        "updated_at": "2022-07-12T02:58:03+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 826,
        "title": "spanBERT onnx转paddle模型报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n<img width=\"1437\" alt=\"image\" src=\"https://user-images.githubusercontent.com/24541791/177965640-7b7c4663-5173-4751-ad33-be8f62677912.png\">\r\n\r\n首先将pytorch的spanBERT模型转换成onnx模型，这一步没报错，代码如下\r\n\r\n```python\r\nimport transformers\r\nimport torch\r\n\r\nmodel = transformers.modeling_auto.AutoModel.from_pretrained(pretrained_model_name_or_path='SpanBERT/spanbert-base-cased')\r\ntorch.onnx.export(model, dummy_input0,\"spanBert.onnx\",verbose=True)\r\n```\r\n\r\n而后用如下命令试图将onnx模型转成paddle格式：\r\n```bash\r\nx2paddle --framework=onnx --model=spanBert.onnx --save_dir=pd_model\r\n```\r\n\r\n结果报错：\r\n<img width=\"1440\" alt=\"image\" src=\"https://user-images.githubusercontent.com/24541791/177966420-701edfa5-c572-43b5-9037-50d92ee31d4e.png\">\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [*] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nspanBERT：huggingface官方，SpanBERT/spanbert-base-cased\r\n- 应用场景\r\n模型热启后再训练\r\n- 版本信息\r\nPaddlePaddle => :grey_question: 2.2.0\r\nX2Paddle => :grey_question: 1.3.7\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question: ONNX\r\n- 您的联系方式(邮箱/微信/电话)\r\n无",
        "state": "open",
        "user": "xixiaoyao",
        "closed_by": null,
        "created_at": "2022-07-08T09:50:35+00:00",
        "updated_at": "2022-07-12T11:30:18+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun",
            "wjj19950828",
            "xixiaoyao",
            "xixiaoyao",
            "wjj19950828",
            "xixiaoyao"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 828,
        "title": "caffe模型转paddle",
        "body": "我是通过pip命令安装的X2paddle转换工具，转换caffe模型遇到以下问题：\r\n1、concat算子转换后维度错误，例如L.Concat(pattern2, pattern2,  concat_param={'concat_dim':3})，转换生成的代码为concat2 = paddle.concat(x=[concat1, concat1], axis=1)，concat维度从3变成了1，导致后续计算错误；\r\n2、返回变量首字母变成大写，导致出现变量未定义的错误，如reshape2 = paddle.reshape(...)  return Reshape2\r\n\r\n- 转换模型后用处\r\n使用 Paddle-Lite 做移动端推理\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nX2Paddle：1.3.7\r\n来源框架版本caffe:1.0.0\r\n- 您的联系方式(邮箱/微信/电话)\r\n397970037@qq.com\r\n",
        "state": "open",
        "user": "zhongqinghong",
        "closed_by": null,
        "created_at": "2022-07-11T09:36:05+00:00",
        "updated_at": "2022-07-18T02:48:38+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "zhongqinghong",
            "wjj19950828",
            "zhongqinghong",
            "zhongqinghong",
            "wjj19950828"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 831,
        "title": "onnx模型转paddle错误 [operator < conv2d > error]",
        "body": "\r\n## 问题描述\r\n\r\nreturn (isinstance(seq, collections.Sequence) and\r\nIn transformed code:\r\n\r\n    File \"pd_model/x2paddle_code.py\", line 441, in forward\r\n        x2paddle_646 = paddle.strided_slice(x=x2paddle_639, axes=[3], starts=x2paddle_1029_cast, ends=x2paddle_643_cast, strides=[1])\r\n        x2paddle_647 = paddle.concat(x=[x2paddle_646, x2paddle_464, x2paddle_604], axis=1)\r\n        x2paddle_1004 = self.conv68(x2paddle_647)\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x2paddle_650 = self.relu20(x2paddle_1004)\r\n        x2paddle_651_p0,x2paddle_651_p1 = paddle.split(x=x2paddle_650, num_or_sections=[40, 40], axis=1)\r\n\r\n    File \"/root/anaconda3/envs/distill/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 917, in __call__\r\n        return self._dygraph_call_func(*inputs, **kwargs)\r\n    File \"/root/anaconda3/envs/distill/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 907, in _dygraph_call_func\r\n        outputs = self.forward(*inputs, **kwargs)\r\n    File \"/root/anaconda3/envs/distill/lib/python3.7/site-packages/paddle/nn/layer/conv.py\", line 677, in forward\r\n        use_cudnn=self._use_cudnn)\r\n    File \"/root/anaconda3/envs/distill/lib/python3.7/site-packages/paddle/nn/functional/conv.py\", line 148, in _conv_nd\r\n        type=op_type, inputs=inputs, outputs=outputs, attrs=attrs)\r\n    File \"/root/anaconda3/envs/distill/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n        return self.main_program.current_block().append_op(*args, **kwargs)\r\n    File \"/root/anaconda3/envs/distill/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 3184, in append_op\r\n        attrs=kwargs.get(\"attrs\", None))\r\n    File \"/root/anaconda3/envs/distill/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 2344, in __init__\r\n        self.desc.infer_shape(self.block.desc)\r\n\r\n    ValueError: (InvalidArgument) The number of input's channels should be equal to filter's channels * groups for Op(Conv). But received: the input's channels is -1, the input's shape is [1, -1, 34, 60]; the filter's channels is 171, the filter's shape is [80, 171, 3, 3]; the groups is 1, the data_format is NCHW. The error may come from wrong data_format setting.\r\n  [Hint: Expected input_channels == filter_dims[1] * groups, but received input_channels:-1 != filter_dims[1] * groups:171.] (at /paddle/paddle/fluid/operators/conv_op.cc:119)\r\n  [operator < conv2d > error]\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 PaddleSlim模型压缩\r\n- 模型来源\r\n链接：https://pan.baidu.com/s/1IGpole7NY0OkDMwbocYDQQ?pwd=asbd \r\n提取码：asbd\r\n- 版本信息\r\nPaddlePaddle => :2.2.2\r\nX2Paddle => :1.3.7\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :ONNX\r\n- 您的联系方式(邮箱/微信/电话)\r\n 2425551794@qq.com",
        "state": "open",
        "user": "Jialinnnn",
        "closed_by": null,
        "created_at": "2022-07-18T07:31:12+00:00",
        "updated_at": "2022-07-25T05:50:17+00:00",
        "closed_at": null,
        "comments_count": [
            "Jialinnnn",
            "qqj1130247885",
            "Jialinnnn",
            "qqj1130247885",
            "Jialinnnn",
            "qqj1130247885",
            "Jialinnnn",
            "qqj1130247885",
            "Jialinnnn",
            "qqj1130247885",
            "Jialinnnn"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 832,
        "title": "onnx 2 paddle 中log",
        "body": "![image](https://user-images.githubusercontent.com/6971044/179525235-f003cc8f-0851-4560-9f42-d589b3c4d54f.png)\r\n你好，转换过程中出现上面的信息，是否有影响？ 应该怎么选择？",
        "state": "open",
        "user": "frankxyy",
        "closed_by": null,
        "created_at": "2022-07-18T13:46:18+00:00",
        "updated_at": "2022-07-19T16:29:59+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "frankxyy",
            "frankxyy",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 834,
        "title": "X2Paddle通用性",
        "body": "请问X2Paddle一键转换是只支持文档列出来的预测模型和训练项目吗，如果我要把列表外的模型项目迁移过来，可以吗",
        "state": "open",
        "user": "zzzzjx",
        "closed_by": null,
        "created_at": "2022-07-20T02:37:49+00:00",
        "updated_at": "2022-10-19T03:18:44+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "Genlk"
        ],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 837,
        "title": "torch转paddle trace模式，只能支持batchsize为1吗",
        "body": "![image](https://user-images.githubusercontent.com/6971044/180347507-9082e65f-b058-4be4-858a-5c8476cf7045.png)\r\nrt",
        "state": "open",
        "user": "frankxyy",
        "closed_by": null,
        "created_at": "2022-07-22T02:10:47+00:00",
        "updated_at": "2022-07-22T03:46:56+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 840,
        "title": "ONNX转换到paddle报错",
        "body": "## 问题描述\r\n![image](https://user-images.githubusercontent.com/73787862/180589601-af90e4b5-a678-4d73-82e9-8d6e16ad4410.png)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n   - [x] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle =>2.2.2\r\nX2Paddle => 1.3.8\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => pytorch转onnx后的onnx\r\n- 您的联系方式(邮箱/微信/电话)\r\n15066146083（微信电话同号）",
        "state": "open",
        "user": "yangshurong",
        "closed_by": null,
        "created_at": "2022-07-23T03:58:56+00:00",
        "updated_at": "2022-07-23T16:00:44+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 839,
        "title": "onnx转paddle, reshape层维度错误",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\npytorch转onnx（batchsize=1），然后通过x2paddle转paddle后，使用paddleSlim量化时，出现维度不匹配错误，经定位是由于转paddle后\r\nreshape层的输出维度是[1, -1] ，导致batch>1时就出现了维度不匹配错误。手动改成[-1, channel]后就正常了\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "closed",
        "user": "HaoLiuHust",
        "closed_by": "HaoLiuHust",
        "created_at": "2022-07-23T01:13:03+00:00",
        "updated_at": "2022-07-25T03:56:04+00:00",
        "closed_at": "2022-07-25T03:52:28+00:00",
        "comments_count": [
            "wjj19950828",
            "HaoLiuHust",
            "wjj19950828",
            "HaoLiuHust"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 841,
        "title": "NameError: name 'x2paddle_1672' is not defined",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n  File \"pd_model\\x2paddle_code.py\", line 56, in forward\r\n                x2paddle_onnx__Mul_377 = paddle.subtract(x=x2paddle_onnx__Sub_375, y=x2paddle_onnx__Sub_376)\r\n                x2paddle_tensor = paddle.multiply(x=x2paddle_onnx__Mul_377, y=x2paddle_onnx__Mul_378)\r\n                return x2paddle_1672\r\n                ~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n\r\n        def main(x2paddle_input_1):\r\n\r\n\r\n    NameError: name 'x2paddle_1672' is not defined\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\n(https://github.com/liyunsheng13/micronet.git)\r\n- 应用场景\r\n图像分类\r\n- 版本信息\r\nPaddlePaddle => :grey_question:2.2.2\r\nX2Paddle => :grey_question:1.3.5\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:ONNX\r\n- 您的联系方式(邮箱/微信/电话)\r\n- 1397909000@qq.com\r\n",
        "state": "open",
        "user": "dddlli",
        "closed_by": null,
        "created_at": "2022-07-23T12:26:05+00:00",
        "updated_at": "2022-07-23T16:05:58+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 845,
        "title": "ONNX转paddle新的报错",
        "body": "上次我发的报错是因为参数是cpu模式下的，这次的我在cuda模式下，将pytorch模型转换成了onnx然后再尝试使用x2paddle时产生了新的报错\r\n## 问题描述\r\n![image](https://user-images.githubusercontent.com/73787862/180789844-d026d581-c5de-4b5d-b991-36538f0a74da.png)\r\n\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## TENSOR_TYPE_TO_NP_TYPE[item.type.tensor_type.elem_type],\r\n\r\n- 转换模型后用处\r\n    - [x] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\n链接：https://pan.baidu.com/s/1YGOvAN89S0nSwSNozGRATg?pwd=ijxt \r\n提取码：ijxt\r\n- 应用场景\r\nmicronet pytorch版的预训练模型，将用paddledetection来复现论文做目标检测\r\n- 版本信息\r\nPaddlePaddle => 2.2.2:\r\nX2Paddle => 1.3.8:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) =>onnx1.12.0:\r\n- 您的联系方式(邮箱/微信/电话)\r\n15066146083@163.com",
        "state": "open",
        "user": "yangshurong",
        "closed_by": null,
        "created_at": "2022-07-25T13:38:11+00:00",
        "updated_at": "2022-07-26T02:20:50+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 848,
        "title": "ONNX 多输出转换失败，其中一个输出正常，其他几个出现问题",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "DavidQiuChao",
        "closed_by": null,
        "created_at": "2022-07-27T10:55:54+00:00",
        "updated_at": "2022-07-31T16:23:30+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 849,
        "title": "关于tensorflow 1.x中双线性插值，中align_mode，及half_pixel_center同时为false的情况，转换是正确的吗",
        "body": "关于tensorflow 1.x中双线性插值，中align_mode，及half_pixel_center同时为false的情况，能够转换，并且转换是正确的吗，同理，在paddle通过设定upsample的参数，能够实现tensorflow 1.x中align_mode，以及half_pixel_center同时为false的情形吗\r\n\r\n",
        "state": "open",
        "user": "zhly0",
        "closed_by": null,
        "created_at": "2022-07-28T03:43:32+00:00",
        "updated_at": "2022-08-03T06:58:02+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "zhly0"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 850,
        "title": "pytorch的swin模型转paddle出现问题",
        "body": "在转pytroch训练的swin-tiny模型到paddle时，出现报错：\r\n![QQ图片20220728164154](https://user-images.githubusercontent.com/37319074/181462063-52782959-5f68-489f-b218-550c7aa01f10.png)\r\n\r\n\r\n\r\n所训练的swin模型是：swin_tiny_patch4_window7_224\r\n转模型输入的尺寸是：\r\n```\r\n# 构建输入\r\ninput_data = np.random.rand(1, 3, 224, 224).astype(\"float32\")\r\n```\r\n模型训练尺寸和输入尺寸是一致的，请问为什么会报这种错呢？",
        "state": "open",
        "user": "BgLoveXixi",
        "closed_by": "BgLoveXixi",
        "created_at": "2022-07-28T03:54:10+00:00",
        "updated_at": "2022-08-02T03:42:51+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "BgLoveXixi",
            "wjj19950828",
            "BgLoveXixi"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 858,
        "title": "运行示例代码报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\nhttps://github.com/PaddlePaddle/X2Paddle/blob/develop/docs/inference_model_convertor/pytorch2paddle.md \r\n运行上述链接中，trace模式的示例代码报错，请问是什么原因？\r\n- 错误信息\r\n- TypeError: forward() missing 3 required positional arguments: 'x3', 'x9', and 'x14'\r\n- 错误截图\r\n![GNYP6%@8BW}}1V KXP N)TA](https://user-images.githubusercontent.com/22313742/182513244-5db0208d-df5d-4df6-9a62-97f1b924c641.png)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [*** ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nAlexNet：https://download.pytorch.org/models/alexnet-owt-4df8aa71.pth \r\n- 应用场景\r\n暂无\r\n- 版本信息\r\nPaddlePaddle => :2.3.0:\r\nX2Paddle => :1.3.8:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :PyTorch 1.12\r\n- 您的联系方式(邮箱/微信/电话)\r\n- fengbin@hust.edu.cn\r\n",
        "state": "open",
        "user": "frobby123",
        "closed_by": null,
        "created_at": "2022-08-03T02:53:03+00:00",
        "updated_at": "2022-08-08T02:24:07+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 861,
        "title": "tensorflow模型转换错误",
        "body": "\r\n![test](https://user-images.githubusercontent.com/96034515/182749510-c4efd61e-1976-470b-8bd3-f244b7a9b3c9.png)\r\n\r\n请问转换tensorflow模型遇到如下错误，是因为x2paddle的模型问题吗？不支持item是什么意思呢？",
        "state": "open",
        "user": "ghost",
        "closed_by": null,
        "created_at": "2022-08-04T02:25:59+00:00",
        "updated_at": "2022-08-08T03:00:05+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "ghost",
            "wjj19950828",
            "ghost"
        ],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 866,
        "title": "caffe模型转paddle失败",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\ncaffe模型，想要转成paddle模型，然后部署到移动端或国产服务器上，但是用x2paddle转模型失败了\r\n -错误信息\r\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0x80 in position 9: invalid start byte\r\n\r\n\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/20271020/183595534-ec89d690-21d4-492f-abfa-43a5eab209e2.png)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [√ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ √] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\ncaffe\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => 2.3.1\r\nX2Paddle => 1.2.3\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => Caffe\r\n- 您的联系方式(邮箱/微信/电话)\r\n749948887@qq.com",
        "state": "open",
        "user": "alexiycv",
        "closed_by": null,
        "created_at": "2022-08-09T07:57:31+00:00",
        "updated_at": "2022-08-10T11:47:21+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "Caffe"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 874,
        "title": "tensor flow 转paddle 缺少ResizeBicubic op",
        "body": "## 问题描述\r\n\r\n- Exception: Model is not supported yet\r\n- \r\n![image](https://user-images.githubusercontent.com/30338877/184316255-8cfe2007-ac54-4fc5-997a-839e49fe6d55.png)\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nBigEarthNet ：https://git.tu-berlin.de/rsim/BigEarthNet-S2_43-classes_models\r\n- 应用场景\r\nPaddleRS-PaddleSeg\r\n- 版本信息\r\nPaddlePaddle => :2.3.1\r\nX2Paddle => : 1.3.8\r\nTensorflow 1.14.0\r\n- 您的联系方式(邮箱/微信/电话)\r\nchensilin@baidu.com",
        "state": "open",
        "user": "sherwin-silin-chen",
        "closed_by": null,
        "created_at": "2022-08-12T08:35:25+00:00",
        "updated_at": "2022-08-17T02:34:28+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 877,
        "title": "yolov7 onnx2paddle :convert failed node:onnx__Concat_396, op_type is Resize",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n使用pt转onnx后，onnx2paddle出错，x2paddle不支持Resize算子吗？\r\n- 错误信息\r\n- 错误截图\r\n\r\n![image](https://user-images.githubusercontent.com/49974432/185089161-201d88d2-e4cc-4044-bc31-610615afe2eb.png)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    -使用 Paddle 框架/ PaddleInference 推理预测\r\n\r\n- 模型来源\r\nYOLO7：\r\n\r\n",
        "state": "closed",
        "user": "wj920291253",
        "closed_by": "wjj19950828",
        "created_at": "2022-08-17T09:49:12+00:00",
        "updated_at": "2022-11-09T07:57:16+00:00",
        "closed_at": "2022-08-18T10:48:04+00:00",
        "comments_count": [
            "wjj19950828",
            "wj920291253",
            "Hap-Zhang"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 881,
        "title": "onnx 转换成paddle，生成的x2paddle_code.py 文件里面缺少对一个参数的定义",
        "body": "在shell里面调用x2paddle从onnx 生产paddle模型，报错 ，提示x2paddle_code.py当中的一个参数，没有定义\r\n\r\n怎么手动给这个参数赋值？\r\n![image](https://user-images.githubusercontent.com/24912927/185907247-45ee2d35-11cd-4fb1-a5e3-83287c21b949.png)\r\n",
        "state": "open",
        "user": "Genlk",
        "closed_by": null,
        "created_at": "2022-08-22T11:09:57+00:00",
        "updated_at": "2022-08-29T03:29:58+00:00",
        "closed_at": null,
        "comments_count": [
            "Genlk",
            "Genlk",
            "wjj19950828",
            "wjj19950828",
            "Genlk",
            "Genlk",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 878,
        "title": "1 OPs are not supported yet : If",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n\r\nINFO:root:paddle.__version__ = 2.2.2t.\r\n/Users/keter/opt/anaconda3/lib/python3.8/site-packages/onnx/mapping.py:27: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe. \r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  int(TensorProto.STRING): np.dtype(np.object)\r\nINFO:root:Now translating model from onnx to paddle.\r\n/Users/keter/opt/anaconda3/lib/python3.8/site-packages/sympy/external/importtools.py:158: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.\r\n  if LooseVersion(modversion) < LooseVersion(min_module_version):\r\n/Users/keter/opt/anaconda3/lib/python3.8/site-packages/sympy/core/cache.py:52: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.\r\n  if V(fastcache.__version__) < '0.4.0':\r\n/Users/keter/opt/anaconda3/lib/python3.8/site-packages/setuptools/_distutils/version.py:346: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.\r\n  other = LooseVersion(other)\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [9],opset_verison of your onnx model is 11, automatically treated as op_set: 9.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== If ============\r\nTraceback (most recent call last):\r\n  File \"/Users/keter/opt/anaconda3/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/Users/keter/opt/anaconda3/lib/python3.8/site-packages/x2paddle/convert.py\", line 475, in main\r\n    onnx2paddle(\r\n  File \"/Users/keter/opt/anaconda3/lib/python3.8/site-packages/x2paddle/convert.py\", line 290, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/Users/keter/opt/anaconda3/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 30, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n\r\n- 错误截图\r\n\r\n![image](https://user-images.githubusercontent.com/55493212/185793686-8c4d93d8-2ad4-4ac1-ad67-644bc2e14801.png)\r\n\r\n\r\n## 具体信息\r\n\r\n用MobileNetv3 做 baseline的一个关键点检测，Pytorch 模型 转换为 onnx 的代码是：\r\n\r\n```\r\n    input = torch.randn(1, 3, 512, 512)\r\n    torch.onnx.export(model, input, onnx_path, export_params=True, opset_version=11, do_constant_folding=True,\r\n                      input_names=['input1'], output_names=['output1', 'score'])\r\n```\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n- 应用场景\r\n   人体关键点检测\r\n- 版本信息\r\nPaddlePaddle => 2.2.2\r\nX2Paddle => 1.3.8\r\n来源框架版本(PyTorch) => : 1.8.1\r\n- 您的联系方式(changlu@keter.top)\r\n\r\n\r\n我删除了模型里面所有的if语句，实在不知道哪里出错了",
        "state": "open",
        "user": "AndSonder",
        "closed_by": null,
        "created_at": "2022-08-21T13:42:05+00:00",
        "updated_at": "2022-08-22T02:28:31+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 882,
        "title": "转换conformer模型识别",
        "body": "## 问题描述\r\n- 错误信息\r\n\r\nD:\\project2022\\paddle_server\\conformer_paddle>x2paddle --framework=onnx --model=model.average.finetune.3.ep.onnx --save_dir=conformer_pd_model\r\nC:\\Users\\user\\AppData\\Roaming\\Python\\Python39\\site-packages\\win32\\lib\\pywintypes.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp, sys, os\r\nINFO 2022-08-23 14:23:22,774 convert.py:431] paddle.__version__ = 2.3.1\r\nINFO 2022-08-23 14:23:22,794 convert.py:285] Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nUnknown shape for input tensor[tensor name: 'x2paddle_xs_pad'] -> shape: ['batch_size', 'ilen', 40], Please define shape of input here,\r\nNote:you can use visualization tools like Netron to check input shape.\r\nShape of Input(e.g. -1,3,224,224), enter 'N' to skip: 1,4000,40\r\nUnknown shape for input tensor[tensor name: 'x2paddle_xs_mask'] -> shape: ['batch_size', 1, 'ilen'], Please define shape of input here,\r\nNote:you can use visualization tools like Netron to check input shape.\r\nShape of Input(e.g. -1,3,224,224), enter 'N' to skip: 1,1,4000\r\nshape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nshape inferenced.\r\nTraceback (most recent call last):\r\n  File \"C:\\Python\\Python39\\lib\\runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"C:\\Python\\Python39\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\user\\AppData\\Roaming\\Python\\Python39\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"C:\\Users\\user\\AppData\\Roaming\\Python\\Python39\\site-packages\\x2paddle\\convert.py\", line 475, in main\r\n    onnx2paddle(\r\n  File \"C:\\Users\\user\\AppData\\Roaming\\Python\\Python39\\site-packages\\x2paddle\\convert.py\", line 289, in onnx2paddle\r\n    model = ONNXDecoder(model_path)\r\n  File \"C:\\Users\\user\\AppData\\Roaming\\Python\\Python39\\site-packages\\x2paddle\\decoder\\onnx_decoder.py\", line 429, in __init__\r\n    self.graph = ONNXGraph(onnx_model)\r\n  File \"C:\\Users\\user\\AppData\\Roaming\\Python\\Python39\\site-packages\\x2paddle\\decoder\\onnx_decoder.py\", line 193, in __init__\r\n    self.collect_value_infos()\r\n  File \"C:\\Users\\user\\AppData\\Roaming\\Python\\Python39\\site-packages\\x2paddle\\decoder\\onnx_decoder.py\", line 390, in collect_value_infos\r\n    TENSOR_TYPE_TO_NP_TYPE[item.type.tensor_type.elem_type],\r\nKeyError: 0\r\n- 截图\r\n![屏幕截图 2022-08-23 142356](https://user-images.githubusercontent.com/111847688/186089097-89894c0e-84d9-4bb8-a3dc-66064a5525df.png)\r\n\r\n\r\n## 具体信息\r\n转换conformer模型用于昆仑卡R200下PaddleLite进行推理\r\n x2paddle --framework=onnx --model=conformer_xxxx.onnx --save_dir=conformer_pd_model\r\n\r\n- 应用场景\r\n昆仑卡R200进行语音识别\r\n- 版本信息\r\nwindows 10\r\npython: 3.9.6\r\ntorch: 1.9.0+cpu\r\npaddle: 2.3.1\r\nx2paddle: 1.3.8\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => 1.6\r\n- 您的联系方式： WX  yunbo_314 \r\n",
        "state": "open",
        "user": "gyb4git",
        "closed_by": null,
        "created_at": "2022-08-23T06:44:44+00:00",
        "updated_at": "2022-08-30T08:55:07+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "gyb4git"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 885,
        "title": "onnx如何导出fp16的lite模型？",
        "body": "如题：如何通过x2paddle工具一键式导出fp16格式的paddle lite模型，如果不行，怎么分布导出呢？\r\n",
        "state": "closed",
        "user": "fengyanWang",
        "closed_by": "fengyanWang",
        "created_at": "2022-08-31T08:32:48+00:00",
        "updated_at": "2022-08-31T10:06:10+00:00",
        "closed_at": "2022-08-31T10:06:10+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 883,
        "title": "Fail to generate inference model！No Error Information show",
        "body": "Nodes converted.\r\nonnx_layernorm_fuse_pass done!\r\nonnx_gelu_fuse_pass done!\r\nreplace_div_to_scale_pass done!\r\nExporting inference model from python code ('/home/shihuiyu/yolov7-main/yolov7-tiny_infer/onnx2paddle_0/x2paddle_code.py')... \r\n\r\nFail to generate inference model! Problem happend while export inference model from python code '/home/shihuiyu/yolov7-main/yolov7-tiny_infer/onnx2paddle_0/x2paddle_code.py';\r\n\r\n===================Error Information===============\r\n\r\n\r\n\r\n\r\n下面不显示任何错误信息，使用yolov7和yolov7-tiny模型都试过了，显示一模一样。\r\n请问这是怎么回事啊？",
        "state": "open",
        "user": "shihuiyu",
        "closed_by": null,
        "created_at": "2022-08-23T08:03:10+00:00",
        "updated_at": "2022-09-06T02:46:49+00:00",
        "closed_at": null,
        "comments_count": [
            "shihuiyu",
            "wjj19950828",
            "shihuiyu",
            "wjj19950828",
            "shihuiyu",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 884,
        "title": "onnx ocr 推理怎么显示多个备选结果？微信nlanguage",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\nonnx ocr 推理怎么显示多个备选结果？微信nlanguage\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "nissansz",
        "closed_by": null,
        "created_at": "2022-08-31T02:05:33+00:00",
        "updated_at": "2022-09-01T02:42:29+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "nissansz"
        ],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 887,
        "title": "ImportError: cannot import name 'ConverterCheck' from 'x2paddle.utils'",
        "body": "ImportError: cannot import name 'ConverterCheck' from 'x2paddle.utils'",
        "state": "closed",
        "user": "shituo123456",
        "closed_by": "shituo123456",
        "created_at": "2022-09-02T02:00:29+00:00",
        "updated_at": "2022-09-02T02:21:59+00:00",
        "closed_at": "2022-09-02T02:21:59+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 886,
        "title": "yolo模型转onnx转paddle，模型转换成功预测失败：ValueError: (InvalidArgument) Python object is not type of St10shared_ptrIN6paddle10imperative7VarBaseEE",
        "body": "## yolo模型转onnx转paddle，模型转换成功预测失败：ValueError: (InvalidArgument) Python object is not type of St10shared_ptrIN6paddle10imperative7VarBaseEE\r\n\r\n```\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/vision/transforms/functional_pil.py:36: DeprecationWarning: NEAREST is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.NEAREST or Dither.NONE instead.\r\n  'nearest': Image.NEAREST,\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/vision/transforms/functional_pil.py:37: DeprecationWarning: BILINEAR is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BILINEAR instead.\r\n  'bilinear': Image.BILINEAR,\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/vision/transforms/functional_pil.py:38: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  'bicubic': Image.BICUBIC,\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/vision/transforms/functional_pil.py:39: DeprecationWarning: BOX is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BOX instead.\r\n  'box': Image.BOX,\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/vision/transforms/functional_pil.py:40: DeprecationWarning: LANCZOS is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.LANCZOS instead.\r\n  'lanczos': Image.LANCZOS,\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/vision/transforms/functional_pil.py:41: DeprecationWarning: HAMMING is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.HAMMING instead.\r\n  'hamming': Image.HAMMING\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddlex/paddleseg/models/losses/decoupledsegnet_relax_boundary_loss.py:19: DeprecationWarning: Please use `shift` from the `scipy.ndimage` namespace, the `scipy.ndimage.interpolation` namespace is deprecated.\r\n  from scipy.ndimage.interpolation import shift\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddlex/paddleseg/transforms/functional.py:18: DeprecationWarning: Please use `distance_transform_edt` from the `scipy.ndimage` namespace, the `scipy.ndimage.morphology` namespace is deprecated.\r\n  from scipy.ndimage.morphology import distance_transform_edt\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/sklearn/utils/multiclass.py:13: DeprecationWarning: Please use `spmatrix` from the `scipy.sparse` namespace, the `scipy.sparse.base` namespace is deprecated.\r\n  from scipy.sparse.base import spmatrix\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddlex/ppcls/data/preprocess/ops/timm_autoaugment.py:38: DeprecationWarning: BILINEAR is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BILINEAR instead.\r\n  _RANDOM_INTERPOLATION = (Image.BILINEAR, Image.BICUBIC)\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddlex/ppcls/data/preprocess/ops/timm_autoaugment.py:38: DeprecationWarning: BICUBIC is deprecated and will be removed in Pillow 10 (2023-07-01). Use Resampling.BICUBIC instead.\r\n  _RANDOM_INTERPOLATION = (Image.BILINEAR, Image.BICUBIC)\r\n/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/tensor/creation.py:130: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe. \r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  if data.dtype == np.object:\r\nW0901 10:00:24.208906 3157986 device_context.cc:447] Please NOTE: device: 0, GPU Compute Capability: 8.6, Driver API Version: 11.6, Runtime API Version: 11.0\r\nW0901 10:00:24.211457 3157986 device_context.cc:465] device: 0, cuDNN Version: 8.1.\r\nTraceback (most recent call last):\r\n  File \"/opt/deeplearning/Ryan/yolox-bb/paddle_test.py\", line 22, in <module>\r\n    result = main(image)\r\n  File \"/opt/deeplearning/Ryan/yolox-bb/pd_model/x2paddle_code.py\", line 448, in main\r\n    out = model(x2paddle_images)\r\n  File \"/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 917, in __call__\r\n    return self._dygraph_call_func(*inputs, **kwargs)\r\n  File \"/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/fluid/dygraph/layers.py\", line 907, in _dygraph_call_func\r\n    outputs = self.forward(*inputs, **kwargs)\r\n  File \"/opt/deeplearning/Ryan/yolox-bb/pd_model/x2paddle_code.py\", line 170, in forward\r\n    x2paddle_467 = paddle.strided_slice(x=x2paddle_images, axes=[2], starts=[0], ends=[2147483647], strides=[2])\r\n  File \"/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/tensor/manipulation.py\", line 2183, in strided_slice\r\n    return paddle.fluid.layers.strided_slice(\r\n  File \"/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/fluid/layers/nn.py\", line 11361, in strided_slice\r\n    helper.append_op(\r\n  File \"/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n    return self.main_program.current_block().append_op(*args, **kwargs)\r\n  File \"/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 3163, in append_op\r\n    _dygraph_tracer().trace_op(type,\r\n  File \"/opt/envs/miniconda3/envs/x2paddle/lib/python3.8/site-packages/paddle/fluid/dygraph/tracer.py\", line 43, in trace_op\r\n    self.trace(type, inputs, outputs, attrs,\r\nValueError: (InvalidArgument) Python object is not type of St10shared_ptrIN6paddle10imperative7VarBaseEE (at /paddle/paddle/fluid/pybind/imperative.cc:79)\r\n```\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n- 模型来源\r\n[YOLOX：https://github.com/Megvii-BaseDetection/YOLOX](https://github.com/bubbliiiing/yolox-pytorch)\r\n- 应用场景\r\n服务端国产芯片操作系统\r\n- 版本信息\r\nPaddlePaddle => 2.2.2 gpu\r\nX2Paddle => :1.3.8:\r\n来源框架版本PyTorch => :1.7.1:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "closed",
        "user": "SJJ-dot",
        "closed_by": "SJJ-dot",
        "created_at": "2022-09-01T02:11:39+00:00",
        "updated_at": "2024-08-07T01:59:58+00:00",
        "closed_at": "2024-08-07T01:59:58+00:00",
        "comments_count": [
            "wjj19950828",
            "Andy197527",
            "SJJ-dot"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 888,
        "title": "auto_compression/pytorch_yolo_series 中 对yolov5s.onnx进行蒸馏错误",
        "body": "按照官方配置好环境后，运行报错：\r\n![image](https://user-images.githubusercontent.com/64970397/188051340-35e051fb-207a-4640-b584-5b56b0465066.png)\r\n按照https://github.com/PaddlePaddle/X2Paddle/issues/494 的方法 更新x2paddle后，又报下面的错：\r\n![image](https://user-images.githubusercontent.com/64970397/188051444-07c1121b-793b-4244-b33c-a05ca73c7049.png)\r\n\r\nPaddlePaddle = 2.3.2\r\nx2paddle 是develop分支代码git后安装\r\n\r\n更新onnx 版本和 x2paddle后又报这个错\r\n![image](https://user-images.githubusercontent.com/64970397/188053687-9787a408-5b6b-4465-9537-6e8f2a14595d.png)\r\n\r\n目前没有找到解决方法。\r\n麻烦看一下  谢谢\r\n\r\nwechat ： ST_YangMu",
        "state": "open",
        "user": "shituo123456",
        "closed_by": null,
        "created_at": "2022-09-02T03:11:54+00:00",
        "updated_at": "2022-09-13T06:09:03+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "shituo123456",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 891,
        "title": "prim::PythonOp不支持",
        "body": "- 问题描述\r\nprim::PythonOp不支持\r\n\r\n- 错误信息\r\n========= 1 OPs are not supported yet ===========\r\n========== prim::PythonOp ============\r\nTraceback (most recent call last):\r\n  File \"online_model.py\", line 169, in <module>\r\n    pytorch2paddle(module=model,\r\n  File \"/root/miniconda3/lib/python3.8/site-packages/x2paddle/convert.py\", line 366, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"/root/miniconda3/lib/python3.8/site-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 41, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n- 转换模型后用处\r\nPaddleInference 推理预测\r\n\r\n- 模型来源\r\nhttps://github.com/hanqer/deep-hough-transform\r\n\r\n- 版本信息\r\nPaddlePaddle => 默认 pip 版本\r\nX2Paddle => 默认 pip 版本\r\n来源框架版本PyTorch => 1.6.0\r\n\r\n- 您的联系方式\r\nzhongjingyu97@foxmail.com\r\n18501900477",
        "state": "open",
        "user": "Sweet-BeanOnE",
        "closed_by": null,
        "created_at": "2022-09-13T08:17:09+00:00",
        "updated_at": "2023-02-13T07:56:41+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "kidcats"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 890,
        "title": "torch转paddle时报错：'PaddleGraph' object has no attribute 'script'",
        "body": "## 问题描述\r\n运行的代码如下（注释部分为torch.save(model.state_dict(), \"model_torch16.pt\")格式保存的模型，可以转换成功，但是现在想转换torch的script model，转换失败了）：\r\n\r\nimport torch\r\nfrom x2paddle.convert import pytorch2paddle\r\nfrom model import resnet\r\n\r\n#trained_model = resnet.resnet50(num_classes=2, include_top=True)\r\n#trained_model.load_state_dict(torch.load(\"model_torch16.pt\"))\r\ntrained_model=torch.jit.load(\"model_script_torch16.pt\")\r\ntensor_shape=[1,3,224,224]\r\ninput_tensor = torch.zeros_like(torch.empty(tuple(tensor_shape)))\r\npytorch2paddle(module=trained_model,\r\n                           save_dir=\"./output22\",\r\n                           jit_type=\"trace\",\r\n                           input_examples=[input_tensor])\r\n\r\n## 具体信息\r\npytorch==1.6.0\r\nx2paddle==1.2.0\r\n\r\ntorch模型保存方式（script model）：\r\nx = torch.randn(1, 3, 224, 224, requires_grad=True).cuda()\r\nscript_module = torch.jit.trace(model, x, strict=False)\r\ntorch.jit.save(script_module, \"model_script_torch16.pt\")\r\n\r\n具体报错信息如下：\r\n/opt/miniconda3/lib/python3.7/site-packages/setuptools/depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\n['1', '6', '0']\r\nNow translating model from pytorch to paddle.\r\n/opt/miniconda3/lib/python3.7/site-packages/torch/jit/__init__.py:948: UserWarning: The input to trace is already a ScriptModule, tracing it is a no-op. Returning the object as is.\r\n  warnings.warn('The input to trace is already a ScriptModule, tracing it is a no-op. Returning the object as is.')\r\nModel optimizing ...\r\ntrace_fc_fuse_pass done!\r\nModel optimized.\r\nTraceback (most recent call last):\r\n  File \"pt2pd.py\", line 14, in <module>\r\n    input_examples=[input_tensor])\r\n  File \"/opt/miniconda3/lib/python3.7/site-packages/x2paddle/convert.py\", line 223, in pytorch2paddle\r\n    mapper.paddle_graph.gen_model(save_dir, jit_type=jit_type)\r\n  File \"/opt/miniconda3/lib/python3.7/site-packages/x2paddle/core/program.py\", line 248, in gen_model\r\n    self.gen_dygraph_model(save_dir, jit_type)\r\n  File \"/opt/miniconda3/lib/python3.7/site-packages/x2paddle/core/program.py\", line 280, in gen_dygraph_model\r\n    hierarchical_tree = HierarchicalTree(self)\r\n  File \"/opt/miniconda3/lib/python3.7/site-packages/x2paddle/optimizer/pytorch_code_optimizer/hierachical_tree.py\", line 35, in __init__\r\n    self.script = pd_graph.script\r\nAttributeError: 'PaddleGraph' object has no attribute 'script'\r\n\r\n",
        "state": "open",
        "user": "gyr-kdgc",
        "closed_by": null,
        "created_at": "2022-09-09T02:35:38+00:00",
        "updated_at": "2022-09-13T06:07:07+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 892,
        "title": "【不支持的操作】Pytorch项目用X2Paddle转换出错",
        "body": "我使用X2Paddle转换Pytorch项目，出现下面错误提示：\r\n![1663131449797](https://user-images.githubusercontent.com/106940935/190063159-b7203c74-68e9-4600-8953-d00fe1e6233d.png)\r\ntorch.cuda.manual_seed_all, torch.where, torch.utils.data.TensorDataset这几个操作不支持转换\r\n但我查过API，支持torch.where，那为什么我的项目会出错呢？",
        "state": "open",
        "user": "dldragonking",
        "closed_by": null,
        "created_at": "2022-09-14T04:59:29+00:00",
        "updated_at": "2022-09-20T06:15:27+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 893,
        "title": " x2paddle threw an exception",
        "body": "用自己的数据集进行了训练，然后导出onnx ，用导出的onnx生成calibrate_table和 quant_model时，报下面的问题。（但是用示例onnx就不报错。）\r\n\r\n--------------------------------\r\n/opt/conda/lib/python3.8/site-packages/onnx/mapping.py:27: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe. \r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n2022-09-14 06:57:34,591-INFO: Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 12\r\nshape inferencing ...\r\nStopping at incomplete shape inference at Mul: x2paddle_413\r\nnode inputs:\r\nname: \"x2paddle_410\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 3\r\n      }\r\n      dim {\r\n        dim_value: 56\r\n      }\r\n      dim {\r\n        dim_value: 56\r\n      }\r\n      dim {\r\n        dim_value: 2\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle_1077\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 3\r\n      }\r\n      dim {\r\n        dim_value: 2\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nnode outputs:\r\nname: \"x2paddle_413\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 0\r\n  }\r\n}\r\n\r\n!!!!!!!!!!\r\nshape inferenced.\r\n2022-09-14 06:57:34,862-WARNING: 0\r\n2022-09-14 06:57:34,862-ERROR: x2paddle threw an exception, you can ask for help at: https://github.com/PaddlePaddle/X2Paddle/issues",
        "state": "open",
        "user": "huyuanchao",
        "closed_by": null,
        "created_at": "2022-09-14T07:22:58+00:00",
        "updated_at": "2022-09-20T06:17:32+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 894,
        "title": "pytorch训练的模型转为onnx，再转为paddle，都转成功了，但测试出问题了。",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\npytorch训练的模型转为onnx，再转为paddle，都转成功了。\r\n![image](https://user-images.githubusercontent.com/113532454/190183783-8412d070-9dfc-4586-83dd-0dd35d8f1bd6.png)\r\n\r\n但在测试时，报错了。\r\n用paddle2.3.1+yolov3训练的模型，用同样的方法测试是成功的。\r\n\r\n转换模型的命令用的：x2paddle --framework=onnx --model=yolov7_v1.onnx --save_dir=model_yolov7\r\n测试用的命令是（main方法是c++写的工控机上发布的测试例子main.exe）：.\\main --model_dir=model_yolov7 --image_file=test1.png\r\n\r\n- 错误信息\r\n--------------------------------------\r\nC++ Traceback (most recent call last):\r\n--------------------------------------\r\nNot support stack backtrace yet.\r\n\r\n----------------------\r\nError Message Summary:\r\n----------------------\r\nInvalidArgumentError: The conv2d Op's Input Variable `Input` contains uninitialized Tensor.\r\n  [Hint: Expected t->IsInitialized() == true, but received t->IsInitialized():0 != true:1.] (at C:\\home\\workspace\\Paddle_release\\paddle\\fluid\\framework\\operator.cc:2094)\r\n\r\n\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/113532454/190180016-e45eb550-55e4-4a81-851e-79b5f1710442.png)\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n\r\n- 模型来源\r\npytorch+yolov7训练的，模型转为onnx，再转为paddle\r\n\r\n- 应用场景\r\n\r\n- 版本信息\r\nPaddlePaddle => 2.3.1\r\nX2Paddle => 1.3.8\r\nonnx => 1.12.0\r\n\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) =>pythorch -> onnx -> paddle\r\n- 您的联系方式(电话): 15072541607\r\n",
        "state": "open",
        "user": "chqf518",
        "closed_by": null,
        "created_at": "2022-09-14T14:39:43+00:00",
        "updated_at": "2024-08-07T01:55:58+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "Andy197527"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 896,
        "title": "最新yolov5转换缺少aten::clone算子",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOv5：https://github.com/ultralytics/yolov5\r\n\r\nsame as https://github.com/PaddlePaddle/Paddle/issues/46146\r\n",
        "state": "closed",
        "user": "wjj19950828",
        "closed_by": "wjj19950828",
        "created_at": "2022-09-17T08:06:01+00:00",
        "updated_at": "2022-09-27T03:17:50+00:00",
        "closed_at": "2022-09-27T03:17:50+00:00",
        "comments_count": [
            "glenn-jocher",
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 895,
        "title": "第三方模型转paddle，只生成了.pdiparams文件，没有.pdmodel文件",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "sunchaohhh",
        "closed_by": null,
        "created_at": "2022-09-16T06:33:18+00:00",
        "updated_at": "2022-09-20T06:25:06+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "sunchaohhh",
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 897,
        "title": "模型转换结果x2paddle_code.py 算子定义命名重复，导致模型无法正常加载",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n卷积与反卷积都命名为self.conv0,导致后续加载出错。\r\n- 错误信息\r\n![image](https://user-images.githubusercontent.com/24912927/191155145-9e5a65ec-2323-4e68-a6fd-338f70fb6eb5.png)\r\n因为命名重复，导致算子的权重加载与算子的维度不一致，有报错\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/24912927/191154961-ee030b71-9227-488c-a013-9d36c89e133e.png)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    使用 Paddle-Lite 做移动端推理\r\n- 模型来源\r\ndispnet：https://github.com/Genlk/DISPNET_paddle\r\n模型结构为：https://github.com/Genlk/DISPNET_paddle/blob/main/dispnet\r\n转换模型可 调用：https://github.com/Genlk/DISPNET_paddle/blob/main/trans_to_paddle\r\n\r\n\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :2.3.1\r\nX2Paddle => :1.3.8\r\nPaddleLite => :2.11\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :PyTorch\r\n",
        "state": "open",
        "user": "Genlk",
        "closed_by": null,
        "created_at": "2022-09-20T02:41:01+00:00",
        "updated_at": "2022-09-20T06:58:08+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "Genlk",
            "Genlk"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 898,
        "title": "tensorflow模型转换为paddlepaddle，发生读取错误",
        "body": "## 问题描述\r\n\r\n- 错误信息\r\n使用命令\r\n```\r\nx2paddle -f tensorflow -m /Users/yws/small_bert_bert_en_uncased_L-2_H-128_A-2_2/saved_model.pb -s /Users/yws/small_bert_bert_en_uncased_L-2_H-128_A-2_2\r\n```\r\n进行转换时，发生了以下错误\r\n```\r\nINFO:root:Now translating model from TensorFlow to Paddle.\r\nTraceback (most recent call last):\r\n  File \"/Users/yws/opt/anaconda3/envs/x2paddle/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/Users/yws/opt/anaconda3/envs/x2paddle/lib/python3.7/site-packages/x2paddle/convert.py\", line 466, in main\r\n    disable_feedback=args.disable_feedback)\r\n  File \"/Users/yws/opt/anaconda3/envs/x2paddle/lib/python3.7/site-packages/x2paddle/convert.py\", line 174, in tf2paddle\r\n    model = TFDecoder(model_path, define_input_shape=define_input_shape)\r\n  File \"/Users/yws/opt/anaconda3/envs/x2paddle/lib/python3.7/site-packages/x2paddle/decoder/tf_decoder.py\", line 336, in __init__\r\n    graph_def.ParseFromString(f.read())\r\ngoogle.protobuf.message.DecodeError: Error parsing message with type 'tensorflow.GraphDef'\r\n```\r\n\r\n- 错误截图\r\n<img width=\"1680\" alt=\"Screen Shot 2022-09-22 at 8 51 31 PM\" src=\"https://user-images.githubusercontent.com/48912667/191751763-dd07efe0-d945-4839-a7a5-4070070a7dfa.png\">\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    使用 Paddle-Lite 做移动端推理\r\n- 模型来源\r\n    BERT：https://tfhub.dev/tensorflow/small_bert/bert_en_uncased_L-2_H-128_A-2\r\n- 应用场景\r\n    用于移动端业务下的检测业务\r\n- 版本信息\r\n    PaddlePaddle => 2.3.2\r\n    X2Paddle => 1.3.9\r\n    来源框架版本(PyTorch/TF/ONNX/Caffe) => tensorflow-cpu1.15.0 \r\n- 您的联系方式(邮箱/微信/电话)\r\n微信yinwangsong2000\r\n邮箱yws@stu.pku.edu.cn\r\n",
        "state": "open",
        "user": "yinwangsong",
        "closed_by": null,
        "created_at": "2022-09-22T13:05:56+00:00",
        "updated_at": "2022-09-27T03:56:26+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 900,
        "title": "ONNX2paddle",
        "body": "目前转换还不支持ONNX的RandomNormalLike算子，可以考虑增加一下。该算子我是在转换腾讯开源的GFPGAN上遇到的，其模型GFPGANv1.3.onnx[可通过运行该地址下的程序获得：https://github.com/axinc-ai/ailia-models/tree/master/generative_adversarial_networks/gfpgan]，模型其中有几层是RandomNormalLike算子",
        "state": "open",
        "user": "Ma-Liang-hub",
        "closed_by": null,
        "created_at": "2022-09-26T05:59:10+00:00",
        "updated_at": "2022-09-27T03:59:48+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 901,
        "title": "x2paddle threw an exception",
        "body": "\r\n按照步骤把我自己训练的yolov7的onnx模型转为paddle时报的错\r\n\r\n- 错误信息\r\n- ------------------------------------------\r\nloading annotations into memory...\r\nDone (t=0.30s)\r\ncreating index...\r\nindex created!\r\nloading annotations into memory...\r\nDone (t=0.06s)\r\ncreating index...\r\nindex created!\r\n2022-10-04 14:12:02,429-INFO: Now translating model from onnx to paddle.\r\n2022-10-04 14:12:02,429-WARNING: __init__() missing 1 required positional argument: 'enable_onnx_checker'\r\n2022-10-04 14:12:02,429-ERROR: x2paddle threw an exception, you can ask for help at: https://github.com/PaddlePaddle/X2Paddle/issues\r\n\r\n进程已结束,退出代码1\r\n\r\n\r\n- 模型来源   yolov7\r\n\r\npaddle-bfloat           0.1.7\r\npaddlepaddle-gpu        2.3.2\r\npaddleslim              2.3.3\r\nX2Paddle               1.3.9\r\n",
        "state": "closed",
        "user": "Afaliya0-0Liong",
        "closed_by": "Afaliya0-0Liong",
        "created_at": "2022-10-04T06:21:51+00:00",
        "updated_at": "2022-10-04T08:26:42+00:00",
        "closed_at": "2022-10-04T08:26:41+00:00",
        "comments_count": [
            "Afaliya0-0Liong",
            "Afaliya0-0Liong",
            "Afaliya0-0Liong"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 902,
        "title": "ONNX 转 PaddlePaddle 报错  incomplete shape inference",
        "body": "## 问题描述\r\n\r\n### 错误\r\n`Stopping at incomplete shape inference at Add: x2paddle_992`\r\n`RuntimeError: Inferred shape and existing shape differ in dimension 0: (0) vs (3)`\r\n\r\n### 完整错误输出\r\n```\r\nINFO:root:paddle.__version__ = 2.3.2\r\n.local/lib/python3.7/site-packages/onnx/mapping.py:25: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe. \r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  int(TensorProto.STRING): np.dtype(np.object)\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\n/home/tianyating/.local/lib/python3.7/site-packages/x2paddle/decoder/onnx_shape_inference.py:510: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n  new_v = int(np.asscalar(v))\r\nStopping at incomplete shape inference at Add: x2paddle_992\r\nnode inputs:\r\nname: \"x2paddle_991\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 256\r\n      }\r\n      dim {\r\n        dim_param: \"floor(floor(floor(floor(Pad26_o0__d1/2 - 1/2)/2)/2)/2) + 1\"\r\n      }\r\n      dim {\r\n        dim_param: \"floor(floor(floor(floor(Pad26_o0__d2/2 - 1/2)/2)/2)/2) + 1\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle_990\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 256\r\n      }\r\n      dim {\r\n        dim_param: \"floor(2.0*floor(floor(floor(floor(floor(Pad26_o0__d1/2 - 1/2)/2)/2)/2)/2) + 2.0)\"\r\n      }\r\n      dim {\r\n        dim_param: \"floor(2.0*floor(floor(floor(floor(floor(Pad26_o0__d2/2 - 1/2)/2)/2)/2)/2) + 2.0)\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nnode outputs:\r\nname: \"x2paddle_992\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 256\r\n      }\r\n      dim {\r\n      }\r\n      dim {\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n!!!!!!!!!!\r\n(op_type:Slice, name:x2paddle_634): Inferred shape and existing shape differ in dimension 0: (0) vs (3)\r\n[WARNING] Incomplete symbolic shape inference\r\n(op_type:Slice, name:x2paddle_634): Inferred shape and existing shape differ in dimension 0: (0) vs (3)\r\nTraceback (most recent call last):\r\n  File \"/home/tianyating/.local/lib/python3.7/site-packages/x2paddle/decoder/onnx_shape_inference.py\", line 1606, in infer_shapes\r\n    symbolic_shape_inference.out_mp_)\r\n  File \"/home/tianyating/.local/lib/python3.7/site-packages/onnx/shape_inference.py\", line 35, in infer_shapes\r\n    inferred_model_str = C.infer_shapes(model_str)\r\nRuntimeError: Inferred shape and existing shape differ in dimension 0: (0) vs (3)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/tianyating/.local/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/tianyating/.local/lib/python3.7/site-packages/x2paddle/convert.py\", line 488, in main\r\n    enable_onnx_checker=args.enable_onnx_checker)\r\n  File \"/home/tianyating/.local/lib/python3.7/site-packages/x2paddle/convert.py\", line 295, in onnx2paddle\r\n    model = ONNXDecoder(model_path, enable_onnx_checker)\r\n  File \"/home/tianyating/.local/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 430, in __init__\r\n    self.graph = ONNXGraph(onnx_model)\r\n  File \"/home/tianyating/.local/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 186, in __init__\r\n    onnx_model, fixed_input_shape=self.fixed_input_shape)\r\n  File \"/home/tianyating/.local/lib/python3.7/site-packages/x2paddle/decoder/onnx_shape_inference.py\", line 1610, in infer_shapes\r\n    symbolic_shape_inference.out_mp_)\r\n  File \"/home/tianyating/.local/lib/python3.7/site-packages/onnx/shape_inference.py\", line 35, in infer_shapes\r\n    inferred_model_str = C.infer_shapes(model_str)\r\nRuntimeError: Inferred shape and existing shape differ in dimension 0: (0) vs (3)\r\n```\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n\r\n- 模型来源\r\nDetectron2: https://github.com/facebookresearch/detectron2/tree/main/projects/DensePose\r\n后来我将 DensePose 从 Detectron2 中提取了出来，删除了训练部分的代码。\r\n\r\n- 版本信息\r\nPaddlePaddle => 2.3.2\r\nX2Paddle => 1.3.9\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => PyTorch 1.8.0\r\n- 您的联系方式(邮箱/微信/电话) => 微信：13269881213\r\n\r\n我调试了很久，还是没有调出来，期待您的联系与指点迷津！鞠躬.png",
        "state": "open",
        "user": "bright1109",
        "closed_by": null,
        "created_at": "2022-10-08T11:03:08+00:00",
        "updated_at": "2024-11-23T01:31:39+00:00",
        "closed_at": null,
        "comments_count": [
            "Morphaxzx"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 908,
        "title": "OPs are not supported yet",
        "body": "## 问题描述\r\n基于pytorch模型直接使用PyTorch2Paddle转换工具将pytorch模型转换成Paddle的模型，转换时，出现以下报错：\r\n- 错误信息\r\n\r\n> /usr/local/python3.7.5/lib/python3.7/site-packages/setuptools/depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n\r\n  import imp\r\nload dataset...\r\n/usr/local/python3.7.5/lib/python3.7/site-packages/torch/functional.py:478: UserWarning: torch.meshgrid: in an upcoming release, it will be required to pass the indexing argument. (Triggered internally at  ../aten/src/ATen/native/TensorShape.cpp:2895.)\r\n  return _VF.meshgrid(tensors, **kwargs)  # type: ignore[attr-defined]\r\nckpt openpcdet-office-ckpt/pointpillar_7728.pth load done!\r\n/home/pcw/PointPillars/simple-pointpillar-main/pointpillars.py:53: TracerWarning: Converting a tensor to a Python number might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  batch_size = coords[:, -1].max().int().item() + 1\r\n/home/pcw/PointPillars/simple-pointpillar-main/pointpillars.py:198: TracerWarning: Converting a tensor to a Python integer might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\n  stride = int(spatial_features.shape[2] / x.shape[2])\r\n/usr/local/python3.7.5/lib/python3.7/site-packages/torch/jit/_trace.py:1000: TracerWarning: Output nr 1. of the traced function does not match the corresponding output of the Python function. Detailed error:\r\nTensor-likes are not close!\r\n\r\nMismatched elements: 169699 / 1928448 (8.8%)\r\nGreatest absolute difference: 0.7313685417175293 at index (0, 119318, 1) (up to 1e-05 allowed)\r\nGreatest relative difference: 6.868511828664675 at index (0, 166050, 0) (up to 1e-05 allowed)\r\n  _module_class,\r\n/usr/local/python3.7.5/lib/python3.7/site-packages/torch/jit/_trace.py:1000: TracerWarning: Output nr 2. of the traced function does not match the corresponding output of the Python function. Detailed error:\r\nTensor-likes are not close!\r\n\r\nMismatched elements: 319827 / 4499712 (7.1%)\r\nGreatest absolute difference: 4.465594410896301 at index (0, 136119, 6) (up to 1e-05 allowed)\r\nGreatest relative difference: 23.124405869539725 at index (0, 137380, 0) (up to 1e-05 allowed)\r\n  _module_class,\r\n\r\n========= 2 OPs are not supported yet ===========\r\n========== aten::pad ============\r\n========== aten::index_put_ ============\r\nTraceback (most recent call last):\r\n  File \"torch2paddle.py\", line 271, in <module>\r\n    input_examples=x)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/convert.py\", line 372, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 41, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n- 模型来源\r\nPointPillars：https://github.com/gakkiri/simple-pointpillar（修改了部分模型代码，字典输入改成了变量输入）\r\n该代码是基于OpenPCdet (https://github.com/open-mmlab/OpenPCDet )的实现\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :2.3.2\r\nX2Paddle => :1.3.9\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :pytorch\r\n- 您的联系方式(邮箱/微信/电话)\r\n806248826@qq.com",
        "state": "open",
        "user": "cainiaoPCW",
        "closed_by": null,
        "created_at": "2022-11-02T08:57:45+00:00",
        "updated_at": "2022-11-04T09:41:24+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 905,
        "title": "tensorflow与x2paddle版本对应问题",
        "body": "## 问题描述\r\ntensorflow1.14所需要的cuda版本是10.0，而paddlepaddle2.2.2所需要的cuda版本最低也是10.1，请问这个问题该如何解决\r\n- 您的联系方式(邮箱/微信/电话)\r\n- 邮箱 2640441668@qq.com\r\n",
        "state": "closed",
        "user": "chereyk",
        "closed_by": "chereyk",
        "created_at": "2022-10-27T01:58:24+00:00",
        "updated_at": "2022-10-27T05:42:41+00:00",
        "closed_at": "2022-10-27T05:42:41+00:00",
        "comments_count": [
            "chereyk"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 904,
        "title": "Fail to convert Onnx into Paddle model: The padding value is wrong!",
        "body": "I want to convert the [PyTorch model ](https://github.com/zhaojw1998/Beat-Transformer') into paddle model, but I get the error\r\n\r\nfirstly, I convert the pytorch model into onnx\r\n\r\n```python\r\n    torch.onnx.export(model,\r\n                      torch_input,\r\n                      'model.onnx',\r\n                      opset_version=11,\r\n                      verbose=True,\r\n                      do_constant_folding=True,\r\n                      input_names=[\"input_0\"],\r\n                      output_names=[\"output_0\", \"output_1\"],\r\n                      dynamic_axes={'input_0': [0], 'output_0': [0, 1]},\r\n                      export_params=True,\r\n                      )\r\n```\r\n\r\nthen, I use the command to convert onnx model into paddle model.\r\n\r\n`x2paddle --framework=onnx --model=model.onnx --save_dir=pd_model_dynamic`\r\n\r\nHowever, I get\r\n\r\nx2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 749, in Pad\r\n    raise Exception(\"The padding value is wrong!\")\r\nException: The padding value is wrong!\r\n\r\nWhat should I do next? Is this a bug I found?\r\n",
        "state": "closed",
        "user": "ChuxiJ",
        "closed_by": "ChuxiJ",
        "created_at": "2022-10-25T09:24:33+00:00",
        "updated_at": "2025-05-11T02:55:13+00:00",
        "closed_at": "2025-05-11T02:55:13+00:00",
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 907,
        "title": "PointPillars的ONNX模型，使用X2paddle工具转换，转换失败",
        "body": "## 问题描述\r\n\r\n-基于Pytorch训练的PointPillars模型，转换成ONNX模型后，将onnx模型使用X2paddle工具转换时，转换失败。\r\n- 错误信息\r\n\r\n> /usr/local/python3.7.5/lib/python3.7/site-packages/setuptools/depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\nINFO:root:paddle.__version__ = 2.3.2\r\n/usr/local/python3.7.5/lib/python3.7/site-packages/onnx/mapping.py:25: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  int(TensorProto.STRING): np.dtype(np.object)\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 11.\r\nTotal nodes: 259\r\nNodes converting ...\r\nConverting node 189 ...     Traceback (most recent call last):\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 110, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 1850, in Squeeze\r\n    axes_node = self.graph.get_input_node(node, idx=1, copy=True)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 353, in get_input_node\r\n    ipt_node = super(ONNXGraph, self).get_node(node.inputs[idx], copy)\r\nIndexError: list index out of range\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3.7.5/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/convert.py\", line 488, in main\r\n    enable_onnx_checker=args.enable_onnx_checker)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/convert.py\", line 296, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 52, in __init__\r\n    func(node)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 113, in run_mapping\r\n    node.name[9:], node.layer_type))\r\nException: convert failed node:onnx__GatherND_135, op_type is Squeeze\r\n\r\n- 转换命令\r\n`x2paddle \\\r\n--framework=onnx \\\r\n--model=pointpillars.onnx \\\r\n--save_dir=./ \\\r\n--to_lite=True \\\r\n--lite_valid_places=x86 \\\r\n--lite_model_type=naive_buffer`\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n- 模型来源\r\nPointPillars：https://github.com/gakkiri/simple-pointpillar（修改了部分模型代码，字典部分改了了变量）\r\n该代码是基于OpenPCdet (https://github.com/open-mmlab/OpenPCDet )的实现\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :最新\r\nX2Paddle => :最新\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :pytorch\r\n- 您的联系方式(邮箱/微信/电话)\r\n806248826@qq.com\r\n",
        "state": "closed",
        "user": "cainiaoPCW",
        "closed_by": "cainiaoPCW",
        "created_at": "2022-11-02T08:41:30+00:00",
        "updated_at": "2022-11-07T06:23:03+00:00",
        "closed_at": "2022-11-07T06:23:03+00:00",
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 909,
        "title": "Inferred shape and existing shape differ in dimension 2: (4) vs (3)",
        "body": "## 问题描述\r\n\r\n- 错误信息\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\nStopping at incomplete shape inference at Div: x2paddle_onnx__Sub_156\r\nnode inputs:\r\nname: \"x2paddle_onnx__Div_152\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_param: \"NonZero3_o0__d1\"\r\n      }\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 3\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle_onnx__Div_155\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_param: \"NonZero9_o0__d1\"\r\n      }\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nnode outputs:\r\nname: \"x2paddle_onnx__Sub_156\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n      }\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 3\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n!!!!!!!!!!\r\n(op_type:Slice, name:x2paddle_onnx__Sub_146): Inferred shape and existing shape differ in dimension 2: (4) vs (3)\r\n[WARNING] Incomplete symbolic shape inference\r\n(op_type:Slice, name:x2paddle_onnx__Sub_146): Inferred shape and existing shape differ in dimension 2: (4) vs (3)\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/decoder/onnx_shape_inference.py\", line 1606, in infer_shapes\r\n    symbolic_shape_inference.out_mp_)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/onnx/shape_inference.py\", line 35, in infer_shapes\r\n    inferred_model_str = C.infer_shapes(model_str)\r\nRuntimeError: Inferred shape and existing shape differ in dimension 2: (4) vs (3)\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/python3.7.5/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/convert.py\", line 488, in main\r\n    enable_onnx_checker=args.enable_onnx_checker)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/convert.py\", line 295, in onnx2paddle\r\n    model = ONNXDecoder(model_path, enable_onnx_checker)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 430, in __init__\r\n    self.graph = ONNXGraph(onnx_model)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 186, in __init__\r\n    onnx_model, fixed_input_shape=self.fixed_input_shape)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/x2paddle/decoder/onnx_shape_inference.py\", line 1610, in infer_shapes\r\n    symbolic_shape_inference.out_mp_)\r\n  File \"/usr/local/python3.7.5/lib/python3.7/site-packages/onnx/shape_inference.py\", line 35, in infer_shapes\r\n    inferred_model_str = C.infer_shapes(model_str)\r\nRuntimeError: Inferred shape and existing shape differ in dimension 2: (4) vs (3)\r\n\r\n## 具体信息\r\n模型转换命令：\r\nx2paddle \\\r\n--framework=onnx \\\r\n--model=pointpillars_v2.onnx \\\r\n--save_dir=./paddle_models \\\r\n--to_lite=True \\\r\n--lite_valid_places=x86 \\\r\n--lite_model_type=naive_buffer\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n- 模型来源\r\nPointPillars：https://github.com/zhulf0804/PointPillars\r\n模型文件链接：https://pan.baidu.com/s/16Ok8S51VsvAbXF0nW1p5SQ，提取码:wtf4\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 联系方式(邮箱/微信/电话)\r\n806248826@qq.com\r\n",
        "state": "open",
        "user": "cainiaoPCW",
        "closed_by": null,
        "created_at": "2022-11-07T15:12:53+00:00",
        "updated_at": "2022-11-10T03:23:39+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "cainiaoPCW"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 912,
        "title": "支持opset version 16",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n由于业务需求用到了GridSample的算子，但X2Paddle不支持onnx opset version 16，请问后续多久会release？\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:1.3.9\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "deepmirror-wujixiu",
        "closed_by": null,
        "created_at": "2022-11-15T08:23:55+00:00",
        "updated_at": "2022-11-23T11:38:49+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "enhancement"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 913,
        "title": "onnx转paddle报错",
        "body": "## 问题描述\r\nonnx转paddle报错\r\n```bash\r\nConverting node 327 ...     2022-11-19 15:31:51,742-WARNING: convert failed node:onnx__Concat_271, op_type is Resize\r\n```\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n  自动压缩\r\n- 模型来源\r\nYOLOV5：https://github.com/ultralytics/yolov5/tree/v6.1\r\n- 应用场景\r\n目标检测\r\n- 版本信息\r\nPaddlePaddle => :2.4.0\r\nX2Paddle => :1.3.9\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => PyTorch/ONNX\r\n- 联系方式\r\n1170513392@qq.com\r\n",
        "state": "open",
        "user": "hhxdestiny",
        "closed_by": null,
        "created_at": "2022-11-19T07:43:55+00:00",
        "updated_at": "2022-12-05T06:10:13+00:00",
        "closed_at": null,
        "comments_count": [
            "hhxdestiny",
            "wjj19950828",
            "hhxdestiny",
            "wjj19950828",
            "hhxdestiny",
            "suay1113",
            "wjj19950828",
            "hhxdestiny"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 910,
        "title": "yolov5x使用PaddleSlim过程中调用X2Paddle转换onnx模型为paddle模型时报错：convert failed node:onnx__Concat_649, op_type is Resize",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\nConverting node 666 ...     2022-11-09 06:28:18,955-WARNING: convert failed node:onnx__Concat_649, op_type is Resize\r\n2022-11-09 06:28:18,956-ERROR: x2paddle threw an exception, you can ask for help at: https://github.com/PaddlePaddle/X2Paddle/issues\r\n\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/32810063/200773359-d1e15275-4074-4659-a4b6-b43974252249.png)\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 PaddleSlim框架进行模型自动压缩\r\n- 模型来源\r\nYOLOV5X：https://github.com/ultralytics/yolov5\r\n- 应用场景\r\n用于PaddleSlim模型自动压缩实践，部署在服务端降低耗时\r\n- 版本信息\r\nPaddlePaddle => :grey_question:paddlepaddle-gpu    2.3.2.post112\r\nX2Paddle => :grey_question:x2paddle            1.3.9\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "Hap-Zhang",
        "closed_by": null,
        "created_at": "2022-11-09T08:10:19+00:00",
        "updated_at": "2022-12-05T03:20:32+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "Hap-Zhang",
            "Hap-Zhang",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 914,
        "title": "yolov5s-6.1版本成功将pt->onnx->paddle模型怎么调用这个paddle模型进行推理？",
        "body": "我转换完了但是拿到paddle模型怎么用python调用哦。",
        "state": "open",
        "user": "futureflsl",
        "closed_by": null,
        "created_at": "2022-11-22T06:15:58+00:00",
        "updated_at": "2024-08-04T02:00:46+00:00",
        "closed_at": null,
        "comments_count": [
            "hhxdestiny",
            "futureflsl",
            "wjj19950828",
            "Andy197527"
        ],
        "labels": [
            "question"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 915,
        "title": "ONNX模型转为paddle模型报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n看到报错显示conv必须是2d或3d格式，想问一下使用了conv1d的模型可以怎么转换为paddle模型\r\n\r\n- 错误信息\r\n- (x2paddle) C:\\Users\\11832\\Downloads\\Shift-SACN-master\\Shift-SACN-master\\X2Paddle>x2paddle --framework=onnx --model=FB15k-237_None_0.0_0.2.onnx --save_dir=pd_model\r\nINFO 2022-11-26 12:57:55,384 convert.py:445] paddle.__version__ = 2.3.2\r\nINFO 2022-11-26 12:57:55,423 convert.py:299] Now translating model from onnx to paddle.\r\nmodel ir_version: 7, op version: 9\r\nShape inferencing ...\r\nShape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 9.\r\nTotal nodes: 29\r\nNodes converting ...\r\nConverting node 61 ...     Traceback (most recent call last):\r\n  File \"C:\\Users\\11832\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\x2paddle-1.3.9-py3.9.egg\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 110, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"C:\\Users\\11832\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\x2paddle-1.3.9-py3.9.egg\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 2192, in Conv\r\n    assert 2 <= convnd <= 3, 'only Conv2D and Conv3D is supported'\r\nAssertionError: only Conv2D and Conv3D is supported\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\11832\\anaconda3\\envs\\x2paddle\\Scripts\\x2paddle-script.py\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.3.9', 'console_scripts', 'x2paddle')())\r\n  File \"C:\\Users\\11832\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\x2paddle-1.3.9-py3.9.egg\\x2paddle\\convert.py\", line 489, in main\r\n    onnx2paddle(\r\n  File \"C:\\Users\\11832\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\x2paddle-1.3.9-py3.9.egg\\x2paddle\\convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"C:\\Users\\11832\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\x2paddle-1.3.9-py3.9.egg\\x2paddle\\op_mapper\\onnx2paddle\\onnx_op_mapper.py\", line 52, in __init__\r\n    func(node)\r\n  File \"C:\\Users\\11832\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\x2paddle-1.3.9-py3.9.egg\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 112, in run_mapping\r\n    raise Exception(\"convert failed node:{}, op_type is {}\".format(\r\nException: convert failed node:109, op_type is Conv\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\n自行开发模型\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :2.3.2:\r\nX2Paddle => :1.3.9:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :ONNX\r\n- 您的联系方式(邮箱/微信/电话)  1183268697@qq.com\r\n",
        "state": "open",
        "user": "zhao-sy",
        "closed_by": null,
        "created_at": "2022-11-26T05:05:42+00:00",
        "updated_at": "2022-12-05T03:22:11+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 919,
        "title": "代码typo errror",
        "body": "请检查\r\nhttps://github.com/PaddlePaddle/X2Paddle/blob/develop/x2paddle/project_convertor/pytorch/torch2paddle/io.py#L172\r\n\r\n应该是把self打错成seld了",
        "state": "closed",
        "user": "CatIIIIIIII",
        "closed_by": "luotao1",
        "created_at": "2022-12-07T03:41:05+00:00",
        "updated_at": "2024-11-01T10:24:36+00:00",
        "closed_at": "2024-11-01T10:24:36+00:00",
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 916,
        "title": "onnx转换paddle报错AssertionError: Couldn't find x2paddle_1322 in previous layers, the layers should be make by topological sort",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\35357\\AppData\\Local\\Continuum\\anaconda3\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"C:\\Users\\35357\\AppData\\Local\\Continuum\\anaconda3\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"C:\\Users\\35357\\AppData\\Local\\Continuum\\anaconda3\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"C:\\Users\\35357\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\x2paddle\\convert.py\", line 488, in main\r\n    enable_onnx_checker=args.enable_onnx_checker)\r\n  File \"C:\\Users\\35357\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\x2paddle\\convert.py\", line 297, in onnx2paddle\r\n    mapper.paddle_graph.build()\r\n  File \"C:\\Users\\35357\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\x2paddle\\core\\program.py\", line 180, in build\r\n    v)\r\nAssertionError: Couldn't find x2paddle_1322 in previous layers, the layers should be make by topological sort\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n- 模型来源\r\n基于hrnet的轻量化模型\r\n- 应用场景\r\n用于移动端业务下的人体姿态估计\r\n- 版本信息\r\nPaddlePaddle => :2.4.0\r\nX2Paddle => :1.3.9\r\n来源框架版本(ONNX) => :1.12.0\r\n- 您的联系方式(邮箱/微信/电话)1037278005@qq.com\r\n",
        "state": "open",
        "user": "ffbai",
        "closed_by": null,
        "created_at": "2022-12-01T05:03:08+00:00",
        "updated_at": "2022-12-05T08:47:43+00:00",
        "closed_at": null,
        "comments_count": [
            "ffbai",
            "wjj19950828",
            "wjj19950828",
            "ffbai",
            "wjj19950828",
            "ffbai",
            "ffbai",
            "wjj19950828",
            "ffbai"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 923,
        "title": "torch转paddle出错",
        "body": "## 问题描述\r\n将torch代码转为paddle时出现一些没在代码预处理中提到的问题。\r\n- 错误信息\r\nThe unsupported packages or operators are: [torch.LongTensor, torch.nn.functional.adaptive_avg_pool2d].\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/95006157/208028658-a86b80ce-bc19-40f1-824d-bfc861ea4d91.png)\r\n\r\n",
        "state": "open",
        "user": "CyberAI-XDU",
        "closed_by": null,
        "created_at": "2022-12-16T05:27:25+00:00",
        "updated_at": "2022-12-27T06:32:34+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch_Project"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 924,
        "title": "tensorflow转paddle错误，缺少算子",
        "body": "## 问题描述\r\n![image](https://user-images.githubusercontent.com/16351823/208373101-68ad18e7-dc0d-4883-be8d-9b66c02fbccc.png)\r\ntensorflow的pb格式模型转paddle时，出现这个错误，缺少一个算子的支持。\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddlenlp框架/ PaddleInference 推理预测\r\n- 模型来源\r\nhttps://github.com/ZhuiyiTechnology/pretrained-models\r\n从这个repo下载的权重，保存成了pb格式文件。\r\n转换代码：\r\n```\r\nfrom tensorflow.python.framework.graph_util import convert_variables_to_constants\r\n    from tensorflow.python.framework import graph_io\r\n\r\n    def freeze_session(session, keep_var_names=None, output_names=None, clear_devices=True):\r\n        graph = session.graph\r\n        with graph.as_default():\r\n            freeze_var_names = list(set(v.op.name for v in tf.global_variables()).difference(keep_var_names or []))\r\n            output_names = output_names or []\r\n            output_names += [v.op.name for v in tf.global_variables()]\r\n            input_graph_def = graph.as_graph_def()\r\n            if clear_devices:\r\n                for node in input_graph_def.node:\r\n                    node.device = \"\"\r\n            frozen_graph = convert_variables_to_constants(session, input_graph_def,\r\n                                                        output_names, freeze_var_names)\r\n            return frozen_graph\r\n\r\n    frozen_out_path = frozen_out_path+\"_tf1\"\r\n    #加载keras模型\r\n    K.set_learning_phase(0)\r\n    for input in network.input:\r\n        print('input is :', input.name)\r\n    print ('output is:', network.output.name)\r\n\r\n    #冻结并保存为Tensorflow模型\r\n    sess = K.get_session()\r\n    frozen_graph = freeze_session(K.get_session(), output_names=[network.output.op.name])\r\n    graph_io.write_graph(frozen_graph, frozen_out_path, frozen_graph_filename, as_text=False)\r\n```\r\n\r\n- 应用场景\r\n用于nlp文本匹配场景\r\n- 版本信息\r\nPaddlePaddle => 2.2.2（gpu版）\r\nX2Paddle => 1.3.9\r\ntensorflow= 1.14.0\r\nonnx=1.7.0\r\nkeras=2.3.1\r\nbert4keras=0.7.7\r\n\r\n来源框架版本(Tensorflow) => 1.14.0 \r\n- 您的联系方式(邮箱/微信/电话)\r\n-- 邮箱：1476263438@qq.com\r\n",
        "state": "open",
        "user": "xdg2016",
        "closed_by": null,
        "created_at": "2022-12-19T07:52:13+00:00",
        "updated_at": "2022-12-27T06:38:40+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "xdg2016"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 925,
        "title": "如何将pytorch训练好的dbnet模型转化为paddle模型",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n想将pytorch训练好的dbnet模型转化为paddle模型进行后续的和文本识别串联的工作\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n- 模型来源\r\nhttps://github.com/MhLiao/DB自己训练的模型\r\n- 应用场景\r\n\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)15133731918\r\n",
        "state": "open",
        "user": "yulm-1",
        "closed_by": null,
        "created_at": "2022-12-20T01:14:55+00:00",
        "updated_at": "2022-12-27T06:36:05+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 934,
        "title": "onnx转paddle报错",
        "body": "## 问题描述\r\nINFO:root:paddle.__version__ = 2.4.1\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 12\r\nShape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nShape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 12.\r\nTotal nodes: 2527\r\nNodes converting ...\r\nConverting node 1914 ...     Traceback (most recent call last):\r\n  File \"/home/anaconda3/envs/torch1.10/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 110, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"/home/anaconda3/envs/torch1.10/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 749, in Pad\r\n    raise Exception(\"The padding value is wrong!\")\r\nException: The padding value is wrong!\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/anaconda3/envs/torch1.10/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/anaconda3/envs/torch1.10/lib/python3.8/site-packages/x2paddle/convert.py\", line 489, in main\r\n    onnx2paddle(\r\n  File \"/home/anaconda3/envs/torch1.10/lib/python3.8/site-packages/x2paddle/convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/home/anaconda3/envs/torch1.10/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 52, in __init__\r\n    func(node)\r\n  File \"/home/anaconda3/envs/torch1.10/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 112, in run_mapping\r\n    raise Exception(\"convert failed node:{}, op_type is {}\".format(\r\nException: convert failed node:1029, op_type is Pad\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n- 模型来源\r\nhttps://github.com/MCG-NJU/TDN\r\n- 应用场景\r\n视频分类\r\n- 版本信息\r\nPaddlePaddle => :2.4.1\r\nX2Paddle => :1.4.0\r\n来源框架版本=> :ONNX\r\n- 您的联系方式(邮箱/微信/电话)：592232401@qq.com\r\n",
        "state": "open",
        "user": "hehe-o",
        "closed_by": null,
        "created_at": "2023-02-06T08:39:40+00:00",
        "updated_at": "2023-02-06T08:40:44+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 926,
        "title": "ONNX转paddle报错 Your model ir_version is higher than the checker's.",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\nONNX转paddle报错 Your model ir_version is higher than the checker's.\r\n\r\n- 错误信息\r\n(x2paddle) D:\\jerome\\x2paddle>x2paddle --framework=onnx --model=14_recognition_model.onnx --save_dir=pd_model_dynamic\r\nINFO:root:paddle.__version__ = 2.4.1\r\nD:\\software\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\onnx\\mapping.py:25: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe.\r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  int(TensorProto.STRING): np.dtype(np.object)\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 7, op version: 11\r\nTraceback (most recent call last):\r\n  File \"D:\\software\\anaconda3\\envs\\x2paddle\\lib\\runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"D:\\software\\anaconda3\\envs\\x2paddle\\lib\\runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\software\\anaconda3\\envs\\x2paddle\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"D:\\software\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\x2paddle\\convert.py\", line 488, in main\r\n    enable_onnx_checker=args.enable_onnx_checker)\r\n  File \"D:\\software\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\x2paddle\\convert.py\", line 295, in onnx2paddle\r\n    model = ONNXDecoder(model_path, enable_onnx_checker)\r\n  File \"D:\\software\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\x2paddle\\decoder\\onnx_decoder.py\", line 426, in __init__\r\n    check_model(onnx_model)\r\n  File \"D:\\software\\anaconda3\\envs\\x2paddle\\lib\\site-packages\\onnx\\checker.py\", line 91, in check_model\r\n    C.check_model(model.SerializeToString())\r\nonnx.onnx_cpp2py_export.checker.ValidationError: Your model ir_version is higher than the checker's.\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nhttps://drive.google.com/drive/folders/1j2a7QukI2xLVL1rsg-QEBAZPO2ruGzSJ\r\n",
        "state": "closed",
        "user": "ANDROIDTODO",
        "closed_by": "ANDROIDTODO",
        "created_at": "2022-12-29T11:20:46+00:00",
        "updated_at": "2022-12-29T11:27:57+00:00",
        "closed_at": "2022-12-29T11:27:57+00:00",
        "comments_count": [
            "ANDROIDTODO"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 928,
        "title": "X2Paddle 命令行如何自定义input的名字",
        "body": "Hi,\r\n请问使用X2Paddle 命令行时，将onnx转paddle时，如何自定义input的名字？",
        "state": "open",
        "user": "ANDROIDTODO",
        "closed_by": null,
        "created_at": "2023-01-04T09:33:06+00:00",
        "updated_at": "2023-01-10T05:54:43+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "ANDROIDTODO"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 930,
        "title": "x2paddle onnx转torch 失败",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n使用x2paddle命令将onnx转成torch时出现报错，命令如下：\r\nx2paddle --framework onnx --model onnx/audio_classification_asmr_static.onnx --save_dir pd/\r\n\r\n- 错误信息\r\n报错：\r\nNFO:root:paddle.version = 2.3.0\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nshape inferencing ...\r\nshape inferenced.\r\n/home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py:89: DeprecationWarning: mapping.TENSOR_TYPE_TO_NP_TYPE is now deprecated and will be removed in the next release or so.To silence this warning, please use helper.{self._future_function} instead.\r\ndtype = np.dtype(TENSOR_TYPE_TO_NP_TYPE[attr.t.data_type])\r\n/home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py:390: DeprecationWarning: mapping.TENSOR_TYPE_TO_NP_TYPE is now deprecated and will be removed in the next release or so.To silence this warning, please use helper.{self._future_function} instead.\r\nTENSOR_TYPE_TO_NP_TYPE[item.type.tensor_type.elem_type],\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 11.\r\nTotal nodes: 70\r\nNodes converting ...\r\nConverting node 1 ... /home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py:169: DeprecationWarning: mapping.TENSOR_TYPE_TO_NP_TYPE is now deprecated and will be removed in the next release or so.To silence this warning, please use helper.{self._future_function} instead.\r\nreturn TENSOR_TYPE_TO_NP_TYPE[dtype]\r\nConverting node 2 ... /home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py:172: DeprecationWarning: mapping.TENSOR_TYPE_TO_NP_TYPE is now deprecated and will be removed in the next release or so.To silence this warning, please use helper.{self._future_function} instead.\r\nreturn TENSOR_TYPE_TO_NP_TYPE[dtype]\r\nConverting node 64 ... /home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py:1511: DeprecationWarning: mapping.TENSOR_TYPE_TO_NP_TYPE is now deprecated and will be removed in the next release or so.To silence this warning, please use helper.{self._future_function} instead.\r\ndtype = TENSOR_TYPE_TO_NP_TYPE[dtype]\r\nConverting node 65 ... Traceback (most recent call last):\r\nFile \"/home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 110, in run_mapping\r\nres = func(*args, **kwargs)\r\nFile \"/home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 732, in Pad\r\nraise Exception(\"The padding value is wrong!\")\r\nException: The padding value is wrong!\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\nFile \"/home/zjr/anaconda3/envs/panns/bin/x2paddle\", line 8, in\r\nsys.exit(main())\r\nFile \"/home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/convert.py\", line 488, in main\r\nenable_onnx_checker=args.enable_onnx_checker)\r\nFile \"/home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/convert.py\", line 296, in onnx2paddle\r\nmapper = ONNXOpMapper(model)\r\nFile \"/home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 52, in init\r\nfunc(node)\r\nFile \"/home/zjr/anaconda3/envs/panns/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 113, in run_mapping\r\nnode.name[9:], node.layer_type))\r\nException: convert failed node:110, op_type is Pad\r\n\r\n- 转换模型后用处\r\n    -  使用 Paddle 框架/ PaddleInference 推理预测\r\n\r\n- 模型来源\r\n    PANNS Cnn14\r\n- 应用场景\r\n   音频处理\r\n- 版本信息\r\nPaddlePaddle => :2.3.0\r\nX2Paddle => :1.3.9\r\nonnx => 1.13.0\r\nPyTorch => 1.8.1:\r\n- 您的联系方式. zhaojingru@baidu.com",
        "state": "closed",
        "user": "kollobn",
        "closed_by": "kollobn",
        "created_at": "2023-01-05T03:28:27+00:00",
        "updated_at": "2023-01-05T11:21:43+00:00",
        "closed_at": "2023-01-05T11:21:43+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 935,
        "title": "动态输入的onnx转paddle报错",
        "body": "INFO:root:paddle.__version__ = 2.1.0\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 7, op version: 12\r\nUnknown shape for input tensor[tensor name: 'x2paddle_speech'] -> shape: ['batch_size', 'feats_length', 560], Please define shape of input here,\r\nNote:you can use visualization tools like Netron to check input shape.\r\nShape of Input(e.g. -1,3,224,224), enter 'N' to skip: Traceback (most recent call last):\r\n  File \"/home/wwp/miniconda3/envs/x2pp/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/wwp/miniconda3/envs/x2pp/lib/python3.7/site-packages/x2paddle/convert.py\", line 354, in main\r\n    lite_model_type=args.lite_model_type)\r\n  File \"/home/wwp/miniconda3/envs/x2pp/lib/python3.7/site-packages/x2paddle/convert.py\", line 218, in onnx2paddle\r\n    model = ONNXDecoder(model_path)\r\n  File \"/home/wwp/miniconda3/envs/x2pp/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 429, in __init__\r\n    self.graph = ONNXGraph(onnx_model)\r\n  File \"/home/wwp/miniconda3/envs/x2pp/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 183, in __init__\r\n    self.get_place_holder_nodes()\r\n  File \"/home/wwp/miniconda3/envs/x2pp/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 257, in get_place_holder_nodes\r\n    self.check_input_shape(ipt_vi)\r\n  File \"/home/wwp/miniconda3/envs/x2pp/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 245, in check_input_shape\r\n    shape = [int(dim) for dim in shape.strip().split(',')]\r\n  File \"/home/wwp/miniconda3/envs/x2pp/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py\", line 245, in <listcomp>\r\n    shape = [int(dim) for dim in shape.strip().split(',')]\r\nValueError: invalid literal for int() with base 10: ''",
        "state": "open",
        "user": "David19970306",
        "closed_by": null,
        "created_at": "2023-02-09T06:58:18+00:00",
        "updated_at": "2023-02-09T06:58:18+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 933,
        "title": "不支持随机数算子",
        "body": "把 stylegan模型转出 ONNX，再转成 paddle模型，出现这个错误\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== RandomNormalLike ============\r\n========== RandomNormal ============ 或这个\r\n========== RandomUniformLike ============ 或这个\r\n========== RandomUniform ============ 或这个\r\n\r\n随机数在生成模型中是很常见的，\r\n全都不支持，就不能部署了\r\n\r\n\r\n如图\r\n![image](https://user-images.githubusercontent.com/44624598/214033558-68588865-8505-40af-ac2b-668115aa812a.png)\r\n\r\n\r\n版本\r\npython                     3.8\r\nx2paddle                     1.3.6",
        "state": "open",
        "user": "O-O1024",
        "closed_by": null,
        "created_at": "2023-01-23T11:54:43+00:00",
        "updated_at": "2023-01-28T06:15:54+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 929,
        "title": "import x2paddle 时报错",
        "body": "import x2paddle 时报错type object 'paddle.fluid.libpaddle.VarBase' has no attribute '__getitem__'\r\n\r\n![image](https://user-images.githubusercontent.com/85465833/210634588-e2d05b1b-098a-4834-85b9-643b155d1c9a.png)\r\n\r\n",
        "state": "closed",
        "user": "sunny714822",
        "closed_by": "luotao1",
        "created_at": "2023-01-04T19:32:12+00:00",
        "updated_at": "2024-07-29T13:22:14+00:00",
        "closed_at": "2024-07-29T13:22:13+00:00",
        "comments_count": [
            "wjj19950828",
            "SmallRedFeel",
            "2jjjd"
        ],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 940,
        "title": "pytorchocr crnn pth模型怎么转onnx，p再转addle？",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "nissansz",
        "closed_by": null,
        "created_at": "2023-02-11T10:18:40+00:00",
        "updated_at": "2023-02-11T10:18:40+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 936,
        "title": "使用paddleslim量化模型时，onnx2paddle处报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n使用paddleslim量化yolov5.onnx模型，报错。原始模型时pytorch训练yolov5 6.0版本\r\n- 错误信息\r\n2023-02-09 11:47:31,706-INFO: Now translating model from onnx to paddle.\r\n2023-02-09 11:47:31,706-WARNING: __init__() missing 1 required positional argument: 'enable_onnx_checker'\r\n2023-02-09 11:47:31,706-ERROR: x2paddle threw an exception, you can ask for help at: https://github.com/PaddlePaddle/X2Paddle/issues\r\n\r\n- 错误截图\r\n \r\n![image](https://user-images.githubusercontent.com/31910340/217750844-2c297943-45f5-4cd8-bffb-2118794df746.png)\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n- 模型来源\r\nYOLOv5：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于检测\r\n- 版本信息\r\nPaddlePaddle ==2.4:\r\nX2Paddle => 2.3:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question: pytroch转为onnx\r\n- 您的联系方式(邮箱/微信/电话)2\r\n",
        "state": "open",
        "user": "Jake-wei",
        "closed_by": null,
        "created_at": "2023-02-09T07:57:22+00:00",
        "updated_at": "2023-02-13T08:15:54+00:00",
        "closed_at": null,
        "comments_count": [
            "arya-STARK-Z",
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 941,
        "title": "x2paddle --framework=onnx --model=F:\\chinese_02.onnx --save_dir=F:\\0test\\pd_model 'x2paddle' 不是内部或外部命令，也不是可运行的程序",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\nx2paddle --framework=onnx --model=F:\\chinese_02.onnx --save_dir=F:\\0test\\pd_model\r\n'x2paddle' 不是内部或外部命令，也不是可运行的程序\r\n",
        "state": "open",
        "user": "nissansz",
        "closed_by": null,
        "created_at": "2023-02-11T15:30:39+00:00",
        "updated_at": "2023-02-11T15:30:39+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 944,
        "title": "convert failed node:onnx__Concat_212, op_type is Resize@Jake-wei hi，目前问题已经修复，输入下列命令，安装最新版本X2Paddle",
        "body": "              @Jake-wei hi，目前问题已经修复，输入下列命令，安装最新版本X2Paddle\r\n\r\n```shell\r\n## 多pip uninstall几次，确保老版本x2paddle卸载干净\r\npip uninstall x2paddle\r\n## 安装develop版本\r\ngit clone https://github.com/PaddlePaddle/X2Paddle.git\r\ncd X2Paddle\r\npython setup.py install\r\n```\r\n\r\n_Originally posted by @wjj19950828 in https://github.com/PaddlePaddle/X2Paddle/issues/936#issuecomment-1427520294_\r\n            Now, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 12.\r\nTotal nodes: 169\r\nNodes converting ...\r\nConverting node 225 ...     2023-02-15 13:15:07,100-WARNING: convert failed node:onnx__Concat_212, op_type is Resize\r\n更新后报了新错误",
        "state": "open",
        "user": "arya-STARK-Z",
        "closed_by": null,
        "created_at": "2023-02-15T05:37:22+00:00",
        "updated_at": "2023-02-15T05:37:47+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 942,
        "title": "pytorch crnn pth 转为onnx后confidence值好像不太对，都是大于1的数，怎么变成小于1的confidence?",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "nissansz",
        "closed_by": null,
        "created_at": "2023-02-12T05:54:33+00:00",
        "updated_at": "2023-02-12T05:54:33+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 938,
        "title": ":__init__() missing 1 required positional argument: 'enable_onnx_checker'跑官方自动压缩出错",
        "body": "-----------  Running Arguments -----------\r\n Distillation:\r\n         alpha: 1.0\r\n         loss: soft_label\r\n Global:\r\n         arch: YOLOv7\r\n         coco_dataset_dir: E://hj2//ex//shijuedatasetuse//COCO//\r\n         coco_train_anno_path: annotations_trainval2017//annotations//instances_train2017.json\r\n         coco_train_image_dir: train2017//train2017\r\n         coco_val_anno_path: annotations_trainval2017//annotations////instances_val2017.json\r\n         coco_val_image_dir: val2017//val2017\r\n         image_path: None\r\n         model_dir: E://hj2//ex//shijue3//yolov7men//yolov7ori//yolov7//yolov7-tiny.onnx\r\n QuantAware:\r\n         activation_quantize_type: moving_average_abs_max\r\n         onnx_format: True\r\n         quantize_op_types: ['conv2d', 'depthwise_conv2d']\r\n TrainConfig:\r\n         eval_iter: 1000\r\n         learning_rate:\r\n                 T_max: 8000\r\n                 learning_rate: 3e-05\r\n                 type: CosineAnnealingDecay\r\n         optimizer_builder:\r\n                 optimizer:\r\n                         type: SGD\r\n                 weight_decay: 4e-05\r\n         train_iter: 5000\r\n------------------------------------------\r\nloading annotations into memory...\r\nDone (t=16.47s)\r\ncreating index...\r\nindex created!\r\nloading annotations into memory...\r\nDone (t=0.52s)\r\ncreating index...\r\nindex created!\r\n2023-02-10 01:48:50,901-INFO: Now translating model from onnx to paddle.\r\n2023-02-10 01:48:50,902-WARNING: __init__() missing 1 required positional argument: 'enable_onnx_checker'\r\n2023-02-10 01:48:50,902-ERROR: x2paddle threw an exception, you can ask for help at: https://github.com/PaddlePaddle/X2Paddle/issues\r\n![image](https://user-images.githubusercontent.com/61528997/217897434-42c74ac0-7765-43c5-83a5-4905876d2825.png)\r\n跑的官方yolov7的示例\r\n本示例启动自动压缩以YOLOv7-Tiny为例，如果想要更换模型，可修改--config_path路径即可，具体运行命令为：\r\n\r\n单卡训练：\r\nexport CUDA_VISIBLE_DEVICES=0\r\npython run.py --config_path=./configs/yolov7_tiny_qat_dis.yaml --save_dir='./output/'",
        "state": "closed",
        "user": "arya-STARK-Z",
        "closed_by": "luotao1",
        "created_at": "2023-02-09T17:55:19+00:00",
        "updated_at": "2024-07-29T13:23:39+00:00",
        "closed_at": "2024-07-29T13:23:39+00:00",
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 937,
        "title": "Fail to generate inference model",
        "body": "Nodes converted.\r\nExporting inference model from python code ('D:\\PycharmProjects\\paddle_xx\\pytorch_yolo_series\\yolov7-tiny_infer\\onnx2paddle_0\\x2paddle_code.py')... \r\n\r\nW0209 20:37:19.960685  2192 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.1, Runtime API Version: 10.2\r\nW0209 20:37:19.961681  2192 dynamic_loader.cc:278] Note: [Recommend] copy cudnn into CUDA installation directory. \r\n For instance, download cudnn-10.0-windows10-x64-v7.6.5.32.zip from NVIDIA's official website, \r\nthen, unzip it and copy it into C:\\Program Files\\NVIDIA GPU Computing Toolkit\\CUDA\\v10.0\r\nYou should do this according to your CUDA installation directory and CUDNN version.\r\n2023-02-09 20:37:19,962-WARNING: (PreconditionNotMet) The third-party dynamic library (cudnn64_7.dll) that Paddle depends on is not configured correctly. (error code is 126)\r\n  Suggestions:\r\n  1. Check if the third-party dynamic library (e.g. CUDA, CUDNN) is installed correctly and its version is matched with paddlepaddle you installed.\r\n  2. Configure third-party dynamic library environment variables as follows:\r\n  - Linux: set LD_LIBRARY_PATH by `export LD_LIBRARY_PATH=...`\r\n  - Windows: set PATH by `set PATH=XXX; (at ..\\paddle\\phi\\backends\\dynload\\dynamic_loader.cc:305)\r\n\r\n2023-02-09 20:37:19,962-ERROR: x2paddle threw an exception, you can ask for help at: https://github.com/PaddlePaddle/X2Paddle/issues\r\nFail to generate inference model! Problem happend while export inference model from python code 'D:\\PycharmProjects\\paddle_xx\\pytorch_yolo_series\\yolov7-tiny_infer\\onnx2paddle_0\\x2paddle_code.py';\r\n",
        "state": "open",
        "user": "wenyuxiang19",
        "closed_by": null,
        "created_at": "2023-02-09T12:54:38+00:00",
        "updated_at": "2023-12-16T13:38:11+00:00",
        "closed_at": null,
        "comments_count": [
            "mufeng12399"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 943,
        "title": "pytorch->onnx->paddle出错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\nAssertionError: Variable dtype not match, Variable [ conv2d_0.w_0 ] need tensor with dtype paddle.float32  but load tensor with dtype paddle.float16\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/23568937/218371080-39a17ddd-1263-4792-a265-f8eecc5f0d2d.png)\r\n\r\n## 具体信息\r\npytorch模型转换至onnx成功，但onnx转换为paddle时，生成x2paddle_code.py后转换失败。\r\n![image](https://user-images.githubusercontent.com/23568937/218371321-d34132f9-b38d-417e-951e-814ebfa6aaf1.png)\r\n![image](https://user-images.githubusercontent.com/23568937/218373369-d36df31f-e353-4596-943b-e6eab401824e.png)\r\n![image](https://user-images.githubusercontent.com/23568937/218373508-b05b178b-5871-4bfc-9936-ad04348bada1.png)\r\n\r\n下面是对错误信息的推测：\r\n模型conv前对数据进行了cast操作，将float32数据转换为float16再输入conv，而conv中的w与b均为float16，如何在x2paddle_code.py定义模型结构时指定conv的dtype为float16？\r\n如有更好的解决办法，欢迎大佬指正。\r\n![image](https://user-images.githubusercontent.com/23568937/218372545-e37fde70-c6df-48da-b878-ada855f19bcf.png)\r\n![image](https://user-images.githubusercontent.com/23568937/218372328-dfe18954-ef9f-46b8-96de-6253de21aa5e.png)\r\n\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [√ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nAST tiny224：https://github.com/YuanGongND/ast\r\n- 应用场景\r\n用于移动端业务下的音频业务\r\n- 版本信息\r\nPaddlePaddle => :2.4.1:\r\nX2Paddle => :1.4.0:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :1.13.1:\r\n- 您的联系方式(邮箱/微信/电话):songzexu@apon.com.cn\r\n",
        "state": "open",
        "user": "smallsung1999",
        "closed_by": null,
        "created_at": "2023-02-13T04:50:19+00:00",
        "updated_at": "2023-02-15T01:01:36+00:00",
        "closed_at": null,
        "comments_count": [
            "smallsung1999",
            "smallsung1999",
            "smallsung1999"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 945,
        "title": "onnx2paddle报错不支持conv_1",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\nonnx2paddle报错不支持conv_1\r\n- 错误信息\r\n- INFO:root:paddle.__version__ = 2.4.1\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nShape inferencing ...\r\n/usr/local/lib/python3.8/site-packages/x2paddle/decoder/onnx_shape_inference.py:510: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n  new_v = int(np.asscalar(v))\r\nShape inferenced.\r\n/usr/local/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:89: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in the next release or so.To silence this warning, please use `helper.{self._future_function}` instead.\r\n  dtype = np.dtype(TENSOR_TYPE_TO_NP_TYPE[attr.t.data_type])\r\n/usr/local/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:369: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in the next release or so.To silence this warning, please use `helper.{self._future_function}` instead.\r\n  TENSOR_TYPE_TO_NP_TYPE[item.type.tensor_type.elem_type],\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 11.\r\nTotal nodes: 102\r\nNodes converting ...\r\nConverting node 1 ...     /usr/local/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:169: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in the next release or so.To silence this warning, please use `helper.{self._future_function}` instead.\r\n  return TENSOR_TYPE_TO_NP_TYPE[dtype]\r\nConverting node 3 ...     /usr/local/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:172: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in the next release or so.To silence this warning, please use `helper.{self._future_function}` instead.\r\n  return TENSOR_TYPE_TO_NP_TYPE[dtype]\r\nConverting node 90 ...     Traceback (most recent call last):\r\n  File \"/usr/local/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 110, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 2236, in Conv\r\n    assert 2 <= convnd <= 3, 'only Conv2D and Conv3D is supported'\r\nAssertionError: only Conv2D and Conv3D is supported\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.8/site-packages/x2paddle/convert.py\", line 489, in main\r\n    onnx2paddle(\r\n  File \"/usr/local/lib/python3.8/site-packages/x2paddle/convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/usr/local/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 52, in __init__\r\n    func(node)\r\n  File \"/usr/local/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 112, in run_mapping\r\n    raise Exception(\"convert failed node:{}, op_type is {}\".format(\r\nException: convert failed node:188, op_type is Conv\r\n- 错误截图\r\n\r\n## 具体信息\r\n- 转换模型后用处\r\n   转换预训练参数，再使用 Paddle 进行模型开发，paddlepaddleslim量化训练\r\n- 模型来源\r\nopenpcdet\r\n- 应用场景\r\n点云检测分类\r\n- 版本信息\r\n- \r\n![image](https://user-images.githubusercontent.com/65016415/220843711-0cac1dfd-e36c-4a82-936e-91a7c935a3b0.png)\r\n\r\n来源框架版本(PyTorch) =>1.9.1\r\n- 您的联系方式(邮箱/微信/电话)\r\n- vx:15235358091\r\n- 感谢回复~~\r\n",
        "state": "open",
        "user": "sunhanyu714",
        "closed_by": null,
        "created_at": "2023-02-23T07:31:25+00:00",
        "updated_at": "2023-04-07T09:45:20+00:00",
        "closed_at": null,
        "comments_count": [
            "sunhanyu714",
            "lichangW"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 950,
        "title": "pytorch转onnx转paddle报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息：AssertionError: Couldn't find x2paddle_3213_num in previous layers, the layers should be make by topological sort\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/66475164/223697599-8cab1319-2136-46ad-9ea6-7a5eebdba5ed.png)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [x] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\ncascad_rcnn_fpn_resnet101.pth预训练模型\r\n- 应用场景\r\n目标检测\r\n- 版本信息\r\nPaddlePaddle == 2.4.0\r\nX2Paddle ==1.4.0\r\nonnx == 1.6.0\r\n- 您的联系方式(邮箱/微信/电话)\r\n504391119@qq.com",
        "state": "open",
        "user": "lrp123456",
        "closed_by": null,
        "created_at": "2023-03-08T11:08:21+00:00",
        "updated_at": "2023-03-09T02:01:10+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 951,
        "title": "因为在ROCM平台上不支持paddle.multinomial，如何使用torch.multinomial替代paddle.multinomial？",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "liucong521",
        "closed_by": null,
        "created_at": "2023-03-14T03:25:55+00:00",
        "updated_at": "2023-03-14T03:25:55+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 946,
        "title": "x2paddle v1.4.0:  caffe 模型转换失败（AttributeError: module 'x2paddle.decoder.caffe_shape_inference' has no attribute 'shape_split'）",
        "body": "\r\n## 问题描述\r\ncaffe 模型转换失败\r\n\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/39563142/221149871-3533e098-e2fa-47b7-8de8-d4eacf49dc3a.png)\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - 使用 Paddle-Lite 做移动端推理\r\n- 模型来源\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => 2.4.1\r\nX2Paddle => 1.4.0\r\n来源框架版本(Caffe) => :grey_question:\r\n- 您的联系方式(微信)：Mr-Paradise8\r\n",
        "state": "closed",
        "user": "ldd-bdxt",
        "closed_by": "ldd-bdxt",
        "created_at": "2023-02-24T10:05:18+00:00",
        "updated_at": "2023-03-01T09:45:32+00:00",
        "closed_at": "2023-03-01T09:45:32+00:00",
        "comments_count": [
            "ldd-bdxt"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 947,
        "title": "onnx_decoder: 对于Optional的OP input应该如何处理",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\nhttps://github.com/onnx/onnx/blob/main/docs/Changelog.md#Clip-13\r\nClip op 描述中提到 min 和 max 是 optional的, 默认值为numeric_limits::lowest() and numeric_limits::max(), 通过pytorch导出的onnx模型中会出现min或max不给设定值的情况\r\n\r\n在修复了一些取op input的错误后, 遇到input不存在的情况应该如何在x2paddle框架上处理呢\r\n```diff\r\ndiff --git a/x2paddle/decoder/onnx_decoder.py b/x2paddle/decoder/onnx_decoder.py\r\nindex 7fe4696..75e4325 100755\r\n--- a/x2paddle/decoder/onnx_decoder.py\r\n+++ b/x2paddle/decoder/onnx_decoder.py\r\n@@ -329,10 +329,10 @@ class ONNXGraph(Graph):\r\n \r\n     def get_input_node(self, node, idx=0, copy=False):\r\n         if len(node.which_child) == 0:\r\n-            ipt_node = super(ONNXGraph, self).get_node(node.inputs[idx], copy)\r\n+            ipt_node = super(ONNXGraph, self).get_node(node.layer.input[idx], copy)\r\n             return ipt_node\r\n         else:\r\n-            ipt_node = super(ONNXGraph, self).get_node(node.inputs[idx], copy)\r\n+            ipt_node = super(ONNXGraph, self).get_node(node.layer.input[idx], copy)\r\n             new_ipt_name = \"{}/{}\".format(ipt_node.layer_name, idx)\r\n             if new_ipt_name in node.which_child:\r\n                 ipt_node.index = node.which_child[new_ipt_name]\r\ndiff --git a/x2paddle/op_mapper/onnx2paddle/opset14.py b/x2paddle/op_mapper/onnx2paddle/opset14.py\r\nindex 0a4f18a..1ff533b 100644\r\n--- a/x2paddle/op_mapper/onnx2paddle/opset14.py\r\n+++ b/x2paddle/op_mapper/onnx2paddle/opset14.py\r\n@@ -32,3 +32,4 @@ def print_mapping_info(func):\r\n class OpSet14(OpSet13):\r\n     def __init__(self, decoder, paddle_graph):\r\n         super(OpSet14, self).__init__(decoder, paddle_graph)\r\n+        self.directly_map_ops['HardSwish'] = ['paddle.nn.Hardswish']\r\ndiff --git a/x2paddle/op_mapper/onnx2paddle/opset_legacy.py b/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\r\nindex bdf532a..15d903b 100644\r\n--- a/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\r\n+++ b/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\r\n@@ -1233,7 +1233,7 @@ class OpSet():\r\n         val_x = self.graph.get_input_node(node, idx=0, copy=True)\r\n         val_y = self.graph.get_node(node.layer.output[0], copy=True)\r\n         max_value, min_value = None, None\r\n-        if len(node.inputs) == 1:\r\n+        if len(node.layer.input) == 1:\r\n             max_value = node.get_attr('max')\r\n             min_value = node.get_attr('min')\r\n             layer_attrs = {\r\n@@ -1247,7 +1247,7 @@ class OpSet():\r\n                 outputs=[node.name],\r\n                 **layer_attrs)\r\n         else:\r\n-            if len(node.inputs) == 2:\r\n+            if len(node.layer.input) == 2:\r\n                 val_ipt = self.graph.get_input_node(node, idx=1, copy=True)\r\n \r\n                 index = node.get_input_index(val_ipt.name)\r\n@@ -1268,7 +1268,7 @@ class OpSet():\r\n                     outputs=[node.name],\r\n                     **layer_attrs)\r\n             else:\r\n-                if len(node.inputs) == 3:\r\n+                if len(node.layer.input) == 3:\r\n                     min_ipt = self.graph.get_input_node(node, idx=1, copy=True)\r\n                     max_ipt = self.graph.get_input_node(node, idx=2, copy=True)\r\n                     self.paddle_graph.add_layer(\r\n```\r\n- 错误截图\r\n- \r\n![图片](https://user-images.githubusercontent.com/12156543/221901424-8271e269-2213-4db5-aa50-ae4b66818977.png)\r\n\r\n![图片](https://user-images.githubusercontent.com/12156543/221899850-7b4c5fd9-150a-4455-ad62-7d0f338b3846.png)\r\n\r\n![图片](https://user-images.githubusercontent.com/12156543/221901758-7331c205-5248-42fc-9b62-304508629d4b.png)\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [X] 使用 Paddle.js 运行在小程序上 \r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nSSDLite: https://pytorch.org/vision/main/models/generated/torchvision.models.detection.ssdlite320_mobilenet_v3_large.html#torchvision.models.detection.ssdlite320_mobilenet_v3_large\r\n- 应用场景\r\n用于小程序业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => daily build\r\nX2Paddle => 1.4.0\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => PyTorch\r\n\r\n联系方式: taylorherelee@gmail.com\r\n\r\n",
        "state": "open",
        "user": "TaylorHere",
        "closed_by": null,
        "created_at": "2023-02-28T15:27:42+00:00",
        "updated_at": "2023-03-01T09:54:56+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "TaylorHere"
        ],
        "labels": [
            "ONNX"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 948,
        "title": "YOLOv8 Paddle export error: `IndexError: list assignment index out of range`",
        "body": "[YOLOv8](https://github.com/ultralytics/ultralytics) export to Paddle works correctly for Detection and Segmentation models, but fails on Classification models with error `IndexError: list assignment index out of range`.\r\n\r\n\r\nInput to reproduce:\r\n```bash\r\n# Install ultralytics package\r\npip install ultralytics paddlepaddle x2paddle\r\n\r\n# Export YOLOv8n to Paddle (works correctly)\r\nyolo export model=yolov8n.pt format=paddle\r\n\r\n# Export YOLOv8n-cls classification model to Paddle (ERROR)\r\nyolo export model=yolov8n-cls.pt format=paddle\r\n```\r\n\r\nOutput:\r\n```\r\nyolo export model=yolov8n-cls.pt format=paddle\r\n\r\nTraceback (most recent call last):\r\n  File \"/Users/glennjocher/PycharmProjects/ultralytics/venv/lib/python3.10/site-packages/IPython/core/interactiveshell.py\", line 3442, in run_code\r\n    exec(code_obj, self.user_global_ns, self.user_ns)\r\n  File \"<ipython-input-9-69a94e325a9a>\", line 1, in <module>\r\n    pytorch2paddle(module=self.model, save_dir=f, jit_type='trace', input_examples=[self.im])  # export\r\n  File \"/Users/glennjocher/PycharmProjects/ultralytics/venv/lib/python3.10/site-packages/x2paddle/convert.py\", line 372, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"/Users/glennjocher/PycharmProjects/ultralytics/venv/lib/python3.10/site-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 42, in __init__\r\n    self.paddle_graph, _ = self.traverse(decoder.graph)\r\n  File \"/Users/glennjocher/PycharmProjects/ultralytics/venv/lib/python3.10/site-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 121, in traverse\r\n    inputs, outputs = func(self, graph, node)\r\n  File \"/Users/glennjocher/PycharmProjects/ultralytics/venv/lib/python3.10/site-packages/x2paddle/op_mapper/pytorch2paddle/aten.py\", line 5067, in aten_silu\r\n    scope_name = mapper.normalize_scope_name(node)\r\n  File \"/Users/glennjocher/PycharmProjects/ultralytics/venv/lib/python3.10/site-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 314, in normalize_scope_name\r\n    name_segments[j] = name\r\nIndexError: list assignment index out of range\r\n```",
        "state": "closed",
        "user": "glenn-jocher",
        "closed_by": "glenn-jocher",
        "created_at": "2023-02-28T23:37:20+00:00",
        "updated_at": "2023-08-31T14:34:30+00:00",
        "closed_at": "2023-08-31T14:34:30+00:00",
        "comments_count": [
            "wjj19950828",
            "glenn-jocher",
            "glenn-jocher"
        ],
        "labels": [
            "PyTorch"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 949,
        "title": "如何转换为静态图模型",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n按照tensorflow2paddle.ipynb示例中执行代码，发现命令-pt static无法被识别，看了下convert中并没有在命令行解析paddle_type，tensorflow转paddle的api接口也没有动/静态图的相关传参，请问下应该如何调用才能生成静态图模型？\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/119485829/223604256-fd7740dd-f587-4365-b2f7-ea59f3d03483.png)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nhttp://download.tensorflow.org/models/mobilenet_v1_2018_02_22/mobilenet_v1_0.25_128.tgz\r\n",
        "state": "open",
        "user": "HustleOoo",
        "closed_by": null,
        "created_at": "2023-03-08T02:30:00+00:00",
        "updated_at": "2023-03-14T09:46:39+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": [
            "TensorFlow"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 953,
        "title": "onnx2paddle 时decoder不支持if",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n在将onnx模型转成paddle时出错\r\n- 错误信息\r\n- 对asr的decoder转成paddle时出错：model ir_version: 7, op version: 13\r\nShape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nShape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 13.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== If ============\r\nC:\\Users\\test\\AppData\\Roaming\\Python\\Python39\\site-packages\\x2paddle\\decoder\\onnx_decoder.py:369: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in the next release or so.To silence this warning, please use `helper.{self._future_function}` instead.\r\n  TENSOR_TYPE_TO_NP_TYPE[item.type.tensor_type.elem_type],\r\nTraceback (most recent call last):\r\n  File \"C:\\Users\\test\\sherpa_onnx\\sherpa-onnx\\sherpa-onnx-streaming-zipformer-bilingual-zh-en-2023-02-20\\onnx2paddle.py\", line 2, in <module>\r\n    onnx2paddle(model_path = \"decoder-epoch-99-avg-1.onnx\",save_dir = \"pd_model\")\r\n  File \"C:\\Users\\test\\AppData\\Roaming\\Python\\Python39\\site-packages\\x2paddle\\convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"C:\\Users\\test\\AppData\\Roaming\\Python\\Python39\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\onnx_op_mapper.py\", line 38, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [√ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的语音识别服务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:2.4.1\r\nX2Paddle => :grey_question:最新版本\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:1.13.0\r\n- 您的联系方式(邮箱/微信/电话)\r\n- 邮箱:lskhs@qq.com\r\n- 电话：18929332593\r\n",
        "state": "open",
        "user": "Tavish77",
        "closed_by": null,
        "created_at": "2023-03-22T03:09:23+00:00",
        "updated_at": "2023-04-12T03:20:02+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 955,
        "title": "使用x2paddle出错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n使用onnx转paddle模型出错。\r\n- 错误信息\r\n2023-03-22 16:00:48,433-INFO: Now translating model from onnx to paddle.\r\n2023-03-22 16:00:48,433-WARNING: __init__() missing 2 required positional arguments: 'input_shape_dict' and 'enable_onnx_checker'\r\n2023-03-22 16:00:48,433-ERROR: x2paddle threw an exception, you can ask for help at: https://github.com/PaddlePaddle/X2Paddle/issues\r\n- 错误截图\r\n",
        "state": "closed",
        "user": "liang-bowen",
        "closed_by": "luotao1",
        "created_at": "2023-03-22T08:07:00+00:00",
        "updated_at": "2024-07-29T13:25:46+00:00",
        "closed_at": "2024-07-29T13:25:46+00:00",
        "comments_count": [
            "wjj19950828"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 956,
        "title": "标题：tf1.14保存的pb模型转nb推理结果错误（模型输出为：(1,15,15,4)）",
        "body": "标题：tf1.14保存的pb模型转nb推理结果错误（模型输出为：(1,15,15,4)）\r\n版本、预测库信息：\r\n   1）Paddle Lite 版本：v2.10 x2paddle版本：1.3.7 tensorflow版本：1.14\r\n   2）Host 环境：Ubuntu 18.04\r\n   3）运行设备环境：高通730G\r\n   4）预测后端信息：CPU\r\n预测信息\r\n   1）预测 API：C++\r\n   2）预测选项信息：armv8、单线程\r\n   3）预测库来源：官网下载\r\n复现信息：参考下面代码\r\n问题描述：使用x2paddle将保存的pb文件转换为nb文件，使用转换过程中的静态图python代码推理结果与pb一致，但是使用nb在端侧推理，则结果不一致\r\n其它说明：\r\n模型转换命令：x2paddle --framework=tensorflow --model=test_1000.pb --save_dir=test_1000 --to_lite=True --lite_valid_places=arm --lite_model_type=naive_buffer\r\n模型文件，Python推理代码，c++推理代码在压缩文件中，其中：input3.npy是输入到模型的数据文件；output3.npy文件是pb推理的输出；model.pdparams导出的静态图；test_1000.pb导出的pb文件；opt.nb导出的nb文件；x2paddle_code.py静态图推理代码\r\n\r\n\r\n[code.zip](https://github.com/PaddlePaddle/X2Paddle/files/11046494/code.zip)\r\n",
        "state": "open",
        "user": "fengyanWang",
        "closed_by": null,
        "created_at": "2023-03-23T02:58:02+00:00",
        "updated_at": "2023-04-12T03:17:57+00:00",
        "closed_at": null,
        "comments_count": [
            "fengyanWang",
            "wjj19950828"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 961,
        "title": "torch转paddle出错raise ValueError(\"can't optimize a non-leaf Tensor\")",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n请提出你的问题 Please ask your question\r\n![image](https://user-images.githubusercontent.com/117170721/228771650-9fa3d2a4-88a3-4c1c-a756-14c6389d1f8d.png)\r\n\r\n使用x2paddle的新功能将pytorch模型转成paddle之后，报错 raise ValueError(\"can't optimize a non-leaf Tensor\")\r\n其中参数的叶子节点：\r\n![image](https://user-images.githubusercontent.com/117170721/228771705-6a9da943-c8f1-43f4-9aac-eea6be8e3e16.png)\r\n请问该怎么解决呢\r\n\r\n",
        "state": "open",
        "user": "linnnn1",
        "closed_by": null,
        "created_at": "2023-03-30T08:07:59+00:00",
        "updated_at": "2023-03-30T08:07:59+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 964,
        "title": "Converting node 447 ...     2023-04-14 19:27:37,037-WARNING: convert failed node:p2o_helper_squeeze_0, op_type is Squeeze",
        "body": "Paddle2ONNX的问题请在Paddle2ONNX的repo下提问\r\n\r\nRepo链接： [https://github.com/PaddlePaddle/Paddle2ONNX/issues](https://github.com/PaddlePaddle/Paddle2ONNX/issues)\r\n",
        "state": "open",
        "user": "lfreee",
        "closed_by": null,
        "created_at": "2023-04-14T11:30:40+00:00",
        "updated_at": "2023-04-14T11:30:40+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 957,
        "title": "from x2paddle import models报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- type object 'paddle.fluid.libpaddle.VarBase' has no attribute '__getitem__'\r\n- 错误截图\r\n![image](https://user-images.githubusercontent.com/22793745/227201275-4266ad0b-1ef5-4875-8703-0b7db1022b12.png)\r\n\r\n\r\n\r\n",
        "state": "closed",
        "user": "yhz5256",
        "closed_by": "luotao1",
        "created_at": "2023-03-23T12:17:50+00:00",
        "updated_at": "2024-07-29T13:25:21+00:00",
        "closed_at": "2024-07-29T13:25:21+00:00",
        "comments_count": [
            "wjj19950828"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 965,
        "title": "stdf模型从torch转到paddle预训练模型不转换",
        "body": "\r\n直接从torch转到paddle后，stdf的预训练模型ckp_290000.pt没有转化\r\n",
        "state": "open",
        "user": "linnnn1",
        "closed_by": null,
        "created_at": "2023-04-16T12:47:16+00:00",
        "updated_at": "2023-04-16T12:47:16+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 958,
        "title": "pytorch模型转paddle的过程中， 1 OPs are not supported yet",
        "body": "你好，我在使用x2paddle把stgcn的模型转成paddle的过程中报错，报错信息如下：\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== aten::einsum ============\r\nTraceback (most recent call last):\r\n  File \"stgcn2paddle.py\", line 32, in <module>\r\n    pytorch2paddle(module=model,save_dir=save_dir,jit_type=jit_type,input_examples=[data_tuple])\r\n  File \"/home/wzp/anaconda3/envs/x2paddle/lib/python3.8/site-packages/x2paddle/convert.py\", line 380, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"/home/wzp/anaconda3/envs/x2paddle/lib/python3.8/site-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 41, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n请问以后会支持吗",
        "state": "closed",
        "user": "pupubushilulu",
        "closed_by": "pupubushilulu",
        "created_at": "2023-03-27T06:35:12+00:00",
        "updated_at": "2023-03-27T06:42:15+00:00",
        "closed_at": "2023-03-27T06:40:55+00:00",
        "comments_count": [
            "pupubushilulu"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 959,
        "title": "pytorch模型转paddle的过程中， aten::einsum不支持",
        "body": "你好，我在使用x2paddle把stgcn的模型转成paddle的过程中报错，报错信息如下：\r\n\r\n/X2Paddle/STGCN/Models.py:56: UserWarning: __floordiv__ is deprecated, and its behavior will change in a future version of pytorch. It currently rounds toward 0 (like the 'trunc' function NOT 'floor'). This results in incorrect rounding for negative values. To keep the current behavior, use torch.div(a, b, rounding_mode='trunc'), or for actual floor division, use torch.div(a, b, rounding_mode='floor').\r\n  x = x.view(n, self.kernel_size, kc//self.kernel_size, t, v)\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== aten::einsum ============\r\nTraceback (most recent call last):\r\n  File \"stgcn2paddle.py\", line 32, in <module>\r\n    pytorch2paddle(module=model,save_dir=save_dir,jit_type=jit_type,input_examples=[data_tuple])\r\n  File \"/home/wzp/anaconda3/envs/x2paddle/lib/python3.8/site-packages/x2paddle/convert.py\", line 380, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"/home/wzp/anaconda3/envs/x2paddle/lib/python3.8/site-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 41, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n需要安装paddlenlp吗？已安装，还是有报错",
        "state": "open",
        "user": "pupubushilulu",
        "closed_by": null,
        "created_at": "2023-03-27T06:56:58+00:00",
        "updated_at": "2023-09-27T13:42:42+00:00",
        "closed_at": null,
        "comments_count": [
            "masteryi-0018"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 960,
        "title": "由onnx转换为paddle模型时报错，388-ERROR: x2paddle threw an exception",
        "body": "## 问题描述\r\n2023-03-28 19:29:10,388-ERROR: x2paddle threw an exception, you can ask for help at: https://github.com/PaddlePaddle/X2Paddle/issues\r\n## 具体信息\r\n2023-03-28 19:29:10,266-INFO: Now translating model from onnx to paddle.\r\nmodel ir_version: 7, op version: 12\r\nshape inferencing ...\r\nunsupported broadcast between 4 Reshape212_o0__d1\r\nStopping at incomplete shape inference at MatMul: x2paddle_attn\r\nnode inputs:\r\nname: \"x2paddle_onnx__MatMul_500\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 4\r\n      }\r\n      dim {\r\n        dim_value: 1600\r\n      }\r\n      dim {\r\n        dim_value: 32\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle_onnx__MatMul_501\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_param: \"Reshape212_o0__d1\"\r\n      }\r\n      dim {\r\n        dim_param: \"Reshape212_o0__d2\"\r\n      }\r\n      dim {\r\n        dim_param: \"Reshape212_o0__d0\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nnode outputs:\r\nname: \"x2paddle_attn\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n      }\r\n      dim {\r\n        dim_value: 1600\r\n      }\r\n      dim {\r\n        dim_param: \"Reshape212_o0__d0\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n!!!!!!!!!!\r\nshape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 12.\r\nTotal nodes: 389\r\nNodes converting ...\r\nConverting node 499 ...     2023-03-28 19:29:10,388-WARNING: convert failed node:onnx__Concat_550, op_type is Resize\r\n2023-03-28 19:29:10,388-ERROR: x2paddle threw an exception, you can ask for help at: https://github.com/PaddlePaddle/X2Paddle/issues\r\n- 转换模型后用处\r\n    进行模型压缩\r\n- 模型类型\r\n    目标检测\r\n- 模型来源\r\n    个人通过在yolov5加入CA注意力机制和深度可分离卷积ghostnet得到一个神经网络，用这个网络对个人标注的图像进行训练得到的模型\r\n- 版本信息\r\npaddlepaddle-gpu => 0.0.0.post116\r\nX2Paddle => 1.3.9\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => pytorch 1.12.1\r\n- 您的联系方式(邮箱/微信/电话)\r\n1716436594@qq.com\r\n- onnx模型\r\n链接：https://pan.baidu.com/s/16Pb2tktjrX8qVcj3Rnntfg \r\n提取码：lmlz",
        "state": "open",
        "user": "ojzhang",
        "closed_by": null,
        "created_at": "2023-03-28T11:47:16+00:00",
        "updated_at": "2023-04-14T13:59:02+00:00",
        "closed_at": null,
        "comments_count": [
            "wjj19950828",
            "xiyangyang99",
            "ojzhang",
            "ojzhang",
            "xiyangyang99",
            "ojzhang"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 966,
        "title": "onnx转paddle报错AssertionError: Couldn't find x2paddle_onnx_Squeeze_82_p0 in previous layers, the layers should be make by topological sort ",
        "body": "## 问题描述\r\n\r\nx2paddle 转换 onnx 模型，报错如题\r\n\r\n- 错误信息\r\n- AssertionError: Couldn't find x2paddle_onnx_Squeeze_82_p0 in previous layers, the layers should be make by topological sort \r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n\r\n- 模型来源\r\nonnx 链接：https://pan.baidu.com/s/1ItzRIN41SYh9UqlXPzuyLQ \r\n提取码：36a9 \r\n\r\n\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle-gpu => : 2.2.2\r\nX2Paddle => : 1.4.1\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :Pytorch\r\n- 您的联系方式(邮箱/微信/电话)\r\na53769@163.com",
        "state": "open",
        "user": "a53769",
        "closed_by": null,
        "created_at": "2023-04-17T07:28:14+00:00",
        "updated_at": "2023-05-08T05:40:26+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 967,
        "title": "x2paddle转换模型时出错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n使用一个torch模型直接跑时没有问题，使用x2paddle工具转换时却会报op类型错误，请帮忙看看什么原因\r\n- 错误信息\r\n- 错误截图\r\n![1c0679637ef2bc59c7d3c7c9174e769e](https://user-images.githubusercontent.com/31800336/232652544-b394d5cb-17fd-4794-8b63-5879d1182422.jpg)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [这个 ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nhttps://github.com/lllyasviel/ControlNet\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\n<img width=\"326\" alt=\"image\" src=\"https://user-images.githubusercontent.com/31800336/232653351-80b3bbfd-0e00-4c1b-a803-63cf7e1b31b7.png\">\r\n\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:1.12.1\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "zhiboniu",
        "closed_by": null,
        "created_at": "2023-04-18T02:21:59+00:00",
        "updated_at": "2023-04-18T02:21:59+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 968,
        "title": "转换openpose的手势关键点报错",
        "body": "模型来源： caffe\r\n模型说明： 手势关键点检测\r\n模型文件： https://github.com/CMU-Perceptual-Computing-Lab/openpose/tree/master/models/hand\r\n转换过程出错提示如下：\r\nINFO:root:paddle.__version__ = 2.4.2\r\nINFO:root:Now translating model from caffe to paddle.\r\nTotal nodes: 107\r\nNodes converting ...\r\nConverting node 107 ...\r\nNodes converted.\r\nINFO:root:Model optimizing ...\r\nINFO:root:Model optimized!\r\nExporting inference model from python code ('/home/cv/Documents/PaddleDetection/output_inference/hand_pose/x2paddle_code.py')...\r\n\r\nW0418 16:28:18.843400 15632 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.7, Runtime API Version: 11.7\r\nW0418 16:28:18.846251 15632 gpu_resources.cc:91] device: 0, cuDNN Version: 8.4.\r\nFail to generate inference model! Problem happend while export inference model from python code '/home/cv/Documents/PaddleDetection/output_inference/hand_pose/x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"/home/cv/.local/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/x2paddle/convert.py\", line 486, in main\r\n    disable_feedback=args.disable_feedback)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/x2paddle/convert.py\", line 248, in caffe2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/x2paddle/core/program.py\", line 303, in gen_model\r\n    raise e\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/x2paddle/core/program.py\", line 297, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/x2paddle/core/program.py\", line 583, in dygraph2static\r\n    osp.join(save_dir, \"inference_model/model\"))\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/jit.py\", line 649, in wrapper\r\n    func(layer, path, input_spec, **configs)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/base.py\", line 67, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/jit.py\", line 928, in save\r\n    inner_input_spec, with_hook=with_hook)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 580, in concrete_program_specify_input_spec\r\n    is_train=self._is_train_mode())\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 485, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 955, in __getitem__\r\n    self._caches[item_id] = self._build_once(item)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 944, in _build_once\r\n    **cache_key.kwargs)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/base.py\", line 67, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 895, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"/home/cv/.local/lib/python3.6/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 350, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nNameError: In transformed code:\r\n\r\n    File \"/home/cv/Documents/PaddleDetection/output_inference/hand_pose/x2paddle_code.py\", line 217, in forward\r\n                mrelu1_7_stage6_6 = self.relu45(mconv6_stage6)\r\n                mconv7_stage6 = self.conv51(mrelu1_7_stage6_6)\r\n                return Mconv7_stage6\r\n                ~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n\r\n        def main(image):\r\n\r\n\r\n    NameError: name 'Mconv7_stage6' is not defined",
        "state": "open",
        "user": "zhangeyu",
        "closed_by": null,
        "created_at": "2023-04-18T09:06:31+00:00",
        "updated_at": "2023-04-18T09:06:31+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 972,
        "title": "superpoint_v1 的onnx模型报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n-  x2paddle --framework=onnx --model=superpoint_v1_sim_int32.onnx  --save_dir=superpoint_v1_sim_int32\r\n/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/pkg_resources/__init__.py:121: DeprecationWarning: pkg_resources is deprecated as an API\r\n  warnings.warn(\"pkg_resources is deprecated as an API\", DeprecationWarning)\r\n/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('mpl_toolkits')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('google')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('zope')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\nINFO:root:paddle.__version__ = 0.0.0\r\nINFO:root:[WARNING] You are use develop version of paddlepaddle\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 8, op version: 12\r\nShape inferencing ...\r\n/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/decoder/onnx_shape_inference.py:510: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n  new_v = int(np.asscalar(v))\r\nShape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 12.\r\nTotal nodes: 87\r\nNodes converting ...\r\nConverting node 125 ...     \r\nNodes converted.\r\nINFO:root:Model optimizing ...\r\nINFO:root:Model optimized.\r\nExporting inference model from python code ('/home/kylin/paddle/2230/superpoint_v1_sim_int32/x2paddle_code.py')... \r\n\r\nW0508 10:45:36.800081  5514 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 6.1, Driver API Version: 11.2, Runtime API Version: 10.2\r\nW0508 10:45:36.803066  5514 gpu_resources.cc:91] device: 0, cuDNN Version: 8.2.\r\nFail to generate inference model! Problem happend while export inference model from python code '/home/kylin/paddle/2230/superpoint_v1_sim_int32/x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"/home/kylin/.conda/envs/paddle_py37/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.2.3', 'console_scripts', 'x2paddle')())\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/convert.py\", line 497, in main\r\n    enable_onnx_checker=args.enable_onnx_checker)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/convert.py\", line 311, in onnx2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/core/program.py\", line 303, in gen_model\r\n    raise e\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/core/program.py\", line 297, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/core/program.py\", line 583, in dygraph2static\r\n    osp.join(save_dir, \"inference_model/model\"))\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/dygraph/jit.py\", line 649, in wrapper\r\n    func(layer, path, input_spec, **configs)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 67, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/dygraph/jit.py\", line 928, in save\r\n    inner_input_spec, with_hook=with_hook)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 580, in concrete_program_specify_input_spec\r\n    is_train=self._is_train_mode())\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 485, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[cache_key]\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 955, in __getitem__\r\n    self._caches[item_id] = self._build_once(item)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 944, in _build_once\r\n    **cache_key.kwargs)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/dygraph/base.py\", line 67, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/program_translator.py\", line 895, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/fluid/dygraph/dygraph_to_static/error.py\", line 350, in raise_new_exception\r\n    six.exec_(\"raise new_exception from None\")\r\n  File \"<string>\", line 1, in <module>\r\nTypeError: In transformed code:\r\n\r\n    File \"superpoint_v1_sim_int32/x2paddle_code.py\", line 99, in forward\r\n        x2paddle_79 = paddle.reshape(x=x2paddle_57, shape=[1])\r\n        x2paddle_68 = paddle.reshape(x=x2paddle_60, shape=[1])\r\n        x2paddle_76 = paddle.multiply(x=x2paddle_60, y=x2paddle_75)\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x2paddle_69 = paddle.reshape(x=x2paddle_63, shape=[1])\r\n        x2paddle_78 = paddle.multiply(x=x2paddle_63, y=x2paddle_77)\r\n\r\n    File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/paddle/tensor/math.py\", line 882, in multiply\r\n\t% (x.dtype, y.dtype))\r\n\r\n    TypeError: Input tensors must be same type, but received type of x: paddle.int64, type of y: paddle.int32 \r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n\r\n- 版本信息\r\nPaddlePaddle => :2.4\r\nX2Paddle => 1.4.1\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :onnx\r\n- 您的联系方式(邮箱/微信/电话)\r\n338.cool@163.com",
        "state": "open",
        "user": "xman1991",
        "closed_by": null,
        "created_at": "2023-05-08T03:27:56+00:00",
        "updated_at": "2023-05-08T03:27:56+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 973,
        "title": "Error while convert tf2 model to paddle",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n训练模型用的tensorflow 2.9, 利用x2paddle转的时候报错。\r\n- 错误信息\r\n- INFO:root:[ERROR] 1.0.0<=TensorFlow<2.0.0 is required, and v1.14.0 is recommended\r\n\r\n\r\n",
        "state": "open",
        "user": "Jason-wwww",
        "closed_by": null,
        "created_at": "2023-05-17T08:37:34+00:00",
        "updated_at": "2023-05-17T08:37:34+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 974,
        "title": "torch.nn.init.xavier_uniform_映射错误",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n在mapper.py文件中关于torch.nn.init的配置是否存在错误？感觉像是映射反了，uniform映射成了normal，normal映射成了uniform。\r\n\r\nhttps://github.com/PaddlePaddle/X2Paddle/blob/HEAD/x2paddle/project_convertor/pytorch/mapper.py#L127-L130\r\n\r\n```python\r\n    \"torch.nn.init.xavier_uniform_\":\r\n    [\"x2paddle.torch2paddle.xavier_normal_\", None],\r\n    \"torch.nn.init.xavier_normal_\":\r\n    [\"x2paddle.torch2paddle.xavier_uniform_\", None],\r\n```\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "starplanet",
        "closed_by": null,
        "created_at": "2023-05-18T07:47:20+00:00",
        "updated_at": "2023-05-18T07:48:12+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 969,
        "title": "用x2paddle转换onnx模型报错",
        "body": "x2paddle  --framework onnx  --model  OSTrack_sim.onnx  --save_dir  pd_model\r\n/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/pkg_resources/__init__.py:121: DeprecationWarning: pkg_resources is deprecated as an API\r\n  warnings.warn(\"pkg_resources is deprecated as an API\", DeprecationWarning)\r\n/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('mpl_toolkits')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('google')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/pkg_resources/__init__.py:2870: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('zope')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\nINFO:root:paddle.__version__ = 0.0.0\r\nINFO:root:[WARNING] You are use develop version of paddlepaddle\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nShape inferencing ...\r\n/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/decoder/onnx_shape_inference.py:76: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n  return np.asscalar(x)\r\nShape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 11.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== ScatterElements ============\r\nTraceback (most recent call last):\r\n  File \"/home/kylin/.conda/envs/paddle_py37/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.2.3', 'console_scripts', 'x2paddle')())\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/convert.py\", line 497, in main\r\n    enable_onnx_checker=args.enable_onnx_checker)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 38, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\nsoftware: kylin v10、cuda-10.2、cudnn-8.2.1、x2paddle-1.4.1、paddle源码编译release/2.4分支\r\nhardware:phytium d2000、gtx1060",
        "state": "open",
        "user": "xman1991",
        "closed_by": null,
        "created_at": "2023-04-21T02:35:50+00:00",
        "updated_at": "2023-04-21T02:36:18+00:00",
        "closed_at": null,
        "comments_count": [
            "xman1991"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 970,
        "title": "x2paddle  转换onnx模型报错",
        "body": "### bug描述 Describe the Bug\n\n========= 1 OPs are not supported yet ===========\r\n========== ScatterElements ============\r\nTraceback (most recent call last):\r\n  File \"/home/kylin/.conda/envs/paddle_py37/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/convert.py\", line 497, in main\r\n    enable_onnx_checker=args.enable_onnx_checker)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/home/kylin/.conda/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 38, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\n\n### 其他补充信息 Additional Supplementary Information\n\nsoftware: kylin v10、cuda-10.2 、cudnn-8.2.1、paddle2.4源码编译；\r\nhardware:phytium d2000、gtx1060",
        "state": "open",
        "user": "xman1991",
        "closed_by": null,
        "created_at": "2023-04-21T02:11:38+00:00",
        "updated_at": "2023-05-08T02:20:18+00:00",
        "closed_at": null,
        "comments_count": [
            "xman1991",
            "wjj19950828",
            "xman1991",
            "xman1991",
            "xman1991"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 975,
        "title": "Errors occured when transfering Meta's SAM model to paddleseg's .pdiparams(在我试图将meta的segment anything转化为paddleseg固定流图时出现了错误)",
        "body": "I've tried 2 ways to obtain a .pdiparams for C++ inferring:\r\n(我想要一个sam模型的静态模型,所以我先试了直接找paddle的export.py，但是没有这个文件，加代码我也没跑通，   \r\n net = to_static(model,\r\n                    input_spec=[InputSpec（这里要填什么东西啊求助）, name='batched_input'),\r\n                    InputSpec(shape[None, 1], dtype=paddle.bool, name='multimaskk_output') ])这第一个batched_input的Inputspec该怎么填啊（我有点菜））\r\n1, Export from .pdparams.　\r\nHowever, export.py is missing from project, and in the guide I find this maybe helpful:\r\n```\r\n    model = LeNet() #here I need to change to sam right?\r\n    # prepare optimizer\r\n    optim = paddle.optimizer.Adam(learning_rate=0.001,\r\n                                  parameters=model.parameters())\r\n\r\n    # train network\r\n    train(model, optim)\r\n\r\n    # save training format model\r\n    paddle.save(model.state_dict(), 'lenet.pdparams')\r\n    paddle.save(optim.state_dict(), \"lenet.pdopt\")\r\n\r\n    # load training format model\r\n    model_state_dict = paddle.load('lenet.pdparams')\r\n    opt_state_dict = paddle.load('lenet.pdopt')\r\n    model.set_state_dict(model_state_dict)\r\n    optim.set_state_dict(opt_state_dict)\r\n\r\n    # save inferencing format model\r\n    net = to_static(model,\r\n                    input_spec=[InputSpec(shape=[None, 1, 28, 28], name='x')])\r\n    paddle.jit.save(net, 'inference_model/lenet')\r\n```\r\n I could not find sam()'s proper input parameters. So I give up.\r\n（然后我试了用meta的sam模型来转，先用opset＝１７转的onnx，但是在x2paddle时说不支持且报错，换成opset=15转，转好了，在转paddle时又爆了以下的错误：）\r\n2,trasfer form META's SAM\r\nI first transfer sam_vit_h.pth into sam.onnx with opset=17 by default, then I got the error the paddle only support [7-15], and LayerNormalization is not suppported.\r\nSo I tried to transfer sam_vit_h.pth into sam.onnx with opset=15 and I achieved it. However, another error occurred:\r\n```shell\r\nx2paddle --framework onnx --model vit_h.onnx --save_dir ppsam\r\nINFO:root:paddle.__version__ = 2.4.2\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 8, op version: 15\r\nShape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nShape inferenced.\r\n/home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:89: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in a future release.To silence this warning, please use `helper.tensor_dtype_to_np_dtype` instead.\r\n  dtype = np.dtype(TENSOR_TYPE_TO_NP_TYPE[attr.t.data_type])\r\n/home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:369: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in a future release.To silence this warning, please use `helper.tensor_dtype_to_np_dtype` instead.\r\n  TENSOR_TYPE_TO_NP_TYPE[item.type.tensor_type.elem_type],\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 15.\r\nTotal nodes: 869\r\nNodes converting ...\r\nConverting node 1 ...     /home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:169: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in a future release.To silence this warning, please use `helper.tensor_dtype_to_np_dtype` instead.\r\n  return TENSOR_TYPE_TO_NP_TYPE[dtype]\r\nConverting node 7 ...     /home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:172: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in a future release.To silence this warning, please use `helper.tensor_dtype_to_np_dtype` instead.\r\n  return TENSOR_TYPE_TO_NP_TYPE[dtype]\r\nConverting node 506 ...     /home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py:1511: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in a future release.To silence this warning, please use `helper.tensor_dtype_to_np_dtype` instead.\r\n  dtype = TENSOR_TYPE_TO_NP_TYPE[dtype]\r\nConverting node 1230 ...     Traceback (most recent call last):\r\n  File \"/home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 110, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"/home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 2393, in ConvTranspose\r\n    val_x.out_shapes[0][2] - 1\r\nIndexError: list index out of range\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/user/Documents/anaconda3/envs/paddle/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.4.1', 'console_scripts', 'x2paddle')())\r\n  File \"/home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/convert.py\", line 489, in main\r\n    onnx2paddle(\r\n  File \"/home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 52, in __init__\r\n    func(node)\r\n  File \"/home/user/Documents/anaconda3/envs/paddle/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/opset_legacy.py\", line 112, in run_mapping\r\n    raise Exception(\"convert failed node:{}, op_type is {}\".format(\r\nException: convert failed node:_output_upscaling_output_upscaling_0_ConvTranspose_output_0, op_type is ConvTranspose\r\n```\r\nAnyone is so kind to help me?跪求大佬帮忙看看\r\n\r\n ",
        "state": "open",
        "user": "littlecay",
        "closed_by": null,
        "created_at": "2023-05-18T08:24:37+00:00",
        "updated_at": "2023-05-19T11:11:57+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 971,
        "title": "用x2paddle将pytorch 的权重参数文件转换为paddle下的权重参数文件时，权重参数文件中的网路层的名字被强制更改",
        "body": "\r\n\r\n## 问题描述\r\n\r\n- 用x2paddle将pytorch 的权重参数文件转换为paddle下的权重参数文件时，权重参数文件中的网路层的名字被强制更改。\r\n- 错误截图\r\n\r\n1、pytorch下网络结构的定义为：\r\n \r\n![image](https://user-images.githubusercontent.com/23690325/235216366-2b13c3d4-2abe-4211-b774-53aa872c40a3.png)\r\n\r\n共六层，分别为conv1至cnv6\r\n2、使用x2paddle命令，转换为paddle下的权重文件\r\nx2paddle --framework=onnx --model=onnx_model.onnx --save_dir=pd_model\r\n3、使用paddle.load()函数，加载转换后的model.pdparams\r\n报错 \r\n![image](https://user-images.githubusercontent.com/23690325/235216391-7dc36af5-adcf-41c7-95cc-6a82fd9c9df6.png)\r\n\r\n4、调试发现，model.pdparams的键值为conv0至conv5\r\n![image](https://user-images.githubusercontent.com/23690325/235216421-89f70134-c9c5-41a5-b453-22786fda4715.png)\r\n \r\n原本定义好的各个网络层名字被强制更改。导致键值不匹配。\r\n\r\n## 具体信息\r\n\r\n- 模型来源\r\n![image](https://user-images.githubusercontent.com/23690325/235216294-db4cb9b2-dd0b-44cc-a5e2-2f52d3ce5f2d.png)\r\n\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n\r\n另外：paddle的模型，张量如何开启半精度模式？\r\n即pytorch里面的model.half()、tensor.half()\r\n\r\n\r\n\r\n\r\n\r\n",
        "state": "open",
        "user": "D-DanielYang",
        "closed_by": null,
        "created_at": "2023-04-28T17:41:07+00:00",
        "updated_at": "2023-05-05T02:05:42+00:00",
        "closed_at": null,
        "comments_count": [
            "jiangjiajun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 979,
        "title": "用X2Paddle转化loftr权重outdoor_ds.ckpt的时候遇到了警告信息，没有报错，但是结果也没有生成",
        "body": "环境：\r\n1.paddlepaddle-gpu  2.2.2.post101     paddle2onnx 1.0.6    x2paddle 1.4.1    onnx  1.14.0  torch  2.0.0\r\n2.Windows10\r\n3.Python 3.10.6\r\n4.CUDA 11.6 CUDNN 8.2\r\n\r\n- 转换模型后用处\r\n使用 Paddle 框架/ PaddleInference 推理预测\r\n\r\n模型来源：\r\nhttps://github.com/zju3dv/LoFTR\r\n\r\n- 应用场景\r\n用于PC端业务下的检测业务\r\n\r\n下面是模型转化的时候遇到的问题：\r\n\r\nG:\\Github\\loftr\\src\\loftr\\loftr.py:55: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nif data['hw0_i'] == data['hw1_i']: # faster & better BN convergence\r\nG:\\Github\\loftr\\src\\loftr\\loftr_module\\transformer.py:89: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nassert self.d_model == feat0.size(2), \"the feature number of src and transformer must be equal\"\r\nF:\\Anaconda3\\envs\\paddle\\lib\\site-packages\\opt_einsum\\contract.py:231: TracerWarning: Converting a tensor to a Python integer might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\ndim = int(sh[cnum])\r\nF:\\Anaconda3\\envs\\paddle\\lib\\site-packages\\opt_einsum\\parser.py:155: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nmax(shape[loc] for shape, loc in zip(shapes, [x.find(c) for x in inputs]) if loc >= 0) for c in output)\r\nF:\\Anaconda3\\envs\\paddle\\lib\\site-packages\\einops\\einops.py:316: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nknown: Set[str] = {axis for axis in composite_axis if axis_name2known_length[axis] != _unknown_axis_length}\r\nF:\\Anaconda3\\envs\\paddle\\lib\\site-packages\\einops\\einops.py:317: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nunknown: Set[str] = {axis for axis in composite_axis if axis_name2known_length[axis] == _unknown_axis_length}\r\nG:\\Github\\loftr\\src\\loftr\\loftr_module\\fine_preprocess.py:35: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nif data['b_ids'].shape[0] == 0:\r\nG:\\Github\\loftr\\src\\loftr\\loftr.py:81: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nif feat_f0_unfold.size(0) != 0: # at least one coarse level predicted\r\nG:\\Github\\loftr\\src\\loftr\\utils\\fine_matching.py:28: TracerWarning: Converting a tensor to a Python float might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nW = int(math.sqrt(WW))\r\nG:\\Github\\loftr\\src\\loftr\\utils\\fine_matching.py:33: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nif M == 0:\r\nG:\\Github\\loftr\\src\\loftr\\utils\\fine_matching.py:66: TracerWarning: Using len to get tensor shape might cause the trace to be incorrect. Recommended usage would be tensor.shape[0]. Passing a tensor of different shape might lead to errors or silently give incorrect results.\r\nmkpts1_f = data['mkpts1_c'] + (coords_normed * (W // 2) * scale1)[:len(data['mconf'])]\r\nThe traced function didn't return any values! Side-effects are not captured in traces, so it would be a no-op.\r\n\r\n联系方式：cswei1874@163.com",
        "state": "open",
        "user": "sanersbug",
        "closed_by": null,
        "created_at": "2023-05-29T15:26:30+00:00",
        "updated_at": "2023-05-29T15:26:30+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 980,
        "title": "用X2Paddle转化loftr权重outdoor_ds.ckpt的时候遇到了警告信息，没有报错，但是结果也没有生成",
        "body": "环境：\r\n1.paddlepaddle-gpu  2.2.2.post101     paddle2onnx 1.0.6    x2paddle 1.4.1    onnx  1.14.0  torch  2.0.0\r\n2.Windows10\r\n3.Python 3.10.6\r\n4.CUDA 11.6 CUDNN 8.2\r\n\r\n- 转换模型后用处\r\n使用 Paddle 框架/ PaddleInference 推理预测\r\n\r\n模型来源：\r\nhttps://github.com/zju3dv/LoFTR\r\n\r\n- 应用场景\r\n用于PC端业务下的检测业务\r\n\r\n下面是模型转化的时候遇到的问题：\r\n\r\nG:\\Github\\loftr\\src\\loftr\\loftr.py:55: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nif data['hw0_i'] == data['hw1_i']: # faster & better BN convergence\r\nG:\\Github\\loftr\\src\\loftr\\loftr_module\\transformer.py:89: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nassert self.d_model == feat0.size(2), \"the feature number of src and transformer must be equal\"\r\nF:\\Anaconda3\\envs\\paddle\\lib\\site-packages\\opt_einsum\\contract.py:231: TracerWarning: Converting a tensor to a Python integer might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\ndim = int(sh[cnum])\r\nF:\\Anaconda3\\envs\\paddle\\lib\\site-packages\\opt_einsum\\parser.py:155: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nmax(shape[loc] for shape, loc in zip(shapes, [x.find(c) for x in inputs]) if loc >= 0) for c in output)\r\nF:\\Anaconda3\\envs\\paddle\\lib\\site-packages\\einops\\einops.py:316: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nknown: Set[str] = {axis for axis in composite_axis if axis_name2known_length[axis] != _unknown_axis_length}\r\nF:\\Anaconda3\\envs\\paddle\\lib\\site-packages\\einops\\einops.py:317: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nunknown: Set[str] = {axis for axis in composite_axis if axis_name2known_length[axis] == _unknown_axis_length}\r\nG:\\Github\\loftr\\src\\loftr\\loftr_module\\fine_preprocess.py:35: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nif data['b_ids'].shape[0] == 0:\r\nG:\\Github\\loftr\\src\\loftr\\loftr.py:81: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nif feat_f0_unfold.size(0) != 0: # at least one coarse level predicted\r\nG:\\Github\\loftr\\src\\loftr\\utils\\fine_matching.py:28: TracerWarning: Converting a tensor to a Python float might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nW = int(math.sqrt(WW))\r\nG:\\Github\\loftr\\src\\loftr\\utils\\fine_matching.py:33: TracerWarning: Converting a tensor to a Python boolean might cause the trace to be incorrect. We can't record the data flow of Python values, so this value will be treated as a constant in the future. This means that the trace might not generalize to other inputs!\r\nif M == 0:\r\nG:\\Github\\loftr\\src\\loftr\\utils\\fine_matching.py:66: TracerWarning: Using len to get tensor shape might cause the trace to be incorrect. Recommended usage would be tensor.shape[0]. Passing a tensor of different shape might lead to errors or silently give incorrect results.\r\nmkpts1_f = data['mkpts1_c'] + (coords_normed * (W // 2) * scale1)[:len(data['mconf'])]\r\nThe traced function didn't return any values! Side-effects are not captured in traces, so it would be a no-op.\r\n\r\n联系方式：cswei1874@163.com",
        "state": "open",
        "user": "sanersbug",
        "closed_by": null,
        "created_at": "2023-05-29T15:27:09+00:00",
        "updated_at": "2023-05-29T15:27:09+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 983,
        "title": "调用pytorch2paddle函数找不到转换后的模型",
        "body": "调用pytorch2paddle函数在pd_model_trace文件夹中找不到转换后的模型\r\n代码如下：\r\n```\r\nimport torch\r\nimport numpy as np\r\nfrom torchvision.models import AlexNet\r\nfrom torch.hub import load_state_dict_from_url\r\n\r\ninput_data = np.random.rand(1, 3, 224, 224).astype(\"float32\")\r\n\r\ntorch_module = AlexNet()\r\ntorch_state_dict = load_state_dict_from_url('https://download.pytorch.org/models/alexnet-owt-4df8aa71.pth')\r\ntorch_module.load_state_dict(torch_state_dict)\r\n\r\ntorch_module.eval()\r\n\r\nfrom x2paddle.convert import pytorch2paddle\r\npytorch2paddle(torch_module, \"pd_model_trace\", jit_type=\"trace\", input_examples=[torch.tensor(input_data)], enable_code_optim=False, convert_to_lite=False, lite_valid_places=\"arm\", lite_model_type=\"naive_buffer\")\r\n```\r\n\r\n\r\n我的安装环境：\r\nx2paddle 1.4.1\r\npaddlelite                    2.13rc0\r\npaddlepaddle                  2.5.0rc1\r\n\r\n",
        "state": "open",
        "user": "hajungong007",
        "closed_by": null,
        "created_at": "2023-06-15T08:23:17+00:00",
        "updated_at": "2023-06-15T08:24:20+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 982,
        "title": "pytorch 转 paddle nn.linear bias=False 转换后代码提示 add 不能为 None",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\npytorch nn.linear bias 设置为 False 时，被转换为 None，转换后代码 paddle.add 提示不能为 None，如下图\r\n<img width=\"1433\" alt=\"image\" src=\"https://github.com/PaddlePaddle/X2Paddle/assets/24861234/57689122-dd03-4df0-a434-c731c283e0ba\">\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n\r\n- 模型来源\r\nmobile-vit: https://github.com/chinhsuanwu/mobilevit-pytorch\r\n- 应用场景\r\n用于移动端业务下的分割业务\r\n- 版本信息\r\nPaddlePaddle => 2.3.0\r\nX2Paddle => 1.4.0\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => 1.12.0\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "sunjian2015",
        "closed_by": null,
        "created_at": "2023-06-09T06:36:07+00:00",
        "updated_at": "2023-06-09T06:36:18+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 987,
        "title": "dino",
        "body": "`/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/setuptools/depends.py:2: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses\r\n  import imp\r\nINFO:root:paddle.__version__ = 2.4.0\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/onnx/mapping.py:25: DeprecationWarning: `np.object` is a deprecated alias for the builtin `object`. To silence this warning, use `object` by itself. Doing this will not modify any behavior and is safe. \r\nDeprecated in NumPy 1.20; for more details and guidance: https://numpy.org/devdocs/release/1.20.0-notes.html#deprecations\r\n  int(TensorProto.STRING): np.dtype(np.object)\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 10\r\nShape inferencing ...\r\n/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle-1.4.1-py3.7.egg/x2paddle/decoder/onnx_shape_inference.py:510: DeprecationWarning: np.asscalar(a) is deprecated since NumPy v1.16, use a.item() instead\r\n  new_v = int(np.asscalar(v))\r\nShape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 10.\r\nTotal nodes: 799\r\nNodes converting ...\r\nConverting node 1166 ...     \r\nNodes converted.\r\nINFO:root:Model optimizing ...\r\nTraceback (most recent call last):\r\n  File \"/opt/conda/envs/python35-paddle120-env/bin/x2paddle\", line 11, in <module>\r\n    load_entry_point('x2paddle==1.4.1', 'console_scripts', 'x2paddle')()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle-1.4.1-py3.7.egg/x2paddle/convert.py\", line 497, in main\r\n    enable_onnx_checker=args.enable_onnx_checker)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle-1.4.1-py3.7.egg/x2paddle/convert.py\", line 309, in onnx2paddle\r\n    graph_opt.optimize(mapper.paddle_graph)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle-1.4.1-py3.7.egg/x2paddle/optimizer/optimizer.py\", line 59, in optimize\r\n    pass_.apply(graph)\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle-1.4.1-py3.7.egg/x2paddle/optimizer/fusion/onnx_layernorm_fuse_pass.py\", line 29, in apply\r\n    fuser.operate(graph, match_kind=\"edge\")\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle-1.4.1-py3.7.egg/x2paddle/optimizer/pattern_matcher.py\", line 341, in operate\r\n    graph.build()\r\n  File \"/opt/conda/envs/python35-paddle120-env/lib/python3.7/site-packages/x2paddle-1.4.1-py3.7.egg/x2paddle/core/program.py\", line 180, in build\r\n    v)\r\nAssertionError: Couldn't find x2paddle_184 in previous layers, the layers should be make by topological sort`\r\n\r\ndino 模型转化\r\n\r\n",
        "state": "open",
        "user": "tangpanyu",
        "closed_by": null,
        "created_at": "2023-08-03T08:09:39+00:00",
        "updated_at": "2023-08-03T08:09:39+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 985,
        "title": "pytorch转paddle和 onnx转paddle  都失败了",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n想把一个多模态情感分析模型转为paddlepaddle  试了先转onnx和直接转    发现都不支持  请问还有其他方法么\r\n- 错误信息onnx转paddle\r\n- ========= 2 OPs are not supported yet ===========\r\n========== If ============\r\n========== ScatterElements ============\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\lib\\runpy.py\", line 196, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\lib\\runpy.py\", line 86, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\lib\\site-packages\\x2paddle\\convert.py\", line 489, in main\r\n    onnx2paddle(\r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\lib\\site-packages\\x2paddle\\convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\onnx_op_mapper.py\", line 38, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n\r\npytorch转paddle\r\n\r\n========= 5 OPs are not supported yet ===========\r\n========== aten::scatter_ ============\r\n========== aten::sort ============\r\n========== aten::empty_like ============\r\n========== aten::_pack_padded_sequence ============\r\n========== aten::numel ============\r\n  0%|          | 0/1 [00:01<?, ?it/s]\r\nTraceback (most recent call last):\r\n  File \"D:\\MMSA-master\\test.py\", line 7, in <module>\r\n    MMSA_run('self_mm', 'mosi', config_file='./config_regression.json', seeds=[1111]) \r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\lib\\site-packages\\MMSA\\run.py\", line 224, in MMSA_run\r\n    result = _run(args, num_workers, is_tune)\r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\lib\\site-packages\\MMSA\\run.py\", line 285, in _run\r\n    results = trainer.do_test(model, dataloader['test'], mode=\"TEST\")\r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\lib\\site-packages\\MMSA\\trains\\multiTask\\SELF_MM.py\", line 293, in do_test\r\n    pytorch2paddle(module=model,\r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\lib\\site-packages\\x2paddle\\convert.py\", line 380, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"D:\\anaconda3\\envs\\mmsa3.10\\lib\\site-packages\\x2paddle\\op_mapper\\pytorch2paddle\\pytorch_op_mapper.py\", line 41, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - 使用 Paddle 框架/ PaddleInference 推理预测\r\n    \r\n- 模型来源\r\nselfmm：https://github.com/thuiar/Self-MM\r\n- 应用场景\r\n多模态情感分析\r\n- 版本信息\r\nPaddlePaddle => paddlepaddle-gpu             2.3.0\r\nX2Paddle =>    x2paddle                     1.4.1\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :onnx                         1.14.0\r\n                                                                      torch                        1.12.1+cu116\r\n- 您的联系方式(邮箱/微信/电话)    \r\n",
        "state": "closed",
        "user": "AIzld",
        "closed_by": "AIzld",
        "created_at": "2023-07-18T13:16:40+00:00",
        "updated_at": "2023-07-24T11:20:52+00:00",
        "closed_at": "2023-07-24T11:20:52+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 981,
        "title": " ========= 1 OPs are not supported yet =========== ========== aten::topk ============，topk不支持，在pytorch转paddle时",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "1053399472",
        "closed_by": null,
        "created_at": "2023-06-06T08:45:39+00:00",
        "updated_at": "2024-07-29T13:20:45+00:00",
        "closed_at": null,
        "comments_count": [
            "ZSharp7",
            "ZSharp7",
            "luotao1"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 986,
        "title": "AssertionError: Couldn't find x2paddle_1749_p1 in previous layers, the layers should be make by topological sort",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\nonnx转paddlepaddle \r\n- 错误信息\r\n- 错误截图\r\n<img width=\"1237\" alt=\"微信图片_20230724192303\" src=\"https://github.com/PaddlePaddle/X2Paddle/assets/135851071/6dbb581c-3889-40ea-87f7-98692521de2e\">\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    \r\n\r\n- 应用场景\r\n多模态情感分析\r\n- 版本信息\r\nPaddlePaddle => 2.3.0\r\nX2Paddle => 1.4.1\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => onnx\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "AIzld",
        "closed_by": null,
        "created_at": "2023-07-24T11:26:11+00:00",
        "updated_at": "2023-07-24T11:32:31+00:00",
        "closed_at": null,
        "comments_count": [
            "AIzld"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 984,
        "title": "没有hardwish算子？",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n我在转化一个追踪前置网络的时候，将.onnx模型转为paddle，出现错误\r\n\r\n- 错误信息\r\n- 错误截图\r\n![Uploading image.png…]()\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [√] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\n(https://github.com/HonglinChu/SiamTrackers/tree/master/NanoTrack/models/nanotrackv3)\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:2.4.2\r\nX2Paddle => :grey_question:1.4.1\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "Coder-TieHH",
        "closed_by": null,
        "created_at": "2023-06-17T11:43:01+00:00",
        "updated_at": "2023-06-17T11:44:09+00:00",
        "closed_at": null,
        "comments_count": [
            "Coder-TieHH"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 988,
        "title": "AssertionError: only Conv2D and Conv3D is supported;  raise Exception(\"convert failed node:{}, op_type is {}\".format( Exception: convert failed node:onnx__Transpose_597, op_type is Conv",
        "body": "## 问题描述\r\n使用openmmlab中的mmsegmentation得到了deeplabV3Plus模型用于语义分割，并使用mmdeploy将模型转化为.onnx文件；接着使用X2Paddle将.onnx转化为paddle模型（x2paddle --framework=onnx --model=end2end.onnx --save_dir=pd_model）出现错误： AssertionError: only Conv2D and Conv3D is supported;   raise Exception(\"convert failed node:{}, op_type is {}\".format( Exception: convert failed node:onnx__Transpose_597, op_type is Conv\r\n\r\n- 错误信息\r\nC:\\Users\\Mr.dream007\\Documents\\anaconda3\\envs\\paddle_env\\python.exe D:/learning_code/paddlepaddle/Paddle-Lite/X2paddle_Lite.py\r\nmodel ir_version: 6, op version: 11\r\nShape inferencing ...\r\nShape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 11.\r\nTotal nodes: 112\r\nNodes converting ...\r\nConverting node 199 ...     Traceback (most recent call last):\r\n  File \"C:\\Users\\Mr.dream007\\Documents\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 110, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"C:\\Users\\Mr.dream007\\Documents\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 2236, in Conv\r\n    assert 2 <= convnd <= 3, 'only Conv2D and Conv3D is supported'\r\nAssertionError: only Conv2D and Conv3D is supported\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:/learning_code/paddlepaddle/Paddle-Lite/X2paddle_Lite.py\", line 3, in <module>\r\n    onnx2paddle(model_path=\"end2end.onnx\", save_dir=\"xwd_paddle_lite\", convert_to_lite=True, lite_valid_places=\"arm\", lite_model_type=\"naive_buffer\")\r\n  File \"C:\\Users\\Mr.dream007\\Documents\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\x2paddle\\convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"C:\\Users\\Mr.dream007\\Documents\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\onnx_op_mapper.py\", line 52, in __init__\r\n    func(node)\r\n  File \"C:\\Users\\Mr.dream007\\Documents\\anaconda3\\envs\\paddle_env\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 112, in run_mapping\r\n    raise Exception(\"convert failed node:{}, op_type is {}\".format(\r\nException: convert failed node:onnx__Transpose_597, op_type is Conv\r\n- 错误截图\r\n![Snipaste_2023-08-17_21-35-16](https://github.com/PaddlePaddle/X2Paddle/assets/139958069/f3529584-6cc1-4cf3-b34e-9eab9e7b5877)\r\n\r\n## 具体信息\r\n- 转换模型后用处\r\n    使用 Paddle 框架/ PaddleInference 推理预测\r\n    使用 Paddle-Lite 做移动端推理\r\n\r\n- 模型来源\r\nhttps://github.com/open-mmlab/mmsegmentation/blob/main/configs/mobilenet_v2/mobilenet-v2-d8_deeplabv3plus_4xb4-160k_ade20k-512x512.py\r\n- 应用场景\r\n尝试部署在安卓手机端或Jetson ORIN Nano上用于语义分割\r\n- 版本信息\r\nPaddlePaddle => 2.5.1.post112\r\nX2Paddle => 1.4.1\r\npaddlelite =>  2.13rc0\r\nONNX => 1.14.0\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => PyTorch 1.12.1\r\n- 您的联系方式(邮箱/微信/电话)\r\n- w.d.xu@zju.edu.cn\r\n\r\n-onnx文件百度网盘地址：\r\n链接：https://pan.baidu.com/s/1w6t6gYMNbyxJP9GWJPsf5w?pwd=abbb \r\n提取码：abbb\r\n",
        "state": "open",
        "user": "Xdream007",
        "closed_by": null,
        "created_at": "2023-08-17T13:51:59+00:00",
        "updated_at": "2023-08-17T13:51:59+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 989,
        "title": "命令行参数解析写的不对，导致无法关闭 enable_onnx_checker",
        "body": "https://github.com/PaddlePaddle/X2Paddle/blob/d823b87f186abee4a2c76565346d60580550c7e9/x2paddle/convert.py#L105-L109\r\n\r\n此处 enable_onnx_checker 没有指定类型，在命令行中传入时，默认是 str 类型，即使设置 --enable_onnx_check=False, 最后得到的参数值不是 bool 类型的 False，而是字符串类型的 'False'，在进行 if 判断时会进入执行 check 的分支：\r\n\r\nhttps://github.com/PaddlePaddle/X2Paddle/blob/d823b87f186abee4a2c76565346d60580550c7e9/x2paddle/decoder/onnx_decoder.py#L404-L405\r\n\r\n其余一些类似的参数也有类似的问题，但有些为默认 False 所以不会出现上述问题",
        "state": "open",
        "user": "Zeco-01",
        "closed_by": null,
        "created_at": "2023-08-23T02:52:52+00:00",
        "updated_at": "2023-08-23T02:52:52+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 992,
        "title": "The model conversion from ONNX to X2paddle failed on a VGG model (trained on MNIST)",
        "body": "\r\n## Description\r\n\r\nWhen I'm trying to convert an onnx model (which is constructed by myself, trained on MNIST dataset and using VGG architecture), the conversion of  X2paddle throws a value as follows:\r\n\r\n```\r\nIn transformed code:\r\n\r\n    File \"./result_m_v-7/paddle_model/x2paddle_code.py\", line 60, in forward\r\n        x2paddle_functional_1_concatenate_concat_0 = paddle.concat(x=[x2paddle_functional_1_resizing_resize_ResizeBilinear_0, x2paddle_functional_1_resizing_resize_ResizeBilinear_0, x2paddle_functional_1_resizing_resize_ResizeBilinear_0], axis=3)\r\n        x2paddle_adjusted_input12 = paddle.transpose(x=x2paddle_functional_1_concatenate_concat_0, perm=[0, 3, 1, 2])\r\n        x2paddle_convolution_output12 = self.conv0(x2paddle_adjusted_input12)\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x2paddle_functional_1_vgg16_block1_conv1_Relu_0 = self.relu0(x2paddle_convolution_output12)\r\n        x2paddle_convolution_output11 = self.conv1(x2paddle_functional_1_vgg16_block1_conv1_Relu_0)\r\n\r\n    File \"./python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 917, in __call__\r\n\treturn self._dygraph_call_func(*inputs, **kwargs)\r\n    File \".python3.6/site-packages/paddle/fluid/dygraph/layers.py\", line 907, in _dygraph_call_func\r\n\toutputs = self.forward(*inputs, **kwargs)\r\n    File \"./python3.6/site-packages/paddle/nn/layer/conv.py\", line 677, in forward\r\n\tuse_cudnn=self._use_cudnn)\r\n    File \"./python3.6/site-packages/paddle/nn/functional/conv.py\", line 148, in _conv_nd\r\n\ttype=op_type, inputs=inputs, outputs=outputs, attrs=attrs)\r\n    File \"./python3.6/site-packages/paddle/fluid/layer_helper.py\", line 43, in append_op\r\n\treturn self.main_program.current_block().append_op(*args, **kwargs)\r\n    File \"./python3.6/site-packages/paddle/fluid/framework.py\", line 3184, in append_op\r\n\tattrs=kwargs.get(\"attrs\", None))\r\n    File \"./python3.6/site-packages/paddle/fluid/framework.py\", line 2344, in __init__\r\n\tself.desc.infer_shape(self.block.desc)\r\n\r\n    ValueError: (InvalidArgument) The number of input's channels should be equal to filter's channels * groups for Op(Conv). But received: the input's channels is -1, the input's shape is [-1, -1, -1, -1]; the filter's channels is 3, the filter's shape is [64, 3, 3, 3]; the groups is 1, the data_format is NCHW. The error may come from wrong data_format setting.\r\n  [Hint: Expected input_channels == filter_dims[1] * groups, but received input_channels:-1 != filter_dims[1] * groups:3.] (at /paddle/paddle/fluid/operators/conv_op.cc:119)\r\n  [operator < conv2d > error]\r\n```\r\n\r\nThis onnx model can be converted to pytorch with `onnx2torch` but failed when converting to paddle with `X2paddle`. Could anyone kindly tell me the reason?\r\n\r\n\r\n\r\n### Versions\r\nonnx                    1.11.0\r\npaddlepaddle            2.2.2\r\nx2paddle                1.4.0\r\n\r\n## Reproduce\r\n\r\n### Model\r\n\r\nI have put the model (which is about 50 MB) in this [repo](https://github.com/shiningrain/tmp_model) and you could download it and unzip this file [`mnist+vgg.zip`](https://github.com/shiningrain/tmp_model/blob/main/mnist%2Bvgg.zip) to get the whole model.\r\n\r\nI also uploaded the .zip file of the conversion result in this [repo](https://github.com/shiningrain/tmp_model). The `paddle_model` dir is generated by X2paddle and this ValueError caused the `paddle_model/inference_model` directory to be empty.\r\n\r\n### Command\r\nI try to covert this onnx model with the following command and then face the above ValueError.\r\n\r\n```\r\nx2paddle --framework=onnx --model=./.onnx --save_dir=./tmp_pb\r\n```\r\n",
        "state": "open",
        "user": "shiningrain",
        "closed_by": null,
        "created_at": "2023-09-01T02:23:08+00:00",
        "updated_at": "2023-09-01T02:33:19+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 993,
        "title": "caffemodel 当blob只有shape没有data时会有异常",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n使用X2Paddle 进行 caffe转nb，当模型文件caffemodel的blob权重参数中只有shape没有data时，会导致报错。\r\n这是我的模型文件.caffemodel的前面几层\r\nname: \"\"\r\nlayer {\r\n  name: \"input_1\"\r\n  type: \"Input\"\r\n  top: \"input_1\"\r\n  phase: TEST\r\n  input_param {\r\n    shape {\r\n      dim: 1\r\n      dim: 3\r\n      dim: 160\r\n      dim: 40\r\n    }\r\n  }\r\n}\r\nlayer {\r\n  name: \"conv0\"\r\n  type: \"Convolution\"\r\n  bottom: \"input_1\"\r\n  top: \"conv0\"\r\n  blobs {\r\n    shape {\r\n      dim: 32\r\n      dim: 3\r\n      dim: 3\r\n      dim: 3\r\n    }\r\n  }\r\n  blobs {\r\n    shape {\r\n      dim: 32\r\n    }\r\n  }\r\n  phase: TEST\r\n  convolution_param {\r\n    num_output: 32\r\n    bias_term: true\r\n    pad_h: 1\r\n    pad_w: 1\r\n    kernel_h: 3\r\n    kernel_w: 3\r\n    stride_h: 1\r\n    stride_w: 1\r\n  }\r\n}\r\nlayer {\r\n  name: \"bn0\"\r\n  type: \"BatchNorm\"\r\n  bottom: \"conv0\"\r\n  top: \"bn0\"\r\n  blobs {\r\n    data: -0.007865031249821186\r\n    data: -0.005324164871126413\r\n    data: -0.010764184407889843\r\n    data: 0.008240368217229843\r\n    data: 0.01976969465613365\r\n    data: 0.012027844786643982\r\n    data: 0.002962957601994276\r\n    data: -0.3145563304424286\r\n    data: 0.10758233815431595\r\n    data: 0.025216389447450638\r\n    data: -0.07927775382995605\r\n    data: -0.004488849081099033\r\n    data: -0.009283231571316719\r\n    data: -0.020594490692019463\r\n    data: -0.05032395198941231\r\n    data: 0.14864583313465118\r\n    data: -0.03062831051647663\r\n    data: -0.027901044115424156\r\n    data: -0.007554500363767147\r\n    data: -0.05905086174607277\r\n    data: 0.013064151629805565\r\n    data: -0.001625223783776164\r\n    data: -0.012637660838663578\r\n    data: -0.020215753465890884\r\n    data: -0.15577200055122375\r\n    data: -0.005744390655308962\r\n    data: -0.004265745636075735\r\n    data: 0.020425138995051384\r\n    data: -0.0014742618659511209\r\n    data: 0.02395986020565033\r\n    data: 0.020134909078478813\r\n    data: -0.013855302706360817\r\n    shape {\r\n      dim: 32\r\n    }\r\n  }\r\n  blobs {\r\n    data: 0.012731957249343395\r\n    data: 0.008646254427731037\r\n    data: 0.011110151186585426\r\n    data: 0.009516902267932892\r\n    data: 0.008103199303150177\r\n    data: 0.008265161886811256\r\n    data: 0.00312191154807806\r\n    data: 0.02370261959731579\r\n    data: 0.0027517329435795546\r\n    data: 0.013189432211220264\r\n    data: 0.007192822638899088\r\n    data: 0.008816424757242203\r\n    data: 0.007724612019956112\r\n    data: 0.014152021147310734\r\n    data: 0.01284481305629015\r\n    data: 0.013880057260394096\r\n    data: 0.014332244172692299\r\n    data: 0.0011996557004749775\r\n    data: 0.015406877733767033\r\n    data: 0.010128257796168327\r\n    data: 0.002697761869058013\r\n    data: 0.0050042783841490746\r\n    data: 0.011377030052244663\r\n    data: 0.00816092174500227\r\n    data: 0.010117243975400925\r\n    data: 0.011570217087864876\r\n    data: 0.005011581815779209\r\n    data: 0.0009002541191875935\r\n    data: 0.0012184175429865718\r\n    data: 0.016399741172790527\r\n    data: 0.006782908923923969\r\n    data: 0.004564266186207533\r\n    shape {\r\n      dim: 32\r\n    }\r\n  }\r\n  blobs {\r\n    data: 1.0\r\n    shape {\r\n      dim: 1\r\n    }\r\n  }\r\n  phase: TEST\r\n  batch_norm_param {\r\n    moving_average_fraction: 0.9900000095367432\r\n    eps: 0.0010000000474974513\r\n  }\r\n}\r\n\r\n\r\n\r\n- 错误信息\r\n\r\n- 错误截图\r\n\r\n  File \"F:\\PyProject\\PaddleOPT\\Main.py\", line 5, in <module>\r\n    caffe2paddle(\r\n  File \"F:\\PyProject\\PaddleOPT\\X2Paddle\\x2paddle\\convert.py\", line 240, in caffe2paddle\r\n    model = CaffeDecoder(proto_file, weight_file, caffe_proto)\r\n  File \"f:\\PyProject\\PaddleOPT\\lib\\site-packages\\x2paddle-1.4.1-py3.10.egg\\x2paddle\\decoder\\caffe_decoder.py\", line 292, in __init__\r\n    self.load_using_pb()\r\n  File \"f:\\PyProject\\PaddleOPT\\lib\\site-packages\\x2paddle-1.4.1-py3.10.egg\\x2paddle\\decoder\\caffe_decoder.py\", line 306, in load_using_pb\r\n    self.params = [pair(layer) for layer in layers if layer.blobs]\r\n  File \"f:\\PyProject\\PaddleOPT\\lib\\site-packages\\x2paddle-1.4.1-py3.10.egg\\x2paddle\\decoder\\caffe_decoder.py\", line 306, in <listcomp>\r\n    self.params = [pair(layer) for layer in layers if layer.blobs]\r\n  File \"f:\\PyProject\\PaddleOPT\\lib\\site-packages\\x2paddle-1.4.1-py3.10.egg\\x2paddle\\decoder\\caffe_decoder.py\", line 305, in <lambda>\r\n    pair = lambda layer: (layer.name, self.normalize_pb_data(layer))\r\n  File \"f:\\PyProject\\PaddleOPT\\lib\\site-packages\\x2paddle-1.4.1-py3.10.egg\\x2paddle\\decoder\\caffe_decoder.py\", line 330, in normalize_pb_data\r\n    list(blob.data), dtype=np.float32).reshape(c_o, c_i, h, w)\r\nValueError: cannot reshape array of size 0 into shape (32,3,3,3)\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question: 2.4.2.post117\r\nX2Paddle => :grey_question: 1.4.1\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question: Caffe\r\n- 您的联系方式(邮箱/微信/电话)\r\n18678297327",
        "state": "open",
        "user": "tian161",
        "closed_by": null,
        "created_at": "2023-09-19T10:50:14+00:00",
        "updated_at": "2023-09-19T10:51:21+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 994,
        "title": "pytorch 转paddle 算子不支持",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\npytorch 模型转paddle 时，有5个op 不支持\r\n- 错误信息\r\n- 错误截图\r\n![image](https://github.com/PaddlePaddle/X2Paddle/assets/8790526/bfbf2185-2239-4cbe-ab80-d1a8010e2d4b)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n    - [x] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nLIA：https://github.com/wyhsirius/LIA\r\n- 应用场景\r\n服务端人像驱动\r\n- 版本信息\r\nPaddlePaddle => :2.5.0:\r\nX2Paddle => 1.4.1:\r\n来源框架版本(PyTorch) => :1.10.0:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "chenshanjxau",
        "closed_by": null,
        "created_at": "2023-09-23T14:10:51+00:00",
        "updated_at": "2023-09-23T14:11:05+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 990,
        "title": "MobileNetV2.onnx转换过程报错",
        "body": "## 问题描述\r\n网络为来自tensorflow官方的预训练的MobileNetV2，首先将tensorflow模型转换为onnx，使用x2paddle将onnx转换为paddle时，发生以下错误：\r\n\r\n- 错误信息\r\n```shell\r\nTraceback (most recent call last):\r\n  File \"/home/xxx/anaconda3/envs/x2paddle/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/home/xxx/anaconda3/envs/x2paddle/lib/python3.8/site-packages/x2paddle/convert.py\", line 489, in main\r\n    onnx2paddle(\r\n  File \"/home/xxx/anaconda3/envs/x2paddle/lib/python3.8/site-packages/x2paddle/convert.py\", line 311, in onnx2paddle\r\n    mapper.paddle_graph.gen_model(save_dir)\r\n  File \"/home/xxx/anaconda3/envs/x2paddle/lib/python3.8/site-packages/x2paddle/core/program.py\", line 284, in gen_model\r\n    self.gen_code(save_dir)\r\n  File \"/home/xxx/anaconda3/envs/x2paddle/lib/python3.8/site-packages/x2paddle/core/program.py\", line 451, in gen_code\r\n    remove_default_attrs(layer.kernel, layer.attrs)\r\n  File \"/home/xxx/anaconda3/envs/x2paddle/lib/python3.8/site-packages/x2paddle/core/util.py\", line 74, in remove_default_attrs\r\n    if default_v == attrs[default_k]:\r\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\r\n```\r\n\r\n## 具体信息\r\n\r\n- 模型来源\r\nMobileNetV2：\r\n```python\r\nimport tensorflow as tf\r\nmodel = tf.keras.applications.MobileNetV2(weights='imagenet')\r\n```\r\n然后将tensorflow转换为onnx：\r\n```python\r\nimport tf2onnx\r\noutput_path = model.name + \".onnx\"\r\nmodel_proto, _ = tf2onnx.convert.from_keras(model, input_signature=spec, opset=13, output_path=output_path)\r\n```\r\n\r\n- 版本信息\r\nPaddlePaddle => :2.5.1:\r\nX2Paddle => :1.4.1:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :tf2onnx: 1.15.0，onnx: 1.13.1，tensorflow: 2.13.0\r\n\r\n## 我的尝试\r\n经过简单调试发现在`get_default_args`函数中进行判断时，打印axis的信息，可以看到attrs[default_k]是一个列表，即[2 3]，但是使用数据类型判断是否为list时，结果为False，造成了条件判断错误，使用Netron观察网络，也可以看到在Squeeze算子的地方，出现了[2, 3]的参数\r\n",
        "state": "open",
        "user": "masteryi-0018",
        "closed_by": null,
        "created_at": "2023-08-24T07:42:23+00:00",
        "updated_at": "2023-12-28T07:57:29+00:00",
        "closed_at": null,
        "comments_count": [
            "firedent"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 995,
        "title": "如何转换fp16的onnx或者torch模型到paddle?",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "triple-Mu",
        "closed_by": null,
        "created_at": "2023-09-26T07:52:20+00:00",
        "updated_at": "2023-09-26T07:52:20+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 996,
        "title": "onnx模型转paddlelite格式报错========= 1 OPs are not supported yet ===========",
        "body": "请问onnx模型是否仍然不支持随机数op\r\n========= 1 OPs are not supported yet ===========\r\n========== RandomNormalLike ============\r\nTraceback (most recent call last):\r\n  File \"onnx2paddle.py\", line 9, in <module>\r\n    lite_model_type=\"naive_buffer\")\r\n  File \"/home/wyw/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/home/wyw/anaconda3/envs/paddle/lib/python3.7/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 38, in __init__\r\n    raise Exception(\"Model is not supported yet.\")",
        "state": "open",
        "user": "Square-of-W",
        "closed_by": null,
        "created_at": "2023-11-06T08:01:00+00:00",
        "updated_at": "2023-11-06T08:01:00+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 997,
        "title": "x2paddle支持7B的onnx转为paddle么？",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\nx2paddle支持7B的onnx转为paddle么？\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "yangelaboy",
        "closed_by": null,
        "created_at": "2023-11-13T09:07:18+00:00",
        "updated_at": "2023-11-13T09:07:18+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 998,
        "title": "pytorch转paddle 1 OPs are not supported yet==aten::maximum",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- pytorch转paddle ==1 OPs are not supported yet==\r\n- ==aten::maximum==\r\n- 错误截图\r\n![fbabbb19be91736174b367ef2cff8180](https://github.com/PaddlePaddle/X2Paddle/assets/47819762/884f7da3-255b-4cdf-9baf-5be789d104a9)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n    - [x] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nxseg:https://github.com/iperov/DeepFaceLab\r\n- 应用场景\r\n用人脸遮挡检测\r\n- 版本信息\r\nPaddlePaddle => 2.5.2.post116\r\nX2Paddle => 1.3.9\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) =>pytorch 1.13.0\r\n- 您的联系方式(邮箱/微信/电话)\r\nguolongwei@smail.nju.edu.cn",
        "state": "open",
        "user": "longwg",
        "closed_by": null,
        "created_at": "2023-11-17T03:06:01+00:00",
        "updated_at": "2023-11-17T03:06:01+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/Paddle",
        "number": 56876,
        "title": "YOLOv8 export error: `ImportError: libssl.so.1.1: cannot open shared object file: No such file or directory`",
        "body": "YOLOv8 paddle export is failing with the latest version of 1.4.1 of x2paddle in Google Colab with:\r\n\r\n- `ultralytics 8.0.167`\r\n- `paddlepaddle 2.5.1`\r\n- `x2paddle 1.4.1`\r\n\r\n\r\n### Reproduce\r\n\r\n```python\r\n# Install\r\n# pip install ultralytics paddlepaddle x2paddle\r\n\r\n# Export\r\nyolo export model=yolov8n.pt format=paddle\r\n```\r\n\r\nResult:\r\n```\r\nDownloading https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8n.pt to 'yolov8n.pt'...\r\n100% 6.23M/6.23M [00:00<00:00, 243MB/s]\r\nUltralytics YOLOv8.0.167 🚀 Python-3.10.12 torch-2.0.1+cu118 CPU (Intel Xeon 2.20GHz)\r\nYOLOv8n summary (fused): 168 layers, 3151904 parameters, 0 gradients\r\n\r\nPyTorch: starting from 'yolov8n.pt' with input shape (1, 3, 640, 640) BCHW and output shape(s) (1, 84, 8400) (6.2 MB)\r\nError: Can not import paddle core while this file exists: /usr/local/lib/python3.10/dist-packages/paddle/fluid/libpaddle.so\r\nPaddlePaddle: export failure ❌ 0.1s: libssl.so.1.1: cannot open shared object file: No such file or directory\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/yolo\", line 8, in <module>\r\n    sys.exit(entrypoint())\r\n  File \"/usr/local/lib/python3.10/dist-packages/ultralytics/cfg/__init__.py\", line 446, in entrypoint\r\n    getattr(model, mode)(**overrides)  # default args from model\r\n  File \"/usr/local/lib/python3.10/dist-packages/ultralytics/engine/model.py\", line 313, in export\r\n    return Exporter(overrides=args, _callbacks=self.callbacks)(model=self.model)\r\n  File \"/usr/local/lib/python3.10/dist-packages/torch/utils/_contextlib.py\", line 115, in decorate_context\r\n    return func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.10/dist-packages/ultralytics/engine/exporter.py\", line 265, in __call__\r\n    f[10], _ = self.export_paddle()\r\n  File \"/usr/local/lib/python3.10/dist-packages/ultralytics/engine/exporter.py\", line 119, in outer_func\r\n    raise e\r\n  File \"/usr/local/lib/python3.10/dist-packages/ultralytics/engine/exporter.py\", line 114, in outer_func\r\n    f, model = inner_func(*args, **kwargs)\r\n  File \"/usr/local/lib/python3.10/dist-packages/ultralytics/engine/exporter.py\", line 397, in export_paddle\r\n    import x2paddle  # noqa\r\n  File \"/usr/local/lib/python3.10/dist-packages/x2paddle/__init__.py\", line 3, in <module>\r\n    from .core.program import PaddleGraph\r\n  File \"/usr/local/lib/python3.10/dist-packages/x2paddle/core/program.py\", line 18, in <module>\r\n    import paddle\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/__init__.py\", line 31, in <module>\r\n    from .framework import monkey_patch_variable\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/framework/__init__.py\", line 17, in <module>\r\n    from . import random  # noqa: F401\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/framework/random.py\", line 17, in <module>\r\n    from paddle import fluid\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/fluid/__init__.py\", line 36, in <module>\r\n    from . import framework\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/fluid/framework.py\", line 35, in <module>\r\n    from . import core\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/fluid/core.py\", line 356, in <module>\r\n    raise e\r\n  File \"/usr/local/lib/python3.10/dist-packages/paddle/fluid/core.py\", line 269, in <module>\r\n    from . import libpaddle\r\nImportError: libssl.so.1.1: cannot open shared object file: No such file or directory\r\n```\r\n\r\nYou can run this code in Google Colab here:\r\n\r\nhttps://colab.research.google.com/github/ultralytics/ultralytics/blob/main/examples/tutorial.ipynb\r\n<img width=\"1588\" alt=\"Screenshot 2023-08-31 at 16 56 27\" src=\"https://github.com/PaddlePaddle/X2Paddle/assets/26833433/60920458-f709-400b-b3d2-4cac1d72467c\">\r\n",
        "state": "closed",
        "user": "glenn-jocher",
        "closed_by": "paddle-bot[bot]",
        "created_at": "2023-08-31T14:56:40+00:00",
        "updated_at": "2024-09-03T06:33:27+00:00",
        "closed_at": "2024-09-03T06:33:07+00:00",
        "comments_count": [
            "glenn-jocher",
            "jiangjiajun",
            "BMukhtar",
            "paddle-bot[bot]"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 999,
        "title": "TwinLiteNet：pytorch转onnx转paddle报错",
        "body": "## 问题描述\r\nTwinLiteNet：pytorch转onnx转paddle报错\r\n- 错误截图\r\n![Uploading 2023-11-17 14-01-02 的屏幕截图.png…]()\r\n## 具体信息\r\nINFO:root:paddle.__version__ = 2.4.2\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 10\r\nShape inferencing ...\r\nShape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 10.\r\nTotal nodes: 152\r\nNodes converting ...\r\nConverting node 287 ...     \r\nNodes converted.\r\nINFO:root:Model optimizing ...\r\nINFO:root:Model optimized.\r\nExporting inference model from python code ('/media/experiment/PaddlePaddle/PaddleSlim/example/post_training_quantization/onnx_seg/TwinLiteNet-onnxruntime/pd_model/x2paddle_code.py')... \r\n\r\nW1117 13:07:37.444545 392280 gpu_resources.cc:61] Please NOTE: device: 0, GPU Compute Capability: 7.5, Driver API Version: 11.7, Runtime API Version: 10.2\r\nW1117 13:07:37.445227 392280 gpu_resources.cc:91] device: 0, cuDNN Version: 8.7.\r\n/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py:1652: UserWarning: Skip loading for conv2.weight. conv2.weight receives a shape [12, 19, 3, 3], but the expected shape is [12, 64, 3, 3].\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\n/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py:1652: UserWarning: Skip loading for conv8.weight. conv8.weight receives a shape [12, 19, 3, 3], but the expected shape is [12, 64, 1, 1].\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\n/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py:1652: UserWarning: Skip loading for conv21.weight. conv21.weight receives a shape [25, 131, 3, 3], but the expected shape is [25, 128, 3, 3].\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\n/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py:1652: UserWarning: Skip loading for conv27.weight. conv27.weight receives a shape [25, 131, 3, 3], but the expected shape is [25, 128, 1, 1].\r\n  warnings.warn((\"Skip loading for {}. \".format(key) + str(err)))\r\nIn transformed code:\r\n\r\n    File \"pd_model/x2paddle_code.py\", line 116, in forward\r\n        x2paddle_440 = self.conv1(x2paddle_194)\r\n        x2paddle_198 = self.prelu1(x2paddle_440)\r\n        x2paddle_199 = self.conv2(x2paddle_198)\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x2paddle_200 = self.conv3(x2paddle_199)\r\n        x2paddle_201 = self.conv4(x2paddle_199)\r\n\r\n    File \"/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 1014, in __call__\r\n\treturn self._dygraph_call_func(*inputs, **kwargs)\r\n    File \"/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/fluid/dygraph/layers.py\", line 993, in _dygraph_call_func\r\n\toutputs = self.forward(*inputs, **kwargs)\r\n    File \"/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/nn/layer/conv.py\", line 724, in forward\r\n\tuse_cudnn=self._use_cudnn,\r\n    File \"/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/nn/functional/conv.py\", line 277, in _conv_nd\r\n\ttype=op_type, inputs=inputs, outputs=outputs, attrs=attrs\r\n    File \"/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/fluid/layer_helper.py\", line 45, in append_op\r\n\treturn self.main_program.current_block().append_op(*args, **kwargs)\r\n    File \"/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 4046, in append_op\r\n\tattrs=kwargs.get(\"attrs\", None),\r\n    File \"/opt/anaconda3/envs/paddle2.4_py3.7/lib/python3.7/site-packages/paddle/fluid/framework.py\", line 3037, in __init__\r\n\tself.desc.infer_shape(self.block.desc)\r\n\r\n    ValueError: (InvalidArgument) The number of input's channels should be equal to filter's channels * groups for Op(Conv). But received: the input's channels is 19, the input's shape is [1, 19, 180, 320]; the filter's channels is 64, the filter's shape is [12, 64, 3, 3]; the groups is 1, the data_format is NCHW. The error may come from wrong data_format setting.\r\n  [Hint: Expected input_channels == filter_dims[1] * groups, but received input_channels:19 != filter_dims[1] * groups:64.] (at /paddle/paddle/fluid/operators/conv_op.cc:131)\r\n  [operator < conv2d > error]\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n- 模型来源\r\nTwinLiteNet官方模型导出\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:2.4。2\r\nX2Paddle => :grey_question:1.4.1\r\nonnx：1.11.0   op：10\r\n-onnx模型\r\n[Uploading twinlite.zip…]()\r\n\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :PyTorch->onnx\r\n- 您的联系方式(邮箱/微信/电话)\r\n邮箱：zboyang@foxmail.com\r\n微信：Z1157265412",
        "state": "open",
        "user": "Boyangzh",
        "closed_by": null,
        "created_at": "2023-11-17T06:08:59+00:00",
        "updated_at": "2023-11-17T06:14:15+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1002,
        "title": "ViusalDL在线模型转换ONNX2Paddle勾选转成Paddle-Lite支持格式，报错[Convertion error] No module named 'paddlelite'.",
        "body": "## 问题描述\r\nViusalDL在线模型转换ONNX2Paddle勾选转成Paddle-Lite支持格式，报错[Convertion error] No module named 'paddlelite'.\r\n<img width=\"1511\" alt=\"image\" src=\"https://github.com/PaddlePaddle/X2Paddle/assets/79627742/29f34344-6a53-4e95-8dbb-b8763509ce30\">\r\n\r\n## 具体信息\r\n- 转换模型后用处\r\n    - 使用 Paddle-Lite 做移动端推理\r\n",
        "state": "open",
        "user": "ZhouhaoJiang",
        "closed_by": null,
        "created_at": "2023-12-15T11:23:42+00:00",
        "updated_at": "2023-12-15T11:23:42+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1000,
        "title": "这里的模型怎么转onnx？转完后怎么用？https://github.com/doc-analysis/TableBank/blob/master/MODEL_ZOO.md",
        "body": "这里的模型怎么转onnx？转完后怎么用？https://github.com/doc-analysis/TableBank/blob/master/MODEL_ZOO.md",
        "state": "open",
        "user": "nissansz",
        "closed_by": null,
        "created_at": "2023-12-07T00:24:06+00:00",
        "updated_at": "2024-08-04T01:58:00+00:00",
        "closed_at": null,
        "comments_count": [
            "Andy197527"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1001,
        "title": "yolov8的分割模型转paddle，在paddle中该如何调用",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\nyolov8的分割模型转paddle，在paddle中该如何调用\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\nyolo转换的模型缺少配置文件，paddle无法调用模型进行推理\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n- 模型来源\r\nhttps://github.com/ultralytics/ultralytics,基于yolo的框架训练的自己的分割模型\r\n- 应用场景\r\n 使用 Paddle 框架/ PaddleInference 推理预测\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :PyTorch:\r\n- 您的联系方式(邮箱/微信/电话)\r\n609583685@qq.com",
        "state": "open",
        "user": "xxPete",
        "closed_by": null,
        "created_at": "2023-12-12T02:50:46+00:00",
        "updated_at": "2024-08-04T01:57:17+00:00",
        "closed_at": null,
        "comments_count": [
            "Andy197527"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1004,
        "title": "x2paddle.convert.onnx2paddle",
        "body": "Paddle2ONNX的问题请在Paddle2ONNX的repo下提问\r\n\r\nRepo链接： [https://github.com/PaddlePaddle/Paddle2ONNX/issues](https://github.com/PaddlePaddle/Paddle2ONNX/issues)\r\n",
        "state": "open",
        "user": "houjinli",
        "closed_by": null,
        "created_at": "2024-01-16T09:17:18+00:00",
        "updated_at": "2024-01-16T09:17:18+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1005,
        "title": "GridSample, ReduceLogSumExp, Einsum三个算子不支持",
        "body": "## 问题描述\r\n\r\n- 错误信息\r\n使用x2paddle将onnx模型转换成paddle时，提示opset_verison只支持到15，而我的onnx opset_verison是16，有3个算子不支持，转换失败。日志如下：\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 16.\r\n========= 3 OPs are not supported yet ===========\r\n========== GridSample ============\r\n========== ReduceLogSumExp ============\r\n========== Einsum ============\r\nTraceback (most recent call last):\r\n  File \"/data/miniconda3/envs/super_series/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/data/miniconda3/envs/super_series/lib/python3.8/site-packages/x2paddle/convert.py\", line 489, in main\r\n    onnx2paddle(\r\n  File \"/data/miniconda3/envs/super_series/lib/python3.8/site-packages/x2paddle/convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/data/miniconda3/envs/super_series/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 38, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n- 错误截图\r\n![企业微信截图_17068665127742](https://github.com/PaddlePaddle/X2Paddle/assets/32865557/1eeebd95-60e6-47ea-b92b-151d60f18b2a)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nSuperGlue：https://github.com/magicleap/SuperGluePretrainedNetwork\r\n- 应用场景\r\n图像配准\r\n- 版本信息\r\nPaddlePaddle = 2.3.2\r\nX2Paddle = 1.4.1\r\n来源框架版本ONNX opset_verison = 16\r\n- 您的联系方式(邮箱/微信/电话)\r\n\r\n## 模型超过了25M，上传不了，若需要模型，可以通过其他方式发送",
        "state": "open",
        "user": "Jverson",
        "closed_by": null,
        "created_at": "2024-02-02T09:57:57+00:00",
        "updated_at": "2024-02-02T09:57:57+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1003,
        "title": "x2paddle.convert.tf2paddle报错 不支持 op ReverseSequence TensorArrayV3 TensorArrayScatterV3 ",
        "body": "========= 4 OPs are not supported yet ===========\r\n========== ReverseSequence ============\r\n========== Enter ============\r\n========== TensorArrayV3 ============\r\n========== TensorArrayScatterV3 ============\r\n",
        "state": "open",
        "user": "houjinli",
        "closed_by": null,
        "created_at": "2024-01-16T09:16:15+00:00",
        "updated_at": "2024-01-16T09:16:15+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1007,
        "title": "报错：ImportError:generic_type:type \"_gpuDeviceProperties is already registered!",
        "body": "😅 \r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\nImportError:generic_type:type \"_gpuDeviceProperties is already registered!\r\n\r\n- 错误截图\r\n![33333](https://github.com/PaddlePaddle/X2Paddle/assets/143715628/4fd106c0-fd2e-4b88-a919-4e0408bf7678)\r\n\r\n## 具体信息\r\n我的目标是将torch版本的wav2lip转成 paddle版的wav2lip\r\n代码中就在导入包时就已经报错，具体来说：\r\n有两个py文件（简述：A和B），\r\n其中文件A只有这几行代码：\r\nfrom Wav2Lip import getwav2lipparameter as getwav2lipparameter\r\nfrom x2paddle.convert import pytorch2paddle\r\n其中Wav2Lip是从github上clone下来的一个文件夹，里边就是torch版本的wav2lip相关文件，可以从这里下载：https://github.com/Rudrabha/Wav2Lip.git ，\r\n\r\n文件B中的代码只有：\r\nfrom glob import glob\r\nimport torch\r\nfrom Wav2Lip import face_detection\r\nfrom Wav2Lip.models import Wav2Lip\r\nimport platform\r\n其他代码我全部都是函数.....不运行\r\n注意，文件B就是上述的 getwav2lipparameter，只不过是我们自己新建的py文件，运行A文件报错！\r\n工程结构见下图：\r\n![111](https://github.com/PaddlePaddle/X2Paddle/assets/143715628/9d7b9342-94bd-497f-9cf0-3fb6a165432c)\r\n\r\n\r\n- 转换模型后用处\r\n    - [√ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [√ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nWav2Lip：[https://github.com/Rudrabha/Wav2Lip.git](https://github.com/Rudrabha/Wav2Lip.git)\r\n- 应用场景\r\n唇形迁移/转换\r\n- 版本信息\r\nPaddlePaddle => [python -m pip install paddlepaddle-gpu==2.6.0 -i https://pypi.tuna.tsinghua.edu.cn/simple](python -m pip install paddlepaddle-gpu==2.6.0 -i https://pypi.tuna.tsinghua.edu.cn/simple)\r\nX2Paddle => 1.3.9\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) =>PyTorch\r\n- 您的联系方式(邮箱/微信/电话)\r\n1871305823@qq.com\r\n\r\nPS补充：paddle的开发人员@terry 已经帮忙复现这个问题，确认paddle可以正常使用，torch可以正常使用，他的环境是：\r\nwindows10，paddlepaddle版本：python -m pip install paddlepaddle-gpu==2.6.0 -i \r\nhttps://pypi.tuna.tsinghua.edu.cn/simple ，python=3.8，torch是官网默认最新版（pip直接安装），(cuda)=11.8，X2Paddle最新版（pip直接安装）。",
        "state": "open",
        "user": "drakitLiu",
        "closed_by": null,
        "created_at": "2024-02-29T13:14:22+00:00",
        "updated_at": "2024-03-01T11:55:24+00:00",
        "closed_at": null,
        "comments_count": [
            "luotao1"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1008,
        "title": "转pytorch到paddle报错",
        "body": "## 问题描述\r\n- 错误信息\r\n========= 2 OPs are not supported yet ===========\r\n========== prim::PythonOp ============\r\n========== aten::cross_entropy_loss ============\r\n\r\n## 具体信息\r\n```\r\n代码：\r\nfrom x2paddle.convert import pytorch2paddle\r\npytorch2paddle(module=model,\r\n                        save_dir=\"/home/zhaowenzhuo/project/2024/baidu_race_true/beam_retriever-main/output/best_checkpoint/checkpoint_best.pt\",\r\n                        jit_type=\"trace\",\r\n                        input_examples=(batch['input_ids'],batch['attention_mask'],batch['start_pos'],\r\n                                        batch['end_pos'],batch['sentence_index'],batch['sentence_labels'],batch['answer_type']))\r\n```\r\n- 转换模型后用处\r\n    - [√] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [  ] 使用 Paddle-Lite 做移动端推理\r\n    - [  ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\ndeberta-v3-large-squad2：https://huggingface.co/deepset/deberta-v3-large-squad2\r\n- 应用场景\r\nQA问答\r\n- 版本信息\r\n  - paddle2onnx                1.1.0\r\n  - paddlepaddle-gpu       2.6.0.post116\r\n  - x2paddle                      1.4.1\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => torch 1.13.1+cu116\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "zwz4949",
        "closed_by": null,
        "created_at": "2024-03-22T08:24:59+00:00",
        "updated_at": "2024-03-23T06:07:27+00:00",
        "closed_at": null,
        "comments_count": [
            "Jiang-Jia-Jun"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1009,
        "title": "ONNX 转 Paddle，MaxUnpool不支持",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n使用x2paddle将onnx模型转换成paddle时，MaxUnpool算子不支持，转换失败。日志如下：\r\nINFO:root:paddle.__version__ = 2.6.1\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nShape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nShape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 11.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== MaxUnpool ============\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 11, in &lt;module&gt;\r\n    load_entry_point('x2paddle==1.4.1', 'console_scripts', 'x2paddle')()\r\n  File \"/usr/local/lib/python3.8/dist-packages/x2paddle-1.4.1-py3.8.egg/x2paddle/convert.py\", line 489, in main\r\n    onnx2paddle(\r\n  File \"/usr/local/lib/python3.8/dist-packages/x2paddle-1.4.1-py3.8.egg/x2paddle/convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/usr/local/lib/python3.8/dist-packages/x2paddle-1.4.1-py3.8.egg/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 38, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n- 错误截图\r\n![2024-04-06_15-55](https://github.com/PaddlePaddle/X2Paddle/assets/126258180/e3c96324-304e-44cb-ac14-dbdb86722fb6)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [X] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nGndNet：https://github.com/anshulpaigwar/GndNet\r\n- 应用场景\r\n用于地形检测\r\n- 版本信息\r\nPaddlePaddle = 2.6.1\r\nX2Paddle = 1.4.1\r\n来源框架版本 ONNX opset_verison = 11\r\n- 您的联系方式(邮箱/微信/电话)\r\nfengyx@hnu.edu.cn\r\n",
        "state": "open",
        "user": "CUTEPKQ",
        "closed_by": null,
        "created_at": "2024-04-06T08:28:05+00:00",
        "updated_at": "2024-04-06T08:28:05+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1010,
        "title": "PyTorch转换为Paddle; Paddle不支持 convert failed node:_features_conv0_Conv_output_0, op_type is Conv",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n   将PyTorch官方库中的DenseNet模型转换为Paddle版本，并用于测试基于ONNX的模型转换性能。PyTorch模型转换ONNX成功，但是ONNX转换为PaddlePaddle失败\r\n- 错误信息\r\n-Converting node 434 ...     Traceback (most recent call last):\r\n  File \"D:\\anaconda3\\envs\\LID-CMC\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 110, in run_mapping\r\n    res = func(*args, **kwargs)\r\n  File \"D:\\anaconda3\\envs\\LID-CMC\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 2304, in Conv\r\n    _rename_or_remove_weight(\r\n  File \"D:\\anaconda3\\envs\\LID-CMC\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 68, in _rename_or_remove_weight\r\n    raise KeyError('{} not a key in {}'.format(origin_name, weights.keys()))\r\nKeyError: \"x2paddle_onnx__Conv_1167 not a key in dict_keys(['x2paddle_features_denseblock1_denselayer1_norm1_weight', 'x2paddle_features_denseblock1_denselayer1_norm1_bias', 'x2paddle_features_denseblock1_denselayer1_conv2_weight', 'x2paddle_features_denseblock1_denselayer2_norm1_weight', 'x2paddle_features_denseblock1_denselayer2_norm1_bias', 'x2paddle_features_denseblock1_denselayer2_conv2_weight', 'x2paddle_features_denseblock1_denselayer3_norm1_weight', 'x2paddle_features_denseblock1_denselayer3_norm1_bias', 'x2paddle_features_denseblock1_denselayer3_conv2_weight', 'x2paddle_features_denseblock1_denselayer4_norm1_weight', 'x2paddle_features_denseblock1_denselayer4_norm1_bias', 'x2paddle_features_denseblock1_denselayer4_conv2_weight', 'x2paddle_features_denseblock1_denselayer5_norm1_weight', 'x2paddle_features_denseblock1_denselayer5_norm1_bias', 'x2paddle_features_denseblock1_denselayer5_conv2_weight', 'x2paddle_features_denseblock1_denselayer6_norm1_weight', 'x2paddle_features_denseblock1_denselayer6_norm1_bias', 'x2paddle_features_denseblock1_denselayer6_conv2_weight', 'x2paddle_features_transition1_norm_weight', 'x2paddle_features_transition1_norm_bias', 'x2paddle_features_transition1_conv_weight', 'x2paddle_features_denseblock2_denselayer1_conv2_weight', 'x2paddle_features_denseblock2_denselayer2_conv2_weight', 'x2paddle_features_denseblock2_denselayer3_conv2_weight', 'x2paddle_features_denseblock2_denselayer4_conv2_weight', 'x2paddle_features_denseblock2_denselayer5_conv2_weight', 'x2paddle_features_denseblock2_denselayer6_norm1_weight', 'x2paddle_features_denseblock2_denselayer6_norm1_bias', 'x2paddle_features_denseblock2_denselayer6_conv2_weight', 'x2paddle_features_denseblock2_denselayer7_norm1_weight', 'x2paddle_features_denseblock2_denselayer7_norm1_bias', 'x2paddle_features_denseblock2_denselayer7_conv2_weight', 'x2paddle_features_denseblock2_denselayer8_norm1_weight', 'x2paddle_features_denseblock2_denselayer8_norm1_bias', 'x2paddle_features_denseblock2_denselayer8_conv2_weight', 'x2paddle_features_denseblock2_denselayer9_norm1_weight', 'x2paddle_features_denseblock2_denselayer9_norm1_bias', 'x2paddle_features_denseblock2_denselayer9_conv2_weight', 'x2paddle_features_denseblock2_denselayer10_norm1_weight', 'x2paddle_features_denseblock2_denselayer10_norm1_bias', 'x2paddle_features_denseblock2_denselayer10_conv2_weight', 'x2paddle_features_denseblock2_denselayer11_norm1_weight', 'x2paddle_features_denseblock2_denselayer11_norm1_bias', 'x2paddle_features_denseblock2_denselayer11_conv2_weight', 'x2paddle_features_denseblock2_denselayer12_norm1_weight', 'x2paddle_features_denseblock2_denselayer12_norm1_bias', 'x2paddle_features_denseblock2_denselayer12_conv2_weight', 'x2paddle_features_transition2_norm_weight', 'x2paddle_features_transition2_norm_bias', 'x2paddle_features_transition2_conv_weight', 'x2paddle_features_denseblock3_denselayer1_conv2_weight', 'x2paddle_features_denseblock3_denselayer2_conv2_weight', 'x2paddle_features_denseblock3_denselayer3_conv2_weight', 'x2paddle_features_denseblock3_denselayer4_conv2_weight', 'x2paddle_features_denseblock3_denselayer5_conv2_weight', 'x2paddle_features_denseblock3_denselayer6_conv2_weight', 'x2paddle_features_denseblock3_denselayer7_conv2_weight', 'x2paddle_features_denseblock3_denselayer8_conv2_weight', 'x2paddle_features_denseblock3_denselayer9_conv2_weight', 'x2paddle_features_denseblock3_denselayer10_norm1_weight', 'x2paddle_features_denseblock3_denselayer10_norm1_bias', 'x2paddle_features_denseblock3_denselayer10_conv2_weight', 'x2paddle_features_denseblock3_denselayer11_norm1_weight', 'x2paddle_features_denseblock3_denselayer11_norm1_bias', 'x2paddle_features_denseblock3_denselayer11_conv2_weight', 'x2paddle_features_denseblock3_denselayer12_norm1_weight', 'x2paddle_features_denseblock3_denselayer12_norm1_bias', 'x2paddle_features_denseblock3_denselayer12_conv2_weight', 'x2paddle_features_denseblock3_denselayer13_norm1_weight', 'x2paddle_features_denseblock3_denselayer13_norm1_bias', 'x2paddle_features_denseblock3_denselayer13_conv2_weight', 'x2paddle_features_denseblock3_denselayer14_norm1_weight', 'x2paddle_features_denseblock3_denselayer14_norm1_bias', 'x2paddle_features_denseblock3_denselayer14_conv2_weight', 'x2paddle_features_denseblock3_denselayer15_norm1_weight', 'x2paddle_features_denseblock3_denselayer15_norm1_bias', 'x2paddle_features_denseblock3_denselayer15_conv2_weight', 'x2paddle_features_denseblock3_denselayer16_norm1_weight', 'x2paddle_features_denseblock3_denselayer16_norm1_bias', 'x2paddle_features_denseblock3_denselayer16_conv2_weight', 'x2paddle_features_denseblock3_denselayer17_norm1_weight', 'x2paddle_features_denseblock3_denselayer17_norm1_bias', 'x2paddle_features_denseblock3_denselayer17_conv2_weight', 'x2paddle_features_denseblock3_denselayer18_norm1_weight', 'x2paddle_features_denseblock3_denselayer18_norm1_bias', 'x2paddle_features_denseblock3_denselayer18_conv2_weight', 'x2paddle_features_denseblock3_denselayer19_norm1_weight', 'x2paddle_features_denseblock3_denselayer19_norm1_bias', 'x2paddle_features_denseblock3_denselayer19_conv2_weight', 'x2paddle_features_denseblock3_denselayer20_norm1_weight', 'x2paddle_features_denseblock3_denselayer20_norm1_bias', 'x2paddle_features_denseblock3_denselayer20_conv2_weight', 'x2paddle_features_denseblock3_denselayer21_norm1_weight', 'x2paddle_features_denseblock3_denselayer21_norm1_bias', 'x2paddle_features_denseblock3_denselayer21_conv2_weight', 'x2paddle_features_denseblock3_denselayer22_norm1_weight', 'x2paddle_features_denseblock3_denselayer22_norm1_bias', 'x2paddle_features_denseblock3_denselayer22_conv2_weight', 'x2paddle_features_denseblock3_denselayer23_norm1_weight', 'x2paddle_features_denseblock3_denselayer23_norm1_bias', 'x2paddle_features_denseblock3_denselayer23_conv2_weight', 'x2paddle_features_denseblock3_denselayer24_norm1_weight', 'x2paddle_features_denseblock3_denselayer24_norm1_bias', 'x2paddle_features_denseblock3_denselayer24_conv2_weight', 'x2paddle_features_transition3_norm_weight', 'x2paddle_features_transition3_norm_bias', 'x2paddle_features_transition3_conv_weight', 'x2paddle_features_denseblock4_denselayer1_conv2_weight', 'x2paddle_features_denseblock4_denselayer2_conv2_weight', 'x2paddle_features_denseblock4_denselayer3_conv2_weight', 'x2paddle_features_denseblock4_denselayer4_conv2_weight', 'x2paddle_features_denseblock4_denselayer5_conv2_weight', 'x2paddle_features_denseblock4_denselayer6_conv2_weight', 'x2paddle_features_denseblock4_denselayer7_conv2_weight', 'x2paddle_features_denseblock4_denselayer8_conv2_weight', 'x2paddle_features_denseblock4_denselayer9_conv2_weight', 'x2paddle_features_denseblock4_denselayer10_conv2_weight', 'x2paddle_features_denseblock4_denselayer11_conv2_weight', 'x2paddle_features_denseblock4_denselayer12_conv2_weight', 'x2paddle_features_denseblock4_denselayer13_conv2_weight', 'x2paddle_features_denseblock4_denselayer14_conv2_weight', 'x2paddle_features_denseblock4_denselayer15_conv2_weight', 'x2paddle_features_denseblock4_denselayer16_conv2_weight', 'x2paddle_classifier_weight', 'x2paddle_classifier_bias', 'x2paddle_onnx__Conv_1166', 'x2paddle_onnx__Conv_1169', 'x2paddle_onnx__Conv_1172', 'x2paddle_onnx__Conv_1175', 'x2paddle_onnx__Conv_1178', 'x2paddle_onnx__Conv_1181', 'x2paddle_onnx__Conv_1184', 'x2paddle_onnx__Conv_1187', 'x2paddle_onnx__Conv_1190', 'x2paddle_onnx__Conv_1193', 'x2paddle_onnx__Conv_1196', 'x2paddle_onnx__Conv_1199', 'x2paddle_onnx__Conv_1202', 'x2paddle_onnx__Conv_1205', 'x2paddle_onnx__Conv_1208', 'x2paddle_onnx__Conv_1211', 'x2paddle_onnx__Conv_1214', 'x2paddle_onnx__Conv_1217', 'x2paddle_onnx__Conv_1220', 'x2paddle_onnx__Conv_1223', 'x2paddle_onnx__Conv_1226', 'x2paddle_onnx__Conv_1229', 'x2paddle_onnx__Conv_1232', 'x2paddle_onnx__Conv_1235', 'x2paddle_onnx__Conv_1238', 'x2paddle_onnx__Conv_1241', 'x2paddle_onnx__Conv_1244', 'x2paddle_onnx__Conv_1247', 'x2paddle_onnx__Conv_1250', 'x2paddle_onnx__Conv_1253', 'x2paddle_onnx__Conv_1256', 'x2paddle_onnx__Conv_1259', 'x2paddle_onnx__Conv_1262', 'x2paddle_onnx__Conv_1265', 'x2paddle_onnx__Conv_1268', 'x2paddle_onnx__Conv_1271', 'x2paddle_onnx__Conv_1274', 'x2paddle_onnx__Conv_1277', 'x2paddle_onnx__Conv_1280', 'x2paddle_onnx__Conv_1283', 'x2paddle_onnx__Conv_1286', 'x2paddle_onnx__Conv_1289', 'x2paddle_onnx__Conv_1292', 'x2paddle_onnx__Conv_1295', 'x2paddle_onnx__Conv_1298', 'x2paddle_onnx__Conv_1301', 'x2paddle_onnx__Conv_1304', 'x2paddle_onnx__Conv_1307', 'x2paddle_onnx__Conv_1310', 'x2paddle_onnx__Conv_1313', 'x2paddle_onnx__Conv_1316', 'x2paddle_onnx__Conv_1319', 'x2paddle_onnx__Conv_1322', 'x2paddle_onnx__Conv_1325', 'x2paddle_onnx__Conv_1328', 'x2paddle_onnx__Conv_1331', 'x2paddle_onnx__Conv_1334', 'x2paddle_onnx__Conv_1337', 'x2paddle_onnx__Conv_1340', 'x2paddle__features_transition1_pool_Constant_output_0', 'x2paddle__features_transition2_pool_Constant_output_0', 'x2paddle__features_transition3_pool_Constant_output_0', 'conv0.weight'])\"\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"D:\\anaconda3\\envs\\LID-CMC\\lib\\runpy.py\", line 197, in _run_module_as_main\r\n    return _run_code(code, main_globals, None,\r\n  File \"D:\\anaconda3\\envs\\LID-CMC\\lib\\runpy.py\", line 87, in _run_code\r\n    exec(code, run_globals)\r\n  File \"D:\\anaconda3\\envs\\LID-CMC\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n    sys.exit(main())\r\n  File \"D:\\anaconda3\\envs\\LID-CMC\\lib\\site-packages\\x2paddle\\convert.py\", line 489, in main\r\n    onnx2paddle(\r\n  File \"D:\\anaconda3\\envs\\LID-CMC\\lib\\site-packages\\x2paddle\\convert.py\", line 304, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"D:\\anaconda3\\envs\\LID-CMC\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\onnx_op_mapper.py\", line 52, in __init__\r\n    func(node)\r\n  File \"D:\\anaconda3\\envs\\LID-CMC\\lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 112, in run_mapping\r\n    raise Exception(\"convert failed node:{}, op_type is {}\".format(\r\nException: convert failed node:_features_conv0_Conv_output_0, op_type is Conv\r\n- 错误截图\r\n![db1dbe0ff4aeab9fa9b91af2fb44cfb](https://github.com/PaddlePaddle/X2Paddle/assets/66775239/cab62df1-4463-4415-b7f4-410da1de5cb0)\r\n\r\n## 具体信息\r\n详细代码\r\n\r\n\r\n```\r\nimport torch,os\r\nfrom torchvision.models.densenet import DenseNet121_Weights, DenseNet\r\n\r\n# Initialize Result Path\r\ninput_tensor = torch.randn(64, 3, 224, 224)\r\noutput_folder = os.path.join(os.getcwd())\r\nif not os.path.exists(output_folder):\r\n    os.makedirs(output_folder)\r\n\r\nweights = DenseNet121_Weights.verify(None)\r\nmodel = DenseNet(32, (6, 12, 24, 16), num_classes=100)\r\nmodel_name = \"densenet121\"\r\nif weights is not None:\r\n     model.load_state_dict(weights.get_state_dict(progress=True))\r\nmodel.eval()\r\n\r\n# 指定存储文件夹的名称\r\nif not os.path.exists(os.path.join(output_folder, f\"{model_name}_IR_and_pd\")):\r\n    os.makedirs(os.path.join(output_folder, f\"{model_name}_IR_and_pd\"))\r\n\r\ntry:\r\n    import torch\r\nexcept Exception as e:\r\n    raise ValueError(f\"import torch failed:{e}\")\r\n\r\nonnx_file = os.path.join(output_folder, f\"{model_name}_IR_and_pd\", f\"testTorch{model_name}.onnx\")\r\ntry:\r\n   torch.onnx.export(model, input_tensor, onnx_file, verbose=True)\r\nexcept Exception as e:\r\n   raise ValueError(f\"Failed to export ONNX model: {e}\")\r\n\r\npd_model_dir = os.path.join(output_folder, f\"{model_name}_IR_and_pd\")\r\n\r\n# 使用 x2paddle 转换 ONNX 模型到 PaddlePaddle 格式\r\ntry:\r\n   conversion_command = f\"x2paddle --framework=onnx --model={onnx_file} --save_dir={pd_model_dir}\"\r\n   conversion_result = os.system(conversion_command)\r\n   print(f\"x2paddle conversion command returned: {conversion_result}\")\r\nexcept Exception as e:\r\n   raise ValueError(f\"Failed to convert ONNX model with x2paddle: {e}\")\r\n\r\nprint(f\"Model conversion completed. ONNX and PaddlePaddle models are saved in '{output_folder}'.\")\r\n```\r\n\r\n- 转换模型后用处\r\n    使用 Paddle 框架/ PaddleInference 推理预测\r\n\r\n- 模型来源\r\ndensenet121：https://github.com/pytorch/vision/blob/main/torchvision/models/densenet.py\r\n- 应用场景\r\n用于测试模型转换任务\r\n- 版本信息\r\nX2Paddle => 1.4.1 \r\ntorchvision  =>  0.15.2\r\n来源框架版本(PyTorch/TF/ONNX/Caffe): \r\nonxx => 1.15.0\r\nPytorch => 2.0.1\r\npaddlepaddle-gpu  =>  2.6.0 \r\n- 您的联系方式(邮箱/微信/电话)\r\nlixingpei123@nudt.edu.cn",
        "state": "open",
        "user": "zuishenke123",
        "closed_by": null,
        "created_at": "2024-04-20T14:03:27+00:00",
        "updated_at": "2024-04-23T07:58:28+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1011,
        "title": "onnx转换为paddle模型报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n -  `KeyError: \"x2paddle_onnx__Conv_1128 not a key in dict_keys(['`\r\n\r\n- 错误截图\r\n<img width=\"1567\" alt=\"image\" src=\"https://github.com/PaddlePaddle/X2Paddle/assets/41820386/d15404e4-9faf-48a5-8ac1-c082810ec389\">\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [X ] 使用 Paddle 框架推理预测\r\n    \r\n- 模型来源\r\n做对比实验，基于paddle模型进行二次开发\r\n- 应用场景\r\n服务端的应用\r\n- 版本信息\r\nPaddlePaddle => 2.5.0\r\nX2Paddle =>1.4.1\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => ONNX Torch内置模型shufflenet_v2_x1_0导出的onnx模型\r\n- 您的联系方式(邮箱/微信/电话) 15510512199\r\n",
        "state": "open",
        "user": "baominghelly",
        "closed_by": null,
        "created_at": "2024-04-23T08:35:26+00:00",
        "updated_at": "2024-04-23T08:35:26+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1012,
        "title": "yolov8_simply_model.onnx转paddle model报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n首先将pytorch训练的yolo v8转成onnx model，\r\ndef convert_to_onnx(self, simplify, model_path):\r\n        import onnx\r\n        self.generate(onnx=True)\r\n        im                  = torch.zeros(1, 3, *self.input_shape).to('cpu')  \r\n        input_layer_names   = [\"images\"]\r\n        output_layer_names  = [\"output\"]\r\n        \r\n        # Export the model\r\n        print(f'Starting export with onnx {onnx.__version__}.')\r\n        torch.onnx.export(self.net,\r\n                        im,\r\n                        f               = model_path,\r\n                        verbose         = False,\r\n                        opset_version   = 12,\r\n                        training        = torch.onnx.TrainingMode.EVAL,\r\n                        do_constant_folding = True,\r\n                        input_names     = input_layer_names,\r\n                        output_names    = output_layer_names,\r\n                        dynamic_axes    = None)\r\n\r\n        # Checks\r\n        model_onnx = onnx.load(model_path)  # load onnx model\r\n        onnx.checker.check_model(model_onnx)  # check onnx model\r\n\r\n        # Simplify onnx\r\n        if simplify:\r\n            import onnxsim\r\n            print(f'Simplifying with onnx-simplifier {onnxsim.__version__}.')\r\n            model_onnx, check = onnxsim.simplify(\r\n                model_onnx,\r\n                dynamic_input_shape=False,\r\n                input_shapes=None)\r\n            assert check, 'assert check failed'\r\n            onnx.save(model_onnx, model_path)\r\n\r\n        print('Onnx model save as {}'.format(model_path))\r\n\r\n- 错误信息\r\n- 错误截图\r\n![image](https://github.com/PaddlePaddle/X2Paddle/assets/70805685/a216c974-dfec-4223-8762-a5b6c7a4b3ce)\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ +] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:2.6.1\r\nX2Paddle => :grey_questions:1.4.1\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:torch 2.1.2+cu118\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "closed",
        "user": "fhfeishi",
        "closed_by": "fhfeishi",
        "created_at": "2024-05-11T15:40:09+00:00",
        "updated_at": "2024-05-22T06:33:52+00:00",
        "closed_at": "2024-05-22T06:33:52+00:00",
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1015,
        "title": "X2Paddle CI 建设",
        "body": "### 背景介绍\r\nX2Paddle 的流水线`x2paddle-ci `自2023年5月开始没有维护，现需要重启，来支持飞桨3.0版本的适配以及社区的共同建设。主要做以下两件事：\r\n- **支持飞桨3.0版本适配的前置条件**：重启CI，先跑通原来CI的配置（即飞桨2.4.2版本），后续将版本升级到3.0-beta版本，看有哪些需要适配的地方。\r\n- **社区共同建设的前置条件**：原来 CI 中的脚本和数据集都在 xly 内部的测试机上，需要整体梳理，并整理到 X2Paddle 的仓库中，便于社区开发者共同维护。\r\n\r\n### 待做清单：1.5 版本\r\n- [x] 制作 X2Paddle 镜像：现在 CI 中安装各种依赖包 35分钟 #1022 \r\n- [x] x2paddle-ci 模型测试 和 X2paddle-autoscantest 单元测试\r\n  - [x] 重启CI @gzydsmz\r\n  - [x] 将原CI中的脚本和数据集公开，跑通飞桨2.4.2版本的新 CI 配置 @luotao1 \r\n\r\n| 模型/数量 | 本地测试机跑通      | 测试脚本整理到仓库   | 测试数据集整理到Bos | CI 跑通优化后的脚本 |\r\n| --------- |----------------     | --------------------   | --------------------- | -------------------- |\r\n| Caffe/20 | ✅  3分钟 |  ✅ #1014  | ✅ #1023 | ✅ |\r\n| Pytorch/34 | ✅（YOLOX/MockingBird除外）24分钟  |  ✅#1025   | ✅#1026 #1027| ✅#1028 #1029|\r\n| Tensorflow/28 | ✅（KerasBert除外）5分钟  | ✅ #1033  | ✅#1033 | ✅|\r\n| ONNX/57 |  ✅ 17分钟|  ✅#1030 #1031 | ✅#1030 |  ✅#1032 |\r\n| test/onnx/18 | ✅ | ✅#1035   | / | ✅ |\r\n| test/pytorch/6 |  |  ✅#860 #1036    |  |  |    \r\n   - #1020 \r\n- [ ] 增强集成测试：\r\n   - [ ] 镜像更新为带有 TensorRT的\r\n   - [x] 并行跑 CI 测试，控制在半小时内\r\n   - [ ] 简易版精准测试：根据修改的是哪个框架的转换规则，跑对应的单测，减少CI时间\r\n   - [ ] 一些遗留模型的转换\r\n   - [x] CodeStyle 流水线\r\n- [x] 合入之前遗留的PR，发新版本 \r\n### 后续工作规划\r\n1. 摸底适配飞桨各版本的工作量，发布适配活动，邀请社区开发者完成\r\n\r\n| 版本 | 摸底工作量      | 发布适配活动   | 邀请开发者完成 |\r\n| --------- |----------------     | --------------------   | --------------------- | \r\n| 2.5版本 |  |    |  | \r\n| 2.6版本 |  |    |  | \r\n| 3.0-beta版本 |  |    |  | \r\n\r\n2. 在3.0-beta 版本上发布新增大语言生成模型的任务，邀请社区开发者完成",
        "state": "open",
        "user": "luotao1",
        "closed_by": null,
        "created_at": "2024-06-06T02:47:59+00:00",
        "updated_at": "2024-07-31T07:41:44+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1013,
        "title": "ONNX opset_verison 11 转为 Paddle 时 Round 算子不支持",
        "body": "## 问题描述\r\n\r\nONNX opset_verison 11 转为 Paddle 时 Round 算子不支持:\r\n\r\n```bash\r\nINFO:root:paddle.__version__ = 2.2.0\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 6, op version: 11\r\nShape inferencing ...\r\nShape inferenced.\r\n/home/mambaforge/envs/paddle_py37/lib/python3.7/site-packages/x2paddle/decoder/onnx_decoder.py:369: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in a future release.To silence this warning, please use `helper.tensor_dtype_to_np_dtype` instead.\r\n  TENSOR_TYPE_TO_NP_TYPE[item.type.tensor_type.elem_type],\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 11.\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== Round ============\r\n```\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n\r\n将模型在**昆仑智能卡**上进行部署推理。\r\n\r\n- 模型来源\r\n自己训练得到\r\n\r\n- 版本信息\r\nX2Paddle => :1.4.1:\r\n",
        "state": "open",
        "user": "ZhangYuef",
        "closed_by": null,
        "created_at": "2024-06-05T03:28:32+00:00",
        "updated_at": "2024-06-05T03:38:43+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1016,
        "title": "转chatglm2的onnx推理模型时，调用onnx2paddle接口时，会报错模型太大。",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\nValueError: This protobuf of onnx model is too large (>2GB). Call check_model with model path instead.\r\n\r\n- 错误截图\r\n<img width=\"743\" alt=\"截屏2024-06-10 20 39 19\" src=\"https://github.com/PaddlePaddle/X2Paddle/assets/54535300/ae1dd028-92d9-45fd-b67c-126e9440a337\">\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ✅ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nchatglm2\r\n- 应用场景\r\n\r\n- 版本信息\r\nPaddlePaddle => 2.6.1\r\nX2Paddle => 1.4.1\r\n来源框架版本(ONNX) => 1.16.0\r\n- 您的联系方式(邮箱/微信/电话)\r\nwangzy0817@buaa.edu.cn",
        "state": "open",
        "user": "shanyuaa",
        "closed_by": null,
        "created_at": "2024-06-10T15:18:52+00:00",
        "updated_at": "2024-06-11T06:15:52+00:00",
        "closed_at": null,
        "comments_count": [
            "luotao1",
            "shanyuaa"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1024,
        "title": "5 OPs are not supported yet",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n`========= 5 OPs are not supported yet ===========\r\n========== aten::_convolution_mode ============\r\n========== aten::square ============\r\n========== aten::mish_ ============\r\n========== aten::mish ============\r\n========== aten::logsumexp ============\r\nTraceback (most recent call last):\r\n  File \"/content/KataGo/python/convert.py\", line 468, in <module>\r\n    main(args)\r\n  File \"/content/KataGo/python/convert.py\", line 68, in main\r\n    pytorch2paddle(module=model,\r\n  File \"/usr/local/lib/python3.10/dist-packages/x2paddle/convert.py\", line 380, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"/usr/local/lib/python3.10/dist-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 41, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.`\r\n- 错误截图\r\n<img width=\"658\" alt=\"截屏2024-07-09 11 09 52\" src=\"https://github.com/PaddlePaddle/X2Paddle/assets/35905034/00d7361f-0d03-40bc-bdc8-c6cf763a6ce8\">\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nhttps://media.katagotraining.org/uploaded/networks/zips/kata1/kata1-b18c384nbt-s9996604416-d4316597426.zip\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "Dreamkeeper66666",
        "closed_by": null,
        "created_at": "2024-07-09T03:11:41+00:00",
        "updated_at": "2024-07-20T01:57:52+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1017,
        "title": "x2paddle转换yolov5后推理报错",
        "body": "在将pytorch的yolov5转换到paddle过程中eval报错\r\n\r\n- 错误信息\r\nValueError: (InvalidArgument) The 'shape' in ReshapeOp is invalid. The input tensor X'size must be equal to the capacity of 'shape'. But received X's shape = [1, 512, 1, 1], X's size = 512, 'shape' is [2, 512], the capacity of 'shape' is 1024.\r\n  [Hint: Expected capacity == in_size, but received capacity:1024 != in_size:512.] (at ../paddle/fluid/operators/reshape_op.cc:234)\r\n  [operator < reshape2 > error]\r\n\r\n- 错误截图\r\n![image](https://github.com/PaddlePaddle/X2Paddle/assets/38915327/4aa054eb-2c66-474c-bca3-050e4317ce42)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    \r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n-\r\n",
        "state": "open",
        "user": "luoshiyong",
        "closed_by": null,
        "created_at": "2024-06-26T07:32:51+00:00",
        "updated_at": "2024-11-21T14:39:48+00:00",
        "closed_at": null,
        "comments_count": [
            "Andy197527",
            "megemini"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1042,
        "title": "在onnx转PaddlePaddle时报错AssertionError，aspp模块转化有问题",
        "body": "报错如下\r\n![222](https://github.com/user-attachments/assets/4e28c5e4-fded-4de8-a6bc-a7b75e544fe7)\r\n\r\n好像是aspp模块的转化上有问题",
        "state": "open",
        "user": "IAmAlwaysOnline",
        "closed_by": null,
        "created_at": "2024-07-30T08:58:43+00:00",
        "updated_at": "2024-10-25T15:57:40+00:00",
        "closed_at": null,
        "comments_count": [
            "megemini"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1057,
        "title": "ONNX 转 Paddle 报错",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n用 X2paddle 将onnx模型转paddle模型时出错。\r\n\r\n- 错误信息\r\n- 错误截图\r\n<img width=\"976\" alt=\"截屏2024-09-29 上午11 38 25\" src=\"https://github.com/user-attachments/assets/6de36e76-949e-4b97-9875-8eb72996862d\">\r\n\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n- 模型来源\r\nhttps://github.com/VQAssessment/DOVER\r\n- 应用场景\r\n用paddleinference推理部署\r\n- 版本信息\r\nPaddlePaddle => paddlepaddle-gpu   2.4.2.post112\r\nX2Paddle => 1.5.0\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) =>onnx  1.12.0\r\n- 您的联系方式(邮箱/微信/电话)\r\n你好，可以如流联系我，zhaoyizhan\r\n",
        "state": "open",
        "user": "zhaoyizhan",
        "closed_by": null,
        "created_at": "2024-09-29T03:41:23+00:00",
        "updated_at": "2024-09-29T03:41:23+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1060,
        "title": "[PaddleV3] x2paddle 套件能力建设 Tracking Issue",
        "body": "## 任务简介\r\n\r\n### x2paddle 套件能力建设\r\n\r\nX2Paddle 是飞桨生态下的模型转换工具，致力于帮助其它深度学习框架（Caffe/TensorFlow/ONNX/PyTorch）用户快速迁移至飞桨框架。由于近期 Paddle 新版本的升级存在不兼容部分（如 paddle.fluid API 全面退场，0-d tensor，view 行为修改等），需要重新对 X2Paddle 进行适配开发与回归测试，保证模型转换工具的正常运转，转换后模型的功能与精度不受损失。同时，近期大模型领域有新的热门模型发布，需要添加此类模型的转换策略，保证模型转换工具的丰富度和领先性。\r\n\r\n更多信息参考 [x2paddle 套件能力建设](https://github.com/PaddlePaddle/community/blob/master/hackathon/hackathon_7th/%E3%80%90Hackathon%207th%E3%80%91FundableProject%E4%BB%BB%E5%8A%A1%E5%90%88%E9%9B%86.md#%E4%B8%89x2paddle-%E5%A5%97%E4%BB%B6%E8%83%BD%E5%8A%9B%E5%BB%BA%E8%AE%BE)\r\n\r\n### RFC\r\n\r\n* [x] https://github.com/PaddlePaddle/community/pull/971\r\n\r\n### 🏗️ 第一阶段 适配 Paddle 3.0.0\r\n\r\n* [x] 1-1. 升级 CI 环境\r\n  https://github.com/PaddlePaddle/X2Paddle/pull/1061\r\n   https://github.com/PaddlePaddle/X2Paddle/pull/1064\r\n* [x] 1-2. 修复 `paddle.fluid` 兼容问题\r\n  https://github.com/PaddlePaddle/X2Paddle/issues/1059\r\n* [x] 1-3. 修复其他兼容性问题\r\n  https://github.com/PaddlePaddle/X2Paddle/issues/1066\r\n* [x] 1-4. 使用新的动转静\r\n  https://github.com/PaddlePaddle/X2Paddle/pull/1093\r\n* [x] 1.5. 英文说明文档\r\n  https://github.com/PaddlePaddle/X2Paddle/pull/1101\r\n\r\n### 🔜 第二阶段 补充模型\r\n\r\n* [x] 2-1. 新增 1-2 个大语言模型的转换策略\r\n  https://github.com/PaddlePaddle/X2Paddle/pull/1085\r\n  https://github.com/PaddlePaddle/X2Paddle/pull/1086\r\n  https://github.com/PaddlePaddle/X2Paddle/pull/1099\r\n\r\n### 🔜 第三阶段 收尾\r\n\r\n* [ ] 3-1. 任务总结，PPT，答辩\r\n* [x] 3-2. 清理 test_autoscan 的日志 `logger.xxx`\r\n  https://github.com/PaddlePaddle/X2Paddle/pull/1103\r\n* [ ] 3-3. 更新 dockerfile\r\n* [x] 3-4. 更新 [x2paddle_model_zoo.md](https://github.com/PaddlePaddle/X2Paddle/blob/develop/docs/introduction/x2paddle_model_zoo.md) & 首页 ReadME\r\n  https://github.com/PaddlePaddle/X2Paddle/pull/1103\r\n  https://github.com/PaddlePaddle/X2Paddle/pull/1101\r\n* [ ] 3-5. 出 x2paddle 新版本\r\n### 其他\r\n* [ ] 跟踪 tf 两个模型的问题，需要 Paddle 主框架配合\r\n  - https://github.com/PaddlePaddle/X2Paddle/pull/1083\r\n  - https://github.com/PaddlePaddle/X2Paddle/pull/1091\r\n* [ ] 跟踪 inference 卡住的问题\r\n  https://github.com/PaddlePaddle/X2Paddle/pull/1077\r\n\r\n@luotao1 \r\n\r\n请悉知～ ：）\r\n\r\n\r\n",
        "state": "open",
        "user": "megemini",
        "closed_by": null,
        "created_at": "2024-10-08T10:29:49+00:00",
        "updated_at": "2024-12-10T04:45:02+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1052,
        "title": "已经把yolov8模型利用#x2paddle --framework=paddle --model=best.paddle --save_dir= 转换成功，但是面对转换成功的我如何进行推理调用呢？就是在paddlepaddle框架内？",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n已经把yolov8模型利用#x2paddle --framework=paddle --model=best.paddle --save_dir= 转换成功，但是面对转换成功的我如何进行推理调用呢？就是在paddlepaddle框架内？\r\n- 错误信息：无\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "Andy197527",
        "closed_by": null,
        "created_at": "2024-08-04T02:08:11+00:00",
        "updated_at": "2024-10-25T15:00:00+00:00",
        "closed_at": null,
        "comments_count": [
            "megemini"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1053,
        "title": "FlagEmbedding模型onnx转paddle成功但是转换后模型无法加载",
        "body": "## 问题描述\r\nonnx转paddle成功但是转换后模型无法加载\r\n- 错误信息\r\nTraceback (most recent call last):\r\n  File \"paddle_infer.py\", line 7, in <module>\r\n    model = paddle.jit.load(paddle_path)\r\n  File \"/opt/conda/envs/paddle2.5.1_cuda11.2/lib/python3.8/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/opt/conda/envs/paddle2.5.1_cuda11.2/lib/python3.8/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/conda/envs/paddle2.5.1_cuda11.2/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 449, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/opt/conda/envs/paddle2.5.1_cuda11.2/lib/python3.8/site-packages/paddle/jit/api.py\", line 1500, in load\r\n    return TranslatedLayer._construct(model_path, config)\r\n  File \"/opt/conda/envs/paddle2.5.1_cuda11.2/lib/python3.8/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/opt/conda/envs/paddle2.5.1_cuda11.2/lib/python3.8/site-packages/paddle/fluid/wrapped_decorator.py\", line 25, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/conda/envs/paddle2.5.1_cuda11.2/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 449, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/opt/conda/envs/paddle2.5.1_cuda11.2/lib/python3.8/site-packages/paddle/jit/translated_layer.py\", line 1455, in _construct\r\n    programs = _construct_program_holders(model_path, model_filename)\r\n  File \"/opt/conda/envs/paddle2.5.1_cuda11.2/lib/python3.8/site-packages/paddle/jit/translated_layer.py\", line 842, in _construct_program_holders\r\n    _load_program_desc(model_file_path)\r\n  File \"/opt/conda/envs/paddle2.5.1_cuda11.2/lib/python3.8/site-packages/paddle/jit/translated_layer.py\", line 51, in _load_program_desc\r\n    program_desc = core.ProgramDesc(program_desc_str)\r\nValueError: (InvalidArgument) Failed to parse program_desc from binary string.\r\n  [Hint: Expected desc_.ParseFromString(binary_str) == true, but received desc_.ParseFromString(binary_str):0 != true:1.] (at ../paddle/fluid/framework/program_desc.cc:150)\r\n\r\n- 错误截图\r\n<img width=\"1039\" alt=\"image\" src=\"https://github.com/user-attachments/assets/47a097fc-91a5-4543-aa70-72c49cd622b2\">\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n\r\n- 模型来源\r\nhttps://huggingface.co/BAAI/bge-reranker-base\r\n\r\n- 应用场景\r\n文本检索\r\n\r\n- 版本信息\r\nPaddlePaddle =>2.5.1\r\nX2Paddle => 1.4.1",
        "state": "closed",
        "user": "czx97",
        "closed_by": "luotao1",
        "created_at": "2024-08-05T13:17:26+00:00",
        "updated_at": "2024-08-06T07:47:58+00:00",
        "closed_at": "2024-08-06T07:47:58+00:00",
        "comments_count": [
            "czx97",
            "luotao1",
            "czx97"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1059,
        "title": "[PaddleV3] 修复 `paddle.fluid` 问题",
        "body": "此 ISSUE 用于跟踪 X2Paddle 适配 Paddle 3.0.0 任务中，修复 `paddle.fluid` 问题。\r\n\r\n<details open>\r\n\r\n<summary>\r\n\r\n#### 🔜 test_benchmark\r\n\r\n</summary>\r\n\r\n| 序号     | 文件                                                  | PR 链接                     |\r\n| ------ | ---------------------------------------------------- | ------------------------- |\r\n| A-1 | `test_benchmark/PyTorch/DBFace/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-2 | `test_benchmark/PyTorch/DBFace/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-3 | `test_benchmark/PyTorch/DPRContextEncoder/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-4 | `test_benchmark/PyTorch/DPRContextEncoder/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-5 | `test_benchmark/PyTorch/ElectraModel/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-6 | `test_benchmark/PyTorch/ElectraModel/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-7 | `test_benchmark/PyTorch/MNasNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-8 | `test_benchmark/PyTorch/MNasNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-9 | `test_benchmark/PyTorch/CamembertForQuestionAnswering/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-10 | `test_benchmark/PyTorch/CamembertForQuestionAnswering/test_dygraph2static.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-11 | `test_benchmark/PyTorch/CamembertForQuestionAnswering/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-12 | `test_benchmark/PyTorch/EasyOCR_detector/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1084 |\r\n| A-13 | `test_benchmark/PyTorch/EasyOCR_detector/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1084 |\r\n| A-14 | `test_benchmark/PyTorch/EDSR/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-15 | `test_benchmark/PyTorch/EDSR/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-16 | `test_benchmark/PyTorch/BertModel_SpanBert/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-17 | `test_benchmark/PyTorch/BertModel_SpanBert/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-18 | `test_benchmark/PyTorch/DeepLabv3_ResNet50/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1075 |\r\n| A-19 | `test_benchmark/PyTorch/DeepLabv3_ResNet50/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1075 |\r\n| A-20 | `test_benchmark/PyTorch/ShuffleNetV2/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-21 | `test_benchmark/PyTorch/ShuffleNetV2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| ✅A-22 | `test_benchmark/PyTorch/AlexNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1058 |\r\n| A-23 | `test_benchmark/PyTorch/AlexNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-24 | `test_benchmark/PyTorch/ResNet18/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-25 | `test_benchmark/PyTorch/ResNet18/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-26 | `test_benchmark/PyTorch/FlaubertModel/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-27 | `test_benchmark/PyTorch/FlaubertModel/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-28 | `test_benchmark/PyTorch/MobileNetV2/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-29 | `test_benchmark/PyTorch/MobileNetV2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-30 | `test_benchmark/PyTorch/Roberta/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-31 | `test_benchmark/PyTorch/Roberta/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-32 | `test_benchmark/PyTorch/BASNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-33 | `test_benchmark/PyTorch/BASNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-34 | `test_benchmark/PyTorch/EasyOCR_recognizer/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1084 |\r\n| A-35 | `test_benchmark/PyTorch/EasyOCR_recognizer/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1084 |\r\n| A-36 | `test_benchmark/PyTorch/GRU/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1076 |\r\n| A-37 | `test_benchmark/PyTorch/GRU/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1076 |\r\n| A-38 | `test_benchmark/PyTorch/FCN_ResNet50/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1075 |\r\n| A-39 | `test_benchmark/PyTorch/FCN_ResNet50/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1075 |\r\n| A-40 | `test_benchmark/PyTorch/ACG_UnitTest/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1073 |\r\n| A-41 | `test_benchmark/PyTorch/XLMRobertaForTokenClassification/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-42 | `test_benchmark/PyTorch/XLMRobertaForTokenClassification/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-43 | `test_benchmark/PyTorch/BertForMaskedLM_dccuchile/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-44 | `test_benchmark/PyTorch/BertForMaskedLM_dccuchile/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1078 |\r\n| A-45 | `test_benchmark/PyTorch/opadd/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1073 |\r\n| A-46 | `test_benchmark/PyTorch/opadd/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1073 |\r\n| A-47 | `test_benchmark/PyTorch/ResNet18_2/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-48 | `test_benchmark/PyTorch/ResNet18_2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-49 | `test_benchmark/PyTorch/SqueezeNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-50 | `test_benchmark/PyTorch/SqueezeNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-51 | `test_benchmark/PyTorch/mobilenetv3/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-52 | `test_benchmark/PyTorch/MiniFasNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1079 |\r\n| A-53 | `test_benchmark/PyTorch/MiniFasNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1079 |\r\n| A-54 | `test_benchmark/PyTorch/Saicinpainting_LaMa/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1073 |\r\n| A-55 | `test_benchmark/PyTorch/tools/predict.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-56 | `test_benchmark/PyTorch/InceptionV3/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-57 | `test_benchmark/PyTorch/InceptionV3/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-58 | `test_benchmark/PyTorch/VGG16/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-59 | `test_benchmark/PyTorch/VGG16/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1065 |\r\n| A-60 | `test_benchmark/PyTorch/MockingBird/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1080 |\r\n| A-61 | `test_benchmark/PyTorch/SwinTransformer/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1079 |\r\n| A-62 | `test_benchmark/PyTorch/SwinTransformer/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1079 |\r\n| A-63 | `test_benchmark/Caffe/SSD/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-64 | `test_benchmark/Caffe/SSD/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-65 | `test_benchmark/Caffe/UNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-66 | `test_benchmark/Caffe/UNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-67 | `test_benchmark/Caffe/MNasNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-68 | `test_benchmark/Caffe/MNasNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-69 | `test_benchmark/Caffe/MTCNN1/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-70 | `test_benchmark/Caffe/MTCNN1/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-71 | `test_benchmark/Caffe/MTCNN3/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-72 | `test_benchmark/Caffe/MTCNN3/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-73 | `test_benchmark/Caffe/ShuffleNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-74 | `test_benchmark/Caffe/ShuffleNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-75 | `test_benchmark/Caffe/MobileNetV1/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-76 | `test_benchmark/Caffe/MobileNetV1/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-77 | `test_benchmark/Caffe/SegFlow/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-78 | `test_benchmark/Caffe/AlexNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-79 | `test_benchmark/Caffe/AlexNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-80 | `test_benchmark/Caffe/ResNet18/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-81 | `test_benchmark/Caffe/ResNet18/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-82 | `test_benchmark/Caffe/MobileNetV2/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-83 | `test_benchmark/Caffe/MobileNetV2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-84 | `test_benchmark/Caffe/MTCNN2/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-85 | `test_benchmark/Caffe/MTCNN2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-86 | `test_benchmark/Caffe/3class/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-87 | `test_benchmark/Caffe/3class/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-88 | `test_benchmark/Caffe/ResNet50/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-89 | `test_benchmark/Caffe/ResNet50/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-90 | `test_benchmark/Caffe/TSM/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-91 | `test_benchmark/Caffe/TSM/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-92 | `test_benchmark/Caffe/SqueezeNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-93 | `test_benchmark/Caffe/SqueezeNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-94 | `test_benchmark/Caffe/tools/predict.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-95 | `test_benchmark/Caffe/caffemodel1/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-96 | `test_benchmark/Caffe/caffemodel1/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-97 | `test_benchmark/Caffe/FaceDetction/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-98 | `test_benchmark/Caffe/FaceDetction/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-99 | `test_benchmark/Caffe/VGG16/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-100 | `test_benchmark/Caffe/VGG16/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-101 | `test_benchmark/Caffe/VGG19/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-102 | `test_benchmark/Caffe/VGG19/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n| A-103 | `test_benchmark/TensorFlow/ShuffleNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-104 | `test_benchmark/TensorFlow/ShuffleNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-105 | `test_benchmark/TensorFlow/ResNetV1/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-106 | ~~`test_benchmark/TensorFlow/ResNetV1/t.py`~~ | |\r\n| A-107 | `test_benchmark/TensorFlow/ResNetV1/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-108 | `test_benchmark/TensorFlow/MobileNetV1/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-109 | `test_benchmark/TensorFlow/MobileNetV1/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-110 | `test_benchmark/TensorFlow/UNet-UNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-111 | `test_benchmark/TensorFlow/UNet-UNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-112 | `test_benchmark/TensorFlow/RetinaFace/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-113 | `test_benchmark/TensorFlow/RetinaFace/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-114 | `test_benchmark/TensorFlow/pix2pix/pd_infer.py` | |\r\n| A-115 | `test_benchmark/TensorFlow/EfficientNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-116 | `test_benchmark/TensorFlow/EfficientNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-117 | `test_benchmark/TensorFlow/MobileNetV2/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-118 | `test_benchmark/TensorFlow/MobileNetV2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-119 | `test_benchmark/TensorFlow/YOLOv3_darknet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-120 | `test_benchmark/TensorFlow/YOLOv3_darknet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-121 | `test_benchmark/TensorFlow/ToyUNet-ToyUnet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1083 |\r\n| A-122 | `test_benchmark/TensorFlow/ToyUNet-ToyUnet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1083 |\r\n| A-123 | `test_benchmark/TensorFlow/InceptionResNetV2/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-124 | `test_benchmark/TensorFlow/InceptionResNetV2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-125 | `test_benchmark/TensorFlow/MobileNetV3_large/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-126 | `test_benchmark/TensorFlow/MobileNetV3_large/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-127 | `test_benchmark/TensorFlow/KerasBert/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1083 |\r\n| A-128 | `test_benchmark/TensorFlow/KerasBert/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1083 |\r\n| A-129 | `test_benchmark/TensorFlow/frozen_MobileNetV1/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-130 | `test_benchmark/TensorFlow/frozen_MobileNetV1/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-131 | `test_benchmark/TensorFlow/ToyUNet-UNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-132 | `test_benchmark/TensorFlow/ToyUNet-UNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-133 | `test_benchmark/TensorFlow/MNASNetA1/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-134 | `test_benchmark/TensorFlow/MNASNetA1/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-135 | `test_benchmark/TensorFlow/UNet-GanUNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-136 | `test_benchmark/TensorFlow/UNet-GanUNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-137 | `test_benchmark/TensorFlow/ResNetV2/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-138 | `test_benchmark/TensorFlow/ResNetV2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-139 | `test_benchmark/TensorFlow/MTCNN-PNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-140 | `test_benchmark/TensorFlow/MTCNN-PNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-141 | `test_benchmark/TensorFlow/AlBert/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-142 | `test_benchmark/TensorFlow/AlBert/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-143 | `test_benchmark/TensorFlow/SqueezeNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-144 | `test_benchmark/TensorFlow/SqueezeNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-145 | `test_benchmark/TensorFlow/tools/predict.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-146 | `test_benchmark/TensorFlow/InceptionV4/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-147 | `test_benchmark/TensorFlow/InceptionV4/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-148 | `test_benchmark/TensorFlow/InceptionV3/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-149 | `test_benchmark/TensorFlow/InceptionV3/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-150 | `test_benchmark/TensorFlow/MTCNN-RNet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-151 | `test_benchmark/TensorFlow/MTCNN-RNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-152 | `test_benchmark/TensorFlow/VGG16/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-153 | `test_benchmark/TensorFlow/VGG16/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-154 | `test_benchmark/TensorFlow/MTCNN-ONet/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-155 | `test_benchmark/TensorFlow/MTCNN-ONet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1069 |\r\n| A-156 | `test_benchmark/TensorFlow/YOLOv3/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-157 | `test_benchmark/TensorFlow/YOLOv3/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-158 | `test_benchmark/TensorFlow/frozen/deploy_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-159 | `test_benchmark/TensorFlow/frozen/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1070 |\r\n| A-160 | `test_benchmark/ONNX/circledet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-161 | `test_benchmark/ONNX/bert6/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1082 |\r\n| A-162 | `test_benchmark/ONNX/vgg11_bn/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-163 | `test_benchmark/ONNX/resnet18/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-164 | `test_benchmark/ONNX/GPEN/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-165 | `test_benchmark/ONNX/inceptionv1/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-166 | `test_benchmark/ONNX/mmdetection_ssd/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1082 |\r\n| A-167 | `test_benchmark/ONNX/mmdetection_yolov3/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1082 |\r\n| A-168 | `test_benchmark/ONNX/Poselandmarks/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-169 | `test_benchmark/ONNX/mmdetection_fsaf/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1082 |\r\n| A-170 | `test_benchmark/ONNX/resnet152/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-171 | `test_benchmark/ONNX/crnn_lstm/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-172 | `test_benchmark/ONNX/inceptionv2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-173 | `test_benchmark/ONNX/face_cyclegan_34/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-174 | `test_benchmark/ONNX/IDG_multi_modal_sequential_model/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-175 | `test_benchmark/ONNX/shufflenet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-176 | `test_benchmark/ONNX/Seg/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-177 | `test_benchmark/ONNX/mmdetection_retina/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1082 |\r\n| A-178 | `test_benchmark/ONNX/IDG_keypoint_selection/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-179 | `test_benchmark/ONNX/IDG_test_sim_feat_new/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-180 | `test_benchmark/ONNX/densenet121/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-181 | `test_benchmark/ONNX/IDG_local_vis/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-182 | `test_benchmark/ONNX/resnet101/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-183 | `test_benchmark/ONNX/cifarnet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-184 | `test_benchmark/ONNX/vgg19_bn/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-185 | `test_benchmark/ONNX/yolov5s_fix_resize/inference_onnx_paddle.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-186 | `test_benchmark/ONNX/yolov5s_fix_resize/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-187 | `test_benchmark/ONNX/vgg11/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-188 | `test_benchmark/ONNX/pnasnet_mobile/infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-189 | `test_benchmark/ONNX/pnasnet_mobile/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-190 | `test_benchmark/ONNX/IDG_multi_modal_fully_cnn_model/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-191 | `test_benchmark/ONNX/best_float32/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-192 | `test_benchmark/ONNX/yolov5s/inference_onnx_paddle.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1082 |\r\n| A-193 | `test_benchmark/ONNX/yolov5s/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1082 |\r\n| A-194 | `test_benchmark/ONNX/modelGen/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-195 | `test_benchmark/ONNX/IDG_detection_registration_p2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-196 | `test_benchmark/ONNX/basnet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-197 | `test_benchmark/ONNX/mmdetection_fasterrcnn/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1082 |\r\n| A-198 | `test_benchmark/ONNX/ronin_2d_cp9/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-199 | `test_benchmark/ONNX/tools/predict.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-200 | `test_benchmark/ONNX/MLPerf_ResNet50/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-201 | `test_benchmark/ONNX/facedetector/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-202 | `test_benchmark/ONNX/FaceNet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-203 | `test_benchmark/ONNX/IDG_detection_registration_p1/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-204 | `test_benchmark/ONNX/resnet34/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-205 | `test_benchmark/ONNX/VIT_online/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-206 | `test_benchmark/ONNX/IDG_multi_modal_crop_cnn_model/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-207 | `test_benchmark/ONNX/vgg16_bn/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-208 | `test_benchmark/ONNX/mnasnet_a1/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-209 | `test_benchmark/ONNX/squeezenet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-210 | `test_benchmark/ONNX/vgg19/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-211 | `test_benchmark/ONNX/efficientnet_b0/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-212 | `test_benchmark/ONNX/mobilefacenet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1082 |\r\n| A-213 | `test_benchmark/ONNX/mmdetection_fcos/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1082 |\r\n| A-214 | `test_benchmark/ONNX/hand_landmark_ar/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068|\r\n| A-215 | `test_benchmark/ONNX/SwinTransformer/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1079 |\r\n| A-216 | `test_benchmark/ONNX/alexnet/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-217 | `test_benchmark/ONNX/IDG_test_process/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1067 |\r\n| A-218 | `test_benchmark/ONNX/resnet50/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-219 | `test_benchmark/ONNX/transformer/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n| A-220 | `test_benchmark/ONNX/mobilenet_v2/pd_infer.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1068 |\r\n\r\n</details>\r\n\r\n<details open>\r\n\r\n<summary>\r\n\r\n#### 🔜 x2paddle\r\n\r\n</summary>\r\n\r\n| 序号     | 文件                                                  | PR 链接                     |\r\n| ------ | ---------------------------------------------------- | ------------------------- |\r\n| B-1 | `x2paddle/project_convertor/pytorch/torch2paddle/nn_init.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1087 |\r\n| B-2 | `x2paddle/project_convertor/pytorch/torch2paddle/parambase.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1087 |\r\n| B-3 | `x2paddle/optimizer/elimination/transpose_elimination.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1087 |\r\n| B-4 | `x2paddle/op_mapper/caffe2paddle/caffe_custom_layer/detectionoutput.py` | https://github.com/PaddlePaddle/X2Paddle/pull/1071 |\r\n\r\n</details>\r\n\r\n<details open>\r\n\r\n<summary>\r\n\r\n#### 🔜 docs\r\n\r\n</summary>\r\n\r\n| 序号     | 文件                                                  | PR 链接                     |\r\n| ------ | ---------------------------------------------------- | ------------------------- |\r\n| C-1 | `docs/inference_model_convertor/add_caffe_custom_layer.md` | https://github.com/PaddlePaddle/X2Paddle/pull/1088 |\r\n| C-2 | `docs/pytorch_project_convertor/API_docs/nn/torch.nn.LSTM.md` | https://github.com/PaddlePaddle/X2Paddle/pull/1088 |\r\n| C-3 | `docs/pytorch_project_convertor/API_docs/utils/torch.nn.parameter.Parameter.md` | https://github.com/PaddlePaddle/X2Paddle/pull/1088 |\r\n| C-4 | `docs/pytorch_project_convertor/API_docs/utils/README.md` | https://github.com/PaddlePaddle/X2Paddle/pull/1088 |\r\n\r\n</details>\r\n",
        "state": "closed",
        "user": "megemini",
        "closed_by": "megemini",
        "created_at": "2024-10-08T10:29:20+00:00",
        "updated_at": "2024-11-20T10:40:56+00:00",
        "closed_at": "2024-11-20T10:40:55+00:00",
        "comments_count": [
            "megemini"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1063,
        "title": "请问X2Paddle支持mmdeploy的部署模型吗",
        "body": "请问X2Paddle支持mmdeploy的部署模型吗",
        "state": "open",
        "user": "FishSmallL",
        "closed_by": null,
        "created_at": "2024-10-11T10:12:26+00:00",
        "updated_at": "2024-10-11T10:12:26+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1062,
        "title": "onnx转换为paddle失败",
        "body": "## 问题描述\r\n使用mmdeploy部署yolox，并转为onnx，再转为paddle时，报错\r\n\r\n- 错误截图\r\n- \r\n![image](https://github.com/user-attachments/assets/11076998-097a-4b9f-9d2a-dbf0327a536a)\r\n\r\n![image](https://github.com/user-attachments/assets/875a9108-92b5-4f70-a171-308a5f2504d1)\r\n\r\n## 具体信息\r\n\r\n\r\n- onnx模型\r\n链接: https://pan.baidu.com/s/1pAlN7uG5HdXTCZplThnb_w 提取码: wdet 复制这段内容后打开百度网盘手机App，操作更方便哦\r\n\r\n",
        "state": "open",
        "user": "FishSmallL",
        "closed_by": null,
        "created_at": "2024-10-11T08:45:57+00:00",
        "updated_at": "2024-10-25T14:52:33+00:00",
        "closed_at": null,
        "comments_count": [
            "FishSmallL",
            "megemini"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1072,
        "title": "MobileNetV3的HardSwish不支持",
        "body": "## 问题描述\r\n我将MobileNetV3的onnx模型转换为paddle模型，转换命令：\r\nx2paddle --framework=onnx --model=mobilenet.onnx --save_dir=pd_model，出现报错。\r\n- 错误信息\r\n========= 1 OPs are not supported yet ===========\r\n========== HardSwish ============\r\nTraceback (most recent call last):\r\n  File \"/usr/local/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/usr/local/lib/python3.9/dist-packages/x2paddle/convert.py\", line 501, in main\r\n    onnx2paddle(args.model,\r\n  File \"/usr/local/lib/python3.9/dist-packages/x2paddle/convert.py\", line 316, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/usr/local/lib/python3.9/dist-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 39, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n- 错误截图\r\n![2024-10-15_16-31](https://github.com/user-attachments/assets/b9e12184-3353-4a25-9bbd-6ef2d2a1b93e)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ x] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nhttps://github.com/xiaolai-sqlai/mobilenetv3\r\n- 应用场景\r\n用于移动端业务下的分类\r\n- 版本信息\r\nPaddlePaddle ==2.5.2\r\nX2Paddle == 1.5.0\r\nONNX==14\r\n1928847546@qq.com",
        "state": "open",
        "user": "Yanxingang",
        "closed_by": null,
        "created_at": "2024-10-15T08:38:17+00:00",
        "updated_at": "2024-10-15T08:38:17+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1081,
        "title": "x2paddle转换onnx模型到paddle模型报错",
        "body": "我先用命令：\r\npaddle2onnx --model_dir ./ --model_filename model.pdmodel --params_filename model.pdiparams --save_file ./model.onnx --enable_onnx_checker True \r\n转换paddle模型：https://bj.bcebos.com/v1/paddledet/models/pipeline/mot_ppyoloe_l_36e_pipeline.zip 到onnx，转换成功。\r\n然后用命令：\r\nx2paddle --framework=onnx --model=model.onnx --save_dir=pd_model\r\n转换onnx模型到paddle模型，转换失败。\r\n\r\n\r\npaddle2onnx的输出：\r\npaddle2onnx --model_dir ./ \\\r\n--model_filename model.pdmodel \\\r\n--params_filename model.pdiparams \\\r\n--save_file ./model.onnx \\\r\n--enable_onnx_checker True \r\n[Paddle2ONNX] Start to parse PaddlePaddle model...\r\n[Paddle2ONNX] Model file path: ./model.pdmodel\r\n[Paddle2ONNX] Parameters file path: ./model.pdiparams\r\n[Paddle2ONNX] Start to parsing Paddle model...\r\n[Paddle2ONNX] [reduce_mean: mean_0.tmp_0] Requires the minimal opset version of 11.\r\n[Paddle2ONNX] [reduce_mean: mean_1.tmp_0] Requires the minimal opset version of 11.\r\n[Paddle2ONNX] [reduce_mean: mean_2.tmp_0] Requires the minimal opset version of 11.\r\n[Paddle2ONNX] [reduce_mean: mean_3.tmp_0] Requires the minimal opset version of 11.\r\n[Paddle2ONNX] [multiclass_nms3: multiclass_nms3_0.tmp_1] Requires the minimal opset version of 10.\r\n[Paddle2ONNX] Due to the operator: reduce_mean, requires opset_version >= 11.\r\n[Paddle2ONNX] Opset version will change to 11 from 9\r\n[Paddle2ONNX] Use opset_version = 11 for ONNX export.\r\n[Paddle2ONNX] PaddlePaddle model is exported as ONNX format now.\r\n\r\n\r\nx2paddle的输出：\r\nx2paddle --framework=onnx --model=model.onnx --save_dir=pd_model\r\nmodel ir_version: 6, op version: 11\r\nShape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nShape inferenced.\r\nTraceback (most recent call last):\r\n  File \"/opt/anaconda3/envs/paddle/bin/x2paddle\", line 8, in <module>\r\n    sys.exit(main())\r\n  File \"/opt/anaconda3/envs/paddle/lib/python3.10/site-packages/x2paddle/convert.py\", line 501, in main\r\n    onnx2paddle(args.model,\r\n  File \"/opt/anaconda3/envs/paddle/lib/python3.10/site-packages/x2paddle/convert.py\", line 315, in onnx2paddle\r\n    model = ONNXDecoder(model_path, enable_onnx_checker, input_shape_dict)\r\n  File \"/opt/anaconda3/envs/paddle/lib/python3.10/site-packages/x2paddle/decoder/onnx_decoder.py\", line 415, in __init__\r\n    self.graph = ONNXGraph(onnx_model, input_shape_dict)\r\n  File \"/opt/anaconda3/envs/paddle/lib/python3.10/site-packages/x2paddle/decoder/onnx_decoder.py\", line 201, in __init__\r\n    self.collect_value_infos()\r\n  File \"/opt/anaconda3/envs/paddle/lib/python3.10/site-packages/x2paddle/decoder/onnx_decoder.py\", line 374, in collect_value_infos\r\n    TENSOR_TYPE_TO_NP_TYPE[item.type.tensor_type.elem_type],\r\n  File \"/opt/anaconda3/envs/paddle/lib/python3.10/site-packages/onnx/mapping.py\", line 132, in __getitem__\r\n    return super().__getitem__(key)\r\nKeyError: 0\r\n\r\n\r\npython包版本信息：\r\nPackage            Version\r\n------------------ -----------\r\nanyio              4.6.2.post1\r\nastor              0.8.1\r\ncertifi            2024.8.30\r\ncharset-normalizer 3.4.0\r\ndecorator          5.1.1\r\nexceptiongroup     1.2.2\r\nh11                0.14.0\r\nhttpcore           1.0.6\r\nhttpx              0.27.2\r\nidna               3.10\r\nmpmath             1.3.0\r\nnumpy              2.1.2\r\nonnx               1.17.0\r\nopt-einsum         3.3.0\r\npackaging          24.1\r\npaddle2onnx        1.2.11\r\npaddlepaddle       2.6.2\r\npillow             11.0.0\r\npip                24.2\r\nprotobuf           5.28.2\r\nrequests           2.32.3\r\nsetuptools         75.2.0\r\nsix                1.16.0\r\nsniffio            1.3.1\r\nsympy              1.13.3\r\ntyping_extensions  4.12.2\r\nurllib3            2.2.3\r\nwheel              0.44.0\r\nx2paddle           1.5.0\r\n\r\n系统版本：\r\nos                          ubuntu 22.04  Linux version 6.8.0-47-generic\r\n\r\nemail: leashi@qq.com\r\n",
        "state": "open",
        "user": "leashi",
        "closed_by": null,
        "created_at": "2024-10-22T07:16:20+00:00",
        "updated_at": "2024-10-22T07:16:20+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1066,
        "title": "[PaddleV3] 模型修改进度跟踪",
        "body": "模型修改进度跟踪\r\n\r\n\r\n| 框架 | 数量 | `paddle.fluid` | 算子缺失 | 模型问题 | 其他问题| 整体修复占比 |\r\n| ------ | ----- | ------- | ------- | ------- |------- |------- |\r\n| ✅ PyTorch    | 33 | 33/33 | 13/13 | 4/4 | 2/2 | 100% | \r\n| ✅ ONNX \t     | 57 | 57/57 | 0/0 | 10/10 | 0/0 | 100% | \r\n| TensorFlow | 28 | 26/28 | 0/0 | 1/2  | 2/3 | 26/28=93% | \r\n| ✅ Caffe    | 20 | 20/20 | 0/0 | 1/1  | 0/0 | 100% | \r\n\r\n\r\n<details open>\r\n\r\n<summary>\r\n\r\n#### 💠 PyTorch\r\n\r\n</summary>\r\n\r\n| 序号    | 模型                                  | `paddle.fluid`            | 算子缺失            | 模型问题 | 其他问题 |\r\n| ------ | ------------------------------------- | ------------------------- | ------------------------- | - | - |\r\n| A-1 | ACG_UnitTest | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1073 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1073 | | |\r\n| A-2 | AlexNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1058 | |\r\n| A-3 | BASNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-4 | BertForMaskedLM_dccuchile | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | | |\r\n| A-5 | BertModel_SpanBert | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | | |\r\n| A-6 | CamembertForQuestionAnswering | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | | |\r\n| A-7 | DBFace | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-8 | DPRContextEncoder | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | | |\r\n| A-9 | DeepLabv3_ResNet50 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1075 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1075 | | |\r\n| A-10 | EDSR | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-11 | EasyOCR_detector | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1084 | |  | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1084 模型更新 |\r\n| A-12 | EasyOCR_recognizer | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1084 | |  | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1084 模型更新 |\r\n| A-13 | ElectraModel | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-14 | FCN_ResNet50 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1075 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1075 | | |\r\n| A-15 | FlaubertModel | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-16 | GRU | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1076 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1076 | | |\r\n| A-17 | InceptionV3 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-18 | MNasNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-19 | MiniFasNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1079 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1079 | |\r\n| A-20 | MobileNetV2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-21 | Mobilestereonet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1073 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1073 | | |\r\n| A-22 | MockingBird | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1080 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1080 | |\r\n| A-23 | ResNet18 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-24 | ResNet18_2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-25 | Roberta | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | | |\r\n| A-26 | Saicinpainting_LaMa | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1073 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1073 | | |\r\n| A-27 | ShuffleNetV2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-28 | SqueezeNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-29 | SwinTransformer | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1079 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1079 | |\r\n| A-30 | VGG16 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-31 | XLMRobertaForTokenClassification | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1078 | | |\r\n| A-32 | mobilenetv3 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1065 | | | |\r\n| A-33 | opadd | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1073 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1073 | | |\r\n\r\n</details>\r\n\r\n<details open>\r\n\r\n<summary>\r\n\r\n#### 💠 ONNX\r\n\r\n</summary>\r\n\r\n| 序号    | 模型                                  | `paddle.fluid`            | 算子缺失            | 模型问题 | 其他问题 |\r\n| ------ | ------------------------------------- | ------------------------- | ------------------------- | - | - |\r\n| B-1 | FaceNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-2 | GPEN | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-3 | IDG_detection_registration_p1 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-4 | IDG_detection_registration_p2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-5 | IDG_keypoint_selection | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-6 | IDG_local_vis | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-7 | IDG_multi_modal_crop_cnn_model | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-8 | IDG_multi_modal_fully_cnn_model | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-9 | IDG_multi_modal_sequential_model | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-10 | IDG_test_process | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-11 | IDG_test_sim_feat_new | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-12 | MLPerf_ResNet50 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-13 | Poselandmarks | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-14 | Seg | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-15 | SwinTransformer | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | |\r\n| B-16 | VIT_online | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-17 | alexnet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-18 | basnet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1067 | | | |\r\n| B-19 | bert6 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | |\r\n| B-20 | best_float32 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-21 | cifarnet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-22 | circledet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-23 | crnn_lstm | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-24 | densenet121 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-25 | efficientnet_b0 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-26 | face_cyclegan_34 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-27 | facedetector | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-28 | hand_landmark_ar | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-29 | inceptionv1 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-30 | inceptionv2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-31 | mmdetection_fasterrcnn | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | |\r\n| B-32 | mmdetection_fcos | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | |\r\n| B-33 | mmdetection_fsaf | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | |\r\n| B-34 | mmdetection_retina | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | |\r\n| B-35 | mmdetection_ssd | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | |\r\n| B-36 | mmdetection_yolov3 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | |\r\n| B-37 | mnasnet_a1 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-38 | mobilefacenet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | |\r\n| B-39 | mobilenet_v2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-40 | modelGen | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-41 | pnasnet_mobile | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-42 | resnet101 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-43 | resnet152 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-44 | resnet18 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-45 | resnet34 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-46 | resnet50 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-47 | ronin_2d_cp9 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-48 | shufflenet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-49 | squeezenet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-50 | transformer | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-51 | vgg11 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-52 | vgg11_bn | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-53 | vgg16_bn | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-54 | vgg19 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-55 | vgg19_bn | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n| B-56 | yolov5s | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1082 | |\r\n| B-57 | yolov5s_fix_resize | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1068 | | | |\r\n\r\n</details>\r\n\r\n<details open>\r\n\r\n<summary>\r\n\r\n#### 💠 TensorFlow\r\n\r\n</summary>\r\n\r\n| 序号    | 模型                                  | `paddle.fluid`            | 算子缺失            | 模型问题 | 其他问题 |\r\n| ------ | ------------------------------------- | ------------------------- | ------------------------- | - | - |\r\n| C-1 | AlBert | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | ✅ 兼容 TensorFlow 新版本|\r\n| C-2 | EfficientNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1089 | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1089 | |\r\n| C-3 | InceptionResNetV2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | |\r\n| C-4 | InceptionV3 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | |\r\n| C-5 | InceptionV4 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | |\r\n| C-6 | KerasBert | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1083 | | | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1083 读取输入 |\r\n| C-7 | MNASNetA1 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | |\r\n| C-8 | MTCNN-ONet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | |\r\n| C-9 | MTCNN-PNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | |\r\n| C-10 | MTCNN-RNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | |\r\n| C-11 | MobileNetV1 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | |\r\n| C-12 | MobileNetV2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | |\r\n| C-13 | MobileNetV3_large | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1069 | | | |\r\n| C-14 | ResNetV1 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-15 | ResNetV2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-16 | RetinaFace | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-17 | ShuffleNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-18 | SqueezeNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-19 | ToyUNet-ToyUnet | 🔵 https://github.com/PaddlePaddle/X2Paddle/pull/1083 | | | 🔵 https://github.com/PaddlePaddle/X2Paddle/pull/1083 读取输入 |\r\n| C-20 | ToyUNet-UNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-21 | UNet-GanUNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-22 | UNet-UNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-23 | VGG16 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-24 | YOLOv3 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-25 | YOLOv3_darknet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-26 | frozen | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-27 | frozen_MobileNetV1 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1070 | | | |\r\n| C-28 | pix2pix | 🔵 https://github.com/PaddlePaddle/X2Paddle/pull/1091 | | 🔵 https://github.com/PaddlePaddle/X2Paddle/pull/1091 | |\r\n\r\n</details>\r\n\r\n<details open>\r\n\r\n<summary>\r\n\r\n#### 💠 Caffe\r\n\r\n</summary>\r\n\r\n| 序号    | 模型                                  | `paddle.fluid`            | 算子缺失            | 模型问题 | 其他问题 |\r\n| ------ | ------------------------------------- | ------------------------- | ------------------------- | - | - |\r\n| D-1 | 3class | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-2 | AlexNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-3 | FaceDetction | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | ✅ detection_output 兼容新版本 |\r\n| D-4 | MNasNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-5 | MTCNN1 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-6 | MTCNN2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-7 | MTCNN3 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-8 | MobileNetV1 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-9 | MobileNetV2 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-10 | ResNet18 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-11 | ResNet50 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-12 | SSD | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-13 | SegFlow | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-14 | ShuffleNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-15 | SqueezeNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-16 | TSM | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-17 | UNet | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-18 | VGG16 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-19 | VGG19 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n| D-20 | caffemodel1 | ✅ https://github.com/PaddlePaddle/X2Paddle/pull/1071 | | | |\r\n\r\n</details>\r\n\r\n\r\n修复 `paddle.fluid` ： \r\n\r\n- https://github.com/PaddlePaddle/X2Paddle/pull/1065\r\n- https://github.com/PaddlePaddle/X2Paddle/pull/1067\r\n- https://github.com/PaddlePaddle/X2Paddle/pull/1068\r\n- https://github.com/PaddlePaddle/X2Paddle/pull/1069\r\n- https://github.com/PaddlePaddle/X2Paddle/pull/1070\r\n- https://github.com/PaddlePaddle/X2Paddle/pull/1071\r\n\r\n关联 PR：https://github.com/PaddlePaddle/X2Paddle/issues/1060\r\n\r\n🟠 存在问题\r\n\r\n🔵 正在修复\r\n\r\n✅ 已完成",
        "state": "closed",
        "user": "megemini",
        "closed_by": "megemini",
        "created_at": "2024-10-14T04:55:42+00:00",
        "updated_at": "2024-11-20T10:40:30+00:00",
        "closed_at": "2024-11-20T10:40:29+00:00",
        "comments_count": [
            "megemini"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1090,
        "title": "SwinTransformer模型转换失败",
        "body": "## 问题描述\r\nSwinTransformer模型转换失败，使用本仓库转换代码以及模型\r\n\r\n运行环境，aarch64， torch是cpu版本，2.5.1和1.10.2都失败，同样的报错\r\nPaddlePaddle = 2.6.1:\r\nX2Paddle = 1.5.0\r\n\r\n- 错误信息\r\n-  warnings.warn(\r\nFail to generate inference model! Problem happened while export inference model from python code '/work/code/X2Paddle/test_benchmark/PyTorch/SwinTransformer/pd_model_trace/x2paddle_code.py';\r\n\r\n===================Error Information===============\r\nTraceback (most recent call last):\r\n  File \"/work/code/X2Paddle/test_benchmark/PyTorch/SwinTransformer/convert_trace.py\", line 27, in <module>\r\n    pytorch2paddle(torch_module,\r\n  File \"/opt/py310/lib/python3.10/site-packages/x2paddle/convert.py\", line 398, in pytorch2paddle\r\n    mapper.paddle_graph.gen_model(save_dir,\r\n  File \"/opt/py310/lib/python3.10/site-packages/x2paddle/core/program.py\", line 308, in gen_model\r\n    raise e\r\n  File \"/opt/py310/lib/python3.10/site-packages/x2paddle/core/program.py\", line 302, in gen_model\r\n    self.dygraph2static(save_dir, input_shapes, input_types)\r\n  File \"/opt/py310/lib/python3.10/site-packages/x2paddle/core/program.py\", line 584, in dygraph2static\r\n    paddle.jit.save(static_model,\r\n  File \"/opt/py310/lib/python3.10/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/base/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/jit/api.py\", line 809, in wrapper\r\n    func(layer, path, input_spec, **configs)\r\n  File \"/opt/py310/lib/python3.10/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/base/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/base/dygraph/base.py\", line 68, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/jit/api.py\", line 1104, in save\r\n    static_func.concrete_program_specify_input_spec(\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/jit/dy2static/program_translator.py\", line 986, in concrete_program_specify_input_spec\r\n    concrete_program, _ = self.get_concrete_program(\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/jit/dy2static/program_translator.py\", line 875, in get_concrete_program\r\n    concrete_program, partial_program_layer = self._program_cache[\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/jit/dy2static/program_translator.py\", line 1648, in __getitem__\r\n    self._caches[item_id] = self._build_once(item)\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/jit/dy2static/program_translator.py\", line 1575, in _build_once\r\n    concrete_program = ConcreteProgram.from_func_spec(\r\n  File \"/opt/py310/lib/python3.10/site-packages/decorator.py\", line 232, in fun\r\n    return caller(func, *(extras + args), **kw)\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/base/wrapped_decorator.py\", line 26, in __impl__\r\n    return wrapped_func(*args, **kwargs)\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/base/dygraph/base.py\", line 68, in __impl__\r\n    return func(*args, **kwargs)\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/jit/dy2static/program_translator.py\", line 1346, in from_func_spec\r\n    error_data.raise_new_exception()\r\n  File \"/opt/py310/lib/python3.10/site-packages/paddle/jit/dy2static/error.py\", line 452, in raise_new_exception\r\n    raise new_exception from None\r\nAssertionError: In transformed code:\r\n\r\n    File \"/work/code/X2Paddle/test_benchmark/PyTorch/SwinTransformer/pd_model_trace/x2paddle_code.py\", line 545, in forward\r\n        layers_0_downsample_reduction_weight = self.layers_0_downsample_reduction_weight\r\n        x274 = paddle.matmul(x=x272, y=layers_0_downsample_reduction_weight, transpose_y=True)\r\n        x274 = paddle.add(x=x274, y=x47)\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x276 = 0\r\n        x277 = 2\r\n\r\n    File \"/opt/py310/lib/python3.10/site-packages/paddle/tensor/math.py\", line 699, in add\r\n        return _elementwise_op(LayerHelper('elementwise_add', **locals()))\r\n    File \"/opt/py310/lib/python3.10/site-packages/paddle/tensor/math.py\", line 580, in _elementwise_op\r\n        assert y is not None, f'y cannot be None in {original_op_type}'\r\n\r\n    AssertionError: y cannot be None in elementwise_add\r\n\r\n\r\n- 模型来源\r\n本仓库提供的链接\r\n\r\n\r\n",
        "state": "open",
        "user": "UnlimitedWand",
        "closed_by": null,
        "created_at": "2024-10-31T04:35:20+00:00",
        "updated_at": "2024-11-07T13:06:53+00:00",
        "closed_at": null,
        "comments_count": [
            "megemini"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1094,
        "title": "Exception: Model is not supported yet.",
        "body": "## 问题描述\r\nTraceback (most recent call last):\r\n  File \"/home/pc/anaconda3/envs/x2paddle/bin/x2paddle\", line 33, in <module>\r\n    sys.exit(load_entry_point('x2paddle==1.4.1', 'console_scripts', 'x2paddle')())\r\n  File \"/home/pc/anaconda3/envs/x2paddle/lib/python3.9/site-packages/x2paddle/convert.py\", line 501, in main\r\n    onnx2paddle(args.model,\r\n  File \"/home/pc/anaconda3/envs/x2paddle/lib/python3.9/site-packages/x2paddle/convert.py\", line 316, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n  File \"/home/pc/anaconda3/envs/x2paddle/lib/python3.9/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 39, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n- 错误信息\r\n- 错误截图\r\n![image](https://github.com/user-attachments/assets/b29c7620-87c2-4362-8e1b-fb919581e955)\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [x] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\n[YOLOX：https://github.com/Megvii-BaseDetection/YOLOX](https://github.com/magicleap/SuperGluePretrainedNetwork)\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n",
        "state": "open",
        "user": "ChristoCai",
        "closed_by": null,
        "created_at": "2024-11-11T04:31:03+00:00",
        "updated_at": "2024-11-21T14:34:54+00:00",
        "closed_at": null,
        "comments_count": [
            "megemini"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1100,
        "title": "Exception: Paddle>=2.0.0 is required, Please update version!",
        "body": "**请将下面信息填写完整，便于我们快速解决问题，谢谢！**\r\n\r\n**问题描述**\r\nx2paddle --framework onnx --model /home/zhengxinjiang/code/DeepFilterNet-main/torchDF/denoiser_model.onnx -save_dir pd_model\r\n转模型的时候发生version报错\r\n\r\n**更多信息 :**\r\n\r\n\r\n**报错截图**\r\nTraceback (most recent call last):\r\n  File \"/home/zhengxinjiang/anaconda3/envs/py3.8/bin/x2paddle\", line 5, in <module>\r\n    from x2paddle.convert import main\r\n  File \"/home/zhengxinjiang/anaconda3/envs/py3.8/lib/python3.8/site-packages/x2paddle/convert.py\", line 17, in <module>\r\n    from x2paddle.utils import ConverterCheck\r\n  File \"/home/zhengxinjiang/anaconda3/envs/py3.8/lib/python3.8/site-packages/x2paddle/utils.py\", line 112, in <module>\r\n    paddle_dtypes = PaddleDtypes(is_new_version)\r\n  File \"/home/zhengxinjiang/anaconda3/envs/py3.8/lib/python3.8/site-packages/x2paddle/utils.py\", line 108, in __init__\r\n    raise Exception(\"Paddle>=2.0.0 is required, Please update version!\")\r\nException: Paddle>=2.0.0 is required, Please update version!\r\n\r\n**其他信息**\r\nPackage                  Version\r\n------------------------ --------------\r\nabsl-py                  1.4.0\r\naiofiles                 23.1.0\r\naiohttp                  3.8.4\r\naiosignal                1.3.1\r\naltair                   4.2.2\r\nanyio                    3.6.2\r\nappdirs                  1.4.4\r\nastor                    0.8.1\r\nasync-timeout            4.0.2\r\nattrs                    22.2.0\r\naudioread                3.0.0\r\ncachetools               5.3.0\r\ncertifi                  2022.12.7\r\ncffi                     1.15.1\r\nchardet                  5.1.0\r\ncharset-normalizer       3.0.1\r\nclick                    8.1.3\r\ncloudpickle              2.2.1\r\ncmake                    3.26.3\r\ncolorama                 0.4.6\r\ncontextlib2              21.6.0\r\ncontourpy                1.0.7\r\ncycler                   0.11.0\r\ndecorator                5.1.1\r\ndnspython                2.3.0\r\neinops                   0.6.0\r\nentrypoints              0.4\r\nfastapi                  0.95.0\r\nffmpy                    0.3.0\r\nfilelock                 3.10.0\r\nfonttools                4.38.0\r\nfrozenlist               1.3.3\r\nfsspec                   2023.3.0\r\nftfy                     6.1.1\r\nfuture                   0.18.3\r\ngoogle-auth              2.16.1\r\ngoogle-auth-oauthlib     0.4.6\r\ngradio                   3.25.0\r\ngradio_client            0.1.0\r\ngrpcio                   1.51.3\r\nh11                      0.14.0\r\nhttpcore                 0.17.0\r\nhttpx                    0.24.0\r\nhuggingface-hub          0.13.4\r\nhyperopt                 0.1.2\r\nidna                     3.4\r\nimportlib-metadata       6.0.0\r\nimportlib-resources      5.12.0\r\nJinja2                   3.1.2\r\njoblib                   1.2.0\r\njson-tricks              3.16.1\r\njsonschema               4.17.3\r\nkiwisolver               1.4.4\r\nlibrosa                  0.9.2\r\nlinkify-it-py            2.0.0\r\nlit                      16.0.1\r\nllvmlite                 0.39.1\r\nMarkdown                 3.4.1\r\nmarkdown-it-py           2.2.0\r\nMarkupSafe               2.1.2\r\nmatplotlib               3.7.0\r\nmdit-py-plugins          0.3.3\r\nmdurl                    0.1.2\r\nmpmath                   1.3.0\r\nmsgpack                  1.0.4\r\nmultidict                6.0.4\r\nnetworkx                 3.0\r\nnni                      2.10\r\nnumba                    0.56.4\r\nnumpy                    1.23.5\r\nnvidia-cublas-cu11       11.10.3.66\r\nnvidia-cuda-cupti-cu11   11.7.101\r\nnvidia-cuda-nvrtc-cu11   11.7.99\r\nnvidia-cuda-runtime-cu11 11.7.99\r\nnvidia-cudnn-cu11        8.5.0.96\r\nnvidia-cufft-cu11        10.9.0.58\r\nnvidia-curand-cu11       10.2.10.91\r\nnvidia-cusolver-cu11     11.4.0.1\r\nnvidia-cusparse-cu11     11.7.4.91\r\nnvidia-nccl-cu11         2.14.3\r\nnvidia-nvtx-cu11         11.7.91\r\noauthlib                 3.2.2\r\nolefile                  0.46\r\nopt-einsum               3.3.0\r\norjson                   3.8.10\r\npackaging                23.0\r\npaddlepaddle             3.0.0b1\r\npandas                   1.5.3\r\nPillow                   9.4.0\r\npip                      22.3.1\r\npkgutil_resolve_name     1.3.10\r\npooch                    1.6.0\r\nprettytable              3.6.0\r\nprogressbar              2.5\r\nprotobuf                 4.22.0\r\npsutil                   5.9.4\r\npyasn1                   0.4.8\r\npyasn1-modules           0.2.8\r\npycparser                2.21\r\npydantic                 1.10.7\r\npydub                    0.25.1\r\npymongo                  4.3.3\r\npyparsing                3.0.9\r\npyrsistent               0.19.3\r\npython-dateutil          2.8.2\r\npython-multipart         0.0.6\r\nPythonWebHDFS            0.2.3\r\npytorch-lightning        1.2.0\r\npytz                     2022.7.1\r\nPyYAML                   6.0\r\nregex                    2023.3.23\r\nrequests                 2.28.2\r\nrequests-oauthlib        1.3.1\r\nresampy                  0.4.2\r\nresponses                0.23.1\r\nrsa                      4.9\r\nschema                   0.7.5\r\nscikit-learn             1.2.1\r\nscipy                    1.10.1\r\nsemantic-version         2.10.0\r\nsetuptools               65.6.3\r\nsimplejson               3.18.4\r\nsix                      1.16.0\r\nsniffio                  1.3.0\r\nsoundfile                0.12.1\r\nstarlette                0.26.1\r\nsympy                    1.11.1\r\ntensorboard              2.12.0\r\ntensorboard-data-server  0.7.0\r\ntensorboard-plugin-wit   1.8.1\r\nthreadpoolctl            3.1.0\r\ntokenizers               0.13.3\r\ntoolz                    0.12.0\r\ntorch                    1.10.0+cu111\r\ntorchaudio               0.10.0+rocm4.1\r\ntorchlibrosa             0.0.9\r\ntorchvision              0.11.0+cu111\r\ntqdm                     4.64.1\r\ntransformers             4.27.4\r\ntriton                   2.0.0\r\ntypeguard                2.13.3\r\ntypes-PyYAML             6.0.12.8\r\ntyping_extensions        4.5.0\r\nuc-micro-py              1.0.1\r\nurllib3                  1.26.14\r\nuvicorn                  0.21.1\r\nwcwidth                  0.2.6\r\nwebsockets               10.4\r\nWerkzeug                 2.2.3\r\nwheel                    0.38.4\r\nx2paddle                 1.5.0\r\nyarl                     1.8.2\r\nzipp                     3.14.0\r\n",
        "state": "closed",
        "user": "zxj329",
        "closed_by": "luotao1",
        "created_at": "2024-11-19T12:34:44+00:00",
        "updated_at": "2025-01-15T03:36:26+00:00",
        "closed_at": "2025-01-15T03:36:25+00:00",
        "comments_count": [
            "Zheng-Bicheng",
            "Zheng-Bicheng",
            "megemini",
            "luotao1"
        ],
        "labels": [
            "bug"
        ]
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1096,
        "title": "新版cuda下，onnx转化失败 ，希望升级该功能。",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "closed",
        "user": "mcl-stone",
        "closed_by": "luotao1",
        "created_at": "2024-11-18T08:03:18+00:00",
        "updated_at": "2024-12-13T02:53:40+00:00",
        "closed_at": "2024-12-13T02:53:40+00:00",
        "comments_count": [
            "megemini"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1102,
        "title": "yolov5 onnx 转 infer 报错 Scale's shape must be 2 or 1, but got shape = 0 ",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- (paddle_env) iotmp@iotmp-PR4024ZY:/media/sdb3/PaddleOCR$ x2paddle --framework=onnx --model=/media/sdb3/rknn_model_zoo/models/vision/object_detection/yolov5-pytorch/yolov5/runs/capchat_20241202/exp4/weights/best.onnx --save_dir=./capchat/capchat_20241203_infer --enable_onnx_checker=true --input_shape_dict=\"{'image':[1, 3, 640, 640]}\"\r\n/home/iotmp/anaconda3/envs/paddle_env/lib/python3.8/site-packages/setuptools/command/easy_install.py:41: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html\r\n  import pkg_resources\r\n/home/iotmp/anaconda3/envs/paddle_env/lib/python3.8/site-packages/pkg_resources/__init__.py:3154: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('mpl_toolkits')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\n/home/iotmp/anaconda3/envs/paddle_env/lib/python3.8/site-packages/pkg_resources/__init__.py:3154: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('google')`.\r\nImplementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages\r\n  declare_namespace(pkg)\r\nINFO:root:paddle.__version__ = 2.4.0\r\nINFO:root:Now translating model from onnx to paddle.\r\nmodel ir_version: 4, op version: 9\r\nShape inferencing ...\r\nStopping at incomplete shape inference at Concat: x2paddle__model_12_Concat_output_0\r\nnode inputs:\r\nname: \"x2paddle__model_11_Upsample_output_0\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_param: \"unk__0\"\r\n      }\r\n      dim {\r\n        dim_param: \"unk__1\"\r\n      }\r\n      dim {\r\n        dim_param: \"unk__2\"\r\n      }\r\n      dim {\r\n        dim_param: \"unk__3\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nname: \"x2paddle__model_6_cv3_act_Relu_output_0\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n        dim_value: 1\r\n      }\r\n      dim {\r\n        dim_value: 256\r\n      }\r\n      dim {\r\n        dim_value: 40\r\n      }\r\n      dim {\r\n        dim_value: 40\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nnode outputs:\r\nname: \"x2paddle__model_12_Concat_output_0\"\r\ntype {\r\n  tensor_type {\r\n    elem_type: 1\r\n    shape {\r\n      dim {\r\n      }\r\n      dim {\r\n        dim_param: \"unk__1 + 256\"\r\n      }\r\n      dim {\r\n      }\r\n      dim {\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n!!!!!!!!!!\r\nShape inferenced.\r\n/home/iotmp/anaconda3/envs/paddle_env/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:374: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in a future release.To silence this warning, please use `helper.tensor_dtype_to_np_dtype` instead.\r\n  TENSOR_TYPE_TO_NP_TYPE[item.type.tensor_type.elem_type],\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 9.\r\nTotal nodes: 150\r\nNodes converting ...\r\nConverting node 1 ...     /home/iotmp/anaconda3/envs/paddle_env/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:172: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in a future release.To silence this warning, please use `helper.tensor_dtype_to_np_dtype` instead.\r\n  return TENSOR_TYPE_TO_NP_TYPE[dtype]\r\nConverting node 2 ...     /home/iotmp/anaconda3/envs/paddle_env/lib/python3.8/site-packages/x2paddle/decoder/onnx_decoder.py:175: DeprecationWarning: `mapping.TENSOR_TYPE_TO_NP_TYPE` is now deprecated and will be removed in a future release.To silence this warning, please use `helper.tensor_dtype_to_np_dtype` instead.\r\n  return TENSOR_TYPE_TO_NP_TYPE[dtype]\r\nConverting node 276 ...\r\nNodes converted.\r\nINFO:root:Model optimizing ...\r\nINFO:root:Model optimized.\r\nExporting inference model from python code ('/media/sdb3/PaddleOCR/capchat/capchat_20241203_infer/x2paddle_code.py')...\r\n\r\nIn transformed code:\r\n\r\n    File \"/media/sdb3/PaddleOCR/./capchat/capchat_20241203_infer/x2paddle_code.py\", line 247, in forward\r\n        x2paddle__model_14_act_Relu_output_0 = self.relu39(x2paddle__model_14_conv_Conv_output_0)\r\n        x2paddle__model_11_Constant_output_0 = paddle.slice(input=x2paddle__model_11_Constant_output_0, axes=[0], starts=[2], ends=[4])\r\n        x2paddle__model_15_Upsample_output_0 = paddle.nn.functional.interpolate(x=x2paddle__model_14_act_Relu_output_0, scale_factor=x2paddle__model_11_Constant_output_0, mode='nearest', align_mode=1)\r\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ <--- HERE\r\n        x2paddle__model_16_Concat_output_0 = paddle.concat(x=[x2paddle__model_15_Upsample_output_0, x2paddle__model_4_cv3_act_Relu_output_0], axis=1)\r\n        x2paddle__model_17_cv1_conv_Conv_output_0 = self.conv44(x2paddle__model_16_Concat_output_0)\r\n\r\n    File \"/home/iotmp/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddle/nn/functional/common.py\", line 698, in interpolate\r\n        helper.append_op(\r\n    File \"/home/iotmp/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddle/fluid/layer_helper.py\", line 45, in append_op\r\n        return self.main_program.current_block().append_op(*args, **kwargs)\r\n    File \"/home/iotmp/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 4017, in append_op\r\n        op = Operator(\r\n    File \"/home/iotmp/anaconda3/envs/paddle_env/lib/python3.8/site-packages/paddle/fluid/framework.py\", line 3016, in __init__\r\n        self.desc.infer_shape(self.block.desc)\r\n\r\n    ValueError: (InvalidArgument) Scale's shape must be 2 or 1, but got shape = 0 .\r\n  [Hint: Expected scale_tensor_dim[0] == 2 || scale_tensor_dim[0] == 1 == true, but received scale_tensor_dim[0] == 2 || scale_tensor_dim[0] == 1:0 != true:1.] (at /paddle/paddle/phi/infermeta/multiary.cc:1514)\r\n  [operator < nearest_interp_v2 > error]\r\n\r\n- 错误截图\r\n![image](https://github.com/user-attachments/assets/f6b89629-b4f2-4433-9d16-e283063a8e44)\r\n\r\n## 具体信息\r\nonnx模型已经是去掉sacle_factor以及后处理部分，在转的是还会因为sacle_factor这个分支没有而报错，为什么呢，如何去掉呢\r\n- 转换模型后用处\r\n    - [ *] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：yolov5\r\n- 应用场景\r\n边缘端的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question: 2.4.2\r\nX2Paddle => :grey_question: 1.5.0\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\nmaiquanshen@haoyuntech.com",
        "state": "closed",
        "user": "maiquanshen",
        "closed_by": "luotao1",
        "created_at": "2024-12-04T04:27:15+00:00",
        "updated_at": "2024-12-13T02:52:23+00:00",
        "closed_at": "2024-12-13T02:52:23+00:00",
        "comments_count": [
            "maiquanshen"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1107,
        "title": "onnx模型转换成paddle，发生报错：",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n- 错误信息\r\n- 错误截图\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :grey_question:\r\nX2Paddle => :grey_question:\r\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "17858569330",
        "closed_by": null,
        "created_at": "2025-01-04T12:45:20+00:00",
        "updated_at": "2025-01-04T12:45:20+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1108,
        "title": "onnx模型转换成paddle，发生报错：AssertionError: only dilations = 0 is supported以及报错Exception: convert failed node:_stem_pool_MaxPool_output_0, op_type is MaxPool",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\nD:\\DESKTOP\\CVNet-main\r\nx2paddle --framework=onnx --model=CVNet_Rerank.onnx --save_dir=pd_model\r\nmodel ir_version: 6, op version: 11\r\nShape inferencing ...\r\n[WARNING] Incomplete symbolic shape inference\r\nShape inferenced.\r\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 11.\r\nTotal nodes: 1806\r\nNodes converting ...\r\nConverting node 1050 ...     Traceback (most recent call last):\r\n  File \"C:\\Users\\msipc\\.conda\\envs\\sam\\Lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 111, in run_mapping\r\n    res = func(*args, **kwargs)\r\n          ^^^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\msipc\\.conda\\envs\\sam\\Lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 1977, in MaxPool\r\n    assert node.get_attr(\r\n           ^^^^^^^^^^^^^^\r\nAssertionError: only dilations = 0 is supported\r\n\r\nDuring handling of the above exception, another exception occurred:\r\n\r\nTraceback (most recent call last):\r\n  File \"<frozen runpy>\", line 198, in _run_module_as_main\r\n  File \"<frozen runpy>\", line 88, in _run_code\r\n  File \"C:\\Users\\msipc\\.conda\\envs\\sam\\Scripts\\x2paddle.exe\\__main__.py\", line 7, in <module>\r\n  File \"C:\\Users\\msipc\\.conda\\envs\\sam\\Lib\\site-packages\\x2paddle\\convert.py\", line 501, in main\r\n    onnx2paddle(args.model,\r\n  File \"C:\\Users\\msipc\\.conda\\envs\\sam\\Lib\\site-packages\\x2paddle\\convert.py\", line 316, in onnx2paddle\r\n    mapper = ONNXOpMapper(model)\r\n             ^^^^^^^^^^^^^^^^^^^\r\n  File \"C:\\Users\\msipc\\.conda\\envs\\sam\\Lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\onnx_op_mapper.py\", line 53, in __init__\r\n    func(node)\r\n  File \"C:\\Users\\msipc\\.conda\\envs\\sam\\Lib\\site-packages\\x2paddle\\op_mapper\\onnx2paddle\\opset_legacy.py\", line 113, in run_mapping\r\n    raise Exception(\"convert failed node:{}, op_type is {}\".format(\r\nException: convert failed node:_stem_pool_MaxPool_output_0, op_type is MaxPool\r\n\r\n\r\n\r\n## 具体信息\r\n需要将CVNet的模型权重文件转换成paddle。\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\nhttps://github.com/sungonce/cvnet \r\n\r\n- 联系方式\r\n2578989436@qq.com\r\nxxy999030101@gmail.com\r\n17858560330\r\n",
        "state": "open",
        "user": "17858569330",
        "closed_by": null,
        "created_at": "2025-01-04T12:48:37+00:00",
        "updated_at": "2025-01-04T12:48:47+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1106,
        "title": " aten::tril_ ｜ PyTorchOpMapper ｜Model is not supported yet.",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\r\n\r\n## 问题描述\r\n\r\n to be incorrect. Recommended usage would be tensor.shape[0]. Passing a tensor of different shape might lead to errors or silently give incorrect results.\r\n  if len(presents) == 0:\r\n\r\n========= 1 OPs are not supported yet ===========\r\n========== aten::tril_ ============\r\nTraceback (most recent call last):\r\n  File \"/jfs/wangxueyang/codegeex4/git_paddle_run.py\", line 18, in <module>\r\n    pytorch2paddle(pt_model, save_dir , jit_type, [inputs[\"input_ids\"], inputs[\"attention_mask\"],inputs[\"position_ids\"]])\r\n  File \"/jfs/wangxueyang/conda/codegeex_9b_b/lib/python3.10/site-packages/x2paddle/convert.py\", line 399, in pytorch2paddle\r\n    mapper = PyTorchOpMapper(model)\r\n  File \"/jfs/wangxueyang/conda/codegeex_9b_b/lib/python3.10/site-packages/x2paddle/op_mapper/pytorch2paddle/pytorch_op_mapper.py\", line 44, in __init__\r\n    raise Exception(\"Model is not supported yet.\")\r\nException: Model is not supported yet.\r\n\r\n## 具体信息\r\n\r\n- 转换模型后用处\r\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\r\n    - [ ] 使用 Paddle-Lite 做移动端推理\r\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\r\n- 模型来源\r\ncodegeex4-all-9b：https://hf-mirror.com/THUDM/codegeex4-all-9b/tree/main\r\n- 应用场景\r\n用于移动端业务下的检测业务\r\n- 版本信息\r\nPaddlePaddle => :3.0.0b1:\r\nX2Paddle => :1.6.0:\r\n来源框架版本PyTorch=> :2.3.1:\r\n- 您的联系方式(邮箱/微信/电话)\r\n",
        "state": "open",
        "user": "dimensionplane",
        "closed_by": null,
        "created_at": "2024-12-30T03:08:57+00:00",
        "updated_at": "2024-12-31T07:17:16+00:00",
        "closed_at": null,
        "comments_count": [
            "megemini"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1111,
        "title": "--lite_vallid_places含义",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\n\n## 问题描述\n\n1. “opt 生成的模型只是标记了华为 Kirin NPU 支持的 Paddle 算子，并没有真正生成华为 Kirin NPU 模型”，这里标记的作用什么？（https://www.paddlepaddle.org.cn/lite/v2.12/demo_guides/huawei_kirin_npu.html）\n2.  opt工具的优化跟具体后端是绑定的吗？是否需要选则后端类型。  例如：子图融合，混合调度，kernel选优？\n3. 混合调度的具体含义是什么？\n\n## 具体信息\n\n- 转换模型后用处\n    - [x] 使用 Paddle-Lite 做移动端推理\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\n- 模型来源\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\n- 应用场景\n用于移动端业务下的检测业务\n- 版本信息\nPaddlePaddle => :grey_question:3.0.0\nX2Paddle => :1.6.0\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :onnx\n- 您的联系方式(邮箱/微信/电话)\n",
        "state": "open",
        "user": "laofuzi123321",
        "closed_by": null,
        "created_at": "2025-04-14T09:33:05+00:00",
        "updated_at": "2025-04-14T10:41:30+00:00",
        "closed_at": null,
        "comments_count": [
            "laofuzi123321"
        ],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1114,
        "title": "onnx_fp16转paddle报错（LSTM）",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\n\n## 问题描述\n将paddleocr转为onnx后转换为fp16，再通过x2paddle转换为paddle时出现错误\n- 错误信息\n- \n- 错误截图\n\n![Image](https://github.com/user-attachments/assets/ea8b925b-fed2-4821-9614-c4b4aca4a0cc)\n\n## 具体信息\n\n- 转换模型后用处\n    - [ ] 使用 Paddle 框架/ PaddleInference 推理预测\n    - [ ] 使用 Paddle-Lite 做移动端推理\n    - [ ] 转换预训练参数，再使用 Paddle 进行模型开发\n- 模型来源\nYOLOX：https://github.com/Megvii-BaseDetection/YOLOX\n- 应用场景\n用于移动端业务下的检测业务\n- 版本信息\nPaddlePaddle => :grey_question:\nX2Paddle => :grey_question:\n来源框架版本(PyTorch/TF/ONNX/Caffe) => :grey_question:\n- 您的联系方式(邮箱/微信/电话) 870796594@qq.com\n",
        "state": "open",
        "user": "catsled",
        "closed_by": null,
        "created_at": "2025-06-18T09:19:07+00:00",
        "updated_at": "2025-06-18T09:19:07+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1113,
        "title": "lightglue转换失败",
        "body": "有算子不支持要怎么修改，文档不是说x2paddle1.6.0支持onnx17吗\n\n## 问题描述\nroot@autodl-container-bdf4448313-53c1871e:~/autodl-tmp# x2paddle --framework=onnx --model=./model/superpoint_lightglue_pipeline.onnx --save_dir=pd_model --to_lite=True --lite_valid_places=arm --lite_model_type=naive_buffer\n/root/miniconda3/lib/python3.8/site-packages/paddle/utils/cpp_extension/extension_utils.py:711: UserWarning: No ccache found. Please be aware that recompiling all source files may be required. You can download and install ccache from: https://github.com/ccache/ccache/blob/master/doc/INSTALL.md\n  warnings.warn(warning_message)\nWARNING: OMP_NUM_THREADS set to 18, not 1. The computation speed will not be optimized if you use data parallel. It will fail if this PaddlePaddle binary is compiled with OpenBlas since OpenBlas does not support multi-threads.\nPLEASE USE OMP_NUM_THREADS WISELY.\n>>> onnx2paddle ...\nNow translating model from onnx to paddle.\nmodel ir_version: 8, op version: 17\nShape inferencing ...\n[WARNING] Incomplete symbolic shape inference\nShape inferenced.\nNow, onnx2paddle support convert onnx model opset_verison [7, 8, 9, 10, 11, 12, 13, 14, 15], opset_verison of your onnx model is 17.\n\n========= 2 OPs are not supported yet ===========\n========== LayerNormalization ============\n========== GridSample ============\nTraceback (most recent call last):\n  File \"/root/miniconda3/bin/x2paddle\", line 8, in <module>\n    sys.exit(main())\n  File \"/root/miniconda3/lib/python3.8/site-packages/x2paddle/convert.py\", line 504, in main\n    onnx2paddle(args.model,\n  File \"/root/miniconda3/lib/python3.8/site-packages/x2paddle/convert.py\", line 324, in onnx2paddle\n    mapper = ONNXOpMapper(model)\n  File \"/root/miniconda3/lib/python3.8/site-packages/x2paddle/op_mapper/onnx2paddle/onnx_op_mapper.py\", line 39, in __init__\n    raise Exception(\"Model is not supported yet.\")\nException: Model is not supported yet.\n\n## 具体信息\n\n- 转换模型后用处\n\n    使用 Paddle-Lite 做移动端推理\n\n- 模型来源\nlightglue：https://github.com/fabio-sim/LightGlue-ONNX.git\n- 应用场景\n用于移动端业务下的图像匹配\n- 版本信息\nPaddlePaddle => :PaddlePaddle 3.0.0, compiled with\n    with_avx: ON\n    with_gpu: OFF\n    with_mkl: ON\n    with_mkldnn: ON\n    with_python: ON\nX2Paddle => :1.6.0\n来源框架版本(ONNX) => :opset_version=17\nzhangpengfei0106@qq.com\n",
        "state": "open",
        "user": "zpf19045226",
        "closed_by": null,
        "created_at": "2025-04-25T12:43:07+00:00",
        "updated_at": "2025-04-25T12:43:07+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1115,
        "title": "Co-Detr模型转化，算子不支持",
        "body": "感谢您参与 X2Paddle 社区！ 问题模版为了 X2Paddle 能更好的迭代，例如新功能发布、 RoadMaps 和错误跟踪. :smile_cat:\n\n## 问题描述\n\n![Image](https://github.com/user-attachments/assets/b63aa844-ff38-4d3b-9ab2-a85f6d21c7d4)\n\n## 具体信息\n\n- 转换模型后用处\n    - [ ] 使用 Pytorh 框架训练 / PaddleInference 推理预测\n\n- 模型来源\nCo-detr: https://github.com/Sense-X/Co-DETR/tree/main\n \n- 应用场景\nXPU上目标检测\n\n- 版本信息\nPaddlePaddle => develop\nX2Paddle => 1.6.0\n- 联系方式：632821346@qq.com\n",
        "state": "open",
        "user": "SoSoSaMa",
        "closed_by": null,
        "created_at": "2025-07-03T09:30:40+00:00",
        "updated_at": "2025-07-03T09:30:40+00:00",
        "closed_at": null,
        "comments_count": [],
        "labels": []
    },
    {
        "repo": "PaddlePaddle/X2Paddle",
        "number": 1112,
        "title": "使用x2paddle转化unet.onnx模型成功，且PaddleInference库可成功编译，推理运行时报错。",
        "body": "\n## 问题描述\n\n基于mmsegmentation导出UNet算法的ONNX模型，使用x2paddle转化为pd模型，在使用PaddleInference库可正常载入模型，且模型编译成功，在推理运行时报错。\n\n- 错误信息\n\n`\n--- Running analysis [ir_graph_to_program_pass]\nI0424 17:43:15.819758 256200 analysis_predictor.cc:1838] ======= optimize end =======\nI0424 17:43:15.820374 256200 naive_executor.cc:200] ---  skip [feed], feed -> x2paddle_input\nI0424 17:43:15.821203 256200 naive_executor.cc:200] ---  skip [save_infer_model/scale_0.tmp_0], fetch -> fetch\nTraceback (most recent call last):\n  File \"/workspace/test/unet/xpu_test.py\", line 82, in <module>\n    xpu_pred.run()\nNotImplementedError: (Unimplemented) There are no kernels which are registered in the conv2d_xpu operator.\n  [Hint: Expected kernels_iter != all_op_kernels.end(), but received kernels_iter == all_op_kernels.end().] (at /workspace/Paddle/paddle/fluid/framework/operator.cc:2273)\n  [operator < conv2d_xpu > error]\n`\n\n## 具体信息\n\n- 转换模型后用处\n    - [ ] 使用 Paddle 框架/ PaddleInference 在昆仑芯R200上进行推理预测\n- 模型来源\n #mmsegmentation：https://github.com/open-mmlab/mmsegmentation/tree/main/configs/unet\n[ONNX及Paddle模型文件]( https://pan.baidu.com/s/1pvsw0qiMWA3Ut1lbcnhDIA?pwd=bapa) 提取码: bapa\n- 应用场景\n测试模型转化后的精度损失。\n- 版本信息\nPaddlePaddle => :2.6.1:\nX2Paddle => :1.5.0:\nONNX => :1.17.0:\nopset => :12:\n来源框架版本(PyTorch) => :1.13.0:\n- Czp_fj@163.com\n",
        "state": "closed",
        "user": "BJTULYF",
        "closed_by": "BJTULYF",
        "created_at": "2025-04-24T09:47:41+00:00",
        "updated_at": "2025-04-24T10:14:56+00:00",
        "closed_at": "2025-04-24T10:14:55+00:00",
        "comments_count": [],
        "labels": []
    }
]